<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Configuration
        | APM Go Agent Reference (Beta) [0.5]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="APM Go Agent Reference (Beta) [0.5]" /><link rel="up" href="index.html" title="APM Go Agent Reference (Beta) [0.5]" /><link rel="prev" href="instrumenting-source.html" title="Instrumenting Go Source Code" /><link rel="next" href="api.html" title="API Documentation" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/APM Go Agent/Reference/0.5" /><meta name="DC.subject" content="APM" /><meta name="DC.identifier" content="0.5" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">APM Go Agent Reference (Beta)
      [0.5]
    </a></span> » <span class="breadcrumb-node">Configuration</span></div><div class="navheader"><span class="prev"><a href="instrumenting-source.html">
              « 
              Instrumenting Go Source Code</a>
           
        </span><span class="next">
           
          <a href="api.html">API Documentation
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="configuration"></a>Configuration<a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>To adapt the Elastic APM Go agent to your needs, you can configure it using
environment variables.</p><p>By default, the agent will attempt to send data to the Elastic APM Server
at <code class="literal">http://localhost:8200</code>, to simplify development and testing. To send
data to an alternative location, you must configure
<a class="link" href="configuration.html#config-server-url" title="ELASTIC_APM_SERVER_URL">ELASTIC_APM_SERVER_URL</a>. Depending on the configuration
of your server, you may also need to set <a class="link" href="configuration.html#config-secret-token" title="ELASTIC_APM_SECRET_TOKEN">ELASTIC_APM_SECRET_TOKEN</a>
and <a class="link" href="configuration.html#config-verify-server-cert" title="ELASTIC_APM_VERIFY_SERVER_CERT">ELASTIC_APM_VERIFY_SERVER_CERT</a>. All other
variables have usable defaults.</p><h3><a id="config-server-url"></a><code class="literal">ELASTIC_APM_SERVER_URL</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVER_URL</code></p></td><td align="left" valign="top"><p><code class="literal">http://localhost:8200</code></p></td><td align="left" valign="top"><p><code class="literal">http://localhost:8200</code></p></td></tr></tbody></table></div><p>The URL for your Elastic APM server. The server supports both HTTP and HTTPS.
If you use HTTPS, then you may need to configure your client machines so
that the server certificate can be verified. You can also disable certificate
verification with <a class="xref" href="configuration.html#config-verify-server-cert" title="ELASTIC_APM_VERIFY_SERVER_CERT"><code class="literal">ELASTIC_APM_VERIFY_SERVER_CERT</code></a>.</p><h3><a id="config-server-timeout"></a><code class="literal">ELASTIC_APM_SERVER_TIMEOUT</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVER_TIMEOUT</code></p></td><td align="left" valign="top"><p><code class="literal">30s</code></p></td><td align="left" valign="top"><p><code class="literal">30s</code></p></td></tr></tbody></table></div><p>The timeout for requests made to your Elastic APM server. When set to zero
or a negative value, timeouts will be disabled.</p><h3><a id="config-secret-token"></a><code class="literal">ELASTIC_APM_SECRET_TOKEN</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SECRET_TOKEN</code></p></td><td align="left" valign="top"> </td><td align="left" valign="top"><p>"A random string"</p></td></tr></tbody></table></div><p>This string is used to ensure that only your agents can send data to your APM server.
Both the agents and the APM server have to be configured with the same secret token.</p><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>the secret token is sent as plain-text in every request to the server, so you
should also secure your communications using HTTPS. Unless you do so, your secret token
could be observed by an attacker.</p></div></div><h3><a id="config-service-name"></a><code class="literal">ELASTIC_APM_SERVICE_NAME</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVICE_NAME</code></p></td><td align="left" valign="top"><p>Executable name</p></td><td align="left" valign="top"><p><code class="literal">my-app</code></p></td></tr></tbody></table></div><p>The name of your service/application.  This is used to keep all the errors and
transactions of your service together and is the primary filter in the Elastic APM
user interface.</p><p>If you do not specify <code class="literal">ELASTIC_APM_SERVICE_NAME</code>, the Go agent will use the
executable name. e.g. if your executable is called "my-app.exe", then your
service will be identified as "my-app".</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The service name must conform to this regular expression: <code class="literal">^[a-zA-Z0-9 _-]+$</code>.
In other words: your service name must only contain characters from the ASCII
alphabet, numbers, dashes, underscores and spaces.</p></div></div><h3><a id="config-service-version"></a><code class="literal">ELASTIC_APM_SERVICE_VERSION</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVICE_VERSION</code></p></td><td align="left" valign="top"> </td><td align="left" valign="top"><p>A string indicating the version of the deployed service</p></td></tr></tbody></table></div><p>A version string for the currently deployed version of the service.
If you don’t version your deployments, the recommended value for this field is the commit identifier
of the deployed revision, e.g. the output of <code class="literal">git rev-parse HEAD</code>.</p><h3><a id="config-environment"></a><code class="literal">ELASTIC_APM_ENVIRONMENT</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_ENVIRONMENT</code></p></td><td align="left" valign="top"> </td><td align="left" valign="top"><p><code class="literal">"production"</code></p></td></tr></tbody></table></div><p>The name of the environment this service is deployed in, e.g. "production" or "staging".</p><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>the APM UI does not currently group services by environment, so metrics for
all environments will be combined. Consider changing the service name if you want to
see the metrics separated by environment. Alternatively, you can use the search bar
introduced with the 6.4 release.</p></div></div><h3><a id="config-active"></a><code class="literal">ELASTIC_APM_ACTIVE</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_ACTIVE</code></p></td><td align="left" valign="top"><p>true</p></td><td align="left" valign="top"><p><code class="literal">false</code></p></td></tr></tbody></table></div><p>Enable or disable the tracer. If set to false, then the Go agent does not send
any data to the Elastic APM server, and instrumentation overhead is minimized.</p><h3><a id="config-ignore-urls"></a><code class="literal">ELASTIC_APM_IGNORE_URLS</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_IGNORE_URLS</code></p></td><td align="left" valign="top"> </td><td align="left" valign="top"><p><code class="literal">/heartbeat|/_internal/.*</code></p></td></tr></tbody></table></div><p>A regular expression matching the request line of HTTP requests for which
transactions should not be reported.</p><p>The pattern specified in <code class="literal">ELASTIC_APM_IGNORE_URLS</code> is treated
case-insensitively by default. To override this behavior and match case-sensitively,
wrap the value like <code class="literal">(?-i:&lt;value&gt;)</code>. For a full definition of Go’s regular
expression syntax, see <a class="ulink" href="https://golang.org/pkg/regexp/syntax/" target="_top">https://golang.org/pkg/regexp/syntax/</a>.</p><h3><a id="config-sanitize-field-names"></a><code class="literal">ELASTIC_APM_SANITIZE_FIELD_NAMES</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SANITIZE_FIELD_NAMES</code></p></td><td align="left" valign="top"><p><code class="literal">password|passwd|pwd|secret|.*key|.*token|.*session.*|.*credit.*|.*card.*</code></p></td><td align="left" valign="top"><p><code class="literal">sekrits</code></p></td></tr></tbody></table></div><p>A regular expression matching the names of HTTP cookies and POST form fields to redact.</p><p>The pattern specified in <code class="literal">ELASTIC_APM_SANITIZE_FIELD_NAMES</code> is treated
case-insensitively by default. To override this behavior and match case-sensitively,
wrap the value like <code class="literal">(?-i:&lt;value&gt;)</code>. For a full definition of Go’s regular
expression syntax, see <a class="ulink" href="https://golang.org/pkg/regexp/syntax/" target="_top">https://golang.org/pkg/regexp/syntax/</a>.</p><h3><a id="config-capture-body"></a><code class="literal">ELASTIC_APM_CAPTURE_BODY</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_CAPTURE_BODY</code></p></td><td align="left" valign="top"><p><code class="literal">off</code></p></td></tr></tbody></table></div><p>For transactions that are HTTP requests, the Go agent can optionally capture the request body.</p><p>Possible values: <code class="literal">errors</code>, <code class="literal">transactions</code>, <code class="literal">all</code>, <code class="literal">off</code>.</p><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>request bodies often contain sensitive values like passwords, credit card numbers, etc.
If your service handles data like this, enable this feature with care.</p></div></div><h3><a id="config-hostname"></a><code class="literal">ELASTIC_APM_HOSTNAME</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /><col class="col_3" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th><th align="left" valign="top">Example</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_HOSTNAME</code></p></td><td align="left" valign="top"><p><code class="literal">os.Hostname()</code></p></td><td align="left" valign="top"><p><code class="literal">app-server01</code></p></td></tr></tbody></table></div><p>The host name to use when sending error and transaction data to the APM server.</p><h3><a id="config-flush-interval"></a><code class="literal">ELASTIC_APM_FLUSH_INTERVAL</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_FLUSH_INTERVAL</code></p></td><td align="left" valign="top"><p><code class="literal">10s</code></p></td></tr></tbody></table></div><p>Amount of time to wait before sending transactions to the Elastic APM server.
Transactions will be batched up and sent periodically. Errors are always sent
as soon as possible.</p><p>A lower value will increase the load on your APM server, while a higher value
can increase the memory pressure on your app. A higher value also impacts the
time until transactions are indexed and searchable in Elasticsearch.</p><h3><a id="config-transaction-max-spans"></a><code class="literal">ELASTIC_APM_TRANSACTION_MAX_SPANS</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TRANSACTION_MAX_SPANS</code></p></td><td align="left" valign="top"><p><code class="literal">500</code></p></td></tr></tbody></table></div><p>Limits the amount of spans that are recorded per transaction.</p><p>This is helpful in cases where a transaction creates a large number
of spans (e.g. thousands of SQL queries). Setting an upper limit will
prevent overloading the agent and the APM server with too much work
for such edge cases.</p><h3><a id="config-span-frames-min-duration-ms"></a><code class="literal">ELASTIC_APM_SPAN_FRAMES_MIN_DURATION</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SPAN_FRAMES_MIN_DURATION</code></p></td><td align="left" valign="top"><p><code class="literal">5ms</code></p></td></tr></tbody></table></div><p>The APM agent will collect a stack trace for every recorded span whose duration
exceeds this configured value. While this is very helpful to find the exact
place in your code that causes the span, collecting this stack trace does have
some processing and storage overhead.</p><h3><a id="config-max-queue-size"></a><code class="literal">ELASTIC_APM_MAX_QUEUE_SIZE</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_MAX_QUEUE_SIZE</code></p></td><td align="left" valign="top"><p><code class="literal">500</code></p></td></tr></tbody></table></div><p>Maximum queue length of transactions before sending transactions to the APM server.
A lower value will increase the load on your APM server, while a higher value can
increase the memory pressure of your app. A higher value also impacts the time until
transactions are indexed and searchable in Elasticsearch.</p><p>This setting is useful to limit memory consumption if you experience a sudden spike
of traffic. The queue will not grow beyond the configured size; once it has reached
capacity, old transactions are dropped in favour of new ones.</p><h3><a id="config-transaction-sample-rate"></a><code class="literal">ELASTIC_APM_TRANSACTION_SAMPLE_RATE</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TRANSACTION_SAMPLE_RATE</code></p></td><td align="left" valign="top"><p><code class="literal">1.0</code></p></td></tr></tbody></table></div><p>By default, the agent will sample every transaction (e.g. request to your service).
To reduce overhead and storage requirements, you can set the sample rate to a value
between <code class="literal">0.0</code> and <code class="literal">1.0</code>. We still record overall time and the result for unsampled
transactions, but no context information, tags, or spans.</p><h3><a id="config-verify-server-cert"></a><code class="literal">ELASTIC_APM_VERIFY_SERVER_CERT</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_VERIFY_SERVER_CERT</code></p></td><td align="left" valign="top"><p><code class="literal">true</code></p></td></tr></tbody></table></div><p>By default, the agent verifies the server’s certificate if you use an
HTTPS connection to the APM server. Verification can be disabled by
changing this setting to <code class="literal">false</code>.</p><h3><a id="config-debug"></a><code class="literal">ELASTIC_APM_DEBUG</code><a href="https://github.com/elastic/apm-agent-go/edit/0.5/docs/configuration.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Environment</th><th align="left" valign="top">Default</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">ELASTIC_APM_DEBUG</code></p></td><td align="left" valign="top"> </td></tr></tbody></table></div><p><code class="literal">ELASTIC_APM_DEBUG</code> can be used to debug issues with the Elastic APM Go agent
or your instrumentation. The value should be a comma-separated list of key=value
debug directives. Currently we support just one: <code class="literal">tracetransport=1</code>.</p><p>By setting <code class="literal">ELASTIC_APM_DEBUG="tracetransport=1"</code>, the Go agent will log all
transport calls to the terminal.</p></div><div class="navfooter"><span class="prev"><a href="instrumenting-source.html">
              « 
              Instrumenting Go Source Code</a>
           
        </span><span class="next">
           
          <a href="api.html">API Documentation
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>

  
            <script type="text/javascript" src="/guide/static/docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
