<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Metrics | APM Node.js Agent Reference [4.x] | Elastic</title>
<meta class="elastic" name="content" content="Metrics | APM Node.js Agent Reference [4.x]">

<link rel="home" href="index.html" title="APM Node.js Agent Reference [4.x]"/>
<link rel="up" href="index.html" title="APM Node.js Agent Reference [4.x]"/>
<link rel="prev" href="span-api.html" title="Span API"/>
<link rel="next" href="logs.html" title="Logs"/>
<meta class="elastic" name="product_version" content="4.x"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Node.js Agent/Reference/4.x"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="4.x"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="icon" href="/favicon.ico" sizes="32x32"/>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180"/>
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="span-api.html">« <code class="literal">Span</code> API</a>
</span>
<span class="next">
<a href="logs.html">Logs »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">Node.js Agent Reference<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/observability/current/apm.html">Observability › APM</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">AWS Lambda extension</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Metrics</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/reference/apm/agents/nodejs/metrics">latest documentation</a>.
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="metrics"></a>Metrics</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
</div></div></div>
<p>The Node.js agent tracks various system and application metrics.
These metrics will be sent regularly to the APM Server and from there to Elasticsearch.
You can adjust the interval by setting <a class="xref" href="configuration.html#metrics-interval" title="metricsInterval"><code class="literal">metricsInterval</code></a>.</p>
<p>The metrics will be stored in the <code class="literal">apm-*</code> index and have the <code class="literal">processor.event</code> property set to <code class="literal">metric</code>.</p>
<div class="position-relative"><h3><a id="metric-system.cpu.total.norm.pct"></a><code class="literal">system.cpu.total.norm.pct</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Float
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Percent
</li>
</ul>
</div>
<p>The percentage of CPU time in states other than Idle and IOWait,
normalized by the number of cores.</p>
<div class="position-relative"><h3><a id="metric-system.memory.total"></a><code class="literal">system.memory.total</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Bytes
</li>
</ul>
</div>
<p>The total memory of the system in bytes.</p>
<div class="position-relative"><h3><a id="metric-system.memory.actual.free"></a><code class="literal">system.memory.actual.free</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Bytes
</li>
</ul>
</div>
<p>Free memory of the system in bytes.</p>
<div class="position-relative"><h3><a id="metric-system.process.cpu.total.norm.pct"></a><code class="literal">system.process.cpu.total.norm.pct</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Float
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Percent
</li>
</ul>
</div>
<p>The percentage of CPU time spent by the process since the last event.
This value is normalized by the number of CPU cores and it ranges from 0 to 100%.</p>
<div class="position-relative"><h3><a id="metric-system.process.memory.rss.bytes"></a><code class="literal">system.process.memory.rss.bytes</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Bytes
</li>
</ul>
</div>
<p>The Resident Set Size,
the amount of memory the process occupies in main memory (RAM).</p>
<div class="position-relative"><h3><a id="metric-nodejs.handles.active"></a><code class="literal">nodejs.handles.active</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Counter
</li>
</ul>
</div>
<p>The number of active libuv handles,
likely held open by currently running I/O operations.</p>
<div class="position-relative"><h3><a id="metric-nodejs.requests.active"></a><code class="literal">nodejs.requests.active</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Counter
</li>
</ul>
</div>
<p>The number of active libuv requests,
likely waiting for a response to an I/O operation.</p>
<div class="position-relative"><h3><a id="metric-system.process.cpu.user.norm.pct"></a><code class="literal">system.process.cpu.user.norm.pct</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Counter
</li>
</ul>
</div>
<p>The number of CPU cycles spent executing application code.</p>
<div class="position-relative"><h3><a id="metric-system.process.cpu.system.norm.pct"></a><code class="literal">system.process.cpu.system.norm.pct</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Counter
</li>
</ul>
</div>
<p>The number of CPU cycles spent executing kernel code as a result of application activity.</p>
<div class="position-relative"><h3><a id="metric-nodejs.eventloop.delay.avg.ms"></a><code class="literal">nodejs.eventloop.delay.avg.ms</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Float
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Milliseconds
</li>
</ul>
</div>
<p>The number of milliseconds of event loop delay.
Event loop delay is sampled every 10 milliseconds.
Delays shorter than 10ms may not be observed,
for example if a blocking operation starts and ends within the same sampling period.</p>
<div class="position-relative"><h3><a id="metric-nodejs.memory.heap.allocated.bytes"></a><code class="literal">nodejs.memory.heap.allocated.bytes</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Bytes
</li>
</ul>
</div>
<p>The current allocated heap size in bytes.</p>
<div class="position-relative"><h3><a id="metric-nodejs.memory.heap.used.bytes"></a><code class="literal">nodejs.memory.heap.used.bytes</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Bytes
</li>
</ul>
</div>
<p>The currently used heap size in bytes.</p>
<div class="position-relative"><h3><a id="metric-nodejs.memory.external.bytes"></a><code class="literal">nodejs.memory.external.bytes</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Bytes
</li>
</ul>
</div>
<p>Memory usage of C++ objects bound to JavaScript objects managed by V8.</p>
<div class="position-relative"><h3><a id="metric-nodejs.memory.arrayBuffers.bytes"></a><code class="literal">nodejs.memory.arrayBuffers.bytes</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Bytes
</li>
</ul>
</div>
<p>Memory allocated for ArrayBuffers and SharedArrayBuffers, including all Node.js Buffers.
This is also included in the <code class="literal">nodejs.memory.external.bytes</code> value.</p>
<div class="position-relative"><h3><a id="metrics-span.self_time.sum"></a><code class="literal">span.self_time.sum</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Milliseconds
</li>
</ul>
</div>
<p>The sum of all span self-times in milliseconds since the last report (the delta).
The <code class="literal">span.self_time.*</code> metrics are referred to as "breakdown metrics".</p>
<p>You can filter and group by these dimensions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">transaction.name</code>: The name of the transaction
</li>
<li class="listitem">
<code class="literal">transaction.type</code>: The type of the transaction, for example <code class="literal">request</code>
</li>
<li class="listitem">
<code class="literal">span.type</code>: The type of the span, for example <code class="literal">app</code>, <code class="literal">template</code> or <code class="literal">db</code>
</li>
<li class="listitem">
<code class="literal">span.subtype</code>: The sub-type of the span, for example <code class="literal">mysql</code> (optional)
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="metrics-span.self_time.count"></a><code class="literal">span.self_time.count</code></h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-nodejs/edit/do-not-delete_legacy-docs/docs/metrics.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Type:</strong></span> Long
</li>
<li class="listitem">
<span class="strong strong"><strong>Format:</strong></span> Counter
</li>
</ul>
</div>
<p>You can filter and group by these dimensions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">transaction.name</code>: The name of the transaction
</li>
<li class="listitem">
<code class="literal">transaction.type</code>: The type of the transaction, for example <code class="literal">request</code>
</li>
<li class="listitem">
<code class="literal">span.type</code>: The type of the span, for example <code class="literal">app</code>, <code class="literal">template</code> or <code class="literal">db</code>
</li>
<li class="listitem">
<code class="literal">span.subtype</code>: The sub-type of the span, for example <code class="literal">mysql</code> (optional)
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="span-api.html">« <code class="literal">Span</code> API</a>
</span>
<span class="next">
<a href="logs.html">Logs »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
