<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Configuration | APM Python Agent Reference (Beta) [1.x] | Elastic</title>
<link rel="home" href="index.html" title="APM Python Agent Reference (Beta) [1.x]"/>
<link rel="up" href="index.html" title="APM Python Agent Reference (Beta) [1.x]"/>
<link rel="prev" href="getting-started.html" title="Getting started"/>
<link rel="next" href="django-support.html" title="Django Support"/>
<meta name="DC.type" content="Learn/Docs/APM Python Agent/Reference/1.x"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="1.x"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
You are looking at preliminary documentation for a beta release.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
    <div class="related-products-title">APM:</div>
    <div class="dropdown-anchor" tabindex="0">Python Agent Reference (Beta)<span class="dropdown-icon"></span></div>
    <div class="dropdown-content">
      <ul>
        <li class="dropdown-category">APM</li>
        <ul>
          <li><a href="/guide/en/apm/guide/current/apm-overview.html">User Guide</a></li>
        </ul>
        <li class="dropdown-category">APM agents</li>
        <ul>
          <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
          <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
          <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
          <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
          <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
          <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
          <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
          <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
          <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
          <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
        </ul>
        <li class="dropdown-category">APM extensions</li>
        <ul>
          <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">Monitoring AWS Lambda Functions</a></li>
          <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
        </ul>
      </ul>
    </div>
  </div>
</span>
</div>
<div class="navheader">
<span class="prev">
<a href="getting-started.html">« Getting started</a>
</span>
<span class="next">
<a href="django-support.html">Django Support »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="configuration"></a>Configuration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h1>
</div></div></div>
<p>To adapt the Elastic APM agent to your needs, you can configure it using environment variables, or framework specific
configuration.</p>
<h3><a id="django-configuration"></a>Django<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h3>
<p>To configure Django, add an <code class="literal">ELASTIC_APM</code> dictionary to your <code class="literal">settings.py</code>:</p>
<div class="pre_wrapper lang-python">
<pre class="programlisting prettyprint lang-python">ELASTIC_APM = {
    'APP_NAME': 'my-app',
    'SECRET_TOKEN': 'changeme',
}</pre>
</div>
<h3><a id="flask-configuration"></a>Flask<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h3>
<p>To configure Flask, add an <code class="literal">ELASTIC_APM</code> dictonary to your <code class="literal">app.config</code>:</p>
<div class="pre_wrapper lang-python">
<pre class="programlisting prettyprint lang-python">app.config['ELASTIC_APM'] = {
    'APP_NAME': 'my-app',
    'SECRET_TOKEN': 'changeme',
}

apm = ElasticAPM(app)</pre>
</div>
<h3><a id="required-options"></a>Required options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h3>
<h4><a id="config-app-name"></a><code class="literal">app_name</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_APP_NAME</code></p></td>
<td align="left" valign="top"><p><code class="literal">APP_NAME</code></p></td>
<td align="left" valign="top"><p><code class="literal">None</code></p></td>
<td align="left" valign="top"><p><code class="literal">my-app</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>The name of your app.
This is used to keep all the errors and transactions of your app together
and is the primary filter in the Elastic APM user interface.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The app name must conform to this regular expression: <code class="literal">^[a-zA-Z0-9 _-]+$</code>.
In less regexy terms:
Your app name must only contain characters from the ASCII alphabet, numbers, dashes, underscores and spaces.</p>
</div>
</div>
<h4><a id="config-server-url"></a><code class="literal">server_url</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SERVER_URL</code></p></td>
<td align="left" valign="top"><p><code class="literal">SERVER_URL</code></p></td>
<td align="left" valign="top"><p><code class="literal">'http://localhost:8200'</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>The URL for your APM Server.
The URL must be fully qualified, including protocol (<code class="literal">http</code> or <code class="literal">https</code>) and port.</p>
<h4><a id="config-transport-class"></a><code class="literal">transport_class</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Environment</p></td>
<td align="left" valign="top"><p>Django/Flask</p></td>
<td align="left" valign="top"><p>Default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TRANSPORT_CLASS</code></p></td>
<td align="left" valign="top"><p><code class="literal">TRANSPORT_CLASS</code></p></td>
<td align="left" valign="top"><p><code class="literal">elasticapm.transport.http.AsyncTransport</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>The transport class to use when sending events to the APM server.
The default <code class="literal">AsyncTransport</code> uses a background thread to send data.
If your environment doesn&#8217;t allow background threads, you can use
<code class="literal">elasticapm.transport.http.Transport</code> instead.
Note however that this can have adverse effects on performance.</p>
<h3><a id="other-options"></a>Other options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h3>
<h4><a id="config-secret-token"></a><code class="literal">secret_token</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_SECRET_TOKEN</code></p></td>
<td align="left" valign="top"><p><code class="literal">SECRET_TOKEN</code></p></td>
<td align="left" valign="top"><p><code class="literal">None</code></p></td>
<td align="left" valign="top"><p>A random string</p></td>
</tr>
</tbody>
</table>
</div>
<p>This string is used to ensure that only your agents can send data to your APM server.
Both the agents and the APM server have to be configured with the same secret token.
One example to generate a secure secret token is:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">python -c "import uuid; print(str(uuid.uuid4()))"</pre>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>secret tokens only provide any security if your APM server use TLS.</p>
</div>
</div>
<h4><a id="config-app-version"></a><code class="literal">app_version</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_APP_VERSION</code></p></td>
<td align="left" valign="top"><p><code class="literal">APP_VERSION</code></p></td>
<td align="left" valign="top"><p><code class="literal">None</code></p></td>
<td align="left" valign="top"><p>A string indicating the version of the deployed app</p></td>
</tr>
</tbody>
</table>
</div>
<p>A version string for the currently deployed version of the app.
If you don&#8217;t version your deployments,
the recommended value for this field is the commit identifier of the deployed revision, e.g. the output of <code class="literal">git rev-parse HEAD</code>.</p>
<h4><a id="config-framework-name"></a><code class="literal">framework_name</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_FRAMEWORK_NAME</code></p></td>
<td align="left" valign="top"><p><code class="literal">FRAMEWORK_NAME</code></p></td>
<td align="left" valign="top"><p>Depending on framework</p></td>
</tr>
</tbody>
</table>
</div>
<p>Name of the used framework.
For Django and Flask, this defaults to <code class="literal">django</code> and <code class="literal">flask</code> respectively,
otherwise, the default is <code class="literal">None</code>.</p>
<h4><a id="config-framework-version"></a><code class="literal">framework_version</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_FRAMEWORK_VERSION</code></p></td>
<td align="left" valign="top"><p><code class="literal">FRAMEWORK_VERSION</code></p></td>
<td align="left" valign="top"><p>Depending on framework</p></td>
</tr>
</tbody>
</table>
</div>
<p>Version number of the used framework.
For Django and Flask, this defaults to the used version of the framework,
otherwise, the default is <code class="literal">None</code>.</p>
<h4><a id="config-filter-exception-types"></a><code class="literal">filter_exception_types</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_FILTER_EXCEPTION_TYPES</code></p></td>
<td align="left" valign="top"><p><code class="literal">FILTER_EXCEPTION_TYPES</code></p></td>
<td align="left" valign="top"><p><code class="literal">[]</code></p></td>
<td align="left" valign="top"><p><code class="literal">['OperationalError', 'mymodule.SomeoneElsesProblemError']</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>multiple values separated by commas, without spaces</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>A list of exception types to be filtered.
Exceptions of these types will not be sent to the APM server.</p>
<h4><a id="config-transactions-ignore-patterns"></a><code class="literal">transactions_ignore_patterns</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TRANSACTIONS_IGNORE_PATTERNS</code></p></td>
<td align="left" valign="top"><p><code class="literal">TRANSACTIONS_IGNORE_PATTERNS</code></p></td>
<td align="left" valign="top"><p><code class="literal">[]</code></p></td>
<td align="left" valign="top"><p><code class="literal">['^OPTIONS ', 'myviews.Healthcheck']</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>multiple values separated by commas, without spaces</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>A list of regular expressions.
Transactions that match any of the of the configured patterns will be ignored and not sent to the APM server.</p>
<h4><a id="config-timeout"></a><code class="literal">timeout</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TIMEOUT</code></p></td>
<td align="left" valign="top"><p><code class="literal">TIMEOUT</code></p></td>
<td align="left" valign="top"><p><code class="literal">5</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>A timeout in seconds.
If a request to the APM server takes longer than the configured timeout,
the request is cancelled and the event (exception or transaction) is discarded.
Set to <code class="literal">None</code> to disable timeouts.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>If timeouts are disabled or set to a high value,
your app could experience memory issues if the APM server times out.</p>
</div>
</div>
<h4><a id="config-hostname"></a><code class="literal">hostname</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_HOSTNAME</code></p></td>
<td align="left" valign="top"><p><code class="literal">HOSTNAME</code></p></td>
<td align="left" valign="top"><p><code class="literal">socket.gethostname()</code></p></td>
<td align="left" valign="top"><p><code class="literal">app-server01.example.com</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>The host name to use when sending error and transaction data to the APM server.</p>
<h4><a id="config-auto-log-stacks"></a><code class="literal">auto_log_stacks</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Environment</th>
<th align="left" valign="top">Django/Flask</th>
<th align="left" valign="top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_AUTO_LOG_STACKS</code></p></td>
<td align="left" valign="top"><p><code class="literal">AUTO_LOG_STACKS</code></p></td>
<td align="left" valign="top"><p><code class="literal">True</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>set to <code class="literal">"true"</code> / <code class="literal">"false"</code></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>If set to <code class="literal">True</code> (the default), the agent will add a stack trace to each log event,
indicating where the log message has been issued.</p>
<p>This setting can be overridden on an individual basis by setting the <code class="literal">extra</code>-key <code class="literal">stack</code>:</p>
<div class="pre_wrapper lang-python">
<pre class="programlisting prettyprint lang-python">logger.info('something happened', extra={'stack': False})</pre>
</div>
<h4><a id="config-traces-send-frequency"></a><code class="literal">traces_send_frequency</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Environment</p></td>
<td align="left" valign="top"><p>Django/Flask</p></td>
<td align="left" valign="top"><p>Default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_TRACES_SEND_FREQ</code></p></td>
<td align="left" valign="top"><p><code class="literal">TRACES_SEND_FREQ</code></p></td>
<td align="left" valign="top"><p><code class="literal">60</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>Interval with which transactions should be sent to the APM server, in seconds.
A lower value will increase the load on your APM server,
while a higher value can increase the memory pressure of your app.
A higher value also impacts the time until transactions are indexed and searchable in Elasticsearch.</p>
<h4><a id="config-max-event-queue-length"></a><code class="literal">max_event_queue_length</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Environment</p></td>
<td align="left" valign="top"><p>Django/Flask</p></td>
<td align="left" valign="top"><p>Default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_MAX_EVENT_QUEUE_LENGTH</code></p></td>
<td align="left" valign="top"><p><code class="literal">MAX_EVENT_QUEUE_LENGTH</code></p></td>
<td align="left" valign="top"><p><code class="literal">500</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>Maximum queue length of transactions before sending transactions to the APM server.
A lower value will increase the load on your APM server,
while a higher value can increase the memory pressure of your app.
A higher value also impacts the time until transactions are indexed and searchable in Elasticsearch.</p>
<p>This setting is useful to limit memory consumption if you experience a sudden spike of traffic.</p>
<h4><a id="config-processors"></a><code class="literal">processors</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Environment</p></td>
<td align="left" valign="top"><p>Django/Flask</p></td>
<td align="left" valign="top"><p>Default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_PROCESSORS</code></p></td>
<td align="left" valign="top"><p><code class="literal">PROCESSORS</code></p></td>
<td align="left" valign="top"><p><code class="literal">['elasticapm.processors.sanitize_stacktrace_locals',
                                              'elasticapm.processors.sanitize_http_request_cookies',
                                              'elasticapm.processors.sanitize_http_headers',
                                              'elasticapm.processors.sanitize_http_wsgi_env',
                                              'elasticapm.processors.sanitize_http_request_querystring',
                                              'elasticapm.processors.sanitize_http_request_body']</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>A list of processors to process transactions and errors.
For more information, see <a class="xref" href="sanitizing-data.html" title="Sanitizing data">Sanitizing Data</a>.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>We recommend to always include the default set of validators if you customize this setting.</p>
</div>
</div>
<h4><a id="config-include-paths"></a><code class="literal">include_paths</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Environment</p></td>
<td align="left" valign="top"><p>Django/Flask</p></td>
<td align="left" valign="top"><p>Default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_INCLUDE_PATHS</code></p></td>
<td align="left" valign="top"><p><code class="literal">INCLUDE_PATHS</code></p></td>
<td align="left" valign="top"><p>Depending on framework</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>multiple values separated by commas, without spaces</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>A set of module paths that should be considered when detecting if a stacktrace frame is a library frame or an "in-app" frame.
For Django, the default set is the list of <code class="literal">INSTALLED_APPS</code>, but without <code class="literal">django.contrib</code> apps.
For Flask, it&#8217;s the app module.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>for a given module path, all sub-modules will also match. E.g. <code class="literal">foo.bar</code> also matches for <code class="literal">foo.bar.baz</code>.</p>
</div>
</div>
<h4><a id="config-exclude-paths"></a><code class="literal">exclude_paths</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Environment</p></td>
<td align="left" valign="top"><p>Django/Flask</p></td>
<td align="left" valign="top"><p>Default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_EXCLUDE_PATHS</code></p></td>
<td align="left" valign="top"><p><code class="literal">EXCLUDE_PATHS</code></p></td>
<td align="left" valign="top"><p>Depending on framework</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>multiple values separated by commas, without spaces</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>A set of module paths that should be considered when excluding a frame from being detected as an in-app frame.
<code class="literal">exclude_paths</code> <span class="strong strong"><strong>takes precedence</strong></span> over <code class="literal">include_paths</code>.</p>
<p>For Django, the default is set to <code class="literal">{'elasticapm', 'django'}</code>.
Everywhere else, the default is <code class="literal">set(['elasticapm'])</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>for a given module path, all sub-modules will also match. E.g. <code class="literal">foo.bar</code> also matches for <code class="literal">foo.bar.baz</code>.</p>
</div>
</div>
<h4><a id="config-debug"></a><code class="literal">debug</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Environment</p></td>
<td align="left" valign="top"><p>Django/Flask</p></td>
<td align="left" valign="top"><p>Default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_DEBUG</code></p></td>
<td align="left" valign="top"><p><code class="literal">DEBUG</code></p></td>
<td align="left" valign="top"><p><code class="literal">False</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>If your app is in debug mode (e.g. in Django with <code class="literal">settings.DEBUG = True</code> or in Flask with <code class="literal">app.debug = True</code>),
the agent won&#8217;t send any data to the APM server. You can override it by changing this setting to <code class="literal">True</code>.</p>
<h4><a id="config-disable-send"></a><code class="literal">disable_send</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Environment</p></td>
<td align="left" valign="top"><p>Django/Flask</p></td>
<td align="left" valign="top"><p>Default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_DISABLE_SEND</code></p></td>
<td align="left" valign="top"><p><code class="literal">DISABLE_SEND</code></p></td>
<td align="left" valign="top"><p><code class="literal">False</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>If set to <code class="literal">True</code>, the agent won&#8217;t send any events to the APM server, independent of any debug state.</p>
<h4><a id="config-disable-instrumentation"></a><code class="literal">disable_instrumentation</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Environment</p></td>
<td align="left" valign="top"><p>Django/Flask</p></td>
<td align="left" valign="top"><p>Default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_DISABLE_INSTRUMENTATION</code></p></td>
<td align="left" valign="top"><p><code class="literal">DISABLE_INSTRUMENTATION</code></p></td>
<td align="left" valign="top"><p><code class="literal">False</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>If set to <code class="literal">True</code>, the agent won&#8217;t instrument any code.
This disables most of the tracing functionality, but can be useful to debug possible instrumentation issues.</p>
<h4><a id="config-verify-server-cert"></a><code class="literal">verify_server_cert</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-python/edit/1.x/docs/configuration.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Environment</p></td>
<td align="left" valign="top"><p>Django/Flask</p></td>
<td align="left" valign="top"><p>Default</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_VERIFY_SERVER_CERT</code></p></td>
<td align="left" valign="top"><p><code class="literal">VERIFY_SERVER_CERT</code></p></td>
<td align="left" valign="top"><p><code class="literal">True</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>By default, the agent verifies the SSL certificate if you use an HTTPS connection to the APM server.
Verification can be disabled by changing this setting to <code class="literal">False</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>SSL certificate verification is only available in Python 2.7.9+ and Python 3.4.3+.</p>
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="getting-started.html">« Getting started</a>
</span>
<span class="next">
<a href="django-support.html">Django Support »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
