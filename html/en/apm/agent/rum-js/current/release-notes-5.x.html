<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>RUM JS Agent version 5.x | APM Real User Monitoring JavaScript Agent Reference [5.x] | Elastic</title>
<meta class="elastic" name="content" content="RUM JS Agent version 5.x | APM Real User Monitoring JavaScript Agent Reference [5.x]">

<link rel="home" href="index.html" title="APM Real User Monitoring JavaScript Agent Reference [5.x]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes.html" title="Release notes"/>
<link rel="next" href="release-notes-4.x.html" title="RUM JS Agent version 4.x"/>
<meta class="elastic" name="product_version" content="5.x"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Real User Monitoring JavaScript Agent/Reference/5.x"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="5.x"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">Real User Monitoring JavaScript Agent Reference<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/apm/guide/current/apm-overview.html">User Guide</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">Monitoring AWS Lambda Functions</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-4.x.html">RUM JS Agent version 4.x »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-5.x"></a>RUM JS Agent version 5.x<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.12.0"></a>5.12.0 (2022-06-14)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce new config option <a class="xref" href="configuration.html#send-credentials" title="sendCredentials"><code class="literal">sendCredentials</code></a>. This allows the agent to send cookies to APM servers
that are behind reverse proxies that need requests to be authenticated: <a href="https://github.com/elastic/apm-agent-rum-js/pull/1238" class="ulink" target="_top">#1238</a>
</li>
<li class="listitem">
Agent now warns users if they provide non-existent config options when initializing it: <a href="https://github.com/elastic/apm-agent-rum-js/pull/1230" class="ulink" target="_top">#1230</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_bug_fixes"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Capture the stacktrace of a SyntaxError triggered because of a malformed JavaScript code. Before this fix the agent was capturing an empty stacktrace: <a href="https://github.com/elastic/apm-agent-rum-js/pull/1239" class="ulink" target="_top">#1239</a>
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.11.1"></a>5.11.1 (2022-05-16)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_2"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Span&#8217;s outcome is now set to <code class="literal">Unknown</code> when a Fetch/XHR request is aborted. The outcome can be found in the metadata information of the span details in APM UI: <a href="https://github.com/elastic/apm-agent-rum-js/pull/1211" class="ulink" target="_top">#1211</a>
</li>
<li class="listitem">
Allow users the ability to disable compression for the events sent to APM server. This is helpful for debugging purposes while inspecting via Devtools and also for generating HAR file. Please see our <a class="xref" href="troubleshooting.html#disable-events-payload-compression" title="Disable events payload compression">troubleshooting</a> guide for more information: <a href="https://github.com/elastic/apm-agent-rum-js/pull/1214" class="ulink" target="_top">#1214</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_bug_fixes_2"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The instrumentation of fetch API consumes a response as a readable stream properly. Before this fix the related span was being ended on the start of the response rather than on the end of it: <a href="https://github.com/elastic/apm-agent-rum-js/pull/1213" class="ulink" target="_top">#1213</a>
</li>
<li class="listitem">
Agent now can listen to all click events on the page. Users can enable/disable click instrumentation via <code class="literal">disableInstrumentation: ["click"]</code>. <code class="literal">eventtarget</code> instrumentation flag will be deprecated in favor of <code class="literal">click</code> and will be removed in the future releases: <a href="https://github.com/elastic/apm-agent-rum-js/pull/1219" class="ulink" target="_top">#1219</a>
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.11.0"></a>5.11.0 (2022-04-20)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_3"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Events are now beaconed when the user abandons or backgrounds the page, this makes sure the agent never miss an event. Before this change it was only sending them every interval configurable via <code class="literal">flushInterval</code>. Unsupported browsers: Firefox, IE11: <a href="https://github.com/elastic/apm-agent-rum-js/pull/1146" class="ulink" target="_top">#1146</a>
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Transactions based on the <a class="xref" href="supported-technologies.html" title="Supported Technologies">supported technologies</a> and <a class="xref" href="custom-transactions.html#custom-managed-transactions" title="Creating a Managed transaction">custom managed transactions</a> are the only ones taken into account.</p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>rum-vue:</strong></span> Introduce script setup syntax support: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1194" class="ulink" target="_top">#1194</a>
</li>
<li class="listitem">
Override reuse threshold when redefining a transaction. This will permit the agent not to miss data on slow network connections: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1196" class="ulink" target="_top">#1196</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_bug_fixes_3"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Report Largest Contentful Paint (LCP) properly. Before this fix the agent was not giving the browser enough time to capture LCP entries that are post on-load: <a href="https://github.com/elastic/apm-agent-rum-js/pull/1190" class="ulink" target="_top">#1190</a>
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.10.2"></a>5.10.2 (2022-02-03)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_bug_fixes_4"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
create user-interaction transactions based on the element on which the event occurred rather than the element on which the event handler has been attached.
All web applications that rely on event delegation will benefit from this: <a href="https://github.com/elastic/apm-agent-rum-js/issues/969" class="ulink" target="_top">#969</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.10.1"></a>5.10.1 (2022-01-10)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_4"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>rum-core:</strong></span> update Cumulative layout shift(CLS) calculation following the new guidelines from Google: <code class="literal">maximum session window with 1 second gap, capped at 5 seconds.</code>: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1033" class="ulink" target="_top">#1033</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_bug_fixes_5"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>rum-angular:</strong></span> recover compatibility with Angular 9.0.x: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1115" class="ulink" target="_top">#1115</a>
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.10.0"></a>5.10.0 (2021-12-07)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_5"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce new config option <code class="literal">serverUrlPrefix</code> to make the APM server URL configurable: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1078" class="ulink" target="_top">#1078</a>
</li>
<li class="listitem">
Expose Transaction, Span, TransactionOptions and SpanOptions types definition: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1045" class="ulink" target="_top">#1045</a> and <a href="https://github.com/elastic/apm-agent-rum-js/issues/995" class="ulink" target="_top">#995</a>
</li>
<li class="listitem">
Set the values to empty string for deprecated span destination metrics: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1098" class="ulink" target="_top">#1098</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_bug_fixes_6"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Check the existence of navigation timing data when compressing transaction marks: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1104" class="ulink" target="_top">#1104</a>
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.9.1"></a>5.9.1 (2021-07-15)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_bug_fixes_7"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Validate <code class="literal">apmRequest</code> function is called for every request sent to the APM server
when compression is enabled: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1055" class="ulink" target="_top">#1055</a>
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.9.0"></a>5.9.0 (2021-07-13)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_6"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for <a class="xref" href="configuration.html#apm-request" title="apmRequest">apmRequest configuration</a> that allows users to pass a custom
function that can be used to modify the request sent to the APM server: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1018" class="ulink" target="_top">#1018</a>
</li>
<li class="listitem">
Support for React 17 is made available via <code class="literal">@elastic/apm-rum-react</code> package: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1031" class="ulink" target="_top">#1031</a>
</li>
<li class="listitem">
Support for Angular 12 is made available via <code class="literal">@elastic/apm-rum-angular</code> package: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1028" class="ulink" target="_top">#1028</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_bug_fixes_8"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update incorrect typings for adding labels to transaction and spans: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1017" class="ulink" target="_top">#1017</a>
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.8.0"></a>5.8.0 (2021-04-19)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_7"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
First draft of session information is added for <code class="literal">page-load</code> Transactions (disabled by default): <a href="https://github.com/elastic/apm-agent-rum-js/issues/634" class="ulink" target="_top">#634</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.7.2"></a>5.7.2 (2021-04-02)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_bug_fixes_9"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Transaction marks for the APM server V3 spec was mapped to incorrect field which resulted in Kibana
User Expererience App missing some of the core data. This only affects users who had set config
<code class="literal">apiVersion</code> &gt; 2: <a href="https://github.com/elastic/apm-agent-rum-js/issues/1007" class="ulink" target="_top">#1007</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.7.1"></a>5.7.1 (2021-03-17)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_bug_fixes_10"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Discard buffered longtasks spans from page load transactions getting added to subsequent route change and other auto auto-instrumented transactions resulting in incorrect start time for those transactions: <a href="https://github.com/elastic/apm-agent-rum-js/issues/989" class="ulink" target="_top">#989</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.7.0"></a>5.7.0 (2021-03-15)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_8"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support regular expression for detecting distributed tracing origins (<code class="literal">distributedTracingOrigins</code>): <a href="https://github.com/elastic/apm-agent-rum-js/issues/943" class="ulink" target="_top">#943</a>
</li>
<li class="listitem">
Capture buffered longtask entries: <a href="https://github.com/elastic/apm-agent-rum-js/issues/964" class="ulink" target="_top">#964</a>
</li>
<li class="listitem">
Expose agent configuration TypeScript definition: <a href="https://github.com/elastic/apm-agent-rum-js/issues/979" class="ulink" target="_top">#979</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.6.3"></a>5.6.3 (2021-02-02)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_9"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Propagate sampling weight through tracestate header: <a href="https://github.com/elastic/apm-agent-rum-js/issues/845" class="ulink" target="_top">#845</a>
</li>
<li class="listitem">
Add necessary scripts to load test APM server with RUM payload: <a href="https://github.com/elastic/apm-agent-rum-js/issues/948" class="ulink" target="_top">#948</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_11"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle null reason in promise rejection event: <a href="https://github.com/elastic/apm-agent-rum-js/issues/940" class="ulink" target="_top">#940</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.6.2"></a>5.6.2 (2020-11-06)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_10"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add transaction sampling rate precision which ensures <code class="literal">transaction_sample_rate</code> configuration option
has a maximum precision of 4 decimal places: <a href="https://github.com/elastic/apm-agent-rum-js/issues/927" class="ulink" target="_top">#927</a>
</li>
<li class="listitem">
Add <code class="literal">outcome</code> field to applicable transactions and spans that is used by the APM UI for displaying
the error rate chart: <a href="https://github.com/elastic/apm-agent-rum-js/issues/904" class="ulink" target="_top">#904</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.6.1"></a>5.6.1 (2020-09-29)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_11"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Longtasks are now aggregated under the experience field to make querying faster: <a href="https://github.com/elastic/apm-agent-rum-js/issues/900" class="ulink" target="_top">#900</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_12"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Check for a Webkit Navigation timing API bug is added to avoid having incorrect navigation marks: <a href="https://github.com/elastic/apm-agent-rum-js/issues/903" class="ulink" target="_top">#903</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.6.0"></a>5.6.0 (2020-09-17)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_12"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add new method signaturtes to the exported type definitions: <a href="https://github.com/elastic/apm-agent-rum-js/issues/890" class="ulink" target="_top">#890</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_13"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Frameworks should not be automatically instrumented when the apm is inactive : <a href="https://github.com/elastic/apm-agent-rum-js/issues/885" class="ulink" target="_top">#885</a>
</li>
<li class="listitem">
Add default XHR timeout for compressed requests to APM server: <a href="https://github.com/elastic/apm-agent-rum-js/issues/897" class="ulink" target="_top">#897</a>
</li>
<li class="listitem">
Measure First Input Delay metrics properly for page load transactions: <a href="https://github.com/elastic/apm-agent-rum-js/issues/899" class="ulink" target="_top">#899</a>
</li>
</ul>
</div>
<h5><a id="_performance_improvements"></a>Performance Improvements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve the span creation time when there is an active transaction on page: <a href="https://github.com/elastic/apm-agent-rum-js/issues/883" class="ulink" target="_top">#883</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.5.0"></a>5.5.0 (2020-08-18)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_13"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Provide an API to block all auto instrumented transactions created by the agent through
<code class="literal">transaction.block</code> method. Users can also use the <code class="literal">startSpan</code> API to create blocking spans
to control this behaviour: <a href="https://github.com/elastic/apm-agent-rum-js/issues/866" class="ulink" target="_top">#866</a>
</li>
<li class="listitem">
Expose options to create blocking spans from the agent API via <code class="literal">startSpan</code>: <a href="https://github.com/elastic/apm-agent-rum-js/issues/875" class="ulink" target="_top">#875</a>
</li>
<li class="listitem">
Capture Cumulative layout shift(CLS), Total blocking time(TBT) and First input delay(FID) as
part of experience metrics under page-load transactions: <a href="https://github.com/elastic/apm-agent-rum-js/issues/838" class="ulink" target="_top">#838</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_14"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Track various XHR states like timeouts, errors and aborts and end all managed
transactions correctly: <a href="https://github.com/elastic/apm-agent-rum-js/issues/871" class="ulink" target="_top">#871</a>
</li>
<li class="listitem">
Fix inconsistencies in the XHR timings by removing the task scheduling logic: <a href="https://github.com/elastic/apm-agent-rum-js/issues/871" class="ulink" target="_top">#871</a>
</li>
<li class="listitem">
Accept the user provided <code class="literal">logLevel</code> configuration when agent is not active: <a href="https://github.com/elastic/apm-agent-rum-js/issues/861" class="ulink" target="_top">#861</a>
</li>
<li class="listitem">
Opentracing Tracer should return Noop on unsupported platforms: <a href="https://github.com/elastic/apm-agent-rum-js/issues/872" class="ulink" target="_top">#872</a>s
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.4.0"></a>5.4.0 (2020-07-29)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_14"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Agent now uses the new CompressionStream API available on modern browsers to
gzip compress the payload sent to the APM server. This yields a huge reduction of
around ~96% in the payload size for an example web application when compared with the v3
specification: <a href="https://github.com/elastic/apm-agent-rum-js/issues/572" class="ulink" target="_top">#572</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.3.0"></a>5.3.0 (2020-07-06)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_15"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduced better grouping strategy for all managed transactions based on the
current browser&#8217;s location by default instead of grouping all transactions
under <code class="literal">UNKNOWN</code> category: <a href="https://github.com/elastic/apm-agent-rum-js/issues/827" class="ulink" target="_top">#827</a>
</li>
<li class="listitem">
Capture XHR, Fetch calls as spans that happened before the agent script is
downloaded using the browser&#8217;s Resource Timing API: <a href="https://github.com/elastic/apm-agent-rum-js/issues/825" class="ulink" target="_top">#825</a>
</li>
<li class="listitem">
Populate <code class="literal">span.destination.*</code> context fields for Navigation Timing span that
denotes the HTML downloading phase: <a href="https://github.com/elastic/apm-agent-rum-js/issues/829" class="ulink" target="_top">#829</a>
</li>
<li class="listitem">
Use Page Visibility API to discard transactions if the page was backgrounded
at any point during the lifetime of the transaction: <a href="https://github.com/elastic/apm-agent-rum-js/issues/295" class="ulink" target="_top">#295</a>
</li>
<li class="listitem">
Add <code class="literal">apiVersion</code> config to TypeScript typings: <a href="https://github.com/elastic/apm-agent-rum-js/issues/833" class="ulink" target="_top">#833</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.2.1"></a>5.2.1 (2020-06-24)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_16"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for path array in <code class="literal">&lt;ApmRoute&gt;</code> React component that associates
the transaction based on the mounted path: <a href="https://github.com/elastic/apm-agent-rum-js/issues/702" class="ulink" target="_top">#702</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_15"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Capture Total Blocking Time (TBT) only after all longtask entries
are observed: <a href="https://github.com/elastic/apm-agent-rum-js/issues/803" class="ulink" target="_top">#803</a>
</li>
<li class="listitem">
Do not capture page load transaction marks when the NavigationTiming data from
the browsers are not trustable: <a href="https://github.com/elastic/apm-agent-rum-js/issues/818" class="ulink" target="_top">#818</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.2.0"></a>5.2.0 (2020-05-28)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_17"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Agent now supports compressing events payload sent to the APM server
via new configuration <a class="xref" href="configuration.html#api-version" title="apiVersion">apiVersion</a>. It yeilds a huge reduction of
around ~45% in the payload size for average sized web pages: <a href="https://github.com/elastic/apm-agent-rum-js/issues/768" class="ulink" target="_top">#768</a>
</li>
<li class="listitem">
Capture First Input Delay(FID) as Span for page-load transaction: <a href="https://github.com/elastic/apm-agent-rum-js/issues/732" class="ulink" target="_top">#732</a>
</li>
<li class="listitem">
Capture Total Blocking Time(TBT) as Span for page-load transaction: <a href="https://github.com/elastic/apm-agent-rum-js/issues/781" class="ulink" target="_top">#781</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_16"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow setting labels before agent is initialized: <a href="https://github.com/elastic/apm-agent-rum-js/issues/780" class="ulink" target="_top">#780</a>
</li>
<li class="listitem">
Use single instance of apm across all packages: <a href="https://github.com/elastic/apm-agent-rum-js/issues/791" class="ulink" target="_top">#791</a>
</li>
<li class="listitem">
User defined types for managed transactions are considered of
high precedence: <a href="https://github.com/elastic/apm-agent-rum-js/issues/758" class="ulink" target="_top">#758</a>
</li>
<li class="listitem">
Add span subtype information in payload without camelcasing: <a href="https://github.com/elastic/apm-agent-rum-js/issues/753" class="ulink" target="_top">#753</a>
</li>
<li class="listitem">
Treat truncated spans percentage as regular span in
breakdown calculation: <a href="https://github.com/elastic/apm-agent-rum-js/issues/776" class="ulink" target="_top">#776</a>
</li>
</ul>
</div>
<h5><a id="_performance_improvements_2"></a>Performance Improvements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refactor ServiceFactory class to use constant service names: <a href="https://github.com/elastic/apm-agent-rum-js/issues/238" class="ulink" target="_top">#238</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.1.1"></a>5.1.1 (2020-04-15)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_18"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Performance Observer is used to measure FirstContentfulPaint Metric: <a href="https://github.com/elastic/apm-agent-rum-js/issues/731" class="ulink" target="_top">#731</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_17"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid full component re-rerender when query params are updated on current
<code class="literal">ApmRoute</code> inside child components: <a href="https://github.com/elastic/apm-agent-rum-js/issues/748" class="ulink" target="_top">#748</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.1.0"></a>5.1.0 (2020-04-08)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_19"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Route change transactions now includes the browsers next paint frame: <a href="https://github.com/elastic/apm-agent-rum-js/issues/404" class="ulink" target="_top">#404</a>
</li>
<li class="listitem">
Support differential loading with Angular CLI: <a href="https://github.com/elastic/apm-agent-rum-js/issues/607" class="ulink" target="_top">#607</a>
</li>
</ul>
</div>
<h5><a id="_performance_improvements_3"></a>Performance Improvements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reduced the bundle size by modifying the random number generator algorithm: <a href="https://github.com/elastic/apm-agent-rum-js/issues/705" class="ulink" target="_top">#705</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_18"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle when errors are thrown in unsupported browsers: <a href="https://github.com/elastic/apm-agent-rum-js/issues/707" class="ulink" target="_top">#707</a>
</li>
<li class="listitem">
Captured API calls are duplicated as spans in IE: <a href="https://github.com/elastic/apm-agent-rum-js/issues/723" class="ulink" target="_top">#723</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.0.0"></a>5.0.0 (2020-03-18)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_breaking_changes"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The agent now uses the official W3C traceparent header to propagate trace context: <a href="https://github.com/elastic/apm-agent-rum-js/issues/477" class="ulink" target="_top">#477</a>
</li>
<li class="listitem">
The agent name is changed from <code class="literal">js-base</code> to <code class="literal">rum-js</code>: <a href="https://github.com/elastic/apm-agent-rum-js/issues/379" class="ulink" target="_top">#379</a>
</li>
<li class="listitem">
Global labels are only added to metadata to improve payload size: <a href="https://github.com/elastic/apm-agent-rum-js/issues/618" class="ulink" target="_top">#618</a>
</li>
<li class="listitem">
Labels now accept Boolean and Number types: <a href="https://github.com/elastic/apm-agent-rum-js/issues/272" class="ulink" target="_top">#272</a>
</li>
<li class="listitem">
Simplify configuration by removing and/or merging config options: <a href="https://github.com/elastic/apm-agent-rum-js/issues/628" class="ulink" target="_top">#628</a>
</li>
<li class="listitem">
<code class="literal">addTags</code> method is removed in favour of <code class="literal">addLabels</code>: <a href="https://github.com/elastic/apm-agent-rum-js/issues/215" class="ulink" target="_top">#215</a>
</li>
</ul>
</div>
<p>Please see our <a class="xref" href="upgrade-to-v5.html" title="Upgrade to version 5.x">Upgrade to version 5.x</a> guide for more information.</p>
<h5><a id="_features_20"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/5.x/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Monitor longtasks by default during active transaction: <a href="https://github.com/elastic/apm-agent-rum-js/issues/601" class="ulink" target="_top">#601</a>
</li>
<li class="listitem">
Set sync field only for synchronous spans: <a href="https://github.com/elastic/apm-agent-rum-js/issues/619" class="ulink" target="_top">#619</a>
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-4.x.html">RUM JS Agent version 4.x »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
