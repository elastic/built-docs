<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Upgrade to APM Server version 6.5 | APM User Guide [7.16] | Elastic</title>
<meta class="elastic" name="content" content="Upgrade to APM Server version 6.5 | APM User Guide [7.16]">

<link rel="home" href="index.html" title="APM User Guide [7.16]"/>
<link rel="up" href="upgrade-to-legacy-apm.html" title="Upgrade to legacy versions of Elastic APM"/>
<link rel="prev" href="upgrading-to-70.html" title="Upgrade to APM Server version 7.0"/>
<link rel="next" href="release-notes.html" title="Release notes"/>
<meta class="elastic" name="product_version" content="7.16"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Guide/7.16"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="7.16"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">User Guide<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/apm/guide/current/apm-overview.html">User Guide</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">Monitoring AWS Lambda Functions</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="upgrade.html">Upgrade</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="upgrade-to-legacy-apm.html">Upgrade to legacy versions of Elastic APM</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="upgrading-to-70.html">« Upgrade to APM Server version 7.0</a>
</span>
<span class="next">
<a href="release-notes.html">Release notes »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="upgrading-to-65"></a>Upgrade to APM Server version 6.5<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h3>
</div></div></div>

<p>If you&#8217;re an advanced user, are implementing a custom agent,
or provide custom data to Elasticsearch,
there are some changes in APM Server version 6.5 that you should be aware of.</p>
<p>None of the changes in APM Server v6.5 are breaking changes,
and the APM Server is still compatible with your currently implemented agents.
However, to take advantage of new features,
it&#8217;s recommended you read about the changes below and update accordingly.
If you&#8217;d like to continue using the deprecated Intake API and Elasticsearch Schema,
you can view <a href="/guide/en/apm/server/6.4/overview.html" class="ulink" target="_top">previous documentation</a>.</p>
<h3><a id="upgrade-steps-65"></a>Upgrade Steps<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Upgrade the Elastic Stack: <a href="/guide/en/elasticsearch/reference/7.16/setup-upgrade.html" class="ulink" target="_top">Elasticsearch</a>,
<a href="/guide/en/kibana/7.16/upgrade.html" class="ulink" target="_top">Kibana</a>,
and APM Server.
</li>
<li class="listitem">
Upgrade your <a href="/guide/en/apm/agent/index.html" class="ulink" target="_top">APM Agent</a>.
</li>
</ol>
</div>
<p>Check the <a class="xref" href="agent-server-compatibility.html" title="APM agent compatibility">APM agent compatibility</a> for more details on which APM agents are compatible with APM Server version 6.5.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must upgrade the APM Server before upgrading your APM Agent.
New agents do not support APM Server &lt;6.5 and will not work if you upgrade in the wrong order.</p>
</div>
</div>
<h3><a id="intake-api-changes-65"></a>Intake API Changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h3>
<p>The Intake API is what we call the internal protocol that APM agents use to talk to the APM Server.
This API has been redesigned in 6.5 to increase the memory efficiency and predictability of the APM Server and APM agents.</p>
<p>Notably, most of the endpoints associated with this API have been deprecated,
and replaced with a new endpoint: <code class="literal">intake/v2/events</code>.</p>
<p>Similarly,
the <a class="xref" href="configuration-rum.html" title="Configure Real User Monitoring (RUM)">RUM</a> endpoint has been deprecated and replaced with a new endpoint: <code class="literal">intake/v2/rum/events</code>.</p>
<p>Details about these changes,
and the information you can send to the new endpoint,
is available in the <a class="xref" href="events-api.html" title="Events Intake API">Events API</a> documentation.</p>
<h4><a id="metadata-api-changes-65"></a>Metadata<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h4>
<p>Metadata is now sent to the APM Server only once per request.
APM Server will retain this information and apply it to the applicable documents when it writes to Elasticsearch.</p>
<p>Metadata should be sent to the new <code class="literal">intake/v2/events</code> endpoint.
See the <a class="xref" href="metadata-api.html" title="Metadata">metadata documentation</a> for more information.</p>
<h4><a id="error-api-changes-65"></a>Error<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h4>
<p>The error schema adds three new properties, and deprecates two others.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>deprecate</em> pattern of <code class="literal">error.id</code>, change format to hex encoded 64 random bits
</li>
<li class="listitem">
<em>deprecate</em> <code class="literal">transaction.id</code>
</li>
<li class="listitem">
<em>add</em> <code class="literal">transaction_id</code> (required, hex encoded 64 random bits)
</li>
<li class="listitem">
<em>add</em> <code class="literal">parent_id</code> (optional, hex encoded 64 random bits)
</li>
<li class="listitem">
<em>add</em> <code class="literal">trace_id</code> (optional, hex encoded 128 random bits)
</li>
</ul>
</div>
<p>Error events should be sent to the new <code class="literal">intake/v2/events</code> endpoint.
See the <a class="xref" href="error-api.html#error-schema" title="Error Schema">error schema documentation</a> for more information.</p>
<h4><a id="transaction-api-changes-65"></a>Transaction<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h4>
<p>The transaction schema adds two new properties, and deprecates two others.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>deprecate</em> pattern of <code class="literal">transaction.id</code>, change format to hex encoded 64 random bits
</li>
<li class="listitem">
<em>deprecate</em> spans (don&#8217;t forbid them, just don&#8217;t process them)
</li>
<li class="listitem">
<em>add</em> <code class="literal">parent_id</code> (optional, hex encoded 64 random bits string)
</li>
<li class="listitem">
<em>add</em> <code class="literal">trace_id</code> (required, hex encoded 128 random bits)
</li>
</ul>
</div>
<p>Transaction events should be sent to the new <code class="literal">intake/v2/events</code> endpoint.
See the <a class="xref" href="transaction-api.html#transaction-schema" title="Transaction Schema">transaction schema documentation</a> for more information.</p>
<h4><a id="span-api-changes-65"></a>Span<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h4>
<p>The span schema adds three new properties, removes two, and changes one.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>change</em> pattern of <code class="literal">id</code> to hex encoded 64 random bits
</li>
<li class="listitem">
<em>deprecate</em> pattern of <code class="literal">transaction_id</code>
</li>
<li class="listitem">
<em>deprecate</em> use of <code class="literal">parent</code>
</li>
<li class="listitem">
<em>add</em> <code class="literal">parent_id</code> (required, hex encoded 64 random bits)
</li>
<li class="listitem">
<em>add</em> <code class="literal">trace_id</code> (required, hex encoded 128 random bits)
</li>
<li class="listitem">
<em>add</em> <code class="literal">timestamp</code>
</li>
</ul>
</div>
<p>Span events should be sent to the new <code class="literal">intake/v2/events</code> endpoint.
See the <a class="xref" href="span-api.html#span-schema" title="Span Schema">span schema documentation</a> for more information.</p>
<h4><a id="healthcheck-api-changes-65"></a>Healthcheck Endpoint<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h4>
<p>The Healthcheck endpoint, previously <code class="literal">/healthcheck</code>, has been deprecated.
The <a class="xref" href="server-info.html" title="Server Information API">server information</a> api has replaced it.</p>
<h4><a id="assets-api-changes-65"></a>Assets Endpoint<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h4>
<p>The assets endpoint, <code class="literal">/v1/rum/sourcemaps</code> has been deprecated,
and replaced with the endpoint: <code class="literal">/assets/v1/sourcemaps</code>.
The data format remains unchanged.</p>
<h4><a id="metrics-api-changes-65"></a>Metricsets Endpoint<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h4>
<p>The Metricsets endpoint, previously <code class="literal">/v1/metrics</code>,
has also integrated with the new intake endpoint at <code class="literal">/intake/v2/events</code>.
There are two changes to be aware of:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Timestamps are now UTC based and formatted as microseconds since Unix epoch.
</li>
<li class="listitem">
The <code class="literal">metrics.enabled</code> setting has been deprecated and only applies to <code class="literal">v1/metrics</code>.
Metricsets can&#8217;t be disabled in v2.
</li>
</ul>
</div>
<p>See the <a class="xref" href="metricset-api.html" title="Metrics">metricset schema</a> for more information.</p>
<h3><a id="server-config-changes-65"></a>Server Configuration Changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h3>
<p>There are some configuration changes that are worth mentioning.</p>
<p>Deprecated configuration options:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">max_unzipped_size</code>
</li>
<li class="listitem">
<code class="literal">max_request_queue_time</code>
</li>
</ul>
</div>
<p>New configuration options:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="configuration-process.html#max_event_size" title="max_event_size"><code class="literal">max_event_size</code></a> with a default value: <code class="literal">307200</code> bytes. You may notice this default value is much smaller than the deprecated <code class="literal">max_unzipped_size</code> default value. This is because <code class="literal">max_unzipped_size</code> referred to the whole request, while <code class="literal">max_event_size</code> only refers to a single event within the request.
</li>
</ul>
</div>
<p>Notable options:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="configuration-process.html#read_timeout" title="read_timeout"><code class="literal">read_timeout</code></a> and <a class="xref" href="configuration-process.html#write_timeout" title="write_timeout"><code class="literal">write_timeout</code></a> remain at 30 seconds,
but if you have a load balancer in front of the APM server you may notice connections are a little bit longer lived than they used to be.
</li>
</ul>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are updating APM Server from version 6.3 or earlier,
you may not be using an updated <code class="literal">apm-server.yml</code> configuration file. Update your <code class="literal">apm-server.yml</code> configuration file to take advantage of new configuration options.</p>
</div>
</div>
<p>RUM configuration changes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="configuration-rum.html#event_rate.limit" title="event_rate.limit"><code class="literal">event_rate.limit</code></a> has replaced the deprecated <code class="literal">rate_limit</code>. In v1 of the intake API, the RUM rate limiter was bound to the number of <em>requests</em> per second, per IP. In v2, the rate limiter has changed to be bound to the number of <em>events</em> sent per second, per IP.
</li>
</ul>
</div>
<h3><a id="es-schema-changes-65"></a>Elasticsearch Schema Changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h3>
<p>The Elasticsearch schema defines how APM data is stored in Elasticsearch.
There have been a number of changes to the Elasticsearch schema for 6.5.</p>
<p>An important change to note is the addition of the <code class="literal">trace</code> and <code class="literal">parent</code> keys,
which have been added to errors, transactions, and spans.
Both only hold a field <code class="literal">id</code>.
These new keys are essential to taking advantage of APM&#8217;s new <a class="xref" href="apm-distributed-tracing.html" title="Distributed tracing">Distributed tracing</a> feature.</p>
<h4><a id="es-error-changes-65"></a>Error<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h4>
<p>The Elasticsearch error schema adds two new keys:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>add</em> <code class="literal">trace.id</code>
</li>
<li class="listitem">
<em>add</em> <code class="literal">parent.id</code>
</li>
</ul>
</div>
<p>View the sample Elasticsearch <a class="xref" href="error-indices.html" title="Example error documents">error document</a> for more information.</p>
<h4><a id="es-transaction-changes-65"></a>Transaction<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h4>
<p>The Elasticsearch transaction schema adds two new keys:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>add</em> <code class="literal">trace.id</code>
</li>
<li class="listitem">
<em>add</em> <code class="literal">parent.id</code>
</li>
</ul>
</div>
<p>View the sample Elasticsearch <a class="xref" href="transaction-indices.html" title="Example transaction documents">transaction document</a> for more information.</p>
<h4><a id="es-span-changes-65"></a>Span<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/7.16/docs/upgrading-to-65.asciidoc">edit</a></h4>
<p>The Elasticsearch span schema adds three new keys, and deprecates two:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>add</em> <code class="literal">trace.id</code>
</li>
<li class="listitem">
<em>add</em> <code class="literal">parent.id</code>
</li>
<li class="listitem">
<em>add</em> <code class="literal">hex_id</code>
</li>
<li class="listitem">
<em>deprecate</em> <code class="literal">parent</code> long
</li>
<li class="listitem">
<em>deprecate</em> <code class="literal">id</code> long
</li>
</ul>
</div>
<p>View the sample Elasticsearch <a class="xref" href="span-indices.html" title="Example span documents">span document</a> for more information.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="upgrading-to-70.html">« Upgrade to APM Server version 7.0</a>
</span>
<span class="next">
<a href="release-notes.html">Release notes »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
