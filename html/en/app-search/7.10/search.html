<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Search API | Elastic App Search Documentation [7.10] | Elastic</title>
<link rel="home" href="index.html" title="Elastic App Search Documentation [7.10]"/>
<link rel="up" href="api-reference.html" title="API Reference"/>
<link rel="prev" href="schema.html" title="Schema API"/>
<link rel="next" href="boosts.html" title="Search API boosts"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/7.10"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="7.10"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic App Search Documentation [7.10]</a></span>
»
<span class="breadcrumb-link"><a href="api-reference.html">API Reference</a></span>
»
<span class="breadcrumb-node">Search API</span>
</div>
<div class="navheader">
<span class="prev">
<a href="schema.html">« Schema API</a>
</span>
<span class="next">
<a href="boosts.html">Search API boosts »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="search"></a>Search API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.10/app-search-docs/api-reference/search.asciidoc">edit</a></h2>
</div></div></div>
<p>Submit a search and receive a set of results with meta data.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">GET /api/as/v1/engines/&lt;engine_name&gt;/search</pre>
</div>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">POST /api/as/v1/engines/&lt;engine_name&gt;/search</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-api-request-body"></a>Request body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.10/app-search-docs/api-reference/search.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">query</code> (required)
</span>
</dt>
<dd>
<p>String or number to match.</p>
<p>The value <code class="literal">''</code> (empty string) matches all documents. (Note that API limits for documents returned applies. See <a class="xref" href="search.html#search-api-response-body" title="Response body">Response body</a> for more details.)</p>
<p>The following Lucene query syntax is supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
double quoted strings
</li>
<li class="listitem">
<code class="literal">+</code> and <code class="literal">-</code>
</li>
<li class="listitem">
<code class="literal">AND</code>, <code class="literal">OR</code>, and <code class="literal">NOT</code>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">page</code> (optional)
</span>
</dt>
<dd>
<p>Object to delimit the pagination parameters.</p>
</dd>
<dt>
<span class="term">
<code class="literal">page.size</code> (optional)
</span>
</dt>
<dd>
<p>Number of results per page.</p>
<p>Must be greater than or equal to <code class="literal">1</code> and less than or equal to <code class="literal">1000</code>.</p>
<p>Defaults to <code class="literal">10</code>.</p>
<p>See <a class="xref" href="search-guide.html#search-guide-paginate" title="Paginate search results">Paginate search results</a> for implementation guidance.</p>
</dd>
<dt>
<span class="term">
<code class="literal">page.current</code> (optional)
</span>
</dt>
<dd>
<p>Page number of results to return.</p>
<p>Must be greater than or equal to <code class="literal">1</code> and less than or equal to <code class="literal">100</code>.</p>
<p>Defaults to <code class="literal">1</code>.</p>
<p>See <a class="xref" href="search-guide.html#search-guide-paginate" title="Paginate search results">Paginate search results</a> for implementation guidance.</p>
</dd>
<dt>
<span class="term">
<code class="literal">sort</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="sort.html" title="Search API sort">Search API sort</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">group</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="grouping.html" title="Search API group">Search API group</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">facets</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="facets.html" title="Search API facets">Search API facets</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">filters</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="filters.html" title="Search API filters">Search API filters</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">boosts</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="boosts.html" title="Search API boosts">Search API boosts</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">search_fields</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="search-fields-weights.html" title="Search API search fields">Search API search fields</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">result_fields</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="result-fields-highlights.html" title="Search API result fields">Search API result fields</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">analytics.tags</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="tags.html" title="Search API analytics tags">Search API analytics tags</a>.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-api-response-body"></a>Response body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.10/app-search-docs/api-reference/search.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">results</code>
</span>
</dt>
<dd>
<p>Array of results matching the search.</p>
<p>Each result includes a document and meta data.</p>
<p>Array is empty when you paginate beyond 10,000 results.</p>
<p>See <a class="xref" href="search-guide.html#search-guide-paginate" title="Paginate search results">Paginate search results</a> for implementation guidance.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta</code>
</span>
</dt>
<dd>
<p>Object delimiting the results meta data.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.request_id</code>
</span>
</dt>
<dd>
<p>String ID representing the request. Guaranteed to be unique.</p>
<p>Use the ID with the <a class="xref" href="api-logs.html" title="API logs API">API logs API</a> to search for API requests.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.warnings</code>
</span>
</dt>
<dd>
<p>Array of warnings for the query.</p>
<p>Included with error responses <em>and</em> success responses, so inspect all responses for warnings.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.alerts</code>
</span>
</dt>
<dd>
<p>Array of alerts for your deployment.</p>
<p>Included with error responses <em>and</em> success responses, so inspect all responses for alerts.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.page</code>
</span>
</dt>
<dd>
<p>Object delimiting the pagination meta data.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.page.current</code>
</span>
</dt>
<dd>
<p>Number representing the current page of results.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.page.size</code>
</span>
</dt>
<dd>
<p>Number representing the results per page.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.page.total_pages</code>
</span>
</dt>
<dd>
<p>Number representing the total pages of results.</p>
<p>Value is <code class="literal">0</code> when you paginate beyond 10,000 results.</p>
<p>See <a class="xref" href="search-guide.html#search-guide-paginate" title="Paginate search results">Paginate search results</a> for implementation guidance.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.page.total_results</code>
</span>
</dt>
<dd>
<p>Number representing the total results across all pages.</p>
<p>The values <code class="literal">0</code> through <code class="literal">9999</code> are exact counts.</p>
<p>The value <code class="literal">10000</code> is a pseudo keyword representing <em>greater than or equal to 10,000 results</em>.</p>
<p>See <a class="xref" href="search-guide.html#search-guide-display-total" title="Display the total number of search results">Display the total number of search results</a> and <a class="xref" href="search-guide.html#search-guide-count-documents" title="Count the documents within an engine">Count the documents within an engine</a> for implementation guidance.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-api-examples"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.10/app-search-docs/api-reference/search.asciidoc">edit</a></h3>
</div></div></div>
<p>Request:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl -X POST 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/national-parks-demo/search' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8' \
-d '{
  "query": "everglade"
}'</pre>
</div>
<p>Response:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "meta": {
    "warnings": [],
    "request_id": "2992570ab570b581ac6c457bddf68835",
    "page": {
      "total_pages": 1,
      "size": 10,
      "current": 1,
      "total_results": 3
    },
    "alerts": []
  },
  "results": [
    {
      "world_heritage_site": {
        "raw": "true"
      },
      "states": {
        "raw": [
          "Florida"
        ]
      },
      "location": {
        "raw": "25.32,-80.93"
      },
      "nps_link": {
        "raw": "https://www.nps.gov/ever/index.htm"
      },
      "acres": {
        "raw": 1508968.1
      },
      "date_established": {
        "raw": "1934-05-30T05:00:00+00:00"
      },
      "title": {
        "raw": "Everglades"
      },
      "visitors": {
        "raw": 930907
      },
      "square_km": {
        "raw": 6106.6
      },
      "description": {
        "raw": "The Everglades are the largest tropical wilderness in the United States. This mangrove and tropical rainforest ecosystem and marine estuary is home to 36 protected species, including the Florida panther, American crocodile, and West Indian manatee. Some areas have been drained and developed; restoration projects aim to restore the ecology."
      },
      "_meta": {
        "score": 1396363.1
      },
      "id": {
        "raw": "park_everglades"
      }
    },
    # ... More documents (truncated)
  ]
}</pre>
</div>
<p>Request for a specific page and page size (returns results six through ten):</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X GET 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/national-parks-demo/search' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8' \
-d '{
  "query": "park",
  "page": {
    "size": 5,
    "current": 2
  }
}'</pre>
</div>
<p>Request using Lucene query syntax within the query:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X POST 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/national-parks-demo/search' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8' \
-d '{
  "query": "wyoming AND montana OR california NOT washington"
}'</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-common-malformed-api-requests"></a>Common issues<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.10/app-search-docs/api-reference/search.asciidoc">edit</a></h3>
</div></div></div>
<p>When constructing search API requests, some common issues are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">query</code> parameter is omitted.
</li>
<li class="listitem">
The value of <code class="literal">query</code> is not a string or a number.
</li>
<li class="listitem">
The value of <code class="literal">page</code> is not a JSON object.
</li>
<li class="listitem">
The value of <code class="literal">page.size</code> is not greater than or equal to <code class="literal">1</code> and less than or equal to <code class="literal">1000</code>.
</li>
<li class="listitem">
The value of <code class="literal">page.current</code> is not greater than or equal to <code class="literal">1</code> and less than or equal to <code class="literal">100</code>.
</li>
<li class="listitem">
The query requests more than 10000 results, returning an empty response.
</li>
</ul>
</div>
<hr>
<p>The following sections have moved:</p>
<p><a id="search-single"></a><em>Performing a single search query</em> → <a class="xref" href="search.html" title="Search API">Search API</a></p>
<p><a id="search-multi"></a><em>Performing a multiple search query</em> → <a class="xref" href="multi-search.html" title="Multi search API">Multi search API</a></p>
<p><a id="search-before-you-search"></a><em>Before you search</em> → <a class="xref" href="search.html#search-api-request-body" title="Request body">Request body</a></p>
<p><a id="search-paging"></a><em>Page</em> → <a class="xref" href="search.html#search-api-request-body" title="Request body">Request body</a>, <a class="xref" href="search.html#search-api-response-body" title="Response body">Response body</a></p>
<p><a id="search-results-limit"></a><em>Limit on results per query</em> → <a class="xref" href="search.html#search-api-request-body" title="Request body">Request body</a>, <a class="xref" href="search.html#search-api-response-body" title="Response body">Response body</a></p>
<p><a id="search-lucene"></a><em>Performing a single search query with Lucene query syntax</em> → <a class="xref" href="search.html#search-api-examples" title="Examples">Examples</a></p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="schema.html">« Schema API</a>
</span>
<span class="next">
<a href="boosts.html">Search API boosts »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
