<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Curations API | Elastic App Search Documentation [7.14] | Elastic</title>
<link rel="home" href="index.html" title="Elastic App Search Documentation [7.14]"/>
<link rel="up" href="api-reference.html" title="API Reference"/>
<link rel="prev" href="credentials.html" title="Credentials API"/>
<link rel="next" href="documents.html" title="Documents API"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/7.14"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="7.14"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elastic App Search Documentation [7.14]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="api-reference.html">API Reference</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="credentials.html">« Credentials API</a>
</span>
<span class="next">
<a href="documents.html">Documents API »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="curations"></a>Curations API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h2>
</div></div></div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Want to start with the core concepts? Give the <a class="xref" href="curations-guide.html" title="Curations Guide"><span class="strong strong"><strong>Curations guide</strong></span></a> a read.</p>
</div>
</div>
<p></p>
<p>Curations hide or promote result content.</p>
<p>Each query may only belong to <span class="strong strong"><strong>one</strong></span> curation.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations.html#curations-read" title="List Curations">List Curations</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-create" title="Create New Curation">Create Curations</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-update" title="Update Curation">Update Curations</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-destroy" title="Delete Curation">Delete Curations</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-curations-and-sorting" title="Curations and Sorting">Curations and Sorting</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-errors" title="Errors">Errors</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-authentication"></a>Authentication<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>For authentication, the <span class="strong strong"><strong>Curations</strong></span> endpoint requires...</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
The name of your <span class="strong strong"><strong>Engine</strong></span>: <code class="literal">[ENGINE]</code>
</li>
<li class="listitem">
A <span class="strong strong"><strong>Private API Key</strong></span>: <code class="literal">[PRIVATE_API_KEY]</code>
</li>
</ol>
</div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X GET 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/[ENGINE]/curations' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer [PRIVATE_API_KEY]'</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-read"></a>List Curations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations.html#curations-all" title="List All Curations">Listing All Curations</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-single" title="List a Single Curation">Listing a Single Curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations.html#curations-list-page" title="List All Curations with Pagination">Listing All Curations with Pagination</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-all"></a>List All Curations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Return an array of all active curations.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v1/curations</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">page</code> (optional)
</span>
</dt>
<dd>
Can provide... current for current page total_pages for the net number of pages total_results for the overall number of results size for the amount of results per page. Expects integers within all fields. Defaults to 25 per page.
</dd>
</dl>
</div>
<p><em>Example</em> - A <code class="literal">GET</code> request for all curations.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X GET 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/national-parks-demo/curations' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer private-xxxxxxxxxxxxxxxxxxxxxxxx'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "meta": {
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 3,
      "size": 25
    }
  },
  "results": [
    {
      "id": "cur-a1b2c3",
      "queries": [
        "banana", "bananana", "bonana", "nanner"
      ],
      "promoted": [
        "doc-a1b2c3", "doc-234", "doc-a3b4c5"
      ],
      "hidden": [
        "doc-a9b8c7", "doc-a8b7c6", "doc-abc"
      ]
    },
    {
      "id": "cur-a2b3c4",
      "queries": [
        "cherry", "cherri", "sherry"
      ],
      "promoted": [
        "doc-a1b1c1", "doc-a2b2c2"
      ],
      "hidden": []
    },
    {
      "id": "cur-a3b4c5",
      "queries": [
        "grape"
      ],
      "promoted": [],
      "hidden": [
        "doc-a3b3c3"
      ]
    }
  ]
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-list-page"></a>List All Curations with Pagination<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h4>
</div></div></div>
<p><em>Example</em> - A <code class="literal">GET</code> request for all curations, paginated. Returns the 2nd page of results, with 20 results per page.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X GET 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/national-parks-demo/curations' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer private-xxxxxxxxxxxxxxxxxxxxxxxx' \
-d '{
  "page": {
    "size": 20,
    "current": 2
  }
}'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "meta": {
    "page": {
      "current": 2,
      "total_pages": 2,
      "total_results": 30,
      "size": 20
    }
  },
  "results": [
    ## Truncated!
  ]
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-single"></a>List a Single Curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h4>
</div></div></div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v1/engines/[ENGINE]/curations/[CURATION_ID]</pre>
</div>
<p><em>Example</em> - A <code class="literal">GET</code> request for the curation with id <code class="literal">123</code>.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X GET 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/national-parks-demo/curations/a1b2c3' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer private-xxxxxxxxxxxxxxxxxxxxxxxx'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "meta": {
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 1,
      "size": 25
    }
  },
  "results": [
    {
      "id": "cur-a1b2c3",
      "queries": [
        "banana", "bananana", "bonana", "nanner"
      ],
      "promoted": [
        "doc-a1b2c3", "doc-a2b3c4", "doc-a3b4c5"
      ],
      "hidden": [
        "doc-a9b8c7", "doc-a8b7c6", "doc-a7b6c5"
      ]
    }
  ]
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-create"></a>Create New Curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">POST /api/as/v1/engines/[ENGINE]/curations</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">queries</code> (required)
</span>
</dt>
<dd>
<p>You can provide one or many query strings within an array.<br>
A query may only belong to one curation.</p>
</dd>
<dt>
<span class="term">
<code class="literal">promoted</code> (optional)
</span>
</dt>
<dd>
<p>Supply an array with the documents to promote.<br>
The array order determines precedence: 0, 1, 2, ….<br>
You must provide a value for either promoted or hidden, or include both.
If creating a curation for a meta engine, see <a class="xref" href="curations.html#curations-meta-engines" title="Curations and meta engines">Curations and meta engines</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">hidden</code> (optional)
</span>
</dt>
<dd>
<p>Supply an array with the documents to hide.<br>
You must provide a value for either promoted or hidden, or include both.
If creating a curation for a meta engine, see <a class="xref" href="curations.html#curations-meta-engines" title="Curations and meta engines">Curations and meta engines</a>.</p>
</dd>
</dl>
</div>
<p><em>Example</em> - A <code class="literal">POST</code> request to create a new curation.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X POST 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/national-parks-demo/curations' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer private-xxxxxxxxxxxxxxxxxxxxxxxx' \
-d '{
  "queries": [
    "banana", "bananana", "bonana", "nanner"
  ],
  "promoted": [
    "doc-123", "doc-234", "doc-345"
  ],
  "hidden": [
    "doc-987", "doc-a8b7c6", "doc-765"
  ]
}'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "id": "cur-a1b2c3"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-update"></a>Update Curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">PUT /api/as/v1/engines/[ENGINE]/curations</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">queries</code> (required)
</span>
</dt>
<dd>
<p>You can provide one or many query strings within an array.<br>
A query may only belong to one curation.</p>
</dd>
<dt>
<span class="term">
<code class="literal">promoted</code> (optional)
</span>
</dt>
<dd>
<p>Supply an array with the documents to promote.<br>
The array order determines precedence: 0, 1, 2, ….<br>
You must provide a value for either promoted or hidden, or include both.
If creating a curation for a meta engine, see <a class="xref" href="curations.html#curations-meta-engines" title="Curations and meta engines">Curations and meta engines</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">hidden</code> (optional)
</span>
</dt>
<dd>
<p>Supply an array with the documents to hide.<br>
You must provide a value for either promoted or hidden, or include both.
If creating a curation for a meta engine, see <a class="xref" href="curations.html#curations-meta-engines" title="Curations and meta engines">Curations and meta engines</a>.</p>
</dd>
</dl>
</div>
<p><em>Example</em> - A <code class="literal">PUT</code> request to update curation <code class="literal">123</code> to change promoted documents and to cease hiding two documents.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X PUT 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/national-parks-demo/curations/cur-a1b2c3' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer private-xxxxxxxxxxxxxxxxxxxxxxxx' \
-d '{
  "queries": [
    "banana", "bananza", "bananas", "bonana"
  ],
  "promoted": [
    "doc-a1b2c3", "doc-a3b3c4", "doc-445"
  ],
  "hidden": [
    "doc-a9b8c7"
  ]
}'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "id": "cur-a1b2c3"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-destroy"></a>Delete Curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">DELETE /api/as/v1/curations/[CURATION_ID]</pre>
</div>
<p><em>Example</em> - A <code class="literal">DELETE</code> request to destroy the curation with id <code class="literal">123</code>.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X DELETE 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/national-parks-demo/curations/cur-a1b2c3' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer private-xxxxxxxxxxxxxxxxxxxxxxxx'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "deleted": true
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-curations-and-sorting"></a>Curations and Sorting<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>You may expect a curation to <em>always</em> be in its curated position, regardless of sort. But that&#8217;s not always the case.</p>
<p>It&#8217;s helpful to understand cases where a curation will and will not have priority when using <a class="xref" href="sort.html" title="Search API sort">sorting</a>.</p>
<p>Curations are applied when there is...</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
No sort field(s).
</li>
<li class="listitem">
A sort against the <code class="literal">_score</code> field.
</li>
</ol>
</div>
<p>Curations are <span class="strong strong"><strong>not</strong></span> applied when there is...</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
A sort against a custom field.
</li>
<li class="listitem">
A multi sort against <code class="literal">_score</code>, followed by a custom field.
</li>
</ol>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-meta-engines"></a>Curations and meta engines<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>When creating curations for <a class="xref" href="meta-engines-guide.html" title="Meta Engines Guide">meta engines</a>, scope the ID of each promoted and hidden document to the source engine containing the document.</p>
<p>Specify each document ID using the following format:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">&lt;source_engine_id&gt;|&lt;document_id&gt;</pre>
</div>
<p>The following example for a meta engine creates a curation that promotes documents from different source engines.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X POST 'https://[instance id].ent-search.[region].[provider].cloud.es.io/api/as/v1/engines/national-parks-demo/curations' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer private-xxxxxxxxxxxxxxxxxxxxxxxx' \
-d '{
  "queries": [
    "popular parks"
  ],
  "promoted": [
    "eastern-national-parks|park_shenandoah",
    "western-national-parks|park_yosemite"
  ]
}'</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-errors"></a>Errors<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>Request parameters can be quite particular.</p>
<p>Did you get an error? Perhaps it is one of these?</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Error Message</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Method</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Solution</strong></span></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"queries must be supplied"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>Queries are a required field. Make sure you have included at least one.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"queries must be a non empty array of strings"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>Even if you are supplying one query, you will need to encapsulate it within an array.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"query already exists under another curation: <em><code class="literal">cur-a1b2c3</code></em>, <em><code class="literal">bananas</code></em>"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>Each query can belong to <span class="strong strong"><strong>one</strong></span> curation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"promoted must be a non empty array of strings"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>Even if you are supplying one document, you will need to encapsulate it within an array. Must be a string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"hidden must be a non empty array of strings"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>Even if you are supplying one document, you will need to encapsulate it within an array. Must be a string.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"promoted contains invalid document ids: [<em><code class="literal">doc-1</code></em>, <em><code class="literal">doc-2</code></em>]"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>The document that you included in the array could not be found, or the string was malformed in some way.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"hidden contains invalid document ids: [<em><code class="literal">doc-1</code></em>, <em><code class="literal">doc-2</code></em>]"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>The document that you included in the array could not be found, or the string was malformed in some way.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"curation must include either promoted or hidden"</strong></span></p></td>
<td align="left" valign="top"><p>POST/PUT</p></td>
<td align="left" valign="top"><p>A curation without at least one promotion or one hidden item is not a curation at all! Please include one.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>"curation does not exist for id: cur-a1b2c3"</strong></span></p></td>
<td align="left" valign="top"><p>DELETE</p></td>
<td align="left" valign="top"><p>The request was received, and the API <em>wanted</em> to delete something, but was unable to locate the curation given the <code class="literal">id</code> you provided.</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-what-s-next"></a>What&#8217;s Next?<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>Your <span class="strong strong"><strong>Curations</strong></span> can become mighty tools in improving the relevance, and thus the overall experience, of search queries. Business goals, too, as you can get your visitors where you would like them to be. If you want to take a deep look into how users are interacting with your Engines, the <em>Analytics</em> and <em>Clickthrough</em> endpoints are worth exploring. Another useful technique to deploy are <em>Synonyms</em>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="analytics.html" title="Analytics APIs">Analytics</a>
</li>
<li class="listitem">
<a class="xref" href="clickthrough.html" title="Click API">Clickthrough</a>
</li>
<li class="listitem">
<a class="xref" href="indexing-documents-guide.html" title="Indexing Documents Guide">Synonyms</a>
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="credentials.html">« Credentials API</a>
</span>
<span class="next">
<a href="documents.html">Documents API »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
