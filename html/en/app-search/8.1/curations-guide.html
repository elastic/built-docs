<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Curations | Elastic App Search Documentation [8.1] | Elastic</title>
<link rel="home" href="index.html" title="Elastic App Search Documentation [8.1]"/>
<link rel="up" href="guides.html" title="Guides"/>
<link rel="prev" href="crawl-private-network-cloud.html" title="Crawl a private network using a web crawler on Elastic Cloud"/>
<link rel="next" href="facets-guide.html" title="Facets Guide"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/8.1"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="8.1"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elastic App Search Documentation [8.1]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="guides.html">Guides</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="crawl-private-network-cloud.html">« Crawl a private network using a web crawler on Elastic Cloud</a>
</span>
<span class="next">
<a href="facets-guide.html">Facets Guide »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="curations-guide"></a>Curations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h2>
</div></div></div>
<p>Curations allow search operators to customize search results for specific queries.</p>
<p>Use <em>promoted documents</em> to ensure that specified documents always match a query and receive the highest relevance scores.
Imagine an ecommerce store with featured product results or a support forum with pinned results for the most popular queries.
Similarly, use <em>hidden documents</em> to exclude particular documents from results.</p>
<p>Since 7.16.0, curations are powered by <em>adaptive relevance</em>.
Enable this feature to receive suggestions from App Search based on ongoing analysis of query and click data.
These suggestions improve your curations and deliver more relevant results.
Accept or reject each suggestion manually, or allow App Search to manage your curations automatically.</p>
<p>Readers familiar with curations and adaptive relevance can find solutions to specific problems within the sections under <em>Using curations</em>.
Readers new to curations may want to begin with the <em>Curations reference</em> and <em>Curations examples</em>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-usage" title="Using curations">Using curations</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference" title="Curations reference">Curations reference</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-examples" title="Curations examples">Curations examples</a>
</li>
</ul>
</div>
<p>For API users, an <a class="xref" href="curations.html" title="Curations API reference">API reference</a> is available.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-usage"></a>Using curations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-curations-ui" title="Manage curations using Kibana">Manage curations using Kibana</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-curations-api" title="Manage curations using the Enterprise Search API">Manage curations using the Enterprise Search API</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-enable-disable-suggestions" title="Enable or disable adaptive relevance suggestions for an engine">Enable or disable adaptive relevance suggestions for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-suggestions-ui" title="Manage adaptive relevance suggestions using Kibana">Manage adaptive relevance suggestions using Kibana</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-suggestions-api" title="Manage adaptive relevance suggestions using the Enterprise Search API">Manage adaptive relevance suggestions using the Enterprise Search API</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-accept-all-suggestions" title="Accept all adaptive relevance suggestions for an engine">Accept all adaptive relevance suggestions for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-adaptive-relevance-settings-api" title="Manage adaptive relevance settings">Manage adaptive relevance settings</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-view-adaptive-relevance-history" title="View adaptive relevance history">View adaptive relevance history</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-view-adaptive-relevance-events-logs" title="View adaptive relevance events logs">View adaptive relevance events logs</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-automated-to-manual" title="Convert an automated curation to a manual curation">Convert an automated curation to a manual curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manual-to-automated" title="Convert a manual curation to an automated curation">Convert a manual curation to an automated curation</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-manage-curations-ui"></a>Manage curations using Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Manage <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curations</a> using Kibana:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open:
<span class="strong strong"><strong>Enterprise Search</strong></span>
&#8594;
<span class="strong strong"><strong>App Search</strong></span>
&#8594;
<span class="strong strong"><strong>Engines</strong></span>
&#8594;
<em>engine</em>
&#8594;
<span class="strong strong"><strong>Curations</strong></span>
</li>
<li class="listitem">
Create, list, view, update, and delete curations.
</li>
</ol>
</div>
<p>Watch the following video tutorial for details:</p>
<script type="text/javascript" async src="https://play.vidyard.com/embed/v4.js">
</script>
<img
style="width: 100%; margin: auto; display: block;"
class="vidyard-player-embed"
src="https://play.vidyard.com/nW1YWxzZRjy7DhmutEEuWw.jpg"
data-uuid="nW1YWxzZRjy7DhmutEEuWw"
data-v="4"
data-type="inline"
/>
</br>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-manage-curations-api"></a>Manage curations using the Enterprise Search API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Manage <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curations</a> using the Enterprise Search API: <a class="xref" href="curations.html" title="Curations API reference">Curations API reference</a>.</p>
<p>Use the API to list, view, create, update, and delete curations.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-enable-disable-suggestions"></a>Enable or disable adaptive relevance suggestions for an engine<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Enable or disable <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">adaptive relevance suggestions</a> for <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curations</a> for each engine.
This choice is stored as an <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-settings" title="Adaptive relevance settings">adaptive relevance setting</a>.</p>
<p>Use Kibana:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open:
<span class="strong strong"><strong>Enterprise Search</strong></span>
&#8594;
<span class="strong strong"><strong>App Search</strong></span>
&#8594;
<span class="strong strong"><strong>Engines</strong></span>
&#8594;
<em>engine</em>
&#8594;
<span class="strong strong"><strong>Curations</strong></span>
</li>
<li class="listitem">
Choose the <span class="strong strong"><strong>Settings</strong></span> tab, then select or de-select <span class="strong strong"><strong>Enable suggestions</strong></span>.
</li>
</ol>
</div>
<p>Alternatively, use the Enterprise Search API to manage adaptive relevance settings.
See <a class="xref" href="adaptive-relevance-api-reference.html#adaptive-relevance-api-settings" title="Settings">Settings</a> within the adaptive relevance API reference.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-manage-suggestions-ui"></a>Manage adaptive relevance suggestions using Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Manage <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">adaptive relevance suggestions</a> for your <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curations</a> using Kibana:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open:
<span class="strong strong"><strong>Enterprise Search</strong></span>
&#8594;
<span class="strong strong"><strong>App Search</strong></span>
&#8594;
<span class="strong strong"><strong>Engines</strong></span>
&#8594;
<em>engine</em>
&#8594;
<span class="strong strong"><strong>Curations</strong></span>
</li>
<li class="listitem">
Choose the <span class="strong strong"><strong>Overview</strong></span> tab if it isn&#8217;t already selected, and locate the <span class="strong strong"><strong>Suggestions</strong></span> section.
</li>
<li class="listitem">
List and view adaptive relevance suggestions for your curations.
</li>
<li class="listitem">
Select a query from the list to view a specific suggestion.
</li>
<li class="listitem">
Accept, reject, automate, or disable suggestions for that query.
</li>
</ol>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-manage-suggestions-api"></a>Manage adaptive relevance suggestions using the Enterprise Search API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Manage <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">adaptive relevance suggestions</a> for your <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curations</a> using the Enterprise Search API.</p>
<p>Use the adaptive relevance API operations: <a class="xref" href="adaptive-relevance-api-reference.html" title="Adaptive relevance API reference (beta)">Adaptive relevance API reference (beta)</a>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To limit results to curations suggestions, request suggestions for an engine where <code class="literal">type</code> is <code class="literal">curation</code>.
</li>
<li class="listitem">
List suggestions or view specific suggestions.
</li>
<li class="listitem">
For each suggestion: accept, reject, automate, or disable suggestions for that query.
</li>
</ul>
</div>
<p>Alternatively, use the curations API operations: <a class="xref" href="curations.html" title="Curations API reference">Curations API reference</a>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
List curations or view specific curations.
</li>
<li class="listitem">
Each curation result includes suggestions information when present on the curation.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-accept-all-suggestions"></a>Accept all adaptive relevance suggestions for an engine<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>App Search can automatically accept all <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">adaptive relevance suggestions</a> for your <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curations</a> after creating each suggestion.
In this mode, all new curations within the engine will be <a class="xref" href="curations-guide.html#curations-reference-automated-curation" title="Automated curation">automated curations</a>.
This choice is stored as an <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-settings" title="Adaptive relevance settings">adaptive relevance setting</a>.</p>
<p>Use Kibana:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open:
<span class="strong strong"><strong>Enterprise Search</strong></span>
&#8594;
<span class="strong strong"><strong>App Search</strong></span>
&#8594;
<span class="strong strong"><strong>Engines</strong></span>
&#8594;
<em>engine</em>
&#8594;
<span class="strong strong"><strong>Curations</strong></span>
</li>
<li class="listitem">
Choose the <span class="strong strong"><strong>Settings</strong></span> tab, then select or de-select <span class="strong strong"><strong>Automatically accept new suggestions</strong></span>.
</li>
</ol>
</div>
<p>Alternatively, use the Enterprise Search API to manage adaptive relevance settings.
See <a class="xref" href="adaptive-relevance-api-reference.html#adaptive-relevance-api-settings" title="Settings">Settings</a> within the adaptive relevance API reference.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-manage-adaptive-relevance-settings-api"></a>Manage adaptive relevance settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Manage <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-settings" title="Adaptive relevance settings">adaptive relevance settings</a> for each engine.</p>
<p>Manage <em>some</em> settings using Kibana:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-enable-disable-suggestions" title="Enable or disable adaptive relevance suggestions for an engine">Enable or disable adaptive relevance suggestions for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-accept-all-suggestions" title="Accept all adaptive relevance suggestions for an engine">Accept all adaptive relevance suggestions for an engine</a>
</li>
</ul>
</div>
<p>Manage <em>all</em> settings using the Enterprise Search API.
See <a class="xref" href="adaptive-relevance-api-reference.html#adaptive-relevance-api-settings" title="Settings">Settings</a> within the adaptive relevance API reference.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-view-adaptive-relevance-history"></a>View adaptive relevance history<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>View the following adaptive relevance history information:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Recent adaptive relevance changes
</li>
<li class="listitem">
Recently rejected suggestions
</li>
<li class="listitem">
Ignored queries
</li>
</ul>
</div>
<p>Use Kibana:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open:
<span class="strong strong"><strong>Enterprise Search</strong></span>
&#8594;
<span class="strong strong"><strong>App Search</strong></span>
&#8594;
<span class="strong strong"><strong>Engines</strong></span>
&#8594;
<em>engine</em>
&#8594;
<span class="strong strong"><strong>Curations</strong></span>
</li>
<li class="listitem">
Choose the <span class="strong strong"><strong>History</strong></span> tab, and locate any of the sections listed above.
</li>
</ol>
</div>
<p>Alternatively, view the adaptive relevance events logs.
See <a class="xref" href="curations-guide.html#curations-view-adaptive-relevance-events-logs" title="View adaptive relevance events logs">View adaptive relevance events logs</a></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-view-adaptive-relevance-events-logs"></a>View adaptive relevance events logs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>You can either use <span class="strong strong"><strong>Kibana Logs</strong></span> or <span class="strong strong"><strong>Kibana Discover</strong></span>:</p>
<p><span class="strong strong"><strong>Use Kibana Logs:</strong></span></p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open:
<span class="strong strong"><strong>Observability</strong></span>
&#8594;
<span class="strong strong"><strong>Logs</strong></span>
</li>
<li class="listitem">
In the search bar, select the search-relevance-suggestions dataset:
<code class="literal">event.dataset: search-relevance-suggestions</code>
</li>
<li class="listitem">
Press enter, and you&#8217;ll see the filtered log stream for adaptive relevance suggestions related messages.
</li>
</ol>
</div>
<p><span class="strong strong"><strong>Use Kibana Discover:</strong></span></p>
<p>Create an index pattern in Kibana for the adaptive relevance related indexes:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open:
<span class="strong strong"><strong>Stack Management</strong></span>
&#8594;
<span class="strong strong"><strong>Kibana / Index Patterns</strong></span>
&#8594;
<span class="strong strong"><strong>Create Index Pattern</strong></span>
</li>
<li class="listitem">
Click on "Advanced Settings" to check "Allow hidden and system indices".
</li>
<li class="listitem">
Set as "Name" the value <code class="literal">.ent-search-search-relevance-suggestions-ecs-ilm-logs-*</code>.
</li>
<li class="listitem">
Select <code class="literal">@timestamp</code> in the "Timestamp field" dropdown.
</li>
<li class="listitem">
Click "Create index pattern".
</li>
</ol>
</div>
<p>See <a href="/guide/en/kibana/current/index-patterns.html" class="ulink" target="_blank" rel="noopener">create index patterns guide</a> for more details.</p>
<p>Now you can select the newly created index pattern in Discover:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open <span class="strong strong"><strong>Discover</strong></span> in the Kibana menu.
</li>
<li class="listitem">
Select the created index pattern (<code class="literal">.ent-search-search-relevance-suggestions-ecs-ilm-logs-*</code>) in the "Change index pattern" combo if it is not already displayed.
</li>
</ol>
</div>
<p>For a complete reference of all events, see <a class="xref" href="adaptive-relevance-events-logs-reference.html" title="Adaptive relevance events logs reference">Adaptive relevance events logs reference</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-automated-to-manual"></a>Convert an automated curation to a manual curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Convert an <a class="xref" href="curations-guide.html#curations-reference-automated-curation" title="Automated curation">automated curation</a> to a <a class="xref" href="curations-guide.html#curations-reference-manual-curation" title="Manual curation">manual curation</a>.</p>
<p>Use Kibana:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open:
<span class="strong strong"><strong>Enterprise Search</strong></span>
&#8594;
<span class="strong strong"><strong>App Search</strong></span>
&#8594;
<span class="strong strong"><strong>Engines</strong></span>
&#8594;
<em>engine</em>
&#8594;
<span class="strong strong"><strong>Curations</strong></span>
</li>
<li class="listitem">
Select a curation to view its details, and choose <span class="strong strong"><strong>Convert to manual curation</strong></span>.
</li>
</ol>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/curation-convert-to-manual.png" alt="Convert to manual curation">
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-manual-to-automated"></a>Convert a manual curation to an automated curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>To convert a <a class="xref" href="curations-guide.html#curations-reference-manual-curation" title="Manual curation">manual curation</a> to an <a class="xref" href="curations-guide.html#curations-reference-automated-curation" title="Automated curation">automated curation</a>, you must wait for App Search to suggest a change to the curation.</p>
<p>Use Kibana:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open:
<span class="strong strong"><strong>Enterprise Search</strong></span>
&#8594;
<span class="strong strong"><strong>App Search</strong></span>
&#8594;
<span class="strong strong"><strong>Engines</strong></span>
&#8594;
<em>engine</em>
&#8594;
<span class="strong strong"><strong>Curations</strong></span>
</li>
<li class="listitem">
Choose the <span class="strong strong"><strong>Overview</strong></span> tab if it isn&#8217;t already selected, and locate the <span class="strong strong"><strong>Suggestions</strong></span> section.
</li>
<li class="listitem">
Choose the suggestion that applies to the curation to visit its details screen.
</li>
<li class="listitem">
Choose <span class="strong strong"><strong>⋮</strong></span> to expand the options menu, and choose <span class="strong strong"><strong>Automate - always accept new suggestions for this query</strong></span>.
</li>
</ol>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/curation-suggestion-automate.png" alt="Automate curation">
</div>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-reference"></a>Curations reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">Curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-promoted-documents" title="Promoted documents">Promoted documents</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-hidden-documents" title="Hidden documents">Hidden documents</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance" title="Adaptive relevance">Adaptive relevance</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">Adaptive relevance suggestions</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-settings" title="Adaptive relevance settings">Adaptive relevance settings</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-events-logs" title="Adaptive relevance events logs">Adaptive relevance events logs</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-automated-curation" title="Automated curation">Automated curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-manual-curation" title="Manual curation">Manual curation</a>
</li>
</ul>
</div>
<p>For API users, an <a class="xref" href="curations.html" title="Curations API reference">API reference</a> is available.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-reference-curation"></a>Curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>A <em>curation</em> is an object, associated with an engine, that represents customizations to the search results for one or more queries.</p>
<p>Each curation has the following attributes:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
<p>An opaque token created by App Search.
Used for some API operations.</p>
</dd>
<dt>
<span class="term">
<code class="literal">queries</code> (required)
</span>
</dt>
<dd>
<p>An array of strings, where each string is a search query whose results are modified by the curation.</p>
<p>Each query can belong to only one curation.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">adaptive relevance suggestions</a> are enabled, use only one query per curation.
App Search will suggest changes to only those curations that have a single query.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">promoted</code>
</span>
</dt>
<dd>
<p>An array of strings, where each string is a document ID representing a <a class="xref" href="curations-guide.html#curations-reference-promoted-documents" title="Promoted documents">promoted document</a>.</p>
<p>To add a document to the promoted documents, it must exist within the engine.</p>
<p>When specifying documents for a curation on a <a class="xref" href="meta-engines-guide.html" title="Meta Engines Guide">meta engine</a>, you must scope each document ID to its source engine.
See <a class="xref" href="curations.html#curations-api-meta-engines" title="Document IDs for meta engines">Document IDs for meta engines</a>.</p>
<p>Required when <code class="literal">hidden</code> is omitted.</p>
</dd>
<dt>
<span class="term">
<code class="literal">hidden</code>
</span>
</dt>
<dd>
<p>An array of strings, where each string is a document ID representing a <a class="xref" href="curations-guide.html#curations-reference-hidden-documents" title="Hidden documents">hidden document</a>.</p>
<p>To add a document to the hidden documents, it must exist within the engine.</p>
<p>When specifying documents for a curation on a <a class="xref" href="meta-engines-guide.html" title="Meta Engines Guide">meta engine</a>, you must scope each document ID to its source engine.
See <a class="xref" href="curations.html#curations-api-meta-engines" title="Document IDs for meta engines">Document IDs for meta engines</a>.</p>
<p>Required when <code class="literal">promoted</code> is omitted.</p>
</dd>
</dl>
</div>
<p>To manage curations, see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-curations-ui" title="Manage curations using Kibana">Manage curations using Kibana</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-curations-api" title="Manage curations using the Enterprise Search API">Manage curations using the Enterprise Search API</a>
</li>
</ul>
</div>
<p>App Search may create <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">adaptive relevance suggestions</a> for curations.
In that context, it&#8217;s useful to distinguish between <a class="xref" href="curations-guide.html#curations-reference-manual-curation" title="Manual curation">manual curations</a> and <a class="xref" href="curations-guide.html#curations-reference-automated-curation" title="Automated curation">automated curations</a>.
And it&#8217;s possible to convert between the two types.
See:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-automated-to-manual" title="Convert an automated curation to a manual curation">Convert an automated curation to a manual curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manual-to-automated" title="Convert a manual curation to an automated curation">Convert a manual curation to an automated curation</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-reference-promoted-documents"></a>Promoted documents<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Each <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curation</a> may include a collection of <em>promoted documents</em>.
These documents are <em>always</em> returned within the results for each query belonging to the curation, even if the documents do not match the query.</p>
<p>Promoted documents also receive higher <code class="literal">_score</code> values than any other results.
Therefore, when results are sorted by <code class="literal">_score</code> (the default sort), promoted documents appear before all other results.</p>
<p>The promoted documents collection is ordered.
When results are sorted by <code class="literal">_score</code>, promoted documents appear in the order in which they are stored on the curation, before all other results.</p>
<p>When results are sorted on a field other than <code class="literal">_score</code>, promoted documents are always included in the results, but their positions are determined by their value for the given <code class="literal">sort</code> field.</p>
<p>Similarly, when results are grouped on a field, promoted documents are always included in the results, but their positions are determined by their value for the given <code class="literal">group</code> field.</p>
<p>See <a class="xref" href="curations-guide.html#curations-examples" title="Curations examples">Curations examples</a> for examples that demonstrate promoted documents.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-reference-hidden-documents"></a>Hidden documents<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Each <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curation</a> may include a collection of <em>hidden documents</em>.
In contrast to <a class="xref" href="curations-guide.html#curations-reference-promoted-documents" title="Promoted documents">promoted documents</a>, hidden documents are <em>never</em> returned within the results for each query belonging to the curation, even if the documents match the query.</p>
<p>Since hidden documents are excluded from search results, the order of the collection is not important.</p>
<p>See <a class="xref" href="curations-guide.html#curations-examples" title="Curations examples">Curations examples</a> for examples that demonstrate hidden documents.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-reference-adaptive-relevance"></a>Adaptive relevance<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<div class="caution admon">
<div class="icon"></div>
<div class="admon_content">
<p><em>Adaptive relevance</em> is a <span class="strong strong"><strong>beta</strong></span> feature.
Beta features are subject to change and are not covered by the support SLA of general release (GA) features.
Elastic plans to promote this feature to GA in a future release.</p>
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p><em>Adaptive relevance</em> is not available at all Elastic subscription levels.
Refer to the Elastic subscriptions pages for <a href="/subscriptions/cloud" class="ulink" target="_blank" rel="noopener">Elastic Cloud</a> and <a href="/subscriptions" class="ulink" target="_top">self-managed</a> deployments.</p>
</div>
</div>
<p>Since 7.16.0, curations are powered by <em>adaptive relevance</em>.
Enable this feature to receive suggestions from App Search based on ongoing analysis of query and click data.</p>
<p>App Search can create adaptive relevance <em>suggestions</em> that create, update, or delete your engines' curations.
Accept these suggestions to improve your curations and deliver more relevant results.</p>
<p>You can enable, disable, and customize these suggestions using adaptive relevance <em>settings</em>.</p>
<p><span class="strong strong"><strong>Learn more about curations powered by adaptive relevance:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">Adaptive relevance suggestions</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-settings" title="Adaptive relevance settings">Adaptive relevance settings</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-events-logs" title="Adaptive relevance events logs">Adaptive relevance events logs</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Use curations powered by adaptive relevance:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-enable-disable-suggestions" title="Enable or disable adaptive relevance suggestions for an engine">Enable or disable adaptive relevance suggestions for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-suggestions-ui" title="Manage adaptive relevance suggestions using Kibana">Manage adaptive relevance suggestions using Kibana</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-suggestions-api" title="Manage adaptive relevance suggestions using the Enterprise Search API">Manage adaptive relevance suggestions using the Enterprise Search API</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-accept-all-suggestions" title="Accept all adaptive relevance suggestions for an engine">Accept all adaptive relevance suggestions for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-adaptive-relevance-settings-api" title="Manage adaptive relevance settings">Manage adaptive relevance settings</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-view-adaptive-relevance-history" title="View adaptive relevance history">View adaptive relevance history</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-view-adaptive-relevance-events-logs" title="View adaptive relevance events logs">View adaptive relevance events logs</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-automated-to-manual" title="Convert an automated curation to a manual curation">Convert an automated curation to a manual curation</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manual-to-automated" title="Convert a manual curation to an automated curation">Convert a manual curation to an automated curation</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-reference-adaptive-relevance-suggestions"></a>Adaptive relevance suggestions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Enterprise Search 7.16.0 introduced curations powered by <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance" title="Adaptive relevance">adaptive relevance</a>.
Enable this feature to receive suggestions from App Search to improve your <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curations</a> and deliver more relevant results.
Or, allow App Search to manage your curations automatically.</p>
<p>When enabled, App Search routinely analyzes queries within recent history with sufficient clicks.
Based on that analysis, App Search creates suggestions to create, update, or delete curations that add or remove specific <a class="xref" href="curations-guide.html#curations-reference-promoted-documents" title="Promoted documents">promoted documents</a>.</p>
<p>Each suggestion applies to a specific query, so App Search will suggest changes only to those curations with a single query.</p>
<p>Each suggestion begins in a <code class="literal">pending</code> status.</p>
<p>Search operators can manage each suggestion using Kibana.
Operators can:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Accept the suggestion. A curation will be created or updated with the suggestion.
</li>
<li class="listitem">
Reject the suggestion. No curation will be created or updated. Updates to the suggestion will be highlighted again for approval.
</li>
<li class="listitem">
Accept the suggestion and accept all future suggestions for the same curation. This converts the curation into an <a class="xref" href="curations-guide.html#curations-reference-automated-curation" title="Automated curation">automated curation</a>.
</li>
<li class="listitem">
Disable the suggestion. The suggestion will be discarded and future suggestions for the same query will not be considered.
</li>
</ul>
</div>
<p>Alternatively, search operators can use the Enterprise Search API to directly manipulate the status of each suggestion.
The possible statuses are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">pending</code>: The suggestion is waiting to be accepted or discarded.
</li>
<li class="listitem">
<code class="literal">applied</code>: The suggestion has been accepted and a curation has been created or updated with the suggestion.
</li>
<li class="listitem">
<code class="literal">automated</code>: The suggestion has been accepted, and any future updates on the suggestion will be applied automatically.
</li>
<li class="listitem">
<code class="literal">rejected</code>: The suggestion was rejected. Future updates to the suggestion will bring it back to <code class="literal">pending</code> state.
</li>
<li class="listitem">
<code class="literal">disabled</code>: The suggestion has not been applied, and any future updates to the suggestion will be ignored.
</li>
</ul>
</div>
<p>Also refer to the following statuses diagram:</p>
<div class="imageblock">
<div class="content">
<img src="images/adaptive-relevance-suggestions-statuses.png" alt="Adaptive relevance suggestions statuses">
</div>
</div>
<p>A <code class="literal">pending</code> suggestion may override a curation that has been created or modified manually if <code class="literal">applied</code> (or <code class="literal">automated</code>). When that would happen, a field <code class="literal">override_manual_curation</code> with value <code class="literal">true</code> will be returned as part of the suggestion information to warn about this.</p>
<p>Search operators can manage <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-settings" title="Adaptive relevance settings">adaptive relevance settings</a> to customize details of the algorithm or schedule for adaptive relevance suggestions.
Search operators can also accept <em>all</em> suggestions for an engine to allow App Search to manage all new curations automatically.</p>
<p><span class="strong strong"><strong>To use adaptive relevance suggestions:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Your deployment must match the required Elastic subscription level.
Refer to the Elastic subscriptions pages for <a href="/subscriptions/cloud" class="ulink" target="_blank" rel="noopener">Elastic Cloud</a> and <a href="/subscriptions" class="ulink" target="_top">self-managed</a> deployments.
</li>
<li class="listitem">
Adaptive relevance suggestions must be enabled for the engine.
See <a class="xref" href="curations-guide.html#curations-enable-disable-suggestions" title="Enable or disable adaptive relevance suggestions for an engine">Enable or disable adaptive relevance suggestions for an engine</a>.
</li>
<li class="listitem">
Analytics logging must be enabled for the engine.
See <a class="xref" href="logs.html" title="Log settings guide">Log settings</a>.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>To manage adaptive relevance suggestions for an engine, see:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-enable-disable-suggestions" title="Enable or disable adaptive relevance suggestions for an engine">Enable or disable adaptive relevance suggestions for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-accept-all-suggestions" title="Accept all adaptive relevance suggestions for an engine">Accept all adaptive relevance suggestions for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-suggestions-ui" title="Manage adaptive relevance suggestions using Kibana">Manage adaptive relevance suggestions using Kibana</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-suggestions-api" title="Manage adaptive relevance suggestions using the Enterprise Search API">Manage adaptive relevance suggestions using the Enterprise Search API</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>To view the adaptive relevance history for an engine, see:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-view-adaptive-relevance-history" title="View adaptive relevance history">View adaptive relevance history</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-view-adaptive-relevance-events-logs" title="View adaptive relevance events logs">View adaptive relevance events logs</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-reference-adaptive-relevance-settings"></a>Adaptive relevance settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Enterprise Search 7.16.0 introduced curations powered by <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance" title="Adaptive relevance">adaptive relevance</a>.
<em>Adaptive relevance settings</em> are settings stored with each engine that allow search operators to customize the behavior of <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">adaptive relevance suggestions</a> for that engine.
Use these settings to enable or disable adaptive relevance suggestions for an engine, accept all suggestions for an engine, or customize details of the algorithm or schedule for adaptive relevance suggestions for an engine.</p>
<p>Search operators can manage <em>some</em> settings using Kibana and <em>all</em> settings using the Enterprise Search API.
See:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-enable-disable-suggestions" title="Enable or disable adaptive relevance suggestions for an engine">Enable or disable adaptive relevance suggestions for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-accept-all-suggestions" title="Accept all adaptive relevance suggestions for an engine">Accept all adaptive relevance suggestions for an engine</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-manage-adaptive-relevance-settings-api" title="Manage adaptive relevance settings">Manage adaptive relevance settings</a>
</li>
</ul>
</div>
<p>For a complete settings reference, see <a class="xref" href="adaptive-relevance-api-reference.html#adaptive-relevance-api-settings" title="Settings">Settings</a> within the adaptive relevance API reference.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-reference-adaptive-relevance-events-logs"></a>Adaptive relevance events logs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>The <em>adaptive relevance events logs</em> record all events associated with <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">adaptive relevance suggestions</a>, including those that apply to <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curations</a>.
Use the logs to audit automated changes to your curations.</p>
<p>View the adaptive relevance events logs using Kibana Logs or Discover.
See <a class="xref" href="curations-guide.html#curations-view-adaptive-relevance-events-logs" title="View adaptive relevance events logs">View adaptive relevance events logs</a>.</p>
<p>Alternatively, view adaptive relevance history for curations using Kibana Curations.
See <a class="xref" href="curations-guide.html#curations-view-adaptive-relevance-history" title="View adaptive relevance history">View adaptive relevance history</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-reference-automated-curation"></a>Automated curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>An <em>automated curation</em> is a <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curation</a> whose <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">adaptive relevance suggestions</a> have been pre-approved.
App Search therefore applies new suggestions automatically as soon as they are obtained.</p>
<p>Search operators cannot change <code class="literal">queries</code> or <code class="literal">promoted</code> for an automated curation.
These are managed exclusively by App Search.
However, search operators can change <code class="literal">hidden</code>.</p>
<p>To change <code class="literal">queries</code> or <code class="literal">promoted</code> of an automated curation, first convert it to a manual curation.
See <a class="xref" href="curations-guide.html#curations-automated-to-manual" title="Convert an automated curation to a manual curation">Convert an automated curation to a manual curation</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-reference-manual-curation"></a>Manual curation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>A <em>manual curation</em> is a <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curation</a> whose <a class="xref" href="curations-guide.html#curations-reference-adaptive-relevance-suggestions" title="Adaptive relevance suggestions">adaptive relevance suggestions</a> are not pre-approved.
This is the default, standard curation type.</p>
<p>App Search may create adaptive relevance suggestions for a manual curation.
Search operators may accept each suggestions manually, or they may pre-approve all future suggestions for a given curation.
Pre-approving all suggestions converts the curation to an <a class="xref" href="curations-guide.html#curations-reference-automated-curation" title="Automated curation">automated curation</a>.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="curations-examples"></a>Curations examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h3>
</div></div></div>
<p>The following sections use an ecommerce use case to demonstrate <a class="xref" href="curations-guide.html#curations-reference-curation" title="Curation">curations</a>, <a class="xref" href="curations-guide.html#curations-reference-promoted-documents" title="Promoted documents">promoted documents</a>, and <a class="xref" href="curations-guide.html#curations-reference-hidden-documents" title="Hidden documents">hidden documents</a>.</p>
<p><em>An ecommerce analyst discovers that customers who search for <span class="strong strong"><strong>winter coat</strong></span> usually buy the products <span class="strong strong"><strong>Hooded parka</strong></span> and <span class="strong strong"><strong>Down winter jacket</strong></span>.
However, <span class="strong strong"><strong>Hooded parka</strong></span> does not appear in the search results at all, and <span class="strong strong"><strong>Down winter jacket</strong></span> is scored less relevant than a product that is purchased infrequently.
Furthermore, the search results include a hat, which is not what searchers are looking for.</em></p>
<p><em>A search operator uses a curation to customize the results for the query <span class="strong strong"><strong>winter coat</strong></span>.
The curation ensures that <span class="strong strong"><strong>Hooded parka</strong></span> is always returned and has the highest relevance score.
The curation also scores <span class="strong strong"><strong>Down winter jacket</strong></span> higher than the less popular product, <span class="strong strong"><strong>Winter field coat</strong></span>.
Finally, the curation excludes <span class="strong strong"><strong>Knit winter hat</strong></span> from the results, since searchers consider it not relevant.</em></p>
<p>The following sections implement this scenario and also demonstrate the affect of sorting and grouping on curated results.</p>
<p>Within each section, expand the collapsed portions to view the relevant API requests and responses.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-examples-setup" title="Create engine, schema, and documents">Create engine, schema, and documents</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-examples-uncurated" title="View search results">View search results</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-examples-curated" title="Curate results">Curate results</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-examples-sorted" title="Sort curated results">Sort curated results</a>
</li>
<li class="listitem">
<a class="xref" href="curations-guide.html#curations-examples-grouped" title="Group curated results">Group curated results</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-examples-setup"></a>Create engine, schema, and documents<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Create an engine with name <code class="literal">products</code> to store documents representing products.</p>
<details>
<summary class="title">Create engine</summary>
<div class="content">
<div class="pre_wrapper lang-html">
<pre class="programlisting prettyprint lang-html">POST <a href="/guide/en/enterprise-search/8.1/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines

{
  "name": "products"
}</pre>
</div>
</div>
</details>
<p>Define a schema for the documents within engine <code class="literal">products</code>.
Documents in this engine have the following fields:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Field name</th>
<th align="left" valign="top">Field type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">id</code></p></td>
<td align="left" valign="top"><p><code class="literal">id</code></p></td>
<td align="left" valign="top"><p>A user-supplied ID for the product.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">name</code></p></td>
<td align="left" valign="top"><p><code class="literal">text</code></p></td>
<td align="left" valign="top"><p>The name of the product.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">price</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The price of the product.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">rating</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code></p></td>
<td align="left" valign="top"><p>The average customer rating of the product.
One of: <code class="literal">1</code>, <code class="literal">2</code>, <code class="literal">3</code>, <code class="literal">4</code>, <code class="literal">5</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<details>
<summary class="title">Create schema</summary>
<div class="content">
<div class="pre_wrapper lang-html">
<pre class="programlisting prettyprint lang-html">POST <a href="/guide/en/enterprise-search/8.1/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/products/schema

{
  "name": "text",
  "price": "number",
  "rating": "number"
}</pre>
</div>
</div>
</details>
<p>Save the following documents within the <code class="literal">products</code> engine to use for the examples.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">ID</th>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Price</th>
<th align="left" valign="top">Rating</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>winter-field-coat</p></td>
<td align="left" valign="top"><p>Winter field coat</p></td>
<td align="left" valign="top"><p>75</p></td>
<td align="left" valign="top"><p>4</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>down-winter-jacket</p></td>
<td align="left" valign="top"><p>Down winter jacket</p></td>
<td align="left" valign="top"><p>200</p></td>
<td align="left" valign="top"><p>4</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>knit-winter-beanie</p></td>
<td align="left" valign="top"><p>Knit winter beanie</p></td>
<td align="left" valign="top"><p>10</p></td>
<td align="left" valign="top"><p>5</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>hooded-parka</p></td>
<td align="left" valign="top"><p>Hooded parka</p></td>
<td align="left" valign="top"><p>150</p></td>
<td align="left" valign="top"><p>5</p></td>
</tr>
</tbody>
</table>
</div>
<details>
<summary class="title">Save documents</summary>
<div class="content">
<div class="pre_wrapper lang-html">
<pre class="programlisting prettyprint lang-html">POST <a href="/guide/en/enterprise-search/8.1/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/products/documents

[
  {
    "id": "winter-field-coat",
    "name": "Winter field coat",
    "price": 75,
    "rating": 4
  },
  {
    "id": "down-winter-jacket",
    "name": "Down winter jacket",
    "price": 200,
    "rating": 4
  },
  {
    "id": "knit-winter-beanie",
    "name": "Knit winter beanie",
    "price": 10,
    "rating": 5
  },
  {
    "id": "hooded-parka",
    "name": "Hooded parka",
    "price": 150,
    "rating": 5
  }
]</pre>
</div>
</div>
</details>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-examples-uncurated"></a>View search results<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Search for <code class="literal">winter coat</code> <em>before</em> curating the results.
The search returns the following documents (with scores):</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Winter field coat (<code class="literal">6.537158</code>)
</li>
<li class="listitem">
Down winter jacket (<code class="literal">0.49185246</code>)
</li>
<li class="listitem">
Knit winter beanie (<code class="literal">0.3164503</code>)
</li>
</ol>
</div>
<details>
<summary class="title">Search for <code class="literal">winter coat</code> before curating results</summary>
<div class="content">
<div class="pre_wrapper lang-html">
<pre class="programlisting prettyprint lang-html">GET <a href="/guide/en/enterprise-search/8.1/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/products/search

{
  "query": "winter coat"
}</pre>
</div>
</div>
</details>
<details>
<summary class="title">See full response (formatted)</summary>
<div class="content">
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">{
  "meta": {
    "alerts": [],
    "warnings": [],
    "precision": 2,
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 3,
      "size": 10
    },
    "engine": {
      "name": "products",
      "type": "default"
    },
    "request_id": "TPyQN9kIQOObgm8HU1Fjlg"
  },
  "results": [
    {
      "price": {
        "raw": 75
      },
      "name": {
        "raw": "Winter field coat"
      },
      "rating": {
        "raw": 4
      },
      "_meta": {
        "engine": "products",
        "score": 6.537158,
        "id": "winter-field-coat"
      },
      "id": {
        "raw": "winter-field-coat"
      }
    },
    {
      "price": {
        "raw": 200
      },
      "name": {
        "raw": "Down winter jacket"
      },
      "rating": {
        "raw": 4
      },
      "_meta": {
        "engine": "products",
        "score": 0.49185246,
        "id": "down-winter-jacket"
      },
      "id": {
        "raw": "down-winter-jacket"
      }
    },
    {
      "price": {
        "raw": 10
      },
      "name": {
        "raw": "Down winter jacket"
      },
      "rating": {
        "raw": 4
      },
      "_meta": {
        "engine": "products",
        "score": 0.49185246,
        "id": "down-winter-jacket"
      },
      "id": {
        "raw": "down-winter-jacket"
      }
    },
    {
      "price": {
        "raw": 10
      },
      "name": {
        "raw": "Knit winter beanie"
      },
      "rating": {
        "raw": 5
      },
      "_meta": {
        "engine": "products",
        "score": 0.3164503,
        "id": "knit-winter-beanie"
      },
      "id": {
        "raw": "knit-winter-beanie"
      }
    }
  ]
}</pre>
</div>
</div>
</details>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-examples-curated"></a>Curate results<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>Recall the following suggestions from the ecommerce analyst to improve search results for <code class="literal">winter coat</code>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>Always</em> return <span class="strong strong"><strong>Hooded parka</strong></span>
</li>
<li class="listitem">
Assign <span class="strong strong"><strong>Hooded parka</strong></span> the highest relevance score
</li>
<li class="listitem">
Assign <span class="strong strong"><strong>Down winter jacket</strong></span> a higher relevance score than <span class="strong strong"><strong>Winter field coat</strong></span>
</li>
<li class="listitem">
<em>Never</em> return <span class="strong strong"><strong>Knit winter hat</strong></span>
</li>
</ul>
</div>
<p>Create a curation with the following attributes:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Queries</th>
<th align="left" valign="top">Promoted</th>
<th align="left" valign="top">Hidden</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<code class="literal">winter coat</code>
</li>
</ol>
</div>
</td>
<td align="left" valign="top">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<code class="literal">hooded-parka</code>
</li>
<li class="listitem">
<code class="literal">down-winter-jacket</code>
</li>
</ol>
</div>
</td>
<td align="left" valign="top">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<code class="literal">knit-winter-beanie</code>
</li>
</ol>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<details>
<summary class="title">Create curation for query <code class="literal">winter coat</code></summary>
<div class="content">
<div class="pre_wrapper lang-html">
<pre class="programlisting prettyprint lang-html">POST <a href="/guide/en/enterprise-search/8.1/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/products/curations

{
  "queries": [
    "winter coat"
  ],
  "promoted": [
    "hooded-parka",
    "down-winter-jacket"
  ],
  "hidden": [
    "knit-winter-beanie"
  ]
}</pre>
</div>
</div>
</details>
<p>Now, search again to see how the curation affects the results:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Hooded parka (<code class="literal">1.7014124e+38</code>)
</li>
<li class="listitem">
Down winter jacket (<code class="literal">1.7014122e+38</code>)
</li>
<li class="listitem">
Winter field coat (<code class="literal">6.537158</code>)
</li>
</ol>
</div>
<p>The following has changed:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Hooded parka</strong></span> is included
</li>
<li class="listitem">
<span class="strong strong"><strong>Knit winter hat</strong></span> is excluded
</li>
<li class="listitem">
<span class="strong strong"><strong>Hooded parka</strong></span> and <span class="strong strong"><strong>Down winter jacket</strong></span> have higher scores than <span class="strong strong"><strong>Winter field coat</strong></span>
</li>
</ul>
</div>
<details>
<summary class="title">Search for <code class="literal">winter coat</code> after curating results</summary>
<div class="content">
<div class="pre_wrapper lang-html">
<pre class="programlisting prettyprint lang-html">GET <a href="/guide/en/enterprise-search/8.1/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/products/search

{
  "query": "winter coat"
}</pre>
</div>
</div>
</details>
<details>
<summary class="title">See full response (formatted)</summary>
<div class="content">
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">{
  "meta": {
    "alerts": [],
    "warnings": [],
    "precision": 2,
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 3,
      "size": 10
    },
    "engine": {
      "name": "products",
      "type": "default"
    },
    "request_id": "qQq_gg9PT_migDYWsTIPyw"
  },
  "results": [
    {
      "price": {
        "raw": 150
      },
      "name": {
        "raw": "Hooded parka"
      },
      "rating": {
        "raw": 5
      },
      "_meta": {
        "engine": "products",
        "score": 1.7014124e+38,
        "id": "hooded-parka"
      },
      "id": {
        "raw": "hooded-parka"
      }
    },
    {
      "price": {
        "raw": 200
      },
      "name": {
        "raw": "Down winter jacket"
      },
      "rating": {
        "raw": 4
      },
      "_meta": {
        "engine": "products",
        "score": 1.7014122e+38,
        "id": "down-winter-jacket"
      },
      "id": {
        "raw": "down-winter-jacket"
      }
    },
    {
      "price": {
        "raw": 75
      },
      "name": {
       "raw": "Down winter jacket"
      },
      "rating": {
        "raw": 4
      },
      "_meta": {
        "engine": "products",
        "score": 1.7014122e+38,
        "id": "down-winter-jacket"
      },
      "id": {
        "raw": "down-winter-jacket"
      }
    },
    {
      "price": {
        "raw": 75
      },
      "name": {
        "raw": "Winter field coat"
      },
      "rating": {
        "raw": 4
      },
      "_meta": {
        "engine": "products",
        "score": 6.537158,
        "id": "winter-field-coat"
      },
      "id": {
        "raw": "winter-field-coat"
      }
    }
  ]
}</pre>
</div>
</div>
</details>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-examples-sorted"></a>Sort curated results<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>The following example demonstrates the affect of <em>sorting</em> on curated results.</p>
<p>Sort the results by <code class="literal">price</code>, ascending (low to high):</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Winter field coat (<code class="literal">75</code>)
</li>
<li class="listitem">
Hooded parka (<code class="literal">150</code>)
</li>
<li class="listitem">
Down winter jacket (<code class="literal">200</code>)
</li>
</ol>
</div>
<p>Observe the following:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Hooded parka</strong></span> is still included, despite not matching the query
</li>
<li class="listitem">
<span class="strong strong"><strong>Hooded parka</strong></span> and <span class="strong strong"><strong>Down winter jacket</strong></span> now appear <em>after</em> <span class="strong strong"><strong>Winter field coat</strong></span>, because the documents are sorted by <code class="literal">price</code> rather than <code class="literal">_score</code>
</li>
</ul>
</div>
<details>
<summary class="title">Sort curated results</summary>
<div class="content">
<div class="pre_wrapper lang-html">
<pre class="programlisting prettyprint lang-html">GET <a href="/guide/en/enterprise-search/8.1/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/products/search

{
  "query": "winter coat",
  "sort": { "price": "asc" }
}</pre>
</div>
</div>
</details>
<details>
<summary class="title">See full response (formatted)</summary>
<div class="content">
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">{
  "meta": {
    "alerts": [],
    "warnings": [],
    "precision": 2,
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 3,
      "size": 10
    },
    "engine": {
      "name": "products",
      "type": "default"
    },
    "request_id": "PjSYjwuETQ2YyC05VmynHw"
  },
  "results": [
    {
      "price": {
        "raw": 75
      },
      "name": {
        "raw": "Winter field coat"
      },
      "rating": {
        "raw": 4
      },
      "_meta": {
        "engine": "products",
        "score": null,
        "id": "winter-field-coat"
      },
      "id": {
        "raw": "winter-field-coat"
      }
    },
    {
      "price": {
        "raw": 150
      },
      "name": {
        "raw": "Hooded parka"
      },
      "rating": {
        "raw": 5
      },
      "_meta": {
        "engine": "products",
        "score": null,
        "id": "hooded-parka"
      },
      "id": {
        "raw": "hooded-parka"
      }
    },
    {
      "price": {
        "raw": 200
      },
      "name": {
        "raw": "Down winter jacket"
      },
      "rating": {
        "raw": 4
      },
      "_meta": {
        "engine": "products",
        "score": null,
        "id": "down-winter-jacket"
      },
      "id": {
        "raw": "down-winter-jacket"
      }
    }
  ]
}</pre>
</div>
</div>
</details>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="curations-examples-grouped"></a>Group curated results<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.1/app-search-docs/guides/curations.asciidoc">edit</a></h4>
</div></div></div>
<p>The following example demonstrates the affect of <em>grouping</em> on curated results.</p>
<p>Group the results by <code class="literal">rating</code>:</p>
<p><code class="literal">5</code>:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Hooded parka
</li>
</ol>
</div>
<p><code class="literal">4</code>:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Winter field coat
</li>
<li class="listitem">
Down winter jacket
</li>
</ol>
</div>
<p>Observe the following:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Hooded parka</strong></span> is still included, despite not matching the query
</li>
<li class="listitem">
<span class="strong strong"><strong>Down winter jacket</strong></span> now appears <em>after</em> <span class="strong strong"><strong>Winter field coat</strong></span>, because the documents are organized in groups by their <code class="literal">rating</code> rather than sorted by <code class="literal">score</code>
</li>
</ul>
</div>
<details>
<summary class="title">Group curated results</summary>
<div class="content">
<div class="pre_wrapper lang-html">
<pre class="programlisting prettyprint lang-html">GET <a href="/guide/en/enterprise-search/8.1/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/products/search

{
  "query": "winter coat",
  "group": { "field": "rating" }
}</pre>
</div>
</div>
</details>
<details>
<summary class="title">See full response (formatted)</summary>
<div class="content">
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">{
  "meta": {
    "alerts": [],
    "warnings": [],
    "precision": 2,
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 2,
      "size": 10
    },
    "engine": {
      "name": "products",
      "type": "default"
    },
    "request_id": "XegjDUewRWOj-5sr70DBYw"
  },
  "results": [
    {
      "name": {
        "raw": "Hooded parka"
      },
      "price": {
        "raw": 150
      },
      "rating": {
        "raw": 5
      },
      "_meta": {
        "engine": "products",
        "score": 1.7014124e+38,
        "id": "hooded-parka"
      },
      "id": {
        "raw": "hooded-parka"
      },
      "_group": [],
      "_group_key": 5
    },
    {
      "name": {
        "raw": "Down winter jacket"
      },
      "price": {
        "raw": 200
      },
      "rating": {
        "raw": 4
      },
      "_meta": {
        "engine": "products",
        "score": 1.7014122e+38,
        "id": "down-winter-jacket"
      },
      "id": {
        "raw": "down-winter-jacket"
      },
      "_group": [
        {
          "name": {
            "raw": "Winter field coat"
          },
          "price": {
            "raw": 75
          },
          "rating": {
            "raw": 4
          },
          "_meta": {
            "engine": "products",
            "score": 6.537158,
            "id": "winter-field-coat"
          },
          "id": {
            "raw": "winter-field-coat"
          }
        }
      ],
      "_group_key": 4
    }
  ]
}</pre>
</div>
</div>
</details>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="crawl-private-network-cloud.html">« Crawl a private network using a web crawler on Elastic Cloud</a>
</span>
<span class="next">
<a href="facets-guide.html">Facets Guide »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
