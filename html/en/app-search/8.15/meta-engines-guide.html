<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Meta Engines Guide | App Search documentation [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Meta Engines Guide | App Search documentation [8.15]">

<link rel="home" href="index.html" title="App Search documentation [8.15]"/>
<link rel="up" href="guides.html" title="Guides"/>
<link rel="prev" href="logs.html" title="Log settings guide"/>
<link rel="next" href="precision-tuning.html" title="Precision tuning (beta)"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="App Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/8.15"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="8.15"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="logs.html">« Log settings guide</a>
</span>
<span class="next">
<a href="precision-tuning.html">Precision tuning (beta) »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">App Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="guides.html">Guides</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Meta Engines Guide</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="meta-engines-guide"></a>Meta Engines Guide<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h2>
</div></div></div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="meta-engines-guide-what"></a>What is a Meta Engine<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h3>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is not available for all Elastic subscription levels.
Refer to the subscriptions pages for <a href="/subscriptions/cloud" class="ulink" target="_blank" rel="noopener">Elastic Cloud</a> and <a href="/subscriptions" class="ulink" target="_blank" rel="noopener">Elastic Stack</a>.
To change your subscription level or start a trial, see <a href="/guide/en/enterprise-search/8.15/license-management.html" class="ulink" target="_blank" rel="noopener">Subscriptions and features</a>.</p>
</div>
</div>
<p>A <span class="strong strong"><strong>Meta Engine</strong></span> is an Engine that has no Documents of its own. Instead, it combines multiple other Engines so that they can be searched together as if they were a single Engine.</p>
<p>The Engines that comprise a Meta Engine are referred to as <span class="strong strong"><strong>Source Engines</strong></span>.</p>
<p><span class="strong strong"><strong>Example</strong></span>: Two Engines, "western-national-parks" and "eastern-national-parks" can be combined in a Meta Engine named "national-parks" so that they can be searched as one data-set.</p>
<div class="pre_wrapper lang-html">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-html">GET <a href="/guide/en/enterprise-search/8.15/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/parks/search

{
  "results": [
    {
      "id": "eastern-national-parks|park_shenandoah",
      "_meta": {
        "id": "park_shenandoah",
        "engine": "eastern-national-parks"
      }
    },
    {
      "id": "western-national-parks|park_yosemite",
      "_meta": {
        "id": "park_yosemite",
        "engine": "western-national-parks"
      }
    }
  ]
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="meta-engines-guide-why"></a>Why use a Meta Engine?<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h3>
</div></div></div>
<p>Meta Engines allow users to create a document-less Engine that searches over a set of existing Engines, with search settings that are separate from those Source Engines. They enable comprehensive search over a collection of documents that have subsets with different search setting requirements.</p>
<p>For example, search experiences in large organizations often require documents from multiple business units, with standalone sites with Relevance Tunings specific to their needs. They still need to be part of a company-wide search experience, and organization-wide search priorities that require Curations or Relevance Tunings that differ from specific business-unit needs. Meta Engines allow both to exist together with a single engine-source-of-truth.</p>
<p>Permissions also come into play - one unit might not want other units to be able to write new documents into their Engine, for example. <span class="strong strong"><strong>Remember, anyone with access to a Meta Engine has read access to all the Source Engines attached to it.</strong></span></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="meta-engines-guide-pitfalls"></a>Pitfalls<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h3>
</div></div></div>
<p>Meta Engines are useful but there are many other cases where a single Engine is a better choice. Here are some examples where Meta Engines are not the right solution:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Large amounts of fields</strong></span>: Meta Engines aren&#8217;t a way to expand the number of fields for a single set of documents. The best search results appear after condensing fields to just the essentials within one Engine. Remember that more fields results in slower queries.
</li>
<li class="listitem">
<span class="strong strong"><strong>A way to avoid identifying search language</strong></span>: If you have the same content in multiple languages, indexing all of them using the Universal language choice works well. If you do have different Engines for each language, a much more effective pattern is to identify the language&#8201;&#8212;&#8201;e.g. via browser language settings or language detection&#8201;&#8212;&#8201;and direct the query to the correct Engine.
</li>
<li class="listitem">
<span class="strong strong"><strong>Adjustments to <a class="xref" href="relevance-tuning-guide.html" title="Relevance Tuning Guide, Weights and Boosts">Relevance Tuning</a> for a single Engine</strong></span>: Search settings are controllable from the query side; consider passing <a class="xref" href="search-fields-weights.html" title="Search API search fields">Search Fields</a> query parameters instead.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="meta-engines-guide-remember"></a>Things to Remember<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h3>
</div></div></div>
<p>There are a few important things to remember that will help make Meta Engines work for you:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Unified Schemas</strong></span>: Meta Engine schemas are the union of all Source Engines schemas. Therefore, if two Source Engines share a field, their names must match - if the names are different, they will be treated as a different field! As well, the fields need to have the same type. See more below on how schema conflicts are treated.
</li>
<li class="listitem">
<span class="strong strong"><strong>Schema changes bubble up</strong></span>: Changes to a Source Engine&#8217;s schema will bubble up to a Meta Engine - so when changing field names or types in Source Engines, remember those are passed to the Meta Engine. Make sure to adapt any queries that rely on specific fields or their types.
</li>
<li class="listitem">
<span class="strong strong"><strong>Settings changes do not bubble up</strong></span>: Things like <a class="xref" href="curations-guide.html" title="Curations">Curations</a>, <a class="xref" href="relevance-tuning-guide.html" title="Relevance Tuning Guide, Weights and Boosts">Relevance Tuning</a>, or <a class="xref" href="result-settings-guide.html" title="Result Settings Guide">Result Settings</a> that are made in a Source Engine will not affect queries on the Meta Engine.
</li>
<li class="listitem">
<span class="strong strong"><strong>Permissions</strong></span>: Meta Engine users have read permissions to all the docs visible to the Meta Engine. Conversely, having write permissions to a Meta Engine doesn&#8217;t grant write permission to Source Engines.
</li>
<li class="listitem">
<span class="strong strong"><strong>Documents and Schemas within Meta Engines are Read-Only</strong></span> - Meta Engines contain no Documents of their own. Because of this, no Document management or Schema updates can be performed directly on a Meta Engine, and instead must be performed on individual Source Engines.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="meta-engines-guide-create-ui"></a>Creating Meta Engines in the UI<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h3>
</div></div></div>
<p>You must have the "Admin" or "Owner" role to create a Meta Engine.</p>
<p>Navigate to the Meta Engine page using the <span class="strong strong"><strong>Meta Engines</strong></span> link in the main navigation. This is the main page where Meta Engines are managed.</p>
<p>Click on <span class="strong strong"><strong>Create a Meta Engine</strong></span>. Name your Meta Engine and pick 2 or more existing Engines to use as Source Engines.</p>
<p>After completing this form your Meta Engine will be available for use immediately.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="meta-engines-guide-change-source"></a>Changing Source Engines in Meta Engines<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h3>
</div></div></div>
<p>Source Engines can be freely changed after a Meta Engine has been created.</p>
<p>Within the navigation of a Meta Engine, navigate to the Engines page via the <span class="strong strong"><strong>Engines</strong></span> link. This page lists the current Source Engines for your Meta Engine and allows you to add and remove them.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Use caution when adding a Source Engine to an existing Meta Engine. If adding a new Source Engine would create a <a class="xref" href="meta-engines-guide.html#meta-engines-guide-conflicts" title="Meta Engine Schema and Conflicts">Schema Conflict</a>, that field will become disabled and disappear from search query results. See more below on how schema conflicts are treated.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="meta-engines-guide-create-api"></a>Managing Meta Engines with the API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h3>
</div></div></div>
<p>Meta Engines can also be created and managed through the API.</p>
<p>See the <a class="xref" href="meta-engines.html" title="Source engines API"><span class="strong strong"><strong>Meta Engines API</strong></span></a> reference for more information.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="meta-engines-guide-conflicts"></a>Meta Engine Schema and Conflicts<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="meta-engines-guide-field-type-conflicts"></a>Schema field type conflicts<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h4>
</div></div></div>
<p>A meta engine&#8217;s schema is the combination of the source engines' schemas. This can be seen on the meta Engine&#8217;s schema page, which shows the schema fields along with the source engines those fields originate from.</p>
<p>If two or more source engines define a field with the same name and the same field type, then they will be treated as a single field within the schema.</p>
<p><span class="strong strong"><strong>Example</strong></span>: If two source engines, <code class="literal">western-national-parks</code> and <code class="literal">eastern-national-parks</code>, each have a "name" field of type "text", the meta engines schema will also have a "name" field of type "text".</p>
<p>If however, two or more source engines have a field with the same name and <span class="strong strong"><strong>a different</strong></span> field type, then that is considered a schema field type conflict and that field will be completely disabled; meaning it will not be returned in search results, it cannot be filtered on, it cannot be used for boosting, etc.</p>
<p><span class="strong strong"><strong>Example</strong></span>: If two source engines, <code class="literal">western-national-parks</code> and <code class="literal">eastern-national-parks</code>, each have a "visitors" field, but <code class="literal">western-national-parks</code> defines it as "text" and <code class="literal">eastern-national-parks</code> defines it as "number", then the "visitors" field will be disabled.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Because of the "disabling" nature of schema conflicts, it is recommended to use caution when editing source engines.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="meta-engines-guide-resolve-conflicts"></a>Resolving a schema field type conflict<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h5>
</div></div></div>
<p>A schema field type conflict can be resolved by navigating to the source engine directly in the UI and updating the field type of the conflicting field to match that of the other source engines.</p>
<p><span class="strong strong"><strong>Example</strong></span>: To resolve a schema field type conflict on the "visitors" field between the <code class="literal">western-national-parks</code> and <code class="literal">eastern-national-parks</code> source engines, you would navigate to the <code class="literal">western-national-parks</code> engine&#8217;s schema page and update the "visitors" field to type "number", or vice versa.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="meta-engines-guide-mapping-conflicts"></a>Mapping conflicts<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h4>
</div></div></div>
<p>When using an <a class="xref" href="elasticsearch-engines.html" title="Elasticsearch index engines">Elasticsearch index engine</a> in a meta engine, you may see the following error:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
   "errors" : [
      "Source engines have incompatible field mappings for the following fields: foo"
   ]
}</pre>
</div>
<p>This means the Elasticsearch mappings of the multiple <code class="literal">foo</code> fields are not compatible with each other.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="meta-engines-guide-mapping-conflicts-examples-text"></a>Text field mapping conflicts examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h5>
</div></div></div>
<p><code class="literal">engine-1</code>: An App Search engine with the following schema:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{ "foo": "text" }</pre>
</div>
<p><code class="literal">engine-2</code>: An Elasticsearch index engine with the following Elasticsearch mapping:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "foo": {
      "type": "text",
      "fields": {
        "keyword": {
          "type": "keyword"
        }
      }
    }
  }
}</pre>
</div>
<p><code class="literal">engine-3</code>: An Elasticsearch index engine with the following Elasticsearch mapping:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "properties": {
    "foo": {
      "type": "keyword",
      "fields": {
        "stem": {
          "type": "text"
        }
      }
    }
  }
}</pre>
</div>
<p>For each index App Search infers a <code class="literal">keyword</code> subfield automatically to be used in search request to build features like facets, filters, &#8230;&#8203;
In this situation, there isn&#8217;t a consistent name for the subfield across the indices:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
In <code class="literal">engine-1</code> the subfield name is <code class="literal">foo.enum</code>
</li>
<li class="listitem">
In <code class="literal">engine-2</code> the subfield name is <code class="literal">foo.keyword</code>
</li>
<li class="listitem">
In <code class="literal">engine-3</code> the subfield name is <code class="literal">foo</code>
</li>
</ul>
</div>
<p>To resolve the mapping conflict, reindex data for engine-2 and engine-3 into new indices that follow the <a class="xref" href="elasticsearch-engines-text-subfields-support-conventions.html" title="Elasticsearch engines text field conventions">Enterprise Search mapping conventions</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="meta-engines-guide-mapping-conflicts-examples-numeric"></a>Non-text field mapping conflicts examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h5>
</div></div></div>
<p><code class="literal">engine-1</code>: An App Search engine with the following schema:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{ "foo": "number" }</pre>
</div>
<p><code class="literal">engine-2</code>: An Elasticsearch index engine with the following Elasticsearch mapping:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "properties": {
    "foo": {
      "type": "float"
    }
  }
}</pre>
</div>
<p>For each index App Search infers a numeric subfield to be used in search request to build features like facets, filters, &#8230;&#8203;
In this situation, there isn&#8217;t a consistent name for the subfield across the indices:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
In <code class="literal">engine-1</code> the subfield name is <code class="literal">foo.float</code>
</li>
<li class="listitem">
In <code class="literal">engine-2</code> the subfield name is <code class="literal">foo</code>
</li>
</ul>
</div>
<p>There is currently no workaround to solve such a mapping conflict.</p>
</div>

</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="meta-engines-guide-scoped-ids"></a>Scoped Document IDs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.15/app-search-docs/guides/meta-engines.asciidoc">edit</a></h3>
</div></div></div>
<p>Documents within Meta Engines always use a <span class="strong strong"><strong>Scoped ID</strong></span>, rather than a typical Document ID. A Scoped ID is the combination of Engine Name and Document ID with a pipe delimiter.</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">{Engine Name}|{Document ID}</pre>
</div>
<p><span class="strong strong"><strong>Example</strong></span>: eastern-national-parks|park_shenandoah</p>
<p>Keep this in mind, because you will need to use a Scoped ID when using API endpoints like the <a class="xref" href="curations.html" title="Curations API reference">Curations</a> endpoint for Meta Engines, which requires a Document ID as a parameter.</p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="logs.html">« Log settings guide</a>
</span>
<span class="next">
<a href="precision-tuning.html">Precision tuning (beta) »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
