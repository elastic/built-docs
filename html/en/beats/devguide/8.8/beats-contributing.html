<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Contributing to Beats | Beats Developer Guide [8.8] | Elastic</title>
<meta class="elastic" name="content" content="Contributing to Beats | Beats Developer Guide [8.8]">

<link rel="home" href="index.html" title="Beats Developer Guide [8.8]"/>
<link rel="up" href="index.html" title="Beats Developer Guide [8.8]"/>
<link rel="prev" href="pr-review.html" title="Pull request review guidelines"/>
<link rel="next" href="contributing-docs.html" title="Contributing to the docs"/>
<meta class="elastic" name="product_version" content="8.8"/>
<meta class="elastic" name="product_name" content="Beats"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Devguide/Reference/8.8"/>
<meta name="DC.subject" content="Beats"/>
<meta name="DC.identifier" content="8.8"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Beats Developer Guide [8.8]</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="pr-review.html">« Pull request review guidelines</a>
</span>
<span class="next">
<a href="contributing-docs.html">Contributing to the docs »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="beats-contributing"></a>Contributing to Beats<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h1>
</div></div></div>
<p>If you have a bugfix or new feature that you would like to contribute, please
start by opening a topic on the <a href="https://discuss.elastic.co/c/beats" class="ulink" target="_top">forums</a>.
It may be that somebody is already working on it, or that there are particular
issues that you should know about before implementing the change.</p>
<p>We enjoy working with contributors to get their code accepted. There are many
approaches to fixing a problem and it is important to find the best approach
before writing too much code. After committing your code, check out the
<a href="/community/contributor" class="ulink" target="_top">Elastic Contributor Program</a>
where you can earn points and rewards for your contributions.</p>
<p>The process for contributing to any of the Elastic repositories is similar.</p>
<h3><a id="contribution-steps"></a>Contribution Steps<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Please make sure you have signed our
<a href="/contributor-agreement/" class="ulink" target="_top">Contributor License Agreement</a>. We
are not asking you to assign copyright to us, but to give us the right to
distribute your code without restriction. We ask this of all contributors in
order to assure our users of the origin and continuing existence of the code.
You only need to sign the CLA once.
</li>
<li class="listitem">
Send a pull request! Push your changes to your fork of the repository and
<a href="https://help.github.com/articles/using-pull-requests" class="ulink" target="_top">submit a pull request</a> using our
<a class="xref" href="pr-review.html" title="Pull request review guidelines">pull request guidelines</a>. New PRs go to the main branch. The Beats
core team will backport your PR if it is necessary.
</li>
</ol>
</div>
<p>In the pull request, describe what your changes do and mention
any bugs/issues related to the pull request. Please also add a changelog entry to
<a href="https://github.com/elastic/beats/blob/main/CHANGELOG.next.asciidoc" class="ulink" target="_top">CHANGELOG.next.asciidoc</a>.</p>
<h3><a id="setting-up-dev-environment"></a>Setting Up Your Dev Environment<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h3>
<p>The Beats are Go programs, so install the 1.19.9 version of
<a href="http://golang.org/" class="ulink" target="_top">Go</a> which is being used for Beats development.</p>
<p>After <a href="https://golang.org/doc/install" class="ulink" target="_top">installing Go</a>, set the
<a href="https://golang.org/doc/code.html#GOPATH" class="ulink" target="_top">GOPATH</a> environment variable to point to
your workspace location, and make sure <code class="literal">$GOPATH/bin</code> is in your PATH.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>One deterministic manner to install the proper Go version to work with Beats is to use the
<a href="https://github.com/andrewkroh/gvm" class="ulink" target="_top">GVM</a> Go version manager. An example for Mac users would be:</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">gvm use 1.19.9
eval $(gvm 1.19.9)</pre>
</div>
<p>Then you can clone Beats git repository:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">mkdir -p ${GOPATH}/src/github.com/elastic
git clone https://github.com/elastic/beats ${GOPATH}/src/github.com/elastic/beats</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you have multiple go paths, use <code class="literal">${GOPATH%%:*}</code> instead of <code class="literal">${GOPATH}</code>.</p>
</div>
</div>
<p>Beats developers primarily use <a href="https://github.com/magefile/mage" class="ulink" target="_top">Mage</a> for development.
You can install mage using a make target:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">make mage</pre>
</div>
<p>Then you can compile a particular Beat by using Mage. For example, for Filebeat:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">cd beats/filebeat
mage build</pre>
</div>
<p>You can list all available mage targets with:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">mage -l</pre>
</div>
<p>Some of the Beats might have extra development requirements, in which case
you&#8217;ll find a CONTRIBUTING.md file in the Beat directory.</p>
<p>We use an <a href="http://editorconfig.org/" class="ulink" target="_top">EditorConfig</a> file in the beats repository
to standardise how different editors handle whitespace, line endings, and other
coding styles in our files. Most popular editors have a
<a href="http://editorconfig.org/#download" class="ulink" target="_top">plugin</a> for EditorConfig and we strongly
recommend that you install it.</p>
<h3><a id="update-scripts"></a>Update scripts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h3>
<p>The Beats use a variety of scripts based on Python, make and mage to generate configuration files
and documentation. The primary command used for this is:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">make update</pre>
</div>
<p>Each Beat has its own <code class="literal">update</code> target (for both <code class="literal">make</code> and <code class="literal">mage</code>), as well as a master <code class="literal">update</code> in the repository root.
If a PR adds or removes a dependency, run <code class="literal">make update</code> in the root <code class="literal">beats</code> directory.</p>
<p>Another command properly formats go source files and adds a copyright header:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">make fmt</pre>
</div>
<p>Both of these commands should be run before submitting a PR. You can view all
the available make targets with <code class="literal">make help</code>.</p>
<p>These commands have the following dependencies:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Python &gt;= 3.7
</li>
<li class="listitem">
Python <a href="https://docs.python.org/3/library/venv.html" class="ulink" target="_top">venv module</a>
</li>
<li class="listitem">
<a href="https://github.com/magefile/mage" class="ulink" target="_top">Mage</a>
</li>
</ul>
</div>
<p>Python venv module is included in the standard library in Python 3. On Debian/Ubuntu
systems it also requires to install the <code class="literal">python3-venv</code> package, that includes
additional support scripts:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">sudo apt-get install python3-venv</pre>
</div>
<h3><a id="build-target-env-vars"></a>Selecting Build Targets<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h3>
<p>Beats is built using the <code class="literal">make release</code> target. By default, make will select from a limited number of preset build targets:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
darwin/amd64
</li>
<li class="listitem">
linux/386
</li>
<li class="listitem">
linux/amd64
</li>
<li class="listitem">
windows/386
</li>
<li class="listitem">
windows/amd64
</li>
</ul>
</div>
<p>You can change build targets using the <code class="literal">PLATFORMS</code> environment variable. Targets set with the <code class="literal">PLATFORMS</code> variable can either be a GOOS value, or a GOOS/arch pair.
For example, <code class="literal">linux</code> and <code class="literal">linux/amd64</code> are both valid targets. You can select multiple targets, and the <code class="literal">PLATFORMS</code> list is space delimited, for example <code class="literal">darwin windows</code> will build on all supported darwin and windows architectures.
In addition, you can add or remove from the list of build targets by prepending <code class="literal">+</code> or <code class="literal">-</code> to a given target. For example: <code class="literal">+bsd</code> or <code class="literal">-darwin</code>.</p>
<p>You can find the complete list of supported build targets with <code class="literal">go tool dist list</code>.</p>
<h3><a id="running-linter"></a>Linting<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h3>
<p>Beats uses <a href="https://golangci-lint.run/" class="ulink" target="_top">golangci-lint</a>. You can run the pre-configured linter against your change:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">mage llc</pre>
</div>
<p><code class="literal">llc</code> stands for <code class="literal">Lint Last Change</code> which includes all the Go files that were changed in either the last commit (if you&#8217;re on the <code class="literal">main</code> branch) or in a difference between your feature branch and the <code class="literal">main</code> branch.</p>
<p>It&#8217;s expected that sometimes a contributor will be asked to fix linter issues unrelated to their contribution since the linter was introduced later than changes in some of the files.</p>
<p>You can also run the linter against an individual package, for example the filbeat command package:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">golangci-lint run ./filebeat/cmd/...</pre>
</div>
<h3><a id="running-testsuite"></a>Testing<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h3>
<p>You can run the whole testsuite with the following command:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">make testsuite</pre>
</div>
<p>Running the testsuite has the following requirements:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Python &gt;= 3.7
</li>
<li class="listitem">
Docker &gt;= 1.12
</li>
<li class="listitem">
Docker-compose &gt;= 1.11
</li>
</ul>
</div>
<p>For more details, refer to the <a class="xref" href="testing.html" title="Testing">Testing</a> guide.</p>
<h3><a id="documentation"></a>Documentation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h3>
<p>The main documentation for each Beat is located under <code class="literal">&lt;beatname&gt;/docs</code> and is
based on <a href="https://docs.asciidoctor.org/asciidoc/latest/" class="ulink" target="_top">AsciiDoc</a>. The Beats
documentation also makes extensive use of conditionals and content reuse to
ensure consistency and accuracy. Before contributing to the documentation, read
the following resources:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/docs/blob/master/README.asciidoc" class="ulink" target="_top">Docs HOWTO</a>
</li>
<li class="listitem">
<a class="xref" href="contributing-docs.html" title="Contributing to the docs">Contributing to the docs</a>
</li>
</ul>
</div>
<h3><a id="dependencies"></a>Dependencies<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h3>
<p>In order to create Beats we rely on Golang libraries and other
external tools.</p>
<h4><a id="_other_dependencies"></a>Other dependencies<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h4>
<p>Besides Go libraries, we are using development tools to generate parsers for inputs and processors.</p>
<p>The following packages are required to run <code class="literal">go generate</code>:</p>
<h5><a id="_auditbeat"></a>Auditbeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
FlatBuffers &gt;= 1.9
</li>
</ul>
</div>
<h5><a id="_filebeat"></a>Filebeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Graphviz &gt;= 2.43.0
</li>
<li class="listitem">
Ragel &gt;= 6.10
</li>
</ul>
</div>
<h3><a id="changelog"></a>Changelog<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.8/docs/devguide/contributing.asciidoc">edit</a></h3>
<p>To keep up to date with changes to the official Beats for community developers,
follow the developer changelog
<a href="https://github.com/elastic/beats/blob/main/CHANGELOG-developer.next.asciidoc" class="ulink" target="_top">here</a>.</p>


</div>
<div class="navfooter">
<span class="prev">
<a href="pr-review.html">« Pull request review guidelines</a>
</span>
<span class="next">
<a href="contributing-docs.html">Contributing to the docs »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
