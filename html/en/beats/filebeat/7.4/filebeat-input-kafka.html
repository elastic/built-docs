<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Kafka input
        | Filebeat Reference [7.4]
      | Elastic
    </title><link rel="home" href="index.html" title="Filebeat Reference [7.4]" /><link rel="up" href="configuration-filebeat-options.html" title="Configure inputs" /><link rel="prev" href="filebeat-input-container.html" title="Container input" /><link rel="next" href="filebeat-input-redis.html" title="Redis input" /><meta name="DC.type" content="Learn/Docs/Filebeat/Reference/7.4" /><meta name="DC.subject" content="Filebeat" /><meta name="DC.identifier" content="7.4" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Filebeat Reference
      [7.4]
    </a></span> » <span class="breadcrumb-link"><a href="configuring-howto-filebeat.html">Configuring Filebeat</a></span> » <span class="breadcrumb-link"><a href="configuration-filebeat-options.html">Configure inputs</a></span> » <span class="breadcrumb-node">Kafka input</span></div><div class="navheader"><span class="prev"><a href="filebeat-input-container.html">
              « 
              Container input</a>
           
        </span><span class="next">
           
          <a href="filebeat-input-redis.html">Redis input
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="filebeat-input-kafka"></a>Kafka input<a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Use the <code class="literal">kafka</code> input to read from topics in a Kafka cluster.</p><p>To configure this input, specify a list of one or more <a class="link" href="filebeat-input-kafka.html#kafka-hosts" title="hosts"><code class="literal">hosts</code></a> in the
cluster to bootstrap the connection with, a list of <a class="link" href="filebeat-input-kafka.html#topics" title="topics"><code class="literal">topics</code></a> to
track, and a <a class="link" href="filebeat-input-kafka.html#groupid" title="group_id"><code class="literal">group_id</code></a> for the connection.</p><p>Example configuration:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: kafka
  hosts:
    - kafka-broker-1:9092
    - kafka-broker-2:9092
  topics: ["my-topic"]
  group_id: "filebeat"</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="filebeat-input-kafka-options"></a>Configuration options<a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The <code class="literal">kafka</code> input supports the following configuration options plus the
<a class="xref" href="filebeat-input-kafka.html#filebeat-input-kafka-common-options" title="Common options">Common options</a> described later.</p><h5><a id="kafka-hosts"></a><code class="literal">hosts</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>A list of Kafka bootstrapping hosts (brokers) for this cluster.</p><h5><a id="topics"></a><code class="literal">topics</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>A list of topics to read from.</p><h5><a id="groupid"></a><code class="literal">group_id</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The Kafka consumer group id.</p><h5><a id="_client_id"></a><code class="literal">client_id</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The Kafka client id (optional).</p><h5><a id="_version"></a><code class="literal">version</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The version of the Kafka protocol to use (defaults to <code class="literal">"1.0.0"</code>).</p><h5><a id="_initial_offset"></a><code class="literal">initial_offset</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The initial offset to start reading, either "oldest" or "newest". Defaults to
"oldest".</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_connect_backoff"></a><code class="literal">connect_backoff</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>How long to wait before trying to reconnect to the kafka cluster after a
fatal error. Default is 30s.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_consume_backoff"></a><code class="literal">consume_backoff</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>How long to wait before retrying a failed read. Default is 2s.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_max_wait_time"></a><code class="literal">max_wait_time</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>How long to wait for the minimum number of input bytes while reading. Default
is 250ms.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_wait_close"></a><code class="literal">wait_close</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>When shutting down, how long to wait for in-flight messages to be delivered
and acknowledged.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_isolation_level"></a><code class="literal">isolation_level</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>This configures the Kafka group isolation level:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="literal">"read_uncommitted"</code> returns <span class="emphasis"><em>all</em></span> messages in the message channel.</li><li class="listitem"><code class="literal">"read_committed"</code> hides messages that are part of an aborted transaction.</li></ul></div><p>The default is <code class="literal">"read_uncommitted"</code>.</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_fetch"></a><code class="literal">fetch</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Kafka fetch settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="strong strong"><strong><code class="literal">min</code></strong></span></span></dt><dd>The minimum number of bytes to wait for. Defaults to 1.</dd><dt><span class="term"><span class="strong strong"><strong><code class="literal">default</code></strong></span></span></dt><dd>The default number of bytes to read per request. Defaults to 1MB.</dd><dt><span class="term"><span class="strong strong"><strong><code class="literal">max</code></strong></span></span></dt><dd>The maximum number of bytes to read per request. Defaults to 0
(no limit).</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_rebalance"></a><code class="literal">rebalance</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-kafka.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Kafka rebalance settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="strong strong"><strong><code class="literal">strategy</code></strong></span></span></dt><dd>Either <code class="literal">"range"</code> or <code class="literal">"roundrobin"</code>. Defaults to <code class="literal">"range"</code>.</dd><dt><span class="term"><span class="strong strong"><strong><code class="literal">timeout</code></strong></span></span></dt><dd>How long to wait for an attempted rebalance. Defaults to 60s.</dd><dt><span class="term"><span class="strong strong"><strong><code class="literal">max_retries</code></strong></span></span></dt><dd>How many times to retry if rebalancing fails. Defaults to 4.</dd><dt><span class="term"><span class="strong strong"><strong><code class="literal">retry_backoff</code></strong></span></span></dt><dd>How long to wait after an unsuccessful rebalance attempt.
Defaults to 2s.</dd></dl></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="filebeat-input-kafka-common-options"></a>Common options<a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The following configuration options are supported by all inputs.</p><h5><a id="_enabled_4"></a><code class="literal">enabled</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>Use the <code class="literal">enabled</code> option to enable and disable inputs. By default, enabled is
set to true.</p><h5><a id="_tags_4"></a><code class="literal">tags</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>A list of tags that Filebeat includes in the <code class="literal">tags</code> field of each published
event. Tags make it easy to select specific events in Kibana or apply
conditional filtering in Logstash. These tags will be appended to the list of
tags specified in the general configuration.</p><p>Example:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: kafka
  . . .
  tags: ["json"]</pre></div><h5><a id="filebeat-input-kafka-fields"></a><code class="literal">fields</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>Optional fields that you can specify to add additional information to the
output. For example, you might add fields that you can use for filtering log
data. Fields can be scalar values, arrays, dictionaries, or any nested
combination of these. By default, the fields that you specify here will be
grouped under a <code class="literal">fields</code> sub-dictionary in the output document. To store the
custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.
If a duplicate field is declared in the general configuration, then its value
will be overwritten by the value declared here.</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: kafka
  . . .
  fields:
    app_id: query_engine_12</pre></div><h5><a id="fields-under-root-kafka"></a><code class="literal">fields_under_root</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>If this option is set to true, the custom
<a class="link" href="filebeat-input-kafka.html#filebeat-input-kafka-fields" title="fields">fields</a> are stored as top-level fields in
the output document instead of being grouped under a <code class="literal">fields</code> sub-dictionary. If
the custom field names conflict with other field names added by Filebeat,
then the custom fields overwrite the other fields.</p><h5><a id="_processors_4"></a><code class="literal">processors</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>A list of processors to apply to the input data.</p><p>See <a class="xref" href="filtering-and-enhancing-data.html" title="Filter and enhance the exported data"><em>Filter and enhance the exported data</em></a> for information about specifying
processors in your config.</p><h5><a id="_pipeline_4"></a><code class="literal">pipeline</code><a href="https://github.com/elastic/beats/edit/7.4/filebeat/docs/inputs/input-common-options.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The Ingest Node pipeline ID to set for the events generated by this input.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The pipeline ID can also be configured in the Elasticsearch output, but
this option usually results in simpler configuration files. If the pipeline is
configured both in the input and output, the option from the
input is used.</p></div></div></div></div><div class="navfooter"><span class="prev"><a href="filebeat-input-container.html">
              « 
              Container input</a>
           
        </span><span class="next">
           
          <a href="filebeat-input-redis.html">Redis input
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
