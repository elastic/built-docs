<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Deploy Functionbeat to your cloud provider | Functionbeat Reference [7.17] | Elastic</title>
<link rel="home" href="index.html" title="Functionbeat Reference [7.17]"/>
<link rel="up" href="setting-up-and-running.html" title="Set up and deploy Functionbeat"/>
<link rel="prev" href="iam-permissions.html" title="IAM permissions required to deploy Functionbeat"/>
<link rel="next" href="command-line-options.html" title="Functionbeat command reference"/>
<meta name="DC.type" content="Learn/Docs/Functionbeat/Reference/7.17"/>
<meta name="DC.subject" content="Functionbeat"/>
<meta name="DC.identifier" content="7.17"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Functionbeat Reference [7.17]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="setting-up-and-running.html">Set up and deploy Functionbeat</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="iam-permissions.html">« IAM permissions required to deploy Functionbeat</a>
</span>
<span class="next">
<a href="command-line-options.html">Functionbeat command reference »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="deploy-to-cloud-provider"></a>Deploy Functionbeat to your cloud provider<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.17/x-pack/functionbeat/docs/deploying.asciidoc">edit</a></h2>
</div></div></div>
<p>After configuring Functionbeat and defining cloud functions for the services
you want to monitor, deploy the functions to your cloud provider. To do this,
you can use the Functionbeat manager (good for getting started), or use your
own deployment infrastructure.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="manager-deployment"></a>Use the Functionbeat manager<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.17/x-pack/functionbeat/docs/deploying.asciidoc">edit</a></h3>
</div></div></div>
<p>Use the built-in manager to deploy, update, or delete Functionbeat functions
when you don&#8217;t have your own deployment infrastructure or process in place.</p>
<p>During deployment, the Functionbeat manager:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Exports a function template to use for deployment. For AWS, it exports an
<a href="https://aws.amazon.com/cloudformation/" class="ulink" target="_top">AWS CloudFormation</a> template. To inspect the template, run the
<a class="xref" href="command-line-options.html#export-command" title="export command"><code class="literal">export</code></a> command.
</li>
<li class="listitem">
Creates a zip package that includes the function code and <code class="literal">functionbeat.yml</code>
config file.
</li>
<li class="listitem">
Uploads the package to the specified cloud provider.
</li>
</ul>
</div>
<p>See <a class="xref" href="functionbeat-installation-configuration.html#functionbeat-deploying" title="Step 5: Deploy Functionbeat">Step 5: Deploy Functionbeat</a> in the getting started to learn how to deploy
functions by using the Functionbeat manager.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="own-deployment"></a>Use your own deployment infrastructure<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.17/x-pack/functionbeat/docs/deploying.asciidoc">edit</a></h3>
</div></div></div>
<p>If you don&#8217;t want to use the Functionbeat manager, use your own deployment
infrastructure. To do this, create a package, then deploy it to your cloud
provider:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Set the following environment variables:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">BEAT_STRICT_PERMS=false</code>
</span>
</dt>
<dd>
This setting makes the function skip the ownership
check on the configuration file.
</dd>
<dt>
<span class="term">
<code class="literal">ENABLED_FUNCTIONS=function-name-1,function-name-2</code>
</span>
</dt>
<dd>
<p>
Specifies a
comma-separated list of functions that are enabled in the configuration file. For
example, to package functions called <code class="literal">my-kinesis</code> and <code class="literal">my-cloudwatch-logs</code>, run:
</p>
<p><span class="strong strong"><strong>linux and mac</strong></span>:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">export BEAT_STRICT_PERMS=false
export ENABLED_FUNCTIONS=my-kinesis,my-cloudwatch-logs</pre>
</div>
<p><span class="strong strong"><strong>win</strong></span>:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">set BEAT_STRICT_PERMS=false
set ENABLED_FUNCTIONS=my-kinesis,my-cloudwatch-logs</pre>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>For easier management, we recommend having one Lambda per function.</p>
</div>
</div>
</dd>
</dl>
</div>
</li>
<li class="listitem">
<p>Run the <code class="literal">package</code> command to package the functions and dependencies into an
archive. For example:</p>
<p><span class="strong strong"><strong>linux and mac:</strong></span></p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./functionbeat -v -e -d "*" package --output /path/to/folder/package-{{.Provider}}.zip</pre>
</div>
<p><span class="strong strong"><strong>win:</strong></span></p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">.\functionbeat.exe -v -e -d "*" package --output /path/to/folder/package-{{.Provider}}.zip</pre>
</div>
<p>For <code class="literal">--output</code> specify a full path pattern.</p>
<p>The <code class="literal">package</code> command generates deployment packages for each provider specified
in the configuration. Each package contains:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
a binary with the function code
</li>
<li class="listitem">
the <code class="literal">functionbeat.yml</code> config file
</li>
</ul>
</div>
</li>
<li class="listitem">
If certificates are required, add the cert files to the zip package under the
same path as the configured <code class="literal">functionbeat.yml</code> file.
</li>
<li class="listitem">
<p>Export a function template to use for deployment:</p>
<p><span class="strong strong"><strong>linux and mac:</strong></span></p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./functionbeat export function FUNCTION_NAME</pre>
</div>
<p><span class="strong strong"><strong>win:</strong></span></p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">.\functionbeat.exe export function FUNCTION_NAME</pre>
</div>
<p>Functionbeat writes the template to stdout. For AWS functions, it writes an
<a href="https://aws.amazon.com/cloudformation/" class="ulink" target="_top">AWS CloudFormation</a> template.</p>
</li>
<li class="listitem">
Modify the template to work with your infrastructure.
</li>
<li class="listitem">
<p>Deploy the package, using the infrastructure and automation supported by your
cloud provider, for example, <a href="https://aws.amazon.com/cloudformation/" class="ulink" target="_top">AWS CloudFormation</a>.</p>
<p>For more information about deployment, see your cloud provider&#8217;s documentation.</p>
</li>
</ol>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="iam-permissions.html">« IAM permissions required to deploy Functionbeat</a>
</span>
<span class="next">
<a href="command-line-options.html">Functionbeat command reference »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
