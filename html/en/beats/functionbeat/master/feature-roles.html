<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Grant users access to secured resources
        | Functionbeat Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Functionbeat Reference [master]" /><link rel="up" href="securing-beats.html" title="Configure Functionbeat to use X-Pack security" /><link rel="prev" href="securing-beats.html" title="Configure Functionbeat to use X-Pack security" /><link rel="next" href="beats-basic-auth.html" title="Configure authentication credentials" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Functionbeat/Reference/master" /><meta name="DC.subject" content="Functionbeat" /><meta name="DC.identifier" content="master" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Functionbeat Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="securing-functionbeat.html">Securing Functionbeat</a></span> » <span class="breadcrumb-link"><a href="securing-beats.html">Configure Functionbeat to use X-Pack security</a></span> » <span class="breadcrumb-node">Grant users access to secured resources</span></div><div class="navheader"><span class="prev"><a href="securing-beats.html">
              « 
              Configure Functionbeat to use X-Pack security</a>
           
        </span><span class="next">
           
          <a href="beats-basic-auth.html">Configure authentication credentials
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="feature-roles"></a>Grant users access to secured resources<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/security/users.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>You can use role-based access control to grant users access to secured
resources. The roles that you set up depend on your organization’s security
requirements and the minimum privileges required to use specific features.</p><p>Typically you need the create the following separate roles:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="link" href="feature-roles.html#privileges-to-setup-beats" title="Grant privileges and roles needed for setup">setup role</a> for setting up index templates and
other dependencies
</li><li class="listitem">
<a class="link" href="feature-roles.html#privileges-to-publish-monitoring" title="Grant privileges and roles needed for monitoring">monitoring role</a> for sending monitoring
information
</li><li class="listitem">
<a class="link" href="feature-roles.html#privileges-to-publish-events" title="Grant privileges and roles needed for publishing">writer role</a>  for publishing events collected
by Functionbeat
</li><li class="listitem">
<a class="link" href="feature-roles.html#kibana-user-privileges" title="Grant privileges and roles needed to read Functionbeat data">reader role</a> for Kibana users who need to view and
create visualizations that access Functionbeat data
</li></ul></div><p>X-Pack security provides built-in roles that grant a subset of the privileges
needed by Functionbeat users. When possible, use the built-in roles to minimize
the affect of future changes on your security strategy.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="privileges-to-setup-beats"></a>Grant privileges and roles needed for setup<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/security/users.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>Setting up Functionbeat is an admin-level task that requires extra
privileges. As a best practice, grant the setup role to administrators only, and
use a less restrictive role for event publishing.</p></div></div><p>Administrators who set up Functionbeat typically need to load mappings,
dashboards, and other objects used to index data into Elasticsearch and visualize it in
Kibana.</p><p>To grant users the required privileges:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Create a <span class="strong strong"><strong>setup role</strong></span>, called something like <code class="literal">functionbeat_setup</code>, that has
the following privileges:
</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Privileges </th><th align="left" valign="top"> Why needed?</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">monitor</code></p></td><td align="left" valign="top"><p>Send monitoring data to the cluster</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">manage_ilm</code></p></td><td align="left" valign="top"><p>Set up and manage index lifecycle management (ILM) policy</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">manage_ml</code></p></td><td align="left" valign="top"><p>Set up machine learning job configurations</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">manage</code> on <code class="literal">functionbeat-*</code> indices</p></td><td align="left" valign="top"><p>Set up aliases used by ILM</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">read</code> on <code class="literal">functionbeat-*</code> indices</p></td><td align="left" valign="top"><p>Read Functionbeat indices in order to set up machine learning jobs</p></td></tr></tbody></table></div><p class="simpara">Omit any privileges that aren’t relevant in your environment.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>These instructions assume that you are using the default name for
Functionbeat indices. If you are using a custom name, modify the privileges to
match your index naming pattern.</p></div></div></li><li class="listitem"><p class="simpara">
Assign the <span class="strong strong"><strong>setup role</strong></span>, along with the following built-in roles, to users who
need to set up Functionbeat:
</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Roles </th><th align="left" valign="top"> Why needed?</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">kibana_user</code></p></td><td align="left" valign="top"><p>Load dependencies, such as example dashboards, if available, into Kibana</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ingest_admin</code></p></td><td align="left" valign="top"><p>Set up index templates and, if available, ingest pipelines</p></td></tr></tbody></table></div><p class="simpara">Omit any roles that aren’t relevant in your environment.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="privileges-to-publish-monitoring"></a>Grant privileges and roles needed for monitoring<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/security/users.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>X-Pack security provides built-in users and roles for monitoring. The privileges and
roles needed depend on the method used to collect monitoring data.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_internal_collection"></a>Internal collection<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/security/users.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>For <a class="link" href="monitoring-internal-collection.html" title="Collect Functionbeat monitoring data with internal collectors">internal collection</a>, X-Pack security
provides the <code class="literal">functionbeat_system</code>
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/built-in-users.html" target="_top">built-in user</a> and
<code class="literal">functionbeat_system</code> <a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/built-in-roles.html" target="_top">built-in
role</a> for sending monitoring information. You can use the built-in user, or
create a user who has the privileges needed to send monitoring information.</p><p>If you use the <code class="literal">functionbeat_system</code> user, make sure you
<a class="link" href="beats-system-user.html" title="Set the password for the built-in monitoring user">set the password</a>.</p><p>If you don’t use the <code class="literal">functionbeat_system</code> user:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Create a <span class="strong strong"><strong>monitoring role</strong></span>, called something like
<code class="literal">functionbeat_monitoring</code>, that has the following privileges:
</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Privileges </th><th align="left" valign="top"> Why needed?</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">monitor</code></p></td><td align="left" valign="top"><p>Send monitoring info</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">kibana_user</code></p></td><td align="left" valign="top"><p>Use Kibana</p></td></tr></tbody></table></div></li><li class="listitem"><p class="simpara">
Assign the <span class="strong strong"><strong>monitoring role</strong></span>, along with the following built-in role, to
users who need to monitor Functionbeat:
</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Role </th><th align="left" valign="top"> Why needed?</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">monitoring_user</code></p></td><td align="left" valign="top"><p>Use <span class="strong strong"><strong>Stack Monitoring</strong></span> in Kibana to monitor Functionbeat</p></td></tr></tbody></table></div></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="privileges-to-publish-events"></a>Grant privileges and roles needed for publishing<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/security/users.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Users who publish events to Elasticsearch need to create and read from Functionbeat
indices. To minimize the privileges required by the writer role, you can use the
<a class="link" href="feature-roles.html#privileges-to-setup-beats" title="Grant privileges and roles needed for setup">setup role</a> to pre-load dependencies. Then turn off
setup options in the  Functionbeat config file before running Functionbeat to
publish events. For example:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">setup.template.enabled: false
setup.ilm.check_exists: false
setup.ilm.overwrite: false <a id="CO8-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO8-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>
Omit <code class="literal">ilm.check_exists</code> and <code class="literal">ilm.overwrite</code> if ILM is disabled.
</p></td></tr></table></div><p>To grant the required privileges:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Create a <span class="strong strong"><strong>writer role</strong></span>, called something like <code class="literal">functionbeat_writer</code>, that has
the following privileges (this list assumes the setup options shown earlier are
set to <code class="literal">false</code>):
</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Privileges </th><th align="left" valign="top"> Why needed?</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">monitor</code></p></td><td align="left" valign="top"><p>Send monitoring info</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">read_ilm</code></p></td><td align="left" valign="top"><p>Read the ILM policy when connecting to clusters that support ILM</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">view_index_metadata</code> on <code class="literal">functionbeat-*</code> indices</p></td><td align="left" valign="top"><p>Check for alias when connecting to clusters that support ILM</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">index</code> on <code class="literal">functionbeat-*</code> indices</p></td><td align="left" valign="top"><p>Index events into Elasticsearch</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">create_index</code> on <code class="literal">functionbeat-*</code> indices</p></td><td align="left" valign="top"><p>Create daily indices when connecting to clusters that do not support ILM</p></td></tr></tbody></table></div><p class="simpara">Omit any privileges that aren’t relevant in your environment.</p></li><li class="listitem">
Assign the <span class="strong strong"><strong>writer role</strong></span> to users who will index events into Elasticsearch.
</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="kibana-user-privileges"></a>Grant privileges and roles needed to read Functionbeat data<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/security/users.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Kibana users typically need to view dashboards and visualizations that contain
Functionbeat data. These users might also need to create and edit dashboards
and visualizations.</p><p>To grant users the required privileges:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Create a <span class="strong strong"><strong>reader role</strong></span>, called something like <code class="literal">functionbeat_reader</code>, that has
the following privilege:
</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Privilege </th><th align="left" valign="top"> Why needed?</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">read</code> on <code class="literal">functionbeat-*</code> indices</p></td><td align="left" valign="top"><p>Read data indexed by Functionbeat</p></td></tr></tbody></table></div></li><li class="listitem"><p class="simpara">
Assign the <span class="strong strong"><strong>reader role</strong></span>, along with the following built-in roles, to
users who need to read Functionbeat data:
</p><div class="informaltable"><table cellpadding="4px" border="1"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><thead><tr><th align="left" valign="top">Roles </th><th align="left" valign="top"> Why needed?</th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">kibana_user</code> or <code class="literal">kibana_dashboard_only_user</code></p></td><td align="left" valign="top"><p>Use Kibana. <code class="literal">kibana_dashboard_only_user</code> grants read-only access to dashboards.</p></td></tr></tbody></table></div><p class="simpara">Omit any roles that aren’t relevant in your environment.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="learn-more-security"></a>Learn more about users and roles<a href="https://github.com/elastic/beats/edit/master/libbeat/docs/security/users.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>Want to learn more about creating users and roles? See
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/elasticsearch-security.html" target="_top">Securing the Elastic Stack</a>. Also see:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/security-privileges.html" target="_top">Security privileges</a> for a description of
available privileges
</li><li class="listitem">
<a class="ulink" href="https://www.elastic.co/guide/en/elastic-stack-overview/master/built-in-roles.html" target="_top">Built-in roles</a> for a description of roles that
you can assign to users
</li></ul></div></div></div><div class="navfooter"><span class="prev"><a href="securing-beats.html">
              « 
              Configure Functionbeat to use X-Pack security</a>
           
        </span><span class="next">
           
          <a href="beats-basic-auth.html">Configure authentication credentials
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
