<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Configure the Logstash output | Journalbeat Reference [6.8] | Elastic</title>
<link rel="home" href="index.html" title="Journalbeat Reference [6.8]"/>
<link rel="up" href="configuring-output.html" title="Configure the output"/>
<link rel="prev" href="elasticsearch-output.html" title="Configure the Elasticsearch output"/>
<link rel="next" href="kafka-output.html" title="Configure the Kafka output"/>
<meta name="DC.type" content="Learn/Docs/Journalbeat/Reference/6.8"/>
<meta name="DC.subject" content="Journalbeat"/>
<meta name="DC.identifier" content="6.8"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<p>
  This functionality is experimental and may be changed or removed completely in a
  future release. Elastic will take a best effort approach to fix any issues, but
  experimental features are not subject to the support SLA of official GA
  features.
</p>
<p>  
<strong>NOTE</strong>: This  You are looking at documentation for an older release. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Journalbeat Reference [6.8]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="configuring-howto-journalbeat.html">Configuring Journalbeat</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="configuring-output.html">Configure the output</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="elasticsearch-output.html">« Configure the Elasticsearch output</a>
</span>
<span class="next">
<a href="kafka-output.html">Configure the Kafka output »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="logstash-output"></a>Configure the Logstash output<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h2>
</div></div></div>

<p>The Logstash output sends events directly to Logstash by using the lumberjack
protocol, which runs over TCP. Logstash allows for additional processing and routing of
generated events.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Prerequisite</h3>
<p>To send events to Logstash, you also need to create a Logstash configuration pipeline
that listens for incoming Beats connections and indexes the received events into
Elasticsearch. For more information, see the section about
<a href="/guide/en/elastic-stack-get-started/6.8/get-started-elastic-stack.html#logstash-setup" class="ulink" target="_top">configuring Logstash</a> in
the Elastic Stack getting started tutorial. Also see the documentation for the
<a href="/guide/en/logstash/6.8/plugins-inputs-beats.html" class="ulink" target="_top">Beats input</a> and
<a href="/guide/en/logstash/6.8/plugins-outputs-elasticsearch.html" class="ulink" target="_top">Elasticsearch output</a> plugins.</p>
</div>
</div>
<p>If you want to use Logstash to perform additional processing on the data collected by
Journalbeat, you need to configure Journalbeat to use Logstash.</p>
<p>To do this, you edit the Journalbeat configuration file to disable the Elasticsearch
output by commenting it out and enable the Logstash output by uncommenting the
logstash section:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">#----------------------------- Logstash output --------------------------------
output.logstash:
  hosts: ["127.0.0.1:5044"]</pre>
</div>
<p>The <code class="literal">hosts</code> option specifies the Logstash server and the port (<code class="literal">5044</code>) where Logstash is configured to listen for incoming
Beats connections.</p>
<p>For this configuration, you must <a class="xref" href="journalbeat-template.html#load-template-manually" title="Load the template manually">load the index template into Elasticsearch manually</a>
because the options for auto loading the template are only available for the Elasticsearch output.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>To test your configuration file, change to the directory where the
Journalbeat binary is installed, and run Journalbeat in the foreground with
the following options specified: <code class="literal">./journalbeat test config -e</code>. Make sure your
config files are in the path expected by Journalbeat (see <a class="xref" href="directory-layout.html" title="Directory layout">Directory layout</a>),
or use the <code class="literal">-c</code> flag to specify the path to the config file.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_accessing_metadata_fields"></a>Accessing metadata fields<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h3>
</div></div></div>
<p>Every event sent to Logstash contains the following metadata fields that you can
use in Logstash for indexing and filtering:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
    ...
    "@metadata": { <a id="CO7-1"></a><i class="conum" data-value="1"></i>
      "beat": "journalbeat", <a id="CO7-2"></a><i class="conum" data-value="2"></i>
      "version": "6.8.23" <a id="CO7-3"></a><i class="conum" data-value="3"></i>
      "type": "doc" <a id="CO7-4"></a><i class="conum" data-value="4"></i>
    }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO7-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Journalbeat uses the <code class="literal">@metadata</code> field to send metadata to Logstash. See the
<a href="/guide/en/logstash/6.8/event-dependent-configuration.html#metadata" class="ulink" target="_top">Logstash documentation</a>
for more about the <code class="literal">@metadata</code> field.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO7-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The default is journalbeat. To change this value, set the
<a class="xref" href="logstash-output.html#logstash-index" title="index"><code class="literal">index</code></a> option in the Journalbeat config file.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO7-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>The beats current version.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO7-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p>The value of <code class="literal">type</code> is currently hardcoded to <code class="literal">doc</code>. It was used by previous
Logstash configs to set the type of the document in Elasticsearch.</p>
</td>
</tr>
</table>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">@metadata.type</code> field, added by the Logstash output, is
deprecated, hardcoded to <code class="literal">doc</code>, and will be removed in Journalbeat 7.0.</p>
</div>
</div>
<p>You can access this metadata from within the Logstash config file to set values
dynamically based on the contents of the metadata.</p>
<p>For example, the following Logstash configuration file for versions 2.x and
5.x sets Logstash to use the index and document type reported by Beats for
indexing events into Elasticsearch:</p>
<div class="pre_wrapper lang-logstash">
<pre class="programlisting prettyprint lang-logstash">input {
  beats {
    port =&gt; 5044
  }
}

output {
  elasticsearch {
    hosts =&gt; ["http://localhost:9200"]
    index =&gt; "%{[@metadata][beat]}-%{[@metadata][version]}-%{+YYYY.MM.dd}" <a id="CO8-1"></a><i class="conum" data-value="1"></i>
  }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO8-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">%{[@metadata][beat]}</code> sets the first part of the index name to the value
of the <code class="literal">beat</code> metadata field, <code class="literal">%{[@metadata][version]}</code> sets the second part to
the Beat&#8217;s version, and <code class="literal">%{+YYYY.MM.dd}</code> sets the third part of the
name to a date based on the Logstash <code class="literal">@timestamp</code> field. For example:
<code class="literal">journalbeat-6.8.23-2017.03.29</code>.</p>
</td>
</tr>
</table>
</div>
<p>Events indexed into Elasticsearch with the Logstash configuration shown here
will be similar to events directly indexed by Beats into Elasticsearch.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_compatibility_3"></a>Compatibility<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h3>
</div></div></div>
<p>This output works with all compatible versions of Logstash. See the
<a href="/support/matrix#matrix_compatibility" class="ulink" target="_top">Elastic Support
Matrix</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_configuration_options_3"></a>Configuration options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h3>
</div></div></div>
<p>You can specify the following options in the <code class="literal">logstash</code> section of the
<code class="literal">journalbeat.yml</code> config file:</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_enabled_2"></a><code class="literal">enabled</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The enabled config is a boolean setting to enable or disable the output. If set
to false, the output is disabled.</p>
<p>The default value is true.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="hosts"></a><code class="literal">hosts</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The list of known Logstash servers to connect to. If load balancing is disabled, but
multiple hosts are configured, one host is selected randomly (there is no precedence).
If one host becomes unreachable, another one is selected randomly.</p>
<p>All entries in this list can contain a port number. If no port number is given, the
value specified for <a class="xref" href="logstash-output.html#port" title="port"><code class="literal">port</code></a> is used as the default port number.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_compression_level_2"></a><code class="literal">compression_level</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The gzip compression level. Setting this value to 0 disables compression.
The compression level must be in the range of 1 (best speed) to 9 (best compression).</p>
<p>Increasing the compression level will reduce the network usage but will increase the cpu usage.</p>
<p>The default value is 3.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_escape_html_2"></a><code class="literal">escape_html</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>Configure escaping of HTML in strings. Set to <code class="literal">false</code> to disable escaping.</p>
<p>The default value is <code class="literal">true</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_worker_2"></a><code class="literal">worker</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The number of workers per configured host publishing events to Logstash. This
is best used with load balancing mode enabled. Example: If you have 2 hosts and
3 workers, in total 6 workers are started (3 for each host).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="loadbalance"></a><code class="literal">loadbalance</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>If set to true and multiple Logstash hosts are configured, the output plugin
load balances published events onto all Logstash hosts. If set to false,
the output plugin sends all events to only one host (determined at random) and
will switch to another host if the selected one becomes unresponsive. The default value is false.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output.logstash:
  hosts: ["localhost:5044", "localhost:5045"]
  loadbalance: true
  index: journalbeat</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_ttl"></a><code class="literal">ttl</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>Time to live for a connection to Logstash after which the connection will be re-established.
Useful when Logstash hosts represent load balancers. Since the connections to Logstash hosts
are sticky operating behind load balancers can lead to uneven load distribution between the instances.
Specifying a TTL on the connection allows to achieve equal connection distribution between the
instances.  Specifying a TTL of 0 will disable this feature.</p>
<p>The default value is 0.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The "ttl" option is not yet supported on an async Logstash client (one with the "pipelining" option set).</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_pipelining"></a><code class="literal">pipelining</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>Configures number of batches to be sent asynchronously to logstash while waiting
for ACK from logstash. Output only becomes blocking once number of <code class="literal">pipelining</code>
batches have been written. Pipelining is disabled if a values of 0 is
configured. The default value is 2.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="port"></a><code class="literal">port</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Deprecated in 5.0.0.</p>
</div>
</div>
<p>The default port to use if the port number is not given in <a class="xref" href="logstash-output.html#hosts" title="hosts"><code class="literal">hosts</code></a>. The default port number
is 5044.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_proxy_url_2"></a><code class="literal">proxy_url</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The URL of the SOCKS5 proxy to use when connecting to the Logstash servers. The
value must be a URL with a scheme of <code class="literal">socks5://</code>. The protocol used to
communicate to Logstash is not based on HTTP so a web-proxy cannot be used.</p>
<p>If the SOCKS5 proxy server requires client authentication, then a username and
password can be embedded in the URL as shown in the example.</p>
<p>When using a proxy, hostnames are resolved on the proxy server instead of on the
client. You can change this behavior by setting the
<a class="xref" href="logstash-output.html#logstash-proxy-use-local-resolver" title="proxy_use_local_resolver"><code class="literal">proxy_use_local_resolver</code></a> option.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output.logstash:
  hosts: ["remote-host:5044"]
  proxy_url: socks5://user:password@socks5-proxy:2233</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="logstash-proxy-use-local-resolver"></a><code class="literal">proxy_use_local_resolver</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The <code class="literal">proxy_use_local_resolver</code> option determines if Logstash hostnames are
resolved locally when using a proxy. The default value is false which means
that when a proxy is used the name resolution occurs on the proxy server.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="logstash-index"></a><code class="literal">index</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The index root name to write events to. The default is the Beat name. For
example <code class="literal">"journalbeat"</code> generates <code class="literal">"[journalbeat-]6.8.23-YYYY.MM.DD"</code>
indices (for example, <code class="literal">"journalbeat-6.8.23-2017.04.26"</code>).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_ssl_2"></a><code class="literal">ssl</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>Configuration options for SSL parameters like the root CA for Logstash connections. See
<a class="xref" href="configuration-ssl.html" title="Specify SSL settings"><em>Specify SSL settings</em></a> for more information. To use SSL, you must also configure the
<a href="/guide/en/logstash/current/plugins-inputs-beats.html" class="ulink" target="_top">Beats input plugin for Logstash</a> to use SSL/TLS.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_timeout_2"></a><code class="literal">timeout</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The number of seconds to wait for responses from the Logstash server before timing out. The default is 30 (seconds).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_max_retries_2"></a><code class="literal">max_retries</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The number of times to retry publishing an event after a publishing failure.
After the specified number of retries, the events are typically dropped.</p>
<p>Set <code class="literal">max_retries</code> to a value less than 0 to retry until all events are published.</p>
<p>The default is 3.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_bulk_max_size_2"></a><code class="literal">bulk_max_size</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The maximum number of events to bulk in a single Logstash request. The default is 2048.</p>
<p>If the Beat sends single events, the events are collected into batches. If the Beat publishes
a large batch of events (larger than the value specified by <code class="literal">bulk_max_size</code>), the batch is
split.</p>
<p>Specifying a larger batch size can improve performance by lowering the overhead of sending events.
However big batch sizes can also increase processing times, which might result in
API errors, killed connections, timed-out publishing requests, and, ultimately, lower
throughput.</p>
<p>Setting <code class="literal">bulk_max_size</code> to values less than or equal to 0 disables the
splitting of batches. When splitting is disabled, the queue decides on the
number of events to be contained in a batch.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_slow_start"></a><code class="literal">slow_start</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>If enabled only a subset of events in a batch of events is transferred per transaction.
The number of events to be sent increases up to <code class="literal">bulk_max_size</code> if no error is encountered.
On error the number of events per transaction is reduced again.</p>
<p>The default is <code class="literal">false</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_backoff_init_2"></a><code class="literal">backoff.init</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The number of seconds to wait before trying to reconnect to Logstash after
a network error. After waiting <code class="literal">backoff.init</code> seconds, Journalbeat tries to
reconnect. If the attempt fails, the backoff timer is increased exponentially up
to <code class="literal">backoff.max</code>. After a successful connection, the backoff timer is reset. The
default is 1s.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_backoff_max_2"></a><code class="literal">backoff.max</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/6.8/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The maximum number of seconds to wait before attempting to connect to
Logstash after a network error. The default is 60s.</p>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="elasticsearch-output.html">« Configure the Elasticsearch output</a>
</span>
<span class="next">
<a href="kafka-output.html">Configure the Kafka output »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
