<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Beats version 5.0.0 | Beats Platform Reference [6.3] | Elastic</title>
<link rel="home" href="index.html" title="Beats Platform Reference [6.3]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-5.0.1.html" title="Beats version 5.0.1"/>
<link rel="next" href="release-notes-5.0.0-ga.html" title="Beats version 5.0.0-GA"/>
<meta name="DC.type" content="Learn/Docs/Libbeat/Reference/6.3"/>
<meta name="DC.subject" content="libbeat"/>
<meta name="DC.identifier" content="6.3"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Beats Platform Reference [6.3]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-5.0.1.html">« Beats version 5.0.1</a>
</span>
<span class="next">
<a href="release-notes-5.0.0-ga.html">Beats version 5.0.0-GA »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-5.0.0"></a>Beats version 5.0.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/6.3/libbeat/docs/release-notes/5.0.0.asciidoc">edit</a></h2>
</div></div></div>
<p>The list below covers changes between 1.x to 5.0.0 releases.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_breaking_changes_15"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/6.3/libbeat/docs/release-notes/5.0.0.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Rename the <code class="literal">filters</code> section to <code class="literal">processors</code>. <a href="https://github.com/elastic/beats/pull/1944" class="ulink" target="_top">1944</a>
</li>
<li class="listitem">
Require braces for environment variable expansion in config files <a href="https://github.com/elastic/beats/pull/1304" class="ulink" target="_top">1304</a>
</li>
<li class="listitem">
On DEB/RPM installations, the binary files are now found under <code class="literal">/usr/share/{{beat_name}}/bin</code>, not in <code class="literal">/usr/bin</code>. <a href="https://github.com/elastic/beats/pull/1385" class="ulink" target="_top">1385</a>
</li>
<li class="listitem">
The logs are written by default to self rotating files, instead of syslog. <a href="https://github.com/elastic/beats/pull/1371" class="ulink" target="_top">1371</a>
</li>
<li class="listitem">
Remove deprecated <code class="literal">host</code> option from elasticsearch, logstash and redis outputs. <a href="https://github.com/elastic/beats/pull/1474" class="ulink" target="_top">1474</a>
</li>
<li class="listitem">
All configuration settings under <code class="literal">shipper:</code> are moved to be top level configuration settings. I.e.
<code class="literal">shipper.name:</code> becomes <code class="literal">name:</code> in the configuration file. <a href="https://github.com/elastic/beats/pull/1570" class="ulink" target="_top">1570</a>
</li>
<li class="listitem">
The <code class="literal">topology_expire</code> option of the Elasticserach output was removed. <a href="https://github.com/elastic/beats/pull/1907" class="ulink" target="_top">1907</a>
</li>
<li class="listitem">
The Elasticsearch template is now loaded by default. <a href="https://github.com/elastic/beats/pull/1993" class="ulink" target="_top">1993</a>
</li>
<li class="listitem">
The Redis output <code class="literal">index</code> setting is renamed to <code class="literal">key</code>. <code class="literal">index</code> still works but it&#8217;s deprecated. <a href="https://github.com/elastic/beats/pull/2077" class="ulink" target="_top">2077</a>
</li>
<li class="listitem">
The undocumented file output <code class="literal">index</code> setting was removed. Use <code class="literal">filename</code> instead. <a href="https://github.com/elastic/beats/pull/2077" class="ulink" target="_top">2077</a>
</li>
<li class="listitem">
Change Elasticsearch output index configuration to be based on format strings. If index has been configured, no date will be appended anymore to the index name. <a href="https://github.com/elastic/beats/pull/2119" class="ulink" target="_top">2119</a>
</li>
<li class="listitem">
If the path specified by the <code class="literal">-c</code> flag is not absolute and <code class="literal">-path.config</code> is not specified, it
is considered relative to the current working directory. <a href="https://github.com/elastic/beats/pull/2245" class="ulink" target="_top">2245</a>
</li>
<li class="listitem">
Rename <code class="literal">tls</code> configurations section to <code class="literal">ssl</code>. <a href="https://github.com/elastic/beats/pull/2330" class="ulink" target="_top">2330</a>
</li>
<li class="listitem">
Rename <code class="literal">certificate_key</code> configuration to <code class="literal">key</code>. <a href="https://github.com/elastic/beats/pull/2330" class="ulink" target="_top">2330</a>
</li>
<li class="listitem">
Replace <code class="literal">tls.insecure</code> with <code class="literal">ssl.verification_mode</code> setting. <a href="https://github.com/elastic/beats/pull/2330" class="ulink" target="_top">2330</a>
</li>
<li class="listitem">
Replace <code class="literal">tls.min/max_version</code> with <code class="literal">ssl.supported_protocols</code> setting requiring full protocol name. <a href="https://github.com/elastic/beats/pull/2330" class="ulink" target="_top">2330</a>
</li>
<li class="listitem">
A dynamic mapping rule is added to the default Elasticsearch template to treat strings as keywords by default. <a href="https://github.com/elastic/beats/pull/2688" class="ulink" target="_top">2688</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Filebeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Scalar values in used in the <code class="literal">fields</code> configuration setting are no longer automatically converted to strings. <a href="https://github.com/elastic/beats/pull/1092" class="ulink" target="_top">1092</a>
</li>
<li class="listitem">
Count field was removed from event as not used in filebeat <a href="https://github.com/elastic/beats/issues/778" class="ulink" target="_top">778</a>
</li>
<li class="listitem">
Default location for the registry file was changed to be <code class="literal">data/registry</code> from the binary directory,
rather than <code class="literal">.filebeat</code> in the current working directory. This affects installations for zip/tar.gz/source,
the location for DEB and RPM packages stays the same. <a href="https://github.com/elastic/beats/pull/1373" class="ulink" target="_top">1373</a>
</li>
<li class="listitem">
The state for files which fall under ignore_older is not stored anymore. This has the consequence, that if a file which fell under ignore_older is updated, the whole file will be crawled.
</li>
<li class="listitem">
Ignore symlinks by default, but they can be enabled with <code class="literal">symlinks</code> config <a href="https://github.com/elastic/beats/pull/1686" class="ulink" target="_top">1686</a> <a href="https://github.com/elastic/beats/pull/2478" class="ulink" target="_top">2478</a>
</li>
<li class="listitem">
Set <code class="literal">close_inactive</code> default to 5 minutes (was 1 hour before)
</li>
<li class="listitem">
Set <code class="literal">clean_removed</code> and <code class="literal">close_removed</code> to true by default
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Packetbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Rename output fields in the dns package. Former flag <code class="literal">recursion_allowed</code> becomes <code class="literal">recursion_available</code>. <a href="https://github.com/elastic/beats/pull/803" class="ulink" target="_top">803</a>
Former SOA field <code class="literal">ttl</code> becomes <code class="literal">minimum</code>. <a href="https://github.com/elastic/beats/pull/803" class="ulink" target="_top">803</a>
</li>
<li class="listitem">
The fully qualified domain names which are part of output fields values of the dns package now terminate with a dot. <a href="https://github.com/elastic/beats/pull/803" class="ulink" target="_top">803</a>
</li>
<li class="listitem">
Remove the <code class="literal">count</code> field from the exported event <a href="https://github.com/elastic/beats/pull/1210" class="ulink" target="_top">1210</a>
</li>
<li class="listitem">
Configuration of redis topology support changed. <a href="https://github.com/elastic/beats/pull/1353" class="ulink" target="_top">1353</a>
</li>
<li class="listitem">
Move all Packetbeat configuration options under the packetbeat namespace <a href="https://github.com/elastic/beats/issues/1417" class="ulink" target="_top">1417</a>
</li>
<li class="listitem">
Set <code class="literal">enabled</code> ` in <code class="literal">packetbeat.protocols.icmp</code> configuration to <code class="literal">true</code> by default. <a href="https://github.com/elastic/beats/pull/1988" class="ulink" target="_top">1988</a>
</li>
<li class="listitem">
Group HTTP fields under <code class="literal">http.request</code> and <code class="literal">http.response</code> <a href="https://github.com/elastic/beats/pull/2167" class="ulink" target="_top">2167</a>
</li>
<li class="listitem">
Export <code class="literal">http.request.body</code> and <code class="literal">http.response.body</code> when configured under <code class="literal">include_body_for</code> <a href="https://github.com/elastic/beats/pull/2167" class="ulink" target="_top">2167</a>
</li>
<li class="listitem">
Move <code class="literal">ignore_outgoing</code> config to <code class="literal">packetbeat.ignore_outgoing</code> <a href="https://github.com/elastic/beats/pull/2393" class="ulink" target="_top">2393</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Winlogbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">message_inserts</code> field was replaced with the <code class="literal">event_data</code> field <a href="https://github.com/elastic/beats/issues/1053" class="ulink" target="_top">1053</a>
</li>
<li class="listitem">
The <code class="literal">category</code> field was renamed to <code class="literal">task</code> to better align with the Windows Event Log API naming <a href="https://github.com/elastic/beats/issues/1053" class="ulink" target="_top">1053</a>
</li>
<li class="listitem">
Remove the <code class="literal">count</code> field from the exported event <a href="https://github.com/elastic/beats/pull/1218" class="ulink" target="_top">1218</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_bugfixes_33"></a>Bugfixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/6.3/libbeat/docs/release-notes/5.0.0.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Logstash output will not retry events that are not JSON-encodable <a href="https://github.com/elastic/beats/pull/927" class="ulink" target="_top">927</a>
</li>
<li class="listitem">
Drain response buffers when pipelining is used by Redis output. <a href="https://github.com/elastic/beats/pull/1353" class="ulink" target="_top">1353</a>
</li>
<li class="listitem">
Unterminated environment variable expressions in config files will now cause an error <a href="https://github.com/elastic/beats/pull/1389" class="ulink" target="_top">1389</a>
</li>
<li class="listitem">
Fix issue with the automatic template loading when Elasticsearch is not available on Beat start. <a href="https://github.com/elastic/beats/issues/1321" class="ulink" target="_top">1321</a>
</li>
<li class="listitem">
Fix bug affecting <code class="literal">-cpuprofile</code>, <code class="literal">-memprofile</code>, and <code class="literal">-httpprof</code> CLI flags <a href="https://github.com/elastic/beats/pull/1415" class="ulink" target="_top">1415</a>
</li>
<li class="listitem">
Fix race when multiple outputs access the same event with logstash output manipulating event <a href="https://github.com/elastic/beats/issues/1410" class="ulink" target="_top">1410</a> <a href="https://github.com/elastic/beats/pull/1428" class="ulink" target="_top">1428</a>
</li>
<li class="listitem">
Seed random number generator using crypto.rand package. <a href="https://github.com/elastic/beats/pull/1503{1503" class="ulink" target="_top">https://github.com/elastic/beats/pull/1503{1503</a>]
</li>
<li class="listitem">
Fix beats hanging in <code class="literal">-configtest</code> <a href="https://github.com/elastic/beats/issues/1213" class="ulink" target="_top">1213</a>
</li>
<li class="listitem">
Reset backoff factor on partial ACK. <a href="https://github.com/elastic/beats/issues/1803" class="ulink" target="_top">1803</a>
</li>
<li class="listitem">
Fix beats load balancer deadlock if max_retries: -1 or publish_async is enabled in filebeat. <a href="https://github.com/elastic/beats/issues/1829" class="ulink" target="_top">1829</a>
</li>
<li class="listitem">
Fix logstash output with pipelining mode enabled not reconnecting. <a href="https://github.com/elastic/beats/issues/1876" class="ulink" target="_top">1876</a>
</li>
<li class="listitem">
Empty configuration sections become merge-able with variables containing full path. <a href="https://github.com/elastic/beats/pull/1900" class="ulink" target="_top">1900</a>
</li>
<li class="listitem">
Fix error message about required fields missing not printing the missing field name. <a href="https://github.com/elastic/beats/pull/1900" class="ulink" target="_top">1900</a>
</li>
<li class="listitem">
Fix sync publisher <code class="literal">PublishEvents</code> return value if client is closed concurrently. <a href="https://github.com/elastic/beats/pull/2046" class="ulink" target="_top">2046</a>
</li>
<li class="listitem">
Fix Logstash output handles error twice when asynchronous sending fails. <a href="https://github.com/elastic/beats/pull/2441" class="ulink" target="_top">2441</a>
</li>
<li class="listitem">
Fix Elasticsearch structured error response parsing error. <a href="https://github.com/elastic/beats/issues/2229" class="ulink" target="_top">2229</a>
</li>
<li class="listitem">
Fixed the run script to allow the overriding of the configuration file. <a href="https://github.com/elastic/beats/issues/2171" class="ulink" target="_top">2171</a>
</li>
<li class="listitem">
Fix logstash output crash if no hosts are configured. <a href="https://github.com/elastic/beats/issues/2325" class="ulink" target="_top">2325</a>
</li>
<li class="listitem">
Fix beats failing to start due to invalid duplicate key error in configuration file. <a href="https://github.com/elastic/beats/pull/2521" class="ulink" target="_top">2521</a>
</li>
<li class="listitem">
Fix panic on non writable logging directory. <a href="https://github.com/elastic/beats/pull/2571" class="ulink" target="_top">2571</a>
</li>
<li class="listitem">
Fix ignoring all fields from drop_fields in case the first field is unknown. <a href="https://github.com/elastic/beats/pull/2685" class="ulink" target="_top">2685</a>
</li>
<li class="listitem">
Fix dynamic configuration int/uint` to float type conversion. <a href="https://github.com/elastic/beats/pull/2698" class="ulink" target="_top">2698</a>
</li>
<li class="listitem">
Fix primitive types conversion if values are read from environment variables. <a href="https://github.com/elastic/beats/pull/2698" class="ulink" target="_top">2698</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Filebeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Stop filebeat if started without any prospectors defined or empty prospectors <a href="https://github.com/elastic/beats/pull/644" class="ulink" target="_top">644</a> <a href="https://github.com/elastic/beats/pull/647" class="ulink" target="_top">647</a>
</li>
<li class="listitem">
Improve shutdown of crawler and prospector to wait for clean completion <a href="https://github.com/elastic/beats/pull/720" class="ulink" target="_top">720</a>
</li>
<li class="listitem">
Omit <code class="literal">fields</code> from Filebeat events when null <a href="https://github.com/elastic/beats/issues/899" class="ulink" target="_top">899</a>
</li>
<li class="listitem">
Improvements in registrar dealing with file rotation. <a href="https://github.com/elastic/beats/pull/1281" class="ulink" target="_top">1281</a>
</li>
<li class="listitem">
Multiline reader normalizing newline to use <code class="literal">\n</code>. <a href="https://github.com/elastic/beats/pull/1552" class="ulink" target="_top">1552</a>
</li>
<li class="listitem">
Fix potential data loss between Filebeat restarts, reporting unpublished lines as published. <a href="https://github.com/elastic/beats/issues/2041" class="ulink" target="_top">2041</a>
</li>
<li class="listitem">
Fix open file handler issue. <a href="https://github.com/elastic/beats/issues/2028" class="ulink" target="_top">2028</a> <a href="https://github.com/elastic/beats/pull/2020" class="ulink" target="_top">2020</a>
</li>
<li class="listitem">
Fix async publisher sending empty events <a href="https://github.com/elastic/beats/pull/2455" class="ulink" target="_top">2455</a>
</li>
<li class="listitem">
Fix potential issue with multiple harvester per file on large file numbers or slow output <a href="https://github.com/elastic/beats/pull/2541" class="ulink" target="_top">2541</a>
</li>
<li class="listitem">
Fix input buffer on encoding problem. <a href="https://github.com/elastic/beats/pull/2416" class="ulink" target="_top">2416</a>
</li>
<li class="listitem">
Fix issue when <code class="literal">clean_removed</code> and <code class="literal">clean_inactive</code> were used together that states were not directly removed from the registry.
</li>
<li class="listitem">
Fix issue where upgrading a 1.x registry file resulted in duplicate state entries. <a href="https://github.com/elastic/beats/pull/2792" class="ulink" target="_top">2792</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Packetbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Create a proper BPF filter when ICMP is the only enabled protocol <a href="https://github.com/elastic/beats/issues/757" class="ulink" target="_top">757</a>
</li>
<li class="listitem">
Check column length in pgsql parser. <a href="https://github.com/elastic/beats/issues/565" class="ulink" target="_top">565</a>
</li>
<li class="listitem">
Harden pgsql parser. <a href="https://github.com/elastic/beats/issues/565" class="ulink" target="_top">565</a>
</li>
<li class="listitem">
Add missing nil-check to memcached GapInStream handler. <a href="https://github.com/elastic/beats/issues/1162" class="ulink" target="_top">1162</a>
</li>
<li class="listitem">
Fix NFSv4 Operation returning the first found first-class operation available in compound requests. <a href="https://github.com/elastic/beats/pull/1821" class="ulink" target="_top">1821</a>
</li>
<li class="listitem">
Fix TCP overlapping segments not being handled correctly. <a href="https://github.com/elastic/beats/pull/1898" class="ulink" target="_top">1898</a>
</li>
<li class="listitem">
Fix mapping for some Packetbeat flow metrics that were not marked as being longs. <a href="https://github.com/elastic/beats/issues/2177" class="ulink" target="_top">2177</a>
</li>
<li class="listitem">
Fix handling of messages larger than the maximum message size (10MB). <a href="https://github.com/elastic/beats/pull/2470" class="ulink" target="_top">2470</a>
</li>
<li class="listitem">
Fix the <code class="literal">bpf_filter</code> setting. <a href="https://github.com/elastic/beats/issues/2660" class="ulink" target="_top">2660</a>
</li>
<li class="listitem">
Fix compile issues for OpenBSD. <a href="https://github.com/elastic/beats/pull/1347" class="ulink" target="_top">1347</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Winlogbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix panic when reading messages larger than 32K characters on Windows XP and 2003. <a href="https://github.com/elastic/beats/pull/1498" class="ulink" target="_top">1498</a>
</li>
<li class="listitem">
Fix panic that occurs when reading a large events on Windows Vista and newer. <a href="https://github.com/elastic/beats/pull/1499" class="ulink" target="_top">1499</a>
</li>
<li class="listitem">
Adding missing argument to the "Stop processing" log message. <a href="https://github.com/elastic/beats/pull/1590" class="ulink" target="_top">1590</a>
</li>
<li class="listitem">
Fix issue with rendering forwarded event log records. <a href="https://github.com/elastic/beats/pull/1891" class="ulink" target="_top">1891</a>
</li>
<li class="listitem">
Fix potential data loss between Winlogbeat restarts, reporting unpublished lines as published. <a href="https://github.com/elastic/beats/issues/2041" class="ulink" target="_top">2041</a>
</li>
<li class="listitem">
Fix corrupt registry file that occurs on power loss by disabling file write caching. <a href="https://github.com/elastic/beats/issues/2313" class="ulink" target="_top">2313</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_added_22"></a>Added<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/6.3/libbeat/docs/release-notes/5.0.0.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update to Go 1.7. <a href="https://github.com/elastic/beats/pull/2306" class="ulink" target="_top">2306</a>
</li>
<li class="listitem">
Add option to Elasticsearch output to pass http parameters in index operations <a href="https://github.com/elastic/beats/issues/805" class="ulink" target="_top">805</a>
</li>
<li class="listitem">
Improve Logstash and Elasticsearch backoff behavior. <a href="https://github.com/elastic/beats/pull/927" class="ulink" target="_top">927</a>
</li>
<li class="listitem">
Add Kafka output. <a href="https://github.com/elastic/beats/pull/942" class="ulink" target="_top">942</a> <a href="https://github.com/elastic/beats/pull/2188" class="ulink" target="_top">2188</a> <a href="https://github.com/elastic/beats/pull/2190" class="ulink" target="_top">2190</a> <a href="https://github.com/elastic/beats/pull/2284" class="ulink" target="_top">2284</a>
</li>
<li class="listitem">
Add config file option to configure GOMAXPROCS. <a href="https://github.com/elastic/beats/pull/969" class="ulink" target="_top">969</a>
</li>
<li class="listitem">
Improve shutdown handling in libbeat. <a href="https://github.com/elastic/beats/pull/1075" class="ulink" target="_top">1075</a>
</li>
<li class="listitem">
Log total non-zero internal metrics on shutdown. <a href="https://github.com/elastic/beats/pull/2349" class="ulink" target="_top">2349</a>
</li>
<li class="listitem">
Add <code class="literal">fields</code> and <code class="literal">fields_under_root</code> options under the <code class="literal">shipper</code> configuration <a href="https://github.com/elastic/beats/pull/1092" class="ulink" target="_top">1092</a>
</li>
<li class="listitem">
Add the ability to use a SOCKS5 proxy with the Logstash output <a href="https://github.com/elastic/beats/issues/823" class="ulink" target="_top">823</a>
</li>
<li class="listitem">
The <code class="literal">-configtest</code> flag will now print "Config OK" to stdout on success <a href="https://github.com/elastic/beats/pull/1249" class="ulink" target="_top">1249</a>
</li>
<li class="listitem">
Add support for TLS to Redis output. <a href="https://github.com/elastic/beats/pull/1353" class="ulink" target="_top">1353</a>
</li>
<li class="listitem">
Add SOCKS5 proxy support to Redis output. <a href="https://github.com/elastic/beats/pull/1353" class="ulink" target="_top">1353</a>
</li>
<li class="listitem">
Failover and load balancing support in Redis output. <a href="https://github.com/elastic/beats/pull/1353" class="ulink" target="_top">1353</a>
</li>
<li class="listitem">
Multiple-worker per host support for Redis output. <a href="https://github.com/elastic/beats/pull/1353" class="ulink" target="_top">1353</a>
</li>
<li class="listitem">
Added ability to escape <code class="literal">${x}</code> in config files to avoid environment variable expansion <a href="https://github.com/elastic/beats/pull/1389" class="ulink" target="_top">1389</a>
</li>
<li class="listitem">
Configuration options and CLI flags for setting the home, data and config paths. <a href="https://github.com/elastic/beats/pull/1373" class="ulink" target="_top">1373</a>
</li>
<li class="listitem">
Configuration options and CLI flags for setting the default logs path. <a href="https://github.com/elastic/beats/pull/1437" class="ulink" target="_top">1437</a>
</li>
<li class="listitem">
Add Elasticsearch template files compatible with Elasticsearch 2.x. <a href="https://github.com/elastic/beats/pull/1501" class="ulink" target="_top">1501</a>
</li>
<li class="listitem">
Load the mapping template depending on the Elasticsearch version. <a href="https://github.com/elastic/beats/pull/1993" class="ulink" target="_top">1993</a>
</li>
<li class="listitem">
Add conditions to processors. <a href="https://github.com/elastic/beats/pull/1623" class="ulink" target="_top">1623</a>
</li>
<li class="listitem">
Enhance <code class="literal">contains</code> condition to work on fields that are arrays of strings. <a href="https://github.com/elastic/beats/issues/2237" class="ulink" target="_top">2237</a>
</li>
<li class="listitem">
Add OR/AND/NOT to the condition associated with the processors. <a href="https://github.com/elastic/beats/pull/1983" class="ulink" target="_top">1983</a>
</li>
<li class="listitem">
Improve error message if compiling regular expression from config files fails. <a href="https://github.com/elastic/beats/pull/1900" class="ulink" target="_top">1900</a>
</li>
<li class="listitem">
Compression support in the Elasticsearch output. <a href="https://github.com/elastic/beats/pull/1835" class="ulink" target="_top">1835</a>
</li>
<li class="listitem">
Periodically log internal metrics. <a href="https://github.com/elastic/beats/pull/1955" class="ulink" target="_top">1955</a>
</li>
<li class="listitem">
Add <code class="literal">enabled</code> setting to all output modules. <a href="https://github.com/elastic/beats/pull/1987" class="ulink" target="_top">1987</a>
</li>
<li class="listitem">
Command line flag <code class="literal">-c</code> can be used multiple times. <a href="https://github.com/elastic/beats/pull/1985" class="ulink" target="_top">1985</a>
</li>
<li class="listitem">
Add <code class="literal">-E</code> CLI flag for overwriting single config options via command line. <a href="https://github.com/elastic/beats/pull/1986" class="ulink" target="_top">1986</a>
</li>
<li class="listitem">
Check stdout being available when console output is configured. <a href="https://github.com/elastic/beats/issues/2035" class="ulink" target="_top">2035</a>
</li>
<li class="listitem">
Add script to generate the Kibana index-pattern from fields.yml. <a href="https://github.com/elastic/beats/pull/2122" class="ulink" target="_top">2122</a>
</li>
<li class="listitem">
Enhance Redis output key selection based on format string. <a href="https://github.com/elastic/beats/pull/2169" class="ulink" target="_top">2169</a>
</li>
<li class="listitem">
Configurable Redis <code class="literal">keys</code> using filters and format strings. <a href="https://github.com/elastic/beats/pull/2169" class="ulink" target="_top">2169</a>
</li>
<li class="listitem">
Lookup the configuration file relative to the <code class="literal">-path.config</code> CLI flag. <a href="https://github.com/elastic/beats/pull/2245" class="ulink" target="_top">2245</a>
</li>
<li class="listitem">
Re-write <code class="literal">import_dashboards</code> script in Golang. <a href="https://github.com/elastic/beats/pull/2155" class="ulink" target="_top">2155</a>
</li>
<li class="listitem">
Add support for encrypted private key files by introducing <code class="literal">ssl.key_passphrase</code> setting. <a href="https://github.com/elastic/beats/pull/2330" class="ulink" target="_top">2330</a>
</li>
<li class="listitem">
Add <code class="literal">beat.version</code> fields to all events.
</li>
<li class="listitem">
Make sure Beats sent always float values when they are defined as float by sending 5.00000 instead of 5. <a href="https://github.com/elastic/beats/pull/2627" class="ulink" target="_top">2627</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Filebeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add the ability to set a list of tags for each prospector <a href="https://github.com/elastic/beats/pull/1092" class="ulink" target="_top">1092</a>
</li>
<li class="listitem">
Add JSON decoding support <a href="https://github.com/elastic/beats/pull/1143" class="ulink" target="_top">1143</a>
</li>
<li class="listitem">
The registry format was changed to an array instead of dict. The migration to the new format will happen automatically at the first startup. <a href="https://github.com/elastic/beats/pull/1703" class="ulink" target="_top">1703</a>
</li>
<li class="listitem">
Introduce <code class="literal">close_removed</code> and <code class="literal">close_renamed</code> harvester options. <a href="https://github.com/elastic/beats/issues/1600" class="ulink" target="_top">1600</a>
</li>
<li class="listitem">
Introduce <code class="literal">close_eof</code> harvester option. <a href="https://github.com/elastic/beats/issues/1600" class="ulink" target="_top">1600</a>
</li>
<li class="listitem">
Add <code class="literal">clean_removed</code> and <code class="literal">clean_inactive</code> config option. <a href="https://github.com/elastic/beats/issues/1600" class="ulink" target="_top">1600</a>
</li>
<li class="listitem">
Introduce <code class="literal">close_timeout</code> harvester options <a href="https://github.com/elastic/beats/issues/1926" class="ulink" target="_top">1926</a>
</li>
<li class="listitem">
Strip BOM from first message in case of BOM files <a href="https://github.com/elastic/beats/issues/2351" class="ulink" target="_top">2351</a>
</li>
<li class="listitem">
Add <code class="literal">harvester_limit</code> option <a href="https://github.com/elastic/beats/pull/2417" class="ulink" target="_top">2417</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Packetbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change the DNS library used throughout the dns package to github.com/miekg/dns. <a href="https://github.com/elastic/beats/pull/803" class="ulink" target="_top">803</a>
</li>
<li class="listitem">
Add support for NFS v3 and v4. <a href="https://github.com/elastic/beats/pull/1231" class="ulink" target="_top">1231</a>
</li>
<li class="listitem">
Add support for EDNS and DNSSEC. <a href="https://github.com/elastic/beats/pull/1292" class="ulink" target="_top">1292</a>
</li>
<li class="listitem">
Add <code class="literal">enabled</code> setting to Packetbeat protocols. <a href="https://github.com/elastic/beats/pull/1988" class="ulink" target="_top">1988</a>
</li>
<li class="listitem">
Add <code class="literal">enabled</code> setting to Packetbeat network flows configuration. <a href="https://github.com/elastic/beats/pull/1988" class="ulink" target="_top">1988</a>
</li>
<li class="listitem">
Add Cassandra protocol analyzer to Packetbeat. <a href="https://github.com/elastic/beats/pull/1959" class="ulink" target="_top">1959</a>
</li>
<li class="listitem">
Match connections with IPv6 addresses to processes <a href="https://github.com/elastic/beats/pull/2254" class="ulink" target="_top">2254</a>
</li>
<li class="listitem">
Add IP address to <code class="literal">-devices</code> command output <a href="https://github.com/elastic/beats/pull/2327" class="ulink" target="_top">2327</a>
</li>
<li class="listitem">
Add configuration option for the maximum message size. Used to be hard-coded to 10 MB. <a href="https://github.com/elastic/beats/pull/2470" class="ulink" target="_top">2470</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Metricbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
First public release, containing the following modules: system, Apache, MySQL, PostgreSQL, Nginx, Redis, MongoDB, and Zookeeper.
Metricbeat is replacing Topbeat in 5.0, and its default behaviour is to export system statistics like CPU usage,
memory usage, Disk IO similar with what Topbeat 1.x is doing.
</li>
<li class="listitem">
Add <code class="literal">pgid</code> field to process information. <a href="https://github.com/elastic/beats/pull/" class="ulink" target="_top">https://github.com/elastic/beats/pull/</a> 2021[2021]
</li>
<li class="listitem">
Use the new <code class="literal">scaled_float</code> Elasticsearch type for the percentage values. <a href="https://github.com/elastic/beats/pull/2156" class="ulink" target="_top">2156</a>
</li>
<li class="listitem">
Improve mapping by converting <code class="literal">half_float</code> to <code class="literal">scaled_float</code> and integers to long. <a href="https://github.com/elastic/beats/pull/2430" class="ulink" target="_top">2430</a>
</li>
<li class="listitem">
Add experimental <code class="literal">cgroup</code> metrics to the system/process MetricSet. <a href="https://github.com/elastic/beats/pull/2184" class="ulink" target="_top">2184</a>
</li>
<li class="listitem">
Add experimental <code class="literal">haproxy</code> module. <a href="https://github.com/elastic/beats/pull/2384" class="ulink" target="_top">2384</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Winlogbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add caching of event metadata handles and the system render context for the wineventlog API <a href="https://github.com/elastic/beats/pull/888" class="ulink" target="_top">888</a>
</li>
<li class="listitem">
Improve config validation by checking for unknown top-level YAML keys. <a href="https://github.com/elastic/beats/pull/1100" class="ulink" target="_top">1100</a>
</li>
<li class="listitem">
Add the ability to set <code class="literal">tags</code>, <code class="literal">fields</code>, and <code class="literal">fields_under_root</code> as options for each event log <a href="https://github.com/elastic/beats/pull/1092" class="ulink" target="_top">1092</a>
</li>
<li class="listitem">
Add additional data to the events published by Winlogbeat. The new fields are <code class="literal">activity_id</code>,
<code class="literal">event_data</code>, <code class="literal">keywords</code>, <code class="literal">opcode</code>, <code class="literal">process_id</code>, <code class="literal">provider_guid</code>, <code class="literal">related_activity_id</code>,
<code class="literal">task</code>, <code class="literal">thread_id</code>, <code class="literal">user_data</code>, and <code class="literal">version</code>. <a href="https://github.com/elastic/beats/issues/1053" class="ulink" target="_top">1053</a>
</li>
<li class="listitem">
Add <code class="literal">event_id</code>, <code class="literal">level</code>, and <code class="literal">provider</code> configuration options for filtering events <a href="https://github.com/elastic/beats/pull/1218" class="ulink" target="_top">1218</a>
</li>
<li class="listitem">
Add <code class="literal">include_xml</code> configuration option for including the raw XML with the event <a href="https://github.com/elastic/beats/pull/1218" class="ulink" target="_top">1218</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_deprecated_8"></a>Deprecated<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/6.3/libbeat/docs/release-notes/5.0.0.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The support for doing GeoIP lookups is deprecated and will be removed in version 6.0. <a href="https://github.com/elastic/beats/pull/1601" class="ulink" target="_top">1601</a>
</li>
<li class="listitem">
Topology map is deprecated. This applies to the settings: <code class="literal">refresh_topology_freq</code>, <code class="literal">topology_expire</code>, <code class="literal">save_topology</code>,
<code class="literal">host_topology</code>, <code class="literal">password_topology</code>, <code class="literal">db_topology</code>.
</li>
<li class="listitem">
Setting <code class="literal">port</code> has been deprecated in Redis and Logstash outputs. <a href="https://github.com/elastic/beats/pull/2620" class="ulink" target="_top">2620</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Filebeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate <code class="literal">close_older</code> option and replace it with <code class="literal">close_inactive</code>. <a href="https://github.com/elastic/beats/issues/2051" class="ulink" target="_top">2051</a>
</li>
<li class="listitem">
Deprecate <code class="literal">force_close_files</code> option and replace it with <code class="literal">close_removed</code> and <code class="literal">close_renamed</code>. <a href="https://github.com/elastic/beats/issues/1600" class="ulink" target="_top">1600</a>
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-5.0.1.html">« Beats version 5.0.1</a>
</span>
<span class="next">
<a href="release-notes-5.0.0-ga.html">Beats version 5.0.0-GA »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
