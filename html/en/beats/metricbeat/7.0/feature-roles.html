<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Grant users access to secured resources | Metricbeat Reference [7.0] | Elastic</title>
<meta class="elastic" name="content" content="Grant users access to secured resources | Metricbeat Reference [7.0]">

<link rel="home" href="index.html" title="Metricbeat Reference [7.0]"/>
<link rel="up" href="securing-beats.html" title="Configure Metricbeat to use X-Pack security"/>
<link rel="prev" href="securing-beats.html" title="Configure Metricbeat to use X-Pack security"/>
<link rel="next" href="beats-basic-auth.html" title="Configure authentication credentials"/>
<meta class="elastic" name="product_version" content="7.0"/>
<meta class="elastic" name="product_name" content="Metricbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Metricbeat/Reference/7.0"/>
<meta name="DC.subject" content="Metricbeat"/>
<meta name="DC.identifier" content="7.0"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="icon" href="/favicon.ico" sizes="32x32"/>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180"/>
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="securing-beats.html">« Configure Metricbeat to use X-Pack security</a>
</span>
<span class="next">
<a href="beats-basic-auth.html">Configure authentication credentials »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference [7.0]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="securing-metricbeat.html">Securing Metricbeat</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="securing-beats.html">Configure Metricbeat to use X-Pack security</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Grant users access to secured resources</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.0/libbeat/docs/security/users.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/reference/beats/metricbeat/feature-roles">latest documentation</a>.
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="feature-roles"></a>Grant users access to secured resources<a class="xpack_tag" href="/subscriptions"></a></h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.0/libbeat/docs/security/users.asciidoc">edit</a></div>
</div></div></div>
<p>You can use role-based access control to grant users access to secured
resources. The roles that you set up depend on your organization&#8217;s security
requirements and the minimum privileges required to use specific features.</p>
<p>Metricbeat users typically perform these main roles: they do the initial
setup, publish monitoring information, and publish events. If they&#8217;re using
Kibana, they view and sometimes create visualizations that access Metricbeat
indices.</p>
<p>X-Pack security provides pre-built roles that grant <em>some</em> of the privileges needed
by Metricbeat users. When possible, use the built-in roles to minimize the
affect of future changes on your security strategy.</p>
<p>For privileges not granted by existing roles, create new roles. At a minimum,
create a role for setting up Metricbeat, a role for publishing events, and a
role for reading Metricbeat indices. Assign these new roles, along with the
pre-built roles, to grant the full set of privileges required by Metricbeat
users.</p>
<p>The following sections describe the privileges and roles required to perform
specific job roles.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="privileges-to-setup-beats"></a>Privileges needed for initial setup</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.0/libbeat/docs/security/users.asciidoc">edit</a></div>
</div></div></div>
<p>Users who set up Metricbeat typically need to load mappings, dashboards, and
other objects used to index data into Elasticsearch and visualize it in Kibana. The
privileges required depend on the setup tasks users need to perform.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>These instructions assume that you are using the default name for
Metricbeat indices. If you are using a custom name, modify the privileges to
match your index naming pattern.</p>
</div>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Task</th>
<th align="left" valign="top">Required privileges and roles</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" rowspan="3" valign="top"><p>Set up index templates</p></td>
<td align="left" valign="top"><p><code class="literal">manage_index_templates</code> and <code class="literal">monitor</code> on cluster</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">manage_ilm</code> on cluster (if cluster supports index lifecycle management)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">manage</code> on <code class="literal">metricbeat-*</code> indices (if cluster supports index lifecycle management)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Set up example dashboards</p></td>
<td align="left" valign="top"><p><code class="literal">kibana_user</code> role</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p>Set up index lifecycle policies</p></td>
<td align="left" valign="top"><p><code class="literal">manage_ilm</code>, <code class="literal">manage_index_templates</code>, and <code class="literal">monitor</code> on cluster</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">manage</code> on <code class="literal">metricbeat-*</code> indices</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Enroll and manage configurations in Beats central management</p></td>
<td align="left" valign="top"><p><code class="literal">beats_admin</code> and <code class="literal">kibana_user</code> roles</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="privileges-to-publish-monitoring"></a>Privileges needed to publish and view monitoring information</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.0/libbeat/docs/security/users.asciidoc">edit</a></div>
</div></div></div>
<p>X-Pack security provides the <code class="literal">metricbeat_system</code>
<a href="/guide/en/elastic-stack-overview/7.0/built-in-users.html" class="ulink" target="_top">built-in user</a> and
<code class="literal">metricbeat_system</code> <a href="/guide/en/elastic-stack-overview/7.0/built-in-roles.html" class="ulink" target="_top">built-in
role</a> for sending monitoring information. You can use the built-in user, or
create a user who has the privileges needed to send monitoring information.
If you use the <code class="literal">metricbeat_system</code> user, make sure you
<a class="xref" href="beats-system-user.html" title="Set the password for the built-in monitoring user">set the password</a>.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Task</th>
<th align="left" valign="top">Required privileges and roles</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Send monitoring info</p></td>
<td align="left" valign="top"><p><code class="literal">monitor</code> on cluster</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Use <span class="strong strong"><strong>Stack Monitoring</strong></span> in Kibana to monitor Metricbeat</p></td>
<td align="left" valign="top"><p><code class="literal">monitoring_user</code> and <code class="literal">kibana_user</code> roles</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="privileges-to-publish-events"></a>Privileges needed to publish events</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.0/libbeat/docs/security/users.asciidoc">edit</a></div>
</div></div></div>
<p>Users who publish events to Elasticsearch need to create and read from Metricbeat
indices. The privileges required for this role depend on the tasks users
need to perform:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Task</th>
<th align="left" valign="top">Required privileges and roles</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" rowspan="3" valign="top"><p>Send data to a secured cluster without index lifecycle management</p></td>
<td align="left" valign="top"><p><code class="literal">monitor</code> on cluster</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">create_index</code> and <code class="literal">index</code> on <code class="literal">metricbeat-*</code> indices</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>also requires privileges to <a class="xref" href="feature-roles.html#privileges-to-setup-beats" title="Privileges needed for initial setup">set up index templates</a>
unless you&#8217;ve disabled automatic template loading</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p>Send data to a secured cluster that supports index lifecycle management</p></td>
<td align="left" valign="top"><p><code class="literal">manage_index_templates</code>,<code class="literal">manage_ilm</code> <sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>, and <code class="literal">monitor</code>
on cluster</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">index</code> and <code class="literal">manage</code> on <code class="literal">metricbeat-*</code> indices</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p>Read configurations from Beats central management</p></td>
<td align="left" valign="top"><p><code class="literal">monitor</code> on cluster</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">beats_admin</code> role</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="kibana-user-privileges"></a>Privileges needed by Kibana users</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.0/libbeat/docs/security/users.asciidoc">edit</a></div>
</div></div></div>
<p>Kibana users typically need to view dashboards and visualizations that contain
Metricbeat data. These users might also need to create and edit dashboards
and visualizations.
If you&#8217;re using Beats central management, they need to create and manage
configurations.</p>
<p>The privileges required for Kibana users depend on the tasks they need to
perform:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Task</th>
<th align="left" valign="top">Required privileges and roles</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" rowspan="2" valign="top"><p>View Metricbeat dashboards</p></td>
<td align="left" valign="top"><p><code class="literal">read</code> on <code class="literal">metricbeat-*</code> indices</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">kibana_dashboard_only_user</code> role</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p>View and edit Metricbeat dashboards</p></td>
<td align="left" valign="top"><p><code class="literal">read</code> on <code class="literal">metricbeat-*</code> indices</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">kibana_user</code> role</p></td>
</tr>
<tr>
<td align="left" rowspan="2" valign="top"><p>Create and manage configurations in Beats central management</p></td>
<td align="left" valign="top"><p><code class="literal">beats_admin</code> role</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">kibana_user</code> role</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="learn-more-security"></a>Learn more about users and roles</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.0/libbeat/docs/security/users.asciidoc">edit</a></div>
</div></div></div>
<p>Want to learn more about creating users and roles? See
<a href="/guide/en/elastic-stack-overview/7.0/elasticsearch-security.html" class="ulink" target="_top">Securing the Elastic Stack</a>. Also see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/elastic-stack-overview/7.0/security-privileges.html" class="ulink" target="_top">Security privileges</a> for a description of
available privileges
</li>
<li class="listitem">
<a href="/guide/en/elastic-stack-overview/7.0/built-in-roles.html" class="ulink" target="_top">Built-in roles</a> for a description of roles that
you can assign to users
</li>
</ul>
</div>
</div>

</div>
<div id="footnotes">
<div class="footnote" id="_footnotedef_1">
<sup>[<a href="#_footnoteref_1">1</a>]</sup> Use <code class="literal">read_ilm</code> instead of <code class="literal">manage_ilm</code> if you pre-loaded the lifecycle policy
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="securing-beats.html">« Configure Metricbeat to use X-Pack security</a>
</span>
<span class="next">
<a href="beats-basic-auth.html">Configure authentication credentials »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
