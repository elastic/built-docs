<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Azure module | Metricbeat Reference [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Azure module | Metricbeat Reference [8.15]">

<link rel="home" href="index.html" title="Metricbeat Reference [8.15]"/>
<link rel="up" href="metricbeat-modules.html" title="Modules"/>
<link rel="prev" href="metricbeat-metricset-awsfargate-task_stats.html" title="AWS Fargate task_stats metricset"/>
<link rel="next" href="metricbeat-metricset-azure-app_insights.html" title="Azure app_insights metricset"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Metricbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Metricbeat/Reference/8.15"/>
<meta name="DC.subject" content="Metricbeat"/>
<meta name="DC.identifier" content="8.15"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="metricbeat-metricset-awsfargate-task_stats.html">« AWS Fargate task_stats metricset</a>
</span>
<span class="next">
<a href="metricbeat-metricset-azure-app_insights.html">Azure app_insights metricset »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="metricbeat-modules.html">Modules</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Azure module</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="metricbeat-module-azure"></a>Azure module<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h2>
</div></div></div>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Prefer to use Elastic Agent for this use case?</strong></p>
</div></div></div>
<p>Refer to the
<a href="https://docs.elastic.co/en/integrations/azure_metrics" class="ulink" target="_top">Elastic Integrations documentation</a>.</p>
<details>
<summary class="title">Learn more</summary>
<div class="content">
<p>Elastic Agent is a single, unified way to add monitoring for logs, metrics, and
other types of data to a host. It can also protect hosts from security threats,
query data from operating systems, forward data from remote services or
hardware, and more. Refer to the documentation for a detailed
<a href="/guide/en/fleet/8.15/beats-agent-comparison.html" class="ulink" target="_top">comparison of Beats and Elastic Agent</a>.</p>
</div>
</details>
</div>
<p>The Azure Monitor feature collects and aggregates logs and metrics from a variety of sources into a common data platform where it can be used for analysis, visualization, and alerting.</p>
<p>The azure monitor metrics are numerical values that describe some aspect of a system at a particular point in time. They are collected at regular intervals and are identified with a timestamp, a name, a value, and one or more defining labels.</p>
<p>The azure module will periodically retrieve the azure monitor metrics using the Azure REST APIs as MetricList.
Additional azure API calls will be executed in order to retrieve information regarding the resources targeted by the user.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Extra Azure charges on metric queries may be generated by this module.
Please see <a class="xref" href="metricbeat-module-azure.html#azure-api-cost" title="Additional notes about metrics and costs">additional notes about metrics and costs</a> for more details.</p>
</div>
</div>
<h3><a id="_dashboards"></a>Dashboards<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>The azure module comes with several predefined dashboards for virtual machines, VM guest metrics and virtual machine scale sets.</p>
<p>The VM overview dashboard shows information about CPU, memory, disk usage as well as operations per second. The two available filters help narrowing down the dashbord to specific regions and/or resource groups. For example:</p>
<div class="imageblock">
<div class="content">
<img src="./images/metricbeat-azure-vm-overview.png" alt="metricbeat azure vm overview">
</div>
</div>
<p>If VM guest metrics are enabled then the guest metrics overview dashboard can help with monitoring ASP.NET applications and SQL Server metrics. For example:</p>
<div class="imageblock">
<div class="content">
<img src="./images/metricbeat-azure-vm-guestmetrics-overview.png" alt="metricbeat azure vm guestmetrics overview">
</div>
</div>
<p>The virtual machine scale sets dashboard is similar to the VM dashboard and shows relevant health information about running vm scale sets. For example:</p>
<div class="imageblock">
<div class="content">
<img src="./images/metricbeat-azure-vmss-overview.png" alt="metricbeat azure vmss overview">
</div>
</div>
<p>The Azure storage dashboards show all relevant metrics for the blob, file, table and queue storage services:</p>
<div class="imageblock">
<div class="content">
<img src="./images/metricbeat-azure-storage-overview.png" alt="metricbeat azure storage overview">
</div>
</div>
<p>The Azure billing dashboards show relevant usage and forecast information:</p>
<div class="imageblock">
<div class="content">
<img src="./images/metricbeat-azure-billing-overview.png" alt="metricbeat azure billing overview">
</div>
</div>
<p>The Azure app_state dashboard shows relevant application insights information:</p>
<div class="imageblock">
<div class="content">
<img src="./images/metricbeat-azure-app-state-overview.png" alt="metricbeat azure app state overview">
</div>
</div>
<h3><a id="_module_specific_configuration_notes_2"></a>Module-specific configuration notes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>All the tasks executed against the Azure Monitor REST API will use the Azure Resource Manager authentication model.
Therefore, all requests must be authenticated with Azure Active Directory (Azure AD).
One approach to authenticate the client application is to create an Azure AD service principal and retrieve the authentication (JWT) token.
For a more detailed walk-through, have a look at using Azure PowerShell to create a service principal to access resources <a href="https://docs.microsoft.com/en-us/powershell/azure/create-azure-service-principal-azureps?view=azps-2.7.0" class="ulink" target="_top">https://docs.microsoft.com/en-us/powershell/azure/create-azure-service-principal-azureps?view=azps-2.7.0</a>.
 It is also possible to create a service principal via the Azure portal <a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal" class="ulink" target="_top">https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal</a>.
Users will have to make sure the roles assigned to the application contain at least reading permissions to the monitor data, more on the roles here <a href="https://docs.microsoft.com/en-us/azure/role-based-access-control/built-in-roles" class="ulink" target="_top">https://docs.microsoft.com/en-us/azure/role-based-access-control/built-in-roles</a>.</p>
<p>Required credentials for the <code class="literal">azure</code> module:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">client_id</code>
</span>
</dt>
<dd>
The unique identifier for the application (also known as Application Id)
</dd>
<dt>
<span class="term">
<code class="literal">client_secret</code>
</span>
</dt>
<dd>
The client/application secret/key
</dd>
<dt>
<span class="term">
<code class="literal">subscription_id</code>
</span>
</dt>
<dd>
The unique identifier for the azure subscription
</dd>
<dt>
<span class="term">
<code class="literal">tenant_id</code>
</span>
</dt>
<dd>
The unique identifier of the Azure Active Directory instance
</dd>
</dl>
</div>
<p>The azure credentials keys can be used if configured <code class="literal">AZURE_CLIENT_ID</code>, <code class="literal">AZURE_CLIENT_SECRET</code>, <code class="literal">AZURE_TENANT_ID</code>, <code class="literal">AZURE_SUBSCRIPTION_ID</code></p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">resource_manager_endpoint</code>
</span>
</dt>
<dd>
<em>string</em>
Optional, by default the azure public environment will be used, to override, users can provide a specific resource manager endpoint in order to use a different azure environment.
Ex:
<a href="https://management.chinacloudapi.cn" class="ulink" target="_top">https://management.chinacloudapi.cn</a> for azure ChinaCloud
<a href="https://management.microsoftazure.de" class="ulink" target="_top">https://management.microsoftazure.de</a> for azure GermanCloud
<a href="https://management.azure.com" class="ulink" target="_top">https://management.azure.com</a> for azure PublicCloud
<a href="https://management.usgovcloudapi.net" class="ulink" target="_top">https://management.usgovcloudapi.net</a> for azure USGovernmentCloud
</dd>
<dt>
<span class="term">
<code class="literal">active_directory_endpoint</code>
</span>
</dt>
<dd>
<em>string</em>
Optional, by default the associated active directory endpoint to the resource manager endpoint will be used, to override, users can provide a specific active directory endpoint in order to use a different azure environment.
Ex:
<a href="https://login.microsoftonline.com" class="ulink" target="_top">https://login.microsoftonline.com</a> for azure ChinaCloud
<a href="https://login.microsoftonline.us" class="ulink" target="_top">https://login.microsoftonline.us</a> for azure GermanCloud
<a href="https://login.chinacloudapi.cn" class="ulink" target="_top">https://login.chinacloudapi.cn</a> for azure PublicCloud
<a href="https://login.microsoftonline.de" class="ulink" target="_top">https://login.microsoftonline.de</a> for azure USGovernmentCloud
</dd>
<dt>
<span class="term">
<code class="literal">resource_manager_audience</code>
</span>
</dt>
<dd>
<em>string</em>
Optional, by default we are using the azure public environment, to override, users can provide a specific resource manager audience in order to use a different azure environment.
Ex:
<a href="https://management.chinacloudapi.cn/" class="ulink" target="_top">https://management.chinacloudapi.cn/</a> for azure ChinaCloud
<a href="https://management.microsoftazure.de/" class="ulink" target="_top">https://management.microsoftazure.de/</a> for azure GermanCloud
<a href="https://management.azure.com/" class="ulink" target="_top">https://management.azure.com/</a> for azure PublicCloud
<a href="https://management.usgovcloudapi.net/" class="ulink" target="_top">https://management.usgovcloudapi.net/</a> for azure USGovernmentCloud
Users can also use this in case of a Hybrid Cloud model, where one may define their own audiences.
</dd>
</dl>
</div>
<h2><a id="_metricsets_10"></a>Metricsets<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h2>
<h3><a id="_monitor"></a><code class="literal">monitor</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset allows users to retrieve metrics from specified resources. Added filters can apply here as the interval of retrieving these metrics, metric names,
aggregation list, namespaces and metric dimensions. The monitor metrics will have a minimum timegrain of 5 minutes, so the <code class="literal">period</code> for <code class="literal">monitor</code> metricset should be <code class="literal">300s</code> or multiples of <code class="literal">300s</code>.</p>
<h3><a id="_compute_vm"></a><code class="literal">compute_vm</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset will collect metrics from the virtual machines, these metrics will have a timegrain every 5 minutes,
so the <code class="literal">period</code> for <code class="literal">compute_vm</code> metricset  should be <code class="literal">300s</code> or multiples of <code class="literal">300s</code>.</p>
<h3><a id="_compute_vm_scaleset"></a><code class="literal">compute_vm_scaleset</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset will collect metrics from the virtual machine scalesets, these metrics will have a timegrain every 5 minutes,
so the <code class="literal">period</code> for <code class="literal">compute_vm_scaleset</code> metricset  should be <code class="literal">300s</code> or multiples of <code class="literal">300s</code>.</p>
<h3><a id="_storage"></a><code class="literal">storage</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset will collect metrics from the storage accounts, these metrics will have a timegrain every 5 minutes,
so the <code class="literal">period</code> for <code class="literal">storage</code> metricset  should be <code class="literal">300s</code> or multiples of <code class="literal">300s</code>.</p>
<h3><a id="_container_instance"></a><code class="literal">container_instance</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset will collect metrics from specified container groups, these metrics will have a timegrain every 5 minutes,
so the <code class="literal">period</code> for <code class="literal">container_instance</code> metricset  should be <code class="literal">300s</code> or multiples of <code class="literal">300s</code>.</p>
<h3><a id="_container_registry"></a><code class="literal">container_registry</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset will collect metrics from the container registries, these metrics will have a timegrain every 5 minutes,
so the <code class="literal">period</code> for <code class="literal">container_registry</code> metricset  should be <code class="literal">300s</code> or multiples of <code class="literal">300s</code>.</p>
<h3><a id="_container_service"></a><code class="literal">container_service</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset will collect metrics from the container services, these metrics will have a timegrain every 5 minutes,
so the <code class="literal">period</code> for <code class="literal">container_service</code> metricset  should be <code class="literal">300s</code> or multiples of <code class="literal">300s</code>.</p>
<h3><a id="_database_account"></a><code class="literal">database_account</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset will collect relevant metrics from specified database accounts, these metrics will have a timegrain every 5 minutes,
so the <code class="literal">period</code> for <code class="literal">database_account</code> metricset  should be <code class="literal">300s</code> or multiples of <code class="literal">300s</code>.</p>
<h3><a id="_billing_2"></a><code class="literal">billing</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset will collect relevant usage data and forecast information from a specific subscription, these metrics will have a timegrain every 24 hours,
so the <code class="literal">period</code> for <code class="literal">billing</code> metricset  should be <code class="literal">24h</code> or multiples of <code class="literal">24h</code>.</p>
<h3><a id="_app_insights"></a><code class="literal">app_insights</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset will collect application insights metrics, the <code class="literal">period</code> (interval) for the <code class="literal">app-insights</code> metricset is set by default at <code class="literal">300s</code>.</p>
<h3><a id="_app_state"></a><code class="literal">app_state</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h3>
<p>This metricset concentrate on the most relevant application insights metrics and provides a dashboard for visualization, the <code class="literal">period</code> (interval) for the <code class="literal">app_state</code> metricset is set by default at <code class="literal">300s</code>.</p>
<h2><a id="azure-api-cost"></a>Additional notes about metrics and costs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/azure/_meta/docs.asciidoc">edit</a></h2>
<p>Costs: Metric queries are charged based on the number of standard API calls. More information on pricing here <a href="https://azure.microsoft.com/id-id/pricing/details/monitor/" class="ulink" target="_top">https://azure.microsoft.com/id-id/pricing/details/monitor/</a>.</p>
<p>Authentication: we are handling authentication on our side (creating/renewing the authentication token), so we advise users to use dedicated credentials for metricbeat only.</p>
<h3><a id="_example_configuration_7"></a>Example configuration</h3>
<p>The Azure module supports the standard configuration options that are described
in <a class="xref" href="configuration-metricbeat.html" title="Configure modules"><em>Modules</em></a>. Here is an example configuration:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">metricbeat.modules:
- module: azure
  metricsets:
  - monitor
  enabled: true
  period: 300s
  client_id: '${AZURE_CLIENT_ID:""}'
  client_secret: '${AZURE_CLIENT_SECRET:""}'
  tenant_id: '${AZURE_TENANT_ID:""}'
  subscription_id: '${AZURE_SUBSCRIPTION_ID:""}'
  resources:
    - resource_query: "resourceType eq 'Microsoft.DocumentDb/databaseAccounts'"
      metrics:
      - name: ["DataUsage", "DocumentCount", "DocumentQuota"]
        namespace: "Microsoft.DocumentDb/databaseAccounts"

- module: azure
  metricsets:
  - compute_vm
  enabled: true
  period: 300s
  client_id: '${AZURE_CLIENT_ID:""}'
  client_secret: '${AZURE_CLIENT_SECRET:""}'
  tenant_id: '${AZURE_TENANT_ID:""}'
  subscription_id: '${AZURE_SUBSCRIPTION_ID:""}'

- module: azure
  metricsets:
  - compute_vm_scaleset
  enabled: true
  period: 300s
  client_id: '${AZURE_CLIENT_ID:""}'
  client_secret: '${AZURE_CLIENT_SECRET:""}'
  tenant_id: '${AZURE_TENANT_ID:""}'
  subscription_id: '${AZURE_SUBSCRIPTION_ID:""}'

- module: azure
  metricsets:
  - storage
  enabled: true
  period: 300s
  client_id: '${AZURE_CLIENT_ID:""}'
  client_secret: '${AZURE_CLIENT_SECRET:""}'
  tenant_id: '${AZURE_TENANT_ID:""}'
  subscription_id: '${AZURE_SUBSCRIPTION_ID:""}'

- module: azure
  metricsets:
  - container_instance
  enabled: true
  period: 300s
  client_id: '${AZURE_CLIENT_ID:""}'
  client_secret: '${AZURE_CLIENT_SECRET:""}'
  tenant_id: '${AZURE_TENANT_ID:""}'
  subscription_id: '${AZURE_SUBSCRIPTION_ID:""}'

- module: azure
  metricsets:
  - container_service
  enabled: true
  period: 300s
  client_id: '${AZURE_CLIENT_ID:""}'
  client_secret: '${AZURE_CLIENT_SECRET:""}'
  tenant_id: '${AZURE_TENANT_ID:""}'
  subscription_id: '${AZURE_SUBSCRIPTION_ID:""}'

- module: azure
  metricsets:
  - container_registry
  enabled: true
  period: 300s
  client_id: '${AZURE_CLIENT_ID:""}'
  client_secret: '${AZURE_CLIENT_SECRET:""}'
  tenant_id: '${AZURE_TENANT_ID:""}'
  subscription_id: '${AZURE_SUBSCRIPTION_ID:""}'

- module: azure
  metricsets:
  - database_account
  enabled: true
  period: 300s
  client_id: '${AZURE_CLIENT_ID:""}'
  client_secret: '${AZURE_CLIENT_SECRET:""}'
  tenant_id: '${AZURE_TENANT_ID:""}'
  subscription_id: '${AZURE_SUBSCRIPTION_ID:""}'

- module: azure
  metricsets:
    - billing
  enabled: true
  period: 24h
  client_id: '${AZURE_CLIENT_ID:""}'
  client_secret: '${AZURE_CLIENT_SECRET:""}'
  tenant_id: '${AZURE_TENANT_ID:""}'
  subscription_id: '${AZURE_SUBSCRIPTION_ID:""}'

- module: azure
  metricsets:
    - app_insights
  enabled: true
  period: 300s
  application_id: ''
  api_key: ''
  metrics:
    - id: ["requests/count", "requests/duration"]

- module: azure
  metricsets:
    - app_state
  enabled: true
  period: 300s
  application_id: ''
  api_key: ''</pre>
</div>
<h3><a id="_metricsets_11"></a>Metricsets</h3>
<p>The following metricsets are available:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-app_insights.html" title="Azure app_insights metricset">app_insights</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-app_state.html" title="Azure app_state metricset">app_state</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-billing.html" title="Azure billing metricset">billing</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-compute_vm.html" title="Azure compute_vm metricset">compute_vm</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-compute_vm_scaleset.html" title="Azure compute_vm_scaleset metricset">compute_vm_scaleset</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-container_instance.html" title="Azure container_instance metricset">container_instance</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-container_registry.html" title="Azure container_registry metricset">container_registry</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-container_service.html" title="Azure container_service metricset">container_service</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-database_account.html" title="Azure database_account metricset">database_account</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-monitor.html" title="Azure monitor metricset">monitor</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-azure-storage.html" title="Azure storage metricset">storage</a>
</li>
</ul>
</div>











</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="metricbeat-metricset-awsfargate-task_stats.html">« AWS Fargate task_stats metricset</a>
</span>
<span class="next">
<a href="metricbeat-metricset-azure-app_insights.html">Azure app_insights metricset »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
