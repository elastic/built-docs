<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Output | Topbeat Reference [1.0.1] | Elastic</title>
<link rel="home" href="index.html" title="Topbeat Reference [1.0.1]"/>
<link rel="up" href="topbeat-configuration-options.html" title="Configuration Options"/>
<link rel="prev" href="configuration-input.html" title="Input"/>
<link rel="next" href="configuration-shipper.html" title="Shipper"/>
<meta name="DC.type" content="Learn/Docs/Legacy/Topbeat/Reference/1.0.1"/>
<meta name="DC.subject" content="Topbeat"/>
<meta name="DC.identifier" content="1.0.1"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
Topbeat was replaced by <a href="https://www.elastic.co/products/beats/metricbeat">
Metricbeat</a> in 5.0. To learn more about Metricbeat, see the
<a href="https://www.elastic.co/guide/en/beats/metricbeat/current/index.html">
Metricbeat documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Topbeat Reference [1.0.1]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="topbeat-configuration-options.html">Configuration Options</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="configuration-input.html">« Input</a>
</span>
<span class="next">
<a href="configuration-shipper.html">Shipper »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="configuration-output"></a>Output<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h2>
</div></div></div>
<p>You can configure multiple outputs for exporting the correlated transactions. Currently the following output types are supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="configuration-output.html#elasticsearch-output" title="Elasticsearch Output">Elasticsearch</a>
</li>
<li class="listitem">
<a class="xref" href="configuration-output.html#logstash-output" title="Logstash Output">Logstash</a>
</li>
<li class="listitem">
<a class="xref" href="configuration-output.html#redis-output" title="Redis Output (DEPRECATED)">Redis (DEPRECATED)</a>
</li>
<li class="listitem">
<a class="xref" href="configuration-output.html#file-output" title="File Output">File</a>
</li>
<li class="listitem">
<a class="xref" href="configuration-output.html#console-output" title="Console Output">Console</a>
</li>
</ul>
</div>
<p>You can enable one or multiple outputs at a time. The output plugins are
responsible for sending the transaction data in JSON format to the next step in
the pipeline. They are also responsible for maintaining the
network topology.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="elasticsearch-output"></a>Elasticsearch Output<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h3>
</div></div></div>
<p>When you specify Elasticsearch for the output, the Beat sends the transactions directly to Elasticsearch by using the Elasticsearch HTTP API.</p>
<p>Example configuration:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output:
  elasticsearch:
    # The Elasticsearch cluster
    hosts: ["http://localhost:9200"]

    # Comment this option if you don't want to store the topology in
    # Elasticsearch. The default is false.
    # This option makes sense only for Packetbeat
    # save_topology: false

    # Optional index name. The default is "topbeat" and generates
    # [topbeat-]YYYY.MM.DD keys.
    index: "topbeat"

    # tls configuration. By default is off.
    tls:
      # List of root certificates for HTTPS server verifications
      certificate_authorities: ["/etc/pki/root/ca.pem"]

      # Certificate for TLS client authentication
      certificate: "/etc/pki/client/cert.pem"

      # Client Certificate Key
      certificatekey: "/etc/pki/client/cert.key"</pre>
</div>
<p>To enable SSL, just add <code class="literal">https</code> to all URLs defined under <em>hosts</em>.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output:
  elasticsearch:
    # The Elasticsearch cluster
    hosts: ["https://localhost:9200"]

    # Comment this option if you don't want to store the topology in
    # Elasticsearch. The default is false.
    # This option makes sense only for Packetbeat
    # save_topology: false

    # HTTP basic auth
    username: "admin"
    password: "s3cr3t"</pre>
</div>
<p>If the Elasticsearch nodes are defined by <code class="literal">IP:PORT</code>, then add <code class="literal">protocol: https</code> to the yaml file.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output:
  elasticsearch:
    # The Elasticsearch cluster
    hosts: ["localhost"]

    # Optional http or https. Default is http
    protocol: "https"

    # Comment this option if you don't want to store the topology in
    # Elasticsearch. The default is false.
    # This option makes sense only for Packetbeat
    # save_topology: false

    # HTTP basic auth
    username: "admin"
    password: "s3cr3t"</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="hosts-option"></a>hosts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The list of Elasticsearch nodes to connect to. The events are distributed to
these nodes in round robin order. If one node becomes unreachable, the event is
automatically sent to another node. Each Elasticsearch node can be defined as a <code class="literal">URL</code> or <code class="literal">IP:PORT</code>.
For example: <code class="literal">http://192.15.3.2</code>, <code class="literal">https://es.found.io:9230</code> or <code class="literal">192.24.3.2:9300</code>.
If no port is specified, <code class="literal">9200</code> is used.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>When a node is defined as an <code class="literal">IP:PORT</code>, the <em>scheme</em> and <em>path</em> are taken from the
<a class="xref" href="configuration-output.html#protocol-option" title="protocol">protocol</a> and <a class="xref" href="configuration-output.html#path-option" title="path">path</a> config options.</p>
</div>
</div>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output:
  elasticsearch:
    # The Elasticsearch cluster
    hosts: ["10.45.3.2:9220", "10.45.3.1:9230"]

    # Optional http or https. Default is http
    protocol: https

    # HTTP Path at which each Elasticsearch server lives
    path: /elasticsearch</pre>
</div>
<p>In the previous example, the Elasticsearch nodes are available at <code class="literal">https://10.45.3.2:9220/elasticsearch</code> and
<code class="literal">https://10.45.3.1:9230/elasticsearch</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_worker"></a>worker<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The number of workers per configured host publishing events to Elasticsearch. This
is best used with load balancing mode enabled. Example: If you have 2 hosts and
3 workers, in total 6 workers are started (3 for each host).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_host_deprecated"></a>host (DEPRECATED)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The host of the Elasticsearch server. This option is deprecated because it is replaced by <a class="xref" href="configuration-output.html#hosts-option" title="hosts">hosts</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_port_deprecated"></a>port (DEPRECATED)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The port of the Elasticsearch server. This option is deprecated because it is replaced by <a class="xref" href="configuration-output.html#hosts-option" title="hosts">hosts</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_username"></a>username<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The basic authentication username for connecting to Elasticsearch.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_password"></a>password<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The basic authentication password for connecting to Elasticsearch.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="protocol-option"></a>protocol<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The name of the protocol Elasticsearch is reachable on. The options are:
<code class="literal">http</code> or <code class="literal">https</code>. The default is <code class="literal">http</code>. However, if you specify a URL for
<a class="xref" href="configuration-output.html#hosts-option" title="hosts">hosts</a>, the value of <code class="literal">protocol</code> is overridden by whatever scheme you
specify in the URL.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="path-option"></a>path<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>An HTTP path prefix that is prepended to the HTTP API calls. This is useful for
the cases where Elasticsearch listens behind an HTTP reverse proxy that exports
the API under a custom prefix.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_index"></a>index<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The index root name to write events to. The default is the Beat name.
For example "topbeat" generates "[topbeat-]YYYY.MM.DD" indexes (for example,
"topbeat-2015.04.26").</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_max_retries"></a>max_retries<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The number of times to retry publishing an event after a publishing failure.
After the specified number of retries, the events are typically dropped.
Some Beats, such as Filebeat, ignore the <code class="literal">max_retries</code> setting and retry until all
events are published.</p>
<p>Set <code class="literal">max_retries</code> to a value less than 0 to retry until all events are published.</p>
<p>The default is 3.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_bulk_max_size"></a>bulk_max_size<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The maximum number of events to bulk in a single Elasticsearch bulk API index request.
The default is 50.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_timeout"></a>timeout<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The http request timeout in seconds for the Elasticsearch request. The default is 90.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_flush_interval"></a>flush_interval<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The number of seconds to wait for new events between two bulk API index requests.
If <code class="literal">bulk_max_size</code> is reached before this interval expires, additional bulk index
requests are made.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="save_topology"></a>save_topology<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>A Boolean that specifies whether the topology is kept in Elasticsearch. The default is
false.</p>
<p>This option is relevant for Packetbeat only.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_topology_expire"></a>topology_expire<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The time to live in seconds for the topology information that is stored in
Elasticsearch. The default is 15 seconds.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_tls"></a>tls<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>Configuration options for TLS parameters like the certificate authority to use
for HTTPS-based connections. If the <code class="literal">tls</code> section is missing, the host CAs are used for HTTPS connections to
Elasticsearch.</p>
<p>See <a class="xref" href="configuration-output.html#configuration-output-tls" title="TLS Options">TLS Options</a> for more information.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="logstash-output"></a>Logstash Output<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h3>
</div></div></div>
<p>The Logstash output sends the events directly to Logstash by using the lumberjack
protocol. To use this option, you must <a href="http://www.elastic.co/guide/en/beats/libbeat/1.0.1/logstash-installation.html#logstash-setup" class="ulink" target="_top">install and configure</a> the logstash-input-beats
plugin in Logstash. Logstash allows for additional processing and routing of
generated events.</p>
<p>Every event sent to Logstash contains additional metadata for indexing and filtering:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
    ...
    "@metadata": {
      "beat": "&lt;beat&gt;",
      "type": "&lt;event type&gt;"
    }
}</pre>
</div>
<p>In Logstash, you can configure the Elasticsearch output plugin to use the
metadata and event type for indexing.</p>
<p>The following <span class="strong strong"><strong>Logstash 1.5</strong></span> configuration file sets Logstash to use the index and
document type reported by Beats for indexing events into Elasticsearch.
The index used will depend on the <code class="literal">@timestamp</code> field as identified by Logstash.</p>
<div class="pre_wrapper lang-logstash">
<pre class="programlisting prettyprint lang-logstash">input {
  beats {
    port =&gt; 5044
  }
}

output {
  elasticsearch {
    host =&gt; "localhost"
    port =&gt; "9200"
    protocol =&gt; "http"
    index =&gt; "%{[@metadata][beat]}-%{+YYYY.MM.dd}"
    document_type =&gt; "%{[@metadata][type]}"
  }
}</pre>
</div>
<p>Here is the same configuration for <span class="strong strong"><strong>Logstash 2.x</strong></span> releases:</p>
<div class="pre_wrapper lang-logstash">
<pre class="programlisting prettyprint lang-logstash">input {
  beats {
    port =&gt; 5044
  }
}

output {
  elasticsearch {
    hosts =&gt; ["http://localhost:9200"]
    index =&gt; "%{[@metadata][beat]}-%{+YYYY.MM.dd}"
    document_type =&gt; "%{[@metadata][type]}"
  }
}</pre>
</div>
<p>Events indexed into Elasticsearch with the Logstash configuration shown here
will be similar to events directly indexed by Beats into Elasticsearch.</p>
<p>Here is an example of how to configure the Beat to use Logstash:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output:
  logstash:
    hosts: ["localhost:5044"]

    # index configures '@metadata.beat' field to be used by Logstash for
    # indexing. The default index name depends on the each beat.
    # For Packetbeat, the default is set to packetbeat, for Topbeat to
    # topbeat and for Filebeat to filebeat.
    index: topbeat</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="hosts"></a>hosts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The list of known Logstash servers to connect to. All entries in this list can
contain a port number. If no port number is given, the value specified for <a class="xref" href="configuration-output.html#port" title="port">port</a>
is used as the default port number.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_worker_2"></a>worker<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The number of workers per configured host publishing events to Logstash. This
is best used with load balancing mode enabled. Example: If you have 2 hosts and
3 workers, in total 6 workers are started (3 for each host).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="loadbalance"></a>loadbalance<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>If set to true and multiple Logstash hosts are configured, the output plugin
load balances published events onto all Logstash hosts. If set to false,
the output plugin sends all events to only one host (determined at random) and
will switch to another host if the selected one becomes unresponsive. The default value is false.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output:
  logstash:
    hosts: ["localhost:5044", "localhost:5045"]

    # configure logstash plugin to loadbalance events between the logstash instances
    loadbalance: true

    # configure index prefix name
    index: topbeat</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="port"></a>port<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The default port to use if the port number is not given in <a class="xref" href="configuration-output.html#hosts" title="hosts">hosts</a>. The default port number
is 10200.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_index_2"></a>index<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The index root name to write events to. The default is the Beat name.
For example "topbeat" generates "[topbeat-]YYYY.MM.DD" indexes (for example,
"topbeat-2015.04.26").</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_tls_2"></a>tls<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>Configuration options for TLS parameters like the root CA for Logstash connections. See
<a class="xref" href="configuration-output.html#configuration-output-tls" title="TLS Options">TLS Options</a> for more information. If the <code class="literal">tls</code> section is missing, a TCP-only connection is assumed. Logstash must also be configured to use TCP for
Logstash input.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_timeout_2"></a>timeout<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The number of seconds to wait for responses from the Logstash server before timing out. The default is 30 (seconds).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_max_retries_2"></a>max_retries<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The number of times to retry publishing an event after a publishing failure.
After the specified number of retries, the events are typically dropped.
Some Beats, such as Filebeat, ignore the <code class="literal">max_retries</code> setting and retry until all
events are published.</p>
<p>Set <code class="literal">max_retries</code> to a value less than 0 to retry until all events are published.</p>
<p>The default is 3.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="redis-output"></a>Redis Output (DEPRECATED)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h3>
</div></div></div>
<p>The Redis output inserts the events in a Redis list. This output plugin is compatible with
the <a href="http://logstash.net/docs/1.4.2/inputs/redis" class="ulink" target="_top">Redis input plugin</a> from Logstash,
so the Redis Output for the Beats is deprecated.</p>
<p>Example configuration:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output:
  redis:
    # Set the host and port where to find Redis.
    host: "localhost"
    port: 6379

    # Uncomment out this option if you want to store the topology in Redis.
    # The default is false.
    save_topology: true

    # Optional index name. The default is topbeat and generates topbeat keys.
    index: "topbeat"

    # Optional Redis database number where the events are stored
    # The default is 0.
    db: 0

    # Optional Redis database number where the topology is stored
    # The default is 1. It must have a different value than db.
    db_topology: 1

    # Optional password to authenticate with. By default, no
    # password is set.
    # password: ""

    # Optional Redis initial connection timeout in seconds.
    # The default is 5 seconds.
    timeout: 5

    # Optional interval for reconnecting to failed Redis connections.
    # The default is 1 second.
    reconnect_interval: 1</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_host"></a>host<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The host of the Redis server.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_port"></a>port<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The port of the Redis server.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_db"></a>db<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The Redis database number where the events are published. The default is 0.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_db_topology"></a>db_topology<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The Redis database number where the topology information is stored. The default is 1.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_index_3"></a>index<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The name of the Redis list where the events are published. The default is
"topbeat".</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_password_2"></a>password<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The password to authenticate with. The default is no authentication.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_timeout_3"></a>timeout<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The Redis initial connection timeout in seconds. The default is 5 seconds.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_reconnect_interval"></a>reconnect_interval<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The interval for reconnecting failed Redis connections. The default is 1 second.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="file-output"></a>File Output<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h3>
</div></div></div>
<p>The File output dumps the transactions into a file where each transaction is in a JSON format.
Currently, this output is used for testing, but it can be used as input for
Logstash.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output:

  # File as output
  # Options:
  # path: where to save the files
  # filename: name of the files
  # rotate_every_kb: maximum size of the files in path
  # number of files: maximum number of files in path
  file:
    path: "/tmp/topbeat"
    filename: topbeat
    rotate_every_kb: 1000
    number_of_files: 7</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="path"></a>path<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The path to the directory where the generated files will be saved. This option is
mandatory.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_filename"></a>filename<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The name of the generated files. The default is set to the Beat name. For example, the files
generated by default for Topbeat would be "topbeat", "topbeat.1", "topbeat.2", and so on.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_rotate_every_kb"></a>rotate_every_kb<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The maximum size in kilobytes of each file. When this size is reached, the files are
rotated. The default value is 10240 KB.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_number_of_files"></a>number_of_files<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The maximum number of files to save under <a class="xref" href="configuration-output.html#path" title="path">path</a>. When this number of files is reached, the
oldest file is deleted, and the rest of the files are shifted from last to first. The default
is 7 files.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="console-output"></a>Console Output<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h3>
</div></div></div>
<p>The Console output writes events in JSON format to stdout.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output:
  console:
    pretty: true</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_pretty"></a>pretty<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>If <code class="literal">pretty</code> is set to true, events written to stdout will be nicely formatted. The default is false.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="configuration-output-tls"></a>TLS Options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_certificate_authorities"></a>certificate_authorities<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The list of root certificates for server verifications. If <code class="literal">certificate_authorities</code> is empty or not set, the trusted certificate authorities of the host system are used.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="certificate"></a>certificate: "/etc/pki/client/cert.pem"<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The path to the certificate for TLS client authentication. If the certificate
is not specified, client authentication is not available. The connection
might fail if the server requests client authentication. If the TLS server does not
require client authentication, the certificate will be loaded, but not requested or used
by the server.</p>
<p>When this option is configured, the <a class="xref" href="configuration-output.html#certificate_key" title="certificate_key: "/etc/pki/client/cert.key"">certificate_key: "/etc/pki/client/cert.key"</a> option is also required.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="certificate_key"></a>certificate_key: "/etc/pki/client/cert.key"<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The client certificate key used for client authentication. This option is required if <a class="xref" href="configuration-output.html#certificate" title="certificate: "/etc/pki/client/cert.pem"">certificate: "/etc/pki/client/cert.pem"</a> is specified.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_min_version"></a>min_version<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The minimum SSL/TLS version allowed for the encrypted connections. The value must be one of the following:
<code class="literal">SSL-3.0</code> for SSL 3, <code class="literal">1.0</code> for TLS 1.0, <code class="literal">1.1</code> for TLS 1.1 and <code class="literal">1.2</code> for TLS 1.2.</p>
<p>The default value is <code class="literal">1.0</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_max_version"></a>max_version<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The maximum SSL/TLS version allowed for the encrypted connections. The value must be one of the following:
<code class="literal">SSL-3.0</code> for SSL 3, <code class="literal">1.0</code> for TLS 1.0, <code class="literal">1.1</code> for TLS 1.1 and <code class="literal">1.2</code> for TLS 1.2.</p>
<p>The default value is <code class="literal">1.2</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_insecure"></a>insecure<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>This option controls whether the client verifies server certificates and host names.
If insecure is set to true, all server host names and certificates are
accepted. In this mode, TLS-based connections are susceptible to
man-in-the-middle attacks. Use this option for testing only.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_cipher_suites"></a>cipher_suites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The list of cipher suites to use. The first entry has the highest priority.
If this option is omitted, the Go crypto library&#8217;s default
suites are used (recommended).</p>
<p>Here is a list of allowed cipher suites and their meanings.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
3DES:
Cipher suites using triple DES
</li>
<li class="listitem">
AES128/256:
Cipher suites using AES with 128/256-bit keys.
</li>
<li class="listitem">
CBC:
Cipher using Cipher Block Chaining as block cipher mode.
</li>
<li class="listitem">
ECDHE:
Cipher suites using Elliptic Curve Diffie-Hellman (DH) ephemeral key exchange.
</li>
<li class="listitem">
ECDSA:
Cipher suites using Elliptic Curve Digital Signature Algorithm for authentication.
</li>
<li class="listitem">
GCM:
Galois/Counter mode is used for symmetric key cryptography.
</li>
<li class="listitem">
RC4:
Cipher suites using RC4.
</li>
<li class="listitem">
RSA:
Cipher suites using RSA.
</li>
<li class="listitem">
SHA, SHA256, SHA384:
Cipher suites using SHA-1, SHA-256 or SHA-384.
</li>
</ul>
</div>
<p>The following cipher suites are available:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
RSA-RC4-128-SHA (disabled by default - RC4 not recommended)
</li>
<li class="listitem">
RSA-3DES-CBC3-SHA
</li>
<li class="listitem">
RSA-AES128-CBC-SHA
</li>
<li class="listitem">
RSA-AES256-CBC-SHA
</li>
<li class="listitem">
ECDHE-ECDSA-RC4-128-SHA (disabled by default - RC4 not recommended)
</li>
<li class="listitem">
ECDHE-ECDSA-AES128-CBC-SHA
</li>
<li class="listitem">
ECDHE-ECDSA-AES256-CBC-SHA
</li>
<li class="listitem">
ECDHE-RSA-RC4-128-SHA (disabled by default- RC4 not recommended)
</li>
<li class="listitem">
ECDHE-RSA-3DES-CBC3-SHA
</li>
<li class="listitem">
ECDHE-RSA-AES128-CBC-SHA
</li>
<li class="listitem">
ECDHE-RSA-AES256-CBC-SHA
</li>
<li class="listitem">
ECDHE-RSA-AES128-GCM-SHA256 (TLS 1.2 only)
</li>
<li class="listitem">
ECDHE-ECDSA-AES128-GCM-SHA256 (TLS 1.2 only)
</li>
<li class="listitem">
ECDHE-RSA-AES256-GCM-SHA384 (TLS 1.2 only)
</li>
<li class="listitem">
ECDHE-ECDSA-AES256-GCM-SHA384 (TLS 1.2 only)
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_curve_types"></a>curve_types<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/1.0.1/libbeat/docs/outputconfig.asciidoc">edit</a></h4>
</div></div></div>
<p>The list of curve types for ECDHE (Elliptic Curve Diffie-Hellman ephemeral key exchange).</p>
<p>The following elliptic curve types are available:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
P-256
</li>
<li class="listitem">
P-384
</li>
<li class="listitem">
P-521
</li>
</ul>
</div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="configuration-input.html">« Input</a>
</span>
<span class="next">
<a href="configuration-shipper.html">Shipper »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
