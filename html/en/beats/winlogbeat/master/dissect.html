<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Dissect strings | Winlogbeat Reference [master] | Elastic</title>
<link rel="home" href="index.html" title="Winlogbeat Reference [master]"/>
<link rel="up" href="filtering-and-enhancing-data.html" title="Filter and enhance data with processors"/>
<link rel="prev" href="decompress-gzip-field.html" title="Decompress gzip fields"/>
<link rel="next" href="processor-dns.html" title="DNS Reverse Lookup"/>
<meta name="DC.type" content="Learn/Docs/Winlogbeat/Reference/master"/>
<meta name="DC.subject" content="Winlogbeat"/>
<meta name="DC.identifier" content="master"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Winlogbeat Reference [master]</a></span>
»
<span class="breadcrumb-link"><a href="configuring-howto-winlogbeat.html">Configure Winlogbeat</a></span>
»
<span class="breadcrumb-link"><a href="filtering-and-enhancing-data.html">Filter and enhance data with processors</a></span>
»
<span class="breadcrumb-node">Dissect strings</span>
</div>
<div class="navheader">
<span class="prev">
<a href="decompress-gzip-field.html">« Decompress gzip fields</a>
</span>
<span class="next">
<a href="processor-dns.html">DNS Reverse Lookup »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="dissect"></a>Dissect strings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/master/libbeat/processors/dissect/docs/dissect.asciidoc">edit</a></h2>
</div></div></div>

<p>The <code class="literal">dissect</code> processor tokenizes incoming strings using defined patterns.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">processors:
  - dissect:
      tokenizer: "%{key1} %{key2} %{key3|convert_datatype}"
      field: "message"
      target_prefix: "dissect"</pre>
</div>
<p>The <code class="literal">dissect</code> processor has the following configuration settings:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">tokenizer</code>
</span>
</dt>
<dd>
The field used to define the <span class="strong strong"><strong>dissection</strong></span> pattern.
Optional convert datatype can be provided after the key using <code class="literal">|</code> as separator
to convert the value from string to integer, long, float, double, boolean or ip.
</dd>
<dt>
<span class="term">
<code class="literal">field</code>
</span>
</dt>
<dd>
(Optional) The event field to tokenize. Default is <code class="literal">message</code>.
</dd>
<dt>
<span class="term">
<code class="literal">target_prefix</code>
</span>
</dt>
<dd>
(Optional) The name of the field where the values will be extracted. When an empty
string is defined, the processor will create the keys at the root of the event. Default is
<code class="literal">dissect</code>. When the target key already exists in the event, the processor won&#8217;t replace it and log
an error; you need to either drop or rename the key before using dissect, or
enable the <code class="literal">overwrite_keys</code> flag.
</dd>
<dt>
<span class="term">
<code class="literal">ignore_failure</code>
</span>
</dt>
<dd>
(Optional) Flag to control whether the processor returns an error if the
tokenizer fails to match the message field. If set to true, the processor will silently restore
the original event, allowing execution of subsequent processors (if any). If set to false
(default), the processor will log an error, preventing execution of other processors.
</dd>
<dt>
<span class="term">
<code class="literal">overwrite_keys</code>
</span>
</dt>
<dd>
(Optional) When set to true, the processor will overwrite
existing keys in the event. The default is false, which causes the processor
to fail when a key already exists.
</dd>
<dt>
<span class="term">
<code class="literal">trim_values</code>
</span>
</dt>
<dd>
<p>
(Optional) Enables the trimming of the extracted values. Useful
to remove leading and/or trailing spaces. Possible values are:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">none</code>: (default) no trimming is performed.
</li>
<li class="listitem">
<code class="literal">left</code>: values are trimmed on the left (leading).
</li>
<li class="listitem">
<code class="literal">right</code>: values are trimmed on the right (trailing).
</li>
<li class="listitem">
<code class="literal">all</code>: values are trimmed for leading and trailing.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">trim_chars</code>
</span>
</dt>
<dd>
(Optional) Set of characters to trim from values, when trimming
is enabled. The default is to trim the space character (<code class="literal">" "</code>). To trim multiple
characters, simply set it to a string containing all characters to trim. For example,
<code class="literal">trim_chars: " \t"</code> will trim spaces and/or tabs.
</dd>
</dl>
</div>
<p>For tokenization to be successful, all keys must be found and extracted, if one of them cannot be
found an error will be logged and no modification is done on the original event.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>A key can contain any characters except reserved suffix or prefix modifiers:  <code class="literal">/</code>,<code class="literal">&amp;</code>, <code class="literal">+</code>, <code class="literal">#</code>
and <code class="literal">?</code>.</p>
</div>
</div>
<p>See <a class="xref" href="defining-processors.html#conditions" title="Conditions">Conditions</a> for a list of supported conditions.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="dissect-example"></a>Dissect example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/master/libbeat/processors/dissect/docs/dissect.asciidoc">edit</a></h3>
</div></div></div>
<p>For this example, imagine that an application generates the following messages:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">"321 - App01 - WebServer is starting"
"321 - App01 - WebServer is up and running"
"321 - App01 - WebServer is scaling 2 pods"
"789 - App02 - Database is will be restarted in 5 minutes"
"789 - App02 - Database is up and running"
"789 - App02 - Database is refreshing tables"</pre>
</div>
<p>Use the <code class="literal">dissect</code> processor to split each message into two fields, for example,
<code class="literal">service.name</code> and <code class="literal">service.status</code>:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">processors:
  - dissect:
      tokenizer: '"%{pid|integer} - %{service.name} - %{service.status}"'
      field: "message"
      target_prefix: ""</pre>
</div>
<p>This configuration produces fields like:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">"service": {
  "pid": 321,
  "name": "App01",
  "status": "WebServer is up and running"
},</pre>
</div>
<p><code class="literal">service.name</code> is an ECS <a href="/guide/en/elasticsearch/reference/master/keyword.html" class="ulink" target="_top">keyword field</a>, which means that you
can use it in Elasticsearch for filtering, sorting, and aggregations.</p>
<p>When possible, use ECS-compatible field names. For more information, see the
<a href="/guide/en/ecs/1.7/index.html" class="ulink" target="_top">Elastic Common Schema</a> documentation.</p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="decompress-gzip-field.html">« Decompress gzip fields</a>
</span>
<span class="next">
<a href="processor-dns.html">DNS Reverse Lookup »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
