<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Configure system deployment templates | Elastic Cloud Enterprise Reference [2.10] | Elastic</title>
<meta class="elastic" name="content" content="Configure system deployment templates | Elastic Cloud Enterprise Reference [2.10]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [2.10]"/>
<link rel="up" href="ece-configuring-ece-templates.html" title="Configure deployment templates"/>
<link rel="prev" href="ece-configuring-ece-create-templates.html" title="Create deployment templates"/>
<link rel="next" href="ece-configure-templates-index-management.html" title="Configure index management for templates"/>
<meta class="elastic" name="product_version" content="2.10"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/2.10"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="2.10"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [2.10]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-configuring-ece.html">Configuring your installation</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-configuring-ece-templates.html">Configure deployment templates</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-configuring-ece-create-templates.html">« Create deployment templates</a>
</span>
<span class="next">
<a href="ece-configure-templates-index-management.html">Configure index management for templates »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-configuring-ece-configure-system-templates"></a>Configure system deployment templates<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-57/docs/cloud-enterprise/ce-configuring-ece-deployment-templates.asciidoc">edit</a></h2>
</div></div></div>
<p>While you can create new deployment templates for some use cases, if the system templates generally suit your needs but just require minor changes, you may choose to configure or modify the system templates.</p>
<p>For example, you want to use autoscaling with the system templates (as <a class="xref" href="ece-autoscaling.html#ece-autoscaling-restrictions" title="Restrictions and limitations">autoscaling is not available on custom deployment templates</a>), but want to modify some of the default values for autoscaling in those templates.
You might want to enable autoscaling by default for new deployments, or adjust the default value of the autoscaling maximum for the hot tier.</p>
<p>Note that you cannot edit system templates through the UI; they may only be configured through the API.</p>
<h3><a id="ece_configure_system_deployment_templates_through_the_restful_api"></a>Configure system deployment templates through the RESTful API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-57/docs/cloud-enterprise/ce-configuring-ece-deployment-templates.asciidoc">edit</a></h3>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The API user must have the <code class="literal">Platform admin</code> role in order to configure system templates.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Obtain the existing system deployment template you wish to modify. Note the <code class="literal">id</code> of the system deployment template as you will include this value in the API call to edit the template.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -k -X GET -H "Authorization: ApiKey $ECE_API_KEY" https://COORDINATOR_HOST:12443/api/v1/platform/configuration/templates/deployments</pre>
</div>
</li>
<li class="listitem">
Edit the JSON of the system deployment template you wish to modify.
</li>
<li class="listitem">
<p>Make the API call to modify the deployment template. Note that the last path segment in the URL is the <code class="literal">id</code> of the system template you wish to modify. See <a class="xref" href="set-deployment-template-v2.html" title="Set deployment template">set deployment template API</a> for more detail.</p>
<p>The following example modifies the Default system deployment template (that, is the system template with <code class="literal">id</code> value of <code class="literal">default</code>),
setting the default value of <code class="literal">autoscaling_enabled</code> to <code class="literal">true</code> and the default autoscaling maximum size of the hot tier to 4,194,304MB (64GB * 64 nodes).</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -k -X PUT -H "Authorization: ApiKey $ECE_API_KEY" https://$COORDINATOR_HOST:12443//api/v1/deployments/templates/default?region=ece-region -H 'content-type: application/json' -d '{
  {
  "name" : "Default",
  "description" : "Default deployment template for clusters",
  "deployment_template" : {
    "resources" : {
      "elasticsearch" : [
        {
          "ref_id" : "es-ref-id",
          "region" : "ece-region",
          "plan" : {
            "cluster_topology" : [
              {
                "id" : "hot_content",
                "node_type" : {
                  "master" : true,
                  "data" : true,
                  "ingest" : true
                },
                "node_roles" : [
                  "master",
                  "ingest",
                  "remote_cluster_client",
                  "data_hot",
                  "transform",
                  "data_content"
                ],
                "zone_count" : 1,
                "elasticsearch" : {
                  "node_attributes" : {
                    "data" : "hot"
                  }
                },
                "instance_configuration_id" : "data.default",
                "size" : {
                  "value" : 4096,
                  "resource" : "memory"
                },
                "autoscaling_max" : {
                  "value" : 4194304,
                  "resource" : "memory"
                },
                "topology_element_control" : {
                  "min" : {
                    "value" : 1024,
                    "resource" : "memory"
                  }
                }
              },
              {
                "id" : "warm",
                "node_type" : {
                  "master" : false,
                  "data" : true,
                  "ingest" : false
                },
                "node_roles" : [
                  "data_warm",
                  "remote_cluster_client"
                ],
                "zone_count" : 1,
                "elasticsearch" : {
                  "node_attributes" : {
                    "data" : "warm"
                  }
                },
                "instance_configuration_id" : "data.highstorage",
                "size" : {
                  "value" : 0,
                  "resource" : "memory"
                },
                "autoscaling_max" : {
                  "value" : 2097152,
                  "resource" : "memory"
                },
                "topology_element_control" : {
                  "min" : {
                    "value" : 0,
                    "resource" : "memory"
                  }
                }
              },
              {
                "id" : "cold",
                "node_type" : {
                  "master" : false,
                  "data" : true,
                  "ingest" : false
                },
                "node_roles" : [
                  "data_cold",
                  "remote_cluster_client"
                ],
                "zone_count" : 1,
                "elasticsearch" : {
                  "node_attributes" : {
                    "data" : "cold"
                  }
                },
                "instance_configuration_id" : "data.highstorage",
                "size" : {
                  "value" : 0,
                  "resource" : "memory"
                },
                "autoscaling_max" : {
                  "value" : 2097152,
                  "resource" : "memory"
                },
                "topology_element_control" : {
                  "min" : {
                    "value" : 0,
                    "resource" : "memory"
                  }
                }
              },
              {
                "id" : "coordinating",
                "node_type" : {
                  "master" : false,
                  "data" : false,
                  "ingest" : true
                },
                "node_roles" : [
                  "ingest",
                  "remote_cluster_client"
                ],
                "zone_count" : 1,
                "instance_configuration_id" : "coordinating",
                "size" : {
                  "value" : 0,
                  "resource" : "memory"
                },
                "topology_element_control" : {
                  "min" : {
                    "value" : 0,
                    "resource" : "memory"
                  }
                }
              },
              {
                "id" : "master",
                "node_type" : {
                  "master" : true,
                  "data" : false,
                  "ingest" : false
                },
                "node_roles" : [
                  "master",
                  "remote_cluster_client"
                ],
                "zone_count" : 1,
                "instance_configuration_id" : "master",
                "size" : {
                  "value" : 0,
                  "resource" : "memory"
                },
                "topology_element_control" : {
                  "min" : {
                    "value" : 0,
                    "resource" : "memory"
                  }
                }
              },
              {
                "id" : "ml",
                "node_type" : {
                  "master" : false,
                  "data" : false,
                  "ingest" : false,
                  "ml" : true
                },
                "node_roles" : [
                  "ml",
                  "remote_cluster_client"
                ],
                "zone_count" : 1,
                "instance_configuration_id" : "ml",
                "size" : {
                  "value" : 0,
                  "resource" : "memory"
                },
                "autoscaling_min" : {
                  "value" : 0,
                  "resource" : "memory"
                },
                "autoscaling_max" : {
                  "value" : 2097152,
                  "resource" : "memory"
                },
                "topology_element_control" : {
                  "min" : {
                    "value" : 0,
                    "resource" : "memory"
                  }
                }
              }
            ],
            "elasticsearch" : {

            },
            "autoscaling_enabled" : true
          },
          "settings" : {
            "dedicated_masters_threshold" : 6
          }
        }
      ],
      "kibana" : [
        {
          "ref_id" : "kibana-ref-id",
          "elasticsearch_cluster_ref_id" : "es-ref-id",
          "region" : "ece-region",
          "plan" : {
            "zone_count" : 1,
            "cluster_topology" : [
              {
                "instance_configuration_id" : "kibana",
                "size" : {
                  "value" : 1024,
                  "resource" : "memory"
                }
              }
            ],
            "kibana" : {

            }
          }
        }
      ],
      "apm" : [
        {
          "ref_id" : "apm-ref-id",
          "elasticsearch_cluster_ref_id" : "es-ref-id",
          "region" : "ece-region",
          "plan" : {
            "cluster_topology" : [
              {
                "instance_configuration_id" : "apm",
                "size" : {
                  "value" : 0,
                  "resource" : "memory"
                },
                "zone_count" : 1
              }
            ],
            "apm" : {

            }
          }
        }
      ],
      "enterprise_search" : [
        {
          "ref_id" : "enterprise_search-ref-id",
          "elasticsearch_cluster_ref_id" : "es-ref-id",
          "region" : "ece-region",
          "plan" : {
            "cluster_topology" : [
              {
                "node_type" : {
                  "appserver" : true,
                  "worker" : true,
                  "connector" : true
                },
                "instance_configuration_id" : "enterprise.search",
                "size" : {
                  "value" : 0,
                  "resource" : "memory"
                },
                "zone_count" : 2
              }
            ],
            "enterprise_search" : {

            }
          }
        }
      ]
    }
  },
  "system_owned" : true,
  "metadata" : [
    {
      "key" : "parent_solution",
      "value" : "stack"
    }
  ],
  "order" : 0,
  "template_category_id" : "default"
}'</pre>
</div>
</li>
</ol>
</div>
<p>After you have edited the template, you can start <a class="xref" href="ece-create-deployment.html" title="Create your deployment">creating new deployments</a> with it.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-configuring-ece-create-templates.html">« Create deployment templates</a>
</span>
<span class="next">
<a href="ece-configure-templates-index-management.html">Configure index management for templates »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":false},"go":{"hasAny":false},"ruby":{"hasAny":false},"java":{"hasAny":false},"javascript":{"hasAny":false},"python":{"hasAny":false},"csharp":{"hasAny":false}}}}</script>
  </body>
</html>
