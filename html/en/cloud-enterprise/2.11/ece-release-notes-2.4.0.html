<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Elastic Cloud Enterprise 2.4.0 | Elastic Cloud Enterprise Reference [2.11] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [2.11]"/>
<link rel="up" href="ece-release-notes.html" title="Release notes"/>
<link rel="prev" href="ece-release-notes-2.4.1.html" title="Elastic Cloud Enterprise 2.4.1"/>
<link rel="next" href="ece-release-notes-2.3.2.html" title="Elastic Cloud Enterprise 2.3.2"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/2.11"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="2.11"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [2.11]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="ece-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-release-notes-2.4.1.html">« Elastic Cloud Enterprise 2.4.1</a>
</span>
<span class="next">
<a href="ece-release-notes-2.3.2.html">Elastic Cloud Enterprise 2.3.2 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-release-notes-2.4.0"></a>Elastic Cloud Enterprise 2.4.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-59/docs/cloud-enterprise/ce-release-notes-up-to-2.7.0.asciidoc">edit</a></h2>
</div></div></div>
<p>New for Elastic Cloud Enterprise 2.4.0:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Elastic App Search (beta)</strong></span>. You can now add Elastic App Search to your deployments for a more streamlined search experience: From mobile applications to geo-localized search, Elastic App Search offers customization tools, such as query-time synonyms and relevance tuning interfaces, that cater to both technical and non-technical search managers on your team. <a class="xref" href="ece-enable-appsearch.html" title="Enable App Search">Learn more &#8230;&#8203;</a>
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Elastic Cloud Control tooling (ecctl, beta)</strong></span>. A new command-line interface, ecctl is built on top of our existing ECE API and used by our own engineers. With ecctl, you can perform many of the operations that traditionally require clicking in the Cloud UI or authenticating with the ECE API directly from the command line. This new tool provides added value if you want to script or automate portions of your ECE operations. The code is open for contributions on GitHub, so that you can build your own solution on top or add your own commands. New releases of ecctl  happen separately from the ECE release cadence. <a href="/guide/en/ecctl/current/index.html" class="ulink" target="_top">Learn more &#8230;&#8203;</a>
</li>
<li class="listitem">
<span class="strong strong"><strong>Better control through API keys</strong></span>. ECE now supports API keys that you can hand out to teams so that they can view or modify deployments. These API keys include tight integration with ECE role-based access controls (RBAC), so that an ECE administrator can create unique API keys for each user. Additionally, these user-specific API keys can be revoked as needed, for example in the case of a security compromise. <a class="xref" href="ece-restful-api-authentication.html#ece-api-keys" title="Authenticate using an API key">Learn more &#8230;&#8203;</a>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>New API endpoints to manage deployments</strong></span>. This version of ECE introduces new API endpoints that treat deployments as a single entity, so that you can manage an entire deployment as a whole. Gone are the days when you needed to use different endpoints to upgrade the Elastic Stack components of a deployment, for example. The following endpoints are all new:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="Deployment_-_CRUD.html" title="Deployment - CRUD">Deployment - CRUD</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_Commands.html" title="Deployment - Commands">Deployment - Commands</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_Info.html" title="Deployment - Info">Deployment - Info</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_resync.html" title="Deployment - resync">Deployment - resync</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_Resources_-_CRUD.html" title="Deployment Resources - CRUD">Deployment Resources - CRUD</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>New deployment distribution strategies</strong></span>. One of the benefits of the ECE platform is its robust deployment distribution logic that maximizes the utilization of the underlying resources you deploy the Elastic Stack on. With ECE 2.4, we are introducing several new deployment distribution strategies that let you customize how the Elastic Stack gets distributed across the available set of allocators in your ECE installation. <a class="xref" href="ece-configuring-allocator-affinity.html" title="Configure allocator affinity">Learn more &#8230;&#8203;</a>
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>A replacement proxy for ECE</strong></span>. One of the most important components of Elastic Cloud Enterprise is the proxy that most users interact with and that routes all incoming requests to the right deployment. ECE 2.4 includes a brand new proxy layer that brings improved stability and fault tolerance, along with the ability to keep routing traffic to Elastic Stack deployments even if the ECE coordination layer fails completely. Although new to ECE 2.4, this replacement proxy  has been running in production as part of the <a href="/products/elasticsearch/service" class="ulink" target="_top">Elasticsearch Service</a> for several months, across three major cloud providers and dozens of regions. The new proxy is also more memory and CPU efficient, outperforming the previous implementation.
</li>
<li class="listitem">
<span class="strong strong"><strong>Updated proxy layer defaults.</strong></span> In previous versions, the Elastic Cloud Enterprise proxy layer permitted negotiation with a client using TLS 1.0 and an intermediate level cipher suite. The proxy settings are now updated to default to a minimum of TLS 1.2 and a modern cipher suite, but we also include support for reverting to the legacy behavior. <a class="xref" href="ece-configure-tls-version.html" title="Configuring the TLS version">Learn more &#8230;&#8203;</a>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Elasticsearch and Kibana 7.4.1 and 6.8.4</strong></span>. This version of Elastic Cloud Enterprise includes new Elastic Stack versions. Previous versions of ECE can download these versions and <a class="xref" href="ece-manage-elastic-stack.html#ece-manage-elastic-stack-add" title="Add Elastic Stack packs">add them as Elastic Stack packs</a>. To learn more about best practices when upgrading, see <a class="xref" href="ece-upgrade-deployment.html" title="Upgrade versions">Upgrade versions</a>.
</li>
</ul>
</div>
<p>Want to learn more about what&#8217;s in this release? Check out our <a href="elastic.co/blog/elastic-cloud-enterprise-2-4-app-search-new-cli-api-keys-and-more" class="ulink" target="_top">Elastic Cloud Enterprise 2.4 announcement blog post</a>.
To upgrade to your Elastic Cloud Enterprise installation to this latest version, see <a class="xref" href="ece-upgrade.html" title="Upgrade your installation">Upgrade your installation</a>.</p>
<h3><a id="ece-release-notes-2.4.0-known-problems"></a>Known problems<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-59/docs/cloud-enterprise/ce-release-notes-up-to-2.7.0.asciidoc">edit</a></h3>
<p>This version of ECE has a known problem with traffic filtering, where users are unable to add or manage rule sets within the Cloud UI correctly. When attempting to add a rule while creating a new rule set, there is no option to save the rule or add more rules. Instead, a <span class="strong strong"><strong>Create rule set</strong></span> button is displayed and while attempting to create the rule set the request appears to complete successfully, the new rule set does not include the rule. As a workaround, you can create and manage rule sets with the REST API.</p>
<p>This issue is fixed in <a class="xref" href="ece-release-notes-2.4.1.html" title="Elastic Cloud Enterprise 2.4.1">Elastic Cloud Enterprise 2.4.1</a>.</p>
<p>This version of Elastic Cloud Enterprise has a known problem with the installation or upgrade script yielding a <span class="strong strong"><strong>false negative</strong></span> exception when journaldis used as a logging driver in Docker daemon versions 1.12 and 1.13. This error occurs even though the underlying bootstrap or upgrade process has completed successfully. Users need to check the output of <code class="literal">bootstrap.log</code> or <code class="literal">upgrade.log</code> to determine if the process completed successfully.</p>
<p>ECE versions from 2.4.0 to 2.4.3 are affected.</p>
<p>This version of ECE has a known problem with App Search upgrades from versions 7.5 to 7.6: Rolling upgrades can lead to limited data loss if you are actively modifying new engines during the upgrade process. The upgrade requires App Search instances for 7.5 to be stopped before the 7.6 ones are started.
As a workaround, before upgrading the 7.5 App Search instances to 7.6, you can stop the traffic towards those instances by clicking the <span class="strong strong"><strong>Stop routing</strong></span> button in the UI. Once all 7.5 instances are no longer routing traffic, it is safe to perform the upgrade by clicking the <span class="strong strong"><strong>Upgrade</strong></span> button.</p>
<p>ECE versions from 2.4.0 to 2.4.4 are affected.</p>
<p>This version of ECE has a known problem with upgrading Elasticsearch to versions 7.7 and higher in deployments with App Search.
App Search is no longer present in those stack versions and will be replaced by Enterprise Search, which will be available in an upcoming minor version of Elastic Cloud Enterprise.</p>
<p>ECE versions from 2.4 and 2.5 are affected.</p>
<p>All App Search versions from 7.5 to 7.6 have a bug in which the <code class="literal">system.log</code> file is not rotated.</p>
<p><em>Release date: October 29, 2019</em></p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-release-notes-2.4.1.html">« Elastic Cloud Enterprise 2.4.1</a>
</span>
<span class="next">
<a href="ece-release-notes-2.3.2.html">Elastic Cloud Enterprise 2.3.2 »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":false},"go":{"hasAny":false},"ruby":{"hasAny":false},"java":{"hasAny":false},"javascript":{"hasAny":false},"python":{"hasAny":false},"csharp":{"hasAny":false}}}}</script>
  </body>
</html>
