<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Configure index management for templates | Elastic Cloud Enterprise Reference [2.2] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [2.2]"/>
<link rel="up" href="ece-configuring-ece-templates.html" title="Configure deployment templates"/>
<link rel="prev" href="ece-configuring-ece-create-templates.html" title="Create deployment templates"/>
<link rel="next" href="ece-configuring-ece-instance-configurations-default.html" title="Default instance configurations"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/2.2"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="2.2"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [2.2]</a></span>
»
<span class="breadcrumb-link"><a href="ece-configuring-ece.html">Configuring your installation</a></span>
»
<span class="breadcrumb-link"><a href="ece-configuring-ece-templates.html">Configure deployment templates</a></span>
»
<span class="breadcrumb-node">Configure index management for templates</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-configuring-ece-create-templates.html">« Create deployment templates</a>
</span>
<span class="next">
<a href="ece-configuring-ece-instance-configurations-default.html">Default instance configurations »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-configure-templates-index-management"></a>Configure index management for templates<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/2.2/docs/cloud-enterprise/ce-configuring-ece-deployment-templates.asciidoc">edit</a></h2>
</div></div></div>
<p>If you create a deployment template that includes more than one data configuration, you must also specify how Elastic Cloud Enterprise should manage indices for your users when they create their deployments. For time-series use cases such as logging, metrics, and APM, providing a template that enables index management ensures that data is being stored in the most cost-effective way possible as it ages.</p>
<p>In a template that creates a hot-warm architecture, configuring index management typically means specifying where new indices get created initially and then where they get moved to later on through index curation. If you also configure index lifecycle management (ILM), additional features are available to your users, including the automatic roll-over of index aliases to new indices when existing indices are getting too large or too old, and deleting indices when they are no longer useful.</p>
<h4><a id="ece_before_you_begin_7"></a>Before you begin<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/2.2/docs/cloud-enterprise/ce-configuring-ece-deployment-templates.asciidoc">edit</a></h4>
<p>Configuring index management is part of the larger task of <a class="xref" href="ece-configuring-ece-create-templates.html" title="Create deployment templates">creating deployment templates</a> or editing them. The choices you make here determine which index management methods are available to your users when they create deployments.</p>
<p>You should configure all index management methods that you want your users to be able to choose from when they create their deployments from your template. At a minimum, you must always configure index curation. If you are not sure which index management methods to configure, take a look at how your users are asked to <a class="xref" href="ece-configure-index-management.html" title="Configure index management">configure index management</a> when they customize their deployments.</p>
<h4><a id="ece_steps_4"></a>Steps<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/2.2/docs/cloud-enterprise/ce-configuring-ece-deployment-templates.asciidoc">edit</a></h4>
<p>To configure index management when you create a deployment template:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>On the <span class="strong strong"><strong>Index Management</strong></span> page, configure the index curation methods that you want to be available when your users create deployments:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Index lifecycle management (Elastic Stack 6.7 and later)
</span>
</dt>
<dd>
<p>
Uses the ILM feature of the Elastic Stack that provides an integrated and streamlined way to manage time-based data, making it easier to follow best practices for managing your indices. Compared to index curation, ILM gives you more fine-grained control over the lifecycle of each index.
</p>
<p>To configure index lifecycle management:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Specify the node attributes for your data configurations.</p>
<p>Node attributes are simple key-value pairs, such as <code class="literal">node_type: hot</code>, <code class="literal">node_type: warm</code>, and <code class="literal">node_type: cold</code>. These node attributes add defining metadata attributes to each data configuration in your template that tell your users what they can be used for. What you define here should help guide your users when they set up the <a class="xref" href="ece-configure-index-management.html#ilm-phases">the main phases</a> of their index lifecycle management policy in Kibana, such as a hot-warm policy.</p>
<div class="olist lowerroman">
<ol class="lowerroman" type="i">
<li class="listitem">
Enter values into the <span class="strong strong"><strong>Key</strong></span> and <span class="strong strong"><strong>Value</strong></span> fields.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add</strong></span>.
</li>
<li class="listitem">
Repeat the previous step until you have added all the node attributes that you want to be available to your users when they create an index lifecycle policy later on.
</li>
</ol>
</div>
</li>
</ol>
</div>
</dd>
<dt>
<span class="term">
Index curation
</span>
</dt>
<dd>
<p>
Creates new indices on hot nodes first and moves them to warm nodes later on, based on the index patterns you specify. Also manages replica counts for you, so that all shards of an index can fit on the right data nodes. Compared to index lifecycle management, index curation for time-based indices supports only one action, to move indices from nodes on one data configuration to another, but it is more straightforward to set up initially and all setup can be done directly from the Cloud UI.
</p>
<p>If your user need to delete indices once they are no longer useful to them, they can run <a href="/guide/en/elasticsearch/client/curator/5.6/index.html" class="ulink" target="_top">Curator</a> on-premise to manage indices for Elasticsearch clusters hosted on Elastic Cloud Enterprise.</p>
<p>To configure index curation:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select the hot data configuration where new indices get created initially.
</li>
<li class="listitem">
Select the warm nodes where older indices get moved to later on when they get curated.
</li>
<li class="listitem">
<p>Specify which indices get curated by including at least one index pattern.</p>
<p>By default, the pattern is <code class="literal">*</code>, which means that all indices get curated. For logging use cases, you could specify to curate only the <code class="literal">logstash-*</code>, <code class="literal">metricbeat-*</code>, or <code class="literal">filebeat-*</code> index patterns, for example.</p>
</li>
<li class="listitem">
Specify the time interval after which indices get curated.
</li>
</ol>
</div>
</dd>
</dl>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Next</strong></span>.
</li>
</ol>
</div>
<p>After you have completed these steps, continue with <a class="xref" href="ece-configuring-ece-create-templates.html#ece-configuring-ece-create-templates-continue">creating your deployment template</a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-configuring-ece-create-templates.html">« Create deployment templates</a>
</span>
<span class="next">
<a href="ece-configuring-ece-instance-configurations-default.html">Default instance configurations »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":false},"go":{"hasAny":false},"ruby":{"hasAny":false},"java":{"hasAny":false},"javascript":{"hasAny":false},"python":{"hasAny":false},"csharp":{"hasAny":false}}}}</script>
  </body>
</html>
