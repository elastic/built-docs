<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Elastic Cloud Enterprise 2.9.0 | Elastic Cloud Enterprise Reference [3.1] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [3.1]"/>
<link rel="up" href="ece-release-notes.html" title="Release notes"/>
<link rel="prev" href="ece-release-notes-2.9.1.html" title="Elastic Cloud Enterprise 2.9.1"/>
<link rel="next" href="ece-release-notes-2.8.1.html" title="Elastic Cloud Enterprise 2.8.1"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/3.1"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="3.1"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [3.1]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="ece-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-release-notes-2.9.1.html">« Elastic Cloud Enterprise 2.9.1</a>
</span>
<span class="next">
<a href="ece-release-notes-2.8.1.html">Elastic Cloud Enterprise 2.8.1 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-release-notes-2.9.0"></a>Elastic Cloud Enterprise 2.9.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-70/docs/cloud-enterprise/releases/2.9.0/index.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="ece_release_highlights_5"></a>Release highlights<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-70/docs/cloud-enterprise/releases/2.9.0/index.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Introducing deployment autoscaling!</strong></span> New autoscaling support on Elastic Cloud Enterprise helps you to balance cost with efficient performance by adjusting the resources available to your deployments automatically. This reduces the need for you to adjust capacity manually as requirements and loads change over time. In this initial release, data tiers can scale up automatically in response to past and present storage usage, and machine learning nodes can scale both up and down based on memory requirements for the current jobs. Check <a class="xref" href="ece-autoscaling.html" title="Deployment autoscaling">Deployment autoscaling</a>.</p>
<p><span class="strong strong"><strong>Added support for cross-cluster search (CCS) and replication (CCR) across ECE environments.</strong></span> Break down data silos by searching across remote clusters regardless of where they are deployed. Increase data redundancy by storing copies of your data with CCR to ensure, in the event of a regional failure, a secondary, remote cluster can be used as a hot backup. Reduce search latency by storing copies of your data in a location nearer to the user. Check <a class="xref" href="ece-enable-ccs.html" title="Enable cross-cluster search and cross-cluster replication">Enable cross-cluster search and cross-cluster replication</a>.</p>
<p><span class="strong strong"><strong>Add an optional warm and cold tier in all 3+1 deployments.</strong></span> All built-in system-owned deployment templates have been extended to include an optional warm and cold data tier. You can now enable a warm tier on any type of deployment, and for deployments on Elastic Stack version 7.10 and higher, you can take advantage of snapshot-backed indices in a dedicated cold data tier and store much more data at the same cost. Check <a href="/guide/en/elasticsearch/reference/8.3/data-tiers.html" class="ulink" target="_top">Data tiers</a>.</p>
<h3><a id="ece_features_6"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-70/docs/cloud-enterprise/releases/2.9.0/feature.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Unhide deployment aliases fields from Deployments API.</strong></span> Deployment field <code class="literal">alias</code> added to support user-friendly URLs for deployment resources.</p>
<p><span class="strong strong"><strong>Log delivery health status.</strong></span> Callout section lists all observability health issues for a deployment.</p>
<p><span class="strong strong"><strong>Add data tiers to UI.</strong></span> Data tiers and their associated Elasticsearch <code class="literal">node.roles</code> are now supported in the UI.</p>
<p><span class="strong strong"><strong>Add Elasticsearch&#8217;s searchable snapshots partial cache settings to whitelist.</strong></span> Allows searchable snapshots partial storage settings to be configured when creating new deployments.</p>
<p><span class="strong strong"><strong>Change AdminConsole API to include internal details and failure type within info_log.</strong></span> The logs generated from a plan change now contain more details. This helps you debug problems and understand why a plan may have failed. Three new attributes are now included in the step logs:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">details</code>: Contains details about a step failure, visible to all console users.
</li>
<li class="listitem">
<code class="literal">internal_details</code>: Contains sensitive details about the step failure, visible only to admin console users.
</li>
<li class="listitem">
<code class="literal">failure_type</code>: Describes the type of failure that occurred.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Add Copy ID link to the application links.</strong></span> Adds a <code class="literal">Copy ID</code> link to the deployment overview. This helps you get the application ID&#8217;s required for CCS/CCR.</p>
<p><span class="strong strong"><strong>Add prices app to the billing service.</strong></span> Adds prices application to the billing service to expose the <code class="literal">/v1/prices/adjustment?domain=&lt;domain-id&gt;</code> endpoint as a REST API.
The API validates that <code class="literal">domain-id</code> is one of <code class="literal">types.adjustements</code> fields (currently "aws", "azure", "gcp", "found") and will always return the <code class="literal">current</code> adjustment.</p>
<h3><a id="ece_enhancements_8"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-70/docs/cloud-enterprise/releases/2.9.0/enhancement.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Allow Kibana CORS settings on Cloud.</strong></span> Cloud adds cross-origin resource sharing support for Kibana with the following settings:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">server.cors.enabled</code> - Set to true to allow cross-origin API calls. Default: false.
</li>
<li class="listitem">
<code class="literal">server.cors.allowCredentials</code> - Set to true to allow browser code to access response body whenever request performed with user credentials. Default: false.
</li>
<li class="listitem">
<code class="literal">server.cors.allowOrigin</code> - List of origins permitted to access resources. You must specify - <code class="literal">server.cors.allowOrigin</code> when <code class="literal">server.cors.allowCredentials: true</code>. Default: ["*"]
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Adds the response body copy time to the proxy logs.</strong></span> Adds a new field <code class="literal">backend_repsonse_body_time</code> to proxy request logs that indicates the amount of time taken to stream the response body from the upstream application to the calling client.</p>
<p><span class="strong strong"><strong>Adds handling zone to the proxy logs.</strong></span> Adds a new field <code class="literal">handling_zone</code> to proxy request logs that indicates the destination zone of a proxied request.</p>
<p><span class="strong strong"><strong>Remove subscription from user menu.</strong></span> The subscription level badge is removed from the user menu. Users should navigate to <span class="strong strong"><strong>Account &amp; Billing</strong></span> to view their subscription level.</p>
<p><span class="strong strong"><strong>Log cluster changes.</strong></span> Improved logging for allocation requests caused by cluster data changes.</p>
<p><span class="strong strong"><strong>GCM: Filter resources by name when pulling.</strong></span> Adds the ability for GCM to pull resources filtered by name.</p>
<p><span class="strong strong"><strong>Add Enterprise Search crawler.log (logs+metrics delivery).</strong></span> <code class="literal">crawler.log</code> is a new type of log, introduced as part of the App Search Web Crawler Beta, released with version 7.11.0.</p>
<p><span class="strong strong"><strong>Add externalLinks to AllocatorInfo.</strong></span> Adds an <code class="literal">externalLinks</code> attribute to allocators, which allows you to adding links to external resources like Kibana dashboards with allocator&#8217;s metrics.</p>
<p><span class="strong strong"><strong>Whitelist the vis_type_table.legacyVisEnabled Kibana setting.</strong></span> Adds new data table setting <code class="literal">vis_type_table.legacyVisEnabled</code> to allow list. This setting can be used to switch to the legacy data table.</p>
<p><span class="strong strong"><strong>GovCloud Registration page.</strong></span> Allow GovCloud users to self-service registration.</p>
<p><span class="strong strong"><strong>Start using Metricbeat for monitoring in 7.6+ clusters.</strong></span> For 7.6+ deployments, monitoring will now be implemented using Metricbeat, since legacy collection monitoring is deprecated and planned for removal. Any deployment update on a monitored 7.6+ deployment will undergo a one-time rolling plan change to transition the deployment to Metricbeat-based monitoring.</p>
<p><span class="strong strong"><strong>Improve logging on EnsureRepository.</strong></span> Improves error reporting for some failures that can occur when creating snapshot repositories.</p>
<p><span class="strong strong"><strong>Disable internal collection when Metricbeat is enabled.</strong></span> Optimizes Metricbeat monitoring by disabling legacy monitoring collection in Elasticsearch, Kibana, and APM when Metricbeat is in use.</p>
<p><span class="strong strong"><strong>Prevent plans terminating and creating resources of the same kind.</strong></span> Adds a validation to check that resources of the same kind are not terminated and added in a single plan. This can happen if the <code class="literal">refId</code> of a resource is changed, which would cause issues.</p>
<p><span class="strong strong"><strong>Respect Kibana authc.selector user preferences.</strong></span> When configuring Kibana in a deployment, users are now able to set <code class="literal">xpack.security.authc.selector.enabled: false</code> without it being overwritten by internal Cloud SSO settings.</p>
<p><span class="strong strong"><strong>Do not remove zero sized tiers from create request.</strong></span> Adds zero sized tiers to create request for the data tiers project. This addition is also required to create a deployment with autoscaling, as autoscaling requires all tiers to be submitted for requests.</p>
<p><span class="strong strong"><strong>Add Workplace Search thumbnail enable/disable config.</strong></span> Adds a <code class="literal">workplace_search.content_source.sync.thumbnails.enabled</code> configuration for Enterprise Search, which determines whether or not thumbnails will be generated for synced documents.</p>
<p><span class="strong strong"><strong>Add information about SAML API to SAML guide.</strong></span> Support for stack version 7.11 includes a new <a href="/guide/en/elasticsearch/reference/8.3/security-api-saml-sp-metadata.html#security-api-saml-sp-metadata-desc" class="ulink" target="_top">SAML API</a>.</p>
<p><span class="strong strong"><strong>Send an email on GCP paused/ended unsubscribe events.</strong></span> - GCP Marketplace customers are now emailed after disconnecting a project with the list of deployments that will be terminated if they don&#8217;t reconnect the project. The email includes the timestamp when deployment termination will occur.
The grace period for GCP Marketplace customers after disconnecting a project was reduced from 14 days in the case of unsubscribe and 31 days in the case of deletion, to 5 days in both cases. After this grace period elapses, customer deployments will be terminated, though snapshots remain for 30 days.</p>
<p><span class="strong strong"><strong>Turn on marketplace toggle always.</strong></span> Allows users to get both marketplace and non-marketplace prices for AWS on the public facing pricing page.</p>
<p><span class="strong strong"><strong>Enable subscription self-serve for AWS Marketplace users.</strong></span> Allows AWS Marketplace users to self-select their billing subscription level.</p>
<p><span class="strong strong"><strong>Change user settings validation to validate objects as a whole.</strong></span> Adds validation rules for user settings to require the order setting when specifying a custom realm through user settings for Elasticsearch clusters on version 8.0 or higher.</p>
<p><span class="strong strong"><strong>Stop leaking exception details to users.</strong></span> Plan failures shown in the user console no longer include root cause exception details in messages.</p>
<p><span class="strong strong"><strong>Add server.publicBaseUrl to Kibana settings allowlist.</strong></span> Users may now set the <code class="literal">server.publicBaseUrl</code> in their Kibana settings. Customers who access Kibana from a custom URL using a reverse proxy can now properly configure Kibana alerts and other features that link back to Kibana.</p>
<h3><a id="ece_bug_fixes_18"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-70/docs/cloud-enterprise/releases/2.9.0/bug.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Fix no Kibana upgrade.</strong></span> Fixes a bug where a disabled or terminated Kibana would not allow users to upgrade their deployment version.</p>
<p><span class="strong strong"><strong>Fix company info validation.</strong></span> Fixes a bug that was improperly validating users input when they were updating their credit card information.</p>
<p><span class="strong strong"><strong>Fix action after enabling monitoring, clear selected deployment.</strong></span> Fixes an issue while enabling logs and metrics on a deployment. User sees the <span class="strong strong"><strong>Enable</strong></span> button before the status flips to pending and shows the new monitoring deployment.</p>
<p><span class="strong strong"><strong>Re-enable allocations when major version upgrade fails.</strong></span> Re-enables allocations by setting them back to <code class="literal">all</code> after a (rolling) major version upgrade fails. Allocations are also set to <code class="literal">primaries</code> and not <code class="literal">none</code> before rolling an instance, as recommended by Elasticsearch.</p>
<p><span class="strong strong"><strong>Fix partial upgrade bug.</strong></span> Fixes a bug that would restrict some users from continuing with a failed upgrade.</p>
<p><span class="strong strong"><strong>Fix Kibana metrics link errors.</strong></span> Fixes errors that are shown in Kibana when following metrics links from logs and metrics UI.</p>
<p><span class="strong strong"><strong>Azure proxy protocol test.</strong></span> The Azure health check fails when it sets a proxy protocol, because the library we use does not allow <code class="literal">UNSPEC</code> when the command is <code class="literal">LOCAL</code>, which is incorrect.</p>
<p>According to the <a href="https://www.haproxy.org/download/1.8/doc/proxy-protocol.txt" class="ulink" target="_top">Proxy protocol</a>, when the command is <code class="literal">LOCAL</code> the transport <em>should</em> be <code class="literal">UNSPEC</code>. We don&#8217;t enforce this as AWS sends <code class="literal">LOCAL</code> and <code class="literal">TCPv4</code> as the transport.</p>
<p><span class="strong strong"><strong>Updating disk notifications toggle to reflect default setting.</strong></span> Fixes the default UI setting for disk notifications.</p>
<p><span class="strong strong"><strong>chmod user bundles after unpacking them.</strong></span> User bundles with read-only files/folders will no longer cause nodes to boot loop on restart.</p>
<p><span class="strong strong"><strong>Fix "See required changes" link.</strong></span> Fixes an inactive button in the Change my subscription modal.</p>
<p><span class="strong strong"><strong>Fix stuck allocator task scheduler.</strong></span> Fixes the issue with duplicated ticks and leader latches in <code class="literal">ClusterTaskScheduler</code> by introducing a scheduler with a single fixed tick loop.</p>
<p><span class="strong strong"><strong>Make some ES domain fields optional.</strong></span> Fixes a bug that would sometimes cause plans to fail during the <span class="strong strong"><strong>Migrating shard data</strong></span> step.</p>
<p><span class="strong strong"><strong>Revert "Only display cloud-snapshot"</strong></span>. Fixes a bug where we were only showing certain snapshots in the UI, sometimes causing an inconsistent message with the snapshots that actually exist in the cluster.</p>
<p><span class="strong strong"><strong>Handle terminated deployments and missing templates on Edit screen.</strong></span> Editing terminated or certain system deployments should no longer throw an error.</p>
<p><span class="strong strong"><strong>Keep legacy exporter enabled when monitoring with Metricbeat.</strong></span> Fixes a bug where legacy collection monitoring of externally deployed services (for example Logstash) is disabled when Metricbeat monitoring is enabled in Cloud.
Fixes a bug where monitoring index retention was not being enforced when self-monitoring is enabled.
Fixes a bug where restoring a snapshot into a new deployment with cluster state can restore broken monitoring settings that require manual Elasticsearch settings changes.</p>
<p><span class="strong strong"><strong>Apply correct timestamps to downloaded bundles.</strong></span> Fixes a bug that could cause instances to bootloop during rolling plans if a cluster is configured with user bundles.</p>
<p><span class="strong strong"><strong>Use recommended JVM heap allocation for dedicated masters.</strong></span> Fixes an issue where dedicated masters can OOM due to over-allocated heap size.</p>
<p><span class="strong strong"><strong>Use smaller Elasticsearch heap when Filebeat and Metricbeat are running.</strong></span> Fixes a bug where, when logs and metrics are enabled on Elasticsearch clusters, small, master-only, instances and tiebreaker instances have memory swapping issues.</p>
<p><span class="strong strong"><strong>The "Optimize cluster settings" step respects <code class="literal">failsafe</code> setting.</strong></span> Some plans could fail if ML node was down, even if the force flag (failsafe setting) was set. This change lets plans continue even if the <em>Optimize ML Cluster settings</em> step fails and if the <code class="literal">failsafe</code> flag is set.</p>
<p><span class="strong strong"><strong>Strip hop by headers from the response.</strong></span> Strips hop by hop headers from the response, and enhances the removal of hop by hop headers from both request and response by also removing any header specified in the <code class="literal">Connection</code> header.</p>
<p><span class="strong strong"><strong>Log metrics UI errors, Kibana and 24 hour logs.</strong></span> - Fixes error messages for logs and metrics screen. Fixes issue where 24 hour logs do not show when logs monitoring is not enabled. Fixes error when there is no Kibana option.</p>
<p><span class="strong strong"><strong>Regression fix: set initial_master_nodes during single-master cluster upgrades.</strong></span> Prevents permanent loss of quorum when doing a rolling upgrade 6.x &#8658; 7.x on clusters with a single master eligible instance.</p>
<p><span class="strong strong"><strong>Fix template sorting so the default template is first on ECE.</strong></span> Fixes sorting of templates so that the default template is preselected instead of cross-cluster search.</p>
<p><span class="strong strong"><strong>Hide shadow realm users from /api/v1/users results.</strong></span> As part of Cloud SSO to Kibana and Enterprise Search, ECE creates "shadow" native realm users for every user that logs in to ECE.  As of ECE 2.9, these users are now hidden from the Native Users list and <code class="literal">/api/v1/users</code> API results.</p>
<p><span class="strong strong"><strong>Use disk queue in Metricbeat.</strong></span> Fixes issues on dedicated master instances version 7.6+ using the monitoring feature where memory pressure is elevated and GC are more frequent on the elected master by using Metricbeat&#8217;s disk queue.</p>
<p><span class="strong strong"><strong>Add voting exclusion for instances losing master role.</strong></span> Fixes a variety of edge cases that could lead to cluster quorum loss on 7.x+ clusters, such as running a plan that switches from multiple master nodes to a single master node.</p>
<p><span class="strong strong"><strong>Set min_doc_count to 0 for derivative aggregation to work.</strong></span> Fixes "GC Overhead Per Node" metric in Performance tab in console.</p>
<p><span class="strong strong"><strong>Remove _type specifier in console request metrics query.</strong></span> Fixes a bug where user console metrics would not show the request metrics.</p>
<p><span class="strong strong"><strong>Enable AttemptClusterStabilisation feature flag.</strong></span> Running a plan in which some instances are mutated will now first (re-)start any other instances that are not running. This mitigates the risk of losing cluster quorum during certain plans (such as adding dedicated masters) when the cluster is in an abnormal state.</p>
<p><span class="strong strong"><strong>Get rid of nested retry loop.</strong></span> Cluster creation plans which fail will now fail faster instead of hanging during the rollback-migrate step.</p>
<p><span class="strong strong"><strong>Avoid chown of home dir when log delivery enabled.</strong></span> Fixes a bug where Kibana can take a long time to start when log delivery is enabled.</p>
<p><span class="strong strong"><strong>Clear (don&#8217;t set) initial-master-nodes if cluster already bootstrapped.</strong></span> Clusters will no longer end up in a split brain if masters are added while all other masters are currently offline.</p>
<p><span class="strong strong"><strong>Use lowest cluster version for voting exclusions API check.</strong></span> Fixes a bug that would sometimes cause Elasticsearch major version upgrades 6.x &#8658; 7.x to fail.</p>
<p><span class="strong strong"><strong>Split vacate modals.</strong></span> Fixes a bug where using the <em>"Move instance (node)"</em> menu item for Elasticsearch instances on the Deployment Overview page would&#8217;ve moved all Elasticsearch instances for the cluster from the allocator for the instance you were trying to move, as opposed to just the instance you were trying to move.</p>
<p><span class="strong strong"><strong>Fix the user menu hover and focus states.</strong></span> Fixes visual bugs in the user menu. The buttons were not the full width of their parent, and the focus state was emphasizing that issue. Also, the <code class="literal">moon</code> icon had the wrong colour.</p>
<p><span class="strong strong"><strong>Add back 24 hr logs viewer</strong></span>. Add back 24 hr logs view when <span class="strong strong"><strong>Logs and Metrics</strong></span> is not enabled.</p>
<p><span class="strong strong"><strong>Change node type default in API</strong></span>. Changes the default values documented in the API for node types.
The node types <code class="literal">data</code>, <code class="literal">master</code>, <code class="literal">ingest</code>, and <code class="literal">ml</code> default to false when they are not specified.</p>
<h3><a id="ece_deprecations_7"></a>Deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-70/docs/cloud-enterprise/releases/2.9.0/deprecation.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Deprecate field ccs inside ElasticsearchClusterInfo.</strong></span> Version 3.0.0 will include the following breaking change:
The field <code class="literal">ccs</code> in <code class="literal">no.found.adminconsole.api.v1.routes.clusters.info.ElasticsearchClusterInfo</code> has been deprecated and will no longer be supported in version 3.0.0. This field was used to obtain information about the remote clusters of an Elasticsearch cluster.
As a replacement, there is now a specific endpoint that should be used to retrieve information about the remote clusters:
<code class="literal">GET /api/v1/deployments/{deployment_id}/elasticsearch/{ref_id}/remote-clusters</code>
This change is needed in order to support configuration of remote clusters through Kibana and the Elasticsearch API directly.</p>
<p><span class="strong strong"><strong>Deprecate automatic handling of Cross-Origin Resource Sharing (CORS) requests by the ECE proxy</strong></span>. ECE 3.x will rely on Elastic Stack to handle CORS requests. For more information, check <a class="xref" href="ece-configure-cors.html" title="Configure Cross-Origin Resource Sharing (CORS)">Configure Cross-Origin Resource Sharing (CORS)</a>.</p>
<p><span class="strong strong"><strong>Update workplace search config version to 7.12.</strong></span> The following configs are deprecated and will be removed in version "8.0.0":</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">workplace_search.custom_api_source.document_size.limit</code>
</li>
<li class="listitem">
<code class="literal">workplace_search.custom_api_source.total_fields.limit</code>
</li>
</ul>
</div>
<p>Use the following configs instead:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">workplace_search.content_source.document_size.limit</code>
</li>
<li class="listitem">
<code class="literal">workplace_search.content_source.total_fields.limit</code>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Add workplace search content source limit configs.</strong></span> The following configs are deprecated and will be removed in version "8.0.0":</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">workplace_search.custom_api_source.document_size.limit</code>
</li>
<li class="listitem">
<code class="literal">workplace_search.custom_api_source.total_fields.limit</code>
</li>
</ul>
</div>
<p>Use the following configs instead:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">workplace_search.content_source.document_size.limit</code>
</li>
<li class="listitem">
<code class="literal">workplace_search.content_source.total_fields.limit</code>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Remove support for container start options.</strong></span> Removes support for <code class="literal">container_start_options</code> in infrastructure containers. Going forward, any provided <code class="literal">container_start_options</code> will be ignored.</p>
<p><span class="strong strong"><strong>Update restrictions for transport clients.</strong></span> Adds a note that the transport client is deprecated and will be removed in 8.0.</p>
<h3><a id="ece_docs_6"></a>Docs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-70/docs/cloud-enterprise/releases/2.9.0/docs.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Remove basicAuth as a supported auth type from the ESS public API spec.</strong></span> Updated API documentation to remove Basic Authentication from supported authentication mechanisms for Elastic Cloud.</p>
<p><span class="strong strong"><strong>Add information about SAML API to SAML guide.</strong></span> Support for stack version 7.11 includes a new <a href="/guide/en/elasticsearch/reference/8.3/security-api-saml-sp-metadata.html#security-api-saml-sp-metadata-desc" class="ulink" target="_top">SAML API</a>.</p>
<p><span class="strong strong"><strong>Update restrictions for transport clients.</strong></span> Adds a note that the transport client is deprecated and will be removed in 8.0.</p>
<p><span class="strong strong"><strong>Add a deprecation note to the route class.</strong></span> We deprecate <code class="literal">ip-filtering</code> API endpoints, use their <code class="literal">traffic-filter</code> counterparts. The <code class="literal">ip-filtering</code> endpoints were introduced during IP filtering beta and we replaced them with <code class="literal">traffic-filter</code> endpoints (<a href="/guide/en/cloud-enterprise/current/Deployments_-_Traffic_Filter_-_CRUD.html" class="ulink" target="_top">CRUD</a>, <a href="/guide/en/cloud-enterprise/current/Deployments_-_Traffic_Filter_-_Associations.html" class="ulink" target="_top">Associations</a>) for traffic filter general availability.</p>
<p>The <code class="literal">ip-filtering</code> endpoints will be removed in a future version.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-release-notes-2.9.1.html">« Elastic Cloud Enterprise 2.9.1</a>
</span>
<span class="next">
<a href="ece-release-notes-2.8.1.html">Elastic Cloud Enterprise 2.8.1 »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":false},"go":{"hasAny":false},"ruby":{"hasAny":false},"java":{"hasAny":false},"javascript":{"hasAny":false},"python":{"hasAny":false},"csharp":{"hasAny":false}}}}</script>
  </body>
</html>
