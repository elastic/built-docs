<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Configure index management | Elastic Cloud Enterprise Reference [2.6] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [2.6]"/>
<link rel="up" href="ece-create-deployment.html" title="Create your deployment"/>
<link rel="prev" href="ece-customize-deployment.html" title="Customize your deployment"/>
<link rel="next" href="ece-access-kibana.html" title="Access Kibana"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/2.6"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="2.6"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [2.6]</a></span>
»
<span class="breadcrumb-link"><a href="ece-stack-getting-started.html">Getting started with deployments</a></span>
»
<span class="breadcrumb-link"><a href="ece-create-deployment.html">Create your deployment</a></span>
»
<span class="breadcrumb-node">Configure index management</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-customize-deployment.html">« Customize your deployment</a>
</span>
<span class="next">
<a href="ece-access-kibana.html">Access Kibana »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-configure-index-management"></a>Configure index management</h2>
</div></div></div>
<p>For time-series use cases such as logging, metrics, and APM, you typically store data in time-based indexes. As this data ages, practicing good index management ensures that your data is being stored in the most cost-effective way possible. In practical terms this means that, if you customize a deployment that includes more than one data configuration, you must also specify how Elastic Cloud Enterprise should manage your indices.</p>
<p>In a hot-warm architecture, you can use index curation to specify where new indices are created initially and where they are moved to later on. However, index curation will soon be deprecated in favor of index lifecycle management (ILM), which offers additional features and more fine-grained control over indices. For instance, using ILM you can enable automatic roll-over of index aliases to new indices when existing indices become too large or too old, and you can set indices to be deleted when they are no longer useful.</p>
<h4><a id="ece_before_you_begin_14"></a>Before you begin</h4>
<p>Configuring index management is part of the larger task of
<a class="xref" href="ece-create-deployment.html" title="Create your deployment">creating deployments</a> and customizing them.
Which index management methods are available to you depends on which version of the Elastic Stack you are using. Index lifecycle management (ILM) requires that you use version 6.7 or later and is the new default index management method. For versions before 6.7, index curations is the only available method to manage your indices. Starting with version 7.8, we strongly encourage using ILM to avoid the potential for unpredictable behavior. Elasticsearch from that version and later runs with the ILM API always enabled, and other stack products and features provide default policies.</p>
<p>For custom deployment templates, only those index management methods are available that your system administrator configured when <a class="xref" href="ece-configuring-ece-create-templates.html" title="Create deployment templates">creating the template</a>.</p>
<p>For existing deployments with a hot-warm architecture that are configured to use index curation: You cannot change from one index management method to another using the instructions in this section, but you can <a class="xref" href="ece-migrate-index-management.html" title="Migrate to index lifecycle management">migrate to index lifecycle management</a> with some additional steps.</p>
<h4><a id="ece_steps_6"></a>Steps</h4>
<p>To configure index management when you customize a new deployment:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>On the <span class="strong strong"><strong>Index Management</strong></span> page, select the index management method that you want to use:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Index lifecycle management (Elastic Stack 6.7 and later)
</span>
</dt>
<dd>
<p>
Uses the ILM feature of the Elastic Stack that provides an integrated and streamlined way to manage time-based  data, making it easier to follow best practices for managing your indices. Compared to index curation, ILM gives you more fine-grained control over the lifecycle of each index.
</p>
<p>To configure index lifecycle management:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select <span class="strong strong"><strong>Index Lifecycle Management (ILM)</strong></span>.
</li>
<li class="listitem">
<p>Review the available node attributes for each of your data configurations.</p>
<p>Node attributes are part of the deployment template and add defining metadata attributes to each data instance configuration that tell you what they can be used for,
such as <code class="literal">node_type: hot</code>, <code class="literal">node_type: warm</code>, or <code class="literal">node_type: cold</code>.
You use these node attributes in Kibana when you configure your index lifecycle management policy, whether that is a hot-warm policy or one that uses any of the other supported lifecycle management features.</p>
</li>
<li class="listitem">
<a id="ilm-create-policy"></a><a class="xref" href="ece-access-kibana.html" title="Access Kibana">Access Kibana</a> and go to <span class="strong strong"><strong>Management</strong></span> &gt; <span class="strong strong"><strong>Elasticsearch</strong></span> &gt; <span class="strong strong"><strong>Index Lifecycle Policies</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create policy</strong></span> to start setting up a new index lifecycle policy.
</li>
<li class="listitem">
Enter a name for your policy.
</li>
<li class="listitem">
<p>Define the phases of the index lifecycle.</p>
<p><a id="ilm-phases"></a>ILM breaks the lifecycle of an index down into four main phases:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Hot.</strong></span> The index is actively being queried and written to. You can
roll over to a new index when the original index reaches a specified size, document count, or age.  When a rollover occurs, a new index is created, added to the index alias, and designated as the new hot index. You can still query the previous indices, but you only ever write to the hot index. See <a href="/guide/en/kibana/7.9/creating-index-lifecycle-policies.html#setting-a-rollover-action" class="ulink" target="_top">Setting a rollover action</a>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Warm.</strong></span> The index is typically searched at a lower rate than when the data is hot. The index is not used for storing new data, but might occasionally add late-arriving data, for example, from a Beat with a network problem that&#8217;s now fixed. You can optionally shrink the number replicas and move the shards to a different set of nodes with smaller or less performant hardware. You can also reduce the number of primary shards and force merge the index into smaller <a href="/guide/en/elasticsearch/reference/7.9/indices-segments.html" class="ulink" target="_top">segments</a>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Cold.</strong></span> The index is no longer being updated and is seldom queried, but is still searchable. If you have a big deployment, you can move it to even less performant hardware. You might also reduce the number of replicas because you expect the data to be queried less frequently. To keep the index searchable for a longer period, and reduce the hardware requirements, you can use the <a href="/guide/en/elasticsearch/reference/7.9/frozen-indices.html" class="ulink" target="_top">freeze action</a>. Queries are slower on a frozen index because the index is reloaded from the disk to RAM on demand.
</li>
<li class="listitem">
<span class="strong strong"><strong>Delete.</strong></span> The index is no longer relevant. You can define when it is safe to delete it.
</li>
</ul>
</div>
<p>The index lifecycle always includes an active hot phase. The warm, cold, and delete phases are optional. For example, you might define all four phases for one policy and only a hot and delete phase for another. See <a href="/guide/en/elasticsearch/reference/7.9/_actions.html" class="ulink" target="_top">Actions</a> for more information on the actions available in each phase.</p>
<p>There are additional benefits to ILM, such as integration with cross-cluster search, which lets you to auto-unfollow read-only indices. You can also set the recovery priority action, so that newer indices recover faster than older ones. To learn more about creating lifecycle policies and about all of the features that are available with ILM, see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/kibana/7.9/creating-index-lifecycle-policies.html" class="ulink" target="_top">Create your index lifecyle policy in Kibana</a>
</li>
<li class="listitem">
<a href="/guide/en/elasticsearch/reference/7.9/index-lifecycle-management.html" class="ulink" target="_top">Managing the index lifecycle</a>
</li>
<li class="listitem">
<a href="/guide/en/elasticsearch/reference/7.9/index-lifecycle-management-api.html" class="ulink" target="_top">Index lifecycle management API</a>
</li>
</ul>
</div>
</li>
</ol>
</div>
</dd>
<dt>
<span class="term">
Index curation (Elastic Stack 6.6 and earlier)
</span>
</dt>
<dd>
<p>
Creates new indices on hot nodes first and moves them to warm nodes later on, based on the index patterns you specify. Also manages replica counts for you, so that all shards of an index can fit on the right data nodes. Compared to index lifecycle management, index curation for time-based indices supports only one action, to move indices from nodes on one data configuration to another, but it is more straightforward to set up initially and all setup can be done directly from
the Cloud UI.
</p>
<p>If you need to delete indices once they are no longer useful, you can run <a href="/guide/en/elasticsearch/client/curator/current/index.html" class="ulink" target="_top">Curator</a> or your own automation script on-premise to manage indices for Elasticsearch clusters hosted on Elastic Cloud Enterprise.</p>
<p>To configure index curation:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select <span class="strong strong"><strong>Index Curation</strong></span>.
</li>
<li class="listitem">
Select the hot data configuration where new indices get created initially.
</li>
<li class="listitem">
Select the warm nodes where older indices get moved to later on when they get curated.
</li>
<li class="listitem">
<p>Specify which indices get curated by including at least one index pattern.</p>
<p>By default, the pattern is <code class="literal">*</code>, which means that all indices get curated. For logging use cases, you could specify to curate only the <code class="literal">logstash-*</code>, <code class="literal">metricbeat-*</code>, or <code class="literal">filebeat-*</code> index patterns, for example.</p>
</li>
<li class="listitem">
Specify the time interval after which indices get curated.
</li>
</ol>
</div>
</dd>
</dl>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create deployment</strong></span>.
</li>
</ol>
</div>
<p>After you have completed these steps, continue with <a class="xref" href="ece-create-deployment.html" title="Create your deployment">creating your deployment</a>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Index curation will be deprecated soon. For Elastic Stack version 6.7 and later, any deployments using index curation will be <a class="xref" href="ece-migrate-index-management.html" title="Migrate to index lifecycle management">prompted to migrate to ILM</a>.</p>
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-customize-deployment.html">« Customize your deployment</a>
</span>
<span class="next">
<a href="ece-access-kibana.html">Access Kibana »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":false},"go":{"hasAny":false},"ruby":{"hasAny":false},"java":{"hasAny":false},"javascript":{"hasAny":false},"python":{"hasAny":false},"csharp":{"hasAny":false}}}}</script>
  </body>
</html>
