<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Troubleshooting container engines | Elastic Cloud Enterprise Reference [3.7] | Elastic</title>
<meta class="elastic" name="content" content="Troubleshooting container engines | Elastic Cloud Enterprise Reference [3.7]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [3.7]"/>
<link rel="up" href="ece-troubleshooting.html" title="Troubleshooting"/>
<link rel="prev" href="ece-troubleshooting-zookeeper-quorum.html" title="Rebuilding a broken Zookeeper quorum"/>
<link rel="next" href="ece-run-ece-diagnostics.html" title="Run ECE diagnostics tool"/>
<meta class="elastic" name="product_version" content="3.7"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/3.7"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="3.7"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="ece-troubleshooting-zookeeper-quorum.html">« Rebuilding a broken Zookeeper quorum</a>
</span>
<span class="next">
<a href="ece-run-ece-diagnostics.html">Run ECE diagnostics tool »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [3.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-troubleshooting.html">Troubleshooting</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Troubleshooting container engines</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/cloud-enterprise/ce-troubleshooting-containers.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="ece-troubleshooting-containers"></a>Troubleshooting container engines</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/cloud-enterprise/ce-troubleshooting-containers.asciidoc">edit</a></div>
</div></div></div>
<p>This article describes how to troubleshoot container engine services in Elastic Cloud Enterprise.
We refer to <a href="https://www.docker.com/" class="ulink" target="_top">Docker</a> by default, as it&#8217;s the most common container engine, but these steps are also valid for <a href="https://podman.io/" class="ulink" target="_top">Podman</a>. You can simply replace <code class="literal">docker</code> in the commands  with <code class="literal">podman</code> as needed.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Do not restart the Docker daemon unless directly
prescribed by Elastic Support upon reviewing an
<a class="xref" href="ece-run-ece-diagnostics.html" title="Run ECE diagnostics tool">Elastic Cloud Enterprise diagnostic</a>, as historically Docker can leave
residual orphan processes. We also advise against running any variation of
Docker&#8217;s <code class="literal">prune</code> to avoid accidental data loss.</p>
</div>
</div>
<div class="position-relative"><h3><a id="ece-troubleshooting-containers-supported"></a>Use supported configuration</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/cloud-enterprise/ce-troubleshooting-containers.asciidoc">edit</a></div>
<p>Make sure to use a combination of <a class="xref" href="ece-configure-os-cloud.html" title="Configure your operating system">Linux operating systems</a> and container engine version that is supported, following our official <a href="/support/matrix#elastic-cloud-enterprise" class="ulink" target="_top">Support matrix</a>. Using unsupported combinations can cause a plethora of either intermediate or
potentially permanent issues with you Elastic Cloud Enterprise environment, such as failures to create <a class="xref" href="ece-system-clusters-configuration.html" title="System deployments configuration">system deployments</a>, to upgrade workload deployments, proxy timeouts, data loss, and more.</p>
<div class="position-relative"><h3><a id="ece-troubleshooting-containers-unhealthy"></a>Troubleshoot unhealthy containers</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/cloud-enterprise/ce-troubleshooting-containers.asciidoc">edit</a></div>
<p>While troubleshooting the stability of an Elastic Cloud Enterprise host, you may encounter
<code class="literal">unhealthy</code> Docker containers as reported by
<a href="https://docs.docker.com/reference/cli/docker/container/ls" class="ulink" target="_top"><code class="literal">ps</code></a>.</p>
<p>System containers reporting unhealthy is infrequent and usually only occurs
after an unexpected occurance or issues while performing operating system
maintenance. If operating system maintenance does need performed, kindly
pivot to our <a class="xref" href="ece-perform-host-maintenance.html" title="Perform host maintenance">perform host maintenance guide</a>.</p>
<div class="position-relative"><h4><a id="ece-troubleshooting-containers-unhealthy-instances"></a>Restart deployment instances</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/cloud-enterprise/ce-troubleshooting-containers.asciidoc">edit</a></div>
<p>If the <code class="literal">unhealthy</code> Docker container is a Deployment&#8217;s instance, name
formatting <code class="literal">fac-{cluster_id}-instance-{node_id}</code>, we recommend restarting the
instance from the Elastic Cloud Enterprise UI via <a class="xref" href="ece-maintenance-mode-deployments.html" title="Maintenance mode">its pause
and resume mechanism</a> rather than via Docker.</p>
<p>If the <code class="literal">unhealthy</code> status returns, we recommend investigating via
<a class="xref" href="ece-config-change-errors.html" title="How do I resolve node bootlooping?">our troubleshooting bootlooping guide</a>.</p>
<p>This should indicate an issue with the Elasticsearch configuration rather than any
Docker-level problem. An isolated exception effecting
<a class="xref" href="ece-install-offline.html" title="Install ECE offline">air-gapped environments</a> is if the expected Docker
<a href="https://docs.docker.com/reference/cli/docker/image/ls/" class="ulink" target="_top"><code class="literal">image</code></a> does not
yet exist on the Allocator in which case its logs would report
<code class="literal">Unable to pull image</code>.</p>
<div class="position-relative"><h4><a id="ece-troubleshooting-containers-unhealthy-restart"></a>Restart service containers</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/cloud-enterprise/ce-troubleshooting-containers.asciidoc">edit</a></div>
<p>While troubleshooting <code class="literal">unhealthy</code> Elastic Cloud Enterprise system containers (name prefix <code class="literal">frc-</code>),
<em>some</em> may be restarted while others should not.</p>
<p>Elastic Cloud Enterprise&#8217;s <a class="xref" href="get-runners.html" title="Get runners">runners</a> will automatically create or restart missing
system containers. If you&#8217;re attempting to permanently remove a system container
by removing its role from the host, you&#8217;d instead
<a class="xref" href="set-runner-roles.html" title="Set runner roles">update runner roles</a>. If eligible system containers return to
an <code class="literal">unhealthy</code> status after restart, we recommend reviewing their start-up Docker
<a href="https://docs.docker.com/reference/cli/docker/container/logs/" class="ulink" target="_top"><code class="literal">logs</code></a>.</p>
<p>It is safe to restart the following via Docker
<a href="https://docs.docker.com/reference/cli/docker/container/stop/" class="ulink" target="_top"><code class="literal">stop</code></a>
followed by Docker
<a href="https://docs.docker.com/reference/cli/docker/container/rm/" class="ulink" target="_top"><code class="literal">rm</code></a> on:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">frc-allocator-metricbeats-allocator-metricbeat</code>
</li>
<li class="listitem">
<code class="literal">frc-allocators-allocator</code>
</li>
<li class="listitem">
<code class="literal">frc-beats-runners-beats-runner</code>
</li>
<li class="listitem">
<code class="literal">frc-constructors-constructor</code>
</li>
<li class="listitem">
<code class="literal">frc-proxies-proxyv2</code>
</li>
<li class="listitem">
<code class="literal">frc-proxies-route-server</code>
</li>
</ul>
</div>
<p>It is safe to restart the following via Docker
<a href="https://docs.docker.com/reference/cli/docker/container/restart/" class="ulink" target="_top"><code class="literal">restart</code></a>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">frc-client-forwarders-client-forwarder</code>
</li>
<li class="listitem">
<code class="literal">frc-directors-director</code>
</li>
<li class="listitem">
<code class="literal">frc-services-forwarders-services-forwarder</code>
</li>
</ul>
</div>
<p>It is <span class="strong strong"><strong>not</strong></span> safe to restart the following without explicit steps from
Elastic Support upon reviewing an <a class="xref" href="ece-run-ece-diagnostics.html" title="Run ECE diagnostics tool">Elastic Cloud Enterprise diagnostic</a>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
any container name prefixing <code class="literal">fac-</code>
</li>
<li class="listitem">
<code class="literal">frc-runners-runner</code>
</li>
<li class="listitem">
<code class="literal">frc-zookeeper-servers-zookeeper</code>
</li>
</ul>
</div>
<p>For unhealthy Zookeeper, instead see
<a class="xref" href="ece-zookeeper-sync.html" title="Verify ZooKeeper Sync Status">verify Zookeeper sync status</a> and
<a class="xref" href="ece-troubleshooting-zookeeper-quorum.html" title="Rebuilding a broken Zookeeper quorum">resolving Zookeeper quorum</a>.</p>
<p>For any Elastic Cloud Enterprise system container not listed, kindly reach out to
<a class="xref" href="ece-getting-help.html" title="Ask for help">Elastic Support</a> for advisement.</p>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</div><div class="navfooter">
<span class="prev">
<a href="ece-troubleshooting-zookeeper-quorum.html">« Rebuilding a broken Zookeeper quorum</a>
</span>
<span class="next">
<a href="ece-run-ece-diagnostics.html">Run ECE diagnostics tool »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":false},"go":{"hasAny":false},"ruby":{"hasAny":false},"java":{"hasAny":false},"javascript":{"hasAny":false},"python":{"hasAny":false},"csharp":{"hasAny":false}}}}</script>
  </body>
</html>
