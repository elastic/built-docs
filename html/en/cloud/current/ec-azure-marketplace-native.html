<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Azure Native ISV Service | Elasticsearch Service Documentation | Elastic</title>
<meta class="elastic" name="content" content="Azure Native ISV Service | Elasticsearch Service Documentation">

<link rel="home" href="index.html" title="Elasticsearch Service Documentation"/>
<link rel="up" href="ec-marketplaces.html" title="Subscribing from a marketplace"/>
<link rel="prev" href="ec-billing-aws.html" title="AWS Marketplace"/>
<link rel="next" href="ec-billing-gcp.html" title="GCP Marketplace Billing"/>
<meta class="elastic" name="product_version" content="latest"/>
<meta class="elastic" name="product_name" content="Elastic Cloud"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Cloud/Reference"/>
<meta name="DC.subject" content="Elastic Cloud"/>
<meta name="DC.identifier" content="latest"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="ec-billing-aws.html">« AWS Marketplace</a>
</span>
<span class="next">
<a href="ec-billing-gcp.html">GCP Marketplace Billing »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Service Documentation</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ec-getting-started.html">Introducing Elasticsearch Service</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ec-marketplaces.html">Subscribing from a marketplace</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Azure Native ISV Service</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-110/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ec-azure-marketplace-native"></a>Azure Native ISV Service<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-110/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h2>
</div></div></div>
<p>The Elastic Cloud Azure Native ISV Service allows you to deploy managed instances of the Elastic Stack directly in Azure, through the Azure integrated marketplace. The service brings the following benefits:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Easy deployment for managed Elastic Stack instances</strong></span></p>
<p>Elastic Stack instances managed by Elastic are deployed directly from the Azure console. This provides the complete Elastic Stack experience with all commercial features.</p>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Integrated billing</strong></span></p>
<p>You are billed directly to your Azure account; no need to configure billing details in Elastic. See <a class="xref" href="ec-azure-marketplace-native.html#ec-azure-integration-billing-summary" title="Integrated billing">Integrated billing</a> for details, as well as the <a class="xref" href="ec-azure-marketplace-native.html#ec-azure-integration-billing-faq" title="Billing">Billing FAQ</a>.</p>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Easy consolidation of your Azure logs in Elastic</strong></span></p>
<p>Use a single-step setup to ingest logs from your Azure services into the Elastic Stack.</p>
</li>
</ul>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>The full product name in the Azure integrated marketplace is <code class="literal">Elastic Cloud (Elasticsearch) - An Azure Native ISV Service</code>.</p>
</div>
</div>
<h4><a id="ec-azure-integration-billing-summary"></a>Integrated billing<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-110/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h4>
<p>Azure Native ISV Service includes integrated billing: Elastic resource costs are posted to your Azure subscription through the Microsoft Commercial Marketplace. You can create various Elastic Cloud resources (deployments) across different Azure subscriptions, with all of the costs associated with an Elastic Cloud organization posted to a single Azure subscription.</p>
<p>Note the following terms:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Azure Marketplace SaaS ID</strong></span>: This is a unique identifier that&#8217;s generated one time by Microsoft Commercial Marketplace when a user creates their first Elastic resource (deployment) using the Microsoft Azure (Portal, API, SDK, or Terraform). This is mapped to a User ID and Azure Subscription ID
</li>
<li class="listitem">
<span class="strong strong"><strong>Elastic Cloud organization</strong></span>: An <a class="xref" href="ec-organizations.html" title="Managing your organization">organization</a> is the foundational construct under which everything in Elastic Cloud is grouped and managed. An organization is created as a step during the creation of your first Elastic resource (deployment), whether that&#8217;s done through Microsoft Azure (Portal, API, SDK, or Terraform). The initial member of the Elastic Cloud organization can then invite other users.
</li>
<li class="listitem">
<span class="strong strong"><strong>Elastic resource (deployment)</strong></span>: An Elastic Cloud deployment helps you manage an Elasticsearch cluster and instances of other Elastic products in one place. You can work with Elastic deployments from within the Azure ecosystem. Multiple users in the Elastic Cloud organization can create different deployments from different Azure subscriptions. They can also create deployments from the <a href="https://cloud.elastic.co?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service Console</a>.
</li>
</ul>
</div>
<p>The following diagram shows the mapping between Microsoft Azure IDs, Elastic Cloud organization IDs, and your Elastic resources (deployments).</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-azure-billing-mapping.png" alt="Azure to Elastic Cloud mappings">
</div>
</div>
<p>The following diagram shows how your Elastic Cloud organization costs are reported in Microsoft Azure. You can also refer to our <a class="xref" href="ec-azure-marketplace-native.html#ec-azure-integration-billing-faq" title="Billing">Billing FAQ</a> on this page.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-azure-billing-reporting.png" alt="Azure to Elastic Cloud mappings">
</div>
</div>
<h4><a id="ec-azure-integration-faq"></a>Frequently asked questions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-110/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h4>
<p>Check the following sections to learn more about the Azure Native ISV Service:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Getting started</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-get-started">How do I get started?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-pricing">What is the pricing for this offer?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-regions">Which Azure regions are supported?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-subscription-levels">Which Elastic Cloud subscription levels are available?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-change-subscription">How can I change my Elastic Cloud subscription level?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-existing-email">Can I subscribe using an email address from another Elastic account?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-azure-user-management">Is the Elastic Cloud Azure Native ISV Service connected with Azure user management?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-azure-rbac">Does Elastic Cloud Azure Native ISV Service support recently introduced Elastic Cloud RBAC capability?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-prior-cloud-account">I already have an Elastic Cloud account, can I use this service?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-convert-trial">Can I sign up for an Elastic Cloud trial account and then convert to the Elastic Cloud Azure Native ISV Service?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-azure-tenant">Does Elasticsearch get deployed into my tenant in Azure?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-azure-tenant-info">What Azure tenant information does Elastic have access to?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-cli-api">What other methods are available to deploy Elasticsearch?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-migrate">How do I migrate my data from the classic Azure marketplace account to the Elastic Cloud Azure Native ISV Service?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-no-inbox">Can I invite users to my organization, even if they cannot receive emails?</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Billing</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-billing-which-subscription">Which Azure Subscription will be billed for my Elastic resources?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-billing-different-deployments">How do I get different Elastic resources (deployments) charges to different Azure Subscriptions?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-billing-elastic-costs">Why can&#8217;t I see Elastic resources costs in Azure Cost Explorer?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-billing-deployments">Why don&#8217;t I see my individual Elastic resources (deployments) in the Azure Marketplace Invoice?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-billing-instance-values">Why can&#8217;t I find Instance ID and Instance Name values from Azure Marketplace Invoice in the Azure Portal?</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Managing your Elastic Cloud deployment</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-whats-included">What is included in my Elastic Cloud deployment?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-how-to-access">How can I access my Elastic Cloud deployment?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-modify-deployment">How can I modify my Elastic Cloud deployment?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-delete-deployment">How can I delete my Elastic Cloud deployment?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-delete-resource-group">Can I delete the Azure Resource Group containing my deployment?</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Configuring logs and metrics</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-monitor">How do I monitor my existing Azure services?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-ingest-metrics">How do I ingest metrics from my Azure services?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-vm-extensions">How can I monitor my Azure virtual machines in Elasticsearch?</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Troubleshooting</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-authorization-access">I receive an error message about not having required authorization.</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-deployment-failed-traffic-filter">My Elastic Cloud deployment creation failed.</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-failed-sso">I can&#8217;t SSO into my Elastic Cloud deployment.</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-cant-see-deployment">I see some deployments in the Elastic Cloud console but not in the Azure Portal.</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-logs-not-ingested">My Elastic Cloud Azure Native ISV Service logs are not being ingested.</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Support</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-support">How do I get support?</a>
</li>
<li class="listitem">
<a class="xref" href="ec-azure-marketplace-native.html#azure-integration-change-level">How can I change my subscription level / support level?</a>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h4><a id="ec-azure-integration-getting-started"></a>Getting started<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-110/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-get-started"></a>How do I get started with Elastic Cloud?
</span>
</dt>
<dd>
<p>
Elastic Cloud is available as an offering through the Azure console.
</p>
<p><span class="strong strong"><strong>Prerequisites</strong></span></p>
<p>There are a few requirements to check before setting up an Elastic Cloud deployment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
In Azure your account role for the subscription is set as <em>Owner</em> or <em>Contributor</em>. For details and steps to assign roles, check <a href="https://docs.microsoft.com/en-us/marketplace/azure-purchasing-invoicing#permission-to-purchase" class="ulink" target="_top">Permission to purchase</a> in the Azure documentation.
</li>
<li class="listitem">
You cannot use an email address that already has an Elastic Cloud account. Use a different Azure account to set up the Elasticsearch resource, or <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-support">contact the Elastic Support Team</a> for assistance.
</li>
<li class="listitem">
You must have a credit card registered on your Azure subscription. If you have a non-payment subscription, such as a <a href="https://visualstudio.microsoft.com/subscriptions/" class="ulink" target="_top">Virtual Studio Subscription</a>, you can&#8217;t create an Elastic Cloud deployment. Refer to the Azure <a href="https://docs.microsoft.com/en-us/azure/partner-solutions/elastic/troubleshoot#purchase-errors" class="ulink" target="_top">Purchase errors</a> troubleshooting documentation for more information.
</li>
<li class="listitem">
In order to single sign-on into your Elastic Cloud deployment from Azure you need to request approval from your Azure administrator.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Getting started</strong></span></p>
<p>To create a deployment directly from the Azure portal, go to <a href="https://portal.azure.com/#view/HubsExtension/BrowseResource/resourceType/Microsoft.Elastic%2Fmonitors" class="ulink" target="_top">the list of Elastic Cloud deployments in the Azure portal</a> and select <code class="literal">Create</code>.</p>
<p>When you create an Elastic Cloud deployment, an Elastic Stack cluster is created for you. The size of this deployment is <span class="strong strong"><strong>16GB of RAM</strong></span> and <span class="strong strong"><strong>560GB of storage</strong></span>, across <span class="strong strong"><strong>two availability zones</strong></span> for redundancy. The size of the deployment, both RAM and storage, is changed directly in the Elastic console. Usage charges are based on the deployment size, so size your instance efficiently. The deployment defaults to the latest available version of the Elastic Stack. Check our <a class="xref" href="ec-version-policy.html" title="Version policy">Version policy</a> to learn more about when new versions are made available and old versions are removed from service.</p>
</dd>
<dt>
<span class="term">
<a id="azure-integration-pricing"></a>What is the pricing for this offer?
</span>
</dt>
<dd>
<p>
Pricing is pay-as-you-go per hour for each Elastic Cloud deployment created. Note that there is no free trial period for the offering. Charges are applied to your Azure bill at the end of the month. Use the Elastic Cloud <a href="/cloud/elasticsearch-service/pricing?page=docs&amp;placement=docs-body" class="ulink" target="_top">Pricing Calculator</a> to size a deployment and view the corresponding hourly rate.
</p>
<p>Elastic charges include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://cloud.elastic.co/pricing" class="ulink" target="_top">Hourly consumption based on your active deployments</a>
</li>
<li class="listitem">
<a href="https://cloud.elastic.co/deployment-pricing-table" class="ulink" target="_top">Data transfer and snapshot storage charges</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-regions"></a>Which Azure regions are supported?
</span>
</dt>
<dd>
Here is the <a href="/guide/en/cloud/current/ec-regions-templates-instances.html#ec-azure_regions" class="ulink" target="_top">list of available Azure regions</a> supported in Elastic Cloud.
</dd>
<dt>
<span class="term">
<a id="azure-integration-subscription-levels"></a>Which Elastic Cloud subscription levels are available?
</span>
</dt>
<dd>
The subscription defaults to the Enterprise subscription, granting immediate access to advanced Elastic Stack features like machine learning, and premium support response time SLAs. Elastic Cloud offers a number of different <a href="https://elastic.co/pricing" class="ulink" target="_top">subscription levels</a>.
</dd>
<dt>
<span class="term">
<a id="azure-integration-change-subscription"></a>How can I change my Elastic Cloud subscription level?
</span>
</dt>
<dd>
<p>
Modify your subscription level on the billing page in the Elastic console.
</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select a deployment to open the deployment overview page.
</li>
<li class="listitem">
Select the <span class="strong strong"><strong>Advanced Settings</strong></span> link to access your deployment in the Elastic Cloud console.
</li>
<li class="listitem">
In the Elastic Cloud console, select your account avatar icon at the top of the page, and then choose <span class="strong strong"><strong>Account &amp; Billing</strong></span>.
</li>
<li class="listitem">
<p>Select the <span class="strong strong"><strong>Billing</strong></span> tab and choose <span class="strong strong"><strong>Change my subscription</strong></span>.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure009.png" alt="The Elastic Account Billing page with Advanced Settings highlighted">
</div>
</div>
</li>
<li class="listitem">
<p>Select the <a href="https://elastic.co/pricing" class="ulink" target="_top">subscription level</a> that you&#8217;d like.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure006.png" alt="The Update Subscription page showing Standard" width="Gold" height="Platinum">
</div>
</div>
</li>
</ol>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-existing-email"></a>Can I subscribe using an email address from another Elastic account?
</span>
</dt>
<dd>
Your email address is associated with only one Elastic account. For a workaround, check <a class="xref" href="ec-getting-started-existing-email.html" title="Sign up using an existing email address">Sign up using an email address from another Cloud account</a>.
</dd>
<dt>
<span class="term">
<a id="azure-integration-azure-user-management"></a>Is the Elastic Cloud Azure Native ISV Service connected with Azure user management?
</span>
</dt>
<dd>
<p>
No. Elastic is not currently integrated with Azure user management. Azure users who deploy Elasticsearch on Azure view and manage their own cluster through the Cloud console. Other Azure users in the same tenant cannot access clusters through the Cloud console other than those that they themselves created.
</p>
<p>When trying to access resources such as Elasticsearch, Kibana, Enterprise Search, or APM in a deployment that was created by another Azure user, the following error is shown:</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure026.png" alt="Error message displayed in the Elastic Cloud console: To access the resource {resource-name}" width="the user must have the required authorization.">
</div>
</div>
<p>Share deployment resources directly with other Azure users by <a class="xref" href="ec-securing-clusters-oidc-op.html#ec-securing-oidc-azure" title="Setting up OpenID Connect with Azure">configuring Active Directory single sign-on with the Elasticsearch cluster</a>.</p>
</dd>
<dt>
<span class="term">
<a id="azure-integration-azure-rbac"></a>Does Elastic Cloud Azure Native ISV Service support recently introduced Elastic Cloud RBAC capability?
</span>
</dt>
<dd>
Yes. Currently <a class="xref" href="ec-user-privileges.html" title="User roles and privileges">Elastic Cloud RBAC capability</a> is available only from the Elastic Cloud Console and is not integrated with Azure Portal. This means that the users who will interact with Elastic resources from Azure Portal will not be recognized by the Elastic Cloud RBAC policies.
</dd>
<dt>
<span class="term">
<a id="azure-integration-prior-cloud-account"></a>I already have an Elastic Cloud account, can I use this service?
</span>
</dt>
<dd>
Yes. If you already have an Elastic Cloud account with the same email address as your Azure account you may need to contact <a href="mailto:support@elastic.co" class="ulink" target="_top">support@elastic.co</a>.
</dd>
<dt>
<span class="term">
<a id="azure-integration-convert-trial"></a>Can I sign up for an Elastic Cloud trial account and then convert to the Elastic Cloud Azure Native ISV Service?
</span>
</dt>
<dd>
<p>
Yes. You can start a <a href="/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">free Elasticsearch Service trial</a> and then convert your account over to Azure. There are a few requirements:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make sure when creating deployments in the trial account you specify Azure as the cloud provider.
</li>
<li class="listitem">
To convert your trial to the Azure marketplace you need to create a deployment in the Azure console. Just delete the new deployment if you don&#8217;t need it. After you create the new deployment your marketplace subscription is ready.
</li>
<li class="listitem">
Any deployments created during your trial won&#8217;t show up in the Azure console, since they weren&#8217;t created in Azure, but they are still accessible through the <a href="https://cloud.elastic.co?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service Console</a> and you are billed for their usage.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-azure-tenant"></a>Does Elasticsearch get deployed into my tenant in Azure?
</span>
</dt>
<dd>
No. Elasticsearch resources deployed in an Azure tenant are managed by Elastic. The management capabilities associated with this tenant are the same as used to run Elastic&#8217;s managed service, which also allows users to deploy on Azure.
</dd>
<dt>
<span class="term">
<a id="azure-integration-azure-tenant-info"></a>What Azure tenant information does Elastic have access to?
</span>
</dt>
<dd>
<p>
After you subscribe to Elastic Cloud through the Azure Native ISV Service, Elastic has access to the following Azure tenant information:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Data defined in the marketplace <a href="https://docs.microsoft.com/en-us/azure/marketplace/partner-center-portal/pc-saas-fulfillment-subscription-api" class="ulink" target="_top">Saas fulfillment Subscription APIs</a>.
</li>
<li class="listitem">
<p>The following additional data:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Marketplace subscription ID
</li>
<li class="listitem">
Marketplace plan ID
</li>
<li class="listitem">
Azure Account ID
</li>
<li class="listitem">
Azure Tenant ID
</li>
<li class="listitem">
Company
</li>
<li class="listitem">
First name
</li>
<li class="listitem">
Last name
</li>
<li class="listitem">
Country
</li>
</ul>
</div>
</li>
</ul>
</div>
<p>Elastic can also access data from Elastic Cloud Azure Native ISV Service features, including <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/essentials/platform-logs-overview" class="ulink" target="_top">resource and activity log data</a>. This data is available to Elastic only if you enable it. By default, Elastic does not have access to this information.</p>
</dd>
<dt>
<span class="term">
<a id="azure-integration-cli-api"></a>What other methods are available to deploy Elasticsearch?
</span>
</dt>
<dd>
<p>
Use any of the following methods:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Deploy using Azure tools</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The Azure console
</li>
<li class="listitem">
<a href="https://registry.terraform.io/providers/hashicorp/azurerm/latest/docs/resources/elastic_cloud_elasticsearch" class="ulink" target="_top">Azure Terraform</a>
</li>
<li class="listitem">
The <a href="https://docs.microsoft.com/en-us/cli/azure/elastic?view=azure-cli-latest" class="ulink" target="_top">Azure CLI</a>
</li>
<li class="listitem">
The Azure <a href="https://docs.microsoft.com/en-us/rest/api/elastic" class="ulink" target="_top">REST API</a>
</li>
<li class="listitem">
<a href="https://docs.microsoft.com/en-us/powershell/module/az.elastic/?view=azps-8.0.0#elastic" class="ulink" target="_top">PowerShell</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Deploy using official Azure SDKs</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/Azure/azure-sdk-for-python/blob/main/README.md" class="ulink" target="_top">Python</a>
</li>
<li class="listitem">
<a href="https://github.com/Azure/azure-sdk-for-java/blob/azure-resourcemanager-elastic_1.0.0-beta.1/README.md" class="ulink" target="_top">Java</a>
</li>
<li class="listitem">
<a href="https://github.com/Azure/azure-sdk-for-net/blob/main/README.md" class="ulink" target="_top">.NET</a>
</li>
<li class="listitem">
<a href="https://github.com/Azure/azure-sdk-for-rust/blob/main/services/README.md" class="ulink" target="_top">Rust</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Deploy using Elastic Cloud</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The Elastic Cloud <a href="https://cloud.elastic.co?page=docs&amp;placement=docs-body" class="ulink" target="_top">console</a>
</li>
<li class="listitem">
The Elastic Cloud <a class="xref" href="ec-restful-api.html" title="RESTful API">REST API</a>
</li>
<li class="listitem">
The Elastic Cloud <a href="/guide/en/ecctl/current/index.html" class="ulink" target="_top">command line tool</a>
</li>
<li class="listitem">
<p>The Elastic Cloud <a href="https://registry.terraform.io/providers/elastic/ec/latest/docs" class="ulink" target="_top">Terraform provider</a></p>
<p>Note that when you use any of the Elastic Cloud methods, the Elasticsearch deployment will not be available in Azure.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-migrate"></a>How do I migrate my data from the classic Azure marketplace account to the native integration?
</span>
</dt>
<dd>
<p>
First create a new account configured with Elastic Cloud Azure Native ISV Service, then perform the migration as follows:
</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From your classic Azure marketplace account, navigate to the deployment and <a class="xref" href="ec-azure-snapshotting.html" title="Configure a snapshot repository using Azure Blob storage">configure a custom snapshot repository using Azure Blog Storage</a>.
</li>
<li class="listitem">
Using the newly configured snapshot repository, <a href="/guide/en/elasticsearch/reference/8.15/snapshots-take-snapshot.html" class="ulink" target="_top">create a snapshot</a> of the data to migrate.
</li>
<li class="listitem">
Navigate to Azure and log in as the user that manages the Elasticsearch resources.
</li>
<li class="listitem">
Before proceeding, ensure the new account is configured according to the <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-get-started">prerequisites</a>.
</li>
<li class="listitem">
Create a <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-get-started">new Elasticsearch resource</a> for each existing deployment that needs migration from the classic Azure account.
</li>
<li class="listitem">
In the new Elasticsearch resource, follow the steps in <a class="xref" href="ec-migrating-data.html#ec-restore-snapshots" title="Restore from a snapshot">Restore from a snapshot</a> to register the custom snapshot repository from Step 1.
</li>
<li class="listitem">
In the same set of steps, restore the snapshot data from the snapshot repository that you registered.
</li>
<li class="listitem">
Confirm the data has moved successfully into your new Elasticsearch resource on Azure.
</li>
<li class="listitem">
To remove the old Azure subscription and the old deployments, go to the <a href="https://portal.azure.com/#blade/HubsExtension/BrowseResourceBlade/resourceType/Microsoft.SaaS%2Fresources" class="ulink" target="_top">Azure SaaS page</a> and unsubscribe from the <code class="literal">{ecloud} ({es})</code> marketplace subscription. This action triggers the existing deployments termination.
</li>
</ol>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-no-inbox"></a>Can I invite users to my organization, even if they cannot receive emails?
</span>
</dt>
<dd>
You can add Azure users as members of your organization even if they don&#8217;t have an inbox. Please reach out to Elastic support.
</dd>
</dl>
</div>
<h4><a id="ec-azure-integration-billing-faq"></a>Billing<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-110/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-billing-which-subscription"></a>Which Azure Subscription will be billed for my Elastic resources?
</span>
</dt>
<dd>
The Azure Marketplace integrated billing posts all of the Elastic deployment/resources costs related to an Elastic Cloud organization to the Azure subscription you used to create your first-ever Elastic deployment/resource. This is the case even if your individual Elastic resources (deployments) are spread across different Azure subscriptions. For more detail, refer to <a class="xref" href="ec-azure-marketplace-native.html#ec-azure-integration-billing-summary" title="Integrated billing">Integrated billing</a>.
</dd>
<dt>
<span class="term">
<a id="azure-integration-billing-different-deployments"></a>How do I get different Elastic deployment/resources charges to different Azure Subscriptions?
</span>
</dt>
<dd>
See <a class="xref" href="ec-azure-marketplace-native.html#ec-azure-integration-billing-summary" title="Integrated billing">Integrated billing</a>. To have different Elastic deployment/resources costs reported to different Azure subscriptions, they need to be in separate Elastic Cloud organizations. To create a separate Elastic Cloud organization from an Azure subscription, you will need to subscribe as a user who is not already part of an existing Elastic Cloud organization.
</dd>
<dt>
<span class="term">
<a id="azure-integration-billing-elastic-costs"></a>Why can&#8217;t I see Elastic resources costs in Azure Cost Explorer?
</span>
</dt>
<dd>
The costs associated with Elastic resources (deployments) are reported under unassigned in the Azure Portal. Refer to <a href="https://learn.microsoft.com/en-us/azure/cost-management-billing/understand/understand-azure-marketplace-charges" class="ulink" target="_top">Understand your Azure external services charges</a> in the Microsoft Documentation to understand Elastic resources/deployments costs. For granular Elastic resources costs, refer to <a class="xref" href="ec-account-usage.html" title="Monitor and analyze your account usage">Monitor and analyze your acccount usage</a>.
</dd>
<dt>
<span class="term">
<a id="azure-integration-billing-deployments"></a>Why don&#8217;t I see my individual Elastic resources (deployments) in the Azure Marketplace Invoice?
</span>
</dt>
<dd>
<p>
The way Azure Marketplace Billing Integration works today, the costs for Elastic resources (deployments) are reported for an Elastic Cloud organization as a single line item, reported against the Marketplace SaaS ID. This includes the Elastic deployments created using the Azure Portal, API, SDK, or CLI, and also the Elastic deployments created directly from the <a href="https://cloud.elastic.co?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service Console</a> in the respective Elastic Cloud organization. For granular Elastic resources costs refer to <a class="xref" href="ec-account-usage.html" title="Monitor and analyze your account usage">Monitor and analyze your acccount usage</a>. As well, for more detail refer to <a class="xref" href="ec-azure-marketplace-native.html#ec-azure-integration-billing-summary" title="Integrated billing">Integrated billing</a>.
</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-azure-billing-example.png" alt="Example billing report in the Elastic Cloud console">
</div>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-billing-instance-values"></a>Why can&#8217;t I find Instance ID and Instance Name values from Azure Marketplace Invoice in the Azure Portal?
</span>
</dt>
<dd>
<p>
With Elastic Cloud Azure Native ISV Service, the "instance name/ID" shown in the Azure Marketplace invoice is the Azure Marketplace SaaS identifier that represents an Elastic Cloud organization. For Microsoft Azure, <code class="literal">Microsoft.SaaS</code> (namespace) resources are used for billing Marketplace Resources - in this case, Elastic.
</p>
<p>For instance: Elastic Organization <code class="literal">Org1</code> is associated with a Marketplace SaaS (Microsoft.SaaS) asset <code class="literal">AzureElastic_GUID_NAME</code>. The Elastic resources (<code class="literal">Microsoft.Elastic</code>) <code class="literal">E1</code>, <code class="literal">E2</code>, and <code class="literal">E3</code> within <code class="literal">Org1</code> are all mapped to <code class="literal">AzureElastic_GUID_NAME</code>.</p>
<p><code class="literal">Microsoft.SaaS</code> (Instance name) asset is shown in the Azure Marketplace invoice and represents costs related to an Elastic Cloud organization and not individual Elastic resources (deployments). To see the cost breakdown for individual Elastic resources (deployments), refer to <a class="xref" href="ec-account-usage.html" title="Monitor and analyze your account usage">Monitor and analyze your acccount usage</a>.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-azure-missing-instance-id.png" alt="Instance ID not found error in Azure console">
</div>
</div>
</dd>
</dl>
</div>
<h4><a id="ec-azure-integration-managing-deployment"></a>Managing your Elastic Cloud deployment<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-110/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-whats-included"></a>What is included in my Elastic Cloud deployment?
</span>
</dt>
<dd>
<p>
Each Elastic Cloud deployment includes:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
An Elasticsearch cluster
</li>
<li class="listitem">
A Kibana instance which provides data visualization and a front-end for the Elastic Stack
</li>
<li class="listitem">
An APM server that allows you to easily collect application traces
</li>
<li class="listitem">
An Enterprise Search instance that allows you to easily build a search experience with an intuitive interface
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-how-to-access"></a>How can I access my Elastic Cloud deployment?
</span>
</dt>
<dd>
<p>
Navigate to the deployment overview page in Azure:
</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Select a deployment to open the deployment overview page.</p>
<p>You now have a few options to access your deployment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Elasticsearch endpoint</strong></span> - the URL for the Elasticsearch cluster itself
</li>
<li class="listitem">
<span class="strong strong"><strong>Kibana endpoint</strong></span> - the UI for the Elastic Stack, a great way for new users to get started
</li>
<li class="listitem">
<span class="strong strong"><strong>Elastic Cloud</strong></span> - Open the <span class="strong strong"><strong>Advanced Settings</strong></span> link to access the deployment in the Elastic Cloud console, to change the size of the deployment or upgrade it.
</li>
</ul>
</div>
</li>
</ol>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-modify-deployment"></a>How can I modify my Elastic Cloud deployment?
</span>
</dt>
<dd>
<p>
Modify your Elastic Cloud deployment in the Elastic Cloud console, which is accessed from the Azure UI through the <span class="strong strong"><strong>Advanced Settings</strong></span> link on the deployment overview page. In the Elastic Cloud console you can perform a number of actions against your deployment, including:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ec-customize-deployment-components.html" title="How can I customize the components of my deployment?">Re-size</a> to increase or decrease the amount of RAM, CPU, and storage available to your deployment, or to add additional availability zones.
</li>
<li class="listitem">
<a class="xref" href="ec-upgrade-deployment.html" title="Upgrade versions">Upgrade</a> your deployment to a new Elastic Stack version.
</li>
<li class="listitem">
Enable or disable individual Elastic Stack components such as APM, Machine Learning, and Enterprise Search.
</li>
<li class="listitem">
<a class="xref" href="ec-editing-user-settings.html" title="Edit your user settings">Update Elastic Stack user settings</a> in the component YML files.
</li>
<li class="listitem">
<a class="xref" href="ec-adding-plugins.html" title="Add plugins and extensions">Add or remove custom plugins</a>.
</li>
<li class="listitem">
<a class="xref" href="ec-traffic-filtering-deployment-configuration.html" title="Traffic Filtering">Configure IP filtering</a>.
</li>
<li class="listitem">
<a class="xref" href="ec-enable-logging-and-monitoring.html" title="Enable logging and monitoring">Monitor your Elastic Cloud deployment</a> to ensure it remains healthy.
</li>
<li class="listitem">
Add or remove API keys to use the <a class="xref" href="ec-restful-api.html" title="RESTful API">REST API</a>.
</li>
<li class="listitem">
<a class="xref" href="ec-getting-started.html" title="Introducing Elasticsearch Service">And more</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a id="azure-integration-delete-deployment"></a>How can I delete my Elastic Cloud deployment?
</span>
</dt>
<dd>
Delete the deployment directly from the Azure console. The delete operation performs clean-up activities in the Elastic console to ensure any running components are removed, so that no additional charges occur.
</dd>
<dt>
<span class="term">
<a id="azure-integration-delete-resource-group"></a>Can I delete the Azure Resource Group containing my deployment?
</span>
</dt>
<dd>
If you delete an Azure Resource Group containing Elastic Cloud resources, the latter will be deleted automatically.
However, you should not delete the Azure Resource Group containing the first deployment you created. The usage associated with any other Elastic deployment created outside of the first resource group will continue to get reported and charged against this resource group. If you want to stop all charges to this Resource Group, you should delete the individual deployments.
</dd>
</dl>
</div>
<h4><a id="ec-azure-logs-and-metrics"></a>Configuring logs and metrics<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-110/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-monitor"></a>How do I monitor my existing Azure services?
</span>
</dt>
<dd>
<p>
The Elastic Cloud Azure Native ISV Service simplifies logging for Azure services with the Elastic Stack. This integration supports:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Azure subscription logs
</li>
<li class="listitem">
Azure resources logs (check <a href="https://docs.microsoft.com/en-us/azure/azure-monitor/essentials/resource-logs-categories?WT.mc_id=Portal-Azure_Marketplace_Elastic" class="ulink" target="_top">Supported categories for Azure Resource Logs</a> for examples)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you want to send platform logs to a deployment that has <a class="xref" href="ec-traffic-filtering-deployment-configuration.html" title="Traffic Filtering">IP or Private Link traffic filters</a> enabled, then you need to contact <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-support">the Elastic Support Team</a> to perform additional configurations. Refer support to the article <a href="https://support.elastic.co/knowledge/18603788" class="ulink" target="_top">Azure++ Resource Logs blocked by Traffic Filters</a>.</p>
</div>
</div>
<p>The following log types are not supported as part of this integration:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Azure tenant logs
</li>
<li class="listitem">
Logs from Azure compute services, such as Virtual Machines
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If your Azure resources and Elastic deployment are in different subscriptions, before creating diagnostic settings confirm that the <code class="literal">Microsoft.Elastic</code> resource provider is registered in the subscription in which the Azure resources exist. If not, register the resource provider following these steps:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In Azure, navigate to <span class="strong strong"><strong>Subscriptions &#8594; Resource providers</strong></span>.
</li>
<li class="listitem">
Search for <code class="literal">Microsoft.Elastic</code> and check that it is registered.
</li>
</ol>
</div>
<p>If you already created diagnostic settings before the <code class="literal">Microsoft.Elastic</code> resource provider was registered, delete and add the diagnostic setting again.</p>
</div>
</div>
<p>In the Azure console, configure the ingestion of Azure logs into either a new or existing Elastic Cloud deployment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When creating a new deployment, use the <span class="strong strong"><strong>Logs &amp; metrics</strong></span> tab in Azure to specify the log type and a key/value tag pair. Any Azure resources that match on the tag value automatically send log data to the Elastic Cloud deployment, once it’s been created.
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure004.png" alt="The Logs &amp; Metrics tab on the Create Elastic Resource page">
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For existing deployments configure Azure logs from the deployment overview page in the Azure console.
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Note that following restrictions for logging:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Only logs from non-compute Azure services are ingested as part of the configuration detailed in this document. Logs from compute services, such as Virtual Machines, into the Elastic Stack will be added in a future release.
</li>
</ul>
</div>
<div id="ec-supported-regions" class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The Azure services must be in one of the <a href="/guide/en/cloud/current/ec-regions-templates-instances.html#ec-azure_regions" class="ulink" target="_top">supported regions</a>. All regions will be supported in the future.
</li>
</ul>
</div>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Your Azure logs may sometimes contain references to a user <code class="literal">Liftr_Elastic</code>. This user is created automatically by Azure as part of the integration with Elastic Cloud.</p>
</div>
</div>
<p>To check which of your Azure resources are currently being monitored, navigate to your Elasticsearch deployment and open the <span class="strong strong"><strong>Monitored resources</strong></span> tab. Each resource shows one of the following status indicators:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>Sending</em> - Logs are currently being sent to the Elasticsearch cluster.
</li>
<li class="listitem">
<em>Logs not configured</em> - Log collection is currently not configured for the resource. Open the <span class="strong strong"><strong>Edit tags</strong></span> link to configure which logs are collected. For details about tagging resources, check <a href="https://docs.microsoft.com/en-us/azure/azure-resource-manager/management/tag-resources?tabs=json" class="ulink" target="_top">Use tags to organize your Azure resources and management hierarchy</a> in the Azure documentation.
</li>
<li class="listitem">
<em>N/A</em> - Monitoring is not available for this resource type.
</li>
<li class="listitem">
<em>Limit reached</em> - Azure resources can send diagnostic data to a maximum of five outputs. Data is not being sent to the Elasticsearch cluster because the output limit has already been reached.
</li>
<li class="listitem">
<em>Failed</em> - Logs are configured but failed to ship to the Elasticsearch cluster. For help resolving this problem you can <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-support">contact Support</a>.
</li>
<li class="listitem">
<em>Region not supported</em> - The Azure resource must be in one of the <a class="xref" href="ec-azure-marketplace-native.html#ec-supported-regions">supported regions</a>.
</li>
</ul>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-ingest-metrics"></a>How do I ingest metrics from my Azure services?
</span>
</dt>
<dd>
Metrics are not supported as part of the current Elastic Cloud Azure Native ISV Service. This will be implemented in a future phase. Metrics can still be collected from all Azure services using Metricbeat. For details, check <a href="/guide/en/observability/8.15/monitor-azure.html#azure-step-four" class="ulink" target="_top">Ingest other Azure metrics using the Metricbeat Azure module</a>.
</dd>
<dt>
<span class="term">
<a id="azure-integration-vm-extensions"></a>How can I monitor my Azure virtual machines in Elasticsearch?
</span>
</dt>
<dd>
<p>
You can monitor your Azure virtual machines by installing the Elastic Agent VM extension. Once enabled, the VM extension downloads the Elastic Agent, installs it, and enrols it to the Fleet Server. The Elastic Agent will then send system related logs and metrics to the Elastic Cloud cluster where you can find pre-built system dashboards showing the health and performance of your virtual machines.
</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure010.png" alt="A dashboard showing system metrics for the VM" width="such as CPU usage" height="Memory usage">
</div>
</div>
<p><span class="strong strong"><strong>Enabling and disabling VM extensions</strong></span></p>
<p>To enable or disable a VM extension:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In Azure, navigate to your Elasticsearch deployment.
</li>
<li class="listitem">
Select the <span class="strong strong"><strong>Virtual machines</strong></span> tab
</li>
<li class="listitem">
Select one or more virtual machines
</li>
<li class="listitem">
Choose <span class="strong strong"><strong>Install Extension</strong></span> or <span class="strong strong"><strong>Uninstall Extension</strong></span>.
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure011.png" alt="The Virtual Machines page in Azure">
</div>
</div>
<p>While it&#8217;s possible to enable or disable a VM extension directly from the VM itself, we recommend always enabling or disabling your Elasticsearch VM extensions from within the context of your Elasticsearch deployment.</p>
<p><span class="strong strong"><strong>Managing the Elastic Agent VM extension</strong></span></p>
<p>Once installed on the virtual machine, you can manage Elastic Agent either from Fleet or locally on the host where it&#8217;s installed. We recommend managing the VM extension through Fleet, because it makes handling and upgrading the agents considerably easier. For more information on the Elastic Agent, check <a href="/guide/en/fleet/8.15/elastic-agent-installation.html" class="ulink" target="_top">Manage your Elastic Agents</a>.</p>
<p><span class="strong strong"><strong>Operating system compatibility matrix</strong></span></p>
<p>The Azure Elastic Agent VM extension is supported on the following operating systems:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top"><span class="strong strong"><strong>Platform</strong></span></th>
<th align="left" valign="top"><span class="strong strong"><strong>Version</strong></span></th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Windows</p></td>
<td align="left" valign="top"><p>2008r2+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>CentOS</p></td>
<td align="left" valign="top"><p>6.10+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Debian</p></td>
<td align="left" valign="top"><p>9,10</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Oracle</p></td>
<td align="left" valign="top"><p>6.8+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>RHEL</p></td>
<td align="left" valign="top"><p>7+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Ubuntu</p></td>
<td align="left" valign="top"><p>16+</p></td>
</tr>
</tbody>
</table>
</div>
</dd>
</dl>
</div>
<h4><a id="ec-azure-integration-troubleshooting"></a>Troubleshooting<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-110/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h4>
<p>This section describes some scenarios that you may experience onboarding to Elastic Cloud through the Azure console. If you’re running into issues you can always <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-support">get support</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-authorization-access"></a>I receive an error message about not having the required authorization.
</span>
</dt>
<dd>
<p>
When trying to access Elastic Cloud resources, you may get an error message indicating that <em>the user must have the required authorization.</em>
</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure026.png" alt="Error message displayed in the Elastic Cloud console: To access the resource {resource-name}" width="the user must have the required authorization.">
</div>
</div>
<p>Elastic is not currently integrated with Azure user management, so sharing deployment resources through the Cloud console with other Azure users is not possible. However, sharing direct access to these resources is possible. For details, check <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-azure-user-management">Is the Elastic Cloud Azure Native ISV Service connected with Azure user management?</a>.</p>
</dd>
<dt>
<span class="term">
<a id="azure-integration-deployment-failed-traffic-filter"></a>My Elastic Cloud deployment creation failed.
</span>
</dt>
<dd>
<p>
When creating a new Elastic Cloud deployment, the deployment creation may fail with a <code class="literal">Your deployment failed</code> error. The process results with a status message such as:
</p>
<div class="pre_wrapper lang-txt">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-txt">{
  "code": "DeploymentFailed",
  "message": "At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.",
  "details": [
    {
      "code": "500",
      "message": "An error occurred during deployment creation. Please try again. If the problem persists, please contact support@elastic.co."
    }
  ]</pre>
</div>
<p>One possible cause of a deployment creation failure is the default traffic filtering rules. Deployments fail to create if a previously created traffic filter has enabled the <span class="strong strong"><strong>Include by default</strong></span> option. When this option is enabled, traffic to the deployment is blocked, including traffic that is part of the Elastic Cloud Azure Native ISV Service. As a result, some of the integration components are not successfully provisioned and the deployment creation fails.</p>
<p>Follow these steps to resolve the problem:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Login to the <a href="https://cloud.elastic.co?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service Console</a>.
</li>
<li class="listitem">
Go to the <a href="https://cloud.elastic.co/deployment-features/traffic-filters" class="ulink" target="_top">Traffic filters page</a>.
</li>
<li class="listitem">
<p>Edit the traffic filter and disable the <span class="strong strong"><strong>Include by default</strong></span> option.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure-traffic-filter-option.png" alt="The Include by default option under Add to Deployments on the Traffic Filter page">
</div>
</div>
</li>
<li class="listitem">
In Azure, create a new Elastic Cloud deployment.
</li>
<li class="listitem">
After the deployment has been created successfully, go back to the <a href="https://cloud.elastic.co/deployment-features/traffic-filters" class="ulink" target="_top">Traffic filters page</a> in Elastic Cloud and re-enable the <span class="strong strong"><strong>Include by default</strong></span> option.
</li>
</ol>
</div>
</dd>
</dl>
</div>
<p>If your deployment still does not create successfully, <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-support">contact the Elastic Support Team</a> for assistance.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-failed-sso"></a>I can&#8217;t SSO into my Elastic Cloud deployment.
</span>
</dt>
<dd>
<p>
When you try to access your Elastic Cloud deployment using single sign-on, the access may fail due to missing permission required by your Azure environment.
</p>
<p>You can review your user consent settings configuration following the instructions in <a href="https://docs.microsoft.com/en-us/azure/active-directory/manage-apps/configure-user-consent?tabs=azure-portal" class="ulink" target="_top">Configure how users consent to applications</a>. To resolve this problem, contact your Azure Administrator.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-cant-see-deployment"></a>I see some deployments in the Elastic Cloud console but not in the Azure Portal.
</span>
</dt>
<dd>
Elastic Deployments created using the <a href="https://cloud.elastic.co?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service Console</a>, the <a class="xref" href="ec-restful-api.html" title="RESTful API">Elasticsearch Service API</a>, or the <a href="https://registry.terraform.io/providers/elastic/ec/latest/docs" class="ulink" target="_top">Elastic Cloud Terraform provider</a> are only visible through the Elastic Cloud Console. To have the necessary metadata to be visible in the Azure Portal, Elastic Cloud deployments need to be created in Microsoft Azure.
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Mimicking this metadata by manually adding tags to an Elastic Cloud deployment will not work around this limitation. Instead, it will prevent you from being able to delete the deployment using the <a href="https://cloud.elastic.co?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service Console</a>.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-logs-not-ingested"></a>My Elastic Cloud Azure Native ISV Service logs are not being ingested.
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When you set up monitoring for your Azure services, if your Azure and Elastic resources are in different subscriptions, you need to make sure that the <code class="literal">Microsoft.Elastic</code> resource provider is registered in the subscription in which the Azure resources exist. Check <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-monitor">How do I monitor my existing Azure services?</a> for details.
</li>
<li class="listitem">
If you are using <a class="xref" href="ec-traffic-filtering-deployment-configuration.html" title="Traffic Filtering">IP or Private Link traffic filters</a>, please reach out to <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-support">the Elastic Support Team</a>.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="ec-getting-support"></a>Getting support<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-110/docs/saas/ec-marketplace-azure-native.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a id="azure-integration-support"></a>How do I get support?
</span>
</dt>
<dd>
<p>
Support is provided by Elastic. To open a support case:
</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Navigate to the deployment overview page in the Azure console.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>New support request</strong></span> from the menu.
</li>
<li class="listitem">
<p>Click the link to launch the Elastic console and provide further details.</p>
<p>The Elastic Support team responds based on the SLA response time of your subscription.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-marketplace-azure005.png" alt="The New Support Request page in Azure" width="from the menu under Support + Troubleshooting">
</div>
</div>
</li>
</ol>
</div>
<p>In case your Elastic Cloud resource is not fully set up and you&#8217;re not able to access the Support page, you can always send an email to <a href="mailto:support@elastic.co" class="ulink" target="_top">support@elastic.co</a>.</p>
</dd>
<dt>
<span class="term">
<a id="azure-integration-change-level"></a>How can I change my subscription level / support level?
</span>
</dt>
<dd>
Your Elastic subscription level includes the support level. Check <a class="xref" href="ec-azure-marketplace-native.html#azure-integration-change-subscription">How can I change my Elastic Cloud subscription level?</a> to make an update.
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ec-billing-aws.html">« AWS Marketplace</a>
</span>
<span class="next">
<a href="ec-billing-gcp.html">GCP Marketplace Billing »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
