<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Enhancements and bug fixes | Elasticsearch Service Documentation | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Service Documentation"/>
<link rel="up" href="ec-release-notes.html" title="Release notes"/>
<link rel="prev" href="ec-release-notes-2021-07-06.html" title="Enhancements and bug fixes"/>
<link rel="next" href="ec-release-notes-2021-05-25.html" title="Native Azure integration, and more"/>
<meta name="DC.type" content="Learn/Docs/Cloud/Reference"/>
<meta name="DC.subject" content="Elastic Cloud"/>
<meta name="DC.identifier" content="latest"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Service Documentation</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="ec-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ec-release-notes-2021-07-06.html">« Enhancements and bug fixes</a>
</span>
<span class="next">
<a href="ec-release-notes-2021-05-25.html">Native Azure integration, and more »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ec-release-notes-2021-06-15"></a>Enhancements and bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-77/docs/saas/releases/ms-58.0/index.asciidoc">edit</a></h2>
</div></div></div>
<p>The following changes are included in this release.</p>
<h3><a id="ec_features_13"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-77/docs/saas/releases/ms-58.0/feature.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Display storage for all data nodes.</strong></span> Display storage amount for all data instances on the create deployment page.</p>
<p><span class="strong strong"><strong>Dynamically apply changes to v6 Kibana saved objects in ApplyKibanaClusterSystemAssets so they&#8217;re compatible with 7.12.</strong></span> ECE 2.11 introduces the upgrade of the logging-and-metrics system cluster to version 7.12.</p>
<p>There is a possibility that some of the default ECE dashboards break after the upgrade - in particular, we&#8217;ve identified that some of the visualizations in the <code class="literal">[Metricbeat Docker] Overview</code> dashboard are likely to break. For that reason, we advise that users <a href="/guide/en/kibana/8.3/managing-saved-objects.html#managing-saved-objects-export-objects" class="ulink" target="_top">export Kibana saved objects through the Kibana UI</a> before upgrading ECE to 2.10. If they notice that a Kibana dashboard is not working after the upgrade, they should <a href="/guide/en/kibana/8.3/managing-saved-objects.html#_import" class="ulink" target="_top">reimport the saved object through the Kibana UI</a>.</p>
<h3><a id="ec_enhancements_18"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-77/docs/saas/releases/ms-58.0/enhancement.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Rework conditional logic for ValidateEnoughDiskSpace.</strong></span> The step "Validating disk space" will not show up as often in the plan activity log for plans which do not downsize the cluster.</p>
<p><span class="strong strong"><strong>Force new Kibana instance if the deployment alias changes.</strong></span> Restart Kibana when the deployment alias is changed. This is to make sure the <code class="literal">server.publicBaseUrl</code> setting in Kibana is picked up on changes to the deployment alias.</p>
<p><span class="strong strong"><strong>Set <code class="literal">server.publicBasePath</code> for every Kibana deployment.</strong></span> Every cloud deployment of Kibana will have the setting [<code class="literal">server.publicBasePath</code>](<a href="/guide/en/kibana/master/settings.html#server-publicBaseUrl" class="ulink" target="_top">https://www.elastic.co/guide/en/kibana/master/settings.html#server-publicBaseUrl</a>) automatically configured to the URL of Kibana.</p>
<p><span class="strong strong"><strong>Rework conditional logic for EnsureCleanAllocationsStep.</strong></span> The step "Ensuring valid shard allocation rules are present" will not run as often during plans when it doesn&#8217;t need to.</p>
<p><span class="strong strong"><strong>[ZK History pruning] Stale attempts detection and autocleaning.</strong></span> - Adds a mechanism by which plan attempts entries older than 30 days (this age can be changed through the <code class="literal">STALE_ATTEMPTS_AGE</code> constructor service environment variable) will be deleted upon plan changes as long as they are not the last train of failed old attempts or the last old successful attempt.</p>
<p><span class="strong strong"><strong>Rework conditional logic for RunIndexCuration.</strong></span> The step "Running index curation" will not run during plans as often when it does not need to.</p>
<p><span class="strong strong"><strong>Enable data pipeline logging on director.</strong></span> Director service logs are now shipped to the logging &amp; metrics cluster.</p>
<p><span class="strong strong"><strong>Rework conditional logic for ApplyCurationSettings.</strong></span> The step "Applying index curation settings" will not run as often when it does not need to.</p>
<p><span class="strong strong"><strong>Adding monitoring.cluster_alerts.allowedSpaces to Kibana settings.</strong></span> Allows users to restrict which spaces the auto generated cluster alerts are created in for Stack Monitoring.</p>
<p><span class="strong strong"><strong>Add Kibana ECS audit settings.</strong></span> Adds new <a href="/guide/en/kibana/8.3/security-settings-kb.html#audit-logging-settings" class="ulink" target="_top">Kibana ECS audit logging settings</a> to allow list.</p>
<h3><a id="ec_bug_fixes_17"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-77/docs/saas/releases/ms-58.0/bug.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Use validated deployment alias for ConfigSettingsService.</strong></span> Fixes a bug to  correctly update <code class="literal">server.publicBaseUrl</code> when removing the alias from a deployment.</p>
<p><span class="strong strong"><strong>Tolerate absent awareness.attributes.</strong></span> Fixes a bug that would cause plans to fail if an ES cluster had transient awareness settings without specific attributes set.</p>
<p><span class="strong strong"><strong>Don&#8217;t show "Delete APM" in every plan change when it&#8217;s been already deleted.</strong></span> Fixes a bug where, after Enterprise Search or APM are removed from a deployment, they still appear in the UI plan summary in subsequent plan changes, as if they were not removed from the deployment.</p>
<p><span class="strong strong"><strong>Limit master instances to one node per zone.</strong></span> Fixes a bug that allowed users to have more than one dedicated master node in a zone.</p>
<p><span class="strong strong"><strong>Fix crashes in the deployment template view when the monitoring deployment couldn&#8217;t be found.</strong></span> When a deployment template includes observability configuration, the deployment template view would incorrectly search for the referenced deployment by cluster ID, not by deployment ID. When this fails to match any deployments, the entire page would fail. Now we can correctly search by deployment ID, and show a relevant error when no deployment is found.</p>
<p><span class="strong strong"><strong>Fix title alignment in Billing tabs.</strong></span> A recent update to the billing area caused a very minor inconsistency with the vertical alignment of titles across the different tabs. This is now fixed.</p>
<h3><a id="ec_docs_12"></a>Docs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-77/docs/saas/releases/ms-58.0/docs.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Traffic filters are not compatible with monitoring due to Metricbeat.</strong></span> Traffic filtering is not compatible with monitoring.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ec-release-notes-2021-07-06.html">« Enhancements and bug fixes</a>
</span>
<span class="next">
<a href="ec-release-notes-2021-05-25.html">Native Azure integration, and more »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"go":{"hasAny":true},"ruby":{"hasAny":true},"java":{"hasAny":true},"javascript":{"hasAny":true},"python":{"hasAny":true},"csharp":{"hasAny":true}}}}</script>
  </body>
</html>
