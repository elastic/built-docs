<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Upgrade to Elasticsearch 6.x | Elasticsearch Service Documentation | Elastic</title>
<meta class="elastic" name="content" content="Upgrade to Elasticsearch 6.x | Elasticsearch Service Documentation">

<link rel="home" href="index.html" title="Elasticsearch Service Documentation"/>
<link rel="up" href="ec-upgrade-deployment.html" title="Upgrade versions"/>
<link rel="prev" href="ec-upgrading-v7.html" title="Upgrade to Elasticsearch 7.x"/>
<link rel="next" href="ec-upgrading-v5.html" title="Upgrade to Elasticsearch 5.x"/>
<meta class="elastic" name="product_version" content="latest"/>
<meta class="elastic" name="product_name" content="Elastic Cloud"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Cloud/Reference"/>
<meta name="DC.subject" content="Elastic Cloud"/>
<meta name="DC.identifier" content="latest"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="ec-upgrading-v7.html">« Upgrade to Elasticsearch 7.x</a>
</span>
<span class="next">
<a href="ec-upgrading-v5.html">Upgrade to Elasticsearch 5.x »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Service Documentation</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ec-prepare-production.html">Preparing a deployment for production</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ec-upgrade-deployment.html">Upgrade versions</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Upgrade to Elasticsearch 6.x</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-111/docs/shared/ec-ce-upgrading-v6.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ec-upgrading-v6"></a>Upgrade to Elasticsearch 6.x<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-111/docs/shared/ec-ce-upgrading-v6.asciidoc">edit</a></h2>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Version 6.8 of Elasticsearch has passed its <a href="/support/eol" class="ulink" target="_top">EOL date</a>. This documentation is no longer being maintained and may be removed. If you are running this version, we strongly advise you to <a class="xref" href="ec-upgrade-deployment.html" title="Upgrade versions">upgrade your deployment</a> to a more current version of the Elastic stack.</p>
</div>
</div>
<p>If you have an existing cluster and want to upgrade to version 6.x, there are a few things you need to keep in mind. Preparing for your upgrade ahead of time ensures that you can enjoy the major new features and improved usability of Elasticsearch 6.x as quickly as possible.</p>
<h3><a id="ec_before_you_begin_11"></a>Before you begin<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-111/docs/shared/ec-ce-upgrading-v6.asciidoc">edit</a></h3>
<p>Upgrading on Elasticsearch Service differs from upgrading your on-premise installation in that all major configuration changes to upgrade Elasticsearch, Kibana, and X-Pack are handled for you. Your responsibility when preparing to upgrade to version 6.x is to make sure that your indices are ready for version 6.x by reindexing, if necessary, and that you are aware of breaking changes that could affect you.</p>
<p>The upgrade process to Elasticsearch 6.x is a two-step process that uses version 5.6 as an intermediate upgrade step. To upgrade to version 6.x, you must:
. Upgrade from Elasticsearch version 5.x to version 5.6.
. Upgrade from Elasticsearch version 5.6 to version 6.x.</p>
<p>When upgrading to version 6.x, Elasticsearch Service automatically runs the deprecation API to retrieve information about different cluster, node, and index level settings that are removed or changed. If there are any deprecation issues that would prevent the upgraded cluster from performing correctly, Elasticsearch Service does not perform the upgrade and instead asks you to resolve the issues through the Upgrade Assistant in Kibana first. If your cluster does not include a Kibana instance yet, you can
<a class="xref" href="ec-access-kibana.html#ec-enable-kibana2" title="Enable Kibana">enable Kibana first</a>
and then use the Upgrade Assistant. After resolving the issues flagged by the deprecation API, you should be able to perform the upgrade successfully.</p>
<p>Steps you might need to perform before upgrading:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable inline scripting. At least the default <span class="strong strong"><strong>Enable sandboxed inline scripts</strong></span> option must be set on the <span class="strong strong"><strong>Configuration</strong></span> page for your cluster or the upgrade to version 6.x cannot proceed.
</li>
<li class="listitem">
<a class="xref" href="ec-upgrading-v6.html#ec-upgrading-v6-reindex" title="Reindex indices created in older versions of Elasticsearch">Reindex indices created in older versions of Elasticsearch</a> to ensure compatibility with version 6.x.
</li>
<li class="listitem">
<a class="xref" href="ec-upgrading-v6.html#ec-upgrading-v6-breaking" title="Review breaking changes in Elasticsearch 6.x">Review breaking changes in Elasticsearch 6.x</a> before upgrading.
</li>
<li class="listitem">
Check the <a class="xref" href="ec-upgrading-v6.html#ec-upgrading-v6-issues" title="Known issues with 6.8.23 on Elasticsearch Service">known issues</a> on Elasticsearch Service.
</li>
</ul>
</div>
<p>In version 6.x, TLS between Elasticsearch cluster nodes is always enabled on Elasticsearch Service. To enable internal TLS between cluster nodes, Elasticsearch cluster must perform a full cluster restart on Elasticsearch Service, even if you are upgrading from version 5.6.</p>
<p>Additional background information about upgrading the Elastic Stack is available, but keep in mind that most steps are handled for you, unless they are specifically called out in the Elasticsearch Service documentation that you are currently reading:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/elastic-stack/6.8/upgrading-elastic-stack.html" class="ulink" target="_top">Upgrading the Elastic Stack</a>
</li>
<li class="listitem">
<a href="/guide/en/elasticsearch/reference/6.0/setup-upgrade.html" class="ulink" target="_top">Upgrading Elasticsearch</a>
</li>
</ul>
</div>
<h4><a id="ec_snapshot_behavior_during_upgrades_2"></a>Snapshot behavior during upgrades<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-111/docs/shared/ec-ce-upgrading-v6.asciidoc">edit</a></h4>
<p>To ensure an upgrade process that always keeps your data safe, Elasticsearch Service takes a snapshot before making any changes to your cluster. After a major version upgrade is complete and the first successful snapshot with the new major version is available, the snapshot taken with previous version of Elasticsearch is listed under snapshots.</p>
<p>For example, before upgrading from Elasticsearch version 5.6 to version 6.x, a snapshot is taken. After the upgrade to version 6.x is complete and a first snapshot with the new version is available, snapshots taken with version 5.6 is listed under snapshots.</p>
<h3><a id="ec-upgrading-v6-breaking"></a>Review breaking changes in Elasticsearch 6.x<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-111/docs/shared/ec-ce-upgrading-v6.asciidoc">edit</a></h3>
<p>Elastic is always working on making upgrades across major versions easier, but major version upgrades often include so many changes that upgrading can carry some risk. A breaking change is the result of a functional change between major Elasticsearch versions that requires you to perform some additional step or steps in order to ensure that you can use the new version as intended. To learn more, check <a href="/guide/en/elasticsearch/reference/6.8/breaking-changes.html" class="ulink" target="_top">Breaking changes in 6.8</a>.</p>
<h3><a id="ec-upgrading-v6-reindex"></a>Reindex indices created in older versions of Elasticsearch<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-111/docs/shared/ec-ce-upgrading-v6.asciidoc">edit</a></h3>
<p>Elasticsearch 6.x can read indices created in version 5.0 or above. An Elasticsearch 6.x node will not start if indices created in a version of Elasticsearch before 5.0 are present.
If prompted by Elasticsearch Service, use the Upgrade Assistant in Kibana to reindex your data.</p>
<h3><a id="ec-upgrading-v6-issues"></a>Known issues with 6.8.23 on Elasticsearch Service<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-111/docs/shared/ec-ce-upgrading-v6.asciidoc">edit</a></h3>
<p>The following known problems apply to the Elastic Stack 6.8.23 release:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The Transport Client is not supported in 6.8.23. While we work on adding support, you can continue to use the  <a href="/guide/en/elasticsearch/client/java-rest/6.8/index.html" class="ulink" target="_top">Java REST client</a> as a workaround.
</li>
</ul>
</div>
<h3><a id="ec-upgrading-v6-steps"></a>Upgrade to Elastic Stack 6.8<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-111/docs/shared/ec-ce-upgrading-v6.asciidoc">edit</a></h3>
<p>To deploy 6.8, excluding Elastic Stack 6.8.23 and earlier releases:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Log in to the <a href="https://cloud.elastic.co?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service Console</a>.
</li>
<li class="listitem">
Upgrade from Elasticsearch version 2.x or version 5.x to version 5.6.
</li>
<li class="listitem">
Upgrade from version 5.6 to version 6.x.
</li>
<li class="listitem">
Test Elasticsearch and Kibana 6.x!
</li>
</ol>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ec-upgrading-v7.html">« Upgrade to Elasticsearch 7.x</a>
</span>
<span class="next">
<a href="ec-upgrading-v5.html">Upgrade to Elasticsearch 5.x »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
