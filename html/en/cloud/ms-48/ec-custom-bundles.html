<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Upload custom plugins and bundles | Elasticsearch Service Documentation | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Service Documentation"/>
<link rel="up" href="ec-adding-plugins.html" title="Add plugins"/>
<link rel="prev" href="ec-adding-elastic-plugins.html" title="Add plugins provided with Elasticsearch Service"/>
<link rel="next" href="ec-editing-user-settings.html" title="Edit your user settings"/>
<meta name="DC.type" content="Learn/Docs/Cloud/Reference"/>
<meta name="DC.subject" content="Elastic Cloud"/>
<meta name="DC.identifier" content="ms-48"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Service Documentation</a></span>
»
<span class="breadcrumb-link"><a href="ec-configure.html">Configuring your deployment</a></span>
»
<span class="breadcrumb-link"><a href="ec-adding-plugins.html">Add plugins</a></span>
»
<span class="breadcrumb-node">Upload custom plugins and bundles</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ec-adding-elastic-plugins.html">« Add plugins provided with Elasticsearch Service</a>
</span>
<span class="next">
<a href="ec-editing-user-settings.html">Edit your user settings »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ec-custom-bundles"></a>Upload custom plugins and bundles<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-48/docs/saas/ec-add-plugins.asciidoc">edit</a></h2>
</div></div></div>
<p>There are several cases where you might need your own files to be made available to your Elasticsearch cluster&#8217;s nodes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Your own custom plugins, or third-party plugins that are not amongst the <a class="xref" href="ec-adding-plugins.html" title="Add plugins">officially available plugins</a>.
</li>
<li class="listitem">
Custom dictionaries, such as synonyms, stop words, compound words, etc.
</li>
<li class="listitem">
Cluster configuration files, such as an Identity Provider metadata file used when you <a class="xref" href="ec-securing-clusters-SAML.html" title="Secure your clusters with SAML">secure your clusters with SAML</a>.
</li>
</ul>
</div>
<p>To facilitate this, we make it possible to upload a ZIP file that contains the files you want to make available. Uploaded files are stored using Amazon&#8217;s highly-available S3 service. This is necessary so we do not have to rely on the availability of third-party services, such as the official plugin repository, when provisioning nodes.</p>
<p>Custom plugins and bundles are collectively referred to as extensions.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ec_before_you_begin_7"></a>Before you begin<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-48/docs/saas/ec-add-plugins.asciidoc">edit</a></h3>
</div></div></div>
<p>The selected plugins/bundles are downloaded and provided when a node starts. Changing a plugin does not change it for nodes already running it. See <a class="xref" href="ec-custom-bundles.html#ec-update-bundles-and-plugins" title="Update your extension">Updating Plugins and Bundles</a>.</p>
<p>With great power comes great responsibility: Your plugins can extend your cluster with new functionality, but also make it break. Be careful. We obviously cannot guarantee that your custom code works.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot edit or delete a custom extension after it has been used in a deployment. To remove it from your deployment, you can disable the extension and update your deployment configuration.</p>
</div>
</div>
<p>Uploaded files cannot be bigger than 20 MB for most subscription levels, for Platinum the limit is 1GB.</p>
<p>It is important that plugins and dictionaries that you reference in mappings and configurations are available at all times. For example, if you try to upgrade Elasticsearch and de-select a dictionary that is referenced in your mapping, the new nodes will be unable to recover the cluster state and function. This is true even if the dictionary is referenced by an empty index you do not actually use.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ec-prepare-custom-bundles"></a>Prepare your files for upload<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-48/docs/saas/ec-add-plugins.asciidoc">edit</a></h3>
</div></div></div>
<p>Files you upload need to be in ZIP file format. You need to choose whether your uploaded file should be treated as a <em>plugin</em> or as a <em>bundle</em>. Bundles are not installed as plugins. If you need to upload both a custom plugin and custom dictionaries, upload them separately.</p>
<p>To prepare your files, create one of the following:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<p>
A plugin is a ZIP file that is installable as a plugin using <a href="/guide/en/elasticsearch/reference/7.10/modules-plugins.html" class="ulink" target="_top">Elasticsearch&#8217;s plugin tool</a>. When configuring the node of your cluster, that is exactly what we do. We invoke the <code class="literal">install</code>-tool with the URL of the uploaded ZIP file. This makes it easy for you to test that your uploaded ZIP file works locally: just see if you can run <code class="literal">./bin/elasticsearch-plugin install file:///path/to/plugin.zip</code> yourself.
</p>
<p>Elasticsearch&#8217;s plugin tool assumes that the uploaded ZIP file contains binaries. If it finds any source code, it will fail with an error message, causing provisioning to fail. Make sure you upload binaries, and not source code.</p>
</dd>
<dt>
<span class="term">
Bundles
</span>
</dt>
<dd>
<p>
The entire content of a bundle is made available to the node. This is useful to make custom dictionaries available. Dictionaries should be placed in a <code class="literal">/dictionaries</code> folder in the root path of your ZIP file.
</p>
<p>Here is an example of a bundle which contains a dictionary of synonyms:</p>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">$ tree .
.
└── dictionaries
    └── synonyms.txt</pre>
</div>
<p>The dictionary <code class="literal">synonyms.txt</code> can be used as <code class="literal">synonyms.txt</code> in the <code class="literal">synonyms_path</code> of the <code class="literal">synonym-filter</code>.</p>
<p>To learn more about analyzing with synonyms, see <a href="/guide/en/elasticsearch/reference/7.10/analysis-synonym-tokenfilter.html" class="ulink" target="_top">Synonym token filter</a> and <a href="/guide/en/elasticsearch/guide/2.x/synonym-formats.html" class="ulink" target="_top">Formatting Synonyms</a>.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ec-add-your-plugin"></a>Add your extension<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-48/docs/saas/ec-add-plugins.asciidoc">edit</a></h3>
</div></div></div>
<p>You must upload your files before you can apply them to your cluster configuration:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Log in to the <a href="https://cloud.elastic.co?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">Elasticsearch Service Console</a>.
</li>
<li class="listitem">
<p>Select your deployment on the home page in the Elasticsearch Service card or go to the deployments page.</p>
<p>Narrow your deployments by name, ID, or choose from several other filters. To customize your view, use a combination of filters, or change the format from a grid to a list.</p>
</li>
<li class="listitem">
Go to the <span class="strong strong"><strong>Extensions</strong></span> page.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create extension</strong></span>.
</li>
<li class="listitem">
Complete the extension fields, including the Elasticsearch version. For plugin extensions, the extension version must match the version (down to the patch level, e.g. <code class="literal">7.8.1</code>) specified in your plugin&#8217;s <code class="literal">plugin-descriptor.properties</code> as well as the Elasticsearch deployment version you are deploying this plugin to.  For bundle extensions, we strongly recommend using a wildcard notation (e.g., <code class="literal">7.*</code>) for the major version so that the bundle is compatible across all versions of the major release.
</li>
<li class="listitem">
Select the extension <span class="strong strong"><strong>Type</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Plugin file</strong></span>, choose the file to upload.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create extension</strong></span>.
</li>
</ol>
</div>
<p>After creating your extension, you can <a class="xref" href="ec-custom-bundles.html#ec-update-bundles" title="Update your deployment configuration">enable them for existing Elasticsearch deployments</a> or enable them when creating new deployments.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ec-update-bundles"></a>Update your deployment configuration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-48/docs/saas/ec-add-plugins.asciidoc">edit</a></h3>
</div></div></div>
<p>After uploading your files, you can select to enable them when creating a new Elasticsearch deployment. For existing deployments, you must update your deployment configuration to use the new files:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Log in to the <a href="https://cloud.elastic.co?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">Elasticsearch Service Console</a>.
</li>
<li class="listitem">
<p>Select your deployment on the home page in the Elasticsearch Service card or go to the deployments page.</p>
<p>Narrow your deployments by name, ID, or choose from several other filters. To customize your view, use a combination of filters, or change the format from a grid to a list.</p>
</li>
<li class="listitem">
From your deployment menu, click <span class="strong strong"><strong>Edit</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Elasticsearch plugins, extensions, and settings</strong></span> list, select the custom extension.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save</strong></span>.
</li>
</ol>
</div>
<p>The selected plugins or bundles are downloaded and provisioned when each node in your Elasticsearch cluster starts.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ec-update-bundles-and-plugins"></a>Update your extension<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-48/docs/saas/ec-add-plugins.asciidoc">edit</a></h3>
</div></div></div>
<p>While you can update the ZIP file for any plugin or bundle, this will not update the files on nodes that are already using the plugin or bundle. These are downloaded and made available when a node is started.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Prepare a new plugin or bundle.
</li>
<li class="listitem">
Make your new files available by uploading them.
</li>
<li class="listitem">
On the <span class="strong strong"><strong>Extensions</strong></span> page, <a class="xref" href="ec-custom-bundles.html#ec-add-your-plugin" title="Add your extension">update your extension</a>.
</li>
<li class="listitem">
Select your deployment on the home page in the Elasticsearch Service card or go to the deployments page.
</li>
</ol>
</div>
<p>On the <span class="strong strong"><strong>Edit</strong></span> page, the new extension appears under <span class="strong strong"><strong>Elasticsearch plugins, extensions, and settings</strong></span>.</p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="ec-adding-elastic-plugins.html">« Add plugins provided with Elasticsearch Service</a>
</span>
<span class="next">
<a href="ec-editing-user-settings.html">Edit your user settings »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"go":{"hasAny":true},"ruby":{"hasAny":true},"java":{"hasAny":true},"javascript":{"hasAny":true},"python":{"hasAny":true},"csharp":{"hasAny":true}}}}</script>
  </body>
</html>
