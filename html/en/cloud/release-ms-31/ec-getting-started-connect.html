<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Connect to Elasticsearch
        | Elasticsearch Service Documentation [release-ms-31]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Service Documentation [release-ms-31]" /><link rel="up" href="ec-getting-started.html" title="Getting started" /><link rel="prev" href="ec-access-kibana.html" title="Access Kibana" /><link rel="next" href="ec-api-console.html" title="Access the Elasticsearch API" /><meta name="DC.type" content="Learn/Docs/Cloud/Reference/release-ms-31" /><meta name="DC.subject" content="Elastic Cloud" /><meta name="DC.identifier" content="release-ms-31" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Service Documentation
      [release-ms-31]
    </a></span> » <span class="breadcrumb-link"><a href="ec-getting-started.html">Getting started</a></span> » <span class="breadcrumb-node">Connect to Elasticsearch</span></div><div class="navheader"><span class="prev"><a href="ec-access-kibana.html">
              « 
              Access Kibana</a>
           
        </span><span class="next">
           
          <a href="ec-api-console.html">Access the Elasticsearch API
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="ec-getting-started-connect"></a>Connect to Elasticsearch</h2></div></div></div><p>If you are looking for a user interface for Elasticsearch and your data, head on over to <a class="link" href="ec-access-kibana.html" title="Access Kibana">Kibana</a>! Not only are there amazing visualization and index management tools, Kibana includes a realistic sample data set to play with so that you can get to know what you <span class="emphasis"><em>could</em></span> do with your data.</p><p>There are two ways to connect directly to your Elasticsearch cluster: Through the <a class="link" href="ec-getting-started-connect.html#ec-getting-started-api" title="RESTful API with JSON">RESTful API</a> or through the <a class="link" href="ec-getting-started-connect.html#ec-getting-started-transport-client" title="Java transport client">Java transport client</a>. Both ways use an endpoint URL that includes a port, such as <code class="literal">https://ec47fc4d2c53414e1307e85726d4b9bb.us-east-1.aws.found.io:9243</code>.</p><p>The simplest way to connect to your cluster:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">On the <span class="strong strong"><strong>Overview</strong></span> page for your new cluster in the <a class="ulink" href="https://cloud.elastic.co/" target="_top">Elasticsearch Service Console</a>, click the Elasticsearch endpoint URL under <span class="strong strong"><strong>Endpoints</strong></span>.</li><li class="listitem"><p class="simpara">If you get prompted, log in as the <code class="literal">elastic</code> user with the password you copied down earlier. (Missed it?
<a class="link" href="ec-password-reset.html" title="Reset the elastic user password">Reset the password</a>.) Elasticsearch returns a standard message like this:</p><div class="pre_wrapper lang-json"><pre class="programlisting prettyprint lang-json">{
  "name" : "instance-0000000002",
  "cluster_name" : "811de9be78674138d6b8ba54b830c38d",
  "cluster_uuid" : "KpvANC2ZQb-h5-YVH1qdog",
  "version" : {
    "number" : "5.5.1",
    "build_hash" : "19c13d0",
    "build_date" : "2017-07-18T20:44:24.823Z",
    "build_snapshot" : false,
    "lucene_version" : "6.6.0"
  },
  "tagline" : "You Know, for Search"
}</pre></div></li></ol></div><h4><a id="ec-getting-started-api"></a>RESTful API with JSON</h4><p>Used with the <code class="literal">curl</code> command and most programming languages that aren’t Java, the RESTful API is a very popular way to interact with your Elasticsearch cluster. When you clicked an endpoint URL in the <a class="ulink" href="https://cloud.elastic.co/" target="_top">Elasticsearch Service Console</a>, you were already using the RESTful API.</p><p>To interact with your cluster through the API, use your Elasticsearch cluster endpoint information from the <span class="strong strong"><strong>Overview</strong></span> page in the <a class="ulink" href="https://cloud.elastic.co/" target="_top">Elasticsearch Service Console</a>. Endpoint URLs look like <code class="literal">https://ec47fc4d2c53414e1307e85726d4b9bb.us-east-1.aws.found.io:9243</code> (AWS) or like
<code class="literal">https://d8d6bc6fcb4f7ca37640851dadac668a.us-central1.gcp.cloud.es.io:9243</code> (GCP) and can tell you quite a bit about your cluster. The format is always:</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">https://CLUSTER_ID.REGION.CLOUD_PLATFORM.DOMAIN:PORT</pre></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">CLUSTER_ID</code></span></dt><dd>The cluster ID that is unique to your cluster. For example: <code class="literal">811de9be78674138d6b8ba54b830c38d</code>.
If you ever <a class="link" href="ec-get-help.html" title="Getting help">need help</a> with a cluster, include the cluster ID in your support request.</dd><dt><span class="term"><code class="literal">REGION</code></span></dt><dd>The geographic region within your cloud platform. For example: <code class="literal">us-east-1</code> or <code class="literal">us-central1</code>.</dd><dt><span class="term"><code class="literal">CLOUD_PLATFORM</code></span></dt><dd>The cloud platform, either <code class="literal">aws</code> for Amazon Web Services or <code class="literal">gcp</code> for Google Cloud Platform.</dd><dt><span class="term"><code class="literal">DOMAIN</code></span></dt><dd>The domain name, such as <code class="literal">cloud.es.io</code> or <code class="literal">found.io</code>. The actual domain name depends on the region you use.</dd><dt><span class="term"><code class="literal">PORT</code></span></dt><dd><p class="simpara">The port for the RESTful API or the Java transport client. For example: <code class="literal">9243</code>. For the RESTful API, port 9243 is used for HTTPS connections and is strongly recommended (port 443 is also supported for HTTPS). We still allow HTTP connections for the API over port 9200 on some regions, but we recommend against using HTTP and no longer list the HTTP endpoint. For the Java transport client, port 9343 with TLS/SSL is used (port 9300 without encryption is also supported but not recommended).</p><div class="note admon"><div class="icon"></div><div class="admon_content"><p>Port 9200 is not supported on all AWS regions and will not be supported for new regions that we add. Port 9200 is also not supported on the GCP platform. Use port 9243 instead.</p></div></div></dd></dl></div><p>If you created a cluster on Elasticsearch 5.0 or later or if you already enabled the security features with an earlier version of Elasticsearch, you must include authentication details with the -u parameter when you interact with your cluster.</p><p>If this is your first time using Elasticsearch, you can try out some <code class="literal">curl</code> commands to become familiar with the basics of indexing or searching documents. On operating systems like macOS or Linux, you should already have the <code class="literal">curl</code> command installed.</p><div class="tip admon"><div class="icon"></div><div class="admon_content"><p>If you want to try out examples with your own cluster, remember to include your own endpoint URLs and authentication details. These examples won’t work directly as is.</p></div></div><p>To index your first document into an index called <code class="literal">my_index</code> in Elasticsearch, issue a POST request and include the document in JSON format:</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">curl -u elastic:password https://CLUSTER_ID.REGION.PLATFORM.found.io:9243/my_index/my_type -XPOST -d '{
"title": "One", "tags": ["ruby"]
}'
{"_index":"my_index","_type":"my_type","_id":"AV3ZeXsOMOVbmlCACuwj","_version":1,"result":"created","_shards":{"total":2,"successful":1,"failed":0},"created":true}</pre></div><p>To retrieve all the documents in the same index, issue a GET request:</p><div class="pre_wrapper lang-sh"><pre class="programlisting prettyprint lang-sh">curl -u elastic:password https://CLUSTER_ID.REGION.PLATFORM.found.io:9243/my_index/my_type/_search?pretty=true
{
  "took" : 0,
  "timed_out" : false,
  "_shards" : {
    "total" : 5,
    "successful" : 5,
    "failed" : 0
  },
  "hits" : {
    "total" : 1,
    "max_score" : 1.0,
    "hits" : [
      {
        "_index" : "my_index",
        "_type" : "my_type",
        "_id" : "AV3ZeXsOMOVbmlCACuwj",
        "_score" : 1.0,
        "_source" : {
          "title" : "One",
          "tags" : [
            "ruby"
          ]
        }
      }
    ]
  }
}</pre></div><p>These examples barely scratch the surface of what’s available. Once you experiment with slightly bigger queries, you might also want to try something that is a little more syntax aware. You can use <a class="link" href="ec-access-kibana.html" title="Access Kibana">Kibana</a>, a great tool for analyzing any type of data stored in Elasticsearch, has grown to include Console, which is useful for interacting with the REST API of Elasticsearch (in versions before 5.0, Console is called Sense).</p><h4><a id="ec-getting-started-transport-client"></a>Java transport client</h4><p>A good choice if your applications are using Java. This lighter-weight transport client forwards requests to a remote cluster over your endpoint URL and port 9343 with TLS/SSL using the native Elasticsearch transport protocol (port 9300 without encryption is also supported but not recommended).</p><p>To learn more about how you can use the Java transport client, typically in conjunction with X-Pack security features or Shield, see <a class="link" href="ec-security-transport.html" title="Configure the Java transport client">Configure the Java Transport Client</a>.</p><h4><a id="ec-transport-dns-cache"></a>DNS caching</h4><p>If your application connecting to Elasticsearch Service runs under the Java security manager, you might be subject to the JVM default policies of caching positive hostname resolutions indefinitely and caching negative hostname resolutions for ten seconds. Because both the Java REST client and the transport client connect through an Elastic load balancer which can change IP addresses, it is important to disable at least the caching of caching positive hostname resolutions.</p><p>You disable the caching of positive hostname resolutions by setting the security property <code class="literal">networkaddress.cache.ttl</code> in <code class="literal">$JAVA_HOME/lib/security/java.security</code> (negative hostname resolutions can be disabled with <code class="literal">networkaddress.cache.negative.ttl</code>). You can also disable caching programmatically by setting <code class="literal">java.security.Security.setProperty("networkaddress.cache.ttl" , "60")</code>, for example.</p><div class="note admon"><div class="icon"></div><div class="admon_content"><p>You cannot configure caching of DNS lookups as a JVM-property. Setting <code class="literal">-Dnetworkaddress.cache.ttl=60</code> does not work, for example.</p></div></div><p>To learn more about configuring your JVM, see the official Java documentation:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><a class="ulink" href="http://docs.oracle.com/javase/8/docs/technotes/guides/net/properties.html" target="_top">Java Properties</a></li><li class="listitem"><a class="ulink" href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/PolicyFiles.html" target="_top">Default Policy Implementation and Policy File Syntax</a>.</li></ul></div></div><div class="navfooter"><span class="prev"><a href="ec-access-kibana.html">
              « 
              Access Kibana</a>
           
        </span><span class="next">
           
          <a href="ec-api-console.html">Access the Elasticsearch API
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=default&elektra=docs&storm=top-video">Elasticsearch Service: Free Trial</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"csharp":{"php":{"hasAny":false},"go":{"hasAny":false},"ruby":{"hasAny":false},"java":{"hasAny":false},"javascript":{"hasAny":false},"python":{"hasAny":false}}}}</script>
  </body>
</html>
