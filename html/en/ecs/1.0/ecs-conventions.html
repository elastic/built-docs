<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Conventions | Elastic Common Schema (ECS) Reference [1.0] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Common Schema (ECS) Reference [1.0]"/>
<link rel="up" href="ecs-using-ecs.html" title="Using ECS"/>
<link rel="prev" href="ecs-guidelines.html" title="Guidelines and Best Practices"/>
<link rel="next" href="ecs-field-reference.html" title="ECS Field Reference"/>
<meta name="DC.type" content="Learn/Docs/Elastic Common Schema (ECS)/Reference/1.0"/>
<meta name="DC.subject" content="Elastic Common Schema (ECS)"/>
<meta name="DC.identifier" content="1.0"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elastic Common Schema (ECS) Reference [1.0]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="ecs-using-ecs.html">Using ECS</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ecs-guidelines.html">« Guidelines and Best Practices</a>
</span>
<span class="next">
<a href="ecs-field-reference.html">ECS Field Reference »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ecs-conventions"></a>Conventions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ecs/edit/1.0/docs/using-conventions.asciidoc">edit</a></h2>
</div></div></div>
<p>The implementation of ECS follows a few conventions. Understanding them will
help you understand ECS better.</p>
<h4><a id="_datatype_for_integers"></a>Datatype for integers<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ecs/edit/1.0/docs/using-conventions.asciidoc">edit</a></h4>
<p>Unless otherwise noted, the datatype used for integer fields should be <code class="literal">long</code>.</p>
<h4><a id="_ids_and_most_codes_are_keywords_not_integers"></a>IDs and most codes are keywords, not integers<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ecs/edit/1.0/docs/using-conventions.asciidoc">edit</a></h4>
<p>Despite the fact that IDs and codes (such as error codes) are often integers,
this is not always the case.
Since we want to make it possible to map as many systems and data sources
to ECS as possible, we default to using the <code class="literal">keyword</code> type for IDs and codes.</p>
<p>Some specific kinds of codes are always integers, like HTTP status codes.
If those have a specific corresponding specific field (as HTTP status does),
its type can safely be an integer type.
But generic fields like <code class="literal">error.code</code> cannot have this guarantee, and are therefore <code class="literal">keyword</code>.</p>
<h4><a id="_text_indexing_and_multi_fields"></a>Text indexing and multi-fields<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ecs/edit/1.0/docs/using-conventions.asciidoc">edit</a></h4>
<p>Elasticsearch can index text using datatypes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">text</code></strong></span> Text indexing allows for full text search, or searching arbitrary words that
are part of the field.
See <a href="/guide/en/elasticsearch/reference/7.3/text.html" class="ulink" target="_top">Text datatype</a> in the Elasticsearch Reference Guide.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keyword</code></strong></span> Keyword indexing offers faster exact match filtering,
prefix search (like autocomplete),
and makes aggregations (like Kibana visualizations) possible.
See the Elasticsearch Reference Guide for more information on
<a href="/guide/en/elasticsearch/reference/7.3/query-dsl-term-query.html" class="ulink" target="_top">exact match filtering</a>,
<a href="/guide/en/elasticsearch/reference/7.3/query-dsl-prefix-query.html" class="ulink" target="_top">prefix search</a>, or
<a href="/guide/en/elasticsearch/reference/7.3/search-aggregations.html" class="ulink" target="_top">aggregations</a>.
</li>
</ul>
</div>
<h5><a id="_default_elasticsearch_convention_for_indexing_text_fields"></a>Default Elasticsearch convention for indexing text fields<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ecs/edit/1.0/docs/using-conventions.asciidoc">edit</a></h5>
<p>Unless your index mapping or index template specifies otherwise
(as the ECS index template does),
Elasticsearch indexes a text field as <code class="literal">text</code> at the canonical field name,
and indexes a second time as <code class="literal">keyword</code>, nested in a multi-field.</p>
<p>Default Elasticsearch convention:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Canonical field: <code class="literal">myfield</code> is <code class="literal">text</code>
</li>
<li class="listitem">
Multi-field: <code class="literal">myfield.keyword</code> is <code class="literal">keyword</code>
</li>
</ul>
</div>
<h5><a id="_ecs_convention_for_indexing_text_fields"></a>ECS convention for indexing text fields<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ecs/edit/1.0/docs/using-conventions.asciidoc">edit</a></h5>
<p>ECS flips the above convention around.</p>
<p>For monitoring use cases, <code class="literal">keyword</code> indexing is needed almost exclusively, with
full text search needed on very few fields.
Moreover, indexing for full text search on lots of fields, where it&#8217;s not expected
to be used is wasteful of resources.</p>
<p>Given these two premises, ECS defaults
all text indexing to <code class="literal">keyword</code> datatype (with very few exceptions).
Any use case that requires full text search indexing on additional fields
can add a <a href="/guide/en/elasticsearch/reference/7.3/multi-fields.html" class="ulink" target="_top">multi-field</a>
for full text search. Doing so does not conflict with ECS,
as the canonical field name will remain <code class="literal">keyword</code> indexed.</p>
<p>So the ECS multi-field convention for text is:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Canonical field: <code class="literal">myfield</code> is <code class="literal">keyword</code>
</li>
<li class="listitem">
Multi-field: <code class="literal">myfield.text</code> is <code class="literal">text</code>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Exceptions</strong></span></p>
<p>The only exceptions to this convention are fields <code class="literal">message</code> and <code class="literal">error.message</code>,
which are indexed for full text search only, with no multi-field.
These two fields don&#8217;t follow the new convention because they are deemed too big
of a breaking change with these two widely used fields in Beats.</p>
<p>Any future field that will be indexed for full text search in ECS will however
follow the multi-field convention where <code class="literal">text</code> indexing is nested in the multi-field.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ecs-guidelines.html">« Guidelines and Best Practices</a>
</span>
<span class="next">
<a href="ecs-field-reference.html">ECS Field Reference »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
