<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Load balancing
        | Deploying with Azure Marketplace and Resource Manager (ARM) template [6.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Deploying with Azure Marketplace and Resource Manager (ARM) template [6.3]" /><link rel="up" href="azure-arm-template.html" title="Azure Resource Manager (ARM) template" /><link rel="prev" href="azure-arm-template-networking.html" title="Networking" /><link rel="next" href="azure-arm-template-kibana.html" title="Kibana" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elastic Stack/Azure/6.3" /><meta name="DC.subject" content="Azure Marketplace and Resource Manager (ARM) template" /><meta name="DC.identifier" content="6.3" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Deploying with Azure Marketplace and Resource Manager (ARM) template
      [6.3]
    </a></span> » <span class="breadcrumb-link"><a href="azure-arm-template.html">Azure Resource Manager (ARM) template</a></span> » <span class="breadcrumb-node">Load balancing</span></div><div class="navheader"><span class="prev"><a href="azure-arm-template-networking.html">
              « 
              Networking</a>
           
        </span><span class="next">
           
          <a href="azure-arm-template-kibana.html">Kibana
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="azure-arm-template-load-balancing"></a>Load balancing<a href="https://github.com/elastic/azure-marketplace/edit/6.3/docs/azure-arm-template.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The template exposes three different load balancing deployment options to suit
different use cases. Each is exposed through</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">loadBalancerType</code></span></dt><dd>Choose between <code class="literal">internal</code>, <code class="literal">external</code> or <code class="literal">gateway</code> to configure an internal load
balancer, external load balancer, or Application Gateway, respectively. Default
is <code class="literal">internal</code>.</dd></dl></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="internal-load-balancer"></a>Internal load balancer<a href="https://github.com/elastic/azure-marketplace/edit/6.3/docs/azure-arm-template.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>An OSI layer 4 load balancer configured with a static private IP address on the virtual
network, that can be used to round robin requests across Elasticsearch nodes. The
private IP address is configured with <code class="literal">vNetLoadBalancerIp</code> parameter.</p><p>When coordinating nodes are deployed, they are attached to the internal load balancer
backend pool. When no coordinating nodes are deployed, data nodes are attached to
the backend pool. The load balancer receives incoming requests on port 9200 and
round robins them across the backend pool over port 9200,
with a TCP health probe that checks connectivity every 30 seconds, taking
nodes out of the backend pool when health probes fail.</p><p>When Kibana is deployed, Kibana is configured to communicate with Elasticsearch
through the internal load balancer.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="external-load-balancer"></a>External load balancer<a href="https://github.com/elastic/azure-marketplace/edit/6.3/docs/azure-arm-template.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>An OSI layer 4 load balancer configured with a dynamically assigned public IP address
that can be used to send requests to Elasticsearch from the public internet.</p><p>When choosing to deploy with an external load balancer, both an internal and
external load balancer are deployed; when Kibana is deployed, it will be
configured to communicate with Elasticsearch through the internal load balancer.
The external load balancer receives incoming requests on port 9200 and
round robins them across the backend pool over port 9201,
with a TCP health probe that checks connectivity every 30 seconds, taking
nodes out of the backend pool when health probes fail. Since both the internal and
external load balancer contain the same VMs in their backend pools, the external load
balancer communicates with the backend pool over port 9201, to work around a limitation
in Azure. On each Elasticsearch node VM, incoming traffic on port 9201 is re-routed
to port 9200 using a persistent <code class="literal">iptables</code> configuration, and then routed back to
9201 for the outgoing response.</p><p>As with the internal load balancer, when coordinating nodes are deployed,
they are attached to the external load balancer backend pool.
When no coordinating nodes are deployed, data nodes are attached to
the backend pool. The load balancer round robins requests across the backend pool
over port 9200, with a TCP health probe that checks connectivity every 30 seconds, taking
nodes out of the backend pool when health probes fail.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="application-gateway"></a>Application Gateway<a href="https://github.com/elastic/azure-marketplace/edit/6.3/docs/azure-arm-template.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>An OSI layer 7 load balancer configured with a dynamically assigned public IP address
that can be used to send requests to Elasticsearch from the public internet. <a class="ulink" href="https://docs.microsoft.com/azure/application-gateway/application-gateway-introduction" target="_top">Application
Gateway</a> can be configured with a certificate to configure SSL/TLS between the client
and Application Gateway, performing SSL termination at the gateway. The following parameters are used
to configure Application Gateway</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">vNetAppGatewaySubnetName</code></span></dt><dd>The subnet name for Application Gateway. Application Gateway can only be deployed into
a subnet that contains Application Gateways. When deploying to an existing virtual
network, the subnet must exist beforehand. Defaults to <code class="literal">es-gateway-subnet</code>.</dd><dt><span class="term"><code class="literal">vNetNewAppGatewaySubnetAddressPrefix</code></span></dt><dd>The address space of the Application Gateway subnet. This must be specified when
deploying a new virtual network. The address space must be large enough for the
specified Application Gateway configuration; see <a class="ulink" href="https://docs.microsoft.com/azure/application-gateway/application-gateway-faq" target="_top">Application Gateway FAQs</a>
for more details</dd><dt><span class="term"><code class="literal">appGatewayTier</code></span></dt><dd>The tier of Application Gateway. Either <code class="literal">Standard</code> or <code class="literal">WAF</code>. The latter is Web
application firewall (WAF), a feature that provides centralized protection from
common exploits and vulnerabilities based on <a class="ulink" href="https://www.owasp.org/index.php/Category:OWASP_ModSecurity_Core_Rule_Set_Project" target="_top">OWASP core rule sets 3.0</a>.
Defaults to <code class="literal">Standard</code>.</dd><dt><span class="term"><code class="literal">appGatewaySku</code></span></dt><dd>The size of the Application Gateway. Choose <code class="literal">Small</code>, <code class="literal">Medium</code> or <code class="literal">Large</code>.
When choosing <code class="literal">appGatewayTier</code> of <code class="literal">WAF</code>, the size must be at least <code class="literal">Medium</code>. The
main difference between sizes is the amount of throughput that the Gateway can handle.
Defaults to <code class="literal">Medium</code>.</dd><dt><span class="term"><code class="literal">appGatewayCount</code></span></dt><dd>The number of instances of Application Gateway, from 1 to 10. a minimum value
of 2 is recommended for production loads. Defaults to 2.</dd><dt><span class="term"><code class="literal">appGatewayCertBlob</code></span></dt><dd>A Base-64 encoded PKCS#12 archive (.p12/.pfx) containing the certificate
and key for Application Gateway. This certificate is used to configure SSL/TLS to
and from Application Gateway. This is required to correctly configure Application
Gateway.</dd><dt><span class="term"><code class="literal">appGatewayCertPassword</code></span></dt><dd>The passphrase for the PKCS#12 archive containing the certificate and key for
Application Gateway. Defaults to empty string.</dd><dt><span class="term"><code class="literal">appGatewayEsHttpCertBlob</code></span></dt><dd>The Base-64 encoded public certificate (.cer) used to secure the HTTP layer of
Elasticsearch. This is used by Application Gateway to whitelist certificates used
by the backend pool when configuring end-to-end encryption,
and is required when SSL/TLS is configured for the HTTP layer
of Elasticsearch. See the <a class="link" href="azure-arm-template-security.html#tls" title="Transport Layer Security">Transport Layer Security</a> section for more details.</dd><dt><span class="term"><code class="literal">appGatewayWafStatus</code></span></dt><dd>When choosing <code class="literal">appGatewayTier</code> of <code class="literal">WAF</code>, this parameter controls the firewall
status, either <code class="literal">Enabled</code> or <code class="literal">Disabled</code>. Defaults to <code class="literal">Enabled</code>.</dd><dt><span class="term"><code class="literal">appGatewayWafMode</code></span></dt><dd>When choosing <code class="literal">appGatewayTier</code> of <code class="literal">WAF</code>, the firewall mode, either <code class="literal">Detection</code> or
<code class="literal">Prevention</code>. Defaults to <code class="literal">Detection</code>.</dd></dl></div><p>When choosing to deploy with Application Gateway, both Application Gateway and
an internal load balancer are deployed; the internal load balancer is configured as
the backend pool for Application Gateway.</p><p>A custom health probe is configured that reports healthy for the backend pool for
status codes between 200-399, and for status code 401, which may be returned when
Elastic Stack Security is enabled, since the health probe makes requests without any form
of authentication.</p><p>The public IP address of Application Gateway is not returned in the template
outputs, but can be retrieved after successful deployment with</p><p><strong>Azure CLI 2.0. </strong>
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-sh">gateway_ip_resource=$(az network public-ip show --name "es-app-gateway-ip" \
  --resource-group "&lt;resource group&gt;")

# jq needs to be installed
gateway_fqdn=$(jq -r .dnsSettings.fqdn &lt;&lt;&lt; $gateway_ip_resource)
gateway_ip="https://${gateway_fqdn}:9200"</pre></div><p>
</p><p><strong>Azure PowerShell. </strong>
</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-powershell">$gatewayIpResource = Get-AzureRmPublicIpAddress -Name "es-app-gateway-ip" `
  -ResourceGroupName "&lt;resource group&gt;"

$gatewayIp = "https://$($gatewayIpResource.DnsSettings.Fqdn):9200"</pre></div><p>
</p></div></div><div class="navfooter"><span class="prev"><a href="azure-arm-template-networking.html">
              « 
              Networking</a>
           
        </span><span class="next">
           
          <a href="azure-arm-template-kibana.html">Kibana
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
