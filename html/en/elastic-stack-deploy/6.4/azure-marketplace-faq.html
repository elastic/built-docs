<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Frequently Asked Questions | Deploying with Azure Marketplace and Resource Manager (ARM) template [6.4] | Elastic</title>
<link rel="home" href="index.html" title="Deploying with Azure Marketplace and Resource Manager (ARM) template [6.4]"/>
<link rel="up" href="index.html" title="Deploying with Azure Marketplace and Resource Manager (ARM) template [6.4]"/>
<link rel="prev" href="azure-arm-template-plugins.html" title="Plugins"/>
<link rel="next" href="azure-arm-template-troubleshooting.html" title="Troubleshooting"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Azure/6.4"/>
<meta name="DC.subject" content="Azure Marketplace and Resource Manager (ARM) template"/>
<meta name="DC.identifier" content="6.4"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Deploying with Azure Marketplace and Resource Manager (ARM) template [6.4]</a></span>
»
<span class="breadcrumb-node">Frequently Asked Questions</span>
</div>
<div class="navheader">
<span class="prev">
<a href="azure-arm-template-plugins.html">« Plugins</a>
</span>
<span class="next">
<a href="azure-arm-template-troubleshooting.html">Troubleshooting »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="azure-marketplace-faq"></a>Frequently Asked Questions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/azure-marketplace/edit/6.4/docs/faqs.asciidoc">edit</a></h1>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
What resources does the Marketplace deploy?
</span>
</dt>
<dd>
<p>
The default configuration of the Marketplace deploys the following resources:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
1 virtual network
</li>
<li class="listitem">
3 dedicated master node Standard D1 SKU VMs running Ubuntu 16.04 with OS disks
and network interfaces
</li>
<li class="listitem">
1 availability set for master nodes
</li>
<li class="listitem">
3 data node Standard DS1 v2 SKU VMs running Ubuntu 16.04 with OS disks, network
interfaces and one
1024Gb managed disk per data node
</li>
<li class="listitem">
1 availability set for data nodes
</li>
<li class="listitem">
1 Kibana Standard D1 SKU VM running Ubuntu 16.04 with OS disk, network interface,
network security group and public IP address
</li>
<li class="listitem">
<p>1 internal load balancer</p>
<p>A screenshot of the resources deployed by default:</p>
<p><span class="image"><img src="images/marketplace_default_resources.png" alt="marketplace default resources"></span></p>
<p>A 30 day trial license of <a href="/products/stack" class="ulink" target="_top">the Elastic Stack Platinum features</a> is also installed.
Elastic Stack features are available
under <a href="/subscriptions" class="ulink" target="_top">a commercial license subscription</a>, providing
enterprise-grade features such as Security, Monitoring, Alerting, Reporting,
Graph and Machine Learning capabilities.</p>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
What is the cost of the Azure Marketplace solution?
</span>
</dt>
<dd>
The cost of deploying from the Marketplace will vary depending on the cluster
topology that you decide to deploy and the VM SKUs that you choose for each of the
VMs within the cluster. The cost will also vary depending on which Azure region
you decide to deploy to. Because there are a number of variables involved, a cost
needs to be calculated on a case-by-case basis. At a minimum, you will pay for
all Azure resources deployed by the template. The
<a href="https://azure.microsoft.com/en-us/pricing/calculator/" class="ulink" target="_top">Azure pricing calculator</a> can help in providing a good estimate
for this. In addition to the cost of Azure resources,
<a href="/subscriptions" class="ulink" target="_top">Elastic Stack Gold, Platinum and Enterprise features</a> require a
license to be purchased, the cost of which is dependent on a number of factors.
Please get in touch with us to discuss.
</dd>
<dt>
<span class="term">
How do I connect to Elasticsearch?
</span>
</dt>
<dd>
<p>
Elasticsearch can be accessed from outside of Azure by choosing an external load
balancer for the load balancer type, within the External access blade step.
</p>
<p>From within Azure, Azure resources can access Elasticsearch by connecting to the
Virtual network in which the cluster is deployed. It is recommended to connect through
the internal load balancer, which will round robin requests to coordinating
nodes if deployed, or to data nodes otherwise.</p>
</dd>
<dt>
<span class="term">
How do I connect to the VMs to troubleshoot?
</span>
</dt>
<dd>
<p>
Elasticsearch VMs are not accessible from outside of the virtual network. When
configuring the deployment through the blade steps, a Kibana VM or Jumpbox VM can
be deployed through which all VMs attached to the virtual network can be accessed.
</p>
<p>Both Kibana and Jumpbox VMs are configured with a network security group that allows
TCP traffic over port 22, to allow you to use SSH to securely connect to VMs. SSH
authentication will use the authentication mechanism specified in the Basics step,
either <code class="literal">password</code> or <code class="literal">SSH public key</code>:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">ssh &lt;admin username&gt;@&lt;kibana or jumpbox public IP address&gt;</pre>
</div>
<p>Once connected to the Kibana or Jumpbox VM, other VMs on the virtual network can
be accessed using SSH with either the private IP address or VM hostname (if using
Azure DNS to resolve addresses from hostnames):</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">ssh &lt;admin username&gt;@&lt;internal IP address or VM hostname&gt;</pre>
</div>
<p>See the <a class="xref" href="azure-arm-template-troubleshooting.html" title="Troubleshooting">troubleshooting section</a> for more details.</p>
</dd>
<dt>
<span class="term">
Does the Marketplace solution deploy Logstash?
</span>
</dt>
<dd>
The Marketplace solution can also deploy Logstash, although it does not do so by default.
To also deploy an instance of Logstash, select <code class="literal">Yes</code> for <code class="literal">Install Logstash?</code> in the
<code class="literal">Kibana &amp; Logstash</code> section. You can also deploy additional plugins and provide a
Logstash config file to use.
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="azure-arm-template-plugins.html">« Plugins</a>
</span>
<span class="next">
<a href="azure-arm-template-troubleshooting.html">Troubleshooting »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
