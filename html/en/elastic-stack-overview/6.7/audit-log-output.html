<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Logfile audit output
        | Elastic Stack Overview [6.7]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elastic Stack Overview [6.7]" /><link rel="up" href="auditing.html" title="Auditing security events" /><link rel="prev" href="audit-event-types.html" title="Audit event types" /><link rel="next" href="audit-index.html" title="Index audit output" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elastic Stack/Overview/6.7" /><meta name="DC.subject" content="Elastic Stack" /><meta name="DC.identifier" content="6.7" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Stack Overview
      [6.7]
    </a></span> » <span class="breadcrumb-link"><a href="elasticsearch-security.html">Securing the Elastic Stack</a></span> » <span class="breadcrumb-link"><a href="auditing.html">Auditing security events</a></span> » <span class="breadcrumb-node">Logfile audit output</span></div><div class="navheader"><span class="prev"><a href="audit-event-types.html">
              « 
              Audit event types</a>
           
        </span><span class="next">
           
          <a href="audit-index.html">Index audit output
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="audit-log-output"></a>Logfile audit output<a href="https://github.com/elastic/elasticsearch/edit/6.7/x-pack/docs/en/security/auditing/output-logfile.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>The <code class="literal">logfile</code> audit output is the default output for auditing. It writes data to
the <code class="literal">&lt;clustername&gt;_audit.log</code> file in the logs directory. To maintain
compatibility with releases prior to 6.5.0, a <code class="literal">&lt;clustername&gt;_access.log</code> file
is also generated. They differ in the output format but the contents
are similar. For systems that are not ingesting the audit file for search or
analytics it is strongly recommended to keep only the newer format.</p><p>To turn off the deprecated output format, you can disable the logger in the
<code class="literal">log4j2.properties</code> file:</p><div class="pre_wrapper lang-properties"><pre class="programlisting prettyprint lang-properties"># change info to off
# logger.xpack_security_audit_deprecated_logfile.level = info
logger.xpack_security_audit_deprecated_logfile.level = off</pre></div><p>Alternatively, use the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/cluster-update-settings.html" target="_top">cluster update settings API</a> to dynamically
configure the logger:</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">PUT /_cluster/settings
{
  "persistent": {
    "logger.org.elasticsearch.xpack.security.audit.logfile.DeprecatedLoggingAuditTrail": "off"
  }
}</pre></div><div class="console_widget" data-snippet="snippets/23.console"></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>If you overwrite the <code class="literal">log4j2.properties</code> and do not specify appenders for
any of the audit trails, audit events are forwarded to the root appender, which
by default points to the <code class="literal">elasticsearch.log</code> file.</p></div></div><h3><a id="audit-log-entry-format"></a>Log entry format<a href="https://github.com/elastic/elasticsearch/edit/6.7/x-pack/docs/en/security/auditing/output-logfile.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The log entries in the <code class="literal">&lt;clustername&gt;_audit.log</code> file have the following format:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">Each log entry is a one line JSON document and each one is printed on a separate line.</li><li class="listitem">The fields of a log entry are ordered. However, if a field does not have a value it
will not be printed. The precise line pattern, together with the complete field
order, are specified in the <code class="literal">log4j2.properties</code> config file.</li><li class="listitem">The log entry does not contain nested inner JSON objects, i.e. the doc is flat.</li><li class="listitem">The field names follow a dotted notation to flatten inner objects.</li><li class="listitem">A field’s value can be a string, a number or an array of strings.</li><li class="listitem">A field’s value, a request body as well, will be escaped as per the JSON RFC 4627.</li></ul></div><p>There is a list of <a class="link" href="audit-event-types.html" title="Audit event types">audit event types</a> specifying the
set of fields for each entry type.</p><h3><a id="deprecated-audit-log-entry-format"></a>Deprecated log entry format<a href="https://github.com/elastic/elasticsearch/edit/6.7/x-pack/docs/en/security/auditing/output-logfile.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The log entries in the <code class="literal">&lt;clustername&gt;_access.log</code> file have the following format:</p><div class="pre_wrapper lang-txt"><pre class="programlisting prettyprint lang-txt">[&lt;timestamp&gt;] [&lt;local_node_info&gt;] [&lt;layer&gt;] [&lt;entry_type&gt;] &lt;attribute_list&gt;</pre></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">&lt;timestamp&gt;</code>       </span></dt><dd>When the event occurred. You can configure the
timestamp format in <code class="literal">log4j2.properties</code>.</dd><dt><span class="term"><code class="literal">&lt;local_node_info&gt;</code> </span></dt><dd>Information about the local node that generated
the log entry. You can control what node information
is included by configuring the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/auditing-settings.html#node-audit-settings" target="_top">local node info settings</a>.</dd><dt><span class="term"><code class="literal">&lt;layer&gt;</code>           </span></dt><dd>The layer from which this event originated:
<code class="literal">rest</code>, <code class="literal">transport</code> or <code class="literal">ip_filter</code>.</dd><dt><span class="term"><code class="literal">&lt;entry_type&gt;</code>      </span></dt><dd>The type of event that occurred: <code class="literal">anonymous_access_denied</code>,
<code class="literal">authentication_failed</code>, <code class="literal">access_denied</code>, <code class="literal">access_granted</code>,
<code class="literal">connection_granted</code>, <code class="literal">connection_denied</code>.</dd><dt><span class="term"><code class="literal">&lt;attribute_list&gt;</code>  </span></dt><dd>A comma-separated list of key-value pairs that contain
data pertaining to the event. Formatted as
<code class="literal">attr1=[val1], attr2=[val2]</code>. See <a class="link" href="audit-event-types.html#audit-event-attributes" title="Audit event attributes">Audit Entry Attributes</a> for the attributes that can be included
for each type of event.</dd></dl></div><h3><a id="audit-log-settings"></a>Logfile output settings<a href="https://github.com/elastic/elasticsearch/edit/6.7/x-pack/docs/en/security/auditing/output-logfile.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The events and some other information about what gets logged can be
controlled using settings in the <code class="literal">elasticsearch.yml</code> file. See
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/auditing-settings.html#event-audit-settings" target="_top">Audited Event Settings</a> and
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/auditing-settings.html#node-audit-settings" target="_top">Local Node Info Settings</a>.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>No filtering is performed when auditing, so sensitive data may be
audited in plain text when including the request body in audit events.</p></div></div><p><a id="logging-file"></a>You can also configure how the logfile is written in the <code class="literal">log4j2.properties</code>
file located in <code class="literal">ES_PATH_CONF</code>. By default, audit information is appended to the
<code class="literal">&lt;clustername&gt;_audit.log</code> file located in the standard Elasticsearch <code class="literal">logs</code> directory
(typically located at <code class="literal">$ES_HOME/logs</code>). The file rolls over on a daily basis.
The deprecated logfile audit format (<code class="literal">&lt;clustername&gt;_access.log</code>) can be disabled
from the same <code class="literal">log4j2.properties</code> file (hint: look for the comment
instructing to set the log level to <code class="literal">off</code>). The deprecated format is a duplication
of information that is in place to assure backwards compatibility. If you are
not strict about the audit format it is strongly recommended to only use the
<code class="literal">&lt;clustername&gt;_audit.log</code> log appender.</p><h3><a id="audit-log-ignore-policy"></a>Logfile audit events ignore policies<a href="https://github.com/elastic/elasticsearch/edit/6.7/x-pack/docs/en/security/auditing/output-logfile.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The comprehensive audit trail is necessary to ensure accountability. It offers tremendous
value during incident response and can even be required for demonstrating compliance.</p><p>The drawback of an audited system is represented by the inevitable performance penalty incurred.
In all truth, the audit trail spends <span class="emphasis"><em>I/O ops</em></span> that are not available anymore for the user’s queries.
Sometimes the verbosity of the audit trail may become a problem that the event type restrictions,
<a class="link" href="audit-log-output.html#audit-log-settings" title="Logfile output settings">defined by <code class="literal">include</code> and <code class="literal">exclude</code></a>, will not alleviate.</p><p><span class="strong strong"><strong>Audit events ignore policies</strong></span> are a finer way to tune the verbosity of the audit trail.
These policies define rules that match audit events which will be <span class="emphasis"><em>ignored</em></span> (read as: not printed).
Rules match on the values of attributes of audit events and complement the <a class="link" href="audit-log-output.html#audit-log-settings" title="Logfile output settings">include/exclude</a> method.
Imagine the corpus of audit events and the policies chopping off unwanted events.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>When utilizing audit events ignore policies you are acknowledging potential
accountability gaps that could render illegitimate actions undetectable.
Please take time to review these policies whenever your system architecture changes.</p></div></div><p>A policy is a named set of filter rules. Each filter rule applies to a single event attribute,
one of the <code class="literal">users</code>, <code class="literal">realms</code>, <code class="literal">roles</code> or <code class="literal">indices</code> attributes. The filter rule defines
a list of <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/6.7/query-dsl-regexp-query.html#regexp-syntax" target="_top">Lucene regexp</a>, <span class="strong strong"><strong>any</strong></span> of which has to match the value of the audit
event attribute for the rule to match.
A policy matches an event if <span class="strong strong"><strong>all</strong></span> the rules comprising it match the event.
An audit event is ignored, therefore not printed, if it matches <span class="strong strong"><strong>any</strong></span> policy. All other
non-matching events are printed as usual.</p><p>All policies are defined under the <code class="literal">xpack.security.audit.logfile.events.ignore_filters</code>
settings namespace. For example, the following policy named <span class="emphasis"><em>example1</em></span> matches
events from the <span class="emphasis"><em>kibana</em></span> or <span class="emphasis"><em>admin_user</em></span> principals <span class="strong strong"><strong>and</strong></span> operating over indices of the
wildcard form <span class="emphasis"><em>app-logs*</em></span>:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">xpack.security.audit.logfile.events.ignore_filters:
  example1:
    users: ["kibana", "admin_user"]
    indices: ["app-logs*"]</pre></div><p>An audit event generated by the <span class="emphasis"><em>kibana</em></span> user and operating over multiple indices
, some of which do not match the indices wildcard, will not match.
As expected, operations generated by all other users (even operating only on indices that
match the <span class="emphasis"><em>indices</em></span> filter) will not match this policy either.</p><p>Audit events of different types may have <a class="link" href="audit-event-types.html#audit-event-attributes" title="Audit event attributes">different attributes</a>.
If an event does not contain an attribute for which some policy defines filters, the
event will not match the policy.
For example, the following policy named <span class="emphasis"><em>example2</em></span>, will never match <code class="literal">authentication_success</code> or
<code class="literal">authentication_failed</code> events, irrespective of the user’s roles, because these
event schemas do not contain the <code class="literal">role</code> attribute:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">xpack.security.audit.logfile.events.ignore_filters:
  example2:
    roles: ["admin", "ops_admin_*"]</pre></div><p>Likewise, any events of users with multiple roles, some of which do not match the
regexps will not match this policy.</p><p>For completeness, although practical use cases should be sparse, a filter can match
a missing attribute of an event, using the empty string ("") or the empty list ([]).
For example, the following policy will match events that do not have the <code class="literal">indices</code>
attribute (<code class="literal">anonymous_access_denied</code>, <code class="literal">authentication_success</code> and other types) as well
as events over the <span class="emphasis"><em>next</em></span> index.</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">xpack.security.audit.logfile.events.ignore_filters:
  example3:
    indices: ["next", ""]</pre></div></div><div class="navfooter"><span class="prev"><a href="audit-event-types.html">
              « 
              Audit event types</a>
           
        </span><span class="next">
           
          <a href="audit-index.html">Index audit output
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>

  
            <script type="text/javascript" src="/guide/static/docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
