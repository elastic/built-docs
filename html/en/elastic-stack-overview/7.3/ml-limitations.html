<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Machine learning anomaly detection limitations
        | Elastic Stack Overview [7.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elastic Stack Overview [7.3]" /><link rel="up" href="xpack-ml.html" title="Machine learning anomaly detection" /><link rel="prev" href="ml-upgradedf.html" title="Upgraded nodes fail to start due to datafeed issues" /><link rel="next" href="ml-dfanalytics.html" title="Machine learning data frame analytics" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elastic Stack/Overview/7.3" /><meta name="DC.subject" content="Elastic Stack" /><meta name="DC.identifier" content="7.3" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Stack Overview
      [7.3]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-ml.html">Machine learning anomaly detection</a></span> » <span class="breadcrumb-node">Machine learning anomaly detection limitations</span></div><div class="navheader"><span class="prev"><a href="ml-upgradedf.html">
              « 
              Upgraded nodes fail to start due to datafeed issues</a>
           
        </span><span class="next">
           
          <a href="ml-dfanalytics.html">Machine learning data frame analytics
               »
            </a></span></div><div class="xpack chapter"><div class="titlepage"><div><div><h2 class="title"><a id="ml-limitations"></a>Machine learning anomaly detection limitations<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>The following limitations and known problems apply to the 7.3.0 release of
the Elastic machine learning features:</p><h3><a id="ml-limitations-sse"></a>CPUs must support SSE4.2<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Machine learning uses Streaming SIMD Extensions (SSE) 4.2 instructions, so it works only
on machines whose CPUs <a class="ulink" href="https://en.wikipedia.org/wiki/SSE4#Supporting_CPUs" target="_top">support</a>
SSE4.2. If you run Elasticsearch on older hardware you must disable machine learning by setting
<code class="literal">xpack.ml.enabled</code> to <code class="literal">false</code>. See
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/ml-settings.html" target="_top">Machine learning settings in Elasticsearch</a>.</p><h3><a id="_categorization_uses_english_dictionary_words"></a>Categorization uses English dictionary words<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Categorization identifies static parts of unstructured logs and groups similar
messages together. The default categorization tokenizer assumes English language
log messages. For other languages you must define a different
<code class="literal">categorization_analyzer</code> for your job. For more information, see
<a class="xref" href="ml-configuring-categories.html" title="Categorizing log messages">Categorizing log messages</a>.</p><p>Additionally, a dictionary used to influence the categorization process contains
only English words. This means categorization might work better in English than
in other languages. The ability to customize the dictionary will be added in a
future release.</p><h3><a id="_pop_ups_must_be_enabled_in_browsers"></a>Pop-ups must be enabled in browsers<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The machine learning features in Kibana use pop-ups. You must configure your
web browser so that it does not block pop-up windows or create an
exception for your Kibana URL.</p><h3><a id="_anomaly_explorer_omissions_and_limitations"></a>Anomaly Explorer omissions and limitations<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>In Kibana, Anomaly Explorer charts are not displayed for anomalies
that were due to categorization, <code class="literal">time_of_day</code> functions, or <code class="literal">time_of_week</code>
functions. Those particular results do not display well as time series
charts.</p><p>The charts are also not displayed for detectors that use script fields. In that
case, the original source data cannot be easily searched because it has been
somewhat transformed by the script.</p><p>The Anomaly Explorer charts can also look odd in circumstances where there
is very little data to plot. For example, if there is only one data point, it is
represented as a single dot. If there are only two data points, they are joined
by a line.</p><h3><a id="_jobs_close_on_the_datafeed_end_date"></a>Jobs close on the datafeed end date<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>If you start a datafeed and specify an end date, it will close the job when
the datafeed stops. This behavior avoids having numerous open one-time jobs.</p><p>If you do not specify an end date when you start a datafeed, the job
remains open when you stop the datafeed. This behavior avoids the overhead
of closing and re-opening large jobs when there are pauses in the datafeed.</p><h3><a id="_jobs_created_in_kibana_must_use_datafeeds"></a>Jobs created in Kibana must use datafeeds<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>If you create jobs in Kibana, you must use datafeeds. If the data that you want to
analyze is not stored in Elasticsearch, you cannot use datafeeds and therefore you cannot
create your jobs in Kibana. You can, however, use the machine learning APIs to create jobs
and to send batches of data directly to the jobs. For more information, see
<a class="xref" href="ml-dfeeds.html" title="Datafeeds">Datafeeds</a> and <a class="xref" href="ml-api-quickref.html" title="API quick reference"><em>API quick reference</em></a>.</p><h3><a id="_post_data_api_requires_json_format"></a>Post data API requires JSON format<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The post data API enables you to send data to a job for analysis. The data that
you send to the job must use the JSON format.</p><p>For more information about this API, see
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/ml-post-data.html" target="_top">Post Data to Jobs</a>.</p><h3><a id="_misleading_high_missing_field_counts"></a>Misleading high missing field counts<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>One of the counts associated with a machine learning job is <code class="literal">missing_field_count</code>,
which indicates the number of records that are missing a configured field.</p><p>Since jobs analyze JSON data, the <code class="literal">missing_field_count</code> might be misleading.
Missing fields might be expected due to the structure of the data and therefore
do not generate poor results.</p><p>For more information about <code class="literal">missing_field_count</code>,
see <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/ml-jobstats.html#ml-datacounts" target="_top">Data Counts Objects</a>.</p><h3><a id="_terms_aggregation_size_affects_data_analysis"></a>Terms aggregation size affects data analysis<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>By default, the <code class="literal">terms</code> aggregation returns the buckets for the top ten terms.
You can change this default behavior by setting the <code class="literal">size</code> parameter.</p><p>If you are send pre-aggregated data to a job for analysis, you must ensure
that the <code class="literal">size</code> is configured correctly. Otherwise, some data might not be
analyzed.</p><h3><a id="_fields_named_by_count_or_over_cannot_be_used_to_split_data"></a>Fields named "by", "count", or "over" cannot be used to split data<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>You cannot use the following field names in the <code class="literal">by_field_name</code> or
<code class="literal">over_field_name</code> properties in a job: <code class="literal">by</code>; <code class="literal">count</code>; <code class="literal">over</code>. This limitation
also applies to those properties when you create advanced jobs in Kibana.</p><h3><a id="_jobs_created_in_kibana_use_model_plot_config_and_pre_aggregated_data"></a>Jobs created in Kibana use model plot config and pre-aggregated data<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>If you create single or multi-metric jobs in Kibana, it might enable some
options under the covers that you’d want to reconsider for large or
long-running jobs.</p><p>For example, when you create a single metric job in Kibana, it generally
enables the <code class="literal">model_plot_config</code> advanced configuration option. That configuration
option causes model information to be stored along with the results and provides
a more detailed view into anomaly detection. It is specifically used by the
<span class="strong strong"><strong>Single Metric Viewer</strong></span> in Kibana. When this option is enabled, however, it can
add considerable overhead to the performance of the system. If you have jobs
with many entities, for example data from tens of thousands of servers, storing
this additional model information for every bucket might be problematic. If you
are not certain that you need this option or if you experience performance
issues, edit your job configuration to disable this option.</p><p>For more information, see
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/ml-job-resource.html#ml-apimodelplotconfig" target="_top">Model Plot Config</a>.</p><p>Likewise, when you create a single or multi-metric job in Kibana, in some cases
it uses aggregations on the data that it retrieves from Elasticsearch. One of the
benefits of summarizing data this way is that Elasticsearch automatically distributes
these calculations across your cluster. This summarized data is then fed into
machine learning instead of raw results, which reduces the volume of data that must
be considered while detecting anomalies.  However, if you have two jobs, one of
which uses pre-aggregated data and another that does not, their results might
differ. This difference is due to the difference in precision of the input data.
The machine learning analytics are designed to be aggregation-aware and the likely increase
in performance that is gained by pre-aggregating the data makes the potentially
poorer precision worthwhile. If you want to view or change the aggregations
that are used in your job, refer to the <code class="literal">aggregations</code> property in your datafeed.</p><p>For more information, see <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/ml-datafeed-resource.html" target="_top">Datafeed Resources</a>.</p><h3><a id="_security_integration_2"></a>Security integration<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>When the Elasticsearch security features are enabled, a datafeed stores the roles of the
user who created or updated the datafeed <span class="strong strong"><strong>at that time</strong></span>. This means that if those
roles are updated then the datafeed subsequently runs with the new permissions
that are associated with the roles. However, if the user’s roles are adjusted
after creating or updating the datafeed, the datafeed continues to run with the
permissions that were associated with the original roles. For more information,
see <a class="xref" href="ml-dfeeds.html" title="Datafeeds">Datafeeds</a>.</p><h3><a id="_forecasts_cannot_be_created_for_population_jobs"></a>Forecasts cannot be created for population jobs<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>If you use an <code class="literal">over_field_name</code> property in your job (that is to say, it’s a
<span class="emphasis"><em>population job</em></span>), you cannot create a forecast. If you try to create a forecast
for this type of job, an error occurs. For more information about forecasts,
see <a class="xref" href="ml-overview.html#ml-forecasting" title="Forecasting the future">Forecasting the future</a>.</p><h3><a id="_forecasts_cannot_be_created_for_jobs_that_use_geographic_rare_or_time_functions"></a>Forecasts cannot be created for jobs that use geographic, rare, or time functions<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>If you use any of the following analytical functions in your job, you cannot
create a forecast:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><code class="literal">lat_long</code></li><li class="listitem"><code class="literal">rare</code> and <code class="literal">freq_rare</code></li><li class="listitem"><code class="literal">time_of_day</code> and <code class="literal">time_of_week</code></li></ul></div><p>If you try to create a forecast for this type of job, an error occurs. For more
information about any of these functions, see <a class="xref" href="ml-functions.html" title="Function reference"><em>Function reference</em></a>.</p><h3><a id="_jobs_must_be_stopped_before_upgrades"></a>Jobs must be stopped before upgrades<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>You must stop any machine learning jobs that are running before you start the upgrade
process. For more information, see <a class="xref" href="stopping-ml.html" title="Stopping machine learning anomaly detection"><em>Stopping machine learning anomaly detection</em></a> and
<a class="ulink" href="http://www.elastic.co/guide/en/elastic-stack/7.3/upgrading-elastic-stack.html" target="_top">Upgrading the Elastic Stack</a>.</p><h3><a id="_rollup_indices_and_index_patterns_are_not_supported"></a>Rollup indices and index patterns are not supported<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Rollup indices and index patterns cannot be used in machine learning jobs or
datafeeds. This limitation applies irrespective of whether you create the jobs in
Kibana or by using APIs. In Kibana, if you select an index, saved search, or index
pattern that uses the Rollup feature, the machine learning job creation wizards fail.</p><p>See <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/xpack-rollup.html" target="_top">Rolling up historical data</a>.</p><h3><a id="ml-space-limitations"></a>Machine learning objects do not belong to Kibana spaces<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>If you create <a class="ulink" href="https://www.elastic.co/guide/en/kibana/7.3/xpack-spaces.html" target="_top">spaces</a> in Kibana, you see only the
saved objects that belong to that space. This limited scope does not apply to
machine learning objects; they are visible in all of your spaces.</p><p>However, the Kibana machine learning features interact with some saved objects (such as
index patterns, dashboards, and visualizations) that might not be available in
all spaces. For example:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><span class="experimental">
      [<span class="experimental_title">experimental</span>]
      <span class="detail">This functionality is experimental and may be changed or removed completely in a future release. Elastic will take a best effort approach to fix any issues, but experimental features are not subject to the support SLA of official GA features.</span></span>
 If you upload a file on the <span class="strong strong"><strong>Machine Learning</strong></span> page in Kibana,
the machine learning features identify the file format and field mappings. You can then
optionally import that data into an Elasticsearch index and create an index pattern. This
index pattern belongs to the space that is active when you import the file. If
you want to use the index pattern in other spaces, you must create it as needed.</li><li class="listitem">Likewise, if you use the single-metric, multi-metric, or population job
wizards to create a job in Kibana, you can encounter problems if you subsequently
try to clone the job in a different space. In particular, problems occur when
you try to clone the job in a space that does not contain appropriate index
patterns.</li><li class="listitem">If you used a supplied configuration to create jobs (for example, for Apache
or NGINX web access logs), visualizations and dashboards are automatically
generated. These objects belong to the space that was active when you created
the job. If you change your active space, custom URLs from the machine learning results to
the dashboards or visualizations might fail.</li></ul></div><h3><a id="ml-result-size-limitations"></a>Job and datafeed APIs have a maximum search size<a href="https://github.com/elastic/stack-docs/edit/7.3/docs/en/stack/ml/anomaly-detection/limitations.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>In 6.6 and later releases, the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/ml-get-job.html" target="_top">get jobs API</a> and the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/ml-get-job-stats.html" target="_top">get job statistics API</a> return a maximum of 10,000
jobs. Likewise, the <a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/ml-get-datafeed.html" target="_top">get datafeeds API</a> and the
<a class="ulink" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.3/ml-get-datafeed-stats.html" target="_top">get datafeed statistics API</a> return a maximum of
10,000 datafeeds.</p></div><div class="navfooter"><span class="prev"><a href="ml-upgradedf.html">
              « 
              Upgraded nodes fail to start due to datafeed issues</a>
           
        </span><span class="next">
           
          <a href="ml-dfanalytics.html">Machine learning data frame analytics
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
