<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Elasticsearch breaking changes | Installation and Upgrade Guide [7.0] | Elastic</title>
<link rel="home" href="index.html" title="Installation and Upgrade Guide [7.0]"/>
<link rel="up" href="elastic-stack-breaking-changes.html" title="Breaking changes"/>
<link rel="prev" href="beats-breaking-changes.html" title="Beats breaking changes"/>
<link rel="next" href="elasticsearch-hadoop-breaking-changes.html" title="Elasticsearch Hadoop breaking changes"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Installation and Upgrade/7.0"/>
<meta name="DC.subject" content="Elastic Stack"/>
<meta name="DC.identifier" content="7.0"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Installation and Upgrade Guide [7.0]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="elastic-stack-breaking-changes.html">Breaking changes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="beats-breaking-changes.html">« Beats breaking changes</a>
</span>
<span class="next">
<a href="elasticsearch-hadoop-breaking-changes.html">Elasticsearch Hadoop breaking changes »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="elasticsearch-breaking-changes"></a>Elasticsearch breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.0/docs/en/install-upgrade/breaking.asciidoc">edit</a></h2>
</div></div></div>

<p>This list summarizes the most important breaking changes in Elasticsearch 7.0.1. For
the complete list, go to <a href="/guide/en/elasticsearch/reference/7.0/breaking-changes.html" class="ulink" target="_top">Elasticsearch breaking changes</a>.</p>
<h4><a id="_indices_created_before_7_0"></a>Indices created before 7.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0.asciidoc">edit</a></h4>
<p>Elasticsearch 7.0 can read indices created in version 6.0 or above.  An
Elasticsearch 7.0 node will not start in the presence of indices created in a
version of Elasticsearch before 6.0.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Reindex indices from Elasticsearch 5.x or before</h3>
<p>Indices created in Elasticsearch 5.x or before will need to be reindexed with
Elasticsearch 6.x in order to be readable by Elasticsearch 7.x.</p>
</div>
</div>
<h4><a id="search-max-buckets-cluster-setting"></a><code class="literal">search.max_buckets</code> in the cluster setting<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/aggregations.asciidoc">edit</a></h4>
<p>The dynamic cluster setting named <code class="literal">search.max_buckets</code> now defaults
to 10,000 (instead of unlimited in the previous version).
Requests that try to return more than the limit will fail with an exception.</p>
<h4><a id="_internal_versioning_is_no_longer_supported_for_optimistic_concurrency_control"></a>Internal Versioning is no longer supported for optimistic concurrency control<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/api.asciidoc">edit</a></h4>
<p>Elasticsearch maintains a numeric version field for each document it stores. That field
is incremented by one with every change to the document. Until 7.0.0 the API allowed using
that field for optimistic concurrency control, i.e., making a write operation conditional
on the current document version. Sadly, that approach is flawed because the value of the
version doesn&#8217;t always uniquely represent a change to the document. If a primary fails
while handling a write operation, it may expose a version that will then be reused by the
new primary.</p>
<p>Due to that issue, internal versioning can no longer be used and is replaced by a new
method based on sequence numbers. See
<a href="/guide/en/elasticsearch/reference/7.0/optimistic-concurrency-control.html" class="ulink" target="_top">Optimistic concurrency control</a> for
more details.</p>
<p>Note that the <code class="literal">external</code> versioning type is still fully supported.</p>
<h4><a id="shard-preferences-removed"></a>Shard preferences <code class="literal">_primary</code>, <code class="literal">_primary_first</code>, <code class="literal">_replica</code>, and <code class="literal">_replica_first</code> are removed<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/cluster.asciidoc">edit</a></h4>
<p>These shard preferences are removed in favour of the <code class="literal">_prefer_nodes</code> and <code class="literal">_only_nodes</code> preferences.</p>
<h4><a id="_cluster_wide_shard_soft_limit"></a>Cluster-wide shard soft limit<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/cluster.asciidoc">edit</a></h4>
<p>Clusters now have soft limits on the total number of open shards in the cluster
based on the number of nodes and the <code class="literal">cluster.max_shards_per_node</code> cluster
setting, to prevent accidental operations that would destabilize the cluster.
More information can be found in the
<a href="/guide/en/elasticsearch/reference/7.0/misc-cluster.html" class="ulink" target="_top">documentation for that setting</a>.</p>
<h4><a id="_cluster_bootstrapping_is_required_if_discovery_is_configured"></a>Cluster bootstrapping is required if discovery is configured<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/discovery.asciidoc">edit</a></h4>
<p>The first time a cluster is started, <code class="literal">cluster.initial_master_nodes</code> must be set
to perform cluster bootstrapping. It should contain the names of the
master-eligible nodes in the initial cluster and be defined on every
master-eligible node in the cluster. See
<a href="/guide/en/elasticsearch/reference/7.0/discovery-settings.html" class="ulink" target="_top">the discovery settings summary</a> for an example, and the
<a href="/guide/en/elasticsearch/reference/7.0/modules-discovery-bootstrap-cluster.html" class="ulink" target="_top">cluster bootstrapping reference
documentation</a> describes this setting in more detail.</p>
<p>The <code class="literal">discovery.zen.minimum_master_nodes</code> setting is permitted, but ignored, on
7.x nodes.</p>
<h4><a id="_discovery_configuration_is_required_in_production"></a>Discovery configuration is required in production<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/discovery.asciidoc">edit</a></h4>
<p>Production deployments of Elasticsearch now require at least one of the
following settings to be specified in the <code class="literal">elasticsearch.yml</code> configuration
file:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">discovery.seed_hosts</code>
</li>
<li class="listitem">
<code class="literal">discovery.seed_providers</code>
</li>
<li class="listitem">
<code class="literal">cluster.initial_master_nodes</code>
</li>
<li class="listitem">
<code class="literal">discovery.zen.ping.unicast.hosts</code>
</li>
<li class="listitem">
<code class="literal">discovery.zen.hosts_provider</code>
</li>
</ul>
</div>
<p>The first three settings in this list are only available in versions 7.0 and
above. If you are preparing to upgrade from an earlier version, you must set
<code class="literal">discovery.zen.ping.unicast.hosts</code> or <code class="literal">discovery.zen.hosts_provider</code>.</p>
<h4><a id="_index_creation_no_longer_defaults_to_five_shards"></a>Index creation no longer defaults to five shards<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/indices.asciidoc">edit</a></h4>
<p>Previous versions of Elasticsearch defaulted to creating five shards per index.
Starting with 7.0.0, the default is now one shard per index.</p>
<h4><a id="_ingest_configuration_exception_information_is_now_transmitted_in_metadata_field"></a>Ingest configuration exception information is now transmitted in metadata field<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/ingest.asciidoc">edit</a></h4>
<p>Previously, some ingest configuration exception information about ingest processors
was sent to the client in the HTTP headers, which is inconsistent with how
exceptions are conveyed in other parts of Elasticsearch.</p>
<p>Configuration exception information is now conveyed as a field in the response
body.</p>
<h4><a id="breaking_70_java_time_changes"></a>Replacing Joda-Time with java time<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/java_time.asciidoc">edit</a></h4>
<p>Since Java 8 there is a dedicated <code class="literal">java.time</code> package, which is superior to
the Joda-Time library, that has been used so far in Elasticsearch. One of
the biggest advantages is the ability to be able to store dates in a higher
resolution than milliseconds for greater precision. Also this will allow us
to remove the Joda-Time dependency in the future.</p>
<p>The mappings, aggregations and search code switched from Joda-Time to
java time.</p>
<h4><a id="default-mapping-not-allowed"></a>The <code class="literal">_default_</code> mapping is no longer allowed<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/mappings.asciidoc">edit</a></h4>
<p>The <code class="literal">_default_</code> mapping has been deprecated in 6.0 and is now no longer allowed
in 7.0. Trying to configure a <code class="literal">_default_</code> mapping on 7.x indices will result in
an error.</p>
<h4><a id="_tribe_node_removed"></a>Tribe node removed<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/plugins.asciidoc">edit</a></h4>
<p>Tribe node functionality has been removed in favor of
<a href="/guide/en/elasticsearch/reference/7.0/modules-cross-cluster-search.html" class="ulink" target="_top">cross-cluster search</a>.</p>
<h4><a id="hits-total-now-object-search-response"></a><code class="literal">hits.total</code> is now an object in the search response<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/search.asciidoc">edit</a></h4>
<p>The total hits that match the search request is now returned as an object
with a <code class="literal">value</code> and a <code class="literal">relation</code>. <code class="literal">value</code> indicates the number of hits that
match and <code class="literal">relation</code> indicates whether the value is accurate (<code class="literal">eq</code>) or a lower bound
(<code class="literal">gte</code>):</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
    "hits": {
        "total": {
            "value": 1000,
            "relation": "eq"
        },
        ...
    }
}</pre>
</div>
<p>The <code class="literal">total</code> object in the response indicates that the query matches exactly 1000
documents ("eq"). The <code class="literal">value</code> is always accurate (<code class="literal">"relation": "eq"</code>) when
<code class="literal">track_total_hits</code> is set to true in the request.
You can also retrieve <code class="literal">hits.total</code> as a number in the rest response by adding
<code class="literal">rest_total_hits_as_int=true</code> in the request parameter of the search request.
This parameter has been added to ease the transition to the new format and
will be removed in the next major version (8.0).</p>
<h4><a id="track-total-hits-10000-default"></a><code class="literal">track_total_hits</code> defaults to 10,000<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/search.asciidoc">edit</a></h4>
<p>By default search request will count the total hits accurately up to <code class="literal">10,000</code>
documents. If the total number of hits that match the query is greater than this
 value, the response will indicate that the returned value is a lower bound:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
     "_shards": ...
     "timed_out": false,
     "took": 100,
     "hits": {
         "max_score": 1.0,
         "total" : {
             "value": 10000,    <a id="CO1-1"></a><i class="conum" data-value="1"></i>
             "relation": "gte"  <a id="CO1-2"></a><i class="conum" data-value="2"></i>
         },
         "hits": ...
     }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>There are at least 10000 documents that match the query</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>This is a lower bound (<code class="literal">"gte"</code>).</p>
</td>
</tr>
</table>
</div>
<p>You can force the count to always be accurate by setting <code class="literal">"track_total_hits</code>
to true explicitly in the search request.</p>
<h4><a id="default-node-name-now-hostname"></a>The default for <code class="literal">node.name</code> is now the hostname<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/settings.asciidoc">edit</a></h4>
<p><code class="literal">node.name</code> now defaults to the hostname at the time when Elasticsearch
is started. Previously the default node name was the first eight characters
of the node id. It can still be configured explicitly in <code class="literal">elasticsearch.yml</code>.</p>
<h4><a id="include-realm-type-in-setting"></a>Security realms settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/settings.asciidoc">edit</a></h4>
<p>The settings for all security realms must now include the realm type as part
of the setting name, and the explicit <code class="literal">type</code> setting has been removed.</p>
<p>A realm that was previous configured as:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">xpack.security.authc.realms:
  ldap1:
    type: ldap
    order: 1
    url: "ldaps://ldap.example.com/"</pre>
</div>
<p>Must be migrated to:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">xpack.security.authc.realms:
  ldap.ldap1:
    order: 1
    url: "ldaps://ldap.example.com/"</pre>
</div>
<p>Any realm specific secure settings that have been stored in the elasticsearch
keystore (such as ldap bind passwords, or passwords for ssl keys) must be updated
in a similar way.</p>
<h4><a id="tls-v1-removed"></a>TLS v1.0 disabled<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/migration/migrate_7_0/settings.asciidoc">edit</a></h4>
<p>TLS version 1.0 is now disabled by default as it suffers from
<a href="https://www.owasp.org/index.php/Transport_Layer_Protection_Cheat_Sheet#Rule_-_Only_Support_Strong_Protocols" class="ulink" target="_top">known security issues</a>.
The default protocols are now TLSv1.3 (if supported), TLSv1.2 and TLSv1.1.</p>
<p>You can enable TLS v1.0 by configuring the relevant <code class="literal">ssl.supported_protocols</code>
setting to include <code class="literal">"TLSv1"</code>.
Depending on your local configuration and the TLS protocols that are in use
on your network, you may need to enable TLS v1.0 support in any or all of the
following places:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.security.http.ssl.supported_protocols</code>
</span>
</dt>
<dd>
For incoming HTTP connections to Elasticsearch&#8217;s HTTP (Rest) interface.
If there are clients that connect to Elasticsearch and do not support newer TLS versions,
you must update this setting.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.http.ssl.supported_protocols</code>
</span>
</dt>
<dd>
For outgoing HTTP connections from Watcher.
If you have watches that connect to external HTTP servers and do not support
newer TLS versions, you must update this setting.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.security.authc.realms.ldap.{name}.ssl.supported_protocols</code>
</span>
</dt>
<dd>
For outgoing LDAP connections from Elasticsearch security features.
If you have an LDAP realm enabled and the LDAP directory to which that realm
connects does not support newer TLS versions, you must update this setting.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.security.authc.realms.active_directory.{name}.ssl.supported_protocols</code>
</span>
</dt>
<dd>
For outgoing Active Directory (LDAP) connections from Elasticsearch security features.
If you have an AD realm enabled and the directory server to which that realm
connects does not support newer TLS versions, you must update this setting.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.security.authc.realms.saml.{name}.ssl.supported_protocols</code>
</span>
</dt>
<dd>
For outgoing HTTP connections to retrieve SAML metadata.
If you have a SAML realm enabled and the realm is configured to retrieve
metadata over HTTPS (that is, <code class="literal">idp.metadata.path</code> is a URL starting with
<code class="literal">https://</code>) and the web server which hosts the metadata does not support newer
TLS versions, you must update this setting.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.security.authc.realms.oidc.{name}.ssl.supported_protocols</code>
</span>
</dt>
<dd>
For outgoing HTTP connections to an OpenId Connect Provider.
If you have an OpenId Connect ("oidc") realm enabled and the realm is configured
to connect to a remote OpenID Connect Provider which does not support newer TLS
versions, you must update this setting.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.exporters.{name}.ssl.supported_protocols</code>
</span>
</dt>
<dd>
For remote monitoring data.
If your monitoring data is exported to a remote monitoring cluster and that
cluster is configured to only support TLSv1, you must update this setting.
</dd>
<dt>
<span class="term">
<code class="literal">reindex.ssl.supported_protocols</code>
</span>
</dt>
<dd>
For reindex from remote.
If you reindex data from a remote Elasticsearch cluster which has SSL enabled on the
<code class="literal">http</code> interface and that cluster is configured to only support TLSv1, you must
update this setting.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.security.transport.ssl.supported_protocols</code>
</span>
</dt>
<dd>
For incoming connections between Elasticsearch nodes. If you have specialized network
equipment which inspects TLS packets between your nodes, and that equipment
enforces TLSv1 you must update this setting.
</dd>
</dl>
</div>
<p>The following is an example that enables TLS v1.0 for incoming HTTP connections:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">xpack.security.http.ssl.supported_protocols: [ "TLSv1.3", "TLSv1.2", "TLSv1.1", "TLSv1" ]</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="beats-breaking-changes.html">« Beats breaking changes</a>
</span>
<span class="next">
<a href="elasticsearch-hadoop-breaking-changes.html">Elasticsearch Hadoop breaking changes »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
