<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Elasticsearch breaking changes | Installation and Upgrade Guide [7.11] | Elastic</title>
<meta class="elastic" name="content" content="Elasticsearch breaking changes | Installation and Upgrade Guide [7.11]">

<link rel="home" href="index.html" title="Installation and Upgrade Guide [7.11]"/>
<link rel="up" href="elastic-stack-breaking-changes.html" title="Breaking changes"/>
<link rel="prev" href="beats-breaking-changes.html" title="Beats breaking changes"/>
<link rel="next" href="elasticsearch-hadoop-breaking-changes.html" title="Elasticsearch Hadoop breaking changes"/>
<meta class="elastic" name="product_version" content="7.11"/>
<meta class="elastic" name="product_name" content="Elastic Stack"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Installation and Upgrade/7.11"/>
<meta name="DC.subject" content="Elastic Stack"/>
<meta name="DC.identifier" content="7.11"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="beats-breaking-changes.html">« Beats breaking changes</a>
</span>
<span class="next">
<a href="elasticsearch-hadoop-breaking-changes.html">Elasticsearch Hadoop breaking changes »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Installation and Upgrade Guide [7.11]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elastic-stack-breaking-changes.html">Breaking changes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Elasticsearch breaking changes</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.11/docs/en/install-upgrade/breaking.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/release-notes/elasticsearch/breaking-changes">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="elasticsearch-breaking-changes"></a>Elasticsearch breaking changes</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.11/docs/en/install-upgrade/breaking.asciidoc">edit</a></div>
</div></div></div>

<p>This list summarizes the most important breaking changes in Elasticsearch 7.11.2. For
the complete list, go to <a href="/guide/en/elasticsearch/reference/7.11/breaking-changes.html" class="ulink" target="_top">Elasticsearch breaking changes</a>.</p>
<div class="position-relative"><h3><a id="breaking_711_ml_changes"></a>Machine learning changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.11/docs/reference/migration/migrate_7_11.asciidoc">edit</a></div>
<details>
<summary class="title">The trained models API parameter <code class="literal">for_export</code> is now renamed to <code class="literal">exclude_generated</code>.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <a href="/guide/en/elasticsearch/reference/7.11/get-trained-models.html" class="ulink" target="_top">get trained models API</a> no longer accepts <code class="literal">for_export</code>.
Use <code class="literal">exclude_generated</code> instead.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_711_rest_changes"></a>REST API changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.11/docs/reference/migration/migrate_7_11.asciidoc">edit</a></div>
<details>
<summary class="title">REST APIs that do not use a request body now return an error if a body is provided.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Several Elasticsearch REST APIs do not use a request body. In previous versions, you
could provide a request body when calling these APIs, and Elasticsearch would ignore the
body. These APIs now return an error if you provide a request body, even if
empty.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Update your application or workflow to avoid sending unneeded request bodies
in REST API requests.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_711_search_changes"></a>Search changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.11/docs/reference/migration/migrate_7_11.asciidoc">edit</a></div>
<details id="highlight-normalization">
<summary class="title">Keyword fields with a custom normalizer will use the normalized form when highlighting.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Highlighters now use the same framework to load their values as the
<code class="literal">fields</code> section of a search response.  This means that normalization
will be applied to the values of a keyword field; for example, a
field configured with a lowercase normalizer will return highlighted
snippets in lower case.</p>
</div>
</details>
<details id="text-subfields">
<summary class="title">Internal fields used for text search acceleration are hidden.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Text fields can add internal subfields using extra analysis to speed
up prefix and phrase searches. Previously these were exposed to
the field caps API and were available for searching directly. However,
they did not implement all query types and could return bad results
or throw errors if used via the query DSL. These subfields are now
internal only and cannot be invoked as searchable fields in queries.</p>
</div>
</details>
<details id="significant-text-non-text-fields">
<summary class="title">The significant text aggregation now throws an error if applied to a numeric field.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The significant text aggregation could previously be applied to a fields that
were defined as numeric, which made little sense and would always return an
empty result. Given that applying a text-specific aggregation to a non-text
field is almost certainly a mistake, this has now been changed to throw an
error.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_711_transform_changes"></a>Transform changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.11/docs/reference/migration/migrate_7_11.asciidoc">edit</a></div>
<details>
<summary class="title">Transforms now write <code class="literal">group_by</code> dates as strings.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Transforms now write dates used in a <code class="literal">group_by</code> as formatted ISO strings instead
of <code class="literal">epoch_millis</code> values. Previously constructed transforms will still use
<code class="literal">epoch_millis</code> values. You can configure and change the output format in the
settings of the transform.</p>
</div>
</details>
<details id="deprecate-unsafely_permit_handshake_from_incompatible_builds">
<summary class="title">The <code class="literal">es.unsafely_permit_handshake_from_incompatible_builds</code> system property is deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">es.unsafely_permit_handshake_from_incompatible_builds</code> system property is
now deprecated.</p>
<p>Elasticsearch verifies that communicating pairs of nodes of the same version are running
the same build and using the same wire format. You can bypass this check by
setting <code class="literal">es.unsafely_permit_handshake_from_incompatible_builds</code> to <code class="literal">true</code>.
Skipping this check is unsafe and not recommended.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, discontinue use of the system property. Instead
ensure that all nodes of the same version are running the same build.</p>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="beats-breaking-changes.html">« Beats breaking changes</a>
</span>
<span class="next">
<a href="elasticsearch-hadoop-breaking-changes.html">Elasticsearch Hadoop breaking changes »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
