<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Elasticsearch breaking changes | Installation and Upgrade Guide [7.7] | Elastic</title>
<meta class="elastic" name="content" content="Elasticsearch breaking changes | Installation and Upgrade Guide [7.7]">

<link rel="home" href="index.html" title="Installation and Upgrade Guide [7.7]"/>
<link rel="up" href="elastic-stack-breaking-changes.html" title="Breaking changes"/>
<link rel="prev" href="beats-breaking-changes.html" title="Beats breaking changes"/>
<link rel="next" href="elasticsearch-hadoop-breaking-changes.html" title="Elasticsearch Hadoop breaking changes"/>
<meta class="elastic" name="product_version" content="7.7"/>
<meta class="elastic" name="product_name" content="Elastic Stack"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Installation and Upgrade/7.7"/>
<meta name="DC.subject" content="Elastic Stack"/>
<meta name="DC.identifier" content="7.7"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="beats-breaking-changes.html">« Beats breaking changes</a>
</span>
<span class="next">
<a href="elasticsearch-hadoop-breaking-changes.html">Elasticsearch Hadoop breaking changes »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Installation and Upgrade Guide [7.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elastic-stack-breaking-changes.html">Breaking changes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Elasticsearch breaking changes</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.7/docs/en/install-upgrade/breaking.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="elasticsearch-breaking-changes"></a>Elasticsearch breaking changes</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.7/docs/en/install-upgrade/breaking.asciidoc">edit</a></div>
</div></div></div>

<p>This list summarizes the most important breaking changes in Elasticsearch 7.7.1. For
the complete list, go to <a href="/guide/en/elasticsearch/reference/7.7/breaking-changes.html" class="ulink" target="_top">Elasticsearch breaking changes</a>.</p>
<div class="position-relative"><h3><a id="breaking_77_tls_changes"></a>Security changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<details id="tls-ssl-transport-enabled-required">
<summary class="title">The <code class="literal">xpack.security.transport.ssl.enabled</code> setting will be required to configure <code class="literal">xpack.security.transport.ssl</code> settings.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Configuring any SSL settings for
<code class="literal">xpack.security.transport.ssl</code> without also configuring
<code class="literal">xpack.security.transport.ssl.enabled</code> generates warnings in the deprecation
log. In 8.0, this configuration will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, either:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Explicitly set <code class="literal">xpack.security.transport.ssl.enabled</code> as <code class="literal">false</code>
</li>
<li class="listitem">
Discontinue use of other <code class="literal">xpack.security.transport.ssl</code> settings
</li>
</ul>
</div>
<p>If you want to enable SSL, follow the instructions to
<a href="/guide/en/elasticsearch/reference/7.7/configuring-tls.html#tls-transport" class="ulink" target="_top">encrypt communications between nodes</a>. As part of this configuration, explicitly set
<code class="literal">xpack.security.transport.ssl.enabled</code> as <code class="literal">true</code>.</p>
<p>For example:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">xpack.security.transport.ssl.enabled: true <a id="CO1-1"></a><i class="conum" data-value="1"></i>
xpack.security.transport.ssl.keystore.path: elastic-certificates.p12
xpack.security.transport.ssl.truststore.path: elastic-certificates.p12</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>or <code class="literal">false</code>.</p>
</td>
</tr>
</table>
</div>
</div>
</details>
<details id="tls-ssl-http-enabled-required">
<summary class="title">The <code class="literal">xpack.security.http.ssl.enabled</code> setting will be required to configure <code class="literal">xpack.security.http.ssl</code> settings.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Configuring any SSL settings for <code class="literal">xpack.security.http.ssl</code> without also
configuring <code class="literal">xpack.security.http.ssl.enabled</code> generates warnings in the
deprecation log. In 8.0, this configuration will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, either:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Explicitly set <code class="literal">xpack.security.http.ssl.enabled</code> as <code class="literal">false</code>
</li>
<li class="listitem">
Discontinue use of other <code class="literal">xpack.security.http.ssl</code> settings
</li>
</ul>
</div>
<p>If you want to enable SSL, follow the instructions to
<a href="/guide/en/elasticsearch/reference/7.7/configuring-tls.html#tls-http" class="ulink" target="_top">encrypt HTTP client communications for Elasticsearch</a>. As part
of this configuration, explicitly set <code class="literal">xpack.security.http.ssl.enabled</code>
as <code class="literal">true</code>.</p>
<p>For example:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">xpack.security.http.ssl.enabled: true <a id="CO2-1"></a><i class="conum" data-value="1"></i>
xpack.security.http.ssl.certificate: elasticsearch.crt
xpack.security.http.ssl.key: elasticsearch.key
xpack.security.http.ssl.certificate_authorities: [ "corporate-ca.crt" ]</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>or <code class="literal">false</code>.</p>
</td>
</tr>
</table>
</div>
</div>
</details>
<details id="tls-ssl-transport-cert-required">
<summary class="title">A <code class="literal">xpack.security.transport.ssl</code> certificate and key will be required to enable SSL for the transport interface.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Enabling SSL for the transport interface without also configuring a certificate
and key through use of the <code class="literal">xpack.security.transport.ssl.keystore.path</code>
setting or the <code class="literal">xpack.security.transport.ssl.certificate</code> and
<code class="literal">xpack.security.transport.ssl.key</code> settings generates warnings in the
deprecation log. In 8.0, this configuration will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If <code class="literal">xpack.security.transport.ssl.enabled</code> is set to <code class="literal">true</code>, provide a
certificate and key using the <code class="literal">xpack.security.transport.ssl.keystore.path</code>
setting or the <code class="literal">xpack.security.transport.ssl.certificate</code> and
<code class="literal">xpack.security.transport.ssl.key</code> settings. If a certificate and key is not
provided, Elasticsearch will generate warnings in the deprecation log.</p>
</div>
</details>
<details id="tls-ssl-http-cert-required">
<summary class="title">A <code class="literal">xpack.security.http.ssl</code> certificate and key will be required to enable SSL for the HTTP layer.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Enabling SSL for the HTTP layer without also configuring a certificate and key
through use of the <code class="literal">xpack.security.http.ssl.keystore.path</code> setting or
the <code class="literal">xpack.security.http.ssl.certificate</code> and <code class="literal">xpack.security.http.ssl.key</code>
settings generates warnings in the deprecation log. In 8.0, this configuration
will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If <code class="literal">xpack.security.http.ssl.enabled</code> is set to <code class="literal">true</code>, provide a
certificate and key using the <code class="literal">xpack.security.http.ssl.keystore.path</code>
setting or the <code class="literal">xpack.security.http.ssl.certificate</code> and
<code class="literal">xpack.security.http.ssl.key</code> settings. If a certificate and key is not
provided, Elasticsearch will generate warnings in the deprecation log.</p>
</div>
</details>
<div class="position-relative"><h3><a id="breaking_77_indices_deprecations"></a>Indices deprecations</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_translog_retention_settings_are_deprecated"></a>Translog retention settings are deprecated.</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>The <code class="literal">index.translog.retention.age</code> and <code class="literal">index.translog.retention.size</code> index
settings are now deprecated. These settings have been ignored since 7.4 in favor
of <a href="/guide/en/elasticsearch/reference/7.7/index-modules-history-retention.html" class="ulink" target="_top">soft deletes</a>.</p>
<p>To avoid deprecation warnings, discontinue use of the settings.</p>
<div class="position-relative"><h3><a id="breaking_77_logging_changes"></a>Logging changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_loggers_under_org_elasticsearch_action_now_log_at_info_level_by_default"></a>Loggers under <code class="literal">org.elasticsearch.action</code> now log at <code class="literal">INFO</code> level by default</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>The default log level for most loggers is <code class="literal">INFO</code>, but in earlier versions
loggers in the <code class="literal">org.elasticsearch.action.*</code> hierarchy emitted log messages at
<code class="literal">DEBUG</code> level by default. This sometimes resulted in a good deal of unnecessary
log noise. From 7.7 onwards the default log level for logger in this hierarchy
is now <code class="literal">INFO</code>, in line with most other loggers. If needed, you can recover the
pre-7.7 default behaviour by adjusting your <a href="/guide/en/elasticsearch/reference/7.7/logging.html" class="ulink" target="_top">logging</a>.</p>
<div class="position-relative"><h3><a id="breaking_77_mapping_changes"></a>Mapping changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="stricter-mapping-validation"></a>Validation for dynamic templates</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>So far misconfiguration of dynamic templates have been discovered when indexing
a document with an unmapped field only. In Elasticsearch 8.0 and later versions, dynamic mappings
have stricter validation, done at mapping update time. Invalid updates, such as using
incorrect analyzer settings or unknown field types, fail. For
indices created in Elasticsearch 7.7 and later version, the update succeeds but emits a warning.</p>
<div class="position-relative"><h3><a id="breaking_77_settings_changes"></a>Settings changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="deprecate-listener-thread-pool"></a><code class="literal">thread_pool.listener.size</code> and <code class="literal">thread_pool.listener.queue_size</code> have been deprecated</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>The listener thread pool is no longer used internally by Elasticsearch.
Therefore, these settings have been deprecated. You can safely remove these
settings from the configuration of your nodes.</p>
<div class="position-relative"><h4><a id="deprecate-cluster-remote-connect"></a><code class="literal">cluster.remote.connect</code> is deprecated in favor of <code class="literal">node.remote_cluster_client</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>Previously the setting <code class="literal">cluster.remote.connect</code> was used to configure whether or
not the local node is capable of acting as a remote cluster client in
cross-cluster search and cross-cluster replication. This setting is deprecated
in favor of <code class="literal">node.remote_cluster_client</code> serves the same purpose and identifies
the local node as having the <code class="literal">remote_cluster_client</code> role.</p>
<div class="position-relative"><h4><a id="deprecate-missing-realm-order"></a>Authentication realm <code class="literal">order</code> will be a required config in version 8.0.0.</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>The <code class="literal">order</code> config will be required in version 8.0.0 for authentication realm
configuration of any type. If the <code class="literal">order</code> config is missing for a realm, the node
will fail to start.</p>
<div class="position-relative"><h4><a id="deprecate-duplicated-realm-orders"></a>Authentication realm <code class="literal">order</code> uniqueness will be enforced in version 8.0.0.</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>The <code class="literal">order</code> config of authentication realms must be unique in version 8.0.0.
If you configure more than one realm of any type with the same order, the node will fail to start.</p>
<div class="position-relative"><h4><a id="deprecate-insecure-monitoring-password"></a>Deprecation of insecure monitoring password setting</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>The <code class="literal">auth.password</code> setting for the monitoring HTTP exporter has been deprecated and will be
removed in version 8.0.0. Please use the <code class="literal">auth.secure_password</code> setting instead.</p>
<div class="position-relative"><h4><a id="deprecate-defer-cluster-recovery-settings"></a>Settings used to defer cluster recovery pending a certain number of master nodes are deprecated.</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>The following cluster settings are now deprecated:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">gateway.expected_nodes</code>
</li>
<li class="listitem">
<code class="literal">gateway.expected_master_nodes</code>
</li>
<li class="listitem">
<code class="literal">gateway.recover_after_nodes</code>
</li>
<li class="listitem">
<code class="literal">gateway.recover_after_master_nodes</code>
</li>
</ul>
</div>
<p>It is safe to recover the cluster as soon as a majority of master-eligible nodes
have joined. There is no benefit in waiting for any additional master-eligible
nodes to start.</p>
<p>To avoid deprecation warnings, discontinue use of the deprecated settings. If
needed, use <code class="literal">gateway.expected_data_nodes</code> or <code class="literal">gateway.recover_after_data_nodes</code>
to defer cluster recovery pending a certain number of data nodes.</p>
<div class="position-relative"><h3><a id="breaking_77_search_changes"></a>Search changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_consistent_rounding_of_range_queries_on_date_range_fields"></a>Consistent rounding of range queries on <code class="literal">date_range</code> fields</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p><code class="literal">range</code> queries on <code class="literal">date_range</code> field currently can have slightly differently
boundaries than their equivalent query on a pure <code class="literal">date</code> field. This can e.g.
happen when using date math or dates that don&#8217;t specify up to the last
millisecond. While queries on <code class="literal">date</code> field round up to the latest millisecond
for <code class="literal">gt</code> and <code class="literal">lte</code> boundaries, the same queries on <code class="literal">date_range</code> fields didn&#8217;t
do this. The behavior is now the same for both field types like documented in
<a href="/guide/en/elasticsearch/reference/7.7/query-dsl-range-query.html#range-query-date-math-rounding" class="ulink" target="_top">Date math and rounding</a>.</p>
<div class="position-relative"><h4><a id="_pipeline_aggregation_validation_errors"></a>Pipeline aggregation validation errors</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>The pipeline aggregation validation has been moved to the coordinating node.
Those errors that used to return HTTP 500s/Internal Server Errors now return
400/Bad Request and we now return a list of validation errors rather than the
first one we encounter.</p>
<div class="position-relative"><h3><a id="breaking_77_highlighters_changes"></a>Highlighters changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_ignored_keyword_values_are_no_longer_highlighted"></a>Ignored keyword values are no longer highlighted</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/migration/migrate_7_7.asciidoc">edit</a></div>
<p>If a keyword value was ignored during indexing because of its length
(<code class="literal">ignore_above</code> parameter was applied), Elasticsearch doesn&#8217;t attempt to
highlight it anymore, which means no highlights are produced for
ignored values.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="beats-breaking-changes.html">« Beats breaking changes</a>
</span>
<span class="next">
<a href="elasticsearch-hadoop-breaking-changes.html">Elasticsearch Hadoop breaking changes »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
