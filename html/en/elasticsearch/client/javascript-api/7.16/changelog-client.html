<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Release notes | Elasticsearch JavaScript Client [7.16] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch JavaScript Client [7.16]"/>
<link rel="up" href="index.html" title="Elasticsearch JavaScript Client [7.16]"/>
<link rel="prev" href="client-helpers.html" title="Client helpers"/>
<link rel="next" href="auth-reference.html" title="Authentication"/>
<meta name="DC.type" content="Learn/Docs/Clients/JavaScript/7.16"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="7.16"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch JavaScript Client [7.16]</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="client-helpers.html">« Client helpers</a>
</span>
<span class="next">
<a href="auth-reference.html">Authentication »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="changelog-client"></a>Release notes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h1>
</div></div></div>
<h3><a id="_7_16_0"></a>7.16.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_features_2"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_support_for_elasticsearch_v7_16"></a>Support for Elasticsearch <code class="literal">v7.16</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can find all the API changes
<a href="/guide/en/elasticsearch/reference/7.16/release-notes-7.16.0.html" class="ulink" target="_top">here</a>.</p>
<h4><a id="_fixes"></a>Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_fixed_cannot_read_property_then_of_null_1594"></a>Fixed "Cannot read property <em>then</em> of null" <a href="https://github.com/elastic/elasticsearch-js/pull/1594" class="ulink" target="_top">#1594</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<h5><a id="_fixed_export_field_deprecation_log_1593"></a>Fixed export field deprecation log <a href="https://github.com/elastic/elasticsearch-js/pull/1593#" class="ulink" target="_top">#1593</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<h3><a id="_7_15_0"></a>7.15.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_features_3"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_support_for_elasticsearch_v7_15"></a>Support for Elasticsearch <code class="literal">v7.15</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can find all the API changes
<a href="/guide/en/elasticsearch/reference/7.15/release-notes-7.15.0.html" class="ulink" target="_top">here</a>.</p>
<h5><a id="_support_mapbox_content_type_1500"></a>Support mapbox content type <a href="https://github.com/elastic/elasticsearch-js/pull/1500" class="ulink" target="_top">#1500</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>If you call an API that returns a mapbox conten type, the response body will be a buffer.</p>
<h5><a id="_support_ca_fingerprint_validation_1499"></a>Support CA fingerprint validation <a href="https://github.com/elastic/elasticsearch-js/pull/1499" class="ulink" target="_top">#1499</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can configure the client to only trust certificates that are signed by a specific CA certificate ( CA certificate pinning ) by providing a <code class="literal">caFingerprint</code> option. This will verify that the fingerprint of the CA certificate that has signed the certificate of the server matches the supplied value.
a <code class="literal">caFingerprint</code> option, which will verify the supplied certificate authority fingerprint.
You must configure a SHA256 digest.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')
const client = new Client({
  node: 'https://example.com'
  auth: { ... },
  // the fingerprint (SHA256) of the CA certificate that is used to sign the certificate that the Elasticsearch node presents for TLS.
  caFingerprint: '20:0D:CA:FA:76:...',
  ssl: {
    // might be required if it's a self-signed certificate
    rejectUnauthorized: false
  }
})</pre>
</div>
<h5><a id="_show_the_body_as_string_if_the_response_error_cant_be_read_as_es_error_1509"></a>Show the body as string if the response error can&#8217;t be read as ES error  <a href="https://github.com/elastic/elasticsearch-js/pull/1509" class="ulink" target="_top">#1509</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Useful if the errored response does not come from Elasticsearch, but a proxy in the middle for example.</p>
<h5><a id="_always_display_request_params_and_options_in_request_event_1531"></a>Always display request params and options in request event <a href="https://github.com/elastic/elasticsearch-js/pull/1531" class="ulink" target="_top">#1531</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>In some edge cases the params and options weren&#8217;t available in observabilty events, now they are always defined.</p>
<h5><a id="_always_emit_request_aborted_event_1534"></a>Always emit request aborted event <a href="https://github.com/elastic/elasticsearch-js/pull/1534" class="ulink" target="_top">#1534</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>If the client is busy running an async operation, the <code class="literal">.abort()</code> call might be executed before sending the actual request. In such case, the error was swallowed, now it will always be emitted, either in the <code class="literal">request</code> or <code class="literal">response</code> event.</p>
<h3><a id="_7_14_0"></a>7.14.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_features_4"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_support_for_elasticsearch_v7_14"></a>Support for Elasticsearch <code class="literal">v7.14</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can find all the API changes
<a href="/guide/en/elasticsearch/reference/7.14/release-notes-7.14.0.html" class="ulink" target="_top">here</a>.</p>
<h5><a id="_verify_connection_to_elasticsearch_1487"></a>Verify connection to Elasticsearch <a href="https://github.com/elastic/elasticsearch-js/pull/1487" class="ulink" target="_top">#1487</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>The client will verify if it&#8217;s working with a supported release of Elasticsearch.
Elastic language clients are guaranteed to be able to communicate with Elasticsearch or Elastic solutions running on the same major version and greater or equal minor version.</p>
<p>Language clients are forward compatible; meaning that clients support communicating with greater minor versions of Elasticsearch. Elastic language clients are not guaranteed to be backwards compatible.</p>
<h5><a id="_add_api_compatibility_header_support_1478"></a>Add api compatibility header support <a href="https://github.com/elastic/elasticsearch-js/pull/1478" class="ulink" target="_top">#1478</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>If you configure the <code class="literal">ELASTIC_CLIENT_APIVERSIONING</code> to <code class="literal">true</code> the client will send a compatibility header
to allow you to use a 7.x client against a 8.x cluster. In this way it will be easier to migrate your code to a newer release of Elasticsearch.</p>
<h5><a id="_add_support_for_bearer_auth_1488"></a>Add support for bearer auth <a href="https://github.com/elastic/elasticsearch-js/pull/1488" class="ulink" target="_top">#1488</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Bearer authentication, useful for <a href="/guide/en/elasticsearch/reference/current/security-api-create-service-token.html" class="ulink" target="_top">service account tokens</a>.
Be aware that it does not handle automatic token refresh:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">auth: {
  bearer: 'token'
}</pre>
</div>
<h5><a id="_bulk_update_improvements_1428"></a>Bulk update improvements <a href="https://github.com/elastic/elasticsearch-js/pull/1428" class="ulink" target="_top">#1428</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>The final stats object will let you know how many <code class="literal">noop</code> operations happened.
Also, a new <code class="literal">.stats</code> getter has been added to allow you to read the stats before
the operation finishes.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const b = client.helpers.bulk({ ... })
...
console.log(b.stats)</pre>
</div>
<h3><a id="_7_13_0"></a>7.13.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_breaking_changes_2"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_remove_node_js_v10_support_1471"></a>Remove Node.js v10 support <a href="https://github.com/elastic/elasticsearch-js/pull/1471" class="ulink" target="_top">#1471</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>According to our
<a href="/guide/en/elasticsearch/client/javascript-api/current/installation.html#nodejs-support" class="ulink" target="_top">support matrix</a>.</p>
<h4><a id="_features_5"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_support_for_elasticsearch_v7_13"></a>Support for Elasticsearch <code class="literal">v7.13</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can find all the API changes
<a href="/guide/en/elasticsearch/reference/7.13/release-notes-7.13.0.html" class="ulink" target="_top">here</a>.</p>
<h5><a id="_added_new_typescript_definitions"></a>Added new TypeScript definitions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>The new type definition is more advanced compared to the legacy one.
In the legacy type definitions you were expected to configure via generics both request and response bodies.
The new type definitions comes with a complete type definition for every Elasticsearch endpoint.</p>
<p>You can see how to use them now <a href="/guide/en/elasticsearch/client/javascript-api/current/typescript.html" class="ulink" target="_top">here</a>.</p>
<h5><a id="_improve_response_error_message_1457"></a>Improve response error message <a href="https://github.com/elastic/elasticsearch-js/pull/1457" class="ulink" target="_top">#1457</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>In case of Elasticsearch errors, now the error message show more info about the underlying issue,
improving the debugging experience.</p>
<h4><a id="_fixes_2"></a>Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_catch_head_errors_1460"></a>Catch HEAD errors <a href="https://github.com/elastic/elasticsearch-js/pull/1460" class="ulink" target="_top">#1460</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>In case of http errors in HEAD request, the client was swalling the response body.
This is now fixed and in case of error you will get the full body response.</p>
<h3><a id="_7_12_0"></a>7.12.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_breaking_changes_3"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_remove_node_js_v8_support_1402"></a>Remove Node.js v8 support <a href="https://github.com/elastic/elasticsearch-js/pull/1402" class="ulink" target="_top">#1402</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>According to our
<a href="/guide/en/elasticsearch/client/javascript-api/current/installation.html#nodejs-support" class="ulink" target="_top">support matrix</a>.</p>
<h4><a id="_features_6"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_support_for_elasticsearch_v7_12"></a>Support for Elasticsearch <code class="literal">v7.12</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can find all the API changes
<a href="/guide/en/elasticsearch/reference/7.12/release-notes-7.12.0.html" class="ulink" target="_top">here</a>.</p>
<h5><a id="_add_support_for_transport_options_to_all_helpers_1400"></a>Add support for transport options to all helpers <a href="https://github.com/elastic/elasticsearch-js/pull/1400" class="ulink" target="_top">#1400</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can now pass Transport specific options to the helpers as well.</p>
<h4><a id="_fixes_3"></a>Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_add_finally_method_to_the_promise_api_1415"></a>Add <code class="literal">.finally</code> method to the Promise API <a href="https://github.com/elastic/elasticsearch-js/pull/1415" class="ulink" target="_top">#1415</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>The client returns a thenable object when you are not configuring a callback.
Now the thenable offers a <code class="literal">.finally</code> method as well.</p>
<h3><a id="_7_11_0"></a>7.11.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_features_7"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_support_for_elasticsearch_v7_11"></a>Support for Elasticsearch <code class="literal">v7.11</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can find all the API changes
<a href="/guide/en/elasticsearch/reference/7.11/release-notes-7.11.0.html" class="ulink" target="_top">here</a>.</p>
<h5><a id="_added_new_observability_events_1365"></a>Added new observability events <a href="https://github.com/elastic/elasticsearch-js/pull/1365" class="ulink" target="_top">#1365</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Two new observability events has been introduced: <code class="literal">serialization</code> and
<code class="literal">deserialization</code>. The event order is described in the following graph, in some
edge cases, the order is not guaranteed. You can find in
<a href="https://github.com/elastic/elasticsearch-js/blob/master/test/acceptance/events-order.test.js" class="ulink" target="_top"><code class="literal">test/acceptance/events-order.test.js</code></a>
how the order changes based on the situation.</p>
<pre class="screen">serialization
  │
  │ (serialization and compression happens between those two events)
  │
  └─▶ request
        │
        │ (actual time spent over the wire)
        │
        └─▶ deserialization
              │
              │ (deserialization and decompression happens between those two events)
              │
              └─▶ response</pre>
<h5><a id="_added_x_elastic_client_meta_header_1373"></a>Added x-elastic-client-meta header <a href="https://github.com/elastic/elasticsearch-js/pull/1373" class="ulink" target="_top">#1373</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Adds the <code class="literal">x-elastic-client-meta</code> HTTP header which is used by Elastic Cloud and
can be disabled with the <code class="literal">enableMetaHeader</code> parameter set to <code class="literal">false</code>.</p>
<h4><a id="_fixes_4"></a>Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_fixes_req_abort_with_a_body_that_is_a_stream_calls_callbackerr_twice_1376"></a>Fixes req.abort() with a body that is a stream calls callback(err) twice <a href="https://github.com/elastic/elasticsearch-js/pull/1376" class="ulink" target="_top">#1376</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>When using a body that is a stream to client.search(), and calling req.abort(),
the callback is called twice. Once for the RequestAbortedError, as expected, and
once for a "premature close" error from end-of-stream, used by pump, used by the
client. This issue has now been fixed.</p>
<h3><a id="_7_10_0"></a>7.10.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_features_8"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_support_for_elasticsearch_v7_10"></a>Support for Elasticsearch <code class="literal">v7.10</code>.<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can find all the API changes
<a href="/guide/en/elasticsearch/reference/7.10/release-notes-7.10.0.html" class="ulink" target="_top">here</a>.</p>
<h5><a id="_added_proxy_support_1260"></a>Added proxy support <a href="https://github.com/elastic/elasticsearch-js/pull/1260" class="ulink" target="_top">#1260</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>If you need to pass through an http(s) proxy for connecting to Elasticsearch, the client
offers out of the box a handy configuration for helping you with it. Under the
hood it uses the <a href="https://github.com/delvedor/hpagent" class="ulink" target="_top"><code class="literal">hpagent</code></a> module.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const client = new Client({
  node: 'http://localhost:9200',
  proxy: 'http://localhost:8080'
})</pre>
</div>
<p>Basic authentication is supported as well:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const client = new Client({
  node: 'http://localhost:9200',
  proxy: 'http://user:pwd@localhost:8080'
})</pre>
</div>
<h4><a id="_fixes_5"></a>Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_scroll_search_should_clear_the_scroll_at_the_end_1331"></a>Scroll search should clear the scroll at the end <a href="https://github.com/elastic/elasticsearch-js/pull/1331" class="ulink" target="_top">#1331</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>From now on the scroll search helper will automatically close the scroll on
Elasticsearch, by doing so, Elasticsearch will free resources faster.</p>
<h5><a id="_handle_connectivity_issues_while_reading_the_body_1343"></a>Handle connectivity issues while reading the body <a href="https://github.com/elastic/elasticsearch-js/pull/1343" class="ulink" target="_top">#1343</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>It might happen that the underlying socket stops working due to an external
cause while reading the body. This could lead to an unwanted
<code class="literal">DeserialzationError</code>. From now, this will be handled as a generic
<code class="literal">ConnectionError</code>.</p>
<h4><a id="_warnings"></a>Warnings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_add_warning_log_about_nodejs_version_support_1349"></a>Add warning log about nodejs version support <a href="https://github.com/elastic/elasticsearch-js/pull/1349" class="ulink" target="_top">#1349</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p><code class="literal">7.11</code> will be the last version of the client that will support Node.js v8,
while <code class="literal">7.12</code> will be the last one that supports Node.js v10. If you are using
this versions you will see a <code class="literal">DeprecationWaring</code> in your logs. We strongly
recommend to upgrade to newer versions of Node.js as usng an EOL version will
expose you to securty risks.</p>
<p>Please refer to <a href="https://ela.st/nodejs-support" class="ulink" target="_top">ela.st/nodejs-support</a> for
additional information.</p>
<h3><a id="_7_9_1"></a>7.9.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_fixes_6"></a>Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_improve_child_performances_1314"></a>Improve child performances <a href="https://github.com/elastic/elasticsearch-js/pull/1314" class="ulink" target="_top">#1314</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>The client code has been refactored to speed up the performances of the child
method. Before this pr, creating many children per second would have caused a
high memory consumption and a spike in CPU usage. This pr changes the way the
client is created by refactoring the code generation, now the clients methods
are no longer added to the instance with a for loop but via prototypal
inheritance. Thus, the overall performances are way better, now creating a child
is ~5 times faster, and it consumes ~70% less memory.</p>
<p>This change should not cause any breaking change unless you were mocking the
client methods. In such case you should refactor it, or use
<a href="https://github.com/elastic/elasticsearch-js-mock" class="ulink" target="_top">elasticsearch-js-mock</a>.</p>
<p>Finally, this change should also fix once and of all the bundlers support.</p>
<h5><a id="_throw_all_errors_asynchronously_1295"></a>Throw all errors asynchronously <a href="https://github.com/elastic/elasticsearch-js/pull/1295" class="ulink" target="_top">#1295</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Some validation errors were thrown synchronously, causing the callback to be
called in th same tick. This issue is known as <em>"The release fo Zalgo"</em> (see
<a href="https://blog.izs.me/2013/08/designing-apis-for-asynchrony" class="ulink" target="_top">here</a>).</p>
<h5><a id="_fix_maxretries_request_option_handling_1296"></a>Fix <code class="literal">maxRetries</code> request option handling <a href="https://github.com/elastic/elasticsearch-js/pull/1296" class="ulink" target="_top">#1296</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>The <code class="literal">maxRetries</code> parameter can be configured on a per requets basis, if set to
zero it was defaulting to the client default. Now the client is honoring the
request specific configuration.</p>
<h5><a id="_fix_requestoptions_body_type_to_include_null_1300"></a>Fix RequestOptions.body type to include null <a href="https://github.com/elastic/elasticsearch-js/pull/1300" class="ulink" target="_top">#1300</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>The Connection requets option types were not accepting <code class="literal">null</code> as valid value.</p>
<h5><a id="_fixed_size_and_maxretries_parameters_in_helpers_1284"></a>Fixed <code class="literal">size</code> and <code class="literal">maxRetries</code> parameters in helpers <a href="https://github.com/elastic/elasticsearch-js/pull/1284" class="ulink" target="_top">#1284</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>The <code class="literal">size</code> parameter was being passed too the scroll request, which was causing
an error. Value of <code class="literal">maxRetries</code> set to 0 was resulting in no request at all.</p>
<h3><a id="_7_9_0"></a>7.9.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_features_9"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_add_ability_to_disable_the_http_agent_1251"></a>Add ability to disable the http agent <a href="https://github.com/elastic/elasticsearch-js/pull/1251" class="ulink" target="_top">#1251</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>If needed, the http agent can be disabled by setting it to <code class="literal">false</code>.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')
const client = new Client({
  node: 'http://localhost:9200'.
  agent: false
})</pre>
</div>
<h5><a id="_add_support_for_a_global_context_option_1256"></a>Add support for a global context option <a href="https://github.com/elastic/elasticsearch-js/pull/1256" class="ulink" target="_top">#1256</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Before this, you could set a <code class="literal">context</code> option in each request, but there was no
way of setting it globally. Now you can by configuring the <code class="literal">context</code> object in
the global configuration, that will be merged with the local one.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')
const client = new Client({
  node: 'http://localhost:9200'.
  context: { meta: 'data' }
})</pre>
</div>
<h5><a id="_esm_support_1235"></a>ESM support <a href="https://github.com/elastic/elasticsearch-js/pull/1235" class="ulink" target="_top">#1235</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>If you are using ES Modules, now you can easily import the client!</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">import { Client } from '@elastic/elasticsearch'</pre>
</div>
<h4><a id="_fixes_7"></a>Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_allow_the_client_name_to_be_a_symbol_1254"></a>Allow the client name to be a symbol <a href="https://github.com/elastic/elasticsearch-js/pull/1254" class="ulink" target="_top">#1254</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>It was possible in plain JavaScript, but not in TypeScript, now you can do it in
TypeScript as well.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')
const client = new Client({
  node: 'http://localhost:9200',
  name: Symbol('unique')
})</pre>
</div>
<h5><a id="_fixed_transport_request_querystring_type_1240"></a>Fixed transport.request querystring type <a href="https://github.com/elastic/elasticsearch-js/pull/1240" class="ulink" target="_top">#1240</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Only <code class="literal">Record&lt;string, any&gt;</code> was allowed. Now <code class="literal">string</code> is allowed as well.</p>
<h5><a id="_fixed_type_definitions_1263"></a>Fixed type definitions <a href="https://github.com/elastic/elasticsearch-js/pull/1263" class="ulink" target="_top">#1263</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">transport.request</code> defintion was incorrect, it was returning a
<code class="literal">Promise&lt;T&gt;</code> instead of <code class="literal">TransportRequestPromise&lt;T&gt;</code>.
</li>
<li class="listitem">
The <code class="literal">refresh</code> parameter of most APIs was declared as
<code class="literal">'true' | 'false' | 'wait_for'</code>, which was clunky. Now is
<code class="literal">'wait_for' | boolean</code>.
</li>
</ul>
</div>
<h5><a id="_generate_response_type_as_boolean_if_the_request_is_head_only_1275"></a>Generate response type as boolean if the request is HEAD only <a href="https://github.com/elastic/elasticsearch-js/pull/1275" class="ulink" target="_top">#1275</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>All HEAD request will have the body casted to a boolean value, <code class="literal">true</code> in case of
a 200 response, <code class="literal">false</code> in case of a 404 response. The type definitions were not
reflecting this behavior.</p>
<div class="pre_wrapper lang-ts">
<pre class="programlisting prettyprint lang-ts">import { Client } from '@elastic/elasticsearch'
const client = new Client({
  node: 'http://localhost:9200'
})

const { body } = await client.exist({ index: 'my-index', id: 'my-id' })
console.log(body) // either `true` or `false`</pre>
</div>
<h4><a id="_internals"></a>Internals<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_updated_default_http_agent_configuration_1242"></a>Updated default http agent configuration <a href="https://github.com/elastic/elasticsearch-js/pull/1242" class="ulink" target="_top">#1242</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Added the scheduling: <em>lifo</em> option to the default HTTP agent configuration to
avoid maximizing the open sockets against Elasticsearch and lowering the risk of
encountering socket timeouts. This feature is only available from Node v14.5+,
but it should be backported to v10 and v12
(<a href="https://github.com/nodejs/node/pull/33278" class="ulink" target="_top">nodejs/node#33278</a>).</p>
<h5><a id="_improve_child_api_1245"></a>Improve child API <a href="https://github.com/elastic/elasticsearch-js/pull/1245" class="ulink" target="_top">#1245</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>This pr introduce two changes which should not impact the surface API:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refactored the <code class="literal">client.child</code> API to allocate fewer objects, this change
improves memory consumption over time and improves the child creation
performances by ~12%.
</li>
<li class="listitem">
The client no longer inherits from the EventEmitter class, but instead has an
internal event emitter and exposes only the API useful for the users, namely
<code class="literal">emit, `on</code>, <code class="literal">once</code>, and <code class="literal">off</code>. The type definitions have been updated
accordingly.
</li>
</ul>
</div>
<h3><a id="_7_8_0"></a>7.8.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_features_10"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_support_for_elasticsearch_v7_8"></a>Support for Elasticsearch <code class="literal">v7.8</code>.<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can find all the API changes <a href="/guide/en/elasticsearch/reference/7.8/release-notes-7.8.0.html" class="ulink" target="_top">here</a>.</p>
<h5><a id="_added_multi_search_helper_1186"></a>Added multi search helper <a href="https://github.com/elastic/elasticsearch-js/pull/1186" class="ulink" target="_top">#1186</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>If you are sending search request at a high rate, this helper might be useful
for you. It will use the mutli search API under the hood to batch the requests
and improve the overall performances of your application. The <code class="literal">result</code> exposes a
<code class="literal">documents</code> property as well, which allows you to access directly the hits
sources.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch')

const client = new Client({ node: 'http://localhost:9200' })
const m = client.helpers.msearch()

// promise style API
m.search(
    { index: 'stackoverflow' },
    { query: { match: { title: 'javascript' } } }
  )
  .then(result =&gt; console.log(result.body)) // or result.documents
  .catch(err =&gt; console.error(err))

// callback style API
m.search(
  { index: 'stackoverflow' },
  { query: { match: { title: 'ruby' } } },
  (err, result) =&gt; {
    if (err) console.error(err)
    console.log(result.body)) // or result.documents
  }
)</pre>
</div>
<h5><a id="_added_timeout_support_in_bulk_and_msearch_helpers_1206"></a>Added timeout support in bulk and msearch helpers <a href="https://github.com/elastic/elasticsearch-js/pull/1206" class="ulink" target="_top">#1206</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>If there is a slow producer, the bulk helper might send data with a very large
period of time, and if the process crashes for any reason, the data would be
lost. This pr introduces a <code class="literal">flushInterval</code> option in the bulk helper to avoid
this issue. By default, the bulk helper will flush the data automatically every
30 seconds, unless the threshold has been reached before.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const b = client.helpers.bulk({
  flushInterval: 30000
})</pre>
</div>
<p>The same problem might happen with the multi search helper, where the user is
not sending search requests fast enough. A <code class="literal">flushInterval</code> options has been
added as well, with a default value of 500 milliseconds.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const m = client.helpers.msearch({
  flushInterval: 500
})</pre>
</div>
<h4><a id="_internals_2"></a>Internals<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_use_filter_path_for_improving_the_search_helpers_performances_1199"></a>Use filter_path for improving the search helpers performances <a href="https://github.com/elastic/elasticsearch-js/pull/1199" class="ulink" target="_top">#1199</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>From now on, all he search helpers will use the <code class="literal">filter_path</code> option
automatically when needed to retrieve only the hits source. This change will
result in less netwprk traffic and improved deserialization performances.</p>
<h5><a id="_search_helpers_documents_getter_1186"></a>Search helpers documents getter <a href="https://github.com/elastic/elasticsearch-js/pull/1186" class="ulink" target="_top">#1186</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Before this, the <code class="literal">documents</code> key that you can access in any search helper was
computed as soon as we got the search result from Elasticsearch. With this
change the <code class="literal">documents</code> key is now a getter, which makes this process lazy,
resulting in better performances and lower memory impact.</p>
<h3><a id="_7_7_1"></a>7.7.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_fixes_8"></a>Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_disable_client_helpers_in_node_js_10_1194"></a>Disable client Helpers in Node.js &lt; 10 - <a href="https://github.com/elastic/elasticsearch-js/pull/1194" class="ulink" target="_top">#1194</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>The client helpers can&#8217;t be used in Node.js &lt; 10 because it needs a custom flag
to be able to use them. Given that not every provider allows the user to specify
custom Node.js flags, the Helpers has been disabled completely in Node.js &lt; 10.</p>
<h5><a id="_force_lowercase_in_all_headers_1187"></a>Force lowercase in all headers - <a href="https://github.com/elastic/elasticsearch-js/pull/1187" class="ulink" target="_top">#1187</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Now all the user-provided headers names will be lowercased by default, so there
will be no conflicts in case of the same header with different casing.</p>
<h3><a id="_7_7_0"></a>7.7.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<h4><a id="_features_11"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_support_for_elasticsearch_v7_7"></a>Support for Elasticsearch <code class="literal">v7.7</code>.<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>You can find all the API changes
<a href="/guide/en/elasticsearch/reference/7.7/release-notes-7.7.0.html" class="ulink" target="_top">here</a>.</p>
<h5><a id="_introduced_client_helpers_1107"></a>Introduced client helpers - <a href="https://github.com/elastic/elasticsearch-js/pull/1107" class="ulink" target="_top">#1107</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>From now on, the client comes with an handy collection of helpers to give you a
more comfortable experience with some APIs.</p>
<div class="caution admon">
<div class="icon"></div>
<div class="admon_content">
<p>The client helpers are experimental, and the API may change in the next
minor releases.</p>
</div>
</div>
<p>The following helpers has been introduced:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">client.helpers.bulk</code>
</li>
<li class="listitem">
<code class="literal">client.helpers.search</code>
</li>
<li class="listitem">
<code class="literal">client.helpers.scrollSearch</code>
</li>
<li class="listitem">
<code class="literal">client.helpers.scrollDocuments</code>
</li>
</ul>
</div>
<h5><a id="_the_connectionpool_getconnection_now_always_returns_a_connection_1127"></a>The <code class="literal">ConnectionPool.getConnection</code> now always returns a <code class="literal">Connection</code> - <a href="https://github.com/elastic/elasticsearch-js/pull/1127" class="ulink" target="_top">#1127</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>What does this mean? It means that you will see less <code class="literal">NoLivingConnectionError</code>,
which now can only be caused if you set a selector/filter too strict. For
improving the debugging experience, the <code class="literal">NoLivingConnectionsError</code> error message
has been updated.</p>
<h5><a id="_abortable_promises_1141"></a>Abortable promises - <a href="https://github.com/elastic/elasticsearch-js/pull/1141" class="ulink" target="_top">#1141</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>From now on, it will be possible to abort a request generated with the
promise-styl API. If you abort a request generated from a promise, the promise
will be rejected with a <code class="literal">RequestAbortedError</code>.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">const promise = client.search({
  body: {
    query: { match_all: {} }
  }
})

promise
  .then(console.log)
  .catch(console.log)

promise.abort()</pre>
</div>
<h5><a id="_major_refactor_of_the_type_definitions_1119_1130_1132"></a>Major refactor of the Type Definitions - <a href="https://github.com/elastic/elasticsearch-js/pull/1119" class="ulink" target="_top">#1119</a> <a href="https://github.com/elastic/elasticsearch-js/issues/1130" class="ulink" target="_top">#1130</a> <a href="https://github.com/elastic/elasticsearch-js/pull/1132" class="ulink" target="_top">#1132</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Now every API makes better use of the generics and overloading, so you can (or
not, by default request/response bodies are <code class="literal">Record&lt;string, any&gt;</code>) define the
request/response bodies in the generics.</p>
<div class="pre_wrapper lang-ts">
<pre class="programlisting prettyprint lang-ts">// request and response bodies are generics
client.search(...)
// response body is `SearchResponse` and request body is generic
client.search&lt;SearchResponse&gt;(...)
// request body is `SearchBody` and response body is `SearchResponse`
client.search&lt;SearchResponse, SearchBody&gt;(...)</pre>
</div>
<p>This <span class="strong strong"><strong>should</strong></span> not be a breaking change, as every generics defaults to <code class="literal">any</code>. It
might happen to some users that the code breaks, but our test didn&#8217;t detect any
of it, probably because they were not robust enough. However, given the gigantic
improvement in the developer experience, we have decided to release this change
in the 7.x line.</p>
<h4><a id="_fixes_9"></a>Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h4>
<h5><a id="_the_connectionpool_update_method_now_cleans_the_dead_list_1122_1127"></a>The <code class="literal">ConnectionPool.update</code> method now cleans the <code class="literal">dead</code> list - <a href="https://github.com/elastic/elasticsearch-js/issues/1122" class="ulink" target="_top">#1122</a> <a href="https://github.com/elastic/elasticsearch-js/pull/1127" class="ulink" target="_top">#1127</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>It can happen in a situation where we are updating the connections list and
running sniff, leaving the <code class="literal">dead</code> list in a dirty state. Now the
<code class="literal">ConnectionPool.update</code> cleans up the <code class="literal">dead</code> list every time, which makes way
more sense given that all the new connections are alive.</p>
<h5><a id="_connectionpoolmarkdead_should_ignore_connections_that_no_longer_exists_1159"></a><code class="literal">ConnectionPoolmarkDead</code> should ignore connections that no longer exists - <a href="https://github.com/elastic/elasticsearch-js/pull/1159" class="ulink" target="_top">#1159</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>It might happen that markDead is called just after a pool update, and in such
case, the client was adding the dead list a node that no longer exists, causing
unhandled exceptions later.</p>
<h5><a id="_do_not_retry_a_request_if_the_body_is_a_stream_1143"></a>Do not retry a request if the body is a stream - <a href="https://github.com/elastic/elasticsearch-js/pull/1143" class="ulink" target="_top">#1143</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>The client should not retry if it&#8217;s sending a stream body, because it should
store in memory a copy of the stream to be able to send it again, but since it
doesn&#8217;t know in advance the size of the stream, it risks to take too much
memory. Furthermore, copying everytime the stream is very an expensive
operation.</p>
<h5><a id="_return_an_error_if_the_request_has_been_aborted_1141"></a>Return an error if the request has been aborted - <a href="https://github.com/elastic/elasticsearch-js/pull/1141" class="ulink" target="_top">#1141</a><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h5>
<p>Until now, aborting a request was blocking the HTTP request, but never calling
the callback or resolving the promise to notify the user. This is a bug because
it could lead to dangerous memory leaks. From now on if the user calls the
<code class="literal">request.abort()</code> method, the callback style API will be called with a
<code class="literal">RequestAbortedError</code>, the promise will be rejected with <code class="literal">RequestAbortedError</code>
as well.</p>
<h3><a id="_7_6_1"></a>7.6.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Secure json parsing -
<a href="https://github.com/elastic/elasticsearch-js/pull/1110" class="ulink" target="_top">#1110</a>
</li>
<li class="listitem">
ApiKey should take precedence over basic auth -
<a href="https://github.com/elastic/elasticsearch-js/pull/1115" class="ulink" target="_top">#1115</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Documentation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix typo in api reference -
<a href="https://github.com/elastic/elasticsearch-js/pull/1109" class="ulink" target="_top">#1109</a>
</li>
</ul>
</div>
<h3><a id="_7_6_0"></a>7.6.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<p>Support for Elasticsearch <code class="literal">v7.6</code>.</p>
<h3><a id="_7_5_1"></a>7.5.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Skip compression in case of empty string body -
<a href="https://github.com/elastic/elasticsearch-js/pull/1080" class="ulink" target="_top">#1080</a>
</li>
<li class="listitem">
Fix typo in NoLivingConnectionsError -
<a href="https://github.com/elastic/elasticsearch-js/pull/1045" class="ulink" target="_top">#1045</a>
</li>
<li class="listitem">
Change TransportRequestOptions.ignore to number[] -
<a href="https://github.com/elastic/elasticsearch-js/pull/1053" class="ulink" target="_top">#1053</a>
</li>
<li class="listitem">
ClientOptions["cloud"] should have optional auth fields -
<a href="https://github.com/elastic/elasticsearch-js/pull/1032" class="ulink" target="_top">#1032</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Documentation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Docs: Return super in example Transport subclass -
<a href="https://github.com/elastic/elasticsearch-js/pull/980" class="ulink" target="_top">#980</a>
</li>
<li class="listitem">
Add examples to reference -
<a href="https://github.com/elastic/elasticsearch-js/pull/1076" class="ulink" target="_top">#1076</a>
</li>
<li class="listitem">
Added new examples -
<a href="https://github.com/elastic/elasticsearch-js/pull/1031" class="ulink" target="_top">#1031</a>
</li>
</ul>
</div>
<h3><a id="_7_5_0"></a>7.5.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<p>Support for Elasticsearch <code class="literal">v7.5</code>.</p>
<p><span class="strong strong"><strong>Features</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
X-Opaque-Id support <a href="https://github.com/elastic/elasticsearch-js/pull/997" class="ulink" target="_top">#997</a>
</li>
</ul>
</div>
<h3><a id="_7_4_0"></a>7.4.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<p>Support for Elasticsearch <code class="literal">v7.4</code>.</p>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix issue; node roles are defaulting to true when undefined is breaking usage
of nodeFilter option -
<a href="https://github.com/elastic/elasticsearch-js/pull/967" class="ulink" target="_top">#967</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Documentation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Updated API reference doc -
<a href="https://github.com/elastic/elasticsearch-js/pull/945" class="ulink" target="_top">#945</a>,
<a href="https://github.com/elastic/elasticsearch-js/pull/969" class="ulink" target="_top">#969</a>
</li>
<li class="listitem">
Fix inaccurate description sniffEndpoint -
<a href="https://github.com/elastic/elasticsearch-js/pull/959" class="ulink" target="_top">#959</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Internals:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update code generation
<a href="https://github.com/elastic/elasticsearch-js/pull/969" class="ulink" target="_top">#969</a>
</li>
</ul>
</div>
<h3><a id="_7_3_0"></a>7.3.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<p>Support for Elasticsearch <code class="literal">v7.3</code>.</p>
<p><span class="strong strong"><strong>Features:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added <code class="literal">auth</code> option -
<a href="https://github.com/elastic/elasticsearch-js/pull/908" class="ulink" target="_top">#908</a>
</li>
<li class="listitem">
Added support for <code class="literal">ApiKey</code> authentication -
<a href="https://github.com/elastic/elasticsearch-js/pull/908" class="ulink" target="_top">#908</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
fix(Typings): sniffInterval can also be boolean -
<a href="https://github.com/elastic/elasticsearch-js/pull/914" class="ulink" target="_top">#914</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Internals:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refactored connection pool -
<a href="https://github.com/elastic/elasticsearch-js/pull/913" class="ulink" target="_top">#913</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Documentation:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Better reference code examples -
<a href="https://github.com/elastic/elasticsearch-js/pull/920" class="ulink" target="_top">#920</a>
</li>
<li class="listitem">
Improve README -
<a href="https://github.com/elastic/elasticsearch-js/pull/909" class="ulink" target="_top">#909</a>
</li>
</ul>
</div>
<h3><a id="_7_2_0"></a>7.2.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<p>Support for Elasticsearch <code class="literal">v7.2</code></p>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove auth data from inspect and toJSON in connection class -
<a href="https://github.com/elastic/elasticsearch-js/pull/887" class="ulink" target="_top">#887</a>
</li>
</ul>
</div>
<h3><a id="_7_1_0"></a>7.1.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<p>Support for Elasticsearch <code class="literal">v7.1</code></p>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support for non-friendly chars in url username and password -
<a href="https://github.com/elastic/elasticsearch-js/pull/858" class="ulink" target="_top">#858</a>
</li>
<li class="listitem">
Patch deprecated parameters -
<a href="https://github.com/elastic/elasticsearch-js/pull/851" class="ulink" target="_top">#851</a>
</li>
</ul>
</div>
<h3><a id="_7_0_1"></a>7.0.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Fixes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix TypeScript export <span class="strong strong"><strong>(issue
<a href="https://github.com/elastic/elasticsearch-js/pull/841" class="ulink" target="_top">#841</a>)</strong></span> -
<a href="https://github.com/elastic/elasticsearch-js/pull/842" class="ulink" target="_top">#842</a>
</li>
<li class="listitem">
Fix http and https port handling <span class="strong strong"><strong>(issue
<a href="https://github.com/elastic/elasticsearch-js/pull/843" class="ulink" target="_top">#843</a>)</strong></span> -
<a href="https://github.com/elastic/elasticsearch-js/pull/845" class="ulink" target="_top">#845</a>
</li>
<li class="listitem">
Fix TypeScript definiton <span class="strong strong"><strong>(issue
<a href="https://github.com/elastic/elasticsearch-js/pull/803" class="ulink" target="_top">#803</a>)</strong></span> -
<a href="https://github.com/elastic/elasticsearch-js/pull/846" class="ulink" target="_top">#846</a>
</li>
<li class="listitem">
Added toJSON method to Connection class <span class="strong strong"><strong>(issue
<a href="https://github.com/elastic/elasticsearch-js/pull/848" class="ulink" target="_top">#848</a>)</strong></span> -
<a href="https://github.com/elastic/elasticsearch-js/pull/849" class="ulink" target="_top">#849</a>
</li>
</ul>
</div>
<h3><a id="_7_0_0"></a>7.0.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/7.16/docs/changelog.asciidoc">edit</a></h3>
<p>Support for Elasticsearch <code class="literal">v7.0</code></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Stable release.
</li>
</ul>
</div>
<p>"appendix",role="exclude",id="redirects"]
= Deleted pages</p>
<p>The following pages have moved or been deleted.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="client-helpers.html">« Client helpers</a>
</span>
<span class="next">
<a href="auth-reference.html">Authentication »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
