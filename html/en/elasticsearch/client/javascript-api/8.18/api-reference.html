<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>API Reference | Elasticsearch JavaScript Client [8.18] | Elastic</title>
<meta class="elastic" name="content" content="API Reference | Elasticsearch JavaScript Client [8.18]">

<link rel="home" href="index.html" title="Elasticsearch JavaScript Client [8.18]"/>
<link rel="up" href="index.html" title="Elasticsearch JavaScript Client [8.18]"/>
<link rel="prev" href="typescript.html" title="TypeScript support"/>
<link rel="next" href="_note_on_backwards_compatibility.html" title="Note on backwards compatibility"/>
<meta class="elastic" name="product_version" content="8.18"/>
<meta class="elastic" name="product_name" content="Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Clients/JavaScript/8.18"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="8.18"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="typescript.html">« TypeScript support</a>
</span>
<span class="next">
<a href="_note_on_backwards_compatibility.html">Note on backwards compatibility »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch JavaScript Client [8.18]</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>API Reference</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="api-reference"></a>API Reference</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
</div></div></div>
<div class="position-relative"><h3><a id="_bulk"></a>bulk</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Bulk index or delete documents.
Perform multiple <code class="literal">index</code>, <code class="literal">create</code>, <code class="literal">delete</code>, and <code class="literal">update</code> actions in a single request.
This reduces overhead and can greatly increase indexing speed.</p>
<p>If the Elasticsearch security features are enabled, you must have the following index privileges for the target data stream, index, or index alias:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To use the <code class="literal">create</code> action, you must have the <code class="literal">create_doc</code>, <code class="literal">create</code>, <code class="literal">index</code>, or <code class="literal">write</code> index privilege. Data streams support only the <code class="literal">create</code> action.
</li>
<li class="listitem">
To use the <code class="literal">index</code> action, you must have the <code class="literal">create</code>, <code class="literal">index</code>, or <code class="literal">write</code> index privilege.
</li>
<li class="listitem">
To use the <code class="literal">delete</code> action, you must have the <code class="literal">delete</code> or <code class="literal">write</code> index privilege.
</li>
<li class="listitem">
To use the <code class="literal">update</code> action, you must have the <code class="literal">index</code> or <code class="literal">write</code> index privilege.
</li>
<li class="listitem">
To automatically create a data stream or index with a bulk API request, you must have the <code class="literal">auto_configure</code>, <code class="literal">create_index</code>, or <code class="literal">manage</code> index privilege.
</li>
<li class="listitem">
To make the result of a bulk operation visible to search using the <code class="literal">refresh</code> parameter, you must have the <code class="literal">maintenance</code> or <code class="literal">manage</code> index privilege.
</li>
</ul>
</div>
<p>Automatic data stream creation requires a matching index template with data stream enabled.</p>
<p>The actions are specified in the request body using a newline delimited JSON (NDJSON) structure:</p>
<pre class="screen">action_and_meta_data\n
optional_source\n
action_and_meta_data\n
optional_source\n
....
action_and_meta_data\n
optional_source\n</pre>
<p>The <code class="literal">index</code> and <code class="literal">create</code> actions expect a source on the next line and have the same semantics as the <code class="literal">op_type</code> parameter in the standard index API.
A <code class="literal">create</code> action fails if a document with the same ID already exists in the target
An <code class="literal">index</code> action adds or replaces a document as necessary.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Data streams support only the <code class="literal">create</code> action.
To update or delete a document in a data stream, you must target the backing index containing the document.</p>
</div>
</div>
<p>An <code class="literal">update</code> action expects that the partial doc, upsert, and script and its options are specified on the next line.</p>
<p>A <code class="literal">delete</code> action does not expect a source on the next line and has the same semantics as the standard delete API.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The final line of data must end with a newline character (<code class="literal">\n</code>).
Each newline character may be preceded by a carriage return (<code class="literal">\r</code>).
When sending NDJSON data to the <code class="literal">_bulk</code> endpoint, use a <code class="literal">Content-Type</code> header of <code class="literal">application/json</code> or <code class="literal">application/x-ndjson</code>.
Because this format uses literal newline characters (<code class="literal">\n</code>) as delimiters, make sure that the JSON actions and sources are not pretty printed.</p>
</div>
</div>
<p>If you provide a target in the request path, it is used for any actions that don&#8217;t explicitly specify an <code class="literal">_index</code> argument.</p>
<p>A note on the format: the idea here is to make processing as fast as possible.
As some of the actions are redirected to other shards on other nodes, only <code class="literal">action_meta_data</code> is parsed on the receiving node side.</p>
<p>Client libraries using this protocol should try and strive to do something similar on the client side, and reduce buffering as much as possible.</p>
<p>There is no "correct" number of actions to perform in a single bulk request.
Experiment with different settings to find the optimal size for your particular workload.
Note that Elasticsearch limits the maximum size of a HTTP request to 100mb by default so clients must ensure that no request exceeds this size.
It is not possible to index a single document that exceeds the size limit, so you must pre-process any such documents into smaller pieces before sending them to Elasticsearch.
For instance, split documents into pages or chapters before indexing them, or store raw binary data in a system outside Elasticsearch and replace the raw data with a link to the external system in the documents that you send to Elasticsearch.</p>
<p><span class="strong strong"><strong>Client suppport for bulk requests</strong></span></p>
<p>Some of the officially supported clients provide helpers to assist with bulk requests and reindexing:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Go: Check out <code class="literal">esutil.BulkIndexer</code>
</li>
<li class="listitem">
Perl: Check out <code class="literal">Search::Elasticsearch::Client::5_0::Bulk</code> and <code class="literal">Search::Elasticsearch::Client::5_0::Scroll</code>
</li>
<li class="listitem">
Python: Check out <code class="literal">elasticsearch.helpers.*</code>
</li>
<li class="listitem">
JavaScript: Check out <code class="literal">client.helpers.*</code>
</li>
<li class="listitem">
.NET: Check out <code class="literal">BulkAllObservable</code>
</li>
<li class="listitem">
PHP: Check out bulk indexing.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Submitting bulk requests with cURL</strong></span></p>
<p>If you&#8217;re providing text file input to <code class="literal">curl</code>, you must use the <code class="literal">--data-binary</code> flag instead of plain <code class="literal">-d</code>.
The latter doesn&#8217;t preserve newlines. For example:</p>
<pre class="screen">$ cat requests
{ "index" : { "_index" : "test", "_id" : "1" } }
{ "field1" : "value1" }
$ curl -s -H "Content-Type: application/x-ndjson" -XPOST localhost:9200/_bulk --data-binary "@requests"; echo
{"took":7, "errors": false, "items":[{"index":{"_index":"test","_id":"1","_version":1,"result":"created","forced_refresh":false}}]}</pre>
<p><span class="strong strong"><strong>Optimistic concurrency control</strong></span></p>
<p>Each <code class="literal">index</code> and <code class="literal">delete</code> action within a bulk API call may include the <code class="literal">if_seq_no</code> and <code class="literal">if_primary_term</code> parameters in their respective action and meta data lines.
The <code class="literal">if_seq_no</code> and <code class="literal">if_primary_term</code> parameters control how operations are run, based on the last modification to existing documents. See Optimistic concurrency control for more details.</p>
<p><span class="strong strong"><strong>Versioning</strong></span></p>
<p>Each bulk item can include the version value using the <code class="literal">version</code> field.
It automatically follows the behavior of the index or delete operation based on the <code class="literal">_version</code> mapping.
It also support the <code class="literal">version_type</code>.</p>
<p><span class="strong strong"><strong>Routing</strong></span></p>
<p>Each bulk item can include the routing value using the <code class="literal">routing</code> field.
It automatically follows the behavior of the index or delete operation based on the <code class="literal">_routing</code> mapping.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Data streams do not support custom routing unless they were created with the <code class="literal">allow_custom_routing</code> setting enabled in the template.</p>
</div>
</div>
<p><span class="strong strong"><strong>Wait for active shards</strong></span></p>
<p>When making bulk calls, you can set the <code class="literal">wait_for_active_shards</code> parameter to require a minimum number of shard copies to be active before starting to process the bulk request.</p>
<p><span class="strong strong"><strong>Refresh</strong></span></p>
<p>Control when the changes made by this request are visible to search.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only the shards that receive the bulk request will be affected by refresh.
Imagine a <code class="literal">_bulk?refresh=wait_for</code> request with three documents in it that happen to be routed to different shards in an index with five shards.
The request will only wait for those three shards to refresh.
The other two shards that make up the index do not participate in the <code class="literal">_bulk</code> request at all.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-bulk.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.bulk({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string)</strong></span>: The name of the data stream, index, or index alias to perform bulk actions on.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">operations</code> (Optional, { index, create, update, delete } | { detect_noop, doc, doc_as_upsert, script, scripted_upsert, _source, upsert } | object[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_source_on_error</code> (Optional, boolean)</strong></span>: True or false if to include the document source in the error message in case of parsing errors.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">list_executed_pipelines</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response will include the ingest pipelines that were run for each index or create.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pipeline</code> (Optional, string)</strong></span>: The pipeline identifier to use to preprocess incoming documents. If the index has a default ingest pipeline specified, setting the value to <code class="literal">_none</code> turns off the default ingest pipeline for this request. If a final pipeline is configured, it will always run regardless of the value of this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, Enum(true | false | "wait_for"))</strong></span>: If <code class="literal">true</code>, Elasticsearch refreshes the affected shards to make this operation visible to search. If <code class="literal">wait_for</code>, wait for a refresh to make this operation visible to search. If <code class="literal">false</code>, do nothing with refreshes. Valid values: <code class="literal">true</code>, <code class="literal">false</code>, <code class="literal">wait_for</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value that is used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | string | string[])</strong></span>: Indicates whether to return the <code class="literal">_source</code> field (<code class="literal">true</code> or <code class="literal">false</code>) or contains a list of fields to return.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>: A list of source fields to exclude from the response. You can also use this parameter to exclude fields from the subset specified in <code class="literal">_source_includes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>: A list of source fields to include in the response. If this parameter is specified, only these source fields are returned. You can exclude fields from this subset using the <code class="literal">_source_excludes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period each action waits for the following operations: automatic index creation, dynamic mapping updates, and waiting for active shards. The default is <code class="literal">1m</code> (one minute), which guarantees Elasticsearch waits for at least the timeout before failing. The actual wait time could be longer, particularly when multiple waits occur.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of shard copies that must be active before proceeding with the operation. Set to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>). The default is <code class="literal">1</code>, which waits for each primary shard to be active.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">require_alias</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request&#8217;s actions must target an index alias.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">require_data_stream</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request&#8217;s actions must target a data stream (existing or to be created).
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_clear_scroll"></a>clear_scroll</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Clear a scrolling search.
Clear the search context and results for a scrolling search.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/clear-scroll-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.clearScroll({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_2"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll_id</code> (Optional, string | string[])</strong></span>: A list of scroll IDs to clear. To clear all scroll IDs, use <code class="literal">_all</code>. IMPORTANT: Scroll IDs can be long. It is recommended to specify scroll IDs in the request body parameter.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_close_point_in_time"></a>close_point_in_time</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Close a point in time.
A point in time must be opened explicitly before being used in search requests.
The <code class="literal">keep_alive</code> parameter tells Elasticsearch how long it should persist.
A point in time is automatically closed when the <code class="literal">keep_alive</code> period has elapsed.
However, keeping points in time has a cost; close them as soon as they are no longer required for search requests.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/point-in-time-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.closePointInTime({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_3"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: The ID of the point-in-time.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_count"></a>count</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Count search results.
Get the number of documents matching a query.</p>
<p>The query can be provided either by using a simple query string as a parameter, or by defining Query DSL within the request body.
The query is optional. When no query is provided, the API uses <code class="literal">match_all</code> to count all the documents.</p>
<p>The count API supports multi-target syntax. You can run a single count API search across multiple data streams and indices.</p>
<p>The operation is broadcast across all shards.
For each shard ID group, a replica is chosen and the search is run against it.
This means that replicas increase the scalability of the count.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/search-count.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.count({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_4"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and aliases to search. It supports wildcards (<code class="literal">*</code>). To search all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Defines the search query using Query DSL. A request body query cannot be used with the <code class="literal">q</code> query string parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices. This behavior applies even if the request targets other open indices. For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyzer</code> (Optional, string)</strong></span>: The analyzer to use for the query string. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyze_wildcard</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, wildcard and prefix queries are analyzed. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">default_operator</code> (Optional, Enum("and" | "or"))</strong></span>: The default operator for query string query: <code class="literal">AND</code> or <code class="literal">OR</code>. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">df</code> (Optional, string)</strong></span>: The field to use as a default when no field prefix is given in the query string. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: The type of index that wildcard patterns can match. If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams. It supports a list of values, such as <code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_throttled</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, concrete, expanded, or aliased indices are ignored when frozen.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">lenient</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, format-based query failures (such as providing text to a numeric field) in the query string will be ignored. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">min_score</code> (Optional, number)</strong></span>: The minimum <code class="literal">_score</code> value that documents must have to be included in the result.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. By default, it is random.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">terminate_after</code> (Optional, number)</strong></span>: The maximum number of documents to collect for each shard. If a query reaches this limit, Elasticsearch terminates the query early. Elasticsearch collects documents before sorting. IMPORTANT: Use with caution. Elasticsearch applies this parameter to each shard handling the request. When possible, let Elasticsearch perform early termination automatically. Avoid specifying this parameter for requests that target data streams with backing indices across multiple data tiers.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">q</code> (Optional, string)</strong></span>: The query in Lucene query string syntax. This parameter cannot be used with a request body.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_create"></a>create</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create a new document in the index.</p>
<p>You can index a new JSON document with the <code class="literal">/&lt;target&gt;/_doc/</code> or <code class="literal">/&lt;target&gt;/_create/&lt;_id&gt;</code> APIs
Using <code class="literal">_create</code> guarantees that the document is indexed only if it does not already exist.
It returns a 409 response when a document with a same ID already exists in the index.
To update an existing document, you must use the <code class="literal">/&lt;target&gt;/_doc/</code> API.</p>
<p>If the Elasticsearch security features are enabled, you must have the following index privileges for the target data stream, index, or index alias:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To add a document using the <code class="literal">PUT /&lt;target&gt;/_create/&lt;_id&gt;</code> or <code class="literal">POST /&lt;target&gt;/_create/&lt;_id&gt;</code> request formats, you must have the <code class="literal">create_doc</code>, <code class="literal">create</code>, <code class="literal">index</code>, or <code class="literal">write</code> index privilege.
</li>
<li class="listitem">
To automatically create a data stream or index with this API request, you must have the <code class="literal">auto_configure</code>, <code class="literal">create_index</code>, or <code class="literal">manage</code> index privilege.
</li>
</ul>
</div>
<p>Automatic data stream creation requires a matching index template with data stream enabled.</p>
<p><span class="strong strong"><strong>Automatically create data streams and indices</strong></span></p>
<p>If the request&#8217;s target doesn&#8217;t exist and matches an index template with a <code class="literal">data_stream</code> definition, the index operation automatically creates the data stream.</p>
<p>If the target doesn&#8217;t exist and doesn&#8217;t match a data stream template, the operation automatically creates the index and applies any matching index templates.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch includes several built-in index templates. To avoid naming collisions with these templates, refer to index pattern documentation.</p>
</div>
</div>
<p>If no mapping exists, the index operation creates a dynamic mapping.
By default, new fields and objects are automatically added to the mapping if needed.</p>
<p>Automatic index creation is controlled by the <code class="literal">action.auto_create_index</code> setting.
If it is <code class="literal">true</code>, any index can be created automatically.
You can modify this setting to explicitly allow or block automatic creation of indices that match specified patterns or set it to <code class="literal">false</code> to turn off automatic index creation entirely.
Specify a list of patterns you want to allow or prefix each pattern with <code class="literal">+</code> or <code class="literal">-</code> to indicate whether it should be allowed or blocked.
When a list is specified, the default behaviour is to disallow.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">action.auto_create_index</code> setting affects the automatic creation of indices only.
It does not affect the creation of data streams.</p>
</div>
</div>
<p><span class="strong strong"><strong>Routing</strong></span></p>
<p>By default, shard placement — or routing — is controlled by using a hash of the document&#8217;s ID value.
For more explicit control, the value fed into the hash function used by the router can be directly specified on a per-operation basis using the <code class="literal">routing</code> parameter.</p>
<p>When setting up explicit mapping, you can also use the <code class="literal">_routing</code> field to direct the index operation to extract the routing value from the document itself.
This does come at the (very minimal) cost of an additional document parsing pass.
If the <code class="literal">_routing</code> mapping is defined and set to be required, the index operation will fail if no routing value is provided or extracted.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Data streams do not support custom routing unless they were created with the <code class="literal">allow_custom_routing</code> setting enabled in the template.</p>
</div>
</div>
<p><span class="strong strong"><strong>Distributed</strong></span></p>
<p>The index operation is directed to the primary shard based on its route and performed on the actual node containing this shard.
After the primary shard completes the operation, if needed, the update is distributed to applicable replicas.</p>
<p><span class="strong strong"><strong>Active shards</strong></span></p>
<p>To improve the resiliency of writes to the system, indexing operations can be configured to wait for a certain number of active shard copies before proceeding with the operation.
If the requisite number of active shard copies are not available, then the write operation must wait and retry, until either the requisite shard copies have started or a timeout occurs.
By default, write operations only wait for the primary shards to be active before proceeding (that is to say <code class="literal">wait_for_active_shards</code> is <code class="literal">1</code>).
This default can be overridden in the index settings dynamically by setting <code class="literal">index.write.wait_for_active_shards</code>.
To alter this behavior per operation, use the <code class="literal">wait_for_active_shards request</code> parameter.</p>
<p>Valid values are all or any positive integer up to the total number of configured copies per shard in the index (which is <code class="literal">number_of_replicas</code>+1).
Specifying a negative value or a number greater than the number of shard copies will throw an error.</p>
<p>For example, suppose you have a cluster of three nodes, A, B, and C and you create an index index with the number of replicas set to 3 (resulting in 4 shard copies, one more copy than there are nodes).
If you attempt an indexing operation, by default the operation will only ensure the primary copy of each shard is available before proceeding.
This means that even if B and C went down and A hosted the primary shard copies, the indexing operation would still proceed with only one copy of the data.
If <code class="literal">wait_for_active_shards</code> is set on the request to <code class="literal">3</code> (and all three nodes are up), the indexing operation will require 3 active shard copies before proceeding.
This requirement should be met because there are 3 active nodes in the cluster, each one holding a copy of the shard.
However, if you set <code class="literal">wait_for_active_shards</code> to <code class="literal">all</code> (or to <code class="literal">4</code>, which is the same in this situation), the indexing operation will not proceed as you do not have all 4 copies of each shard active in the index.
The operation will timeout unless a new node is brought up in the cluster to host the fourth copy of the shard.</p>
<p>It is important to note that this setting greatly reduces the chances of the write operation not writing to the requisite number of shard copies, but it does not completely eliminate the possibility, because this check occurs before the write operation starts.
After the write operation is underway, it is still possible for replication to fail on any number of shard copies but still succeed on the primary.
The <code class="literal">_shards</code> section of the API response reveals the number of shard copies on which replication succeeded and failed.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-index_.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.create({ id, index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_5"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: A unique identifier for the document. To automatically generate a document ID, use the <code class="literal">POST /&lt;target&gt;/_doc/</code> request format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the data stream or index to target. If the target doesn&#8217;t exist and matches the name or wildcard (<code class="literal">*</code>) pattern of an index template with a <code class="literal">data_stream</code> definition, this request creates the data stream. If the target doesn&#8217;t exist and doesn’t match a data stream template, this request creates the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">document</code> (Optional, object)</strong></span>: A document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">if_primary_term</code> (Optional, number)</strong></span>: Only perform the operation if the document has this primary term.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">if_seq_no</code> (Optional, number)</strong></span>: Only perform the operation if the document has this sequence number.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_source_on_error</code> (Optional, boolean)</strong></span>: True or false if to include the document source in the error message in case of parsing errors.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">op_type</code> (Optional, Enum("index" | "create"))</strong></span>: Set to <code class="literal">create</code> to only index the document if it does not already exist (put if absent). If a document with the specified <code class="literal">_id</code> already exists, the indexing operation will fail. The behavior is the same as using the <code class="literal">&lt;index&gt;/_create</code> endpoint. If a document ID is specified, this paramater defaults to <code class="literal">index</code>. Otherwise, it defaults to <code class="literal">create</code>. If the request targets a data stream, an <code class="literal">op_type</code> of <code class="literal">create</code> is required.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pipeline</code> (Optional, string)</strong></span>: The ID of the pipeline to use to preprocess incoming documents. If the index has a default ingest pipeline specified, setting the value to <code class="literal">_none</code> turns off the default ingest pipeline for this request. If a final pipeline is configured, it will always run regardless of the value of this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, Enum(true | false | "wait_for"))</strong></span>: If <code class="literal">true</code>, Elasticsearch refreshes the affected shards to make this operation visible to search. If <code class="literal">wait_for</code>, it waits for a refresh to make this operation visible to search. If <code class="literal">false</code>, it does nothing with refreshes.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">require_alias</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the destination must be an index alias.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">require_data_stream</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request&#8217;s actions must target a data stream (existing or to be created).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value that is used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period the request waits for the following operations: automatic index creation, dynamic mapping updates, waiting for active shards. Elasticsearch waits for at least the specified timeout period before failing. The actual wait time could be longer, particularly when multiple waits occur. This parameter is useful for situations where the primary shard assigned to perform the operation might not be available when the operation runs. Some reasons for this might be that the primary shard is currently recovering from a gateway or undergoing relocation. By default, the operation will wait on the primary shard to become available for at least 1 minute before failing and responding with an error. The actual wait time could be longer, particularly when multiple waits occur.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: The explicit version number for concurrency control. It must be a non-negative long number.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version_type</code> (Optional, Enum("internal" | "external" | "external_gte" | "force"))</strong></span>: The version type.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of shard copies that must be active before proceeding with the operation. You can set it to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>). The default value of <code class="literal">1</code> means it waits for each primary shard to be active.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_delete"></a>delete</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete a document.</p>
<p>Remove a JSON document from the specified index.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot send deletion requests directly to a data stream.
To delete a document in a data stream, you must target the backing index containing the document.</p>
</div>
</div>
<p><span class="strong strong"><strong>Optimistic concurrency control</strong></span></p>
<p>Delete operations can be made conditional and only be performed if the last modification to the document was assigned the sequence number and primary term specified by the <code class="literal">if_seq_no</code> and <code class="literal">if_primary_term</code> parameters.
If a mismatch is detected, the operation will result in a <code class="literal">VersionConflictException</code> and a status code of <code class="literal">409</code>.</p>
<p><span class="strong strong"><strong>Versioning</strong></span></p>
<p>Each document indexed is versioned.
When deleting a document, the version can be specified to make sure the relevant document you are trying to delete is actually being deleted and it has not changed in the meantime.
Every write operation run on a document, deletes included, causes its version to be incremented.
The version number of a deleted document remains available for a short time after deletion to allow for control of concurrent operations.
The length of time for which a deleted document&#8217;s version remains available is determined by the <code class="literal">index.gc_deletes</code> index setting.</p>
<p><span class="strong strong"><strong>Routing</strong></span></p>
<p>If routing is used during indexing, the routing value also needs to be specified to delete a document.</p>
<p>If the <code class="literal">_routing</code> mapping is set to <code class="literal">required</code> and no routing value is specified, the delete API throws a <code class="literal">RoutingMissingException</code> and rejects the request.</p>
<p>For example:</p>
<pre class="screen">DELETE /my-index-000001/_doc/1?routing=shard-1</pre>
<p>This request deletes the document with ID 1, but it is routed based on the user.
The document is not deleted if the correct routing is not specified.</p>
<p><span class="strong strong"><strong>Distributed</strong></span></p>
<p>The delete operation gets hashed into a specific shard ID.
It then gets redirected into the primary shard within that ID group and replicated (if needed) to shard replicas within that ID group.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-delete.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.delete({ id, index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_6"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: A unique identifier for the document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the target index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">if_primary_term</code> (Optional, number)</strong></span>: Only perform the operation if the document has this primary term.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">if_seq_no</code> (Optional, number)</strong></span>: Only perform the operation if the document has this sequence number.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, Enum(true | false | "wait_for"))</strong></span>: If <code class="literal">true</code>, Elasticsearch refreshes the affected shards to make this operation visible to search. If <code class="literal">wait_for</code>, it waits for a refresh to make this operation visible to search. If <code class="literal">false</code>, it does nothing with refreshes.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for active shards. This parameter is useful for situations where the primary shard assigned to perform the delete operation might not be available when the delete operation runs. Some reasons for this might be that the primary shard is currently recovering from a store or undergoing relocation. By default, the delete operation will wait on the primary shard to become available for up to 1 minute before failing and responding with an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: An explicit version number for concurrency control. It must match the current version of the document for the request to succeed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version_type</code> (Optional, Enum("internal" | "external" | "external_gte" | "force"))</strong></span>: The version type.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The minimum number of shard copies that must be active before proceeding with the operation. You can set it to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>). The default value of <code class="literal">1</code> means it waits for each primary shard to be active.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_delete_by_query"></a>delete_by_query</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete documents.</p>
<p>Deletes documents that match the specified query.</p>
<p>If the Elasticsearch security features are enabled, you must have the following index privileges for the target data stream, index, or alias:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">read</code>
</li>
<li class="listitem">
<code class="literal">delete</code> or <code class="literal">write</code>
</li>
</ul>
</div>
<p>You can specify the query criteria in the request URI or the request body using the same syntax as the search API.
When you submit a delete by query request, Elasticsearch gets a snapshot of the data stream or index when it begins processing the request and deletes matching documents using internal versioning.
If a document changes between the time that the snapshot is taken and the delete operation is processed, it results in a version conflict and the delete operation fails.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Documents with a version equal to 0 cannot be deleted using delete by query because internal versioning does not support 0 as a valid version number.</p>
</div>
</div>
<p>While processing a delete by query request, Elasticsearch performs multiple search requests sequentially to find all of the matching documents to delete.
A bulk delete request is performed for each batch of matching documents.
If a search or bulk request is rejected, the requests are retried up to 10 times, with exponential back off.
If the maximum retry limit is reached, processing halts and all failed requests are returned in the response.
Any delete requests that completed successfully still stick, they are not rolled back.</p>
<p>You can opt to count version conflicts instead of halting and returning by setting <code class="literal">conflicts</code> to <code class="literal">proceed</code>.
Note that if you opt to count version conflicts the operation could attempt to delete more documents from the source than <code class="literal">max_docs</code> until it has successfully deleted <code class="literal">max_docs documents</code>, or it has gone through every document in the source query.</p>
<p><span class="strong strong"><strong>Throttling delete requests</strong></span></p>
<p>To control the rate at which delete by query issues batches of delete operations, you can set <code class="literal">requests_per_second</code> to any positive decimal number.
This pads each batch with a wait time to throttle the rate.
Set <code class="literal">requests_per_second</code> to <code class="literal">-1</code> to disable throttling.</p>
<p>Throttling uses a wait time between batches so that the internal scroll requests can be given a timeout that takes the request padding into account.
The padding time is the difference between the batch size divided by the <code class="literal">requests_per_second</code> and the time spent writing.
By default the batch size is <code class="literal">1000</code>, so if <code class="literal">requests_per_second</code> is set to <code class="literal">500</code>:</p>
<pre class="screen">target_time = 1000 / 500 per second = 2 seconds
wait_time = target_time - write_time = 2 seconds - .5 seconds = 1.5 seconds</pre>
<p>Since the batch is issued as a single <code class="literal">_bulk</code> request, large batch sizes cause Elasticsearch to create many requests and wait before starting the next set.
This is "bursty" instead of "smooth".</p>
<p><span class="strong strong"><strong>Slicing</strong></span></p>
<p>Delete by query supports sliced scroll to parallelize the delete process.
This can improve efficiency and provide a convenient way to break the request down into smaller parts.</p>
<p>Setting <code class="literal">slices</code> to <code class="literal">auto</code> lets Elasticsearch choose the number of slices to use.
This setting will use one slice per shard, up to a certain limit.
If there are multiple source data streams or indices, it will choose the number of slices based on the index or backing index with the smallest number of shards.
Adding slices to the delete by query operation creates sub-requests which means it has some quirks:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You can see these requests in the tasks APIs. These sub-requests are "child" tasks of the task for the request with slices.
</li>
<li class="listitem">
Fetching the status of the task for the request with slices only contains the status of completed slices.
</li>
<li class="listitem">
These sub-requests are individually addressable for things like cancellation and rethrottling.
</li>
<li class="listitem">
Rethrottling the request with <code class="literal">slices</code> will rethrottle the unfinished sub-request proportionally.
</li>
<li class="listitem">
Canceling the request with <code class="literal">slices</code> will cancel each sub-request.
</li>
<li class="listitem">
Due to the nature of <code class="literal">slices</code> each sub-request won&#8217;t get a perfectly even portion of the documents. All documents will be addressed, but some slices may be larger than others. Expect larger slices to have a more even distribution.
</li>
<li class="listitem">
Parameters like <code class="literal">requests_per_second</code> and <code class="literal">max_docs</code> on a request with <code class="literal">slices</code> are distributed proportionally to each sub-request. Combine that with the earlier point about distribution being uneven and you should conclude that using <code class="literal">max_docs</code> with <code class="literal">slices</code> might not result in exactly <code class="literal">max_docs</code> documents being deleted.
</li>
<li class="listitem">
Each sub-request gets a slightly different snapshot of the source data stream or index though these are all taken at approximately the same time.
</li>
</ul>
</div>
<p>If you&#8217;re slicing manually or otherwise tuning automatic slicing, keep in mind that:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Query performance is most efficient when the number of slices is equal to the number of shards in the index or backing index. If that number is large (for example, 500), choose a lower number as too many <code class="literal">slices</code> hurts performance. Setting <code class="literal">slices</code> higher than the number of shards generally does not improve efficiency and adds overhead.
</li>
<li class="listitem">
Delete performance scales linearly across available resources with the number of slices.
</li>
</ul>
</div>
<p>Whether query or delete performance dominates the runtime depends on the documents being reindexed and cluster resources.</p>
<p><span class="strong strong"><strong>Cancel a delete by query operation</strong></span></p>
<p>Any delete by query can be canceled using the task cancel API. For example:</p>
<pre class="screen">POST _tasks/r1A2WoRbTwKZ516z6NEs5A:36619/_cancel</pre>
<p>The task ID can be found by using the get tasks API.</p>
<p>Cancellation should happen quickly but might take a few seconds.
The get task status API will continue to list the delete by query task until this task checks that it has been cancelled and terminates itself.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-delete-by-query.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.deleteByQuery({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_7"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: A list of data streams, indices, and aliases to search. It supports wildcards (<code class="literal">*</code>). To search all data streams or indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_docs</code> (Optional, number)</strong></span>: The maximum number of documents to delete.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: The documents to delete specified with Query DSL.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">slice</code> (Optional, { field, id, max })</strong></span>: Slice the request manually using the provided slice ID and total number of slices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices. This behavior applies even if the request targets other open indices. For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyzer</code> (Optional, string)</strong></span>: Analyzer to use for the query string. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyze_wildcard</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, wildcard and prefix queries are analyzed. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">conflicts</code> (Optional, Enum("abort" | "proceed"))</strong></span>: What to do if delete by query hits version conflicts: <code class="literal">abort</code> or <code class="literal">proceed</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">default_operator</code> (Optional, Enum("and" | "or"))</strong></span>: The default operator for query string query: <code class="literal">AND</code> or <code class="literal">OR</code>. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">df</code> (Optional, string)</strong></span>: The field to use as default where no field prefix is given in the query string. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: The type of index that wildcard patterns can match. If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams. It supports a list of values, such as <code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">from</code> (Optional, number)</strong></span>: Starting offset (default: 0)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">lenient</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, format-based query failures (such as providing text to a numeric field) in the query string will be ignored. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. It is random by default.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, Elasticsearch refreshes all shards involved in the delete by query after the request completes. This is different than the delete API&#8217;s <code class="literal">refresh</code> parameter, which causes just the shard that received the delete request to be refreshed. Unlike the delete API, it does not support <code class="literal">wait_for</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">request_cache</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request cache is used for this request. Defaults to the index-level setting.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">requests_per_second</code> (Optional, float)</strong></span>: The throttle for this request in sub-requests per second.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">q</code> (Optional, string)</strong></span>: A query in the Lucene query string syntax.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll</code> (Optional, string | -1 | 0)</strong></span>: The period to retain the search context for scrolling.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll_size</code> (Optional, number)</strong></span>: The size of the scroll request that powers the operation.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_timeout</code> (Optional, string | -1 | 0)</strong></span>: The explicit timeout for each search request. It defaults to no timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_type</code> (Optional, Enum("query_then_fetch" | "dfs_query_then_fetch"))</strong></span>: The type of the search operation. Available options include <code class="literal">query_then_fetch</code> and <code class="literal">dfs_query_then_fetch</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">slices</code> (Optional, number | Enum("auto"))</strong></span>: The number of slices this task should be divided into.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">sort</code> (Optional, string[])</strong></span>: A list of <code class="literal">&lt;field&gt;:&lt;direction&gt;</code> pairs.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stats</code> (Optional, string[])</strong></span>: The specific <code class="literal">tag</code> of the request for logging and statistical purposes.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">terminate_after</code> (Optional, number)</strong></span>: The maximum number of documents to collect for each shard. If a query reaches this limit, Elasticsearch terminates the query early. Elasticsearch collects documents before sorting. Use with caution. Elasticsearch applies this parameter to each shard handling the request. When possible, let Elasticsearch perform early termination automatically. Avoid specifying this parameter for requests that target data streams with backing indices across multiple data tiers.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period each deletion request waits for active shards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns the document version as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of shard copies that must be active before proceeding with the operation. Set to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>). The <code class="literal">timeout</code> value controls how long each write request waits for unavailable shards to become available.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request blocks until the operation is complete. If <code class="literal">false</code>, Elasticsearch performs some preflight checks, launches the request, and returns a task you can use to cancel or get the status of the task. Elasticsearch creates a record of this task as a document at <code class="literal">.tasks/task/${taskId}</code>. When you are done with a task, you should delete the task document so Elasticsearch can reclaim the space.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_delete_by_query_rethrottle"></a>delete_by_query_rethrottle</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Throttle a delete by query operation.</p>
<p>Change the number of requests per second for a particular delete by query operation.
Rethrottling that speeds up the query takes effect immediately but rethrotting that slows down the query takes effect after completing the current batch to prevent scroll timeouts.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-delete-by-query.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.deleteByQueryRethrottle({ task_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_8"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">task_id</code> (string | number)</strong></span>: The ID for the task.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">requests_per_second</code> (Optional, float)</strong></span>: The throttle for this request in sub-requests per second. To disable throttling, set it to <code class="literal">-1</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_delete_script"></a>delete_script</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete a script or search template.
Deletes a stored script or search template.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/delete-stored-script-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.deleteScript({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_9"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: The identifier for the stored script or search template.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error. It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error. It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_exists"></a>exists</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Check a document.</p>
<p>Verify that a document exists.
For example, check to see if a document with the <code class="literal">_id</code> 0 exists:</p>
<pre class="screen">HEAD my-index-000001/_doc/0</pre>
<p>If the document exists, the API returns a status code of <code class="literal">200 - OK</code>.
If the document doesn’t exist, the API returns <code class="literal">404 - Not Found</code>.</p>
<p><span class="strong strong"><strong>Versioning support</strong></span></p>
<p>You can use the <code class="literal">version</code> parameter to check the document only if its current version is equal to the specified one.</p>
<p>Internally, Elasticsearch has marked the old document as deleted and added an entirely new document.
The old version of the document doesn&#8217;t disappear immediately, although you won&#8217;t be able to access it.
Elasticsearch cleans up deleted documents in the background as you continue to index more data.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-get.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.exists({ id, index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_10"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: A unique document identifier.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: A list of data streams, indices, and aliases. It supports wildcards (<code class="literal">*</code>).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. By default, the operation is randomized between the shard replicas. If it is set to <code class="literal">_local</code>, the operation will prefer to be run on a local allocated shard when possible. If it is set to a custom value, the value is used to guarantee that the same shards will be used for the same custom value. This can help with "jumping values" when hitting different shards in different refresh states. A sample value can be something like the web session ID or the user name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">realtime</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request is real-time as opposed to near-real-time.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request refreshes the relevant shards before retrieving the document. Setting it to <code class="literal">true</code> should be done after careful thought and verification that this does not cause a heavy load on the system (and slow down indexing).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | string | string[])</strong></span>: Indicates whether to return the <code class="literal">_source</code> field (<code class="literal">true</code> or <code class="literal">false</code>) or lists the fields to return.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>: A list of source fields to exclude from the response. You can also use this parameter to exclude fields from the subset specified in <code class="literal">_source_includes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>: A list of source fields to include in the response. If this parameter is specified, only these source fields are returned. You can exclude fields from this subset using the <code class="literal">_source_excludes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stored_fields</code> (Optional, string | string[])</strong></span>: A list of stored fields to return as part of a hit. If no fields are specified, no stored fields are included in the response. If this field is specified, the <code class="literal">_source</code> parameter defaults to <code class="literal">false</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: Explicit version number for concurrency control. The specified version must match the current version of the document for the request to succeed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version_type</code> (Optional, Enum("internal" | "external" | "external_gte" | "force"))</strong></span>: The version type.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_exists_source"></a>exists_source</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Check for a document source.</p>
<p>Check whether a document source exists in an index.
For example:</p>
<pre class="screen">HEAD my-index-000001/_source/1</pre>
<p>A document&#8217;s source is not available if it is disabled in the mapping.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-get.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.existsSource({ id, index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_11"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: A unique identifier for the document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: A list of data streams, indices, and aliases. It supports wildcards (<code class="literal">*</code>).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. By default, the operation is randomized between the shard replicas.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">realtime</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request is real-time as opposed to near-real-time.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request refreshes the relevant shards before retrieving the document. Setting it to <code class="literal">true</code> should be done after careful thought and verification that this does not cause a heavy load on the system (and slow down indexing).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | string | string[])</strong></span>: Indicates whether to return the <code class="literal">_source</code> field (<code class="literal">true</code> or <code class="literal">false</code>) or lists the fields to return.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>: A list of source fields to exclude in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>: A list of source fields to include in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: The version number for concurrency control. It must match the current version of the document for the request to succeed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version_type</code> (Optional, Enum("internal" | "external" | "external_gte" | "force"))</strong></span>: The version type.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_explain"></a>explain</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Explain a document match result.
Get information about why a specific document matches, or doesn&#8217;t match, a query.
It computes a score explanation for a query and a specific document.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/search-explain.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.explain({ id, index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_12"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: The document identifier.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: Index names that are used to limit the request. Only a single index name can be provided to this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Defines the search definition using the Query DSL.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyzer</code> (Optional, string)</strong></span>: The analyzer to use for the query string. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyze_wildcard</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, wildcard and prefix queries are analyzed. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">default_operator</code> (Optional, Enum("and" | "or"))</strong></span>: The default operator for query string query: <code class="literal">AND</code> or <code class="literal">OR</code>. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">df</code> (Optional, string)</strong></span>: The field to use as default where no field prefix is given in the query string. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">lenient</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, format-based query failures (such as providing text to a numeric field) in the query string will be ignored. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. It is random by default.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | string | string[])</strong></span>: <code class="literal">True</code> or <code class="literal">false</code> to return the <code class="literal">_source</code> field or not or a list of fields to return.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>: A list of source fields to exclude from the response. You can also use this parameter to exclude fields from the subset specified in <code class="literal">_source_includes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>: A list of source fields to include in the response. If this parameter is specified, only these source fields are returned. You can exclude fields from this subset using the <code class="literal">_source_excludes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stored_fields</code> (Optional, string | string[])</strong></span>: A list of stored fields to return in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">q</code> (Optional, string)</strong></span>: The query in the Lucene query string syntax.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_field_caps"></a>field_caps</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the field capabilities.</p>
<p>Get information about the capabilities of fields among multiple indices.</p>
<p>For data streams, the API returns field capabilities among the stream’s backing indices.
It returns runtime fields like any other field.
For example, a runtime field with a type of keyword is returned the same as any other field that belongs to the <code class="literal">keyword</code> family.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/search-field-caps.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.fieldCaps({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_13"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and aliases used to limit the request. Supports wildcards (*). To target all data streams and indices, omit this parameter or use * or _all.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, string | string[])</strong></span>: A list of fields to retrieve capabilities for. Wildcard (<code class="literal">*</code>) expressions are supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Filter indices if the provided query rewrites to <code class="literal">match_none</code> on every shard. IMPORTANT: The filtering is done on a best-effort basis, it uses index statistics and mappings to rewrite queries to <code class="literal">match_none</code> instead of fully running the request. For instance a range query over a date field can rewrite to <code class="literal">match_none</code> if all documents within a shard (including deleted documents) are outside of the provided range. However, not all queries can rewrite to <code class="literal">match_none</code> so this API may return an index even if the provided filter matches no document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">runtime_mappings</code> (Optional, Record&lt;string, { fields, fetch_fields, format, input_field, target_field, target_index, script, type }&gt;)</strong></span>: Define ad-hoc runtime fields in the request similar to the way it is done in search requests. These fields exist only as part of the query and take precedence over fields defined with the same name in the index mappings.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If false, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices. This behavior applies even if the request targets other open indices. For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with foo but no index starts with bar.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: The type of index that wildcard patterns can match. If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams. Supports a list of values, such as <code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, missing or closed indices are not included in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_unmapped</code> (Optional, boolean)</strong></span>: If true, unmapped fields are included in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">filters</code> (Optional, string)</strong></span>: A list of filters to apply to the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">types</code> (Optional, string[])</strong></span>: A list of field types to include. Any fields that do not match one of these types will be excluded from the results. It defaults to empty, meaning that all field types are returned.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_empty_fields</code> (Optional, boolean)</strong></span>: If false, empty fields are not included in the response.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_get"></a>get</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get a document by its ID.</p>
<p>Get a document and its source or stored fields from an index.</p>
<p>By default, this API is realtime and is not affected by the refresh rate of the index (when data will become visible for search).
In the case where stored fields are requested with the <code class="literal">stored_fields</code> parameter and the document has been updated but is not yet refreshed, the API will have to parse and analyze the source to extract the stored fields.
To turn off realtime behavior, set the <code class="literal">realtime</code> parameter to false.</p>
<p><span class="strong strong"><strong>Source filtering</strong></span></p>
<p>By default, the API returns the contents of the <code class="literal">_source</code> field unless you have used the <code class="literal">stored_fields</code> parameter or the <code class="literal">_source</code> field is turned off.
You can turn off <code class="literal">_source</code> retrieval by using the <code class="literal">_source</code> parameter:</p>
<pre class="screen">GET my-index-000001/_doc/0?_source=false</pre>
<p>If you only need one or two fields from the <code class="literal">_source</code>, use the <code class="literal">_source_includes</code> or <code class="literal">_source_excludes</code> parameters to include or filter out particular fields.
This can be helpful with large documents where partial retrieval can save on network overhead
Both parameters take a comma separated list of fields or wildcard expressions.
For example:</p>
<pre class="screen">GET my-index-000001/_doc/0?_source_includes=*.id&amp;_source_excludes=entities</pre>
<p>If you only want to specify includes, you can use a shorter notation:</p>
<pre class="screen">GET my-index-000001/_doc/0?_source=*.id</pre>
<p><span class="strong strong"><strong>Routing</strong></span></p>
<p>If routing is used during indexing, the routing value also needs to be specified to retrieve a document.
For example:</p>
<pre class="screen">GET my-index-000001/_doc/2?routing=user1</pre>
<p>This request gets the document with ID 2, but it is routed based on the user.
The document is not fetched if the correct routing is not specified.</p>
<p><span class="strong strong"><strong>Distributed</strong></span></p>
<p>The GET operation is hashed into a specific shard ID.
It is then redirected to one of the replicas within that shard ID and returns the result.
The replicas are the primary shard and its replicas within that shard ID group.
This means that the more replicas you have, the better your GET scaling will be.</p>
<p><span class="strong strong"><strong>Versioning support</strong></span></p>
<p>You can use the <code class="literal">version</code> parameter to retrieve the document only if its current version is equal to the specified one.</p>
<p>Internally, Elasticsearch has marked the old document as deleted and added an entirely new document.
The old version of the document doesn&#8217;t disappear immediately, although you won&#8217;t be able to access it.
Elasticsearch cleans up deleted documents in the background as you continue to index more data.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-get.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.get({ id, index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_14"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: A unique document identifier.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the index that contains the document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">force_synthetic_source</code> (Optional, boolean)</strong></span>: Indicates whether the request forces synthetic <code class="literal">_source</code>. Use this paramater to test if the mapping supports synthetic <code class="literal">_source</code> and to get a sense of the worst case performance. Fetches with this parameter enabled will be slower than enabling synthetic source natively in the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. By default, the operation is randomized between the shard replicas. If it is set to <code class="literal">_local</code>, the operation will prefer to be run on a local allocated shard when possible. If it is set to a custom value, the value is used to guarantee that the same shards will be used for the same custom value. This can help with "jumping values" when hitting different shards in different refresh states. A sample value can be something like the web session ID or the user name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">realtime</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request is real-time as opposed to near-real-time.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request refreshes the relevant shards before retrieving the document. Setting it to <code class="literal">true</code> should be done after careful thought and verification that this does not cause a heavy load on the system (and slow down indexing).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | string | string[])</strong></span>: Indicates whether to return the <code class="literal">_source</code> field (<code class="literal">true</code> or <code class="literal">false</code>) or lists the fields to return.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>: A list of source fields to exclude from the response. You can also use this parameter to exclude fields from the subset specified in <code class="literal">_source_includes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>: A list of source fields to include in the response. If this parameter is specified, only these source fields are returned. You can exclude fields from this subset using the <code class="literal">_source_excludes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stored_fields</code> (Optional, string | string[])</strong></span>: A list of stored fields to return as part of a hit. If no fields are specified, no stored fields are included in the response. If this field is specified, the <code class="literal">_source</code> parameter defaults to <code class="literal">false</code>. Only leaf fields can be retrieved with the <code class="literal">stored_field</code> option. Object fields can&#8217;t be returned;if specified, the request fails.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: The version number for concurrency control. It must match the current version of the document for the request to succeed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version_type</code> (Optional, Enum("internal" | "external" | "external_gte" | "force"))</strong></span>: The version type.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_get_script"></a>get_script</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get a script or search template.
Retrieves a stored script or search template.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/get-stored-script-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.getScript({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_15"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: The identifier for the stored script or search template.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for the master node. If the master node is not available before the timeout expires, the request fails and returns an error. It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_get_script_context"></a>get_script_context</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get script contexts.</p>
<p>Get a list of supported script contexts and their methods.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/get-script-contexts-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.getScriptContext()</pre>
</div>
<div class="position-relative"><h3><a id="_get_script_languages"></a>get_script_languages</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get script languages.</p>
<p>Get a list of available script types, languages, and contexts.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/get-script-languages-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.getScriptLanguages()</pre>
</div>
<div class="position-relative"><h3><a id="_get_source"></a>get_source</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get a document&#8217;s source.</p>
<p>Get the source of a document.
For example:</p>
<pre class="screen">GET my-index-000001/_source/1</pre>
<p>You can use the source filtering parameters to control which parts of the <code class="literal">_source</code> are returned:</p>
<pre class="screen">GET my-index-000001/_source/1/?_source_includes=*.id&amp;_source_excludes=entities</pre>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-get.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.getSource({ id, index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_16"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: A unique document identifier.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the index that contains the document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. By default, the operation is randomized between the shard replicas.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">realtime</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request is real-time as opposed to near-real-time.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request refreshes the relevant shards before retrieving the document. Setting it to <code class="literal">true</code> should be done after careful thought and verification that this does not cause a heavy load on the system (and slow down indexing).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | string | string[])</strong></span>: Indicates whether to return the <code class="literal">_source</code> field (<code class="literal">true</code> or <code class="literal">false</code>) or lists the fields to return.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>: A list of source fields to exclude in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>: A list of source fields to include in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stored_fields</code> (Optional, string | string[])</strong></span>: A list of stored fields to return as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: The version number for concurrency control. It must match the current version of the document for the request to succeed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version_type</code> (Optional, Enum("internal" | "external" | "external_gte" | "force"))</strong></span>: The version type.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_health_report"></a>health_report</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the cluster health.
Get a report with the health status of an Elasticsearch cluster.
The report contains a list of indicators that compose Elasticsearch functionality.</p>
<p>Each indicator has a health status of: green, unknown, yellow or red.
The indicator will provide an explanation and metadata describing the reason for its current health status.</p>
<p>The cluster’s status is controlled by the worst indicator status.</p>
<p>In the event that an indicator’s status is non-green, a list of impacts may be present in the indicator result which detail the functionalities that are negatively affected by the health issue.
Each impact carries with it a severity level, an area of the system that is affected, and a simple description of the impact on the system.</p>
<p>Some health indicators can determine the root cause of a health problem and prescribe a set of steps that can be performed in order to improve the health of the system.
The root cause and remediation steps are encapsulated in a diagnosis.
A diagnosis contains a cause detailing a root cause analysis, an action containing a brief description of the steps to take to fix the problem, the list of affected resources (if applicable), and a detailed step-by-step troubleshooting guide to fix the diagnosed problem.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The health indicators perform root cause analysis of non-green health statuses. This can be computationally expensive when called frequently.
When setting up automated polling of the API for health status, set verbose to false to disable the more expensive analysis logic.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/health-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.healthReport({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_17"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">feature</code> (Optional, string | string[])</strong></span>: A feature of the cluster, as returned by the top-level health report API.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Explicit operation timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">verbose</code> (Optional, boolean)</strong></span>: Opt-in for more information about the health of the system.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: Limit the number of affected resources the health report API returns.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_index"></a>index</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create or update a document in an index.</p>
<p>Add a JSON document to the specified data stream or index and make it searchable.
If the target is an index and the document already exists, the request updates the document and increments its version.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot use this API to send update requests for existing documents in a data stream.</p>
</div>
</div>
<p>If the Elasticsearch security features are enabled, you must have the following index privileges for the target data stream, index, or index alias:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To add or overwrite a document using the <code class="literal">PUT /&lt;target&gt;/_doc/&lt;_id&gt;</code> request format, you must have the <code class="literal">create</code>, <code class="literal">index</code>, or <code class="literal">write</code> index privilege.
</li>
<li class="listitem">
To add a document using the <code class="literal">POST /&lt;target&gt;/_doc/</code> request format, you must have the <code class="literal">create_doc</code>, <code class="literal">create</code>, <code class="literal">index</code>, or <code class="literal">write</code> index privilege.
</li>
<li class="listitem">
To automatically create a data stream or index with this API request, you must have the <code class="literal">auto_configure</code>, <code class="literal">create_index</code>, or <code class="literal">manage</code> index privilege.
</li>
</ul>
</div>
<p>Automatic data stream creation requires a matching index template with data stream enabled.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Replica shards might not all be started when an indexing operation returns successfully.
By default, only the primary is required. Set <code class="literal">wait_for_active_shards</code> to change this default behavior.</p>
</div>
</div>
<p><span class="strong strong"><strong>Automatically create data streams and indices</strong></span></p>
<p>If the request&#8217;s target doesn&#8217;t exist and matches an index template with a <code class="literal">data_stream</code> definition, the index operation automatically creates the data stream.</p>
<p>If the target doesn&#8217;t exist and doesn&#8217;t match a data stream template, the operation automatically creates the index and applies any matching index templates.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch includes several built-in index templates. To avoid naming collisions with these templates, refer to index pattern documentation.</p>
</div>
</div>
<p>If no mapping exists, the index operation creates a dynamic mapping.
By default, new fields and objects are automatically added to the mapping if needed.</p>
<p>Automatic index creation is controlled by the <code class="literal">action.auto_create_index</code> setting.
If it is <code class="literal">true</code>, any index can be created automatically.
You can modify this setting to explicitly allow or block automatic creation of indices that match specified patterns or set it to <code class="literal">false</code> to turn off automatic index creation entirely.
Specify a list of patterns you want to allow or prefix each pattern with <code class="literal">+</code> or <code class="literal">-</code> to indicate whether it should be allowed or blocked.
When a list is specified, the default behaviour is to disallow.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">action.auto_create_index</code> setting affects the automatic creation of indices only.
It does not affect the creation of data streams.</p>
</div>
</div>
<p><span class="strong strong"><strong>Optimistic concurrency control</strong></span></p>
<p>Index operations can be made conditional and only be performed if the last modification to the document was assigned the sequence number and primary term specified by the <code class="literal">if_seq_no</code> and <code class="literal">if_primary_term</code> parameters.
If a mismatch is detected, the operation will result in a <code class="literal">VersionConflictException</code> and a status code of <code class="literal">409</code>.</p>
<p><span class="strong strong"><strong>Routing</strong></span></p>
<p>By default, shard placement — or routing — is controlled by using a hash of the document&#8217;s ID value.
For more explicit control, the value fed into the hash function used by the router can be directly specified on a per-operation basis using the <code class="literal">routing</code> parameter.</p>
<p>When setting up explicit mapping, you can also use the <code class="literal">_routing</code> field to direct the index operation to extract the routing value from the document itself.
This does come at the (very minimal) cost of an additional document parsing pass.
If the <code class="literal">_routing</code> mapping is defined and set to be required, the index operation will fail if no routing value is provided or extracted.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Data streams do not support custom routing unless they were created with the <code class="literal">allow_custom_routing</code> setting enabled in the template.</p>
</div>
</div>
<p><span class="strong strong"><strong>Distributed</strong></span></p>
<p>The index operation is directed to the primary shard based on its route and performed on the actual node containing this shard.
After the primary shard completes the operation, if needed, the update is distributed to applicable replicas.</p>
<p><span class="strong strong"><strong>Active shards</strong></span></p>
<p>To improve the resiliency of writes to the system, indexing operations can be configured to wait for a certain number of active shard copies before proceeding with the operation.
If the requisite number of active shard copies are not available, then the write operation must wait and retry, until either the requisite shard copies have started or a timeout occurs.
By default, write operations only wait for the primary shards to be active before proceeding (that is to say <code class="literal">wait_for_active_shards</code> is <code class="literal">1</code>).
This default can be overridden in the index settings dynamically by setting <code class="literal">index.write.wait_for_active_shards</code>.
To alter this behavior per operation, use the <code class="literal">wait_for_active_shards request</code> parameter.</p>
<p>Valid values are all or any positive integer up to the total number of configured copies per shard in the index (which is <code class="literal">number_of_replicas</code>+1).
Specifying a negative value or a number greater than the number of shard copies will throw an error.</p>
<p>For example, suppose you have a cluster of three nodes, A, B, and C and you create an index index with the number of replicas set to 3 (resulting in 4 shard copies, one more copy than there are nodes).
If you attempt an indexing operation, by default the operation will only ensure the primary copy of each shard is available before proceeding.
This means that even if B and C went down and A hosted the primary shard copies, the indexing operation would still proceed with only one copy of the data.
If <code class="literal">wait_for_active_shards</code> is set on the request to <code class="literal">3</code> (and all three nodes are up), the indexing operation will require 3 active shard copies before proceeding.
This requirement should be met because there are 3 active nodes in the cluster, each one holding a copy of the shard.
However, if you set <code class="literal">wait_for_active_shards</code> to <code class="literal">all</code> (or to <code class="literal">4</code>, which is the same in this situation), the indexing operation will not proceed as you do not have all 4 copies of each shard active in the index.
The operation will timeout unless a new node is brought up in the cluster to host the fourth copy of the shard.</p>
<p>It is important to note that this setting greatly reduces the chances of the write operation not writing to the requisite number of shard copies, but it does not completely eliminate the possibility, because this check occurs before the write operation starts.
After the write operation is underway, it is still possible for replication to fail on any number of shard copies but still succeed on the primary.
The <code class="literal">_shards</code> section of the API response reveals the number of shard copies on which replication succeeded and failed.</p>
<p><span class="strong strong"><strong>No operation (noop) updates</strong></span></p>
<p>When updating a document by using this API, a new version of the document is always created even if the document hasn&#8217;t changed.
If this isn&#8217;t acceptable use the <code class="literal">_update</code> API with <code class="literal">detect_noop</code> set to <code class="literal">true</code>.
The <code class="literal">detect_noop</code> option isn&#8217;t available on this API because it doesn’t fetch the old source and isn&#8217;t able to compare it against the new source.</p>
<p>There isn&#8217;t a definitive rule for when noop updates aren&#8217;t acceptable.
It&#8217;s a combination of lots of factors like how frequently your data source sends updates that are actually noops and how many queries per second Elasticsearch runs on the shard receiving the updates.</p>
<p><span class="strong strong"><strong>Versioning</strong></span></p>
<p>Each indexed document is given a version number.
By default, internal versioning is used that starts at 1 and increments with each update, deletes included.
Optionally, the version number can be set to an external value (for example, if maintained in a database).
To enable this functionality, <code class="literal">version_type</code> should be set to <code class="literal">external</code>.
The value provided must be a numeric, long value greater than or equal to 0, and less than around <code class="literal">9.2e+18</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Versioning is completely real time, and is not affected by the near real time aspects of search operations.
If no version is provided, the operation runs without any version checks.</p>
</div>
</div>
<p>When using the external version type, the system checks to see if the version number passed to the index request is greater than the version of the currently stored document.
If true, the document will be indexed and the new version number used.
If the value provided is less than or equal to the stored document&#8217;s version number, a version conflict will occur and the index operation will fail. For example:</p>
<pre class="screen">PUT my-index-000001/_doc/1?version=2&amp;version_type=external
{
  "user": {
    "id": "elkbee"
  }
}</pre>
<p>In this example, the operation will succeed since the supplied version of 2 is higher than the current document version of 1.
If the document was already updated and its version was set to 2 or higher, the indexing command will fail and result in a conflict (409 HTTP status code).</p>
<p>A nice side effect is that there is no need to maintain strict ordering of async indexing operations run as a result of changes to a source database, as long as version numbers from the source database are used.
Even the simple case of updating the Elasticsearch index using data from a database is simplified if external versioning is used, as only the latest version will be used if the index operations arrive out of order.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-index_.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.index({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_18"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the data stream or index to target. If the target doesn&#8217;t exist and matches the name or wildcard (<code class="literal">*</code>) pattern of an index template with a <code class="literal">data_stream</code> definition, this request creates the data stream. If the target doesn&#8217;t exist and doesn&#8217;t match a data stream template, this request creates the index. You can check for existing targets with the resolve index API.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (Optional, string)</strong></span>: A unique identifier for the document. To automatically generate a document ID, use the <code class="literal">POST /&lt;target&gt;/_doc/</code> request format and omit this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">document</code> (Optional, object)</strong></span>: A document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">if_primary_term</code> (Optional, number)</strong></span>: Only perform the operation if the document has this primary term.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">if_seq_no</code> (Optional, number)</strong></span>: Only perform the operation if the document has this sequence number.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_source_on_error</code> (Optional, boolean)</strong></span>: True or false if to include the document source in the error message in case of parsing errors.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">op_type</code> (Optional, Enum("index" | "create"))</strong></span>: Set to <code class="literal">create</code> to only index the document if it does not already exist (put if absent). If a document with the specified <code class="literal">_id</code> already exists, the indexing operation will fail. The behavior is the same as using the <code class="literal">&lt;index&gt;/_create</code> endpoint. If a document ID is specified, this paramater defaults to <code class="literal">index</code>. Otherwise, it defaults to <code class="literal">create</code>. If the request targets a data stream, an <code class="literal">op_type</code> of <code class="literal">create</code> is required.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pipeline</code> (Optional, string)</strong></span>: The ID of the pipeline to use to preprocess incoming documents. If the index has a default ingest pipeline specified, then setting the value to <code class="literal">_none</code> disables the default ingest pipeline for this request. If a final pipeline is configured it will always run, regardless of the value of this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, Enum(true | false | "wait_for"))</strong></span>: If <code class="literal">true</code>, Elasticsearch refreshes the affected shards to make this operation visible to search. If <code class="literal">wait_for</code>, it waits for a refresh to make this operation visible to search. If <code class="literal">false</code>, it does nothing with refreshes.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value that is used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period the request waits for the following operations: automatic index creation, dynamic mapping updates, waiting for active shards. This parameter is useful for situations where the primary shard assigned to perform the operation might not be available when the operation runs. Some reasons for this might be that the primary shard is currently recovering from a gateway or undergoing relocation. By default, the operation will wait on the primary shard to become available for at least 1 minute before failing and responding with an error. The actual wait time could be longer, particularly when multiple waits occur.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: An explicit version number for concurrency control. It must be a non-negative long number.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version_type</code> (Optional, Enum("internal" | "external" | "external_gte" | "force"))</strong></span>: The version type.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of shard copies that must be active before proceeding with the operation. You can set it to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>). The default value of <code class="literal">1</code> means it waits for each primary shard to be active.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">require_alias</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the destination must be an index alias.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_info"></a>info</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get cluster info.
Get basic build, version, and cluster information.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/rest-api-root.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.info()</pre>
</div>
<div class="position-relative"><h3><a id="_knn_search"></a>knn_search</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run a knn search.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The kNN search API has been replaced by the <code class="literal">knn</code> option in the search API.</p>
</div>
</div>
<p>Perform a k-nearest neighbor (kNN) search on a dense_vector field and return the matching documents.
Given a query vector, the API finds the k closest vectors and returns those documents as search hits.</p>
<p>Elasticsearch uses the HNSW algorithm to support efficient kNN search.
Like most kNN algorithms, HNSW is an approximate method that sacrifices result accuracy for improved search speed.
This means the results returned are not always the true k closest neighbors.</p>
<p>The kNN search API supports restricting the search using a filter.
The search will return the top k documents that also match the filter query.</p>
<p>A kNN search response has the exact same structure as a search API response.
However, certain sections have a meaning specific to kNN search:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The document <code class="literal">_score</code> is determined by the similarity between the query and document vector.
</li>
<li class="listitem">
The <code class="literal">hits.total</code> object contains the total number of nearest neighbor candidates considered, which is <code class="literal">num_candidates * num_shards</code>. The <code class="literal">hits.total.relation</code> will always be <code class="literal">eq</code>, indicating an exact value.
</li>
</ul>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/knn-search-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.knnSearch({ index, knn })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_19"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: A list of index names to search; use <code class="literal">_all</code> or to perform the operation on all indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">knn</code> ({ field, query_vector, k, num_candidates })</strong></span>: The kNN query to run.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | { excludes, includes })</strong></span>: Indicates which source fields are returned for matching documents. These fields are returned in the <code class="literal">hits._source</code> property of the search response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">docvalue_fields</code> (Optional, { field, format, include_unmapped }[])</strong></span>: The request returns doc values for field names matching these patterns in the <code class="literal">hits.fields</code> property of the response. It accepts wildcard (<code class="literal">*</code>) patterns.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stored_fields</code> (Optional, string | string[])</strong></span>: A list of stored fields to return as part of a hit. If no fields are specified, no stored fields are included in the response. If this field is specified, the <code class="literal">_source</code> parameter defaults to <code class="literal">false</code>. You can pass <code class="literal">_source: true</code> to return both source fields and stored fields in the search response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, string | string[])</strong></span>: The request returns values for field names matching these patterns in the <code class="literal">hits.fields</code> property of the response. It accepts wildcard (<code class="literal">*</code>) patterns.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type } | { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type }[])</strong></span>: A query to filter the documents that can match. The kNN search will return the top <code class="literal">k</code> documents that also match this filter. The value can be a single query or a list of queries. If <code class="literal">filter</code> isn&#8217;t provided, all documents are allowed to match.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A list of specific routing values.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_mget"></a>mget</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get multiple documents.</p>
<p>Get multiple JSON documents by ID from one or more indices.
If you specify an index in the request URI, you only need to specify the document IDs in the request body.
To ensure fast responses, this multi get (mget) API responds with partial results if one or more shards fail.</p>
<p><span class="strong strong"><strong>Filter source fields</strong></span></p>
<p>By default, the <code class="literal">_source</code> field is returned for every document (if stored).
Use the <code class="literal">_source</code> and <code class="literal">_source_include</code> or <code class="literal">source_exclude</code> attributes to filter what fields are returned for a particular document.
You can include the <code class="literal">_source</code>, <code class="literal">_source_includes</code>, and <code class="literal">_source_excludes</code> query parameters in the request URI to specify the defaults to use when there are no per-document instructions.</p>
<p><span class="strong strong"><strong>Get stored fields</strong></span></p>
<p>Use the <code class="literal">stored_fields</code> attribute to specify the set of stored fields you want to retrieve.
Any requested fields that are not stored are ignored.
You can include the <code class="literal">stored_fields</code> query parameter in the request URI to specify the defaults to use when there are no per-document instructions.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-multi-get.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.mget({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_20"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string)</strong></span>: Name of the index to retrieve documents from when <code class="literal">ids</code> are specified, or when a document in the <code class="literal">docs</code> array does not specify an index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">docs</code> (Optional, { _id, _index, routing, _source, stored_fields, version, version_type }[])</strong></span>: The documents you want to retrieve. Required if no index is specified in the request URI.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ids</code> (Optional, string | string[])</strong></span>: The IDs of the documents you want to retrieve. Allowed when the index is specified in the request URI.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">force_synthetic_source</code> (Optional, boolean)</strong></span>: Should this request force synthetic _source? Use this to test if the mapping supports synthetic _source and to get a sense of the worst case performance. Fetches with this enabled will be slower the enabling synthetic source natively in the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: Specifies the node or shard the operation should be performed on. Random by default.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">realtime</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request is real-time as opposed to near-real-time.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request refreshes relevant shards before retrieving documents.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: Custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | string | string[])</strong></span>: True or false to return the <code class="literal">_source</code> field or not, or a list of fields to return.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>: A list of source fields to exclude from the response. You can also use this parameter to exclude fields from the subset specified in <code class="literal">_source_includes</code> query parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>: A list of source fields to include in the response. If this parameter is specified, only these source fields are returned. You can exclude fields from this subset using the <code class="literal">_source_excludes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stored_fields</code> (Optional, string | string[])</strong></span>: If <code class="literal">true</code>, retrieves the document fields stored in the index rather than the document <code class="literal">_source</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_msearch"></a>msearch</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run multiple searches.</p>
<p>The format of the request is similar to the bulk API format and makes use of the newline delimited JSON (NDJSON) format.
The structure is as follows:</p>
<pre class="screen">header\n
body\n
header\n
body\n</pre>
<p>This structure is specifically optimized to reduce parsing if a specific search ends up redirected to another node.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The final line of data must end with a newline character <code class="literal">\n</code>.
Each newline character may be preceded by a carriage return <code class="literal">\r</code>.
When sending requests to this endpoint the <code class="literal">Content-Type</code> header should be set to <code class="literal">application/x-ndjson</code>.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/search-multi-search.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.msearch({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_21"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and index aliases to search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">searches</code> (Optional, { allow_no_indices, expand_wildcards, ignore_unavailable, index, preference, request_cache, routing, search_type, ccs_minimize_roundtrips, allow_partial_search_results, ignore_throttled } | { aggregations, collapse, query, explain, ext, stored_fields, docvalue_fields, knn, from, highlight, indices_boost, min_score, post_filter, profile, rescore, script_fields, search_after, size, sort, _source, fields, terminate_after, stats, timeout, track_scores, track_total_hits, version, runtime_mappings, seq_no_primary_term, pit, suggest }[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If false, the request returns an error if any wildcard expression, index alias, or _all value targets only missing or closed indices. This behavior applies even if the request targets other open indices. For example, a request targeting foo*,bar* returns an error if an index starts with foo but no index starts with bar.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ccs_minimize_roundtrips</code> (Optional, boolean)</strong></span>: If true, network roundtrips between the coordinating node and remote clusters are minimized for cross-cluster search requests.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard expressions can match. If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_throttled</code> (Optional, boolean)</strong></span>: If true, concrete, expanded or aliased indices are ignored when frozen.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If true, missing or closed indices are not included in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_named_queries_score</code> (Optional, boolean)</strong></span>: Indicates whether hit.matched_queries should be rendered as a map that includes the name of the matched query associated with its score (true) or as an array containing the name of the matched queries (false) This functionality reruns each named query on every hit in a search response. Typically, this adds a small overhead to a request. However, using computationally expensive named queries on a large number of hits may add significant overhead.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_concurrent_searches</code> (Optional, number)</strong></span>: Maximum number of concurrent searches the multi search API can execute.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_concurrent_shard_requests</code> (Optional, number)</strong></span>: Maximum number of concurrent shard requests that each sub-search request executes per node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pre_filter_shard_size</code> (Optional, number)</strong></span>: Defines a threshold that enforces a pre-filter roundtrip to prefilter search shards based on query rewriting if the number of shards the search request expands to exceeds the threshold. This filter roundtrip can limit the number of shards significantly if for instance a shard can not match any documents based on its rewrite method i.e., if date filters are mandatory to match but the shard bounds and the query are disjoint.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rest_total_hits_as_int</code> (Optional, boolean)</strong></span>: If true, hits.total are returned as an integer in the response. Defaults to false, which returns an object.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: Custom routing value used to route search operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_type</code> (Optional, Enum("query_then_fetch" | "dfs_query_then_fetch"))</strong></span>: Indicates whether global term and document frequencies should be used when scoring returned documents.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">typed_keys</code> (Optional, boolean)</strong></span>: Specifies whether aggregation and suggester names should be prefixed by their respective types in the response.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_msearch_template"></a>msearch_template</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run multiple templated searches.</p>
<p>Run multiple templated searches with a single request.
If you are providing a text file or text input to <code class="literal">curl</code>, use the <code class="literal">--data-binary</code> flag instead of <code class="literal">-d</code> to preserve newlines.
For example:</p>
<pre class="screen">$ cat requests
{ "index": "my-index" }
{ "id": "my-search-template", "params": { "query_string": "hello world", "from": 0, "size": 10 }}
{ "index": "my-other-index" }
{ "id": "my-other-search-template", "params": { "query_type": "match_all" }}

$ curl -H "Content-Type: application/x-ndjson" -XGET localhost:9200/_msearch/template --data-binary "@requests"; echo</pre>
<p><a href="/guide/en/elasticsearch/reference/8.18/multi-search-template.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.msearchTemplate({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_22"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and aliases to search. It supports wildcards (<code class="literal">*</code>). To search all data streams and indices, omit this parameter or use <code class="literal">*</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_templates</code> (Optional, { allow_no_indices, expand_wildcards, ignore_unavailable, index, preference, request_cache, routing, search_type, ccs_minimize_roundtrips, allow_partial_search_results, ignore_throttled } | { aggregations, collapse, query, explain, ext, stored_fields, docvalue_fields, knn, from, highlight, indices_boost, min_score, post_filter, profile, rescore, script_fields, search_after, size, sort, _source, fields, terminate_after, stats, timeout, track_scores, track_total_hits, version, runtime_mappings, seq_no_primary_term, pit, suggest }[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ccs_minimize_roundtrips</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, network round-trips are minimized for cross-cluster search requests.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_concurrent_searches</code> (Optional, number)</strong></span>: The maximum number of concurrent searches the API can run.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_type</code> (Optional, Enum("query_then_fetch" | "dfs_query_then_fetch"))</strong></span>: The type of the search operation.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rest_total_hits_as_int</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response returns <code class="literal">hits.total</code> as an integer. If <code class="literal">false</code>, it returns <code class="literal">hits.total</code> as an object.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">typed_keys</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response prefixes aggregation and suggester names with their respective types.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_mtermvectors"></a>mtermvectors</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get multiple term vectors.</p>
<p>Get multiple term vectors with a single request.
You can specify existing documents by index and ID or provide artificial documents in the body of the request.
You can specify the index in the request body or request URI.
The response contains a <code class="literal">docs</code> array with all the fetched termvectors.
Each element has the structure provided by the termvectors API.</p>
<p><span class="strong strong"><strong>Artificial documents</strong></span></p>
<p>You can also use <code class="literal">mtermvectors</code> to generate term vectors for artificial documents provided in the body of the request.
The mapping used is determined by the specified <code class="literal">_index</code>.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-multi-termvectors.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.mtermvectors({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_23"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string)</strong></span>: The name of the index that contains the documents.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">docs</code> (Optional, { _id, _index, routing, _source, stored_fields, version, version_type }[])</strong></span>: An array of existing or artificial documents.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ids</code> (Optional, string[])</strong></span>: A simplified syntax to specify documents by their ID if they&#8217;re in the same index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, string | string[])</strong></span>: A list or wildcard expressions of fields to include in the statistics. It is used as the default list unless a specific field list is provided in the <code class="literal">completion_fields</code> or <code class="literal">fielddata_fields</code> parameters.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">field_statistics</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes the document count, sum of document frequencies, and sum of total term frequencies.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">offsets</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes term offsets.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">payloads</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes term payloads.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">positions</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes term positions.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. It is random by default.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">realtime</code> (Optional, boolean)</strong></span>: If true, the request is real-time as opposed to near-real-time.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">term_statistics</code> (Optional, boolean)</strong></span>: If true, the response includes term frequency and document frequency.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: If <code class="literal">true</code>, returns the document version as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version_type</code> (Optional, Enum("internal" | "external" | "external_gte" | "force"))</strong></span>: The version type.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_open_point_in_time"></a>open_point_in_time</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Open a point in time.</p>
<p>A search request by default runs against the most recent visible data of the target indices,
which is called point in time. Elasticsearch pit (point in time) is a lightweight view into the
state of the data as it existed when initiated. In some cases, it’s preferred to perform multiple
search requests using the same point in time. For example, if refreshes happen between
<code class="literal">search_after</code> requests, then the results of those requests might not be consistent as changes happening
between searches are only visible to the more recent point in time.</p>
<p>A point in time must be opened explicitly before being used in search requests.</p>
<p>A subsequent search request with the <code class="literal">pit</code> parameter must not specify <code class="literal">index</code>, <code class="literal">routing</code>, or <code class="literal">preference</code> values as these parameters are copied from the point in time.</p>
<p>Just like regular searches, you can use <code class="literal">from</code> and <code class="literal">size</code> to page through point in time search results, up to the first 10,000 hits.
If you want to retrieve more hits, use PIT with <code class="literal">search_after</code>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The open point in time request and each subsequent search request can return different identifiers; always use the most recently received ID for the next search request.</p>
</div>
</div>
<p>When a PIT that contains shard failures is used in a search request, the missing are always reported in the search response as a <code class="literal">NoShardAvailableActionException</code> exception.
To get rid of these exceptions, a new PIT needs to be created so that shards missing from the previous PIT can be handled, assuming they become available in the meantime.</p>
<p><span class="strong strong"><strong>Keeping point in time alive</strong></span></p>
<p>The <code class="literal">keep_alive</code> parameter, which is passed to a open point in time request and search request, extends the time to live of the corresponding point in time.
The value does not need to be long enough to process all data — it just needs to be long enough for the next request.</p>
<p>Normally, the background merge process optimizes the index by merging together smaller segments to create new, bigger segments.
Once the smaller segments are no longer needed they are deleted.
However, open point-in-times prevent the old segments from being deleted since they are still in use.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Keeping older segments alive means that more disk space and file handles are needed.
Ensure that you have configured your nodes to have ample free file handles.</p>
</div>
</div>
<p>Additionally, if a segment contains deleted or updated documents then the point in time must keep track of whether each document in the segment was live at the time of the initial search request.
Ensure that your nodes have sufficient heap space if you have many open point-in-times on an index that is subject to ongoing deletes or updates.
Note that a point-in-time doesn&#8217;t prevent its associated indices from being deleted.
You can check how many point-in-times (that is, search contexts) are open with the nodes stats API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/point-in-time-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.openPointInTime({ index, keep_alive })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_24"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: A list of index names to open point in time; use <code class="literal">_all</code> or empty string to perform the operation on all indices
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_alive</code> (string | -1 | 0)</strong></span>: Extend the length of time that the point in time persists.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Filter indices if the provided query rewrites to <code class="literal">match_none</code> on every shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. By default, it is random.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value that is used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: The type of index that wildcard patterns can match. If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams. It supports a list of values, such as <code class="literal">open,hidden</code>. Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_partial_search_results</code> (Optional, boolean)</strong></span>: Indicates whether the point in time tolerates unavailable shards or shard failures when initially creating the PIT. If <code class="literal">false</code>, creating a point in time request when a shard is missing or unavailable will throw an exception. If <code class="literal">true</code>, the point in time will contain all the shards that are available at the time of the request.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_ping"></a>ping</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Ping the cluster.
Get information about whether the cluster is running.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ping()</pre>
</div>
<div class="position-relative"><h3><a id="_put_script"></a>put_script</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create or update a script or search template.
Creates or updates a stored script or search template.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/create-stored-script-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.putScript({ id, script })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_25"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: The identifier for the stored script or search template. It must be unique within the cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">script</code> ({ lang, options, source })</strong></span>: The script or search template, its parameters, and its language.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">context</code> (Optional, string)</strong></span>: The context in which the script or search template should run. To prevent errors, the API immediately compiles the script or template in this context.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error. It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error. It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_rank_eval"></a>rank_eval</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Evaluate ranked search results.</p>
<p>Evaluate the quality of ranked search results over a set of typical search queries.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/search-rank-eval.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.rankEval({ requests })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_26"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">requests</code> ({ id, request, ratings, template_id, params }[])</strong></span>: A set of typical search requests, together with their provided ratings.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and index aliases used to limit the request. Wildcard (<code class="literal">*</code>) expressions are supported. To target all data streams and indices in a cluster, omit this parameter or use <code class="literal">_all</code> or <code class="literal">*</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">metric</code> (Optional, { precision, recall, mean_reciprocal_rank, dcg, expected_reciprocal_rank })</strong></span>: Definition of the evaluation metric to calculate.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices. This behavior applies even if the request targets other open indices. For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Whether to expand wildcard expression to concrete indices that are open, closed or both.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, missing or closed indices are not included in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_type</code> (Optional, string)</strong></span>: Search operation type
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_reindex"></a>reindex</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Reindex documents.</p>
<p>Copy documents from a source to a destination.
You can copy all documents to the destination index or reindex a subset of the documents.
The source can be any existing index, alias, or data stream.
The destination must differ from the source.
For example, you cannot reindex a data stream into itself.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Reindex requires <code class="literal">_source</code> to be enabled for all documents in the source.
The destination should be configured as wanted before calling the reindex API.
Reindex does not copy the settings from the source or its associated template.
Mappings, shard counts, and replicas, for example, must be configured ahead of time.</p>
</div>
</div>
<p>If the Elasticsearch security features are enabled, you must have the following security privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">read</code> index privilege for the source data stream, index, or alias.
</li>
<li class="listitem">
The <code class="literal">write</code> index privilege for the destination data stream, index, or index alias.
</li>
<li class="listitem">
To automatically create a data stream or index with a reindex API request, you must have the <code class="literal">auto_configure</code>, <code class="literal">create_index</code>, or <code class="literal">manage</code> index privilege for the destination data stream, index, or alias.
</li>
<li class="listitem">
If reindexing from a remote cluster, the <code class="literal">source.remote.user</code> must have the <code class="literal">monitor</code> cluster privilege and the <code class="literal">read</code> index privilege for the source data stream, index, or alias.
</li>
</ul>
</div>
<p>If reindexing from a remote cluster, you must explicitly allow the remote host in the <code class="literal">reindex.remote.whitelist</code> setting.
Automatic data stream creation requires a matching index template with data stream enabled.</p>
<p>The <code class="literal">dest</code> element can be configured like the index API to control optimistic concurrency control.
Omitting <code class="literal">version_type</code> or setting it to <code class="literal">internal</code> causes Elasticsearch to blindly dump documents into the destination, overwriting any that happen to have the same ID.</p>
<p>Setting <code class="literal">version_type</code> to <code class="literal">external</code> causes Elasticsearch to preserve the <code class="literal">version</code> from the source, create any documents that are missing, and update any documents that have an older version in the destination than they do in the source.</p>
<p>Setting <code class="literal">op_type</code> to <code class="literal">create</code> causes the reindex API to create only missing documents in the destination.
All existing documents will cause a version conflict.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Because data streams are append-only, any reindex request to a destination data stream must have an <code class="literal">op_type</code> of <code class="literal">create</code>.
A reindex can only add new documents to a destination data stream.
It cannot update existing documents in a destination data stream.</p>
</div>
</div>
<p>By default, version conflicts abort the reindex process.
To continue reindexing if there are conflicts, set the <code class="literal">conflicts</code> request body property to <code class="literal">proceed</code>.
In this case, the response includes a count of the version conflicts that were encountered.
Note that the handling of other error types is unaffected by the <code class="literal">conflicts</code> property.
Additionally, if you opt to count version conflicts, the operation could attempt to reindex more documents from the source than <code class="literal">max_docs</code> until it has successfully indexed <code class="literal">max_docs</code> documents into the target or it has gone through every document in the source query.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The reindex API makes no effort to handle ID collisions.
The last document written will "win" but the order isn&#8217;t usually predictable so it is not a good idea to rely on this behavior.
Instead, make sure that IDs are unique by using a script.</p>
</div>
</div>
<p><span class="strong strong"><strong>Running reindex asynchronously</strong></span></p>
<p>If the request contains <code class="literal">wait_for_completion=false</code>, Elasticsearch performs some preflight checks, launches the request, and returns a task you can use to cancel or get the status of the task.
Elasticsearch creates a record of this task as a document at <code class="literal">_tasks/&lt;task_id&gt;</code>.</p>
<p><span class="strong strong"><strong>Reindex from multiple sources</strong></span></p>
<p>If you have many sources to reindex it is generally better to reindex them one at a time rather than using a glob pattern to pick up multiple sources.
That way you can resume the process if there are any errors by removing the partially completed source and starting over.
It also makes parallelizing the process fairly simple: split the list of sources to reindex and run each list in parallel.</p>
<p>For example, you can use a bash script like this:</p>
<pre class="screen">for index in i1 i2 i3 i4 i5; do
  curl -HContent-Type:application/json -XPOST localhost:9200/_reindex?pretty -d'{
    "source": {
      "index": "'$index'"
    },
    "dest": {
      "index": "'$index'-reindexed"
    }
  }'
done</pre>
<p><span class="strong strong"><strong>Throttling</strong></span></p>
<p>Set <code class="literal">requests_per_second</code> to any positive decimal number (<code class="literal">1.4</code>, <code class="literal">6</code>, <code class="literal">1000</code>, for example) to throttle the rate at which reindex issues batches of index operations.
Requests are throttled by padding each batch with a wait time.
To turn off throttling, set <code class="literal">requests_per_second</code> to <code class="literal">-1</code>.</p>
<p>The throttling is done by waiting between batches so that the scroll that reindex uses internally can be given a timeout that takes into account the padding.
The padding time is the difference between the batch size divided by the <code class="literal">requests_per_second</code> and the time spent writing.
By default the batch size is <code class="literal">1000</code>, so if <code class="literal">requests_per_second</code> is set to <code class="literal">500</code>:</p>
<pre class="screen">target_time = 1000 / 500 per second = 2 seconds
wait_time = target_time - write_time = 2 seconds - .5 seconds = 1.5 seconds</pre>
<p>Since the batch is issued as a single bulk request, large batch sizes cause Elasticsearch to create many requests and then wait for a while before starting the next set.
This is "bursty" instead of "smooth".</p>
<p><span class="strong strong"><strong>Slicing</strong></span></p>
<p>Reindex supports sliced scroll to parallelize the reindexing process.
This parallelization can improve efficiency and provide a convenient way to break the request down into smaller parts.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Reindexing from remote clusters does not support manual or automatic slicing.</p>
</div>
</div>
<p>You can slice a reindex request manually by providing a slice ID and total number of slices to each request.
You can also let reindex automatically parallelize by using sliced scroll to slice on <code class="literal">_id</code>.
The <code class="literal">slices</code> parameter specifies the number of slices to use.</p>
<p>Adding <code class="literal">slices</code> to the reindex request just automates the manual process, creating sub-requests which means it has some quirks:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You can see these requests in the tasks API. These sub-requests are "child" tasks of the task for the request with slices.
</li>
<li class="listitem">
Fetching the status of the task for the request with <code class="literal">slices</code> only contains the status of completed slices.
</li>
<li class="listitem">
These sub-requests are individually addressable for things like cancellation and rethrottling.
</li>
<li class="listitem">
Rethrottling the request with <code class="literal">slices</code> will rethrottle the unfinished sub-request proportionally.
</li>
<li class="listitem">
Canceling the request with <code class="literal">slices</code> will cancel each sub-request.
</li>
<li class="listitem">
Due to the nature of <code class="literal">slices</code>, each sub-request won&#8217;t get a perfectly even portion of the documents. All documents will be addressed, but some slices may be larger than others. Expect larger slices to have a more even distribution.
</li>
<li class="listitem">
Parameters like <code class="literal">requests_per_second</code> and <code class="literal">max_docs</code> on a request with <code class="literal">slices</code> are distributed proportionally to each sub-request. Combine that with the previous point about distribution being uneven and you should conclude that using <code class="literal">max_docs</code> with <code class="literal">slices</code> might not result in exactly <code class="literal">max_docs</code> documents being reindexed.
</li>
<li class="listitem">
Each sub-request gets a slightly different snapshot of the source, though these are all taken at approximately the same time.
</li>
</ul>
</div>
<p>If slicing automatically, setting <code class="literal">slices</code> to <code class="literal">auto</code> will choose a reasonable number for most indices.
If slicing manually or otherwise tuning automatic slicing, use the following guidelines.</p>
<p>Query performance is most efficient when the number of slices is equal to the number of shards in the index.
If that number is large (for example, <code class="literal">500</code>), choose a lower number as too many slices will hurt performance.
Setting slices higher than the number of shards generally does not improve efficiency and adds overhead.</p>
<p>Indexing performance scales linearly across available resources with the number of slices.</p>
<p>Whether query or indexing performance dominates the runtime depends on the documents being reindexed and cluster resources.</p>
<p><span class="strong strong"><strong>Modify documents during reindexing</strong></span></p>
<p>Like <code class="literal">_update_by_query</code>, reindex operations support a script that modifies the document.
Unlike <code class="literal">_update_by_query</code>, the script is allowed to modify the document&#8217;s metadata.</p>
<p>Just as in <code class="literal">_update_by_query</code>, you can set <code class="literal">ctx.op</code> to change the operation that is run on the destination.
For example, set <code class="literal">ctx.op</code> to <code class="literal">noop</code> if your script decides that the document doesn’t have to be indexed in the destination. This "no operation" will be reported in the <code class="literal">noop</code> counter in the response body.
Set <code class="literal">ctx.op</code> to <code class="literal">delete</code> if your script decides that the document must be deleted from the destination.
The deletion will be reported in the <code class="literal">deleted</code> counter in the response body.
Setting <code class="literal">ctx.op</code> to anything else will return an error, as will setting any other field in <code class="literal">ctx</code>.</p>
<p>Think of the possibilities! Just be careful; you are able to change:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">_id</code>
</li>
<li class="listitem">
<code class="literal">_index</code>
</li>
<li class="listitem">
<code class="literal">_version</code>
</li>
<li class="listitem">
<code class="literal">_routing</code>
</li>
</ul>
</div>
<p>Setting <code class="literal">_version</code> to <code class="literal">null</code> or clearing it from the <code class="literal">ctx</code> map is just like not sending the version in an indexing request.
It will cause the document to be overwritten in the destination regardless of the version on the target or the version type you use in the reindex API.</p>
<p><span class="strong strong"><strong>Reindex from remote</strong></span></p>
<p>Reindex supports reindexing from a remote Elasticsearch cluster.
The <code class="literal">host</code> parameter must contain a scheme, host, port, and optional path.
The <code class="literal">username</code> and <code class="literal">password</code> parameters are optional and when they are present the reindex operation will connect to the remote Elasticsearch node using basic authentication.
Be sure to use HTTPS when using basic authentication or the password will be sent in plain text.
There are a range of settings available to configure the behavior of the HTTPS connection.</p>
<p>When using Elastic Cloud, it is also possible to authenticate against the remote cluster through the use of a valid API key.
Remote hosts must be explicitly allowed with the <code class="literal">reindex.remote.whitelist</code> setting.
It can be set to a comma delimited list of allowed remote host and port combinations.
Scheme is ignored; only the host and port are used.
For example:</p>
<pre class="screen">reindex.remote.whitelist: [otherhost:9200, another:9200, 127.0.10.*:9200, localhost:*"]</pre>
<p>The list of allowed hosts must be configured on any nodes that will coordinate the reindex.
This feature should work with remote clusters of any version of Elasticsearch.
This should enable you to upgrade from any version of Elasticsearch to the current version by reindexing from a cluster of the old version.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch does not support forward compatibility across major versions.
For example, you cannot reindex from a 7.x cluster into a 6.x cluster.</p>
</div>
</div>
<p>To enable queries sent to older versions of Elasticsearch, the <code class="literal">query</code> parameter is sent directly to the remote host without validation or modification.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Reindexing from remote clusters does not support manual or automatic slicing.</p>
</div>
</div>
<p>Reindexing from a remote server uses an on-heap buffer that defaults to a maximum size of 100mb.
If the remote index includes very large documents you&#8217;ll need to use a smaller batch size.
It is also possible to set the socket read timeout on the remote connection with the <code class="literal">socket_timeout</code> field and the connection timeout with the <code class="literal">connect_timeout</code> field.
Both default to 30 seconds.</p>
<p><span class="strong strong"><strong>Configuring SSL parameters</strong></span></p>
<p>Reindex from remote supports configurable SSL settings.
These must be specified in the <code class="literal">elasticsearch.yml</code> file, with the exception of the secure settings, which you add in the Elasticsearch keystore.
It is not possible to configure SSL in the body of the reindex request.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-reindex.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.reindex({ dest, source })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_27"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">dest</code> ({ index, op_type, pipeline, routing, version_type })</strong></span>: The destination you are copying to.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">source</code> ({ index, query, remote, size, slice, sort, _source, runtime_mappings })</strong></span>: The source you are copying from.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">conflicts</code> (Optional, Enum("abort" | "proceed"))</strong></span>: Indicates whether to continue reindexing even when there are conflicts.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_docs</code> (Optional, number)</strong></span>: The maximum number of documents to reindex. By default, all documents are reindexed. If it is a value less then or equal to <code class="literal">scroll_size</code>, a scroll will not be used to retrieve the results for the operation. If <code class="literal">conflicts</code> is set to <code class="literal">proceed</code>, the reindex operation could attempt to reindex more documents from the source than <code class="literal">max_docs</code> until it has successfully indexed <code class="literal">max_docs</code> documents into the target or it has gone through every document in the source query.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">script</code> (Optional, { source, id, params, lang, options })</strong></span>: The script to run to update the document source or metadata when reindexing.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request refreshes affected shards to make this operation visible to search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">requests_per_second</code> (Optional, float)</strong></span>: The throttle for this request in sub-requests per second. By default, there is no throttle.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll</code> (Optional, string | -1 | 0)</strong></span>: The period of time that a consistent view of the index should be maintained for scrolled search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">slices</code> (Optional, number | Enum("auto"))</strong></span>: The number of slices this task should be divided into. It defaults to one slice, which means the task isn&#8217;t sliced into subtasks. Reindex supports sliced scroll to parallelize the reindexing process. This parallelization can improve efficiency and provide a convenient way to break the request down into smaller parts. NOTE: Reindexing from remote clusters does not support manual or automatic slicing. If set to <code class="literal">auto</code>, Elasticsearch chooses the number of slices to use. This setting will use one slice per shard, up to a certain limit. If there are multiple sources, it will choose the number of slices based on the index or backing index with the smallest number of shards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period each indexing waits for automatic index creation, dynamic mapping updates, and waiting for active shards. By default, Elasticsearch waits for at least one minute before failing. The actual wait time could be longer, particularly when multiple waits occur.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of shard copies that must be active before proceeding with the operation. Set it to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>). The default value is one, which means it waits for each primary shard to be active.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request blocks until the operation is complete.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">require_alias</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the destination must be an index alias.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_reindex_rethrottle"></a>reindex_rethrottle</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Throttle a reindex operation.</p>
<p>Change the number of requests per second for a particular reindex operation.
For example:</p>
<pre class="screen">POST _reindex/r1A2WoRbTwKZ516z6NEs5A:36619/_rethrottle?requests_per_second=-1</pre>
<p>Rethrottling that speeds up the query takes effect immediately.
Rethrottling that slows down the query will take effect after completing the current batch.
This behavior prevents scroll timeouts.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-reindex.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.reindexRethrottle({ task_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_28"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">task_id</code> (string)</strong></span>: The task identifier, which can be found by using the tasks API.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">requests_per_second</code> (Optional, float)</strong></span>: The throttle for this request in sub-requests per second. It can be either <code class="literal">-1</code> to turn off throttling or any decimal number like <code class="literal">1.7</code> or <code class="literal">12</code> to throttle to that level.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_render_search_template"></a>render_search_template</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Render a search template.</p>
<p>Render a search template as a search request body.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/render-search-template-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.renderSearchTemplate({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_29"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (Optional, string)</strong></span>: The ID of the search template to render. If no <code class="literal">source</code> is specified, this or the <code class="literal">id</code> request body parameter is required.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">file</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">params</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: Key-value pairs used to replace Mustache variables in the template. The key is the variable name. The value is the variable value.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">source</code> (Optional, string)</strong></span>: An inline search template. It supports the same parameters as the search API&#8217;s request body. These parameters also support Mustache variables. If no <code class="literal">id</code> or <code class="literal">&lt;templated-id&gt;</code> is specified, this parameter is required.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_scripts_painless_execute"></a>scripts_painless_execute</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run a script.</p>
<p>Runs a script and returns a result.
Use this API to build and test scripts, such as when defining a script for a runtime field.
This API requires very few dependencies and is especially useful if you don&#8217;t have permissions to write documents on a cluster.</p>
<p>The API uses several <em>contexts</em>, which control how scripts are run, what variables are available at runtime, and what the return type is.</p>
<p>Each context requires a script, but additional parameters depend on the context you&#8217;re using for that script.</p>
<p><a href="/guide/en/elasticsearch/painless/8.18/painless-execute-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.scriptsPainlessExecute({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_30"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">context</code> (Optional, Enum("painless_test" | "filter" | "score" | "boolean_field" | "date_field" | "double_field" | "geo_point_field" | "ip_field" | "keyword_field" | "long_field" | "composite_field"))</strong></span>: The context that the script should run in. NOTE: Result ordering in the field contexts is not guaranteed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">context_setup</code> (Optional, { document, index, query })</strong></span>: Additional parameters for the <code class="literal">context</code>. NOTE: This parameter is required for all contexts except <code class="literal">painless_test</code>, which is the default if no value is provided for <code class="literal">context</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">script</code> (Optional, { source, id, params, lang, options })</strong></span>: The Painless script to run.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_scroll"></a>scroll</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run a scrolling search.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The scroll API is no longer recommend for deep pagination. If you need to preserve the index state while paging through more than 10,000 hits, use the <code class="literal">search_after</code> parameter with a point in time (PIT).</p>
</div>
</div>
<p>The scroll API gets large sets of results from a single scrolling search request.
To get the necessary scroll ID, submit a search API request that includes an argument for the <code class="literal">scroll</code> query parameter.
The <code class="literal">scroll</code> parameter indicates how long Elasticsearch should retain the search context for the request.
The search response returns a scroll ID in the <code class="literal">_scroll_id</code> response body parameter.
You can then use the scroll ID with the scroll API to retrieve the next batch of results for the request.
If the Elasticsearch security features are enabled, the access to the results of a specific scroll ID is restricted to the user or API key that submitted the search.</p>
<p>You can also use the scroll API to specify a new scroll parameter that extends or shortens the retention period for the search context.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Results from a scrolling search reflect the state of the index at the time of the initial search request. Subsequent indexing or document changes only affect later search and scroll requests.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/scroll-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.scroll({ scroll_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_31"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll_id</code> (string)</strong></span>: The scroll ID of the search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll</code> (Optional, string | -1 | 0)</strong></span>: The period to retain the search context for scrolling.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rest_total_hits_as_int</code> (Optional, boolean)</strong></span>: If true, the API response’s hit.total property is returned as an integer. If false, the API response’s hit.total property is returned as an object.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_search"></a>search</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run a search.</p>
<p>Get search hits that match the query defined in the request.
You can provide search queries using the <code class="literal">q</code> query string parameter or the request body.
If both are specified, only the query parameter is used.</p>
<p>If the Elasticsearch security features are enabled, you must have the read index privilege for the target data stream, index, or alias. For cross-cluster search, refer to the documentation about configuring CCS privileges.
To search a point in time (PIT) for an alias, you must have the <code class="literal">read</code> index privilege for the alias&#8217;s data streams or indices.</p>
<p><span class="strong strong"><strong>Search slicing</strong></span></p>
<p>When paging through a large number of documents, it can be helpful to split the search into multiple slices to consume them independently with the <code class="literal">slice</code> and <code class="literal">pit</code> properties.
By default the splitting is done first on the shards, then locally on each shard.
The local splitting partitions the shard into contiguous ranges based on Lucene document IDs.</p>
<p>For instance if the number of shards is equal to 2 and you request 4 slices, the slices 0 and 2 are assigned to the first shard and the slices 1 and 3 are assigned to the second shard.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The same point-in-time ID should be used for all slices.
If different PIT IDs are used, slices can overlap and miss documents.
This situation can occur because the splitting criterion is based on Lucene document IDs, which are not stable across changes to the index.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/search-search.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.search({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_32"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and aliases to search. It supports wildcards (<code class="literal">*</code>). To search all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">aggregations</code> (Optional, Record&lt;string, { aggregations, meta, adjacency_matrix, auto_date_histogram, avg, avg_bucket, boxplot, bucket_script, bucket_selector, bucket_sort, bucket_count_ks_test, bucket_correlation, cardinality, categorize_text, children, composite, cumulative_cardinality, cumulative_sum, date_histogram, date_range, derivative, diversified_sampler, extended_stats, extended_stats_bucket, frequent_item_sets, filter, filters, geo_bounds, geo_centroid, geo_distance, geohash_grid, geo_line, geotile_grid, geohex_grid, global, histogram, ip_range, ip_prefix, inference, line, matrix_stats, max, max_bucket, median_absolute_deviation, min, min_bucket, missing, moving_avg, moving_percentiles, moving_fn, multi_terms, nested, normalize, parent, percentile_ranks, percentiles, percentiles_bucket, range, rare_terms, rate, reverse_nested, random_sampler, sampler, scripted_metric, serial_diff, significant_terms, significant_text, stats, stats_bucket, string_stats, sum, sum_bucket, terms, time_series, top_hits, t_test, top_metrics, value_count, weighted_avg, variable_width_histogram }&gt;)</strong></span>: Defines the aggregations that are run as part of the search request.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">collapse</code> (Optional, { field, inner_hits, max_concurrent_group_searches, collapse })</strong></span>: Collapses search results the values of the specified field.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">explain</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request returns detailed information about score computation as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ext</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: Configuration of search extensions defined by Elasticsearch plugins.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">from</code> (Optional, number)</strong></span>: The starting document offset, which must be non-negative. By default, you cannot page through more than 10,000 hits using the <code class="literal">from</code> and <code class="literal">size</code> parameters. To page through more hits, use the <code class="literal">search_after</code> parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">highlight</code> (Optional, { encoder, fields })</strong></span>: Specifies the highlighter to use for retrieving highlighted snippets from one or more fields in your search results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">track_total_hits</code> (Optional, boolean | number)</strong></span>: Number of hits matching the query to count accurately. If <code class="literal">true</code>, the exact number of hits is returned at the cost of some performance. If <code class="literal">false</code>, the response does not include the total number of hits matching the query.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">indices_boost</code> (Optional, Record&lt;string, number&gt;[])</strong></span>: Boost the <code class="literal">_score</code> of documents from specified indices. The boost value is the factor by which scores are multiplied. A boost value greater than <code class="literal">1.0</code> increases the score. A boost value between <code class="literal">0</code> and <code class="literal">1.0</code> decreases the score.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">docvalue_fields</code> (Optional, { field, format, include_unmapped }[])</strong></span>: An array of wildcard (<code class="literal">*</code>) field patterns. The request returns doc values for field names matching these patterns in the <code class="literal">hits.fields</code> property of the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">knn</code> (Optional, { field, query_vector, query_vector_builder, k, num_candidates, boost, filter, similarity, inner_hits, rescore_vector } | { field, query_vector, query_vector_builder, k, num_candidates, boost, filter, similarity, inner_hits, rescore_vector }[])</strong></span>: The approximate kNN search to run.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rank</code> (Optional, { rrf })</strong></span>: The Reciprocal Rank Fusion (RRF) to use.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">min_score</code> (Optional, number)</strong></span>: The minimum <code class="literal">_score</code> for matching documents. Documents with a lower <code class="literal">_score</code> are not included in the search results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">post_filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Use the <code class="literal">post_filter</code> parameter to filter search results. The search hits are filtered after the aggregations are calculated. A post filter has no impact on the aggregation results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">profile</code> (Optional, boolean)</strong></span>: Set to <code class="literal">true</code> to return detailed timing information about the execution of individual components in a search request. NOTE: This is a debugging tool and adds significant overhead to search execution.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: The search definition using the Query DSL.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rescore</code> (Optional, { window_size, query, learning_to_rank } | { window_size, query, learning_to_rank }[])</strong></span>: Can be used to improve precision by reordering just the top (for example 100 - 500) documents returned by the <code class="literal">query</code> and <code class="literal">post_filter</code> phases.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">retriever</code> (Optional, { standard, knn, rrf, text_similarity_reranker, rule })</strong></span>: A retriever is a specification to describe top documents returned from a search. A retriever replaces other elements of the search API that also return top documents such as <code class="literal">query</code> and <code class="literal">knn</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">script_fields</code> (Optional, Record&lt;string, { script, ignore_failure }&gt;)</strong></span>: Retrieve a script evaluation (based on different fields) for each hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_after</code> (Optional, number | number | string | boolean | null | User-defined value[])</strong></span>: Used to retrieve the next page of hits using a set of sort values from the previous page.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: The number of hits to return, which must not be negative. By default, you cannot page through more than 10,000 hits using the <code class="literal">from</code> and <code class="literal">size</code> parameters. To page through more hits, use the <code class="literal">search_after</code> property.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">slice</code> (Optional, { field, id, max })</strong></span>: Split a scrolled search into multiple slices that can be consumed independently.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">sort</code> (Optional, string | { _score, _doc, _geo_distance, _script } | string | { _score, _doc, _geo_distance, _script }[])</strong></span>: A list of &lt;field&gt;:&lt;direction&gt; pairs.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | { excludes, includes })</strong></span>: The source fields that are returned for matching documents. These fields are returned in the <code class="literal">hits._source</code> property of the search response. If the <code class="literal">stored_fields</code> property is specified, the <code class="literal">_source</code> property defaults to <code class="literal">false</code>. Otherwise, it defaults to <code class="literal">true</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, { field, format, include_unmapped }[])</strong></span>: An array of wildcard (<code class="literal">*</code>) field patterns. The request returns values for field names matching these patterns in the <code class="literal">hits.fields</code> property of the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest</code> (Optional, { text })</strong></span>: Defines a suggester that provides similar looking terms based on a provided text.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">terminate_after</code> (Optional, number)</strong></span>: The maximum number of documents to collect for each shard. If a query reaches this limit, Elasticsearch terminates the query early. Elasticsearch collects documents before sorting. IMPORTANT: Use with caution. Elasticsearch applies this property to each shard handling the request. When possible, let Elasticsearch perform early termination automatically. Avoid specifying this property for requests that target data streams with backing indices across multiple data tiers. If set to <code class="literal">0</code> (default), the query does not terminate early.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string)</strong></span>: The period of time to wait for a response from each shard. If no response is received before the timeout expires, the request fails and returns an error. Defaults to no timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">track_scores</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, calculate and return document scores, even if the scores are not used for sorting.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request returns the document version as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">seq_no_primary_term</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request returns sequence number and primary term of the last modification of each hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stored_fields</code> (Optional, string | string[])</strong></span>: A list of stored fields to return as part of a hit. If no fields are specified, no stored fields are included in the response. If this field is specified, the <code class="literal">_source</code> property defaults to <code class="literal">false</code>. You can pass <code class="literal">_source: true</code> to return both source fields and stored fields in the search response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pit</code> (Optional, { id, keep_alive })</strong></span>: Limit the search to a point in time (PIT). If you provide a PIT, you cannot specify an <code class="literal">&lt;index&gt;</code> in the request path.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">runtime_mappings</code> (Optional, Record&lt;string, { fields, fetch_fields, format, input_field, target_field, target_index, script, type }&gt;)</strong></span>: One or more runtime fields in the search request. These fields take precedence over mapped fields with the same name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stats</code> (Optional, string[])</strong></span>: The stats groups to associate with the search. Each group maintains a statistics aggregation for its associated searches. You can retrieve these stats using the indices stats API.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices. This behavior applies even if the request targets other open indices. For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_partial_search_results</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code> and there are shard request timeouts or shard failures, the request returns partial results. If <code class="literal">false</code>, it returns an error with no partial results. To override the default behavior, you can set the <code class="literal">search.default_allow_partial_results</code> cluster setting to <code class="literal">false</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyzer</code> (Optional, string)</strong></span>: The analyzer to use for the query string. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyze_wildcard</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, wildcard and prefix queries are analyzed. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">batched_reduce_size</code> (Optional, number)</strong></span>: The number of shard results that should be reduced at once on the coordinating node. If the potential number of shards in the request can be large, this value should be used as a protection mechanism to reduce the memory overhead per search request.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ccs_minimize_roundtrips</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, network round-trips between the coordinating node and the remote clusters are minimized when running cross-cluster search (CCS) requests.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">default_operator</code> (Optional, Enum("and" | "or"))</strong></span>: The default operator for the query string query: <code class="literal">AND</code> or <code class="literal">OR</code>. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">df</code> (Optional, string)</strong></span>: The field to use as a default when no field prefix is given in the query string. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: The type of index that wildcard patterns can match. If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams. It supports a list of values such as <code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_throttled</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, concrete, expanded or aliased indices will be ignored when frozen.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_named_queries_score</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes the score contribution from any named queries. This functionality reruns each named query on every hit in a search response. Typically, this adds a small overhead to a request. However, using computationally expensive named queries on a large number of hits may add significant overhead.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">lenient</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, format-based query failures (such as providing text to a numeric field) in the query string will be ignored. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_concurrent_shard_requests</code> (Optional, number)</strong></span>: The number of concurrent shard requests per node that the search runs concurrently. This value should be used to limit the impact of the search on the cluster in order to limit the number of concurrent shard requests.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">min_compatible_shard_node</code> (Optional, string)</strong></span>: The minimum version of the node that can handle the request Any handling node with a lower version will fail the request.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The nodes and shards used for the search. By default, Elasticsearch selects from eligible nodes and shards using adaptive replica selection, accounting for allocation awareness. Valid values are: * <code class="literal">_only_local</code> to run the search only on shards on the local node; * <code class="literal">_local</code> to, if possible, run the search on shards on the local node, or if not, select shards using the default method; * <code class="literal">_only_nodes:&lt;node-id&gt;,&lt;node-id&gt;</code> to run the search on only the specified nodes IDs, where, if suitable shards exist on more than one selected node, use shards on those nodes using the default method, or if none of the specified nodes are available, select shards from any available node using the default method; * <code class="literal">_prefer_nodes:&lt;node-id&gt;,&lt;node-id&gt;</code> to if possible, run the search on the specified nodes IDs, or if not, select shards using the default method; * <code class="literal">_shards:&lt;shard&gt;,&lt;shard&gt;</code> to run the search only on the specified shards; * <code class="literal">&lt;custom-string&gt;</code> (any string that does not start with <code class="literal">_</code>) to route searches with the same <code class="literal">&lt;custom-string&gt;</code> to the same shards in the same order.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pre_filter_shard_size</code> (Optional, number)</strong></span>: A threshold that enforces a pre-filter roundtrip to prefilter search shards based on query rewriting if the number of shards the search request expands to exceeds the threshold. This filter roundtrip can limit the number of shards significantly if for instance a shard can not match any documents based on its rewrite method (if date filters are mandatory to match but the shard bounds and the query are disjoint). When unspecified, the pre-filter phase is executed if any of these conditions is met: * The request targets more than 128 shards. * The request targets one or more read-only index. * The primary sort of the query targets an indexed field.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">request_cache</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the caching of search results is enabled for requests where <code class="literal">size</code> is <code class="literal">0</code>. It defaults to index level settings.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value that is used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll</code> (Optional, string | -1 | 0)</strong></span>: The period to retain the search context for scrolling. By default, this value cannot exceed <code class="literal">1d</code> (24 hours). You can change this limit by using the <code class="literal">search.max_keep_alive</code> cluster-level setting.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_type</code> (Optional, Enum("query_then_fetch" | "dfs_query_then_fetch"))</strong></span>: Indicates how distributed term frequencies are calculated for relevance scoring.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_field</code> (Optional, string)</strong></span>: The field to use for suggestions.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_mode</code> (Optional, Enum("missing" | "popular" | "always"))</strong></span>: The suggest mode. This parameter can be used only when the <code class="literal">suggest_field</code> and <code class="literal">suggest_text</code> query string parameters are specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_size</code> (Optional, number)</strong></span>: The number of suggestions to return. This parameter can be used only when the <code class="literal">suggest_field</code> and <code class="literal">suggest_text</code> query string parameters are specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_text</code> (Optional, string)</strong></span>: The source text for which the suggestions should be returned. This parameter can be used only when the <code class="literal">suggest_field</code> and <code class="literal">suggest_text</code> query string parameters are specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">typed_keys</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, aggregation and suggester names are be prefixed by their respective types in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rest_total_hits_as_int</code> (Optional, boolean)</strong></span>: Indicates whether <code class="literal">hits.total</code> should be rendered as an integer or an object in the rest search response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>: A list of source fields to exclude from the response. You can also use this parameter to exclude fields from the subset specified in <code class="literal">_source_includes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>: A list of source fields to include in the response. If this parameter is specified, only these source fields are returned. You can exclude fields from this subset using the <code class="literal">_source_excludes</code> query parameter. If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">q</code> (Optional, string)</strong></span>: A query in the Lucene query string syntax. Query parameter searches do not support the full Elasticsearch Query DSL but are handy for testing. IMPORTANT: This parameter overrides the query parameter in the request body. If both parameters are specified, documents matching the query request body parameter are not returned.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">force_synthetic_source</code> (Optional, boolean)</strong></span>: Should this request force synthetic _source? Use this to test if the mapping supports synthetic _source and to get a sense of the worst case performance. Fetches with this enabled will be slower the enabling synthetic source natively in the index.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_search_mvt"></a>search_mvt</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Search a vector tile.</p>
<p>Search a vector tile for geospatial values.
Before using this API, you should be familiar with the Mapbox vector tile specification.
The API returns results as a binary mapbox vector tile.</p>
<p>Internally, Elasticsearch translates a vector tile search API request into a search containing:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A <code class="literal">geo_bounding_box</code> query on the <code class="literal">&lt;field&gt;</code>. The query uses the <code class="literal">&lt;zoom&gt;/&lt;x&gt;/&lt;y&gt;</code> tile as a bounding box.
</li>
<li class="listitem">
A <code class="literal">geotile_grid</code> or <code class="literal">geohex_grid</code> aggregation on the <code class="literal">&lt;field&gt;</code>. The <code class="literal">grid_agg</code> parameter determines the aggregation type. The aggregation uses the <code class="literal">&lt;zoom&gt;/&lt;x&gt;/&lt;y&gt;</code> tile as a bounding box.
</li>
<li class="listitem">
Optionally, a <code class="literal">geo_bounds</code> aggregation on the <code class="literal">&lt;field&gt;</code>. The search only includes this aggregation if the <code class="literal">exact_bounds</code> parameter is <code class="literal">true</code>.
</li>
<li class="listitem">
If the optional parameter <code class="literal">with_labels</code> is <code class="literal">true</code>, the internal search will include a dynamic runtime field that calls the <code class="literal">getLabelPosition</code> function of the geometry doc value. This enables the generation of new point features containing suggested geometry labels, so that, for example, multi-polygons will have only one label.
</li>
</ul>
</div>
<p>For example, Elasticsearch may translate a vector tile search API request with a <code class="literal">grid_agg</code> argument of <code class="literal">geotile</code> and an <code class="literal">exact_bounds</code> argument of <code class="literal">true</code> into the following search</p>
<pre class="screen">GET my-index/_search
{
  "size": 10000,
  "query": {
    "geo_bounding_box": {
      "my-geo-field": {
        "top_left": {
          "lat": -40.979898069620134,
          "lon": -45
        },
        "bottom_right": {
          "lat": -66.51326044311186,
          "lon": 0
        }
      }
    }
  },
  "aggregations": {
    "grid": {
      "geotile_grid": {
        "field": "my-geo-field",
        "precision": 11,
        "size": 65536,
        "bounds": {
          "top_left": {
            "lat": -40.979898069620134,
            "lon": -45
          },
          "bottom_right": {
            "lat": -66.51326044311186,
            "lon": 0
          }
        }
      }
    },
    "bounds": {
      "geo_bounds": {
        "field": "my-geo-field",
        "wrap_longitude": false
      }
    }
  }
}</pre>
<p>The API returns results as a binary Mapbox vector tile.
Mapbox vector tiles are encoded as Google Protobufs (PBF). By default, the tile contains three layers:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A <code class="literal">hits</code> layer containing a feature for each <code class="literal">&lt;field&gt;</code> value matching the <code class="literal">geo_bounding_box</code> query.
</li>
<li class="listitem">
An <code class="literal">aggs</code> layer containing a feature for each cell of the <code class="literal">geotile_grid</code> or <code class="literal">geohex_grid</code>. The layer only contains features for cells with matching data.
</li>
<li class="listitem">
A meta layer containing:
</li>
<li class="listitem">
A feature containing a bounding box. By default, this is the bounding box of the tile.
</li>
<li class="listitem">
Value ranges for any sub-aggregations on the <code class="literal">geotile_grid</code> or <code class="literal">geohex_grid</code>.
</li>
<li class="listitem">
Metadata for the search.
</li>
</ul>
</div>
<p>The API only returns features that can display at its zoom level.
For example, if a polygon feature has no area at its zoom level, the API omits it.
The API returns errors as UTF-8 encoded JSON.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can specify several options for this API as either a query parameter or request body parameter.
If you specify both parameters, the query parameter takes precedence.</p>
</div>
</div>
<p><span class="strong strong"><strong>Grid precision for geotile</strong></span></p>
<p>For a <code class="literal">grid_agg</code> of <code class="literal">geotile</code>, you can use cells in the <code class="literal">aggs</code> layer as tiles for lower zoom levels.
<code class="literal">grid_precision</code> represents the additional zoom levels available through these cells. The final precision is computed by as follows: <code class="literal">&lt;zoom&gt; + grid_precision</code>.
For example, if <code class="literal">&lt;zoom&gt;</code> is 7 and <code class="literal">grid_precision</code> is 8, then the <code class="literal">geotile_grid</code> aggregation will use a precision of 15.
The maximum final precision is 29.
The <code class="literal">grid_precision</code> also determines the number of cells for the grid as follows: <code class="literal">(2^grid_precision) x (2^grid_precision)</code>.
For example, a value of 8 divides the tile into a grid of 256 x 256 cells.
The <code class="literal">aggs</code> layer only contains features for cells with matching data.</p>
<p><span class="strong strong"><strong>Grid precision for geohex</strong></span></p>
<p>For a <code class="literal">grid_agg</code> of <code class="literal">geohex</code>, Elasticsearch uses <code class="literal">&lt;zoom&gt;</code> and <code class="literal">grid_precision</code> to calculate a final precision as follows: <code class="literal">&lt;zoom&gt; + grid_precision</code>.</p>
<p>This precision determines the H3 resolution of the hexagonal cells produced by the <code class="literal">geohex</code> aggregation.
The following table maps the H3 resolution for each precision.
For example, if <code class="literal">&lt;zoom&gt;</code> is 3 and <code class="literal">grid_precision</code> is 3, the precision is 6.
At a precision of 6, hexagonal cells have an H3 resolution of 2.
If <code class="literal">&lt;zoom&gt;</code> is 3 and <code class="literal">grid_precision</code> is 4, the precision is 7.
At a precision of 7, hexagonal cells have an H3 resolution of 3.</p>
<p>| Precision | Unique tile bins | H3 resolution | Unique hex bins |	Ratio |
| --------- | ---------------- | ------------- | ----------------| ----- |
| 1  | 4                  | 0  | 122             | 30.5           |
| 2  | 16                 | 0  | 122             | 7.625          |
| 3  | 64                 | 1  | 842             | 13.15625       |
| 4  | 256                | 1  | 842             | 3.2890625      |
| 5  | 1024               | 2  | 5882            | 5.744140625    |
| 6  | 4096               | 2  | 5882            | 1.436035156    |
| 7  | 16384              | 3  | 41162           | 2.512329102    |
| 8  | 65536              | 3  | 41162           | 0.6280822754   |
| 9  | 262144             | 4  | 288122          | 1.099098206    |
| 10 | 1048576            | 4  | 288122          | 0.2747745514   |
| 11 | 4194304            | 5  | 2016842         | 0.4808526039   |
| 12 | 16777216           | 6  | 14117882        | 0.8414913416   |
| 13 | 67108864           | 6  | 14117882        | 0.2103728354   |
| 14 | 268435456          | 7  | 98825162        | 0.3681524172   |
| 15 | 1073741824         | 8  | 691776122       | 0.644266719    |
| 16 | 4294967296         | 8  | 691776122       | 0.1610666797   |
| 17 | 17179869184        | 9  | 4842432842      | 0.2818666889   |
| 18 | 68719476736        | 10 | 33897029882     | 0.4932667053   |
| 19 | 274877906944       | 11 | 237279209162    | 0.8632167343   |
| 20 | 1099511627776      | 11 | 237279209162    | 0.2158041836   |
| 21 | 4398046511104      | 12 | 1660954464122   | 0.3776573213   |
| 22 | 17592186044416     | 13 | 11626681248842  | 0.6609003122   |
| 23 | 70368744177664     | 13 | 11626681248842  | 0.165225078    |
| 24 | 281474976710656    | 14 | 81386768741882  | 0.2891438866   |
| 25 | 1125899906842620   | 15 | 569707381193162 | 0.5060018015   |
| 26 | 4503599627370500   | 15 | 569707381193162 | 0.1265004504   |
| 27 | 18014398509482000  | 15 | 569707381193162 | 0.03162511259  |
| 28 | 72057594037927900  | 15 | 569707381193162 | 0.007906278149 |
| 29 | 288230376151712000 | 15 | 569707381193162 | 0.001976569537 |</p>
<p>Hexagonal cells don&#8217;t align perfectly on a vector tile.
Some cells may intersect more than one vector tile.
To compute the H3 resolution for each precision, Elasticsearch compares the average density of hexagonal bins at each resolution with the average density of tile bins at each zoom level.
Elasticsearch uses the H3 resolution that is closest to the corresponding geotile density.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/search-vector-tile-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.searchMvt({ index, field, zoom, x, y })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_33"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: List of data streams, indices, or aliases to search
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">field</code> (string)</strong></span>: Field containing geospatial data to return
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">zoom</code> (number)</strong></span>: Zoom level for the vector tile to search
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">x</code> (number)</strong></span>: X coordinate for the vector tile to search
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">y</code> (number)</strong></span>: Y coordinate for the vector tile to search
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">aggs</code> (Optional, Record&lt;string, { aggregations, meta, adjacency_matrix, auto_date_histogram, avg, avg_bucket, boxplot, bucket_script, bucket_selector, bucket_sort, bucket_count_ks_test, bucket_correlation, cardinality, categorize_text, children, composite, cumulative_cardinality, cumulative_sum, date_histogram, date_range, derivative, diversified_sampler, extended_stats, extended_stats_bucket, frequent_item_sets, filter, filters, geo_bounds, geo_centroid, geo_distance, geohash_grid, geo_line, geotile_grid, geohex_grid, global, histogram, ip_range, ip_prefix, inference, line, matrix_stats, max, max_bucket, median_absolute_deviation, min, min_bucket, missing, moving_avg, moving_percentiles, moving_fn, multi_terms, nested, normalize, parent, percentile_ranks, percentiles, percentiles_bucket, range, rare_terms, rate, reverse_nested, random_sampler, sampler, scripted_metric, serial_diff, significant_terms, significant_text, stats, stats_bucket, string_stats, sum, sum_bucket, terms, time_series, top_hits, t_test, top_metrics, value_count, weighted_avg, variable_width_histogram }&gt;)</strong></span>: Sub-aggregations for the geotile_grid. It supports the following aggregation types: - <code class="literal">avg</code> - <code class="literal">boxplot</code> - <code class="literal">cardinality</code> - <code class="literal">extended stats</code> - <code class="literal">max</code> - <code class="literal">median absolute deviation</code> - <code class="literal">min</code> - <code class="literal">percentile</code> - <code class="literal">percentile-rank</code> - <code class="literal">stats</code> - <code class="literal">sum</code> - <code class="literal">value count</code> The aggregation names can&#8217;t start with <code class="literal">_mvt_</code>. The <code class="literal">_mvt_</code> prefix is reserved for internal aggregations.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">buffer</code> (Optional, number)</strong></span>: The size, in pixels, of a clipping buffer outside the tile. This allows renderers to avoid outline artifacts from geometries that extend past the extent of the tile.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">exact_bounds</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the meta layer&#8217;s feature is the bounding box of the tile. If <code class="literal">true</code>, the meta layer&#8217;s feature is a bounding box resulting from a <code class="literal">geo_bounds</code> aggregation. The aggregation runs on &lt;field&gt; values that intersect the <code class="literal">&lt;zoom&gt;/&lt;x&gt;/&lt;y&gt;</code> tile with <code class="literal">wrap_longitude</code> set to <code class="literal">false</code>. The resulting bounding box may be larger than the vector tile.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">extent</code> (Optional, number)</strong></span>: The size, in pixels, of a side of the tile. Vector tiles are square with equal sides.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, string | string[])</strong></span>: The fields to return in the <code class="literal">hits</code> layer. It supports wildcards (<code class="literal">*</code>). This parameter does not support fields with array values. Fields with array values may return inconsistent results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">grid_agg</code> (Optional, Enum("geotile" | "geohex"))</strong></span>: The aggregation used to create a grid for the <code class="literal">field</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">grid_precision</code> (Optional, number)</strong></span>: Additional zoom levels available through the aggs layer. For example, if <code class="literal">&lt;zoom&gt;</code> is <code class="literal">7</code> and <code class="literal">grid_precision</code> is <code class="literal">8</code>, you can zoom in up to level 15. Accepts 0-8. If 0, results don&#8217;t include the aggs layer.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">grid_type</code> (Optional, Enum("grid" | "point" | "centroid"))</strong></span>: Determines the geometry type for features in the aggs layer. In the aggs layer, each feature represents a <code class="literal">geotile_grid</code> cell. If <code class="literal">grid, each feature is a polygon of the cells bounding box. If `point</code>, each feature is a Point that is the centroid of the cell.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: The query DSL used to filter documents for the search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">runtime_mappings</code> (Optional, Record&lt;string, { fields, fetch_fields, format, input_field, target_field, target_index, script, type }&gt;)</strong></span>: Defines one or more runtime fields in the search request. These fields take precedence over mapped fields with the same name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: The maximum number of features to return in the hits layer. Accepts 0-10000. If 0, results don&#8217;t include the hits layer.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">sort</code> (Optional, string | { _score, _doc, _geo_distance, _script } | string | { _score, _doc, _geo_distance, _script }[])</strong></span>: Sort the features in the hits layer. By default, the API calculates a bounding box for each feature. It sorts features based on this box&#8217;s diagonal length, from longest to shortest.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">track_total_hits</code> (Optional, boolean | number)</strong></span>: The number of hits matching the query to count accurately. If <code class="literal">true</code>, the exact number of hits is returned at the cost of some performance. If <code class="literal">false</code>, the response does not include the total number of hits matching the query.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">with_labels</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the hits and aggs layers will contain additional point features representing suggested label positions for the original features. * <code class="literal">Point</code> and <code class="literal">MultiPoint</code> features will have one of the points selected. * <code class="literal">Polygon</code> and <code class="literal">MultiPolygon</code> features will have a single point generated, either the centroid, if it is within the polygon, or another point within the polygon selected from the sorted triangle-tree. * <code class="literal">LineString</code> features will likewise provide a roughly central point selected from the triangle-tree. * The aggregation results will provide one central point for each aggregation bucket. All attributes from the original features will also be copied to the new label features. In addition, the new features will be distinguishable using the tag <code class="literal">_mvt_label_position</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_search_shards"></a>search_shards</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the search shards.</p>
<p>Get the indices and shards that a search request would be run against.
This information can be useful for working out issues or planning optimizations with routing and shard preferences.
When filtered aliases are used, the filter is returned as part of the <code class="literal">indices</code> section.</p>
<p>If the Elasticsearch security features are enabled, you must have the <code class="literal">view_index_metadata</code> or <code class="literal">manage</code> index privilege for the target data stream, index, or alias.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/search-shards.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.searchShards({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_34"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and aliases to search. It supports wildcards (<code class="literal">*</code>). To search all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices. This behavior applies even if the request targets other open indices. For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match. If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams. Supports a list of values, such as <code class="literal">open,hidden</code>. Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request retrieves information from the local node only.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node. If the master node is not available before the timeout expires, the request fails and returns an error. IT can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. It is random by default.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_search_template"></a>search_template</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run a search with a search template.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/search-template-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.searchTemplate({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_35"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and aliases to search. It supports wildcards (<code class="literal">*</code>).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">explain</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns detailed information about score calculation as part of each hit. If you specify both this and the <code class="literal">explain</code> query parameter, the API uses only the query parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (Optional, string)</strong></span>: The ID of the search template to use. If no <code class="literal">source</code> is specified, this parameter is required.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">params</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: Key-value pairs used to replace Mustache variables in the template. The key is the variable name. The value is the variable value.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">profile</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the query execution is profiled.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">source</code> (Optional, string)</strong></span>: An inline search template. Supports the same parameters as the search API&#8217;s request body. It also supports Mustache variables. If no <code class="literal">id</code> is specified, this parameter is required.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices. This behavior applies even if the request targets other open indices. For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ccs_minimize_roundtrips</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, network round-trips are minimized for cross-cluster search requests.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: The type of index that wildcard patterns can match. If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams. Supports a list of values, such as <code class="literal">open,hidden</code>. Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_throttled</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, specified concrete, expanded, or aliased indices are not included in the response when throttled.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. It is random by default.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll</code> (Optional, string | -1 | 0)</strong></span>: Specifies how long a consistent view of the index should be maintained for scrolled search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_type</code> (Optional, Enum("query_then_fetch" | "dfs_query_then_fetch"))</strong></span>: The type of the search operation.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rest_total_hits_as_int</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, <code class="literal">hits.total</code> is rendered as an integer in the response. If <code class="literal">false</code>, it is rendered as an object.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">typed_keys</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response prefixes aggregation and suggester names with their respective types.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_terms_enum"></a>terms_enum</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get terms in an index.</p>
<p>Discover terms that match a partial string in an index.
This API is designed for low-latency look-ups used in auto-complete scenarios.</p>
<div class="quoteblock">
<blockquote>
<p>info
The terms enum API may return terms from deleted documents. Deleted documents are initially only marked as deleted. It is not until their segments are merged that documents are actually deleted. Until that happens, the terms enum API will return terms from these documents.</p>
</blockquote>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/search-terms-enum.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.termsEnum({ index, field })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_36"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: A list of data streams, indices, and index aliases to search. Wildcard (<code class="literal">*</code>) expressions are supported. To search all data streams or indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">field</code> (string)</strong></span>: The string to match at the start of indexed terms. If not provided, all terms in the field are considered.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: The number of matching terms to return.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The maximum length of time to spend collecting results. If the timeout is exceeded the <code class="literal">complete</code> flag set to <code class="literal">false</code> in the response and the results may be partial or empty.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">case_insensitive</code> (Optional, boolean)</strong></span>: When <code class="literal">true</code>, the provided search string is matched against index terms without case sensitivity.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Filter an index shard if the provided query rewrites to <code class="literal">match_none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">string</code> (Optional, string)</strong></span>: The string to match at the start of indexed terms. If it is not provided, all terms in the field are considered. &gt; info &gt; The prefix string cannot be larger than the largest possible keyword value, which is Lucene&#8217;s term byte-length limit of 32766.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_after</code> (Optional, string)</strong></span>: The string after which terms in the index should be returned. It allows for a form of pagination if the last result from one request is passed as the <code class="literal">search_after</code> parameter for a subsequent request.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_termvectors"></a>termvectors</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get term vector information.</p>
<p>Get information and statistics about terms in the fields of a particular document.</p>
<p>You can retrieve term vectors for documents stored in the index or for artificial documents passed in the body of the request.
You can specify the fields you are interested in through the <code class="literal">fields</code> parameter or by adding the fields to the request body.
For example:</p>
<pre class="screen">GET /my-index-000001/_termvectors/1?fields=message</pre>
<p>Fields can be specified using wildcards, similar to the multi match query.</p>
<p>Term vectors are real-time by default, not near real-time.
This can be changed by setting <code class="literal">realtime</code> parameter to <code class="literal">false</code>.</p>
<p>You can request three types of values: <em>term information</em>, <em>term statistics</em>, and <em>field statistics</em>.
By default, all term information and field statistics are returned for all fields but term statistics are excluded.</p>
<p><span class="strong strong"><strong>Term information</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
term frequency in the field (always returned)
</li>
<li class="listitem">
term positions (<code class="literal">positions: true</code>)
</li>
<li class="listitem">
start and end offsets (<code class="literal">offsets: true</code>)
</li>
<li class="listitem">
term payloads (<code class="literal">payloads: true</code>), as base64 encoded bytes
</li>
</ul>
</div>
<p>If the requested information wasn&#8217;t stored in the index, it will be computed on the fly if possible.
Additionally, term vectors could be computed for documents not even existing in the index, but instead provided by the user.</p>
<div class="quoteblock">
<blockquote>
<p>warn
Start and end offsets assume UTF-16 encoding is being used. If you want to use these offsets in order to get the original text that produced this token, you should make sure that the string you are taking a sub-string of is also encoded using UTF-16.</p>
</blockquote>
</div>
<p><span class="strong strong"><strong>Behaviour</strong></span></p>
<p>The term and field statistics are not accurate.
Deleted documents are not taken into account.
The information is only retrieved for the shard the requested document resides in.
The term and field statistics are therefore only useful as relative measures whereas the absolute numbers have no meaning in this context.
By default, when requesting term vectors of artificial documents, a shard to get the statistics from is randomly selected.
Use <code class="literal">routing</code> only to hit a particular shard.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-termvectors.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.termvectors({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_37"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the index that contains the document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (Optional, string)</strong></span>: A unique identifier for the document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">doc</code> (Optional, object)</strong></span>: An artificial document (a document not present in the index) for which you want to retrieve term vectors.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">filter</code> (Optional, { max_doc_freq, max_num_terms, max_term_freq, max_word_length, min_doc_freq, min_term_freq, min_word_length })</strong></span>: Filter terms based on their tf-idf scores. This could be useful in order find out a good characteristic vector of a document. This feature works in a similar manner to the second phase of the More Like This Query.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">per_field_analyzer</code> (Optional, Record&lt;string, string&gt;)</strong></span>: Override the default per-field analyzer. This is useful in order to generate term vectors in any fashion, especially when using artificial documents. When providing an analyzer for a field that already stores term vectors, the term vectors will be regenerated.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, string | string[])</strong></span>: A list of fields to include in the statistics. It is used as the default list unless a specific field list is provided in the <code class="literal">completion_fields</code> or <code class="literal">fielddata_fields</code> parameters.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">field_statistics</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes: * The document count (how many documents contain this field). * The sum of document frequencies (the sum of document frequencies for all terms in this field). * The sum of total term frequencies (the sum of total term frequencies of each term in this field).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">offsets</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes term offsets.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">payloads</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes term payloads.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">positions</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes term positions.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">term_statistics</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes: * The total term frequency (how often a term occurs in all documents). * The document frequency (the number of documents containing the current term). By default these values are not returned since term statistics can have a serious performance impact.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value that is used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: If <code class="literal">true</code>, returns the document version as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version_type</code> (Optional, Enum("internal" | "external" | "external_gte" | "force"))</strong></span>: The version type.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. It is random by default.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">realtime</code> (Optional, boolean)</strong></span>: If true, the request is real-time as opposed to near-real-time.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_update"></a>update</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update a document.</p>
<p>Update a document by running a script or passing a partial document.</p>
<p>If the Elasticsearch security features are enabled, you must have the <code class="literal">index</code> or <code class="literal">write</code> index privilege for the target index or index alias.</p>
<p>The script can update, delete, or skip modifying the document.
The API also supports passing a partial document, which is merged into the existing document.
To fully replace an existing document, use the index API.
This operation:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Gets the document (collocated with the shard) from the index.
</li>
<li class="listitem">
Runs the specified script.
</li>
<li class="listitem">
Indexes the result.
</li>
</ul>
</div>
<p>The document must still be reindexed, but using this API removes some network roundtrips and reduces chances of version conflicts between the GET and the index operation.</p>
<p>The <code class="literal">_source</code> field must be enabled to use this API.
In addition to <code class="literal">_source</code>, you can access the following variables through the <code class="literal">ctx</code> map: <code class="literal">_index</code>, <code class="literal">_type</code>, <code class="literal">_id</code>, <code class="literal">_version</code>, <code class="literal">_routing</code>, and <code class="literal">_now</code> (the current timestamp).</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-update.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.update({ id, index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_38"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: A unique identifier for the document to be updated.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the target index. By default, the index is created automatically if it doesn&#8217;t exist.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">detect_noop</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the <code class="literal">result</code> in the response is set to <code class="literal">noop</code> (no operation) when there are no changes to the document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">doc</code> (Optional, object)</strong></span>: A partial update to an existing document. If both <code class="literal">doc</code> and <code class="literal">script</code> are specified, <code class="literal">doc</code> is ignored.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">doc_as_upsert</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, use the contents of <em>doc</em> as the value of <em>upsert</em>. NOTE: Using ingest pipelines with <code class="literal">doc_as_upsert</code> is not supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">script</code> (Optional, { source, id, params, lang, options })</strong></span>: The script to run to update the document.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scripted_upsert</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, run the script whether or not the document exists.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | { excludes, includes })</strong></span>: If <code class="literal">false</code>, turn off source retrieval. You can also specify a list of the fields you want to retrieve.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">upsert</code> (Optional, object)</strong></span>: If the document does not already exist, the contents of <em>upsert</em> are inserted as a new document. If the document exists, the <em>script</em> is run.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">if_primary_term</code> (Optional, number)</strong></span>: Only perform the operation if the document has this primary term.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">if_seq_no</code> (Optional, number)</strong></span>: Only perform the operation if the document has this sequence number.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_source_on_error</code> (Optional, boolean)</strong></span>: True or false if to include the document source in the error message in case of parsing errors.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">lang</code> (Optional, string)</strong></span>: The script language.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, Enum(true | false | "wait_for"))</strong></span>: If <em>true</em>, Elasticsearch refreshes the affected shards to make this operation visible to search. If <em>wait_for</em>, it waits for a refresh to make this operation visible to search. If <em>false</em>, it does nothing with refreshes.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">require_alias</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the destination must be an index alias.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">retry_on_conflict</code> (Optional, number)</strong></span>: The number of times the operation should be retried when a conflict occurs.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for the following operations: dynamic mapping updates and waiting for active shards. Elasticsearch waits for at least the timeout period before failing. The actual wait time could be longer, particularly when multiple waits occur.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of copies of each shard that must be active before proceeding with the operation. Set to <em>all</em> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas</code>+1). The default value of <code class="literal">1</code> means it waits for each primary shard to be active.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>: The source fields you want to exclude.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>: The source fields you want to retrieve.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_update_by_query"></a>update_by_query</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update documents.
Updates documents that match the specified query.
If no query is specified, performs an update on every document in the data stream or index without modifying the source, which is useful for picking up mapping changes.</p>
<p>If the Elasticsearch security features are enabled, you must have the following index privileges for the target data stream, index, or alias:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">read</code>
</li>
<li class="listitem">
<code class="literal">index</code> or <code class="literal">write</code>
</li>
</ul>
</div>
<p>You can specify the query criteria in the request URI or the request body using the same syntax as the search API.</p>
<p>When you submit an update by query request, Elasticsearch gets a snapshot of the data stream or index when it begins processing the request and updates matching documents using internal versioning.
When the versions match, the document is updated and the version number is incremented.
If a document changes between the time that the snapshot is taken and the update operation is processed, it results in a version conflict and the operation fails.
You can opt to count version conflicts instead of halting and returning by setting <code class="literal">conflicts</code> to <code class="literal">proceed</code>.
Note that if you opt to count version conflicts, the operation could attempt to update more documents from the source than <code class="literal">max_docs</code> until it has successfully updated <code class="literal">max_docs</code> documents or it has gone through every document in the source query.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Documents with a version equal to 0 cannot be updated using update by query because internal versioning does not support 0 as a valid version number.</p>
</div>
</div>
<p>While processing an update by query request, Elasticsearch performs multiple search requests sequentially to find all of the matching documents.
A bulk update request is performed for each batch of matching documents.
Any query or update failures cause the update by query request to fail and the failures are shown in the response.
Any update requests that completed successfully still stick, they are not rolled back.</p>
<p><span class="strong strong"><strong>Throttling update requests</strong></span></p>
<p>To control the rate at which update by query issues batches of update operations, you can set <code class="literal">requests_per_second</code> to any positive decimal number.
This pads each batch with a wait time to throttle the rate.
Set <code class="literal">requests_per_second</code> to <code class="literal">-1</code> to turn off throttling.</p>
<p>Throttling uses a wait time between batches so that the internal scroll requests can be given a timeout that takes the request padding into account.
The padding time is the difference between the batch size divided by the <code class="literal">requests_per_second</code> and the time spent writing.
By default the batch size is 1000, so if <code class="literal">requests_per_second</code> is set to <code class="literal">500</code>:</p>
<pre class="screen">target_time = 1000 / 500 per second = 2 seconds
wait_time = target_time - write_time = 2 seconds - .5 seconds = 1.5 seconds</pre>
<p>Since the batch is issued as a single _bulk request, large batch sizes cause Elasticsearch to create many requests and wait before starting the next set.
This is "bursty" instead of "smooth".</p>
<p><span class="strong strong"><strong>Slicing</strong></span></p>
<p>Update by query supports sliced scroll to parallelize the update process.
This can improve efficiency and provide a convenient way to break the request down into smaller parts.</p>
<p>Setting <code class="literal">slices</code> to <code class="literal">auto</code> chooses a reasonable number for most data streams and indices.
This setting will use one slice per shard, up to a certain limit.
If there are multiple source data streams or indices, it will choose the number of slices based on the index or backing index with the smallest number of shards.</p>
<p>Adding <code class="literal">slices</code> to <code class="literal">_update_by_query</code> just automates the manual process of creating sub-requests, which means it has some quirks:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You can see these requests in the tasks APIs. These sub-requests are "child" tasks of the task for the request with slices.
</li>
<li class="listitem">
Fetching the status of the task for the request with <code class="literal">slices</code> only contains the status of completed slices.
</li>
<li class="listitem">
These sub-requests are individually addressable for things like cancellation and rethrottling.
</li>
<li class="listitem">
Rethrottling the request with <code class="literal">slices</code> will rethrottle the unfinished sub-request proportionally.
</li>
<li class="listitem">
Canceling the request with slices will cancel each sub-request.
</li>
<li class="listitem">
Due to the nature of slices each sub-request won&#8217;t get a perfectly even portion of the documents. All documents will be addressed, but some slices may be larger than others. Expect larger slices to have a more even distribution.
</li>
<li class="listitem">
Parameters like <code class="literal">requests_per_second</code> and <code class="literal">max_docs</code> on a request with slices are distributed proportionally to each sub-request. Combine that with the point above about distribution being uneven and you should conclude that using <code class="literal">max_docs</code> with <code class="literal">slices</code> might not result in exactly <code class="literal">max_docs</code> documents being updated.
</li>
<li class="listitem">
Each sub-request gets a slightly different snapshot of the source data stream or index though these are all taken at approximately the same time.
</li>
</ul>
</div>
<p>If you&#8217;re slicing manually or otherwise tuning automatic slicing, keep in mind that:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Query performance is most efficient when the number of slices is equal to the number of shards in the index or backing index. If that number is large (for example, 500), choose a lower number as too many slices hurts performance. Setting slices higher than the number of shards generally does not improve efficiency and adds overhead.
</li>
<li class="listitem">
Update performance scales linearly across available resources with the number of slices.
</li>
</ul>
</div>
<p>Whether query or update performance dominates the runtime depends on the documents being reindexed and cluster resources.</p>
<p><span class="strong strong"><strong>Update the document source</strong></span></p>
<p>Update by query supports scripts to update the document source.
As with the update API, you can set <code class="literal">ctx.op</code> to change the operation that is performed.</p>
<p>Set <code class="literal">ctx.op = "noop"</code> if your script decides that it doesn&#8217;t have to make any changes.
The update by query operation skips updating the document and increments the <code class="literal">noop</code> counter.</p>
<p>Set <code class="literal">ctx.op = "delete"</code> if your script decides that the document should be deleted.
The update by query operation deletes the document and increments the <code class="literal">deleted</code> counter.</p>
<p>Update by query supports only <code class="literal">index</code>, <code class="literal">noop</code>, and <code class="literal">delete</code>.
Setting <code class="literal">ctx.op</code> to anything else is an error.
Setting any other field in <code class="literal">ctx</code> is an error.
This API enables you to only modify the source of matching documents; you cannot move them.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-update-by-query.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.updateByQuery({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_39"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: A list of data streams, indices, and aliases to search. It supports wildcards (<code class="literal">*</code>). To search all data streams or indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_docs</code> (Optional, number)</strong></span>: The maximum number of documents to update.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: The documents to update using the Query DSL.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">script</code> (Optional, { source, id, params, lang, options })</strong></span>: The script to run to update the document source or metadata when updating.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">slice</code> (Optional, { field, id, max })</strong></span>: Slice the request manually using the provided slice ID and total number of slices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">conflicts</code> (Optional, Enum("abort" | "proceed"))</strong></span>: The preferred behavior when update by query hits version conflicts: <code class="literal">abort</code> or <code class="literal">proceed</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices. This behavior applies even if the request targets other open indices. For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyzer</code> (Optional, string)</strong></span>: The analyzer to use for the query string. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyze_wildcard</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, wildcard and prefix queries are analyzed. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">default_operator</code> (Optional, Enum("and" | "or"))</strong></span>: The default operator for query string query: <code class="literal">AND</code> or <code class="literal">OR</code>. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">df</code> (Optional, string)</strong></span>: The field to use as default where no field prefix is given in the query string. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: The type of index that wildcard patterns can match. If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams. It supports a list of values, such as <code class="literal">open,hidden</code>. Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">from</code> (Optional, number)</strong></span>: Starting offset (default: 0)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">lenient</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, format-based query failures (such as providing text to a numeric field) in the query string will be ignored. This parameter can be used only when the <code class="literal">q</code> query string parameter is specified.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pipeline</code> (Optional, string)</strong></span>: The ID of the pipeline to use to preprocess incoming documents. If the index has a default ingest pipeline specified, then setting the value to <code class="literal">_none</code> disables the default ingest pipeline for this request. If a final pipeline is configured it will always run, regardless of the value of this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: The node or shard the operation should be performed on. It is random by default.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">q</code> (Optional, string)</strong></span>: A query in the Lucene query string syntax.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">refresh</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, Elasticsearch refreshes affected shards to make the operation visible to search after the request completes. This is different than the update API&#8217;s <code class="literal">refresh</code> parameter, which causes just the shard that received the request to be refreshed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">request_cache</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request cache is used for this request. It defaults to the index-level setting.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">requests_per_second</code> (Optional, float)</strong></span>: The throttle for this request in sub-requests per second.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll</code> (Optional, string | -1 | 0)</strong></span>: The period to retain the search context for scrolling.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll_size</code> (Optional, number)</strong></span>: The size of the scroll request that powers the operation.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_timeout</code> (Optional, string | -1 | 0)</strong></span>: An explicit timeout for each search request. By default, there is no timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_type</code> (Optional, Enum("query_then_fetch" | "dfs_query_then_fetch"))</strong></span>: The type of the search operation. Available options include <code class="literal">query_then_fetch</code> and <code class="literal">dfs_query_then_fetch</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">slices</code> (Optional, number | Enum("auto"))</strong></span>: The number of slices this task should be divided into.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">sort</code> (Optional, string[])</strong></span>: A list of &lt;field&gt;:&lt;direction&gt; pairs.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stats</code> (Optional, string[])</strong></span>: The specific <code class="literal">tag</code> of the request for logging and statistical purposes.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">terminate_after</code> (Optional, number)</strong></span>: The maximum number of documents to collect for each shard. If a query reaches this limit, Elasticsearch terminates the query early. Elasticsearch collects documents before sorting. IMPORTANT: Use with caution. Elasticsearch applies this parameter to each shard handling the request. When possible, let Elasticsearch perform early termination automatically. Avoid specifying this parameter for requests that target data streams with backing indices across multiple data tiers.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period each update request waits for the following operations: dynamic mapping updates, waiting for active shards. By default, it is one minute. This guarantees Elasticsearch waits for at least the timeout before failing. The actual wait time could be longer, particularly when multiple waits occur.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns the document version as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version_type</code> (Optional, boolean)</strong></span>: Should the document increment the version number (internal) on hit or not (reindex)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of shard copies that must be active before proceeding with the operation. Set to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>). The <code class="literal">timeout</code> parameter controls how long each write request waits for unavailable shards to become available. Both work exactly the way they work in the bulk API.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request blocks until the operation is complete. If <code class="literal">false</code>, Elasticsearch performs some preflight checks, launches the request, and returns a task ID that you can use to cancel or get the status of the task. Elasticsearch creates a record of this task as a document at <code class="literal">.tasks/task/${taskId}</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_update_by_query_rethrottle"></a>update_by_query_rethrottle</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Throttle an update by query operation.</p>
<p>Change the number of requests per second for a particular update by query operation.
Rethrottling that speeds up the query takes effect immediately but rethrotting that slows down the query takes effect after completing the current batch to prevent scroll timeouts.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/docs-update-by-query.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.updateByQueryRethrottle({ task_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_40"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">task_id</code> (string)</strong></span>: The ID for the task.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">requests_per_second</code> (Optional, float)</strong></span>: The throttle for this request in sub-requests per second. To turn off throttling, set it to <code class="literal">-1</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_async_search"></a>async_search</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_delete_2"></a>delete</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete an async search.</p>
<p>If the asynchronous search is still running, it is cancelled.
Otherwise, the saved search results are deleted.
If the Elasticsearch security features are enabled, the deletion of a specific async search is restricted to: the authenticated user that submitted the original search request; users that have the <code class="literal">cancel_task</code> cluster privilege.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/async-search.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.asyncSearch.delete({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_41"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: A unique identifier for the async search.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_2"></a>get</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get async search results.</p>
<p>Retrieve the results of a previously submitted asynchronous search request.
If the Elasticsearch security features are enabled, access to the results of a specific async search is restricted to the user or API key that submitted it.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/async-search.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.asyncSearch.get({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_42"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: A unique identifier for the async search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_alive</code> (Optional, string | -1 | 0)</strong></span>: The length of time that the async search should be available in the cluster.
When not specified, the <code class="literal">keep_alive</code> set with the corresponding submit async request will be used.
Otherwise, it is possible to override the value and extend the validity of the request.
When this period expires, the search, if still running, is cancelled.
If the search is completed, its saved results are deleted.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">typed_keys</code> (Optional, boolean)</strong></span>: Specify whether aggregation and suggester names should be prefixed by their respective types in the response
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion_timeout</code> (Optional, string | -1 | 0)</strong></span>: Specifies to wait for the search to be completed up until the provided timeout.
Final results will be returned if available before the timeout expires, otherwise the currently available results will be returned once the timeout expires.
By default no timeout is set meaning that the currently available results will be returned without any additional wait.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_status"></a>status</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the async search status.</p>
<p>Get the status of a previously submitted async search request given its identifier, without retrieving search results.
If the Elasticsearch security features are enabled, the access to the status of a specific async search is restricted to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The user or API key that submitted the original async search request.
</li>
<li class="listitem">
Users that have the <code class="literal">monitor</code> cluster privilege or greater privileges.
</li>
</ul>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/async-search.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.asyncSearch.status({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_43"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: A unique identifier for the async search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_alive</code> (Optional, string | -1 | 0)</strong></span>: The length of time that the async search needs to be available.
Ongoing async searches and any saved search results are deleted after this period.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_submit"></a>submit</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run an async search.</p>
<p>When the primary sort of the results is an indexed field, shards get sorted based on minimum and maximum value that they hold for that field. Partial results become available following the sort criteria that was requested.</p>
<p>Warning: Asynchronous search does not support scroll or search requests that include only the suggest section.</p>
<p>By default, Elasticsearch does not allow you to store an async search response larger than 10Mb and an attempt to do this results in an error.
The maximum allowed size for a stored async search response can be set by changing the <code class="literal">search.max_async_search_response_size</code> cluster level setting.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/async-search.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.asyncSearch.submit({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_44"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of index names to search; use <code class="literal">_all</code> or empty string to perform the operation on all indices
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">aggregations</code> (Optional, Record&lt;string, { aggregations, meta, adjacency_matrix, auto_date_histogram, avg, avg_bucket, boxplot, bucket_script, bucket_selector, bucket_sort, bucket_count_ks_test, bucket_correlation, cardinality, categorize_text, children, composite, cumulative_cardinality, cumulative_sum, date_histogram, date_range, derivative, diversified_sampler, extended_stats, extended_stats_bucket, frequent_item_sets, filter, filters, geo_bounds, geo_centroid, geo_distance, geohash_grid, geo_line, geotile_grid, geohex_grid, global, histogram, ip_range, ip_prefix, inference, line, matrix_stats, max, max_bucket, median_absolute_deviation, min, min_bucket, missing, moving_avg, moving_percentiles, moving_fn, multi_terms, nested, normalize, parent, percentile_ranks, percentiles, percentiles_bucket, range, rare_terms, rate, reverse_nested, random_sampler, sampler, scripted_metric, serial_diff, significant_terms, significant_text, stats, stats_bucket, string_stats, sum, sum_bucket, terms, time_series, top_hits, t_test, top_metrics, value_count, weighted_avg, variable_width_histogram }&gt;)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">collapse</code> (Optional, { field, inner_hits, max_concurrent_group_searches, collapse })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">explain</code> (Optional, boolean)</strong></span>: If true, returns detailed information about score computation as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ext</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: Configuration of search extensions defined by Elasticsearch plugins.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">from</code> (Optional, number)</strong></span>: Starting document offset. By default, you cannot page through more than 10,000
hits using the from and size parameters. To page through more hits, use the
search_after parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">highlight</code> (Optional, { encoder, fields })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">track_total_hits</code> (Optional, boolean | number)</strong></span>: Number of hits matching the query to count accurately. If true, the exact
number of hits is returned at the cost of some performance. If false, the
response does not include the total number of hits matching the query.
Defaults to 10,000 hits.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">indices_boost</code> (Optional, Record&lt;string, number&gt;[])</strong></span>: Boosts the _score of documents from specified indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">docvalue_fields</code> (Optional, { field, format, include_unmapped }[])</strong></span>: Array of wildcard (*) patterns. The request returns doc values for field
names matching these patterns in the hits.fields property of the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">knn</code> (Optional, { field, query_vector, query_vector_builder, k, num_candidates, boost, filter, similarity, inner_hits, rescore_vector } | { field, query_vector, query_vector_builder, k, num_candidates, boost, filter, similarity, inner_hits, rescore_vector }[])</strong></span>: Defines the approximate kNN search to run.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">min_score</code> (Optional, number)</strong></span>: Minimum _score for matching documents. Documents with a lower _score are
not included in the search results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">post_filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">profile</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Defines the search definition using the Query DSL.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rescore</code> (Optional, { window_size, query, learning_to_rank } | { window_size, query, learning_to_rank }[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">script_fields</code> (Optional, Record&lt;string, { script, ignore_failure }&gt;)</strong></span>: Retrieve a script evaluation (based on different fields) for each hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_after</code> (Optional, number | number | string | boolean | null | User-defined value[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: The number of hits to return. By default, you cannot page through more
than 10,000 hits using the from and size parameters. To page through more
hits, use the search_after parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">slice</code> (Optional, { field, id, max })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">sort</code> (Optional, string | { _score, _doc, _geo_distance, _script } | string | { _score, _doc, _geo_distance, _script }[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | { excludes, includes })</strong></span>: Indicates which source fields are returned for matching documents. These
fields are returned in the hits._source property of the search response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, { field, format, include_unmapped }[])</strong></span>: Array of wildcard (*) patterns. The request returns values for field names
matching these patterns in the hits.fields property of the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest</code> (Optional, { text })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">terminate_after</code> (Optional, number)</strong></span>: Maximum number of documents to collect for each shard. If a query reaches this
limit, Elasticsearch terminates the query early. Elasticsearch collects documents
before sorting. Defaults to 0, which does not terminate query execution early.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string)</strong></span>: Specifies the period of time to wait for a response from each shard. If no response
is received before the timeout expires, the request fails and returns an error.
Defaults to no timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">track_scores</code> (Optional, boolean)</strong></span>: If true, calculate and return document scores, even if the scores are not used for sorting.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, boolean)</strong></span>: If true, returns document version as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">seq_no_primary_term</code> (Optional, boolean)</strong></span>: If true, returns sequence number and primary term of the last modification
of each hit. See Optimistic concurrency control.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stored_fields</code> (Optional, string | string[])</strong></span>: List of stored fields to return as part of a hit. If no fields are specified,
no stored fields are included in the response. If this field is specified, the _source
parameter defaults to false. You can pass _source: true to return both source fields
and stored fields in the search response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pit</code> (Optional, { id, keep_alive })</strong></span>: Limits the search to a point in time (PIT). If you provide a PIT, you
cannot specify an &lt;index&gt; in the request path.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">runtime_mappings</code> (Optional, Record&lt;string, { fields, fetch_fields, format, input_field, target_field, target_index, script, type }&gt;)</strong></span>: Defines one or more runtime fields in the search request. These fields take
precedence over mapped fields with the same name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stats</code> (Optional, string[])</strong></span>: Stats groups to associate with the search. Each group maintains a statistics
aggregation for its associated searches. You can retrieve these stats using
the indices stats API.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion_timeout</code> (Optional, string | -1 | 0)</strong></span>: Blocks and waits until the search is completed up to a certain timeout.
When the async search completes within the timeout, the response won’t include the ID as the results are not stored in the cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_alive</code> (Optional, string | -1 | 0)</strong></span>: Specifies how long the async search needs to be available.
Ongoing async searches and any saved search results are deleted after this period.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_on_completion</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, results are stored for later retrieval when the search completes within the <code class="literal">wait_for_completion_timeout</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: Whether to ignore if a wildcard indices expression resolves into no concrete indices. (This includes <code class="literal">_all</code> string or when no indices have been specified)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_partial_search_results</code> (Optional, boolean)</strong></span>: Indicate if an error should be returned if there is a partial search failure or timeout
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyzer</code> (Optional, string)</strong></span>: The analyzer to use for the query string
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyze_wildcard</code> (Optional, boolean)</strong></span>: Specify whether wildcard and prefix queries should be analyzed (default: false)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">batched_reduce_size</code> (Optional, number)</strong></span>: Affects how often partial results become available, which happens whenever shard results are reduced.
A partial reduction is performed every time the coordinating node has received a certain number of new shard responses (5 by default).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ccs_minimize_roundtrips</code> (Optional, boolean)</strong></span>: The default value is the only supported value.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">default_operator</code> (Optional, Enum("and" | "or"))</strong></span>: The default operator for query string query (AND or OR)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">df</code> (Optional, string)</strong></span>: The field to use as default where no field prefix is given in the query string
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Whether to expand wildcard expression to concrete indices that are open, closed or both.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_throttled</code> (Optional, boolean)</strong></span>: Whether specified concrete, expanded or aliased indices should be ignored when throttled
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: Whether specified concrete indices should be ignored when unavailable (missing or closed)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">lenient</code> (Optional, boolean)</strong></span>: Specify whether format-based query failures (such as providing text to a numeric field) should be ignored
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_concurrent_shard_requests</code> (Optional, number)</strong></span>: The number of concurrent shard requests per node this search executes concurrently. This value should be used to limit the impact of the search on the cluster in order to limit the number of concurrent shard requests
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">min_compatible_shard_node</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>: Specify the node or shard the operation should be performed on (default: random)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">request_cache</code> (Optional, boolean)</strong></span>: Specify if request cache should be used for this request or not, defaults to true
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: A list of specific routing values
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_type</code> (Optional, Enum("query_then_fetch" | "dfs_query_then_fetch"))</strong></span>: Search operation type
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_field</code> (Optional, string)</strong></span>: Specifies which field to use for suggestions.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_mode</code> (Optional, Enum("missing" | "popular" | "always"))</strong></span>: Specify suggest mode
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_size</code> (Optional, number)</strong></span>: How many suggestions to return in response
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_text</code> (Optional, string)</strong></span>: The source text for which the suggestions should be returned.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">typed_keys</code> (Optional, boolean)</strong></span>: Specify whether aggregation and suggester names should be prefixed by their respective types in the response
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rest_total_hits_as_int</code> (Optional, boolean)</strong></span>: Indicates whether hits.total should be rendered as an integer or an object in the rest search response
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>: A list of fields to exclude from the returned _source field
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>: A list of fields to extract and return from the _source field
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">q</code> (Optional, string)</strong></span>: Query in the Lucene query string syntax
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_autoscaling"></a>autoscaling</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_delete_autoscaling_policy"></a>delete_autoscaling_policy</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete an autoscaling policy.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by Elasticsearch Service, Elastic Cloud Enterprise, and Elastic Cloud on Kubernetes. Direct use is not supported.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/autoscaling-delete-autoscaling-policy.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.autoscaling.deleteAutoscalingPolicy({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_45"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: the name of the autoscaling policy
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_autoscaling_capacity"></a>get_autoscaling_capacity</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the autoscaling capacity.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by Elasticsearch Service, Elastic Cloud Enterprise, and Elastic Cloud on Kubernetes. Direct use is not supported.</p>
</div>
</div>
<p>This API gets the current autoscaling capacity based on the configured autoscaling policy.
It will return information to size the cluster appropriately to the current workload.</p>
<p>The <code class="literal">required_capacity</code> is calculated as the maximum of the <code class="literal">required_capacity</code> result of all individual deciders that are enabled for the policy.</p>
<p>The operator should verify that the <code class="literal">current_nodes</code> match the operator’s knowledge of the cluster to avoid making autoscaling decisions based on stale or incomplete information.</p>
<p>The response contains decider-specific information you can use to diagnose how and why autoscaling determined a certain capacity was required.
This information is provided for diagnosis only.
Do not use this information to make autoscaling decisions.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/autoscaling-get-autoscaling-capacity.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.autoscaling.getAutoscalingCapacity({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_46"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_autoscaling_policy"></a>get_autoscaling_policy</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get an autoscaling policy.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by Elasticsearch Service, Elastic Cloud Enterprise, and Elastic Cloud on Kubernetes. Direct use is not supported.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/autoscaling-get-autoscaling-capacity.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.autoscaling.getAutoscalingPolicy({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_47"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: the name of the autoscaling policy
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_autoscaling_policy"></a>put_autoscaling_policy</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create or update an autoscaling policy.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by Elasticsearch Service, Elastic Cloud Enterprise, and Elastic Cloud on Kubernetes. Direct use is not supported.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/autoscaling-put-autoscaling-policy.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.autoscaling.putAutoscalingPolicy({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_48"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: the name of the autoscaling policy
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">policy</code> (Optional, { roles, deciders })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_cat"></a>cat</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_aliases"></a>aliases</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get aliases.</p>
<p>Get the cluster&#8217;s index aliases, including filter and routing information.
This API does not return data stream aliases.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>CAT APIs are only intended for human consumption using the command line or the Kibana console. They are not intended for use by applications. For application consumption, use the aliases API.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-alias.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.aliases({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_49"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string | string[])</strong></span>: A list of aliases to retrieve. Supports wildcards (<code class="literal">*</code>).  To retrieve all aliases, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: The type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
It supports a list of values, such as <code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
To indicated that the request should never timeout, you can set it to <code class="literal">-1</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_allocation"></a>allocation</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get shard allocation information.</p>
<p>Get a snapshot of the number of shards allocated to each data node and their disk space.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>CAT APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-allocation.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.allocation({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_50"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">node_id</code> (Optional, string | string[])</strong></span>: A list of node identifiers or names used to limit the returned information.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">bytes</code> (Optional, Enum("b" | "kb" | "mb" | "gb" | "tb" | "pb"))</strong></span>: The unit used to display byte values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_component_templates"></a>component_templates</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get component templates.</p>
<p>Get information about component templates in a cluster.
Component templates are building blocks for constructing index templates that specify index mappings, settings, and aliases.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>CAT APIs are only intended for human consumption using the command line or Kibana console.
They are not intended for use by applications. For application consumption, use the get component template API.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-component-templates.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.componentTemplates({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_51"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string)</strong></span>: The name of the component template.
It accepts wildcard expressions.
If it is omitted, all component templates are returned.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_count_2"></a>count</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get a document count.</p>
<p>Get quick access to a document count for a data stream, an index, or an entire cluster.
The document count only includes live documents, not deleted documents which have not yet been removed by the merge process.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>CAT APIs are only intended for human consumption using the command line or Kibana console.
They are not intended for use by applications. For application consumption, use the count API.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-count.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.count({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_52"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and aliases used to limit the request.
It supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_fielddata"></a>fielddata</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get field data cache information.</p>
<p>Get the amount of heap memory currently used by the field data cache on every data node in the cluster.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>cat APIs are only intended for human consumption using the command line or Kibana console.
They are not intended for use by applications. For application consumption, use the nodes stats API.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-fielddata.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.fielddata({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_53"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, string | string[])</strong></span>: List of fields used to limit returned information.
To retrieve all fields, omit this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">bytes</code> (Optional, Enum("b" | "kb" | "mb" | "gb" | "tb" | "pb"))</strong></span>: The unit used to display byte values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_health"></a>health</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the cluster health status.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>CAT APIs are only intended for human consumption using the command line or Kibana console.
They are not intended for use by applications. For application consumption, use the cluster health API.
This API is often used to check malfunctioning clusters.
To help you track cluster health alongside log files and alerting systems, the API returns timestamps in two formats:
<code class="literal">HH:MM:SS</code>, which is human-readable but includes no date information;
<code class="literal">Unix epoch time</code>, which is machine-sortable and includes date information.
The latter format is useful for cluster recoveries that take multiple days.
You can use the cat health API to verify cluster health across multiple nodes.
You also can use the API to track the recovery of a large cluster over a longer period of time.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-health.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.health({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_54"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: The unit used to display time values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ts</code> (Optional, boolean)</strong></span>: If true, returns <code class="literal">HH:MM:SS</code> and Unix epoch timestamps.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_help"></a>help</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get CAT help.</p>
<p>Get help for the CAT APIs.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.help()</pre>
</div>
<div class="position-relative"><h4><a id="_indices"></a>indices</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get index information.</p>
<p>Get high-level information about indices in a cluster, including backing indices for data streams.</p>
<p>Use this request to get the following information for each index in a cluster:
- shard count
- document count
- deleted document count
- primary store size
- total store size of all shards, including shard replicas</p>
<p>These metrics are retrieved directly from Lucene, which Elasticsearch uses internally to power indexing and search. As a result, all document counts include hidden nested documents.
To get an accurate count of Elasticsearch documents, use the cat count or count APIs.</p>
<p>CAT APIs are only intended for human consumption using the command line or Kibana console.
They are not intended for use by applications. For application consumption, use an index endpoint.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-indices.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.indices({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_55"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and aliases used to limit the request.
Supports wildcards (<code class="literal">*</code>). To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">bytes</code> (Optional, Enum("b" | "kb" | "mb" | "gb" | "tb" | "pb"))</strong></span>: The unit used to display byte values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: The type of index that wildcard patterns can match.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">health</code> (Optional, Enum("green" | "yellow" | "red"))</strong></span>: The health status used to limit returned indices. By default, the response includes indices of any health status.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_unloaded_segments</code> (Optional, boolean)</strong></span>: If true, the response includes information from segments that are not loaded into memory.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pri</code> (Optional, boolean)</strong></span>: If true, the response only includes information from primary shards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: The unit used to display time values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_master"></a>master</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get master node information.</p>
<p>Get information about the master node, including the ID, bound IP address, and name.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the nodes info API.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-master.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.master({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_56"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_ml_data_frame_analytics"></a>ml_data_frame_analytics</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get data frame analytics jobs.</p>
<p>Get configuration and usage information about data frame analytics jobs.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>CAT APIs are only intended for human consumption using the Kibana
console or command line. They are not intended for use by applications. For
application consumption, use the get data frame analytics jobs statistics API.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-dfanalytics.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.mlDataFrameAnalytics({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_57"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (Optional, string)</strong></span>: The ID of the data frame analytics to fetch
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_match</code> (Optional, boolean)</strong></span>: Whether to ignore if a wildcard expression matches no configs. (This includes <code class="literal">_all</code> string or when no configs have been specified)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">bytes</code> (Optional, Enum("b" | "kb" | "mb" | "gb" | "tb" | "pb"))</strong></span>: The unit in which to display byte values
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, Enum("assignment_explanation" | "create_time" | "description" | "dest_index" | "failure_reason" | "id" | "model_memory_limit" | "node.address" | "node.ephemeral_id" | "node.id" | "node.name" | "progress" | "source_index" | "state" | "type" | "version") | Enum("assignment_explanation" | "create_time" | "description" | "dest_index" | "failure_reason" | "id" | "model_memory_limit" | "node.address" | "node.ephemeral_id" | "node.id" | "node.name" | "progress" | "source_index" | "state" | "type" | "version")[])</strong></span>: List of column names to display.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, Enum("assignment_explanation" | "create_time" | "description" | "dest_index" | "failure_reason" | "id" | "model_memory_limit" | "node.address" | "node.ephemeral_id" | "node.id" | "node.name" | "progress" | "source_index" | "state" | "type" | "version") | Enum("assignment_explanation" | "create_time" | "description" | "dest_index" | "failure_reason" | "id" | "model_memory_limit" | "node.address" | "node.ephemeral_id" | "node.id" | "node.name" | "progress" | "source_index" | "state" | "type" | "version")[])</strong></span>: List of column names or column aliases used to sort the
response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: Unit used to display time values.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_ml_datafeeds"></a>ml_datafeeds</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get datafeeds.</p>
<p>Get configuration and usage information about datafeeds.
This API returns a maximum of 10,000 datafeeds.
If the Elasticsearch security features are enabled, you must have <code class="literal">monitor_ml</code>, <code class="literal">monitor</code>, <code class="literal">manage_ml</code>, or <code class="literal">manage</code>
cluster privileges to use this API.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>CAT APIs are only intended for human consumption using the Kibana
console or command line. They are not intended for use by applications. For
application consumption, use the get datafeed statistics API.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-datafeeds.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.mlDatafeeds({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_58"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">datafeed_id</code> (Optional, string)</strong></span>: A numerical character string that uniquely identifies the datafeed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_match</code> (Optional, boolean)</strong></span>: Specifies what to do when the request:
</li>
</ul>
</div>
</li>
<li class="listitem">
Contains wildcard expressions and there are no datafeeds that match.
</li>
<li class="listitem">
Contains the <code class="literal">_all</code> string or no identifiers and there are no matches.
</li>
<li class="listitem">
Contains wildcard expressions and there are only partial matches.
</li>
</ul>
</div>
<p>If <code class="literal">true</code>, the API returns an empty datafeeds array when there are no matches and the subset of results when
there are partial matches. If <code class="literal">false</code>, the API returns a 404 status code when there are no matches or only
partial matches.
<span class="strong strong"><strong> <span class="strong strong"><strong><code class="literal">h</code> (Optional, Enum("ae" | "bc" | "id" | "na" | "ne" | "ni" | "nn" | "sba" | "sc" | "seah" | "st" | "s") | Enum("ae" | "bc" | "id" | "na" | "ne" | "ni" | "nn" | "sba" | "sc" | "seah" | "st" | "s")[])</strong></span>: List of column names to display.
</strong></span> <span class="strong strong"><strong><code class="literal">s</code> (Optional, Enum("ae" | "bc" | "id" | "na" | "ne" | "ni" | "nn" | "sba" | "sc" | "seah" | "st" | "s") | Enum("ae" | "bc" | "id" | "na" | "ne" | "ni" | "nn" | "sba" | "sc" | "seah" | "st" | "s")[])</strong></span>: List of column names or column aliases used to sort the response.
<span class="strong strong"><strong>* *<code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: The unit used to display time values.</p>
<div class="position-relative"><h4><a id="_ml_jobs"></a>ml_jobs</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get anomaly detection jobs.</p>
<p>Get configuration and usage information for anomaly detection jobs.
This API returns a maximum of 10,000 jobs.
If the Elasticsearch security features are enabled, you must have <code class="literal">monitor_ml</code>,
<code class="literal">monitor</code>, <code class="literal">manage_ml</code>, or <code class="literal">manage</code> cluster privileges to use this API.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>CAT APIs are only intended for human consumption using the Kibana
console or command line. They are not intended for use by applications. For
application consumption, use the get anomaly detection job statistics API.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-anomaly-detectors.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.mlJobs({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_59"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">job_id</code> (Optional, string)</strong></span>: Identifier for the anomaly detection job.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_match</code> (Optional, boolean)</strong></span>: Specifies what to do when the request:
</li>
</ul>
</div>
</li>
<li class="listitem">
Contains wildcard expressions and there are no jobs that match.
</li>
<li class="listitem">
Contains the <code class="literal">_all</code> string or no identifiers and there are no matches.
</li>
<li class="listitem">
Contains wildcard expressions and there are only partial matches.
</li>
</ul>
</div>
<p>If <code class="literal">true</code>, the API returns an empty jobs array when there are no matches and the subset of results when there
are partial matches. If <code class="literal">false</code>, the API returns a 404 status code when there are no matches or only partial
matches.
<span class="strong strong"><strong> <span class="strong strong"><strong><code class="literal">bytes</code> (Optional, Enum("b" | "kb" | "mb" | "gb" | "tb" | "pb"))</strong></span>: The unit used to display byte values.
</strong></span> <span class="strong strong"><strong><code class="literal">h</code> (Optional, Enum("assignment_explanation" | "buckets.count" | "buckets.time.exp_avg" | "buckets.time.exp_avg_hour" | "buckets.time.max" | "buckets.time.min" | "buckets.time.total" | "data.buckets" | "data.earliest_record" | "data.empty_buckets" | "data.input_bytes" | "data.input_fields" | "data.input_records" | "data.invalid_dates" | "data.last" | "data.last_empty_bucket" | "data.last_sparse_bucket" | "data.latest_record" | "data.missing_fields" | "data.out_of_order_timestamps" | "data.processed_fields" | "data.processed_records" | "data.sparse_buckets" | "forecasts.memory.avg" | "forecasts.memory.max" | "forecasts.memory.min" | "forecasts.memory.total" | "forecasts.records.avg" | "forecasts.records.max" | "forecasts.records.min" | "forecasts.records.total" | "forecasts.time.avg" | "forecasts.time.max" | "forecasts.time.min" | "forecasts.time.total" | "forecasts.total" | "id" | "model.bucket_allocation_failures" | "model.by_fields" | "model.bytes" | "model.bytes_exceeded" | "model.categorization_status" | "model.categorized_doc_count" | "model.dead_category_count" | "model.failed_category_count" | "model.frequent_category_count" | "model.log_time" | "model.memory_limit" | "model.memory_status" | "model.over_fields" | "model.partition_fields" | "model.rare_category_count" | "model.timestamp" | "model.total_category_count" | "node.address" | "node.ephemeral_id" | "node.id" | "node.name" | "opened_time" | "state") | Enum("assignment_explanation" | "buckets.count" | "buckets.time.exp_avg" | "buckets.time.exp_avg_hour" | "buckets.time.max" | "buckets.time.min" | "buckets.time.total" | "data.buckets" | "data.earliest_record" | "data.empty_buckets" | "data.input_bytes" | "data.input_fields" | "data.input_records" | "data.invalid_dates" | "data.last" | "data.last_empty_bucket" | "data.last_sparse_bucket" | "data.latest_record" | "data.missing_fields" | "data.out_of_order_timestamps" | "data.processed_fields" | "data.processed_records" | "data.sparse_buckets" | "forecasts.memory.avg" | "forecasts.memory.max" | "forecasts.memory.min" | "forecasts.memory.total" | "forecasts.records.avg" | "forecasts.records.max" | "forecasts.records.min" | "forecasts.records.total" | "forecasts.time.avg" | "forecasts.time.max" | "forecasts.time.min" | "forecasts.time.total" | "forecasts.total" | "id" | "model.bucket_allocation_failures" | "model.by_fields" | "model.bytes" | "model.bytes_exceeded" | "model.categorization_status" | "model.categorized_doc_count" | "model.dead_category_count" | "model.failed_category_count" | "model.frequent_category_count" | "model.log_time" | "model.memory_limit" | "model.memory_status" | "model.over_fields" | "model.partition_fields" | "model.rare_category_count" | "model.timestamp" | "model.total_category_count" | "node.address" | "node.ephemeral_id" | "node.id" | "node.name" | "opened_time" | "state")[])</strong></span>: List of column names to display.
<span class="strong strong"><strong> <span class="strong strong"><strong><code class="literal">s</code> (Optional, Enum("assignment_explanation" | "buckets.count" | "buckets.time.exp_avg" | "buckets.time.exp_avg_hour" | "buckets.time.max" | "buckets.time.min" | "buckets.time.total" | "data.buckets" | "data.earliest_record" | "data.empty_buckets" | "data.input_bytes" | "data.input_fields" | "data.input_records" | "data.invalid_dates" | "data.last" | "data.last_empty_bucket" | "data.last_sparse_bucket" | "data.latest_record" | "data.missing_fields" | "data.out_of_order_timestamps" | "data.processed_fields" | "data.processed_records" | "data.sparse_buckets" | "forecasts.memory.avg" | "forecasts.memory.max" | "forecasts.memory.min" | "forecasts.memory.total" | "forecasts.records.avg" | "forecasts.records.max" | "forecasts.records.min" | "forecasts.records.total" | "forecasts.time.avg" | "forecasts.time.max" | "forecasts.time.min" | "forecasts.time.total" | "forecasts.total" | "id" | "model.bucket_allocation_failures" | "model.by_fields" | "model.bytes" | "model.bytes_exceeded" | "model.categorization_status" | "model.categorized_doc_count" | "model.dead_category_count" | "model.failed_category_count" | "model.frequent_category_count" | "model.log_time" | "model.memory_limit" | "model.memory_status" | "model.over_fields" | "model.partition_fields" | "model.rare_category_count" | "model.timestamp" | "model.total_category_count" | "node.address" | "node.ephemeral_id" | "node.id" | "node.name" | "opened_time" | "state") | Enum("assignment_explanation" | "buckets.count" | "buckets.time.exp_avg" | "buckets.time.exp_avg_hour" | "buckets.time.max" | "buckets.time.min" | "buckets.time.total" | "data.buckets" | "data.earliest_record" | "data.empty_buckets" | "data.input_bytes" | "data.input_fields" | "data.input_records" | "data.invalid_dates" | "data.last" | "data.last_empty_bucket" | "data.last_sparse_bucket" | "data.latest_record" | "data.missing_fields" | "data.out_of_order_timestamps" | "data.processed_fields" | "data.processed_records" | "data.sparse_buckets" | "forecasts.memory.avg" | "forecasts.memory.max" | "forecasts.memory.min" | "forecasts.memory.total" | "forecasts.records.avg" | "forecasts.records.max" | "forecasts.records.min" | "forecasts.records.total" | "forecasts.time.avg" | "forecasts.time.max" | "forecasts.time.min" | "forecasts.time.total" | "forecasts.total" | "id" | "model.bucket_allocation_failures" | "model.by_fields" | "model.bytes" | "model.bytes_exceeded" | "model.categorization_status" | "model.categorized_doc_count" | "model.dead_category_count" | "model.failed_category_count" | "model.frequent_category_count" | "model.log_time" | "model.memory_limit" | "model.memory_status" | "model.over_fields" | "model.partition_fields" | "model.rare_category_count" | "model.timestamp" | "model.total_category_count" | "node.address" | "node.ephemeral_id" | "node.id" | "node.name" | "opened_time" | "state")[])</strong></span>: List of column names or column aliases used to sort the response.
</strong></span> <span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: The unit used to display time values.</p>
<div class="position-relative"><h4><a id="_ml_trained_models"></a>ml_trained_models</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get trained models.</p>
<p>Get configuration and usage information about inference trained models.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>CAT APIs are only intended for human consumption using the Kibana
console or command line. They are not intended for use by applications. For
application consumption, use the get trained models statistics API.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-trained-model.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.mlTrainedModels({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_60"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">model_id</code> (Optional, string)</strong></span>: A unique identifier for the trained model.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_match</code> (Optional, boolean)</strong></span>: Specifies what to do when the request: contains wildcard expressions and there are no models that match; contains the <code class="literal">_all</code> string or no identifiers and there are no matches; contains wildcard expressions and there are only partial matches.
If <code class="literal">true</code>, the API returns an empty array when there are no matches and the subset of results when there are partial matches.
If <code class="literal">false</code>, the API returns a 404 status code when there are no matches or only partial matches.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">bytes</code> (Optional, Enum("b" | "kb" | "mb" | "gb" | "tb" | "pb"))</strong></span>: The unit used to display byte values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, Enum("create_time" | "created_by" | "data_frame_analytics_id" | "description" | "heap_size" | "id" | "ingest.count" | "ingest.current" | "ingest.failed" | "ingest.pipelines" | "ingest.time" | "license" | "operations" | "version") | Enum("create_time" | "created_by" | "data_frame_analytics_id" | "description" | "heap_size" | "id" | "ingest.count" | "ingest.current" | "ingest.failed" | "ingest.pipelines" | "ingest.time" | "license" | "operations" | "version")[])</strong></span>: A list of column names to display.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, Enum("create_time" | "created_by" | "data_frame_analytics_id" | "description" | "heap_size" | "id" | "ingest.count" | "ingest.current" | "ingest.failed" | "ingest.pipelines" | "ingest.time" | "license" | "operations" | "version") | Enum("create_time" | "created_by" | "data_frame_analytics_id" | "description" | "heap_size" | "id" | "ingest.count" | "ingest.current" | "ingest.failed" | "ingest.pipelines" | "ingest.time" | "license" | "operations" | "version")[])</strong></span>: A list of column names or aliases used to sort the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">from</code> (Optional, number)</strong></span>: Skips the specified number of transforms.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: The maximum number of transforms to display.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: Unit used to display time values.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_nodeattrs"></a>nodeattrs</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get node attribute information.</p>
<p>Get information about custom node attributes.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the nodes info API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-nodeattrs.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.nodeattrs({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_61"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_nodes"></a>nodes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get node information.</p>
<p>Get information about the nodes in a cluster.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the nodes info API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-nodes.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.nodes({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_62"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">bytes</code> (Optional, Enum("b" | "kb" | "mb" | "gb" | "tb" | "pb"))</strong></span>: The unit used to display byte values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">full_id</code> (Optional, boolean | string)</strong></span>: If <code class="literal">true</code>, return the full node ID. If <code class="literal">false</code>, return the shortened node ID.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_unloaded_segments</code> (Optional, boolean)</strong></span>: If true, the response includes information from segments that are not loaded into memory.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: Unit used to display time values.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_pending_tasks"></a>pending_tasks</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get pending task information.</p>
<p>Get information about cluster-level changes that have not yet taken effect.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the pending cluster tasks API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-pending-tasks.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.pendingTasks({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_63"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: Unit used to display time values.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_plugins"></a>plugins</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get plugin information.</p>
<p>Get a list of plugins running on each node of a cluster.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the nodes info API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-plugins.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.plugins({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_64"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_bootstrap</code> (Optional, boolean)</strong></span>: Include bootstrap plugins in the response
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_recovery"></a>recovery</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get shard recovery information.</p>
<p>Get information about ongoing and completed shard recoveries.
Shard recovery is the process of initializing a shard copy, such as restoring a primary shard from a snapshot or syncing a replica shard from a primary shard. When a shard recovery completes, the recovered shard is available for search and indexing.
For data streams, the API returns information about the stream’s backing indices.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the index recovery API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-recovery.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.recovery({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_65"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and aliases used to limit the request.
Supports wildcards (<code class="literal">*</code>). To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">active_only</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response only includes ongoing shard recoveries.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">bytes</code> (Optional, Enum("b" | "kb" | "mb" | "gb" | "tb" | "pb"))</strong></span>: The unit used to display byte values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">detailed</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes detailed information about shard recoveries.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: Unit used to display time values.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_repositories"></a>repositories</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get snapshot repository information.</p>
<p>Get a list of snapshot repositories for a cluster.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the get snapshot repository API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-repositories.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.repositories({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_66"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_segments"></a>segments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get segment information.</p>
<p>Get low-level information about the Lucene segments in index shards.
For data streams, the API returns information about the backing indices.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the index segments API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-segments.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.segments({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_67"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and aliases used to limit the request.
Supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">bytes</code> (Optional, Enum("b" | "kb" | "mb" | "gb" | "tb" | "pb"))</strong></span>: The unit used to display byte values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_shards"></a>shards</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get shard information.</p>
<p>Get information about the shards in a cluster.
For data streams, the API returns information about the backing indices.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-shards.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.shards({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_68"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of data streams, indices, and aliases used to limit the request.
Supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">bytes</code> (Optional, Enum("b" | "kb" | "mb" | "gb" | "tb" | "pb"))</strong></span>: The unit used to display byte values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: Unit used to display time values.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_snapshots"></a>snapshots</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get snapshot information.</p>
<p>Get information about the snapshots stored in one or more repositories.
A snapshot is a backup of an index or running Elasticsearch cluster.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the get snapshot API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-snapshots.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.snapshots({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_69"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">repository</code> (Optional, string | string[])</strong></span>: A list of snapshot repositories used to limit the request.
Accepts wildcard expressions.
<code class="literal">_all</code> returns all repositories.
If any repository fails during the request, Elasticsearch returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response does not include information from unavailable snapshots.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: Unit used to display time values.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_tasks"></a>tasks</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get task information.</p>
<p>Get information about tasks currently running in the cluster.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the task management API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-tasks.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.tasks({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_70"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">actions</code> (Optional, string[])</strong></span>: The task action names, which are used to limit the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">detailed</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes detailed information about shard recoveries.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">nodes</code> (Optional, string[])</strong></span>: Unique node identifiers, which are used to limit the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">parent_task_id</code> (Optional, string)</strong></span>: The parent task identifier, which is used to limit the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: Unit used to display time values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request blocks until the task has completed.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_templates"></a>templates</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get index template information.</p>
<p>Get information about the index templates in a cluster.
You can use index templates to apply index settings and field mappings to new indices at creation.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the get index template API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-templates.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.templates({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_71"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string)</strong></span>: The name of the template to return.
Accepts wildcard expressions. If omitted, all templates are returned.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_thread_pool"></a>thread_pool</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get thread pool statistics.</p>
<p>Get thread pool statistics for each node in a cluster.
Returned information includes all built-in thread pools and custom thread pools.
IMPORTANT: cat APIs are only intended for human consumption using the command line or Kibana console. They are not intended for use by applications. For application consumption, use the nodes info API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-thread-pool.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.threadPool({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_72"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">thread_pool_patterns</code> (Optional, string | string[])</strong></span>: A list of thread pool names used to limit the request.
Accepts wildcard expressions.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, string | string[])</strong></span>: List of columns to appear in the response. Supports simple wildcards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, string | string[])</strong></span>: List of columns that determine how the table should be sorted.
Sorting defaults to ascending and can be changed by setting <code class="literal">:asc</code>
or <code class="literal">:desc</code> as a suffix to the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: The unit used to display time values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request computes the list of selected nodes from the
local cluster state. If <code class="literal">false</code> the list of selected nodes are computed
from the cluster state of the master node. In both cases the coordinating
node will send requests for further information to each selected node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_transforms"></a>transforms</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get transform information.</p>
<p>Get configuration and usage information about transforms.</p>
<p>CAT APIs are only intended for human consumption using the Kibana
console or command line. They are not intended for use by applications. For
application consumption, use the get transform statistics API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cat-transforms.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cat.transforms({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_73"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">transform_id</code> (Optional, string)</strong></span>: A transform identifier or a wildcard expression.
If you do not specify one of these options, the API returns information for all transforms.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_match</code> (Optional, boolean)</strong></span>: Specifies what to do when the request: contains wildcard expressions and there are no transforms that match; contains the <code class="literal">_all</code> string or no identifiers and there are no matches; contains wildcard expressions and there are only partial matches.
If <code class="literal">true</code>, it returns an empty transforms array when there are no matches and the subset of results when there are partial matches.
If <code class="literal">false</code>, the request returns a 404 status code when there are no matches or only partial matches.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">from</code> (Optional, number)</strong></span>: Skips the specified number of transforms.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">h</code> (Optional, Enum("changes_last_detection_time" | "checkpoint" | "checkpoint_duration_time_exp_avg" | "checkpoint_progress" | "create_time" | "delete_time" | "description" | "dest_index" | "documents_deleted" | "documents_indexed" | "docs_per_second" | "documents_processed" | "frequency" | "id" | "index_failure" | "index_time" | "index_total" | "indexed_documents_exp_avg" | "last_search_time" | "max_page_search_size" | "pages_processed" | "pipeline" | "processed_documents_exp_avg" | "processing_time" | "reason" | "search_failure" | "search_time" | "search_total" | "source_index" | "state" | "transform_type" | "trigger_count" | "version") | Enum("changes_last_detection_time" | "checkpoint" | "checkpoint_duration_time_exp_avg" | "checkpoint_progress" | "create_time" | "delete_time" | "description" | "dest_index" | "documents_deleted" | "documents_indexed" | "docs_per_second" | "documents_processed" | "frequency" | "id" | "index_failure" | "index_time" | "index_total" | "indexed_documents_exp_avg" | "last_search_time" | "max_page_search_size" | "pages_processed" | "pipeline" | "processed_documents_exp_avg" | "processing_time" | "reason" | "search_failure" | "search_time" | "search_total" | "source_index" | "state" | "transform_type" | "trigger_count" | "version")[])</strong></span>: List of column names to display.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">s</code> (Optional, Enum("changes_last_detection_time" | "checkpoint" | "checkpoint_duration_time_exp_avg" | "checkpoint_progress" | "create_time" | "delete_time" | "description" | "dest_index" | "documents_deleted" | "documents_indexed" | "docs_per_second" | "documents_processed" | "frequency" | "id" | "index_failure" | "index_time" | "index_total" | "indexed_documents_exp_avg" | "last_search_time" | "max_page_search_size" | "pages_processed" | "pipeline" | "processed_documents_exp_avg" | "processing_time" | "reason" | "search_failure" | "search_time" | "search_total" | "source_index" | "state" | "transform_type" | "trigger_count" | "version") | Enum("changes_last_detection_time" | "checkpoint" | "checkpoint_duration_time_exp_avg" | "checkpoint_progress" | "create_time" | "delete_time" | "description" | "dest_index" | "documents_deleted" | "documents_indexed" | "docs_per_second" | "documents_processed" | "frequency" | "id" | "index_failure" | "index_time" | "index_total" | "indexed_documents_exp_avg" | "last_search_time" | "max_page_search_size" | "pages_processed" | "pipeline" | "processed_documents_exp_avg" | "processing_time" | "reason" | "search_failure" | "search_time" | "search_total" | "source_index" | "state" | "transform_type" | "trigger_count" | "version")[])</strong></span>: List of column names or column aliases used to sort the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">time</code> (Optional, Enum("nanos" | "micros" | "ms" | "s" | "m" | "h" | "d"))</strong></span>: The unit used to display time values.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: The maximum number of transforms to obtain.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_ccr"></a>ccr</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_delete_auto_follow_pattern"></a>delete_auto_follow_pattern</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete auto-follow patterns.</p>
<p>Delete a collection of cross-cluster replication auto-follow patterns.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-delete-auto-follow-pattern.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.deleteAutoFollowPattern({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_74"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: The auto-follow pattern collection to delete.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_follow"></a>follow</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create a follower.
Create a cross-cluster replication follower index that follows a specific leader index.
When the API returns, the follower index exists and cross-cluster replication starts replicating operations from the leader index to the follower index.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-put-follow.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.follow({ index, leader_index, remote_cluster })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_75"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the follower index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">leader_index</code> (string)</strong></span>: The name of the index in the leader cluster to follow.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">remote_cluster</code> (string)</strong></span>: The remote cluster containing the leader index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">data_stream_name</code> (Optional, string)</strong></span>: If the leader index is part of a data stream, the name to which the local data stream for the followed index should be renamed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_outstanding_read_requests</code> (Optional, number)</strong></span>: The maximum number of outstanding reads requests from the remote cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_outstanding_write_requests</code> (Optional, number)</strong></span>: The maximum number of outstanding write requests on the follower.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_read_request_operation_count</code> (Optional, number)</strong></span>: The maximum number of operations to pull per read from the remote cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_read_request_size</code> (Optional, number | string)</strong></span>: The maximum size in bytes of per read of a batch of operations pulled from the remote cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_retry_delay</code> (Optional, string | -1 | 0)</strong></span>: The maximum time to wait before retrying an operation that failed exceptionally. An exponential backoff strategy is employed when
retrying.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_buffer_count</code> (Optional, number)</strong></span>: The maximum number of operations that can be queued for writing. When this limit is reached, reads from the remote cluster will be
deferred until the number of queued operations goes below the limit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_buffer_size</code> (Optional, number | string)</strong></span>: The maximum total bytes of operations that can be queued for writing. When this limit is reached, reads from the remote cluster will
be deferred until the total bytes of queued operations goes below the limit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_request_operation_count</code> (Optional, number)</strong></span>: The maximum number of operations per bulk write request executed on the follower.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_request_size</code> (Optional, number | string)</strong></span>: The maximum total bytes of operations per bulk write request executed on the follower.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">read_poll_timeout</code> (Optional, string | -1 | 0)</strong></span>: The maximum time to wait for new operations on the remote cluster when the follower index is synchronized with the leader index.
When the timeout has elapsed, the poll for operations will return to the follower so that it can update some statistics.
Then the follower will immediately attempt to read from the leader again.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">settings</code> (Optional, { index, mode, routing_path, soft_deletes, sort, number_of_shards, number_of_replicas, number_of_routing_shards, check_on_startup, codec, routing_partition_size, load_fixed_bitset_filters_eagerly, hidden, auto_expand_replicas, merge, search, refresh_interval, max_result_window, max_inner_result_window, max_rescore_window, max_docvalue_fields_search, max_script_fields, max_ngram_diff, max_shingle_diff, blocks, max_refresh_listeners, analyze, highlight, max_terms_count, max_regex_length, routing, gc_deletes, default_pipeline, final_pipeline, lifecycle, provided_name, creation_date, creation_date_string, uuid, version, verified_before_close, format, max_slices_per_scroll, translog, query_string, priority, top_metrics_max_size, analysis, settings, time_series, queries, similarity, mapping, indexing.slowlog, indexing_pressure, store })</strong></span>: Settings to override from the leader index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: Specifies the number of shards to wait on being active before responding. This defaults to waiting on none of the shards to be
active.
A shard must be restored from the leader index before being active. Restoring a follower shard requires transferring all the
remote Lucene segment files to the follower index.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_follow_info"></a>follow_info</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get follower information.</p>
<p>Get information about all cross-cluster replication follower indices.
For example, the results include follower index names, leader index names, replication options, and whether the follower indices are active or paused.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-get-follow-info.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.followInfo({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_76"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: A comma-delimited list of follower index patterns.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_follow_stats"></a>follow_stats</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get follower stats.</p>
<p>Get cross-cluster replication follower stats.
The API returns shard-level stats about the "following tasks" associated with each shard for the specified indices.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-get-follow-stats.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.followStats({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_77"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: A comma-delimited list of index patterns.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_forget_follower"></a>forget_follower</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Forget a follower.
Remove the cross-cluster replication follower retention leases from the leader.</p>
<p>A following index takes out retention leases on its leader index.
These leases are used to increase the likelihood that the shards of the leader index retain the history of operations that the shards of the following index need to run replication.
When a follower index is converted to a regular index by the unfollow API (either by directly calling the API or by index lifecycle management tasks), these leases are removed.
However, removal of the leases can fail, for example when the remote cluster containing the leader index is unavailable.
While the leases will eventually expire on their own, their extended existence can cause the leader index to hold more history than necessary and prevent index lifecycle management from performing some operations on the leader index.
This API exists to enable manually removing the leases when the unfollow API is unable to do so.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This API does not stop replication by a following index. If you use this API with a follower index that is still actively following, the following index will add back retention leases on the leader.
The only purpose of this API is to handle the case of failure to remove the following retention leases after the unfollow API is invoked.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-post-forget-follower.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.forgetFollower({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_78"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: the name of the leader index for which specified follower retention leases should be removed
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">follower_cluster</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">follower_index</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">follower_index_uuid</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">leader_remote_cluster</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_auto_follow_pattern"></a>get_auto_follow_pattern</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get auto-follow patterns.</p>
<p>Get cross-cluster replication auto-follow patterns.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-get-auto-follow-pattern.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.getAutoFollowPattern({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_79"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string)</strong></span>: The auto-follow pattern collection that you want to retrieve.
If you do not specify a name, the API returns information for all collections.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_pause_auto_follow_pattern"></a>pause_auto_follow_pattern</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Pause an auto-follow pattern.</p>
<p>Pause a cross-cluster replication auto-follow pattern.
When the API returns, the auto-follow pattern is inactive.
New indices that are created on the remote cluster and match the auto-follow patterns are ignored.</p>
<p>You can resume auto-following with the resume auto-follow pattern API.
When it resumes, the auto-follow pattern is active again and automatically configures follower indices for newly created indices on the remote cluster that match its patterns.
Remote indices that were created while the pattern was paused will also be followed, unless they have been deleted or closed in the interim.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-pause-auto-follow-pattern.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.pauseAutoFollowPattern({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_80"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: The name of the auto-follow pattern to pause.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_pause_follow"></a>pause_follow</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Pause a follower.</p>
<p>Pause a cross-cluster replication follower index.
The follower index will not fetch any additional operations from the leader index.
You can resume following with the resume follower API.
You can pause and resume a follower index to change the configuration of the following task.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-post-pause-follow.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.pauseFollow({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_81"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the follower index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_auto_follow_pattern"></a>put_auto_follow_pattern</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create or update auto-follow patterns.
Create a collection of cross-cluster replication auto-follow patterns for a remote cluster.
Newly created indices on the remote cluster that match any of the patterns are automatically configured as follower indices.
Indices on the remote cluster that were created before the auto-follow pattern was created will not be auto-followed even if they match the pattern.</p>
<p>This API can also be used to update auto-follow patterns.
NOTE: Follower indices that were configured automatically before updating an auto-follow pattern will remain unchanged even if they do not match against the new patterns.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-put-auto-follow-pattern.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.putAutoFollowPattern({ name, remote_cluster })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_82"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: The name of the collection of auto-follow patterns.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">remote_cluster</code> (string)</strong></span>: The remote cluster containing the leader indices to match against.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">follow_index_pattern</code> (Optional, string)</strong></span>: The name of follower index. The template {{leader_index}} can be used to derive the name of the follower index from the name of the leader index. When following a data stream, use {{leader_index}}; CCR does not support changes to the names of a follower data stream’s backing indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">leader_index_patterns</code> (Optional, string[])</strong></span>: An array of simple index patterns to match against indices in the remote cluster specified by the remote_cluster field.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">leader_index_exclusion_patterns</code> (Optional, string[])</strong></span>: An array of simple index patterns that can be used to exclude indices from being auto-followed. Indices in the remote cluster whose names are matching one or more leader_index_patterns and one or more leader_index_exclusion_patterns won’t be followed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_outstanding_read_requests</code> (Optional, number)</strong></span>: The maximum number of outstanding reads requests from the remote cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">settings</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: Settings to override from the leader index. Note that certain settings can not be overrode (e.g., index.number_of_shards).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_outstanding_write_requests</code> (Optional, number)</strong></span>: The maximum number of outstanding reads requests from the remote cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">read_poll_timeout</code> (Optional, string | -1 | 0)</strong></span>: The maximum time to wait for new operations on the remote cluster when the follower index is synchronized with the leader index. When the timeout has elapsed, the poll for operations will return to the follower so that it can update some statistics. Then the follower will immediately attempt to read from the leader again.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_read_request_operation_count</code> (Optional, number)</strong></span>: The maximum number of operations to pull per read from the remote cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_read_request_size</code> (Optional, number | string)</strong></span>: The maximum size in bytes of per read of a batch of operations pulled from the remote cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_retry_delay</code> (Optional, string | -1 | 0)</strong></span>: The maximum time to wait before retrying an operation that failed exceptionally. An exponential backoff strategy is employed when retrying.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_buffer_count</code> (Optional, number)</strong></span>: The maximum number of operations that can be queued for writing. When this limit is reached, reads from the remote cluster will be deferred until the number of queued operations goes below the limit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_buffer_size</code> (Optional, number | string)</strong></span>: The maximum total bytes of operations that can be queued for writing. When this limit is reached, reads from the remote cluster will be deferred until the total bytes of queued operations goes below the limit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_request_operation_count</code> (Optional, number)</strong></span>: The maximum number of operations per bulk write request executed on the follower.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_request_size</code> (Optional, number | string)</strong></span>: The maximum total bytes of operations per bulk write request executed on the follower.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_resume_auto_follow_pattern"></a>resume_auto_follow_pattern</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Resume an auto-follow pattern.</p>
<p>Resume a cross-cluster replication auto-follow pattern that was paused.
The auto-follow pattern will resume configuring following indices for newly created indices that match its patterns on the remote cluster.
Remote indices created while the pattern was paused will also be followed unless they have been deleted or closed in the interim.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-resume-auto-follow-pattern.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.resumeAutoFollowPattern({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_83"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: The name of the auto-follow pattern to resume.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_resume_follow"></a>resume_follow</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Resume a follower.
Resume a cross-cluster replication follower index that was paused.
The follower index could have been paused with the pause follower API.
Alternatively it could be paused due to replication that cannot be retried due to failures during following tasks.
When this API returns, the follower index will resume fetching operations from the leader index.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-post-resume-follow.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.resumeFollow({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_84"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the follow index to resume following.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_outstanding_read_requests</code> (Optional, number)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_outstanding_write_requests</code> (Optional, number)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_read_request_operation_count</code> (Optional, number)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_read_request_size</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_retry_delay</code> (Optional, string | -1 | 0)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_buffer_count</code> (Optional, number)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_buffer_size</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_request_operation_count</code> (Optional, number)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_write_request_size</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">read_poll_timeout</code> (Optional, string | -1 | 0)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_stats"></a>stats</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get cross-cluster replication stats.</p>
<p>This API returns stats about auto-following and the same shard-level stats as the get follower stats API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-get-stats.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.stats({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_85"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_unfollow"></a>unfollow</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Unfollow an index.</p>
<p>Convert a cross-cluster replication follower index to a regular index.
The API stops the following task associated with a follower index and removes index metadata and settings associated with cross-cluster replication.
The follower index must be paused and closed before you call the unfollow API.</p>
<div class="quoteblock">
<blockquote>
<p>info
Currently cross-cluster replication does not support converting an existing regular index to a follower index. Converting a follower index to a regular index is an irreversible operation.</p>
</blockquote>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/ccr-post-unfollow.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ccr.unfollow({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_86"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the follower index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a connection to the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_cluster"></a>cluster</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_allocation_explain"></a>allocation_explain</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Explain the shard allocations.
Get explanations for shard allocations in the cluster.
For unassigned shards, it provides an explanation for why the shard is unassigned.
For assigned shards, it provides an explanation for why the shard is remaining on its current node and has not moved or rebalanced to another node.
This API can be very useful when attempting to diagnose why a shard is unassigned or why a shard continues to remain on its current node when you might expect otherwise.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster-allocation-explain.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.allocationExplain({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_87"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">current_node</code> (Optional, string)</strong></span>: Specifies the node ID or the name of the node to only explain a shard that is currently located on the specified node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string)</strong></span>: Specifies the name of the index that you would like an explanation for.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">primary</code> (Optional, boolean)</strong></span>: If true, returns explanation for the primary shard for the given shard ID.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">shard</code> (Optional, number)</strong></span>: Specifies the ID of the shard that you would like an explanation for.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_disk_info</code> (Optional, boolean)</strong></span>: If true, returns information about disk usage and shard sizes.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_yes_decisions</code> (Optional, boolean)</strong></span>: If true, returns YES decisions in explanation.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_delete_component_template"></a>delete_component_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete component templates.
Component templates are building blocks for constructing index templates that specify index mappings, settings, and aliases.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-component-template.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.deleteComponentTemplate({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_88"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string | string[])</strong></span>: List or wildcard expression of component template names used to limit the request.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_delete_voting_config_exclusions"></a>delete_voting_config_exclusions</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Clear cluster voting config exclusions.
Remove master-eligible nodes from the voting configuration exclusion list.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/voting-config-exclusions.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.deleteVotingConfigExclusions({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_89"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_removal</code> (Optional, boolean)</strong></span>: Specifies whether to wait for all excluded nodes to be removed from the
cluster before clearing the voting configuration exclusions list.
Defaults to true, meaning that all excluded nodes must be removed from
the cluster before this API takes any action. If set to false then the
voting configuration exclusions list is cleared even if some excluded
nodes are still in the cluster.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_exists_component_template"></a>exists_component_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Check component templates.
Returns information about whether a particular component template exists.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-component-template.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.existsComponentTemplate({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_90"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string | string[])</strong></span>: List of component template names used to limit the request.
Wildcard (*) expressions are supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is
received before the timeout expires, the request fails and returns an
error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If true, the request retrieves information from the local node only.
Defaults to false, which means information is retrieved from the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_component_template"></a>get_component_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get component templates.
Get information about component templates.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-component-template.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.getComponentTemplate({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_91"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string)</strong></span>: List of component template names used to limit the request.
Wildcard (<code class="literal">*</code>) expressions are supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns settings in flat format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_defaults</code> (Optional, boolean)</strong></span>: Return all default configurations for the component template (default: false)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request retrieves information from the local node only.
If <code class="literal">false</code>, information is retrieved from the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_settings"></a>get_settings</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get cluster-wide settings.
By default, it returns only settings that have been explicitly defined.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster-get-settings.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.getSettings({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_92"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns settings in flat format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_defaults</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns default cluster settings from the local node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_health_2"></a>health</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the cluster health status.
You can also use the API to get the health status of only specified data streams and indices.
For data streams, the API retrieves the health status of the stream’s backing indices.</p>
<p>The cluster health status is: green, yellow or red.
On the shard level, a red status indicates that the specific shard is not allocated in the cluster. Yellow means that the primary shard is allocated but replicas are not. Green means that all shards are allocated.
The index level status is controlled by the worst shard status.</p>
<p>One of the main benefits of the API is the ability to wait until the cluster reaches a certain high watermark health level.
The cluster status is controlled by the worst index status.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster-health.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.health({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_93"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and index aliases used to limit the request. Wildcard expressions (<code class="literal">*</code>) are supported. To target all data streams and indices in a cluster, omit this parameter or use _all or <code class="literal">*</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Whether to expand wildcard expression to concrete indices that are open, closed or both.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">level</code> (Optional, Enum("cluster" | "indices" | "shards"))</strong></span>: Can be one of cluster, indices or shards. Controls the details level of the health information returned.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If true, the request retrieves information from the local node only. Defaults to false, which means information is retrieved from the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: A number controlling to how many active shards to wait for, all to wait for all shards in the cluster to be active, or 0 to not wait.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_events</code> (Optional, Enum("immediate" | "urgent" | "high" | "normal" | "low" | "languid"))</strong></span>: Can be one of immediate, urgent, high, normal, low, languid. Wait until all currently queued events with the given priority are processed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_nodes</code> (Optional, string | number)</strong></span>: The request waits until the specified number N of nodes is available. It also accepts &gt;=N, &#8656;N, &gt;N and &lt;N. Alternatively, it is possible to use ge(N), le(N), gt(N) and lt(N) notation.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_no_initializing_shards</code> (Optional, boolean)</strong></span>: A boolean value which controls whether to wait (until the timeout provided) for the cluster to have no shard initializations. Defaults to false, which means it will not wait for initializing shards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_no_relocating_shards</code> (Optional, boolean)</strong></span>: A boolean value which controls whether to wait (until the timeout provided) for the cluster to have no shard relocations. Defaults to false, which means it will not wait for relocating shards.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_status</code> (Optional, Enum("green" | "yellow" | "red"))</strong></span>: One of green, yellow or red. Will wait (until the timeout provided) until the status of the cluster changes to the one provided or better, i.e. green &gt; yellow &gt; red. By default, will not wait for any status.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_info_2"></a>info</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get cluster info.
Returns basic information about the cluster.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster-info.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.info({ target })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_94"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">target</code> (Enum("_all" | "http" | "ingest" | "thread_pool" | "script") | Enum("_all" | "http" | "ingest" | "thread_pool" | "script")[])</strong></span>: Limits the information returned to the specific target. Supports a list, such as http,ingest.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_pending_tasks_2"></a>pending_tasks</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the pending cluster tasks.
Get information about cluster-level changes (such as create index, update mapping, allocate or fail shard) that have not yet taken effect.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This API returns a list of any pending updates to the cluster state.
These are distinct from the tasks reported by the task management API which include periodic tasks and tasks initiated by the user, such as node stats, search queries, or create index requests.
However, if a user-initiated task such as a create index command causes a cluster state update, the activity of this task might be reported by both task api and pending cluster tasks API.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster-pending.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.pendingTasks({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_95"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request retrieves information from the local node only.
If <code class="literal">false</code>, information is retrieved from the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_post_voting_config_exclusions"></a>post_voting_config_exclusions</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update voting configuration exclusions.
Update the cluster voting config exclusions by node IDs or node names.
By default, if there are more than three master-eligible nodes in the cluster and you remove fewer than half of the master-eligible nodes in the cluster at once, the voting configuration automatically shrinks.
If you want to shrink the voting configuration to contain fewer than three nodes or to remove half or more of the master-eligible nodes in the cluster at once, use this API to remove departing nodes from the voting configuration manually.
The API adds an entry for each specified node to the cluster’s voting configuration exclusions list.
It then waits until the cluster has reconfigured its voting configuration to exclude the specified nodes.</p>
<p>Clusters should have no voting configuration exclusions in normal operation.
Once the excluded nodes have stopped, clear the voting configuration exclusions with <code class="literal">DELETE /_cluster/voting_config_exclusions</code>.
This API waits for the nodes to be fully removed from the cluster before it returns.
If your cluster has voting configuration exclusions for nodes that you no longer intend to remove, use <code class="literal">DELETE /_cluster/voting_config_exclusions?wait_for_removal=false</code> to clear the voting configuration exclusions without waiting for the nodes to leave the cluster.</p>
<p>A response to <code class="literal">POST /_cluster/voting_config_exclusions</code> with an HTTP status code of 200 OK guarantees that the node has been removed from the voting configuration and will not be reinstated until the voting configuration exclusions are cleared by calling <code class="literal">DELETE /_cluster/voting_config_exclusions</code>.
If the call to <code class="literal">POST /_cluster/voting_config_exclusions</code> fails or returns a response with an HTTP status code other than 200 OK then the node may not have been removed from the voting configuration.
In that case, you may safely retry the call.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Voting exclusions are required only when you remove at least half of the master-eligible nodes from a cluster in a short time period.
They are not required when removing master-ineligible nodes or when removing fewer than half of the master-eligible nodes.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/voting-config-exclusions.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.postVotingConfigExclusions({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_96"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">node_names</code> (Optional, string | string[])</strong></span>: A list of the names of the nodes to exclude from the
voting configuration. If specified, you may not also specify node_ids.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">node_ids</code> (Optional, string | string[])</strong></span>: A list of the persistent ids of the nodes to exclude
from the voting configuration. If specified, you may not also specify node_names.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: When adding a voting configuration exclusion, the API waits for the
specified nodes to be excluded from the voting configuration before
returning. If the timeout expires before the appropriate condition
is satisfied, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_component_template"></a>put_component_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create or update a component template.
Component templates are building blocks for constructing index templates that specify index mappings, settings, and aliases.</p>
<p>An index template can be composed of multiple component templates.
To use a component template, specify it in an index template’s <code class="literal">composed_of</code> list.
Component templates are only applied to new data streams and indices as part of a matching index template.</p>
<p>Settings and mappings specified directly in the index template or the create index request override any settings or mappings specified in a component template.</p>
<p>Component templates are only used during index creation.
For data streams, this includes data stream creation and the creation of a stream’s backing indices.
Changes to component templates do not affect existing indices, including a stream’s backing indices.</p>
<p>You can use C-style <code class="literal">/* *\/</code> block comments in component templates.
You can include comments anywhere in the request body except before the opening curly bracket.</p>
<p><span class="strong strong"><strong>Applying component templates</strong></span></p>
<p>You cannot directly apply a component template to a data stream or index.
To be applied, a component template must be included in an index template&#8217;s <code class="literal">composed_of</code> list.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-component-template.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.putComponentTemplate({ name, template })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_97"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: Name of the component template to create.
Elasticsearch includes the following built-in component templates: <code class="literal">logs-mappings</code>; <code class="literal">logs-settings</code>; <code class="literal">metrics-mappings</code>; <code class="literal">metrics-settings</code>;<code class="literal">synthetics-mapping</code>; <code class="literal">synthetics-settings</code>.
Elastic Agent uses these templates to configure backing indices for its data streams.
If you use Elastic Agent and want to overwrite one of these templates, set the <code class="literal">version</code> for your replacement template higher than the current version.
If you don’t use Elastic Agent and want to disable all built-in component and index templates, set <code class="literal">stack.templates.enabled</code> to <code class="literal">false</code> using the cluster update settings API.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">template</code> ({ aliases, mappings, settings, defaults, data_stream, lifecycle })</strong></span>: The template to be applied which includes mappings, settings, or aliases configuration.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: Version number used to manage component templates externally.
This number isn&#8217;t automatically generated or incremented by Elasticsearch.
To unset a version, replace the template without specifying a version.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_meta</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: Optional user metadata about the component template.
It may have any contents. This map is not automatically generated by Elasticsearch.
This information is stored in the cluster state, so keeping it short is preferable.
To unset <code class="literal">_meta</code>, replace the template without specifying this information.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">deprecated</code> (Optional, boolean)</strong></span>: Marks this index template as deprecated. When creating or updating a non-deprecated index template
that uses deprecated components, Elasticsearch will emit a deprecation warning.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">create</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, this request cannot replace or update existing component templates.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_settings"></a>put_settings</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the cluster settings.
Configure and update dynamic settings on a running cluster.
You can also configure dynamic settings locally on an unstarted or shut down node in <code class="literal">elasticsearch.yml</code>.</p>
<p>Updates made with this API can be persistent, which apply across cluster restarts, or transient, which reset after a cluster restart.
You can also reset transient or persistent settings by assigning them a null value.</p>
<p>If you configure the same setting using multiple methods, Elasticsearch applies the settings in following order of precedence: 1) Transient setting; 2) Persistent setting; 3) <code class="literal">elasticsearch.yml</code> setting; 4) Default setting value.
For example, you can apply a transient setting to override a persistent setting or <code class="literal">elasticsearch.yml</code> setting.
However, a change to an <code class="literal">elasticsearch.yml</code> setting will not override a defined transient or persistent setting.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>In Elastic Cloud, use the user settings feature to configure all cluster settings. This method automatically rejects unsafe settings that could break your cluster.
If you run Elasticsearch on your own hardware, use this API to configure dynamic cluster settings.
Only use <code class="literal">elasticsearch.yml</code> for static cluster settings and node settings.
The API doesn’t require a restart and ensures a setting’s value is the same on all nodes.</p>
</div>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Transient cluster settings are no longer recommended. Use persistent cluster settings instead.
If a cluster becomes unstable, transient settings can clear unexpectedly, resulting in a potentially undesired cluster configuration.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster-update-settings.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.putSettings({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_98"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">persistent</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">transient</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: Return settings in flat format (default: false)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Explicit operation timeout for connection to master node
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Explicit operation timeout
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_remote_info"></a>remote_info</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get remote cluster information.</p>
<p>Get information about configured remote clusters.
The API returns connection and endpoint information keyed by the configured remote cluster alias.</p>
<div class="quoteblock">
<blockquote>
<p>info
This API returns information that reflects current state on the local cluster.
The <code class="literal">connected</code> field does not necessarily reflect whether a remote cluster is down or unavailable, only whether there is currently an open connection to it.
Elasticsearch does not spontaneously try to reconnect to a disconnected remote cluster.
To trigger a reconnection, attempt a cross-cluster search, ES|QL cross-cluster search, or try the [resolve cluster endpoint](<a href="/docs/api/doc/elasticsearch/operation/operation-indices-resolve-cluster" class="ulink" target="_top">https://www.elastic.co/docs/api/doc/elasticsearch/operation/operation-indices-resolve-cluster</a>).</p>
</blockquote>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster-remote-info.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.remoteInfo()</pre>
</div>
<div class="position-relative"><h4><a id="_reroute"></a>reroute</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Reroute the cluster.
Manually change the allocation of individual shards in the cluster.
For example, a shard can be moved from one node to another explicitly, an allocation can be canceled, and an unassigned shard can be explicitly allocated to a specific node.</p>
<p>It is important to note that after processing any reroute commands Elasticsearch will perform rebalancing as normal (respecting the values of settings such as <code class="literal">cluster.routing.rebalance.enable</code>) in order to remain in a balanced state.
For example, if the requested allocation includes moving a shard from node1 to node2 then this may cause a shard to be moved from node2 back to node1 to even things out.</p>
<p>The cluster can be set to disable allocations using the <code class="literal">cluster.routing.allocation.enable</code> setting.
If allocations are disabled then the only allocations that will be performed are explicit ones given using the reroute command, and consequent allocations due to rebalancing.</p>
<p>The cluster will attempt to allocate a shard a maximum of <code class="literal">index.allocation.max_retries</code> times in a row (defaults to <code class="literal">5</code>), before giving up and leaving the shard unallocated.
This scenario can be caused by structural problems such as having an analyzer which refers to a stopwords file which doesn’t exist on all nodes.</p>
<p>Once the problem has been corrected, allocation can be manually retried by calling the reroute API with the <code class="literal">?retry_failed</code> URI query parameter, which will attempt a single retry round for these shards.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster-reroute.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.reroute({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_99"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">commands</code> (Optional, { cancel, move, allocate_replica, allocate_stale_primary, allocate_empty_primary }[])</strong></span>: Defines the commands to perform.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">dry_run</code> (Optional, boolean)</strong></span>: If true, then the request simulates the operation.
It will calculate the result of applying the commands to the current cluster state and return the resulting cluster state after the commands (and rebalancing) have been applied; it will not actually perform the requested changes.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">explain</code> (Optional, boolean)</strong></span>: If true, then the response contains an explanation of why the commands can or cannot run.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">metric</code> (Optional, string | string[])</strong></span>: Limits the information returned to the specified metrics.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">retry_failed</code> (Optional, boolean)</strong></span>: If true, then retries allocation of shards that are blocked due to too many subsequent allocation failures.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_state"></a>state</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the cluster state.
Get comprehensive information about the state of the cluster.</p>
<p>The cluster state is an internal data structure which keeps track of a variety of information needed by every node, including the identity and attributes of the other nodes in the cluster; cluster-wide settings; index metadata, including the mapping and settings for each index; the location and status of every shard copy in the cluster.</p>
<p>The elected master node ensures that every node in the cluster has a copy of the same cluster state.
This API lets you retrieve a representation of this internal state for debugging or diagnostic purposes.
You may need to consult the Elasticsearch source code to determine the precise meaning of the response.</p>
<p>By default the API will route requests to the elected master node since this node is the authoritative source of cluster states.
You can also retrieve the cluster state held on the node handling the API request by adding the <code class="literal">?local=true</code> query parameter.</p>
<p>Elasticsearch may need to expend significant effort to compute a response to this API in larger clusters, and the response may comprise a very large quantity of data.
If you use this API repeatedly, your cluster may become unstable.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>The response is a representation of an internal data structure.
Its format is not subject to the same compatibility guarantees as other more stable APIs and may change from version to version.
Do not query this API using external monitoring tools.
Instead, obtain the information you require using other more stable cluster APIs.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster-state.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.state({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_100"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">metric</code> (Optional, string | string[])</strong></span>: Limit the information returned to the specified metrics
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of index names; use <code class="literal">_all</code> or empty string to perform the operation on all indices
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: Whether to ignore if a wildcard indices expression resolves into no concrete indices. (This includes <code class="literal">_all</code> string or when no indices have been specified)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Whether to expand wildcard expression to concrete indices that are open, closed or both.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: Return settings in flat format (default: false)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: Whether specified concrete indices should be ignored when unavailable (missing or closed)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: Return local information, do not retrieve the state from master node (default: false)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Specify timeout for connection to master
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_metadata_version</code> (Optional, number)</strong></span>: Wait for the metadata version to be equal or greater than the specified metadata version
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_timeout</code> (Optional, string | -1 | 0)</strong></span>: The maximum time to wait for wait_for_metadata_version before timing out
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_stats_2"></a>stats</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get cluster statistics.
Get basic index metrics (shard numbers, store size, memory usage) and information about the current nodes that form the cluster (number, roles, os, jvm versions, memory usage, cpu and installed plugins).</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cluster-stats.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.cluster.stats({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_101"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">node_id</code> (Optional, string | string[])</strong></span>: List of node filters used to limit returned information. Defaults to all nodes in the cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_remotes</code> (Optional, boolean)</strong></span>: Include remote cluster data into the response
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for each node to respond.
If a node does not respond before its timeout expires, the response does not include its stats.
However, timed out nodes are included in the response’s <code class="literal">_nodes.failed</code> property. Defaults to no timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_connector"></a>connector</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_check_in"></a>check_in</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Check in a connector.</p>
<p>Update the <code class="literal">last_seen</code> field in the connector and set it to the current timestamp.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/check-in-connector-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.checkIn({ connector_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_102"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be checked in
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_delete_3"></a>delete</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete a connector.</p>
<p>Removes a connector and associated sync jobs.
This is a destructive action that is not recoverable.
NOTE: This action doesn’t delete any API keys, ingest pipelines, or data indices associated with the connector.
These need to be removed manually.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/delete-connector-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.delete({ connector_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_103"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be deleted
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">delete_sync_jobs</code> (Optional, boolean)</strong></span>: A flag indicating if associated sync jobs should be also removed. Defaults to false.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_3"></a>get</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get a connector.</p>
<p>Get the details about a connector.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/get-connector-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.get({ connector_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_104"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_list"></a>list</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get all connectors.</p>
<p>Get information about all connectors.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/list-connector-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.list({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_105"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">from</code> (Optional, number)</strong></span>: Starting offset (default: 0)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: Specifies a max number of results to get
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_name</code> (Optional, string | string[])</strong></span>: A list of connector index names to fetch connector documents for
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_name</code> (Optional, string | string[])</strong></span>: A list of connector names to fetch connector documents for
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">service_type</code> (Optional, string | string[])</strong></span>: A list of connector service types to fetch connector documents for
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, string)</strong></span>: A wildcard query string that filters connectors with matching name, description or index name
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_post"></a>post</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create a connector.</p>
<p>Connectors are Elasticsearch integrations that bring content from third-party data sources, which can be deployed on Elastic Cloud or hosted on your own infrastructure.
Elastic managed connectors (Native connectors) are a managed service on Elastic Cloud.
Self-managed connectors (Connector clients) are self-managed on your infrastructure.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/create-connector-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.post({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_106"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">description</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_name</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">is_native</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">language</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">service_type</code> (Optional, string)</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put"></a>put</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create or update a connector.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/create-connector-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.put({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_107"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (Optional, string)</strong></span>: The unique identifier of the connector to be created or updated. ID is auto-generated if not provided.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">description</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_name</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">is_native</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">language</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">service_type</code> (Optional, string)</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_sync_job_cancel"></a>sync_job_cancel</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Cancel a connector sync job.</p>
<p>Cancel a connector sync job, which sets the status to cancelling and updates <code class="literal">cancellation_requested_at</code> to the current time.
The connector service is then responsible for setting the status of connector sync jobs to cancelled.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/cancel-connector-sync-job-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.syncJobCancel({ connector_sync_job_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_108"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_sync_job_id</code> (string)</strong></span>: The unique identifier of the connector sync job
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_sync_job_check_in"></a>sync_job_check_in</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Check in a connector sync job.
Check in a connector sync job and set the <code class="literal">last_seen</code> field to the current time before updating it in the internal index.</p>
<p>To sync data using self-managed connectors, you need to deploy the Elastic connector service on your own infrastructure.
This service runs automatically on Elastic Cloud for Elastic managed connectors.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/check-in-connector-sync-job-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.syncJobCheckIn({ connector_sync_job_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_109"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_sync_job_id</code> (string)</strong></span>: The unique identifier of the connector sync job to be checked in.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_sync_job_claim"></a>sync_job_claim</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Claim a connector sync job.
This action updates the job status to <code class="literal">in_progress</code> and sets the <code class="literal">last_seen</code> and <code class="literal">started_at</code> timestamps to the current time.
Additionally, it can set the <code class="literal">sync_cursor</code> property for the sync job.</p>
<p>This API is not intended for direct connector management by users.
It supports the implementation of services that utilize the connector protocol to communicate with Elasticsearch.</p>
<p>To sync data using self-managed connectors, you need to deploy the Elastic connector service on your own infrastructure.
This service runs automatically on Elastic Cloud for Elastic managed connectors.</p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.syncJobClaim({ connector_sync_job_id, worker_hostname })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_110"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_sync_job_id</code> (string)</strong></span>: The unique identifier of the connector sync job.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">worker_hostname</code> (string)</strong></span>: The host name of the current system that will run the job.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">sync_cursor</code> (Optional, User-defined value)</strong></span>: The cursor object from the last incremental sync job.
This should reference the <code class="literal">sync_cursor</code> field in the connector state for which the job runs.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_sync_job_delete"></a>sync_job_delete</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete a connector sync job.</p>
<p>Remove a connector sync job and its associated data.
This is a destructive action that is not recoverable.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/delete-connector-sync-job-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.syncJobDelete({ connector_sync_job_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_111"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_sync_job_id</code> (string)</strong></span>: The unique identifier of the connector sync job to be deleted
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_sync_job_error"></a>sync_job_error</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Set a connector sync job error.
Set the <code class="literal">error</code> field for a connector sync job and set its <code class="literal">status</code> to <code class="literal">error</code>.</p>
<p>To sync data using self-managed connectors, you need to deploy the Elastic connector service on your own infrastructure.
This service runs automatically on Elastic Cloud for Elastic managed connectors.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/set-connector-sync-job-error-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.syncJobError({ connector_sync_job_id, error })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_112"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_sync_job_id</code> (string)</strong></span>: The unique identifier for the connector sync job.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">error</code> (string)</strong></span>: The error for the connector sync job error field.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_sync_job_get"></a>sync_job_get</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get a connector sync job.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/get-connector-sync-job-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.syncJobGet({ connector_sync_job_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_113"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_sync_job_id</code> (string)</strong></span>: The unique identifier of the connector sync job
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_sync_job_list"></a>sync_job_list</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get all connector sync jobs.</p>
<p>Get information about all stored connector sync jobs listed by their creation date in ascending order.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/list-connector-sync-jobs-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.syncJobList({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_114"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">from</code> (Optional, number)</strong></span>: Starting offset (default: 0)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: Specifies a max number of results to get
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">status</code> (Optional, Enum("canceling" | "canceled" | "completed" | "error" | "in_progress" | "pending" | "suspended"))</strong></span>: A sync job status to fetch connector sync jobs for
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (Optional, string)</strong></span>: A connector id to fetch connector sync jobs for
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">job_type</code> (Optional, Enum("full" | "incremental" | "access_control") | Enum("full" | "incremental" | "access_control")[])</strong></span>: A list of job types to fetch the sync jobs for
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_sync_job_post"></a>sync_job_post</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create a connector sync job.</p>
<p>Create a connector sync job document in the internal index and initialize its counters and timestamps with default values.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/create-connector-sync-job-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.syncJobPost({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_115"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: The id of the associated connector
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">job_type</code> (Optional, Enum("full" | "incremental" | "access_control"))</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">trigger_method</code> (Optional, Enum("on_demand" | "scheduled"))</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_sync_job_update_stats"></a>sync_job_update_stats</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Set the connector sync job stats.
Stats include: <code class="literal">deleted_document_count</code>, <code class="literal">indexed_document_count</code>, <code class="literal">indexed_document_volume</code>, and <code class="literal">total_document_count</code>.
You can also update <code class="literal">last_seen</code>.
This API is mainly used by the connector service for updating sync job information.</p>
<p>To sync data using self-managed connectors, you need to deploy the Elastic connector service on your own infrastructure.
This service runs automatically on Elastic Cloud for Elastic managed connectors.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/set-connector-sync-job-stats-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.syncJobUpdateStats({ connector_sync_job_id, deleted_document_count, indexed_document_count, indexed_document_volume })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_116"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_sync_job_id</code> (string)</strong></span>: The unique identifier of the connector sync job.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">deleted_document_count</code> (number)</strong></span>: The number of documents the sync job deleted.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">indexed_document_count</code> (number)</strong></span>: The number of documents the sync job indexed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">indexed_document_volume</code> (number)</strong></span>: The total size of the data (in MiB) the sync job indexed.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">last_seen</code> (Optional, string | -1 | 0)</strong></span>: The timestamp to use in the <code class="literal">last_seen</code> property for the connector sync job.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">metadata</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: The connector-specific metadata.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">total_document_count</code> (Optional, number)</strong></span>: The total number of documents in the target index after the sync job finished.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_active_filtering"></a>update_active_filtering</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Activate the connector draft filter.</p>
<p>Activates the valid draft filtering for a connector.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-filtering-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateActiveFiltering({ connector_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_117"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_api_key_id"></a>update_api_key_id</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector API key ID.</p>
<p>Update the <code class="literal">api_key_id</code> and <code class="literal">api_key_secret_id</code> fields of a connector.
You can specify the ID of the API key used for authorization and the ID of the connector secret where the API key is stored.
The connector secret ID is required only for Elastic managed (native) connectors.
Self-managed connectors (connector clients) do not use this field.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-api-key-id-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateApiKeyId({ connector_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_118"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">api_key_id</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">api_key_secret_id</code> (Optional, string)</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_configuration"></a>update_configuration</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector configuration.</p>
<p>Update the configuration field in the connector document.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-configuration-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateConfiguration({ connector_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_119"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">configuration</code> (Optional, Record&lt;string, { category, default_value, depends_on, display, label, options, order, placeholder, required, sensitive, tooltip, type, ui_restrictions, validations, value }&gt;)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">values</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_error"></a>update_error</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector error field.</p>
<p>Set the error field for the connector.
If the error provided in the request body is non-null, the connector’s status is updated to error.
Otherwise, if the error is reset to null, the connector status is updated to connected.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-error-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateError({ connector_id, error })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_120"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">error</code> (T | null)</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_features"></a>update_features</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector features.
Update the connector features in the connector document.
This API can be used to control the following aspects of a connector:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
document-level security
</li>
<li class="listitem">
incremental syncs
</li>
<li class="listitem">
advanced sync rules
</li>
<li class="listitem">
basic sync rules
</li>
</ul>
</div>
<p>Normally, the running connector service automatically manages these features.
However, you can use this API to override the default behavior.</p>
<p>To sync data using self-managed connectors, you need to deploy the Elastic connector service on your own infrastructure.
This service runs automatically on Elastic Cloud for Elastic managed connectors.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-features-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateFeatures({ connector_id, features })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_121"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">features</code> ({ document_level_security, incremental_sync, native_connector_api_keys, sync_rules })</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_filtering"></a>update_filtering</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector filtering.</p>
<p>Update the draft filtering configuration of a connector and marks the draft validation state as edited.
The filtering draft is activated once validated by the running Elastic connector service.
The filtering property is used to configure sync rules (both basic and advanced) for a connector.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-filtering-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateFiltering({ connector_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_122"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">filtering</code> (Optional, { active, domain, draft }[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rules</code> (Optional, { created_at, field, id, order, policy, rule, updated_at, value }[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">advanced_snippet</code> (Optional, { created_at, updated_at, value })</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_filtering_validation"></a>update_filtering_validation</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector draft filtering validation.</p>
<p>Update the draft filtering validation info for a connector.</p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateFilteringValidation({ connector_id, validation })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_123"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">validation</code> ({ errors, state })</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_index_name"></a>update_index_name</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector index name.</p>
<p>Update the <code class="literal">index_name</code> field of a connector, specifying the index where the data ingested by the connector is stored.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-index-name-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateIndexName({ connector_id, index_name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_124"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_name</code> (T | null)</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_name"></a>update_name</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector name and description.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-name-description-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateName({ connector_id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_125"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">description</code> (Optional, string)</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_native"></a>update_native</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector is_native flag.</p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateNative({ connector_id, is_native })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_126"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">is_native</code> (boolean)</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_pipeline"></a>update_pipeline</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector pipeline.</p>
<p>When you create a new connector, the configuration of an ingest pipeline is populated with default settings.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-pipeline-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updatePipeline({ connector_id, pipeline })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_127"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pipeline</code> ({ extract_binary_content, name, reduce_whitespace, run_ml_inference })</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_scheduling"></a>update_scheduling</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector scheduling.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-scheduling-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateScheduling({ connector_id, scheduling })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_128"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scheduling</code> ({ access_control, full, incremental })</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_service_type"></a>update_service_type</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector service type.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-service-type-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateServiceType({ connector_id, service_type })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_129"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">service_type</code> (string)</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_update_status"></a>update_status</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update the connector status.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/update-connector-status-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.connector.updateStatus({ connector_id, status })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_130"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connector_id</code> (string)</strong></span>: The unique identifier of the connector to be updated
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">status</code> (Enum("created" | "needs_configuration" | "configured" | "connected" | "error"))</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_dangling_indices"></a>dangling_indices</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_delete_dangling_index"></a>delete_dangling_index</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete a dangling index.
If Elasticsearch encounters index data that is absent from the current cluster state, those indices are considered to be dangling.
For example, this can happen if you delete more than <code class="literal">cluster.indices.tombstones.size</code> indices while an Elasticsearch node is offline.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/dangling-index-delete.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.danglingIndices.deleteDanglingIndex({ index_uuid, accept_data_loss })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_131"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_uuid</code> (string)</strong></span>: The UUID of the index to delete. Use the get dangling indices API to find the UUID.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">accept_data_loss</code> (boolean)</strong></span>: This parameter must be set to true to acknowledge that it will no longer be possible to recove data from the dangling index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Specify timeout for connection to master
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Explicit operation timeout
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_import_dangling_index"></a>import_dangling_index</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Import a dangling index.</p>
<p>If Elasticsearch encounters index data that is absent from the current cluster state, those indices are considered to be dangling.
For example, this can happen if you delete more than <code class="literal">cluster.indices.tombstones.size</code> indices while an Elasticsearch node is offline.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/dangling-index-import.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.danglingIndices.importDanglingIndex({ index_uuid, accept_data_loss })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_132"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_uuid</code> (string)</strong></span>: The UUID of the index to import. Use the get dangling indices API to locate the UUID.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">accept_data_loss</code> (boolean)</strong></span>: This parameter must be set to true to import a dangling index.
Because Elasticsearch cannot know where the dangling index data came from or determine which shard copies are fresh and which are stale, it cannot guarantee that the imported data represents the latest state of the index when it was last in the cluster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Specify timeout for connection to master
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Explicit operation timeout
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_list_dangling_indices"></a>list_dangling_indices</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the dangling indices.</p>
<p>If Elasticsearch encounters index data that is absent from the current cluster state, those indices are considered to be dangling.
For example, this can happen if you delete more than <code class="literal">cluster.indices.tombstones.size</code> indices while an Elasticsearch node is offline.</p>
<p>Use this API to list dangling indices, which you can then import or delete.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/dangling-indices-list.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.danglingIndices.listDanglingIndices()</pre>
</div>
<div class="position-relative"><h3><a id="_enrich"></a>enrich</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_delete_policy"></a>delete_policy</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete an enrich policy.
Deletes an existing enrich policy and its enrich index.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/delete-enrich-policy-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.enrich.deletePolicy({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_133"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: Enrich policy to delete.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_execute_policy"></a>execute_policy</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run an enrich policy.
Create the enrich index for an existing enrich policy.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/execute-enrich-policy-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.enrich.executePolicy({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_134"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: Enrich policy to execute.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request blocks other enrich policy execution requests until complete.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_policy"></a>get_policy</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get an enrich policy.
Returns information about an enrich policy.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/get-enrich-policy-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.enrich.getPolicy({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_135"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string | string[])</strong></span>: List of enrich policy names used to limit the request.
To return information for all enrich policies, omit this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_policy"></a>put_policy</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create an enrich policy.
Creates an enrich policy.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/put-enrich-policy-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.enrich.putPolicy({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_136"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: Name of the enrich policy to create or update.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">geo_match</code> (Optional, { enrich_fields, indices, match_field, query, name, elasticsearch_version })</strong></span>: Matches enrich data to incoming documents based on a <code class="literal">geo_shape</code> query.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">match</code> (Optional, { enrich_fields, indices, match_field, query, name, elasticsearch_version })</strong></span>: Matches enrich data to incoming documents based on a <code class="literal">term</code> query.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">range</code> (Optional, { enrich_fields, indices, match_field, query, name, elasticsearch_version })</strong></span>: Matches a number, date, or IP address in incoming documents to a range in the enrich index based on a <code class="literal">term</code> query.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_stats_3"></a>stats</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get enrich stats.
Returns enrich coordinator statistics and information about enrich policies that are currently executing.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/enrich-stats-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.enrich.stats({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_137"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_eql"></a>eql</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_delete_4"></a>delete</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete an async EQL search.
Delete an async EQL search or a stored synchronous EQL search.
The API also deletes results for the search.</p>
<p><a href="/docs/api/doc/elasticsearch/v8/operation/operation-eql-delete" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.eql.delete({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_138"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: Identifier for the search to delete.
A search ID is provided in the EQL search API&#8217;s response for an async search.
A search ID is also provided if the request’s <code class="literal">keep_on_completion</code> parameter is <code class="literal">true</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_4"></a>get</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get async EQL search results.
Get the current status and available results for an async EQL search or a stored synchronous EQL search.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/get-async-eql-search-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.eql.get({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_139"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: Identifier for the search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_alive</code> (Optional, string | -1 | 0)</strong></span>: Period for which the search and its results are stored on the cluster.
Defaults to the keep_alive value set by the search’s EQL search API request.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion_timeout</code> (Optional, string | -1 | 0)</strong></span>: Timeout duration to wait for the request to finish.
Defaults to no timeout, meaning the request waits for complete search results.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_status"></a>get_status</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the async EQL status.
Get the current status for an async EQL search or a stored synchronous EQL search without returning results.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/get-async-eql-status-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.eql.getStatus({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_140"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: Identifier for the search.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_search_2"></a>search</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get EQL search results.
Returns search results for an Event Query Language (EQL) query.
EQL assumes each document in a data stream or index corresponds to an event.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/eql-search-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.eql.search({ index, query })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_141"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: The name of the index to scope the operation
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (string)</strong></span>: EQL query you wish to run.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">case_sensitive</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">event_category_field</code> (Optional, string)</strong></span>: Field containing the event classification, such as process, file, or network.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">tiebreaker_field</code> (Optional, string)</strong></span>: Field used to sort hits with the same timestamp in ascending order
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timestamp_field</code> (Optional, string)</strong></span>: Field containing event timestamp. Default "@timestamp"
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fetch_size</code> (Optional, number)</strong></span>: Maximum number of events to search at a time for sequence queries.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type } | { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type }[])</strong></span>: Query, written in Query DSL, used to filter the events on which the EQL query runs.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_alive</code> (Optional, string | -1 | 0)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_on_completion</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion_timeout</code> (Optional, string | -1 | 0)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_partial_search_results</code> (Optional, boolean)</strong></span>: Allow query execution also in case of shard failures.
If true, the query will keep running and will return results based on the available shards.
For sequences, the behavior can be further refined using allow_partial_sequence_results
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_partial_sequence_results</code> (Optional, boolean)</strong></span>: This flag applies only to sequences and has effect only if allow_partial_search_results=true.
If true, the sequence query will return results based on the available shards, ignoring the others.
If false, the sequence query will return successfully, but will always have empty results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: For basic queries, the maximum number of matching events to return. Defaults to 10
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, { field, format, include_unmapped } | { field, format, include_unmapped }[])</strong></span>: Array of wildcard (*) patterns. The response returns values for field names matching these patterns in the fields property of each hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">result_position</code> (Optional, Enum("tail" | "head"))</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">runtime_mappings</code> (Optional, Record&lt;string, { fields, fetch_fields, format, input_field, target_field, target_index, script, type }&gt;)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_samples_per_key</code> (Optional, number)</strong></span>: By default, the response of a sample query contains up to <code class="literal">10</code> samples, with one sample per unique set of join keys. Use the <code class="literal">size</code>
parameter to get a smaller or larger set of samples. To retrieve more than one sample per set of join keys, use the
<code class="literal">max_samples_per_key</code> parameter. Pipes are not supported for sample queries.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If true, missing or closed indices are not included in the response.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_esql"></a>esql</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_async_query"></a>async_query</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run an async ES|QL query.
Asynchronously run an ES|QL (Elasticsearch query language) query, monitor its progress, and retrieve results when they become available.</p>
<p>The API accepts the same parameters and request body as the synchronous query API, along with additional async related properties.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/esql-async-query-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.esql.asyncQuery({ query })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_142"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (string)</strong></span>: The ES|QL query API accepts an ES|QL query string in the query parameter, runs it, and returns the results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">columnar</code> (Optional, boolean)</strong></span>: By default, ES|QL returns results as rows. For example, FROM returns each individual document as one row. For the JSON, YAML, CBOR and smile formats, ES|QL can return the results in a columnar fashion where one row represents all the values of a certain column in the results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Specify a Query DSL query in the filter parameter to filter the set of documents that an ES|QL query runs on.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">locale</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">params</code> (Optional, number | number | string | boolean | null | User-defined value[])</strong></span>: To avoid any attempts of hacking or code injection, extract the values in a separate list of parameters. Use question mark placeholders (?) in the query string for each of the parameters.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">profile</code> (Optional, boolean)</strong></span>: If provided and <code class="literal">true</code> the response will include an extra <code class="literal">profile</code> object
with information on how the query was executed. This information is for human debugging
and its format can change at any time but it can give some insight into the performance
of each part of the query.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">tables</code> (Optional, Record&lt;string, Record&lt;string, { integer, keyword, long, double }&gt;&gt;)</strong></span>: Tables to use with the LOOKUP operation. The top level key is the table
name and the next level key is the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_ccs_metadata</code> (Optional, boolean)</strong></span>: When set to <code class="literal">true</code> and performing a cross-cluster query, the response will include an extra <code class="literal">_clusters</code>
object with information about the clusters that participated in the search along with info such as shards
count.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for the request to finish.
By default, the request waits for 1 second for the query results.
If the query completes during this period, results are returned
Otherwise, a query ID is returned that can later be used to retrieve the results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">delimiter</code> (Optional, string)</strong></span>: The character to use between values within a CSV row.
It is valid only for the CSV format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">drop_null_columns</code> (Optional, boolean)</strong></span>: Indicates whether columns that are entirely <code class="literal">null</code> will be removed from the <code class="literal">columns</code> and <code class="literal">values</code> portion of the results.
If <code class="literal">true</code>, the response will include an extra section under the name <code class="literal">all_columns</code> which has the name of all the columns.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">format</code> (Optional, Enum("csv" | "json" | "tsv" | "txt" | "yaml" | "cbor" | "smile" | "arrow"))</strong></span>: A short version of the Accept header, for example <code class="literal">json</code> or <code class="literal">yaml</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_alive</code> (Optional, string | -1 | 0)</strong></span>: The period for which the query and its results are stored in the cluster.
The default period is five days.
When this period expires, the query and its results are deleted, even if the query is still ongoing.
If the <code class="literal">keep_on_completion</code> parameter is false, Elasticsearch only stores async queries that do not complete within the period set by the <code class="literal">wait_for_completion_timeout</code> parameter, regardless of this value.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_on_completion</code> (Optional, boolean)</strong></span>: Indicates whether the query and its results are stored in the cluster.
If false, the query and its results are stored in the cluster only if the request does not complete during the period set by the <code class="literal">wait_for_completion_timeout</code> parameter.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_async_query_delete"></a>async_query_delete</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete an async ES|QL query.
If the query is still running, it is cancelled.
Otherwise, the stored results are deleted.</p>
<p>If the Elasticsearch security features are enabled, only the following users can use this API to delete a query:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The authenticated user that submitted the original query request
</li>
<li class="listitem">
Users with the <code class="literal">cancel_task</code> cluster privilege
</li>
</ul>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/esql-async-query-delete-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.esql.asyncQueryDelete({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_143"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: The unique identifier of the query.
A query ID is provided in the ES|QL async query API response for a query that does not complete in the designated time.
A query ID is also provided when the request was submitted with the <code class="literal">keep_on_completion</code> parameter set to <code class="literal">true</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_async_query_get"></a>async_query_get</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get async ES|QL query results.
Get the current status and available results or stored results for an ES|QL asynchronous query.
If the Elasticsearch security features are enabled, only the user who first submitted the ES|QL query can retrieve the results using this API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/esql-async-query-get-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.esql.asyncQueryGet({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_144"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: The unique identifier of the query.
A query ID is provided in the ES|QL async query API response for a query that does not complete in the designated time.
A query ID is also provided when the request was submitted with the <code class="literal">keep_on_completion</code> parameter set to <code class="literal">true</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">drop_null_columns</code> (Optional, boolean)</strong></span>: Indicates whether columns that are entirely <code class="literal">null</code> will be removed from the <code class="literal">columns</code> and <code class="literal">values</code> portion of the results.
If <code class="literal">true</code>, the response will include an extra section under the name <code class="literal">all_columns</code> which has the name of all the columns.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">keep_alive</code> (Optional, string | -1 | 0)</strong></span>: The period for which the query and its results are stored in the cluster.
When this period expires, the query and its results are deleted, even if the query is still ongoing.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for the request to finish.
By default, the request waits for complete query results.
If the request completes during the period specified in this parameter, complete query results are returned.
Otherwise, the response returns an <code class="literal">is_running</code> value of <code class="literal">true</code> and no results.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_async_query_stop"></a>async_query_stop</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Stop async ES|QL query.</p>
<p>This API interrupts the query execution and returns the results so far.
If the Elasticsearch security features are enabled, only the user who first submitted the ES|QL query can stop it.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/esql-async-query-stop-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.esql.asyncQueryStop({ id })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_145"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">id</code> (string)</strong></span>: The unique identifier of the query.
A query ID is provided in the ES|QL async query API response for a query that does not complete in the designated time.
A query ID is also provided when the request was submitted with the <code class="literal">keep_on_completion</code> parameter set to <code class="literal">true</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">drop_null_columns</code> (Optional, boolean)</strong></span>: Indicates whether columns that are entirely <code class="literal">null</code> will be removed from the <code class="literal">columns</code> and <code class="literal">values</code> portion of the results.
If <code class="literal">true</code>, the response will include an extra section under the name <code class="literal">all_columns</code> which has the name of all the columns.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_query"></a>query</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Run an ES|QL query.
Get search results for an ES|QL (Elasticsearch query language) query.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/esql-rest.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.esql.query({ query })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_146"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (string)</strong></span>: The ES|QL query API accepts an ES|QL query string in the query parameter, runs it, and returns the results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">columnar</code> (Optional, boolean)</strong></span>: By default, ES|QL returns results as rows. For example, FROM returns each individual document as one row. For the JSON, YAML, CBOR and smile formats, ES|QL can return the results in a columnar fashion where one row represents all the values of a certain column in the results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Specify a Query DSL query in the filter parameter to filter the set of documents that an ES|QL query runs on.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">locale</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">params</code> (Optional, number | number | string | boolean | null | User-defined value[])</strong></span>: To avoid any attempts of hacking or code injection, extract the values in a separate list of parameters. Use question mark placeholders (?) in the query string for each of the parameters.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">profile</code> (Optional, boolean)</strong></span>: If provided and <code class="literal">true</code> the response will include an extra <code class="literal">profile</code> object
with information on how the query was executed. This information is for human debugging
and its format can change at any time but it can give some insight into the performance
of each part of the query.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">tables</code> (Optional, Record&lt;string, Record&lt;string, { integer, keyword, long, double }&gt;&gt;)</strong></span>: Tables to use with the LOOKUP operation. The top level key is the table
name and the next level key is the column name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_ccs_metadata</code> (Optional, boolean)</strong></span>: When set to <code class="literal">true</code> and performing a cross-cluster query, the response will include an extra <code class="literal">_clusters</code>
object with information about the clusters that participated in the search along with info such as shards
count.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">format</code> (Optional, Enum("csv" | "json" | "tsv" | "txt" | "yaml" | "cbor" | "smile" | "arrow"))</strong></span>: A short version of the Accept header, e.g. json, yaml.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">delimiter</code> (Optional, string)</strong></span>: The character to use between values within a CSV row. Only valid for the CSV format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">drop_null_columns</code> (Optional, boolean)</strong></span>: Should columns that are entirely <code class="literal">null</code> be removed from the <code class="literal">columns</code> and <code class="literal">values</code> portion of the results?
Defaults to <code class="literal">false</code>. If <code class="literal">true</code> then the response will include an extra section under the name <code class="literal">all_columns</code> which has the name of all columns.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_features_17"></a>features</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_get_features"></a>get_features</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the features.
Get a list of features that can be included in snapshots using the <code class="literal">feature_states</code> field when creating a snapshot.
You can use this API to determine which feature states to include when taking a snapshot.
By default, all feature states are included in a snapshot if that snapshot includes the global state, or none if it does not.</p>
<p>A feature state includes one or more system indices necessary for a given feature to function.
In order to ensure data integrity, all system indices that comprise a feature state are snapshotted and restored together.</p>
<p>The features listed by this API are a combination of built-in features and features defined by plugins.
In order for a feature state to be listed in this API and recognized as a valid feature state by the create snapshot API, the plugin that defines that feature must be installed on the master node.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/get-features-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.features.getFeatures({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_147"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_reset_features"></a>reset_features</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Reset the features.
Clear all of the state information stored in system indices by Elasticsearch features, including the security and machine learning indices.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Intended for development and testing use only. Do not reset features on a production cluster.</p>
</div>
</div>
<p>Return a cluster to the same state as a new installation by resetting the feature state for all Elasticsearch features.
This deletes all state information stored in system indices.</p>
<p>The response code is HTTP 200 if the state is successfully reset for all features.
It is HTTP 500 if the reset operation failed for any feature.</p>
<p>Note that select features might provide a way to reset particular system indices.
Using this API resets all features, both those that are built-in and implemented as plugins.</p>
<p>To list the features that will be affected, use the get features API.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The features installed on the node you submit this request to are the features that will be reset. Run on the master node if you have any doubts about which plugins are installed on individual nodes.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/reset-features-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.features.resetFeatures({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_148"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_fleet"></a>fleet</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_global_checkpoints"></a>global_checkpoints</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get global checkpoints.</p>
<p>Get the current global checkpoints for an index.
This API is designed for internal use by the Fleet server project.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/get-global-checkpoints.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.fleet.globalCheckpoints({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_149"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string)</strong></span>: A single index or index alias that resolves to a single index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_advance</code> (Optional, boolean)</strong></span>: A boolean value which controls whether to wait (until the timeout) for the global checkpoints
to advance past the provided <code class="literal">checkpoints</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_index</code> (Optional, boolean)</strong></span>: A boolean value which controls whether to wait (until the timeout) for the target index to exist
and all primary shards be active. Can only be true when <code class="literal">wait_for_advance</code> is true.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">checkpoints</code> (Optional, number[])</strong></span>: A comma separated list of previous global checkpoints. When used in combination with <code class="literal">wait_for_advance</code>,
the API will only return once the global checkpoints advances past the checkpoints. Providing an empty list
will cause Elasticsearch to immediately return the current global checkpoints.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a global checkpoints to advance past <code class="literal">checkpoints</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_msearch_2"></a>msearch</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Executes several [fleet searches](<a href="/guide/en/elasticsearch/reference/current/fleet-search.html" class="ulink" target="_top">https://www.elastic.co/guide/en/elasticsearch/reference/current/fleet-search.html</a>) with a single API request.
The API follows the same structure as the [multi search](<a href="/guide/en/elasticsearch/reference/current/search-multi-search.html" class="ulink" target="_top">https://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi-search.html</a>) API. However, similar to the fleet search API, it
supports the wait_for_checkpoints parameter.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/fleet-multi-search.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.fleet.msearch({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_150"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string)</strong></span>: A single target to search. If the target is an index alias, it must resolve to a single index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">searches</code> (Optional, { allow_no_indices, expand_wildcards, ignore_unavailable, index, preference, request_cache, routing, search_type, ccs_minimize_roundtrips, allow_partial_search_results, ignore_throttled } | { aggregations, collapse, query, explain, ext, stored_fields, docvalue_fields, knn, from, highlight, indices_boost, min_score, post_filter, profile, rescore, script_fields, search_after, size, sort, _source, fields, terminate_after, stats, timeout, track_scores, track_total_hits, version, runtime_mappings, seq_no_primary_term, pit, suggest }[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If false, the request returns an error if any wildcard expression, index alias, or _all value targets only missing or closed indices. This behavior applies even if the request targets other open indices. For example, a request targeting foo*,bar* returns an error if an index starts with foo but no index starts with bar.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ccs_minimize_roundtrips</code> (Optional, boolean)</strong></span>: If true, network roundtrips between the coordinating node and remote clusters are minimized for cross-cluster search requests.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard expressions can match. If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_throttled</code> (Optional, boolean)</strong></span>: If true, concrete, expanded or aliased indices are ignored when frozen.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If true, missing or closed indices are not included in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_concurrent_searches</code> (Optional, number)</strong></span>: Maximum number of concurrent searches the multi search API can execute.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_concurrent_shard_requests</code> (Optional, number)</strong></span>: Maximum number of concurrent shard requests that each sub-search request executes per node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pre_filter_shard_size</code> (Optional, number)</strong></span>: Defines a threshold that enforces a pre-filter roundtrip to prefilter search shards based on query rewriting if the number of shards the search request expands to exceeds the threshold. This filter roundtrip can limit the number of shards significantly if for instance a shard can not match any documents based on its rewrite method i.e., if date filters are mandatory to match but the shard bounds and the query are disjoint.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_type</code> (Optional, Enum("query_then_fetch" | "dfs_query_then_fetch"))</strong></span>: Indicates whether global term and document frequencies should be used when scoring returned documents.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rest_total_hits_as_int</code> (Optional, boolean)</strong></span>: If true, hits.total are returned as an integer in the response. Defaults to false, which returns an object.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">typed_keys</code> (Optional, boolean)</strong></span>: Specifies whether aggregation and suggester names should be prefixed by their respective types in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_checkpoints</code> (Optional, number[])</strong></span>: A comma separated list of checkpoints. When configured, the search API will only be executed on a shard
after the relevant checkpoint has become visible for search. Defaults to an empty list which will cause
Elasticsearch to immediately execute the search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_partial_search_results</code> (Optional, boolean)</strong></span>: If true, returns partial results if there are shard request timeouts or [shard failures](<a href="/guide/en/elasticsearch/reference/current/docs-replication.html#shard-failures" class="ulink" target="_top">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-replication.html#shard-failures</a>). If false, returns
an error with no partial results. Defaults to the configured cluster setting <code class="literal">search.default_allow_partial_results</code>
which is true by default.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_search_3"></a>search</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>The purpose of the fleet search api is to provide a search api where the search will only be executed
after provided checkpoint has been processed and is visible for searches inside of Elasticsearch.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/fleet-search.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.fleet.search({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_151"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string)</strong></span>: A single target to search. If the target is an index alias, it must resolve to a single index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">aggregations</code> (Optional, Record&lt;string, { aggregations, meta, adjacency_matrix, auto_date_histogram, avg, avg_bucket, boxplot, bucket_script, bucket_selector, bucket_sort, bucket_count_ks_test, bucket_correlation, cardinality, categorize_text, children, composite, cumulative_cardinality, cumulative_sum, date_histogram, date_range, derivative, diversified_sampler, extended_stats, extended_stats_bucket, frequent_item_sets, filter, filters, geo_bounds, geo_centroid, geo_distance, geohash_grid, geo_line, geotile_grid, geohex_grid, global, histogram, ip_range, ip_prefix, inference, line, matrix_stats, max, max_bucket, median_absolute_deviation, min, min_bucket, missing, moving_avg, moving_percentiles, moving_fn, multi_terms, nested, normalize, parent, percentile_ranks, percentiles, percentiles_bucket, range, rare_terms, rate, reverse_nested, random_sampler, sampler, scripted_metric, serial_diff, significant_terms, significant_text, stats, stats_bucket, string_stats, sum, sum_bucket, terms, time_series, top_hits, t_test, top_metrics, value_count, weighted_avg, variable_width_histogram }&gt;)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">collapse</code> (Optional, { field, inner_hits, max_concurrent_group_searches, collapse })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">explain</code> (Optional, boolean)</strong></span>: If true, returns detailed information about score computation as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ext</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: Configuration of search extensions defined by Elasticsearch plugins.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">from</code> (Optional, number)</strong></span>: Starting document offset. By default, you cannot page through more than 10,000
hits using the from and size parameters. To page through more hits, use the
search_after parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">highlight</code> (Optional, { encoder, fields })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">track_total_hits</code> (Optional, boolean | number)</strong></span>: Number of hits matching the query to count accurately. If true, the exact
number of hits is returned at the cost of some performance. If false, the
response does not include the total number of hits matching the query.
Defaults to 10,000 hits.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">indices_boost</code> (Optional, Record&lt;string, number&gt;[])</strong></span>: Boosts the _score of documents from specified indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">docvalue_fields</code> (Optional, { field, format, include_unmapped }[])</strong></span>: Array of wildcard (*) patterns. The request returns doc values for field
names matching these patterns in the hits.fields property of the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">min_score</code> (Optional, number)</strong></span>: Minimum _score for matching documents. Documents with a lower _score are
not included in the search results.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">post_filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">profile</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Defines the search definition using the Query DSL.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rescore</code> (Optional, { window_size, query, learning_to_rank } | { window_size, query, learning_to_rank }[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">script_fields</code> (Optional, Record&lt;string, { script, ignore_failure }&gt;)</strong></span>: Retrieve a script evaluation (based on different fields) for each hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_after</code> (Optional, number | number | string | boolean | null | User-defined value[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">size</code> (Optional, number)</strong></span>: The number of hits to return. By default, you cannot page through more
than 10,000 hits using the from and size parameters. To page through more
hits, use the search_after parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">slice</code> (Optional, { field, id, max })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">sort</code> (Optional, string | { _score, _doc, _geo_distance, _script } | string | { _score, _doc, _geo_distance, _script }[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, boolean | { excludes, includes })</strong></span>: Indicates which source fields are returned for matching documents. These
fields are returned in the hits._source property of the search response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, { field, format, include_unmapped }[])</strong></span>: Array of wildcard (*) patterns. The request returns values for field names
matching these patterns in the hits.fields property of the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest</code> (Optional, { text })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">terminate_after</code> (Optional, number)</strong></span>: Maximum number of documents to collect for each shard. If a query reaches this
limit, Elasticsearch terminates the query early. Elasticsearch collects documents
before sorting. Defaults to 0, which does not terminate query execution early.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string)</strong></span>: Specifies the period of time to wait for a response from each shard. If no response
is received before the timeout expires, the request fails and returns an error.
Defaults to no timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">track_scores</code> (Optional, boolean)</strong></span>: If true, calculate and return document scores, even if the scores are not used for sorting.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, boolean)</strong></span>: If true, returns document version as part of a hit.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">seq_no_primary_term</code> (Optional, boolean)</strong></span>: If true, returns sequence number and primary term of the last modification
of each hit. See Optimistic concurrency control.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stored_fields</code> (Optional, string | string[])</strong></span>: List of stored fields to return as part of a hit. If no fields are specified,
no stored fields are included in the response. If this field is specified, the _source
parameter defaults to false. You can pass _source: true to return both source fields
and stored fields in the search response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pit</code> (Optional, { id, keep_alive })</strong></span>: Limits the search to a point in time (PIT). If you provide a PIT, you
cannot specify an &lt;index&gt; in the request path.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">runtime_mappings</code> (Optional, Record&lt;string, { fields, fetch_fields, format, input_field, target_field, target_index, script, type }&gt;)</strong></span>: Defines one or more runtime fields in the search request. These fields take
precedence over mapped fields with the same name.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">stats</code> (Optional, string[])</strong></span>: Stats groups to associate with the search. Each group maintains a statistics
aggregation for its associated searches. You can retrieve these stats using
the indices stats API.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyzer</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyze_wildcard</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">batched_reduce_size</code> (Optional, number)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ccs_minimize_roundtrips</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">default_operator</code> (Optional, Enum("and" | "or"))</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">df</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_throttled</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">lenient</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_concurrent_shard_requests</code> (Optional, number)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">min_compatible_shard_node</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preference</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">pre_filter_shard_size</code> (Optional, number)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">request_cache</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">scroll</code> (Optional, string | -1 | 0)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_type</code> (Optional, Enum("query_then_fetch" | "dfs_query_then_fetch"))</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_field</code> (Optional, string)</strong></span>: Specifies which field to use for suggestions.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_mode</code> (Optional, Enum("missing" | "popular" | "always"))</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_size</code> (Optional, number)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">suggest_text</code> (Optional, string)</strong></span>: The source text for which the suggestions should be returned.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">typed_keys</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">rest_total_hits_as_int</code> (Optional, boolean)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_excludes</code> (Optional, string | string[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source_includes</code> (Optional, string | string[])</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">q</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_checkpoints</code> (Optional, number[])</strong></span>: A comma separated list of checkpoints. When configured, the search API will only be executed on a shard
after the relevant checkpoint has become visible for search. Defaults to an empty list which will cause
Elasticsearch to immediately execute the search.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_partial_search_results</code> (Optional, boolean)</strong></span>: If true, returns partial results if there are shard request timeouts or [shard failures](<a href="/guide/en/elasticsearch/reference/current/docs-replication.html#shard-failures" class="ulink" target="_top">https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-replication.html#shard-failures</a>). If false, returns
an error with no partial results. Defaults to the configured cluster setting <code class="literal">search.default_allow_partial_results</code>
which is true by default.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_graph"></a>graph</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_explore"></a>explore</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Explore graph analytics.
Extract and summarize information about the documents and terms in an Elasticsearch data stream or index.
The easiest way to understand the behavior of this API is to use the Graph UI to explore connections.
An initial request to the <code class="literal">_explore</code> API contains a seed query that identifies the documents of interest and specifies the fields that define the vertices and connections you want to include in the graph.
Subsequent requests enable you to spider out from one more vertices of interest.
You can exclude vertices that have already been returned.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/graph-explore-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.graph.explore({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_152"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: Name of the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">connections</code> (Optional, { connections, query, vertices })</strong></span>: Specifies or more fields from which you want to extract terms that are associated with the specified vertices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">controls</code> (Optional, { sample_diversity, sample_size, timeout, use_significance })</strong></span>: Direct the Graph API how to build the graph.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: A seed query that identifies the documents of interest. Can be any valid Elasticsearch query.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">vertices</code> (Optional, { exclude, field, include, min_doc_count, shard_min_doc_count, size }[])</strong></span>: Specifies one or more fields that contain the terms you want to include in the graph as vertices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: Custom value used to route operations to a specific shard.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Specifies the period of time to wait for a response from each shard.
If no response is received before the timeout expires, the request fails and returns an error.
Defaults to no timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_ilm"></a>ilm</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_delete_lifecycle"></a>delete_lifecycle</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete a lifecycle policy.
You cannot delete policies that are currently in use. If the policy is being used to manage any indices, the request fails and returns an error.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-delete-lifecycle.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.deleteLifecycle({ policy })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_153"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">policy</code> (string)</strong></span>: Identifier for the policy.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_explain_lifecycle"></a>explain_lifecycle</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Explain the lifecycle state.
Get the current lifecycle status for one or more indices.
For data streams, the API retrieves the current lifecycle status for the stream&#8217;s backing indices.</p>
<p>The response indicates when the index entered each lifecycle state, provides the definition of the running phase, and information about any failures.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-explain-lifecycle.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.explainLifecycle({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_154"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: List of data streams, indices, and aliases to target. Supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">only_errors</code> (Optional, boolean)</strong></span>: Filters the returned indices to only indices that are managed by ILM and are in an error state, either due to an encountering an error while executing the policy, or attempting to use a policy that does not exist.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">only_managed</code> (Optional, boolean)</strong></span>: Filters the returned indices to only indices that are managed by ILM.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_lifecycle"></a>get_lifecycle</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get lifecycle policies.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-get-lifecycle.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.getLifecycle({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_155"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">policy</code> (Optional, string)</strong></span>: Identifier for the policy.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_status_2"></a>get_status</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the ILM status.</p>
<p>Get the current index lifecycle management status.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-get-status.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.getStatus()</pre>
</div>
<div class="position-relative"><h4><a id="_migrate_to_data_tiers"></a>migrate_to_data_tiers</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Migrate to data tiers routing.
Switch the indices, ILM policies, and legacy, composable, and component templates from using custom node attributes and attribute-based allocation filters to using data tiers.
Optionally, delete one legacy index template.
Using node roles enables ILM to automatically move the indices between data tiers.</p>
<p>Migrating away from custom node attributes routing can be manually performed.
This API provides an automated way of performing three out of the four manual steps listed in the migration guide:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Stop setting the custom hot attribute on new indices.
</li>
<li class="listitem">
Remove custom allocation settings from existing ILM policies.
</li>
<li class="listitem">
Replace custom allocation settings from existing indices with the corresponding tier preference.
</li>
</ol>
</div>
<p>ILM must be stopped before performing the migration.
Use the stop ILM and get ILM status APIs to wait until the reported operation mode is <code class="literal">STOPPED</code>.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-migrate-to-data-tiers.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.migrateToDataTiers({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_156"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">legacy_template_to_delete</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">node_attribute</code> (Optional, string)</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">dry_run</code> (Optional, boolean)</strong></span>: If true, simulates the migration from node attributes based allocation filters to data tiers, but does not perform the migration.
This provides a way to retrieve the indices and ILM policies that need to be migrated.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_move_to_step"></a>move_to_step</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Move to a lifecycle step.
Manually move an index into a specific step in the lifecycle policy and run that step.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This operation can result in the loss of data. Manually moving an index into a specific step runs that step even if it has already been performed. This is a potentially destructive action and this should be considered an expert level API.</p>
</div>
</div>
<p>You must specify both the current step and the step to be executed in the body of the request.
The request will fail if the current step does not match the step currently running for the index
This is to prevent the index from being moved from an unexpected step into the next step.</p>
<p>When specifying the target (<code class="literal">next_step</code>) to which the index will be moved, either the name or both the action and name fields are optional.
If only the phase is specified, the index will move to the first step of the first action in the target phase.
If the phase and action are specified, the index will move to the first step of the specified action in the specified phase.
Only actions specified in the ILM policy are considered valid.
An index cannot move to a step that is not part of its policy.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-move-to-step.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.moveToStep({ index, current_step, next_step })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_157"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the index whose lifecycle step is to change
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">current_step</code> ({ action, name, phase })</strong></span>: The step that the index is expected to be in.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">next_step</code> ({ action, name, phase })</strong></span>: The step that you want to run.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_lifecycle"></a>put_lifecycle</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create or update a lifecycle policy.
If the specified policy exists, it is replaced and the policy version is incremented.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only the latest version of the policy is stored, you cannot revert to previous versions.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-put-lifecycle.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.putLifecycle({ policy })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_158"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">policy</code> (string)</strong></span>: Identifier for the policy.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_remove_policy"></a>remove_policy</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Remove policies from an index.
Remove the assigned lifecycle policies from an index or a data stream&#8217;s backing indices.
It also stops managing the indices.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-remove-policy.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.removePolicy({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_159"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the index to remove policy on
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_retry"></a>retry</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Retry a policy.
Retry running the lifecycle policy for an index that is in the ERROR step.
The API sets the policy back to the step where the error occurred and runs the step.
Use the explain lifecycle state API to determine whether an index is in the ERROR step.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-retry-policy.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.retry({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_160"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: The name of the indices (comma-separated) whose failed lifecycle step is to be retry
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_start"></a>start</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Start the ILM plugin.
Start the index lifecycle management plugin if it is currently stopped.
ILM is started automatically when the cluster is formed.
Restarting ILM is necessary only when it has been stopped using the stop ILM API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-start.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.start({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_161"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_stop"></a>stop</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Stop the ILM plugin.
Halt all lifecycle management operations and stop the index lifecycle management plugin.
This is useful when you are performing maintenance on the cluster and need to prevent ILM from performing any actions on your indices.</p>
<p>The API returns as soon as the stop request has been acknowledged, but the plugin might continue to run until in-progress operations complete and the plugin can be safely stopped.
Use the get ILM status API to check whether ILM is running.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/ilm-stop.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.ilm.stop({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_162"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_indices_2"></a>indices</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_add_block"></a>add_block</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Add an index block.</p>
<p>Add an index block to an index.
Index blocks limit the operations allowed on an index by blocking specific operation types.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/index-modules-blocks.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.addBlock({ index, block })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_163"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: A list or wildcard expression of index names used to limit the request.
By default, you must explicitly name the indices you are adding blocks to.
To allow the adding of blocks to indices with <code class="literal">_all</code>, <code class="literal">*</code>, or other wildcard expressions, change the <code class="literal">action.destructive_requires_name</code> setting to <code class="literal">false</code>.
You can update this setting in the <code class="literal">elasticsearch.yml</code> file or by using the cluster update settings API.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">block</code> (Enum("metadata" | "read" | "read_only" | "write"))</strong></span>: The block type to add to the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: The type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
It supports a list of values, such as <code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for a response from all relevant nodes in the cluster after updating the cluster metadata.
If no response is received before the timeout expires, the cluster metadata update still applies but the response will indicate that it was not completely acknowledged.
It can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_analyze"></a>analyze</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get tokens from text analysis.
The analyze API performs analysis on a text string and returns the resulting tokens.</p>
<p>Generating excessive amount of tokens may cause a node to run out of memory.
The <code class="literal">index.analyze.max_token_count</code> setting enables you to limit the number of tokens that can be produced.
If more than this limit of tokens gets generated, an error occurs.
The <code class="literal">_analyze</code> endpoint without a specified index will always use <code class="literal">10000</code> as its limit.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-analyze.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.analyze({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_164"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string)</strong></span>: Index used to derive the analyzer.
If specified, the <code class="literal">analyzer</code> or field parameter overrides this value.
If no index is specified or the index does not have a default analyzer, the analyze API uses the standard analyzer.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">analyzer</code> (Optional, string)</strong></span>: The name of the analyzer that should be applied to the provided <code class="literal">text</code>.
This could be a built-in analyzer, or an analyzer that’s been configured in the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">attributes</code> (Optional, string[])</strong></span>: Array of token attributes used to filter the output of the <code class="literal">explain</code> parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">char_filter</code> (Optional, string | { type, escaped_tags } | { type, mappings, mappings_path } | { type, flags, pattern, replacement } | { type, mode, name } | { type, normalize_kana, normalize_kanji }[])</strong></span>: Array of character filters used to preprocess characters before the tokenizer.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">explain</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes token attributes and additional details.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">field</code> (Optional, string)</strong></span>: Field used to derive the analyzer.
To use this parameter, you must specify an index.
If specified, the <code class="literal">analyzer</code> parameter overrides this value.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">filter</code> (Optional, string | { type, preserve_original } | { type, common_words, common_words_path, ignore_case, query_mode } | { type, filter, script } | { type, delimiter, encoding } | { type, max_gram, min_gram, side, preserve_original } | { type, articles, articles_path, articles_case } | { type, max_output_size, separator } | { type, dedup, dictionary, locale, longest_only } | { type } | { type, mode, types } | { type, keep_words, keep_words_case, keep_words_path } | { type, ignore_case, keywords, keywords_path, keywords_pattern } | { type } | { type, max, min } | { type, consume_all_tokens, max_token_count } | { type, language } | { type, filters, preserve_original } | { type, max_gram, min_gram, preserve_original } | { type, stoptags } | { type, patterns, preserve_original } | { type, all, flags, pattern, replacement } | { type } | { type, script } | { type } | { type } | { type, filler_token, max_shingle_size, min_shingle_size, output_unigrams, output_unigrams_if_no_shingles, token_separator } | { type, language } | { type, rules, rules_path } | { type, language } | { type, ignore_case, remove_trailing, stopwords, stopwords_path } | { type, expand, format, lenient, synonyms, synonyms_path, synonyms_set, tokenizer, updateable } | { type, expand, format, lenient, synonyms, synonyms_path, synonyms_set, tokenizer, updateable } | { type } | { type, length } | { type, only_on_same_position } | { type } | { type, adjust_offsets, catenate_all, catenate_numbers, catenate_words, generate_number_parts, generate_word_parts, ignore_keywords, preserve_original, protected_words, protected_words_path, split_on_case_change, split_on_numerics, stem_english_possessive, type_table, type_table_path } | { type, catenate_all, catenate_numbers, catenate_words, generate_number_parts, generate_word_parts, preserve_original, protected_words, protected_words_path, split_on_case_change, split_on_numerics, stem_english_possessive, type_table, type_table_path } | { type, minimum_length } | { type, use_romaji } | { type, stoptags } | { type, alternate, case_first, case_level, country, decomposition, hiragana_quaternary_mode, language, numeric, rules, strength, variable_top, variant } | { type, unicode_set_filter } | { type, name } | { type, dir, id } | { type, encoder, languageset, max_code_len, name_type, replace, rule_type } | { type }[])</strong></span>: Array of token filters used to apply after the tokenizer.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">normalizer</code> (Optional, string)</strong></span>: Normalizer to use to convert text into a single token.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">text</code> (Optional, string | string[])</strong></span>: Text to analyze.
If an array of strings is provided, it is analyzed as a multi-value field.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">tokenizer</code> (Optional, string | { type, tokenize_on_chars, max_token_length } | { type, max_token_length } | { type, custom_token_chars, max_gram, min_gram, token_chars } | { type, buffer_size } | { type } | { type } | { type, custom_token_chars, max_gram, min_gram, token_chars } | { type, buffer_size, delimiter, replacement, reverse, skip } | { type, flags, group, pattern } | { type, pattern } | { type, pattern } | { type, max_token_length } | { type } | { type, max_token_length } | { type, max_token_length } | { type, rule_files } | { type, discard_punctuation, mode, nbest_cost, nbest_examples, user_dictionary, user_dictionary_rules, discard_compound_token } | { type, decompound_mode, discard_punctuation, user_dictionary, user_dictionary_rules })</strong></span>: Tokenizer to use to convert text into tokens.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_cancel_migrate_reindex"></a>cancel_migrate_reindex</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Cancel a migration reindex operation.</p>
<p>Cancel a migration reindex attempt for a data stream or index.</p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.cancelMigrateReindex({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_165"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: The index or data stream name
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_clear_cache"></a>clear_cache</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Clear the cache.
Clear the cache of one or more indices.
For data streams, the API clears the caches of the stream&#8217;s backing indices.</p>
<p>By default, the clear cache API clears all caches.
To clear only specific caches, use the <code class="literal">fielddata</code>, <code class="literal">query</code>, or <code class="literal">request</code> parameters.
To clear the cache only of specific fields, use the <code class="literal">fields</code> parameter.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-clearcache.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.clearCache({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_166"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and aliases used to limit the request.
Supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fielddata</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, clears the fields cache.
Use the <code class="literal">fields</code> parameter to clear the cache of specific fields only.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, string | string[])</strong></span>: List of field names used to limit the <code class="literal">fielddata</code> parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">query</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, clears the query cache.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">request</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, clears the request cache.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_clone"></a>clone</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Clone an index.
Clone an existing index into a new index.
Each original primary shard is cloned into a new primary shard in the new index.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch does not apply index templates to the resulting index.
The API also does not copy index metadata from the original index.
Index metadata includes aliases, index lifecycle management phase definitions, and cross-cluster replication (CCR) follower information.
For example, if you clone a CCR follower index, the resulting clone will not be a follower index.</p>
</div>
</div>
<p>The clone API copies most index settings from the source index to the resulting index, with the exception of <code class="literal">index.number_of_replicas</code> and <code class="literal">index.auto_expand_replicas</code>.
To set the number of replicas in the resulting index, configure these settings in the clone request.</p>
<p>Cloning works as follows:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
First, it creates a new target index with the same definition as the source index.
</li>
<li class="listitem">
Then it hard-links segments from the source index into the target index. If the file system does not support hard-linking, all segments are copied into the new index, which is a much more time consuming process.
</li>
<li class="listitem">
Finally, it recovers the target index as though it were a closed index which had just been re-opened.
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Indices can only be cloned if they meet the following requirements:</p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The index must be marked as read-only and have a cluster health status of green.
</li>
<li class="listitem">
The target index must not exist.
</li>
<li class="listitem">
The source index must have the same number of primary shards as the target index.
</li>
<li class="listitem">
The node handling the clone process must have sufficient free disk space to accommodate a second copy of the existing index.
</li>
</ul>
</div>
<p>The current write index on a data stream cannot be cloned.
In order to clone the current write index, the data stream must first be rolled over so that a new write index is created and then the previous write index can be cloned.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Mappings cannot be specified in the <code class="literal">_clone</code> request. The mappings of the source index will be used for the target index.</p>
</div>
</div>
<p><span class="strong strong"><strong>Monitor the cloning process</strong></span></p>
<p>The cloning process can be monitored with the cat recovery API or the cluster health API can be used to wait until all primary shards have been allocated by setting the <code class="literal">wait_for_status</code> parameter to <code class="literal">yellow</code>.</p>
<p>The <code class="literal">_clone</code> API returns as soon as the target index has been added to the cluster state, before any shards have been allocated.
At this point, all shards are in the state unassigned.
If, for any reason, the target index can&#8217;t be allocated, its primary shard will remain unassigned until it can be allocated on that node.</p>
<p>Once the primary shard is allocated, it moves to state initializing, and the clone process begins.
When the clone operation completes, the shard will become active.
At that point, Elasticsearch will try to allocate any replicas and may decide to relocate the primary shard to another node.</p>
<p><span class="strong strong"><strong>Wait for active shards</strong></span></p>
<p>Because the clone operation creates a new index to clone the shards to, the wait for active shards setting on index creation applies to the clone index action as well.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-clone-index.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.clone({ index, target })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_167"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: Name of the source index to clone.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">target</code> (string)</strong></span>: Name of the target index to create.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">aliases</code> (Optional, Record&lt;string, { filter, index_routing, is_hidden, is_write_index, routing, search_routing }&gt;)</strong></span>: Aliases for the resulting index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">settings</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: Configuration options for the target index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of shard copies that must be active before proceeding with the operation.
Set to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>).
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_close"></a>close</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Close an index.
A closed index is blocked for read or write operations and does not allow all operations that opened indices allow.
It is not possible to index documents or to search for documents in a closed index.
Closed indices do not have to maintain internal data structures for indexing or searching documents, which results in a smaller overhead on the cluster.</p>
<p>When opening or closing an index, the master node is responsible for restarting the index shards to reflect the new state of the index.
The shards will then go through the normal recovery process.
The data of opened and closed indices is automatically replicated by the cluster to ensure that enough shard copies are safely kept around at all times.</p>
<p>You can open and close multiple indices.
An error is thrown if the request explicitly refers to a missing index.
This behaviour can be turned off using the <code class="literal">ignore_unavailable=true</code> parameter.</p>
<p>By default, you must explicitly name the indices you are opening or closing.
To open or close indices with <code class="literal">_all</code>, <code class="literal">*</code>, or other wildcard expressions, change the` action.destructive_requires_name` setting to <code class="literal">false</code>. This setting can also be changed with the cluster update settings API.</p>
<p>Closed indices consume a significant amount of disk-space which can cause problems in managed environments.
Closing indices can be turned off with the cluster settings API by setting <code class="literal">cluster.indices.close.enable</code> to <code class="literal">false</code>.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-close.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.close({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_168"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: List or wildcard expression of index names used to limit the request.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of shard copies that must be active before proceeding with the operation.
Set to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>).
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_create_2"></a>create</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create an index.
You can use the create index API to add a new index to an Elasticsearch cluster.
When creating an index, you can specify the following:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Settings for the index.
</li>
<li class="listitem">
Mappings for fields in the index.
</li>
<li class="listitem">
Index aliases
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Wait for active shards</strong></span></p>
<p>By default, index creation will only return a response to the client when the primary copies of each shard have been started, or the request times out.
The index creation response will indicate what happened.
For example, <code class="literal">acknowledged</code> indicates whether the index was successfully created in the cluster, <code class="literal">while shards_acknowledged</code> indicates whether the requisite number of shard copies were started for each shard in the index before timing out.
Note that it is still possible for either <code class="literal">acknowledged</code> or <code class="literal">shards_acknowledged</code> to be <code class="literal">false</code>, but for the index creation to be successful.
These values simply indicate whether the operation completed before the timeout.
If <code class="literal">acknowledged</code> is false, the request timed out before the cluster state was updated with the newly created index, but it probably will be created sometime soon.
If <code class="literal">shards_acknowledged</code> is false, then the request timed out before the requisite number of shards were started (by default just the primaries), even if the cluster state was successfully updated to reflect the newly created index (that is to say, <code class="literal">acknowledged</code> is <code class="literal">true</code>).</p>
<p>You can change the default of only waiting for the primary shards to start through the index setting <code class="literal">index.write.wait_for_active_shards</code>.
Note that changing this setting will also affect the <code class="literal">wait_for_active_shards</code> value on all subsequent write operations.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-create-index.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.create({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_169"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: Name of the index you wish to create.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">aliases</code> (Optional, Record&lt;string, { filter, index_routing, is_hidden, is_write_index, routing, search_routing }&gt;)</strong></span>: Aliases for the index.
</li>
<li class="listitem">
<p><span class="strong strong"><strong><code class="literal">mappings</code> (Optional, { all_field, date_detection, dynamic, dynamic_date_formats, dynamic_templates, _field_names, index_field, _meta, numeric_detection, properties, _routing, _size, _source, runtime, enabled, subobjects, _data_stream_timestamp })</strong></span>: Mapping for fields in the index. If specified, this mapping can include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Field names
</li>
<li class="listitem">
Field data types
</li>
<li class="listitem">
Mapping parameters
</li>
</ul>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">settings</code> (Optional, { index, mode, routing_path, soft_deletes, sort, number_of_shards, number_of_replicas, number_of_routing_shards, check_on_startup, codec, routing_partition_size, load_fixed_bitset_filters_eagerly, hidden, auto_expand_replicas, merge, search, refresh_interval, max_result_window, max_inner_result_window, max_rescore_window, max_docvalue_fields_search, max_script_fields, max_ngram_diff, max_shingle_diff, blocks, max_refresh_listeners, analyze, highlight, max_terms_count, max_regex_length, routing, gc_deletes, default_pipeline, final_pipeline, lifecycle, provided_name, creation_date, creation_date_string, uuid, version, verified_before_close, format, max_slices_per_scroll, translog, query_string, priority, top_metrics_max_size, analysis, settings, time_series, queries, similarity, mapping, indexing.slowlog, indexing_pressure, store })</strong></span>: Configuration options for the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of shard copies that must be active before proceeding with the operation.
Set to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>).
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_create_data_stream"></a>create_data_stream</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create a data stream.</p>
<p>You must have a matching index template with data stream enabled.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-create-data-stream.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.createDataStream({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_170"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: Name of the data stream, which must meet the following criteria:
Lowercase only;
Cannot include <code class="literal">\</code>, <code class="literal">/</code>, <code class="literal">*</code>, <code class="literal">?</code>, <code class="literal">"</code>, <code class="literal">&lt;</code>, <code class="literal">&gt;</code>, <code class="literal">|</code>, <code class="literal">,</code>, <code class="literal">#</code>, <code class="literal">:</code>, or a space character;
Cannot start with <code class="literal">-</code>, <code class="literal">_</code>, <code class="literal">+</code>, or <code class="literal">.ds-</code>;
Cannot be <code class="literal">.</code> or <code class="literal">..</code>;
Cannot be longer than 255 bytes. Multi-byte characters count towards this limit faster.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_create_from"></a>create_from</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create an index from a source index.</p>
<p>Copy the mappings and settings from the source index to a destination index while allowing request settings and mappings to override the source values.</p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.createFrom({ source, dest })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_171"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">source</code> (string)</strong></span>: The source index or data stream name
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">dest</code> (string)</strong></span>: The destination index or data stream name
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">create_from</code> (Optional, { mappings_override, settings_override, remove_index_blocks })</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_data_streams_stats"></a>data_streams_stats</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get data stream stats.</p>
<p>Get statistics for one or more data streams.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/data-stream-stats-api.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.dataStreamsStats({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_172"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string)</strong></span>: List of data streams used to limit the request.
Wildcard expressions (<code class="literal">*</code>) are supported.
To target all data streams in a cluster, omit this parameter or use <code class="literal">*</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of data stream that wildcard patterns can match.
Supports a list of values, such as <code class="literal">open,hidden</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_delete_5"></a>delete</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete indices.
Deleting an index deletes its documents, shards, and metadata.
It does not delete related Kibana components, such as data views, visualizations, or dashboards.</p>
<p>You cannot delete the current write index of a data stream.
To delete the index, you must roll over the data stream so a new write index is created.
You can then use the delete index API to delete the previous write index.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-delete-index.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.delete({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_173"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: List of indices to delete.
You cannot specify index aliases.
By default, this parameter does not support wildcards (<code class="literal">*</code>) or <code class="literal">_all</code>.
To use wildcards or <code class="literal">_all</code>, set the <code class="literal">action.destructive_requires_name</code> cluster setting to <code class="literal">false</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_delete_alias"></a>delete_alias</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete an alias.
Removes a data stream or index from an alias.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-delete-alias.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.deleteAlias({ index, name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_174"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: List of data streams or indices used to limit the request.
Supports wildcards (<code class="literal">*</code>).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string | string[])</strong></span>: List of aliases to remove.
Supports wildcards (<code class="literal">*</code>). To remove all aliases, use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_delete_data_lifecycle"></a>delete_data_lifecycle</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete data stream lifecycles.
Removes the data stream lifecycle from a data stream, rendering it not managed by the data stream lifecycle.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/data-streams-delete-lifecycle.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.deleteDataLifecycle({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_175"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string | string[])</strong></span>: A list of data streams of which the data stream lifecycle will be deleted; use <code class="literal">*</code> to get all data streams
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Whether wildcard expressions should get expanded to open or closed indices (default: open)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Specify timeout for connection to master
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Explicit timestamp for the document
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_delete_data_stream"></a>delete_data_stream</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete data streams.
Deletes one or more data streams and their backing indices.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-delete-data-stream.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.deleteDataStream({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_176"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string | string[])</strong></span>: List of data streams to delete. Wildcard (<code class="literal">*</code>) expressions are supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of data stream that wildcard patterns can match. Supports a list of values,such as <code class="literal">open,hidden</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_delete_index_template"></a>delete_index_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete an index template.
The provided &lt;index-template&gt; may contain multiple template names separated by a comma. If multiple template
names are specified then there is no wildcard support and the provided names should match completely with
existing templates.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-delete-template.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.deleteIndexTemplate({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_177"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string | string[])</strong></span>: List of index template names used to limit the request. Wildcard (*) expressions are supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_delete_template"></a>delete_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Delete a legacy index template.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-delete-template-v1.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.deleteTemplate({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_178"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: The name of the legacy index template to delete.
Wildcard (<code class="literal">*</code>) expressions are supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_disk_usage"></a>disk_usage</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Analyze the index disk usage.
Analyze the disk usage of each field of an index or data stream.
This API might not support indices created in previous Elasticsearch versions.
The result of a small index can be inaccurate as some parts of an index might not be analyzed by the API.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The total size of fields of the analyzed shards of the index in the response is usually smaller than the index <code class="literal">store_size</code> value because some small metadata files are ignored and some parts of data files might not be scanned by the API.
Since stored fields are stored together in a compressed format, the sizes of stored fields are also estimates and can be inaccurate.
The stored size of the <code class="literal">_id</code> field is likely underestimated while the <code class="literal">_source</code> field is overestimated.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-disk-usage.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.diskUsage({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_179"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: List of data streams, indices, and aliases used to limit the request.
It’s recommended to execute this API with a single index (or the latest backing index of a data stream) as the API consumes resources significantly.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If false, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flush</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the API performs a flush before analysis.
If <code class="literal">false</code>, the response may not include uncommitted data.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, missing or closed indices are not included in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">run_expensive_tasks</code> (Optional, boolean)</strong></span>: Analyzing field disk usage is resource-intensive.
To use the API, this parameter must be set to <code class="literal">true</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_downsample"></a>downsample</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Downsample an index.
Aggregate a time series (TSDS) index and store pre-computed statistical summaries (<code class="literal">min</code>, <code class="literal">max</code>, <code class="literal">sum</code>, <code class="literal">value_count</code> and <code class="literal">avg</code>) for each metric field grouped by a configured time interval.
For example, a TSDS index that contains metrics sampled every 10 seconds can be downsampled to an hourly index.
All documents within an hour interval are summarized and stored as a single document in the downsample index.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only indices in a time series data stream are supported.
Neither field nor document level security can be defined on the source index.
The source index must be read only (<code class="literal">index.blocks.write: true</code>).</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-downsample-data-stream.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.downsample({ index, target_index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_180"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string)</strong></span>: Name of the time series index to downsample.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">target_index</code> (string)</strong></span>: Name of the index to create.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">config</code> (Optional, { fixed_interval })</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_exists_2"></a>exists</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Check indices.
Check if one or more indices, index aliases, or data streams exist.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-exists.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.exists({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_181"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: List of data streams, indices, and aliases. Supports wildcards (<code class="literal">*</code>).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns settings in flat format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_defaults</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, return all default settings in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request retrieves information from the local node only.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_exists_alias"></a>exists_alias</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Check aliases.</p>
<p>Check if one or more data stream or index aliases exist.</p>
<p><a href="/docs/api/doc/elasticsearch/v8/operation/operation-indices-exists-alias" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.existsAlias({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_182"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string | string[])</strong></span>: List of aliases to check. Supports wildcards (<code class="literal">*</code>).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams or indices used to limit the request. Supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, requests that include a missing data stream or index in the target indices or data streams return an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request retrieves information from the local node only.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_exists_index_template"></a>exists_index_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Check index templates.</p>
<p>Check whether index templates exist.</p>
<p><a href="/docs/api/doc/elasticsearch/v8/operation/operation-indices-exists-index-template" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.existsIndexTemplate({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_183"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: List of index template names used to limit the request. Wildcard (*) expressions are supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If true, the request retrieves information from the local node only. Defaults to false, which means information is retrieved from the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: If true, returns settings in flat format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_exists_template"></a>exists_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Check existence of index templates.
Get information about whether index templates exist.
Index templates define settings, mappings, and aliases that can be applied automatically to new indices.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>This documentation is about legacy index templates, which are deprecated and will be replaced by the composable templates introduced in Elasticsearch 7.8.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-template-exists-v1.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.existsTemplate({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_184"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string | string[])</strong></span>: A list of index template names used to limit the request.
Wildcard (<code class="literal">*</code>) expressions are supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: Indicates whether to use a flat format for the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: Indicates whether to get information from the local node only.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: The period to wait for the master node.
If the master node is not available before the timeout expires, the request fails and returns an error.
To indicate that the request should never timeout, set it to <code class="literal">-1</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_explain_data_lifecycle"></a>explain_data_lifecycle</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the status for a data stream lifecycle.
Get information about an index or data stream&#8217;s current data stream lifecycle status, such as time since index creation, time since rollover, the lifecycle configuration managing the index, or any errors encountered during lifecycle execution.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/data-streams-explain-lifecycle.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.explainDataLifecycle({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_185"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: The name of the index to explain
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_defaults</code> (Optional, boolean)</strong></span>: indicates if the API should return the default values the system uses for the index&#8217;s lifecycle
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Specify timeout for connection to master
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_field_usage_stats"></a>field_usage_stats</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get field usage stats.
Get field usage information for each shard and field of an index.
Field usage statistics are automatically captured when queries are running on a cluster.
A shard-level search request that accesses a given field, even if multiple times during that request, is counted as a single use.</p>
<p>The response body reports the per-shard usage count of the data structures that back the fields in the index.
A given request will increment each count by a maximum value of 1, even if the request accesses the same field multiple times.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/field-usage-stats.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.fieldUsageStats({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_186"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: List or wildcard expression of index names used to limit the request.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, missing or closed indices are not included in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (Optional, string | string[])</strong></span>: List or wildcard expressions of fields to include in the statistics.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_flush"></a>flush</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Flush data streams or indices.
Flushing a data stream or index is the process of making sure that any data that is currently only stored in the transaction log is also permanently stored in the Lucene index.
When restarting, Elasticsearch replays any unflushed operations from the transaction log into the Lucene index to bring it back into the state that it was in before the restart.
Elasticsearch automatically triggers flushes as needed, using heuristics that trade off the size of the unflushed transaction log against the cost of performing each flush.</p>
<p>After each operation has been flushed it is permanently stored in the Lucene index.
This may mean that there is no need to maintain an additional copy of it in the transaction log.
The transaction log is made up of multiple files, called generations, and Elasticsearch will delete any generation files when they are no longer needed, freeing up disk space.</p>
<p>It is also possible to trigger a flush on one or more indices using the flush API, although it is rare for users to need to call this API directly.
If you call the flush API after indexing some documents then a successful response indicates that Elasticsearch has flushed all the documents that were indexed before the flush API was called.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-flush.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.flush({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_187"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and aliases to flush.
Supports wildcards (<code class="literal">*</code>).
To flush all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">force</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request forces a flush even if there are no changes to commit to the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_if_ongoing</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the flush operation blocks until execution when another flush operation is running.
If <code class="literal">false</code>, Elasticsearch returns an error if you request a flush when another flush operation is running.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_forcemerge"></a>forcemerge</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Force a merge.
Perform the force merge operation on the shards of one or more indices.
For data streams, the API forces a merge on the shards of the stream&#8217;s backing indices.</p>
<p>Merging reduces the number of segments in each shard by merging some of them together and also frees up the space used by deleted documents.
Merging normally happens automatically, but sometimes it is useful to trigger a merge manually.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>We recommend force merging only a read-only index (meaning the index is no longer receiving writes).
When documents are updated or deleted, the old version is not immediately removed but instead soft-deleted and marked with a "tombstone".
These soft-deleted documents are automatically cleaned up during regular segment merges.
But force merge can cause very large (greater than 5 GB) segments to be produced, which are not eligible for regular merges.
So the number of soft-deleted documents can then grow rapidly, resulting in higher disk usage and worse search performance.
If you regularly force merge an index receiving writes, this can also make snapshots more expensive, since the new documents can&#8217;t be backed up incrementally.</p>
</div>
</div>
<p><span class="strong strong"><strong>Blocks during a force merge</strong></span></p>
<p>Calls to this API block until the merge is complete (unless request contains <code class="literal">wait_for_completion=false</code>).
If the client connection is lost before completion then the force merge process will continue in the background.
Any new requests to force merge the same indices will also block until the ongoing force merge is complete.</p>
<p><span class="strong strong"><strong>Running force merge asynchronously</strong></span></p>
<p>If the request contains <code class="literal">wait_for_completion=false</code>, Elasticsearch performs some preflight checks, launches the request, and returns a task you can use to get the status of the task.
However, you can not cancel this task as the force merge task is not cancelable.
Elasticsearch creates a record of this task as a document at <code class="literal">_tasks/&lt;task_id&gt;</code>.
When you are done with a task, you should delete the task document so Elasticsearch can reclaim the space.</p>
<p><span class="strong strong"><strong>Force merging multiple indices</strong></span></p>
<p>You can force merge multiple indices with a single request by targeting:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
One or more data streams that contain multiple backing indices
</li>
<li class="listitem">
Multiple indices
</li>
<li class="listitem">
One or more aliases
</li>
<li class="listitem">
All data streams and indices in a cluster
</li>
</ul>
</div>
<p>Each targeted shard is force-merged separately using the force_merge threadpool.
By default each node only has a single <code class="literal">force_merge</code> thread which means that the shards on that node are force-merged one at a time.
If you expand the <code class="literal">force_merge</code> threadpool on a node then it will force merge its shards in parallel</p>
<p>Force merge makes the storage for the shard being merged temporarily increase, as it may require free space up to triple its size in case <code class="literal">max_num_segments parameter</code> is set to <code class="literal">1</code>, to rewrite all segments into a new one.</p>
<p><span class="strong strong"><strong>Data streams and time-based indices</strong></span></p>
<p>Force-merging is useful for managing a data stream&#8217;s older backing indices and other time-based indices, particularly after a rollover.
In these cases, each index only receives indexing traffic for a certain period of time.
Once an index receive no more writes, its shards can be force-merged to a single segment.
This can be a good idea because single-segment shards can sometimes use simpler and more efficient data structures to perform searches.
For example:</p>
<pre class="screen">POST /.ds-my-data-stream-2099.03.07-000001/_forcemerge?max_num_segments=1</pre>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-forcemerge.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.forcemerge({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_188"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: A list of index names; use <code class="literal">_all</code> or empty string to perform the operation on all indices
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: Whether to ignore if a wildcard indices expression resolves into no concrete indices. (This includes <code class="literal">_all</code> string or when no indices have been specified)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Whether to expand wildcard expression to concrete indices that are open, closed or both.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flush</code> (Optional, boolean)</strong></span>: Specify whether the index should be flushed after performing the operation (default: true)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: Whether specified concrete indices should be ignored when unavailable (missing or closed)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">max_num_segments</code> (Optional, number)</strong></span>: The number of segments the index should be merged into (default: dynamic)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">only_expunge_deletes</code> (Optional, boolean)</strong></span>: Specify whether the operation should only expunge deleted documents
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_completion</code> (Optional, boolean)</strong></span>: Should the request wait until the force merge is completed.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_5"></a>get</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get index information.
Get information about one or more indices. For data streams, the API returns information about the
stream’s backing indices.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-get-index.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.get({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_189"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: List of data streams, indices, and index aliases used to limit the request.
Wildcard expressions (*) are supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If false, the request returns an error if any wildcard expression, index alias, or _all value targets only
missing or closed indices. This behavior applies even if the request targets other open indices. For example,
a request targeting foo*,bar* returns an error if an index starts with foo but no index starts with bar.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard expressions can match. If the request can target data streams, this argument
determines whether wildcard expressions match hidden data streams. Supports a list of values,
such as open,hidden.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: If true, returns settings in flat format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If false, requests that target a missing index return an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_defaults</code> (Optional, boolean)</strong></span>: If true, return all default settings in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If true, the request retrieves information from the local node only. Defaults to false, which means information is retrieved from the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">features</code> (Optional, { name, description } | { name, description }[])</strong></span>: Return only information on specified index features
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_alias"></a>get_alias</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get aliases.
Retrieves information for one or more data stream or index aliases.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-get-alias.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.getAlias({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_190"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string | string[])</strong></span>: List of aliases to retrieve.
Supports wildcards (<code class="literal">*</code>).
To retrieve all aliases, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams or indices used to limit the request.
Supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request retrieves information from the local node only.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_data_lifecycle"></a>get_data_lifecycle</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get data stream lifecycles.</p>
<p>Get the data stream lifecycle configuration of one or more data streams.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/data-streams-get-lifecycle.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.getDataLifecycle({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_191"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string | string[])</strong></span>: List of data streams to limit the request.
Supports wildcards (<code class="literal">*</code>).
To target all data streams, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of data stream that wildcard patterns can match.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_defaults</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, return all default settings in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_data_lifecycle_stats"></a>get_data_lifecycle_stats</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get data stream lifecycle stats.
Get statistics about the data streams that are managed by a data stream lifecycle.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/data-streams-get-lifecycle-stats.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.getDataLifecycleStats()</pre>
</div>
<div class="position-relative"><h4><a id="_get_data_stream"></a>get_data_stream</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get data streams.</p>
<p>Get information about one or more data streams.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-get-data-stream.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.getDataStream({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_192"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string | string[])</strong></span>: List of data stream names used to limit the request.
Wildcard (<code class="literal">*</code>) expressions are supported. If omitted, all data streams are returned.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of data stream that wildcard patterns can match.
Supports a list of values, such as <code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_defaults</code> (Optional, boolean)</strong></span>: If true, returns all relevant default configurations for the index template.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">verbose</code> (Optional, boolean)</strong></span>: Whether the maximum timestamp for each data stream should be calculated and returned.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_field_mapping"></a>get_field_mapping</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get mapping definitions.
Retrieves mapping definitions for one or more fields.
For data streams, the API retrieves field mappings for the stream’s backing indices.</p>
<p>This API is useful if you don&#8217;t need a complete mapping or if an index mapping contains a large number of fields.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-get-field-mapping.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.getFieldMapping({ fields })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_193"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">fields</code> (string | string[])</strong></span>: List or wildcard expression of fields used to limit returned information.
Supports wildcards (<code class="literal">*</code>).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and aliases used to limit the request.
Supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_defaults</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, return all default settings in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request retrieves information from the local node only.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_index_template"></a>get_index_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get index templates.
Get information about one or more index templates.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-get-template.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.getIndexTemplate({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_194"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string)</strong></span>: List of index template names used to limit the request. Wildcard (*) expressions are supported.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If true, the request retrieves information from the local node only. Defaults to false, which means information is retrieved from the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: If true, returns settings in flat format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_defaults</code> (Optional, boolean)</strong></span>: If true, returns all relevant default configurations for the index template.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_mapping"></a>get_mapping</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get mapping definitions.
For data streams, the API retrieves mappings for the stream’s backing indices.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-get-mapping.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.getMapping({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_195"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and aliases used to limit the request.
Supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request retrieves information from the local node only.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_migrate_reindex_status"></a>get_migrate_reindex_status</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get the migration reindexing status.</p>
<p>Get the status of a migration reindex attempt for a data stream or index.</p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.getMigrateReindexStatus({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_196"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: The index or data stream name.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_settings_2"></a>get_settings</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get index settings.
Get setting information for one or more indices.
For data streams, it returns setting information for the stream&#8217;s backing indices.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-get-settings.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.getSettings({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_197"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and aliases used to limit
the request. Supports wildcards (<code class="literal">*</code>). To target all data streams and
indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string | string[])</strong></span>: List or wildcard expression of settings to retrieve.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index
alias, or <code class="literal">_all</code> value targets only missing or closed indices. This
behavior applies even if the request targets other open indices. For
example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index
starts with foo but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns settings in flat format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">include_defaults</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, return all default settings in the response.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request retrieves information from the local node only. If
<code class="literal">false</code>, information is retrieved from the master node.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is
received before the timeout expires, the request fails and returns an
error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_get_template"></a>get_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get index templates.
Get information about one or more index templates.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>This documentation is about legacy index templates, which are deprecated and will be replaced by the composable templates introduced in Elasticsearch 7.8.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-get-template-v1.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.getTemplate({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_198"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (Optional, string | string[])</strong></span>: List of index template names used to limit the request.
Wildcard (<code class="literal">*</code>) expressions are supported.
To return all index templates, omit this parameter or use a value of <code class="literal">_all</code> or <code class="literal">*</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns settings in flat format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">local</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the request retrieves information from the local node only.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_migrate_reindex"></a>migrate_reindex</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Reindex legacy backing indices.</p>
<p>Reindex all legacy backing indices for a data stream.
This operation occurs in a persistent task.
The persistent task ID is returned immediately and the reindexing work is completed in that task.</p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.migrateReindex({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_199"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">reindex</code> (Optional, { mode, source })</strong></span>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_migrate_to_data_stream"></a>migrate_to_data_stream</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Convert an index alias to a data stream.
Converts an index alias to a data stream.
You must have a matching index template that is data stream enabled.
The alias must meet the following criteria:
The alias must have a write index;
All indices for the alias must have a <code class="literal">@timestamp</code> field mapping of a <code class="literal">date</code> or <code class="literal">date_nanos</code> field type;
The alias must not have any filters;
The alias must not use custom routing.
If successful, the request removes the alias and creates a data stream with the same name.
The indices for the alias become hidden backing indices for the stream.
The write index for the alias becomes the write index for the stream.</p>
<p><a href="/docs/api/doc/elasticsearch/v8/operation/operation-indices-migrate-to-data-stream" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.migrateToDataStream({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_200"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: Name of the index alias to convert to a data stream.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_modify_data_stream"></a>modify_data_stream</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update data streams.
Performs one or more data stream modification actions in a single atomic operation.</p>
<p><a href="/docs/api/doc/elasticsearch/v8/operation/operation-indices-modify-data-stream" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.modifyDataStream({ actions })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_201"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">actions</code> ({ add_backing_index, remove_backing_index }[])</strong></span>: Actions to perform.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_open"></a>open</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Open a closed index.
For data streams, the API opens any closed backing indices.</p>
<p>A closed index is blocked for read/write operations and does not allow all operations that opened indices allow.
It is not possible to index documents or to search for documents in a closed index.
This allows closed indices to not have to maintain internal data structures for indexing or searching documents, resulting in a smaller overhead on the cluster.</p>
<p>When opening or closing an index, the master is responsible for restarting the index shards to reflect the new state of the index.
The shards will then go through the normal recovery process.
The data of opened or closed indices is automatically replicated by the cluster to ensure that enough shard copies are safely kept around at all times.</p>
<p>You can open and close multiple indices.
An error is thrown if the request explicitly refers to a missing index.
This behavior can be turned off by using the <code class="literal">ignore_unavailable=true</code> parameter.</p>
<p>By default, you must explicitly name the indices you are opening or closing.
To open or close indices with <code class="literal">_all</code>, <code class="literal">*</code>, or other wildcard expressions, change the <code class="literal">action.destructive_requires_name</code> setting to <code class="literal">false</code>.
This setting can also be changed with the cluster update settings API.</p>
<p>Closed indices consume a significant amount of disk-space which can cause problems in managed environments.
Closing indices can be turned off with the cluster settings API by setting <code class="literal">cluster.indices.close.enable</code> to <code class="literal">false</code>.</p>
<p>Because opening or closing an index allocates its shards, the <code class="literal">wait_for_active_shards</code> setting on index creation applies to the <code class="literal">_open</code> and <code class="literal">_close</code> index actions as well.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-open-close.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.open({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_202"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: List of data streams, indices, and aliases used to limit the request.
Supports wildcards (<code class="literal">*</code>).
By default, you must explicitly name the indices you using to limit the request.
To limit a request using <code class="literal">_all</code>, <code class="literal">*</code>, or other wildcard expressions, change the <code class="literal">action.destructive_requires_name</code> setting to false.
You can update this setting in the <code class="literal">elasticsearch.yml</code> file or using the cluster update settings API.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">wait_for_active_shards</code> (Optional, number | Enum("all" | "index-setting"))</strong></span>: The number of shard copies that must be active before proceeding with the operation.
Set to <code class="literal">all</code> or any positive integer up to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>).
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_promote_data_stream"></a>promote_data_stream</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Promote a data stream.
Promote a data stream from a replicated data stream managed by cross-cluster replication (CCR) to a regular data stream.</p>
<p>With CCR auto following, a data stream from a remote cluster can be replicated to the local cluster.
These data streams can&#8217;t be rolled over in the local cluster.
These replicated data streams roll over only if the upstream data stream rolls over.
In the event that the remote cluster is no longer available, the data stream in the local cluster can be promoted to a regular data stream, which allows these data streams to be rolled over in the local cluster.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>When promoting a data stream, ensure the local cluster has a data stream enabled index template that matches the data stream.
If this is missing, the data stream will not be able to roll over until a matching index template is created.
This will affect the lifecycle management of the data stream and interfere with the data stream size and retention.</p>
</div>
</div>
<p><a href="/docs/api/doc/elasticsearch/v8/operation/operation-indices-promote-data-stream" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.promoteDataStream({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_203"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: The name of the data stream
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_alias"></a>put_alias</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create or update an alias.
Adds a data stream or index to an alias.</p>
<p><a href="/docs/api/doc/elasticsearch/v8/operation/operation-indices-put-alias" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.putAlias({ index, name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_204"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: List of data streams or indices to add.
Supports wildcards (<code class="literal">*</code>).
Wildcard patterns that match both data streams and indices return an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: Alias to update.
If the alias doesn’t exist, the request creates it.
Index alias names support date math.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">filter</code> (Optional, { bool, boosting, common, combined_fields, constant_score, dis_max, distance_feature, exists, function_score, fuzzy, geo_bounding_box, geo_distance, geo_grid, geo_polygon, geo_shape, has_child, has_parent, ids, intervals, knn, match, match_all, match_bool_prefix, match_none, match_phrase, match_phrase_prefix, more_like_this, multi_match, nested, parent_id, percolate, pinned, prefix, query_string, range, rank_feature, regexp, rule, script, script_score, semantic, shape, simple_query_string, span_containing, span_field_masking, span_first, span_multi, span_near, span_not, span_or, span_term, span_within, sparse_vector, term, terms, terms_set, text_expansion, weighted_tokens, wildcard, wrapper, type })</strong></span>: Query used to limit documents the alias can access.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_routing</code> (Optional, string)</strong></span>: Value used to route indexing operations to a specific shard.
If specified, this overwrites the <code class="literal">routing</code> value for indexing operations.
Data stream aliases don’t support this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">is_write_index</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, sets the write index or data stream for the alias.
If an alias points to multiple indices or data streams and <code class="literal">is_write_index</code> isn’t set, the alias rejects write requests.
If an index alias points to one index and <code class="literal">is_write_index</code> isn’t set, the index automatically acts as the write index.
Data stream aliases don’t automatically set a write data stream, even if the alias points to one data stream.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">routing</code> (Optional, string)</strong></span>: Value used to route indexing and search operations to a specific shard.
Data stream aliases don’t support this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">search_routing</code> (Optional, string)</strong></span>: Value used to route search operations to a specific shard.
If specified, this overwrites the <code class="literal">routing</code> value for search operations.
Data stream aliases don’t support this parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_data_lifecycle"></a>put_data_lifecycle</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update data stream lifecycles.
Update the data stream lifecycle of the specified data streams.</p>
<p><a href="/docs/api/doc/elasticsearch/v8/operation/operation-indices-put-data-lifecycle" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.putDataLifecycle({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_205"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string | string[])</strong></span>: List of data streams used to limit the request.
Supports wildcards (<code class="literal">*</code>).
To target all data streams use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">data_retention</code> (Optional, string | -1 | 0)</strong></span>: If defined, every document added to this data stream will be stored at least for this time frame.
Any time after this duration the document could be deleted.
When empty, every document in this data stream will be stored indefinitely.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">downsampling</code> (Optional, { rounds })</strong></span>: The downsampling configuration to execute for the managed backing index after rollover.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">enabled</code> (Optional, boolean)</strong></span>: If defined, it turns data stream lifecycle on/off (<code class="literal">true</code>/<code class="literal">false</code>) for this data stream. A data stream lifecycle
that&#8217;s disabled (enabled: <code class="literal">false</code>) will have no effect on the data stream.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of data stream that wildcard patterns can match.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">hidden</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is
received before the timeout expires, the request fails and returns an
error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_index_template"></a>put_index_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create or update an index template.
Index templates define settings, mappings, and aliases that can be applied automatically to new indices.</p>
<p>Elasticsearch applies templates to new indices based on an wildcard pattern that matches the index name.
Index templates are applied during data stream or index creation.
For data streams, these settings and mappings are applied when the stream&#8217;s backing indices are created.
Settings and mappings specified in a create index API request override any settings or mappings specified in an index template.
Changes to index templates do not affect existing indices, including the existing backing indices of a data stream.</p>
<p>You can use C-style <code class="literal">/* *\/</code> block comments in index templates.
You can include comments anywhere in the request body, except before the opening curly bracket.</p>
<p><span class="strong strong"><strong>Multiple matching templates</strong></span></p>
<p>If multiple index templates match the name of a new index or data stream, the template with the highest priority is used.</p>
<p>Multiple templates with overlapping index patterns at the same priority are not allowed and an error will be thrown when attempting to create a template matching an existing index template at identical priorities.</p>
<p><span class="strong strong"><strong>Composing aliases, mappings, and settings</strong></span></p>
<p>When multiple component templates are specified in the <code class="literal">composed_of</code> field for an index template, they are merged in the order specified, meaning that later component templates override earlier component templates.
Any mappings, settings, or aliases from the parent index template are merged in next.
Finally, any configuration on the index request itself is merged.
Mapping definitions are merged recursively, which means that later mapping components can introduce new field mappings and update the mapping configuration.
If a field mapping is already contained in an earlier component, its definition will be completely overwritten by the later one.
This recursive merging strategy applies not only to field mappings, but also root options like <code class="literal">dynamic_templates</code> and <code class="literal">meta</code>.
If an earlier component contains a <code class="literal">dynamic_templates</code> block, then by default new <code class="literal">dynamic_templates</code> entries are appended onto the end.
If an entry already exists with the same key, then it is overwritten by the new definition.</p>
<p><a href="/docs/api/doc/elasticsearch/v8/operation/operation-indices-put-index-template" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.putIndexTemplate({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_206"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: Index or template name
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_patterns</code> (Optional, string | string[])</strong></span>: Name of the index template to create.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">composed_of</code> (Optional, string[])</strong></span>: An ordered list of component template names.
Component templates are merged in the order specified, meaning that the last component template specified has the highest precedence.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">template</code> (Optional, { aliases, mappings, settings, lifecycle })</strong></span>: Template to be applied.
It may optionally include an <code class="literal">aliases</code>, <code class="literal">mappings</code>, or <code class="literal">settings</code> configuration.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">data_stream</code> (Optional, { hidden, allow_custom_routing })</strong></span>: If this object is included, the template is used to create data streams and their backing indices.
Supports an empty object.
Data streams require a matching index template with a <code class="literal">data_stream</code> object.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">priority</code> (Optional, number)</strong></span>: Priority to determine index template precedence when a new data stream or index is created.
The index template with the highest priority is chosen.
If no priority is specified the template is treated as though it is of priority 0 (lowest priority).
This number is not automatically generated by Elasticsearch.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: Version number used to manage index templates externally.
This number is not automatically generated by Elasticsearch.
External systems can use these version numbers to simplify template management.
To unset a version, replace the template without specifying one.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_meta</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: Optional user metadata about the index template.
It may have any contents.
It is not automatically generated or used by Elasticsearch.
This user-defined object is stored in the cluster state, so keeping it short is preferable
To unset the metadata, replace the template without specifying it.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_auto_create</code> (Optional, boolean)</strong></span>: This setting overrides the value of the <code class="literal">action.auto_create_index</code> cluster setting.
If set to <code class="literal">true</code> in a template, then indices can be automatically created using that template even if auto-creation of indices is disabled via <code class="literal">actions.auto_create_index</code>.
If set to <code class="literal">false</code>, then indices or data streams matching the template must always be explicitly created, and may never be automatically created.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_missing_component_templates</code> (Optional, string[])</strong></span>: The configuration option ignore_missing_component_templates can be used when an index template
references a component template that might not exist
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">deprecated</code> (Optional, boolean)</strong></span>: Marks this index template as deprecated. When creating or updating a non-deprecated index template
that uses deprecated components, Elasticsearch will emit a deprecation warning.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">create</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, this request cannot replace or update existing index templates.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">cause</code> (Optional, string)</strong></span>: User defined reason for creating/updating the index template
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_mapping"></a>put_mapping</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update field mappings.
Add new fields to an existing data stream or index.
You can also use this API to change the search settings of existing fields and add new properties to existing object fields.
For data streams, these changes are applied to all backing indices by default.</p>
<p><span class="strong strong"><strong>Add multi-fields to an existing field</strong></span></p>
<p>Multi-fields let you index the same field in different ways.
You can use this API to update the fields mapping parameter and enable multi-fields for an existing field.
WARNING: If an index (or data stream) contains documents when you add a multi-field, those documents will not have values for the new multi-field.
You can populate the new multi-field with the update by query API.</p>
<p><span class="strong strong"><strong>Change supported mapping parameters for an existing field</strong></span></p>
<p>The documentation for each mapping parameter indicates whether you can update it for an existing field using this API.
For example, you can use the update mapping API to update the <code class="literal">ignore_above</code> parameter.</p>
<p><span class="strong strong"><strong>Change the mapping of an existing field</strong></span></p>
<p>Except for supported mapping parameters, you can&#8217;t change the mapping or field type of an existing field.
Changing an existing field could invalidate data that&#8217;s already indexed.</p>
<p>If you need to change the mapping of a field in a data stream&#8217;s backing indices, refer to documentation about modifying data streams.
If you need to change the mapping of a field in other indices, create a new index with the correct mapping and reindex your data into that index.</p>
<p><span class="strong strong"><strong>Rename a field</strong></span></p>
<p>Renaming a field would invalidate data already indexed under the old field name.
Instead, add an alias field to create an alternate field name.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-put-mapping.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.putMapping({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_207"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: A list of index names the mapping should be added to (supports wildcards); use <code class="literal">_all</code> or omit to add the mapping on all indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">date_detection</code> (Optional, boolean)</strong></span>: Controls whether dynamic date detection is enabled.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">dynamic</code> (Optional, Enum("strict" | "runtime" | true | false))</strong></span>: Controls whether new fields are added dynamically.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">dynamic_date_formats</code> (Optional, string[])</strong></span>: If date detection is enabled then new string fields are checked
against <em>dynamic_date_formats</em> and if the value matches then
a new date field is added instead of string.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">dynamic_templates</code> (Optional, Record&lt;string, { mapping, runtime, match, path_match, unmatch, path_unmatch, match_mapping_type, unmatch_mapping_type, match_pattern }&gt;[])</strong></span>: Specify dynamic templates for the mapping.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_field_names</code> (Optional, { enabled })</strong></span>: Control whether field names are enabled for the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_meta</code> (Optional, Record&lt;string, User-defined value&gt;)</strong></span>: A mapping type can have custom meta data associated with it. These are
not used at all by Elasticsearch, but can be used to store
application-specific metadata.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">numeric_detection</code> (Optional, boolean)</strong></span>: Automatically map strings into numeric data types for all fields.
</li>
<li class="listitem">
<p><span class="strong strong"><strong><code class="literal">properties</code> (Optional, Record&lt;string, { type } | { boost, fielddata, index, null_value, type } | { type, enabled, null_value, boost, coerce, script, on_script_error, ignore_malformed, time_series_metric, analyzer, eager_global_ordinals, index, index_options, index_phrases, index_prefixes, norms, position_increment_gap, search_analyzer, search_quote_analyzer, term_vector, format, precision_step, locale } | { relations, eager_global_ordinals, type } | { boost, eager_global_ordinals, index, index_options, script, on_script_error, normalizer, norms, null_value, similarity, split_queries_on_whitespace, time_series_dimension, type } | { type, fields, meta, copy_to } | { type } | { positive_score_impact, type } | { positive_score_impact, type } | { analyzer, index, index_options, max_shingle_size, norms, search_analyzer, search_quote_analyzer, similarity, term_vector, type } | { analyzer, boost, eager_global_ordinals, fielddata, fielddata_frequency_filter, index, index_options, index_phrases, index_prefixes, norms, position_increment_gap, search_analyzer, search_quote_analyzer, similarity, term_vector, type } | { type } | { type, null_value } | { boost, format, ignore_malformed, index, script, on_script_error, null_value, precision_step, type } | { boost, fielddata, format, ignore_malformed, index, script, on_script_error, null_value, precision_step, locale, type } | { type, default_metric, metrics, time_series_metric } | { type, dims, element_type, index, index_options, similarity } | { boost, depth_limit, doc_values, eager_global_ordinals, index, index_options, null_value, similarity, split_queries_on_whitespace, type } | { enabled, include_in_parent, include_in_root, type } | { enabled, subobjects, type } | { type, enabled, priority, time_series_dimension } | { type, meta, inference_id, search_inference_id } | { type } | { analyzer, contexts, max_input_length, preserve_position_increments, preserve_separators, search_analyzer, type } | { value, type } | { type, index } | { path, type } | { ignore_malformed, type } | { boost, index, ignore_malformed, null_value, on_script_error, script, time_series_dimension, type } | { type } | { analyzer, boost, index, null_value, enable_position_increments, type } | { ignore_malformed, ignore_z_value, null_value, index, on_script_error, script, type } | { coerce, ignore_malformed, ignore_z_value, index, orientation, strategy, type } | { ignore_malformed, ignore_z_value, null_value, type } | { coerce, ignore_malformed, ignore_z_value, orientation, type } | { type, null_value } | { type, null_value } | { type, null_value } | { type, null_value } | { type, null_value } | { type, null_value } | { type, null_value, scaling_factor } | { type, null_value } | { type, null_value } | { format, type } | { type } | { type } | { type } | { type } | { type } | { type, norms, index_options, index, null_value, rules, language, country, variant, strength, decomposition, alternate, case_level, case_first, numeric, variable_top, hiragana_quaternary_mode }&gt;)</strong></span>: Mapping for a field. For new fields, this mapping can include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Field name
</li>
<li class="listitem">
Field data type
</li>
<li class="listitem">
Mapping parameters
</li>
</ul>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_routing</code> (Optional, { required })</strong></span>: Enable making a routing value required on indexed documents.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">_source</code> (Optional, { compress, compress_threshold, enabled, excludes, includes, mode })</strong></span>: Control whether the _source field is enabled on the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">runtime</code> (Optional, Record&lt;string, { fields, fetch_fields, format, input_field, target_field, target_index, script, type }&gt;)</strong></span>: Mapping of runtime fields for the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response.
If no response is received before the timeout expires, the request fails and returns an error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">write_index_only</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the mappings are applied only to the current write index for the target.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_settings_2"></a>put_settings</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Update index settings.
Changes dynamic index settings in real time.
For data streams, index setting changes are applied to all backing indices by default.</p>
<p>To revert a setting to the default value, use a null value.
The list of per-index settings that can be updated dynamically on live indices can be found in index module documentation.
To preserve existing settings from being updated, set the <code class="literal">preserve_existing</code> parameter to <code class="literal">true</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can only define new analyzers on closed indices.
To add an analyzer, you must close the index, define the analyzer, and reopen the index.
You cannot close the write index of a data stream.
To update the analyzer for a data stream&#8217;s write index and future backing indices, update the analyzer in the index template used by the stream.
Then roll over the data stream to apply the new analyzer to the stream&#8217;s write index and future backing indices.
This affects searches and any new data added to the stream after the rollover.
However, it does not affect the data stream&#8217;s backing indices or their existing data.
To change the analyzer for existing backing indices, you must create a new data stream and reindex your data into it.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-update-settings.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.putSettings({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_208"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and aliases used to limit
the request. Supports wildcards (<code class="literal">*</code>). To target all data streams and
indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">settings</code> (Optional, { index, mode, routing_path, soft_deletes, sort, number_of_shards, number_of_replicas, number_of_routing_shards, check_on_startup, codec, routing_partition_size, load_fixed_bitset_filters_eagerly, hidden, auto_expand_replicas, merge, search, refresh_interval, max_result_window, max_inner_result_window, max_rescore_window, max_docvalue_fields_search, max_script_fields, max_ngram_diff, max_shingle_diff, blocks, max_refresh_listeners, analyze, highlight, max_terms_count, max_regex_length, routing, gc_deletes, default_pipeline, final_pipeline, lifecycle, provided_name, creation_date, creation_date_string, uuid, version, verified_before_close, format, max_slices_per_scroll, translog, query_string, priority, top_metrics_max_size, analysis, settings, time_series, queries, similarity, mapping, indexing.slowlog, indexing_pressure, store })</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index
alias, or <code class="literal">_all</code> value targets only missing or closed indices. This
behavior applies even if the request targets other open indices. For
example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index
starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match. If the request can target
data streams, this argument determines whether wildcard expressions match
hidden data streams. Supports a list of values, such as
<code class="literal">open,hidden</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">flat_settings</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns settings in flat format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, returns settings in flat format.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is
received before the timeout expires, the request fails and returns an
error.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">preserve_existing</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, existing index settings remain unchanged.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">reopen</code> (Optional, boolean)</strong></span>: Whether to close and reopen the index to apply non-dynamic settings.
If set to <code class="literal">true</code> the indices to which the settings are being applied
will be closed temporarily and then reopened in order to apply the changes.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a response. If no response is received before the
timeout expires, the request fails and returns an error.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_put_template"></a>put_template</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Create or update an index template.
Index templates define settings, mappings, and aliases that can be applied automatically to new indices.
Elasticsearch applies templates to new indices based on an index pattern that matches the index name.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>This documentation is about legacy index templates, which are deprecated and will be replaced by the composable templates introduced in Elasticsearch 7.8.</p>
</div>
</div>
<p>Composable templates always take precedence over legacy templates.
If no composable template matches a new index, matching legacy templates are applied according to their order.</p>
<p>Index templates are only applied during index creation.
Changes to index templates do not affect existing indices.
Settings and mappings specified in create index API requests override any settings or mappings specified in an index template.</p>
<p>You can use C-style <code class="literal">/* *\/</code> block comments in index templates.
You can include comments anywhere in the request body, except before the opening curly bracket.</p>
<p><span class="strong strong"><strong>Indices matching multiple templates</strong></span></p>
<p>Multiple index templates can potentially match an index, in this case, both the settings and mappings are merged into the final configuration of the index.
The order of the merging can be controlled using the order parameter, with lower order being applied first, and higher orders overriding them.
NOTE: Multiple matching templates with the same order value will result in a non-deterministic merging order.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-templates-v1.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.putTemplate({ name })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_209"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">name</code> (string)</strong></span>: The name of the template
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">aliases</code> (Optional, Record&lt;string, { filter, index_routing, is_hidden, is_write_index, routing, search_routing }&gt;)</strong></span>: Aliases for the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index_patterns</code> (Optional, string | string[])</strong></span>: Array of wildcard expressions used to match the names
of indices during creation.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">mappings</code> (Optional, { all_field, date_detection, dynamic, dynamic_date_formats, dynamic_templates, _field_names, index_field, _meta, numeric_detection, properties, _routing, _size, _source, runtime, enabled, subobjects, _data_stream_timestamp })</strong></span>: Mapping for fields in the index.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">order</code> (Optional, number)</strong></span>: Order in which Elasticsearch applies this template if index
matches multiple templates.
</li>
</ul>
</div>
</li>
</ul>
</div>
<p>Templates with lower <em>order</em> values are merged first. Templates with higher
<em>order</em> values are merged later, overriding templates with lower values.
<span class="strong strong"><strong> <span class="strong strong"><strong><code class="literal">settings</code> (Optional, { index, mode, routing_path, soft_deletes, sort, number_of_shards, number_of_replicas, number_of_routing_shards, check_on_startup, codec, routing_partition_size, load_fixed_bitset_filters_eagerly, hidden, auto_expand_replicas, merge, search, refresh_interval, max_result_window, max_inner_result_window, max_rescore_window, max_docvalue_fields_search, max_script_fields, max_ngram_diff, max_shingle_diff, blocks, max_refresh_listeners, analyze, highlight, max_terms_count, max_regex_length, routing, gc_deletes, default_pipeline, final_pipeline, lifecycle, provided_name, creation_date, creation_date_string, uuid, version, verified_before_close, format, max_slices_per_scroll, translog, query_string, priority, top_metrics_max_size, analysis, settings, time_series, queries, similarity, mapping, indexing.slowlog, indexing_pressure, store })</strong></span>: Configuration options for the index.
</strong></span> <span class="strong strong"><strong><code class="literal">version</code> (Optional, number)</strong></span>: Version number used to manage index templates externally. This number
is not automatically generated by Elasticsearch.
To unset a version, replace the template without specifying one.
<span class="strong strong"><strong> <span class="strong strong"><strong><code class="literal">create</code> (Optional, boolean)</strong></span>: If true, this request cannot replace or update existing index templates.
</strong></span> <span class="strong strong"><strong><code class="literal">master_timeout</code> (Optional, string | -1 | 0)</strong></span>: Period to wait for a connection to the master node. If no response is
received before the timeout expires, the request fails and returns an error.
<span class="strong strong"><strong>* *<code class="literal">cause</code> (Optional, string)</strong></span>: User defined reason for creating/updating the index template</p>
<div class="position-relative"><h4><a id="_recovery_2"></a>recovery</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Get index recovery information.
Get information about ongoing and completed shard recoveries for one or more indices.
For data streams, the API returns information for the stream&#8217;s backing indices.</p>
<p>All recoveries, whether ongoing or complete, are kept in the cluster state and may be reported on at any time.</p>
<p>Shard recovery is the process of initializing a shard copy, such as restoring a primary shard from a snapshot or creating a replica shard from a primary shard.
When a shard recovery completes, the recovered shard is available for search and indexing.</p>
<p>Recovery automatically occurs during the following processes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When creating an index for the first time.
</li>
<li class="listitem">
When a node rejoins the cluster and starts up any missing primary shard copies using the data that it holds in its data path.
</li>
<li class="listitem">
Creation of new replica shard copies from the primary.
</li>
<li class="listitem">
Relocation of a shard copy to a different node in the same cluster.
</li>
<li class="listitem">
A snapshot restore operation.
</li>
<li class="listitem">
A clone, shrink, or split operation.
</li>
</ul>
</div>
<p>You can determine the cause of a shard recovery using the recovery or cat recovery APIs.</p>
<p>The index recovery API reports information about completed recoveries only for shard copies that currently exist in the cluster.
It only reports the last recovery for each shard copy and does not report historical information about earlier recoveries, nor does it report information about the recoveries of shard copies that no longer exist.
This means that if a shard copy completes a recovery and then Elasticsearch relocates it onto a different node then the information about the original recovery will not be shown in the recovery API.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-recovery.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.recovery({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_210"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and aliases used to limit the request.
Supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">active_only</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response only includes ongoing shard recoveries.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">detailed</code> (Optional, boolean)</strong></span>: If <code class="literal">true</code>, the response includes detailed information about shard recoveries.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_refresh"></a>refresh</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Refresh an index.
A refresh makes recent operations performed on one or more indices available for search.
For data streams, the API runs the refresh operation on the stream’s backing indices.</p>
<p>By default, Elasticsearch periodically refreshes indices every second, but only on indices that have received one search request or more in the last 30 seconds.
You can change this default interval with the <code class="literal">index.refresh_interval</code> setting.</p>
<p>Refresh requests are synchronous and do not return a response until the refresh operation completes.</p>
<p>Refreshes are resource-intensive.
To ensure good cluster performance, it&#8217;s recommended to wait for Elasticsearch&#8217;s periodic refresh rather than performing an explicit refresh when possible.</p>
<p>If your application workflow indexes documents and then runs a search to retrieve the indexed document, it&#8217;s recommended to use the index API&#8217;s <code class="literal">refresh=wait_for</code> query parameter option.
This option ensures the indexing operation waits for a periodic refresh before running the search.</p>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-refresh.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.refresh({ ... })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_211"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (Optional, string | string[])</strong></span>: List of data streams, indices, and aliases used to limit the request.
Supports wildcards (<code class="literal">*</code>).
To target all data streams and indices, omit this parameter or use <code class="literal">*</code> or <code class="literal">_all</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if any wildcard expression, index alias, or <code class="literal">_all</code> value targets only missing or closed indices.
This behavior applies even if the request targets other open indices.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Type of index that wildcard patterns can match.
If the request can target data streams, this argument determines whether wildcard expressions match hidden data streams.
Supports a list of values, such as <code class="literal">open,hidden</code>.
Valid values are: <code class="literal">all</code>, <code class="literal">open</code>, <code class="literal">closed</code>, <code class="literal">hidden</code>, <code class="literal">none</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: If <code class="literal">false</code>, the request returns an error if it targets a missing or closed index.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_reload_search_analyzers"></a>reload_search_analyzers</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Reload search analyzers.
Reload an index&#8217;s search analyzers and their resources.
For data streams, the API reloads search analyzers and resources for the stream&#8217;s backing indices.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>After reloading the search analyzers you should clear the request cache to make sure it doesn&#8217;t contain responses derived from the previous versions of the analyzer.</p>
</div>
</div>
<p>You can use the reload search analyzers API to pick up changes to synonym files used in the <code class="literal">synonym_graph</code> or <code class="literal">synonym</code> token filter of a search analyzer.
To be eligible, the token filter must have an <code class="literal">updateable</code> flag of <code class="literal">true</code> and only be used in search analyzers.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This API does not perform a reload for each shard of an index.
Instead, it performs a reload for each node containing index shards.
As a result, the total shard count returned by the API can differ from the number of index shards.
Because reloading affects every node with an index shard, it is important to update the synonym file on every data node in the cluster&#8212;&#8203;including nodes that don&#8217;t contain a shard replica&#8212;&#8203;before using this API.
This ensures the synonym file is updated everywhere in the cluster in case shards are relocated in the future.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/8.18/indices-reload-analyzers.html" class="ulink" target="_top">Endpoint documentation</a></p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">client.indices.reloadSearchAnalyzers({ index })</pre>
</div>
<div class="position-relative"><h4><a id="_arguments_212"></a>Arguments</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Request (object):</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><code class="literal">index</code> (string | string[])</strong></span>: A list of index names to reload analyzers for
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">allow_no_indices</code> (Optional, boolean)</strong></span>: Whether to ignore if a wildcard indices expression resolves into no concrete indices. (This includes <code class="literal">_all</code> string or when no indices have been specified)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">expand_wildcards</code> (Optional, Enum("all" | "open" | "closed" | "hidden" | "none") | Enum("all" | "open" | "closed" | "hidden" | "none")[])</strong></span>: Whether to expand wildcard expression to concrete indices that are open, closed or both.
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">ignore_unavailable</code> (Optional, boolean)</strong></span>: Whether specified concrete indices should be ignored when unavailable (missing or closed)
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">resource</code> (Optional, string)</strong></span>: Changed resource to reload analyzers from if applicable
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_resolve_cluster"></a>resolve_cluster</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/8.18/docs/reference.asciidoc">edit</a></div>
<p>Resolve the cluster.</p>
<p>Resolve the specified index expressions to return information about each cluster, including the local "querying" cluster, if included.
If no index expression is provided, the API will return information about all the remote clusters that are configured on the querying cluster.</p>
<p>This endpoint is useful before doing a cross-cluster search in order to determine which remote clusters should be included in a search.</p>
<p>You use the same index expression with this endpoint as you would for cross-cluster search.
Index and cluster exclusions are also supported with this endpoint.</p>
<p>For each cluster in the index expression, information is returned about:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Whether the querying ("local") cluster is currently connected to each remote cluster specified in the index expression. Note that this endpoint actively attempts to contact the remote clusters, unlike the <code class="literal">remote/info</code> endpoint.
</li>
<li class="listitem">
Whether each remote cluster is configured with <code class="literal">skip_unavailable</code> as <code class="literal">true</code> or <code class="literal">false</code>.
</li>
<li class="listitem">
Whether there are any indices, aliases, or data streams on that cluster that match the index expression.
</li>
<li class="listitem">
Whether the search is likely to have errors returned when you do the cross-cluster search (including any authorization errors if you do not have permission to query the index).
</li>
<li class="listitem">
Cluster version information, including the Elasticsearch server version.
</li>
</ul>
</div>
<p>For example, <code class="literal">GET /_resolve/cluster/my-index-*,cluster*:my-index-*</code> returns information about the local cluster and all remotely configured clusters that start with the alias <code class="literal">cluster*</code>.
Each cluster returns information about whether it has any indices, aliases or data streams that match <code class="literal">my-index-*</code>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="typescript.html">« TypeScript support</a>
</span>
<span class="next">
<a href="_note_on_backwards_compatibility.html">Note on backwards compatibility »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
