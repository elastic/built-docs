<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Quick Start | Elasticsearch.Net and NEST: the .NET clients [1.x] | Elastic</title>
<meta class="elastic" name="content" content="Quick Start | Elasticsearch.Net and NEST: the .NET clients [1.x]">

<link rel="home" href="index.html" title="Elasticsearch.Net and NEST: the .NET clients [1.x]"/>
<link rel="up" href="nest.html" title="NEST"/>
<link rel="prev" href="nest.html" title="NEST"/>
<link rel="next" href="nest-connecting.html" title="Connecting"/>
<meta class="elastic" name="product_version" content="1.x"/>
<meta class="elastic" name="product_name" content="Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Clients/.Net/1.x"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="1.x"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.x has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch.Net and NEST:    the .NET clients [1.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="nest.html">NEST</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="nest.html">« NEST</a>
</span>
<span class="next">
<a href="nest-connecting.html">Connecting »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="nest-quick-start"></a>Quick Start<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-net/edit/1.x/docs/nest/quick-start.asciidoc">edit</a></h2>
</div></div></div>
<p><code class="literal">NEST</code> is a high level <code class="literal">elasticsearch</code> client that still maps very closely to the original <code class="literal">elasticsearch</code> API.
Requests and Responses have been mapped to CLR objects and <code class="literal">NEST</code> also comes with a powerful strongly typed query dsl.</p>
<h3><a id="_installing_2"></a>Installing<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-net/edit/1.x/docs/nest/quick-start.asciidoc">edit</a></h3>
<p>From the package manager console inside visual studio</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">PM&gt; Install-Package NEST</pre>
</div>
<p>Or search in the Package Manager UI for <code class="literal">NEST</code> and go from there</p>
<h4><a id="_connecting_2"></a>Connecting<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-net/edit/1.x/docs/nest/quick-start.asciidoc">edit</a></h4>
<p>Assumming Elasticsearch is already installed and running on your machine, go to <a href="http://localhost:9200" class="ulink" target="_top">http://localhost:9200</a> in your browser.
You should see a similar response to this:</p>
<div class="pre_wrapper lang-javascript">
<pre class="programlisting prettyprint lang-javascript">{
  "status" : 200,
  "name" : "Sin-Eater",
  "version" : {
    "number" : "1.0.0",
    "build_hash" : "a46900e9c72c0a623d71b54016357d5f94c8ea32",
    "build_timestamp" : "2014-02-12T16:18:34Z",
    "build_snapshot" : false,
    "lucene_version" : "4.6"
  },
  "tagline" : "You Know, for Search"
}</pre>
</div>
<p>To connect to your local node using NEST, simply:</p>
<div class="pre_wrapper lang-csharp">
<pre class="programlisting prettyprint lang-csharp">var node = new Uri("http://localhost:9200");

var settings = new ConnectionSettings(
    node,
    defaultIndex: "my-application"
);

var client = new ElasticClient(settings);</pre>
</div>
<p>Here we create new a connection to our <code class="literal">node</code> and specify a <code class="literal">default index</code> to use when we don&#8217;t explictly specify one.
This can greatly reduce the places a magic string or constant has to be used.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Specifying <code class="literal">defaultIndex</code> is optional but NEST might throw an exception later on if no index is specified.</p>
<p>In fact a simple <code class="literal">new ElasticClient()</code> is sufficient to chat with<code class="literal">http://localhost:9200</code> but explicitly specifying connection settings is recommended.</p>
</div>
</div>
<p><code class="literal">node</code> here is a <code class="literal">Uri</code> but can also be an <code class="literal">IConnectionPool</code> see the
<a class="xref" href="nest-connecting.html" title="Connecting">section on connecting</a></p>
<h3><a id="_indexing"></a>Indexing<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-net/edit/1.x/docs/nest/quick-start.asciidoc">edit</a></h3>
<p>Now imagine we have a Person <a href="http://en.wikipedia.org/wiki/Plain_Old_CLR_Object" class="ulink" target="_top">POCO</a></p>
<div class="pre_wrapper lang-csharp">
<pre class="programlisting prettyprint lang-csharp">public class Person
{
    public string Id { get; set; }
    public string Firstname { get; set; }
    public string Lastname { get; set; }
}</pre>
</div>
<p>That we would like to index in Elasticsearch. Indexing is now as simple as calling.</p>
<div class="pre_wrapper lang-csharp">
<pre class="programlisting prettyprint lang-csharp">var person = new Person
{
    Id = "1",
    Firstname = "Martijn",
    Lastname = "Laarman"
};

var index = client.Index(person);</pre>
</div>
<p>This will index the object to <code class="literal">/my-application/person/1</code>. <code class="literal">NEST</code> is smart enough to infer the index
and typename for the <code class="literal">Person</code> CLR type. It was also able to get the id of <code class="literal">1</code> through convention,
by looking for an <code class="literal">Id</code> property on the specified object.
Which property it will use for the Id can also be specified using the <code class="literal">ElasticType</code> attribute.</p>
<p>The default index and type names are configurable per type. See the <a class="xref" href="nest-connecting.html" title="Connecting">nest section on connecting</a>.</p>
<p>Imagine you want to override all the defaults for this one call, you should be able to do this with <code class="literal">NEST</code> and yes you can. <code class="literal">NEST</code> inferring is very powerful but if you want to pass explicit values you can <span class="strong strong"><strong>always</strong></span> do so.</p>
<div class="pre_wrapper lang-csharp">
<pre class="programlisting prettyprint lang-csharp">var index = client.Index(person, i=&gt;i
    .Index("another-index")
    .Type("another-type")
    .Id("1-should-not-be-the-id")
    .Refresh()
    .Ttl("1m")
);</pre>
</div>
<p>This will index the document using <code class="literal">/another-index/another-type/1-should-not-be-the-id?refresh=true&amp;&amp;ttl=1m</code> as the url.</p>
<h3><a id="_searching"></a>Searching<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-net/edit/1.x/docs/nest/quick-start.asciidoc">edit</a></h3>
<p>Now that we have indexed some documents we can begin to search for them.</p>
<div class="pre_wrapper lang-csharp">
<pre class="programlisting prettyprint lang-csharp">var searchResults = client.Search&lt;Person&gt;(s=&gt;s
    .From(0)
    .Size(10)
    .Query(q=&gt;q
         .Term(p=&gt;p.Firstname, "martijn")
    )
);</pre>
</div>
<p><code class="literal">searchResults.Documents</code> now holds the first 10 people it knows whose first name is <code class="literal">Martijn</code></p>
<p>Please see <a class="xref" href="writing-queries.html" title="Writing Queries">the section on writing queries</a> for details on how NEST helps you write terse elasticsearch queries.</p>
<p>Again, the same inferring rules apply as this will hit <code class="literal">/my-application/person/_search</code> and the same rule that
inferring can be overridden also applies.</p>
<div class="pre_wrapper lang-csharp">
<pre class="programlisting prettyprint lang-csharp">// uses /other-index/other-type/_search
var searchResults = client.Search&lt;Person&gt;(s=&gt;s
    .Index("other-index")
    .OtherType("other-type")
);

// uses /_all/person/_search
var searchResults = client.Search&lt;Person&gt;(s=&gt;s
   .AllIndices()
);

// uses /_search
var searchResults = client.Search&lt;Person&gt;(s=&gt;s
    .AllIndices()
    .AllTypes()
);</pre>
</div>
<h4><a id="_object_initializer_syntax_ois"></a>Object Initializer Syntax (OIS)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-net/edit/1.x/docs/nest/quick-start.asciidoc">edit</a></h4>
<p>As you can see from the previous examples, NEST provides a terse, fluent syntax for constructing API calls to Elasticsearch.
However, fear not if lambdas aren&#8217;t your thing, you can now use the new object initializer syntax (OIS) introduced in 1.0.</p>
<p>The OIS is an alternative to the familiar fluent syntax of NEST and works on all API endpoints.
Anything that can be done with the fluent syntax can now also be done using the OIS.</p>
<p>For example, the earlier indexing example above can be re-written as</p>
<div class="pre_wrapper lang-csharp">
<pre class="programlisting prettyprint lang-csharp">var indexRequest = new IndexRequest&lt;Person&gt;(person)
{
    Index = "another-index",
    Type = "another-type",
    Id = "1-should-not-be-the-id",
    Refresh = true,
    Ttl = "1m"
};

var index = client.Index(indexRequest);</pre>
</div>
<p>and for searching</p>
<div class="pre_wrapper lang-csharp">
<pre class="programlisting prettyprint lang-csharp">QueryContainer query = new TermQuery
{
    Field = "firstName",
    Value = "martijn"
};

var searchRequest = new SearchRequest
{
    From = 0,
    Size = 10,
    Query = query
};

var searchResults = Client.Search&lt;Person&gt;(searchRequest);</pre>
</div>
<p>Many of the examples throughout this documentation will be written in both forms.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="nest.html">« NEST</a>
</span>
<span class="next">
<a href="nest-connecting.html">Connecting »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
