<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Help for plugin authors | Elasticsearch Plugins and Integrations [8.3] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Plugins and Integrations [8.3]"/>
<link rel="up" href="index.html" title="Elasticsearch Plugins and Integrations [8.3]"/>
<link rel="prev" href="integrations.html" title="Integrations"/>
<link rel="next" href="redirects.html" title="Appendix A: Deleted pages"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Plugins/8.3"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.3"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Plugins and Integrations [8.3]</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="integrations.html">« Integrations</a>
</span>
<span class="next">
<a href="redirects.html">Appendix A: Deleted pages »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="plugin-authors"></a>Help for plugin authors<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/plugins/authors.asciidoc">edit</a></h1>
</div></div></div>
<p>The Elasticsearch repository contains <a href="https://github.com/elastic/elasticsearch/tree/master/plugins/examples" class="ulink" target="_top">examples of plugins</a>. Some of these include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
a plugin with <a href="https://github.com/elastic/elasticsearch/tree/master/plugins/examples/custom-settings" class="ulink" target="_top">custom settings</a>
</li>
<li class="listitem">
adding <a href="https://github.com/elastic/elasticsearch/tree/master/plugins/examples/rest-handler" class="ulink" target="_top">custom rest endpoints</a>
</li>
<li class="listitem">
adding a <a href="https://github.com/elastic/elasticsearch/tree/master/plugins/examples/rescore" class="ulink" target="_top">custom rescorer</a>
</li>
<li class="listitem">
a script <a href="https://github.com/elastic/elasticsearch/tree/master/plugins/examples/script-expert-scoring" class="ulink" target="_top">implemented in Java</a>
</li>
</ul>
</div>
<p>These examples provide the bare bones needed to get started. For more
information about how to write a plugin, we recommend looking at the plugins
listed in this documentation for inspiration.</p>
<h3><a id="_plugin_descriptor_file"></a>Plugin descriptor file<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/plugins/authors.asciidoc">edit</a></h3>
<p>All plugins must contain a file called <code class="literal">plugin-descriptor.properties</code>.
The format for this file is described in detail in this example:</p>
<div class="pre_wrapper lang-properties">
<pre class="programlisting prettyprint lang-properties"># Elasticsearch plugin descriptor file
# This file must exist as 'plugin-descriptor.properties' inside a plugin.
#
### example plugin for "foo"
#
# foo.zip &lt;-- zip file for the plugin, with this structure:
# |____   &lt;arbitrary name1&gt;.jar &lt;-- classes, resources, dependencies
# |____   &lt;arbitrary nameN&gt;.jar &lt;-- any number of jars
# |____   plugin-descriptor.properties &lt;-- example contents below:
#
# classname=foo.bar.BazPlugin
# description=My cool plugin
# version=6.0
# elasticsearch.version=6.0
# java.version=1.8
#
### mandatory elements for all plugins:
#
# 'type': the type of this plugin. 'isolated' indicated a typical sandboxed plugin,
# whereas 'bootstrap' indicates a plugin whose jars are added to the JVM's boot
# classpath.
type=${type}
#
# 'description': simple summary of the plugin
description=${description}
#
# 'version': plugin's version
version=${version}
#
# 'name': the plugin name
name=${name}
&lt;% if (type != "bootstrap") { %&gt;
#
# 'classname': the name of the class to load, fully-qualified. Only applies to
# "isolated" plugins
classname=${classname}
#
# 'modulename': the name of the module to load classname from. Only applies to
# "isolated" plugins. This is optional. Specifying it causes the plugin
# to be loaded as a module.
modulename=${modulename}
&lt;% } %&gt;
#
# 'java.version': version of java the code is built against
# use the system property java.specification.version
# version string must be a sequence of nonnegative decimal integers
# separated by "."'s and may have leading zeros
java.version=${javaVersion}
#
# 'elasticsearch.version': version of elasticsearch compiled against
elasticsearch.version=${elasticsearchVersion}
### optional elements for plugins:
#
#  'extended.plugins': other plugins this plugin extends through SPI
extended.plugins=${extendedPlugins}
#
# 'has.native.controller': whether or not the plugin has a native controller
has.native.controller=${hasNativeController}
&lt;% if (type == "bootstrap") { %&gt;
#
# 'java.opts': any additional command line parameters to pass to the JVM when
# Elasticsearch starts. Only applies to "bootstrap" plugins.
java.opts=${javaOpts}
&lt;% } %&gt;
&lt;% if (licensed) { %&gt;
# This plugin requires that a license agreement be accepted before installation
licensed=${licensed}
&lt;% } %&gt;</pre>
</div>
<p>Either fill in this template yourself or, if you are using Elasticsearch&#8217;s Gradle build system, you
can fill in the necessary values in the <code class="literal">build.gradle</code> file for your plugin.</p>
<h4><a id="_mandatory_elements_for_plugins"></a>Mandatory elements for plugins<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/plugins/authors.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Element</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">description</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>simple summary of the plugin</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">version</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>plugin&#8217;s version</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">name</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>the plugin name</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">classname</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>the name of the class to load, fully-qualified.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">java.version</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>version of java the code is built against.
Use the system property <code class="literal">java.specification.version</code>. Version string must be a sequence
of nonnegative decimal integers separated by "."'s and may have leading zeros.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">elasticsearch.version</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>version of Elasticsearch compiled against.</p></td>
</tr>
</tbody>
</table>
</div>
<p>Note that only jar files at the root of the plugin are added to the classpath for the plugin!
If you need other resources, package them into a resources jar.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Plugin release lifecycle</h3>
<p>You will have to release a new version of the plugin for each new Elasticsearch release.
This version is checked when the plugin is loaded so Elasticsearch will refuse to start
in the presence of plugins with the incorrect <code class="literal">elasticsearch.version</code>.</p>
</div>
</div>
<h3><a id="_testing_your_plugin"></a>Testing your plugin<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/plugins/authors.asciidoc">edit</a></h3>
<p>When testing a Java plugin, it will only be auto-loaded if it is in the
<code class="literal">plugins/</code> directory. Use <code class="literal">bin/elasticsearch-plugin install file:///path/to/your/plugin</code>
to install your plugin for testing.</p>
<p>You may also load your plugin within the test framework for integration tests.
Read more in <a href="/guide/en/elasticsearch/reference/8.3/integration-tests.html#changing-node-configuration" class="ulink" target="_top">Changing Node Configuration</a>.</p>
<h3><a id="plugin-authors-jsm"></a>Java Security permissions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/plugins/authors.asciidoc">edit</a></h3>
<p>Some plugins may need additional security permissions. A plugin can include
the optional <code class="literal">plugin-security.policy</code> file containing <code class="literal">grant</code> statements for
additional permissions. Any additional permissions will be displayed to the user
with a large warning, and they will have to confirm them when installing the
plugin interactively. So if possible, it is best to avoid requesting any
spurious permissions!</p>
<p>If you are using the Elasticsearch Gradle build system, place this file in
<code class="literal">src/main/plugin-metadata</code> and it will be applied during unit tests as well.</p>
<p>Keep in mind that the Java security model is stack-based, and the additional
permissions will only be granted to the jars in your plugin, so you will have
write proper security code around operations requiring elevated privileges.
It is recommended to add a check to prevent unprivileged code (such as scripts)
from gaining escalated permissions. For example:</p>
<div class="pre_wrapper lang-java">
<pre class="programlisting prettyprint lang-java">// ES permission you should check before doPrivileged() blocks
import org.elasticsearch.SpecialPermission;

SecurityManager sm = System.getSecurityManager();
if (sm != null) {
  // unprivileged code such as scripts do not have SpecialPermission
  sm.checkPermission(new SpecialPermission());
}
AccessController.doPrivileged(
  // sensitive operation
);</pre>
</div>
<p>See <a href="https://www.oracle.com/technetwork/java/seccodeguide-139067.html" class="ulink" target="_top">Secure Coding Guidelines for Java SE</a>
for more information.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="integrations.html">« Integrations</a>
</span>
<span class="next">
<a href="redirects.html">Appendix A: Deleted pages »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
