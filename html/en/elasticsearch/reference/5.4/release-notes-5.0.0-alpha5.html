<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>5.0.0-alpha5 Release Notes | Elasticsearch Reference [5.4] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [5.4]"/>
<link rel="up" href="es-release-notes.html" title="Release Notes"/>
<link rel="prev" href="release-notes-5.0.0-beta1.html" title="5.0.0-beta1 Release Notes"/>
<link rel="next" href="release-notes-5.0.0-alpha4.html" title="5.0.0-alpha4 Release Notes"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/5.4"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="5.4"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.4 of Elasticsearch has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [5.4]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-5.0.0-beta1.html">« 5.0.0-beta1 Release Notes</a>
</span>
<span class="next">
<a href="release-notes-5.0.0-alpha4.html">5.0.0-alpha4 Release Notes »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-5.0.0-alpha5"></a>5.0.0-alpha5 Release Notes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.4/docs/reference/release-notes/5.0.0-alpha5.asciidoc">edit</a></h2>
</div></div></div>
<p>Also see <a class="xref" href="breaking-changes-5.0.html" title="Breaking changes in 5.0"><em>Breaking changes in 5.0</em></a>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>This is an alpha release and is intended for <em>testing purposes only</em>. Indices created in this version will <span class="strong strong"><strong>not be compatible with Elasticsearch 5.0.0 GA</strong></span>. Upgrading 5.0.0-alpha5 to any other version is not supported.</p>
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Known networking bug in 5.0.0-alpha5</h3>
<p>There is a major bug in the new Netty4 implementation in this release which
affects any REST requests greater than 1024 bytes in size, and which will
generate an exception similar to the following:</p>
<div class="pre_wrapper lang-txt">
<pre class="programlisting prettyprint lang-txt">[WARN ][http.netty4] [wtOV9Vb] caught exception while handling client http traffic, closing connection [id: 0x1320b717, L:/0:0:0:0:0:0:0:1:9200 - R:/0:0:0:0:0:0:0:1:54732]
java.lang.UnsupportedOperationException: unsupported message type: DefaultFullHttpResponse (expected: ByteBuf, FileRegion)</pre>
</div>
<p>This is due to incorrect handling of the <code class="literal">Expect</code> HTTP header, and it can be
worked around in one of three ways:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use a client which does not add <code class="literal">Expect</code> headers (including the official clients).
</li>
<li class="listitem">
<p>Pass a blank <code class="literal">Except</code> header, e.g.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -H 'Expect:' ...</pre>
</div>
</li>
<li class="listitem">
<p>Use Netty3 for the HTTP layer by passing the following setting at startup:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./bin/elasticsearch -Ehttp.type=netty3</pre>
</div>
</li>
</ul>
</div>
</div>
</div>
<h3><a id="breaking-5.0.0-alpha5"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.4/docs/reference/release-notes/5.0.0-alpha5.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
CAT API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve cat thread pool API <a href="https://github.com/elastic/elasticsearch/pull/19721" class="ulink" target="_top">#19721</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19590" class="ulink" target="_top">#19590</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Persistent Node Ids <a href="https://github.com/elastic/elasticsearch/pull/19140" class="ulink" target="_top">#19140</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17811" class="ulink" target="_top">#17811</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Keep input time unit when parsing TimeValues <a href="https://github.com/elastic/elasticsearch/pull/19102" class="ulink" target="_top">#19102</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Exceptions
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Die with dignity <a href="https://github.com/elastic/elasticsearch/pull/19272" class="ulink" target="_top">#19272</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19231" class="ulink" target="_top">#19231</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Index APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Removes write consistency level across replication action APIs in favor of wait_for_active_shards <a href="https://github.com/elastic/elasticsearch/pull/19454" class="ulink" target="_top">#19454</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18985" class="ulink" target="_top">#18985</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove deprecated 1.x script and template syntax <a href="https://github.com/elastic/elasticsearch/pull/19387" class="ulink" target="_top">#19387</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13729" class="ulink" target="_top">#13729</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Rename <code class="literal">fields</code> to <code class="literal">stored_fields</code> and add <code class="literal">docvalue_fields</code> <a href="https://github.com/elastic/elasticsearch/pull/18992" class="ulink" target="_top">#18992</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18943" class="ulink" target="_top">#18943</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Persistent Node Names <a href="https://github.com/elastic/elasticsearch/pull/19456" class="ulink" target="_top">#19456</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19140" class="ulink" target="_top">#19140</a>)
</li>
<li class="listitem">
Remove support for properties <a href="https://github.com/elastic/elasticsearch/pull/19398" class="ulink" target="_top">#19398</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/19388" class="ulink" target="_top">#19388</a>, <a href="https://github.com/elastic/elasticsearch/issues/19391" class="ulink" target="_top">#19391</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="breaking-java-5.0.0-alpha5"></a>Breaking Java changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.4/docs/reference/release-notes/5.0.0-alpha5.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Removing isCreated and isFound from the Java API <a href="https://github.com/elastic/elasticsearch/pull/19645" class="ulink" target="_top">#19645</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/19566" class="ulink" target="_top">#19566</a>, <a href="https://github.com/elastic/elasticsearch/issues/19631" class="ulink" target="_top">#19631</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clean up BytesReference <a href="https://github.com/elastic/elasticsearch/pull/19196" class="ulink" target="_top">#19196</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a dedicated client/transport project for transport-client <a href="https://github.com/elastic/elasticsearch/pull/19435" class="ulink" target="_top">#19435</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19412" class="ulink" target="_top">#19412</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Factor out abstract TCPTransport* classes to reduce the netty footprint <a href="https://github.com/elastic/elasticsearch/pull/19096" class="ulink" target="_top">#19096</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Migrate query registration from push to pull <a href="https://github.com/elastic/elasticsearch/pull/19376" class="ulink" target="_top">#19376</a>
</li>
<li class="listitem">
Add components getter as bridge between guice and new plugin init world <a href="https://github.com/elastic/elasticsearch/pull/19371" class="ulink" target="_top">#19371</a>
</li>
<li class="listitem">
Remove CustomNodeAttributes extension point <a href="https://github.com/elastic/elasticsearch/pull/19348" class="ulink" target="_top">#19348</a>
</li>
<li class="listitem">
Add RepositoryPlugin interface for registering snapshot repositories <a href="https://github.com/elastic/elasticsearch/pull/19324" class="ulink" target="_top">#19324</a>
</li>
<li class="listitem">
Simplified repository api for snapshot/restore <a href="https://github.com/elastic/elasticsearch/pull/19292" class="ulink" target="_top">#19292</a>
</li>
<li class="listitem">
Switch most search extensions from push to pull <a href="https://github.com/elastic/elasticsearch/pull/19238" class="ulink" target="_top">#19238</a>
</li>
<li class="listitem">
Move RestHandler registration to ActionModule and ActionPlugin <a href="https://github.com/elastic/elasticsearch/pull/19165" class="ulink" target="_top">#19165</a>
</li>
<li class="listitem">
Pull actions from plugins <a href="https://github.com/elastic/elasticsearch/pull/19108" class="ulink" target="_top">#19108</a>
</li>
<li class="listitem">
Switch analysis from push to pull <a href="https://github.com/elastic/elasticsearch/pull/19073" class="ulink" target="_top">#19073</a>
</li>
<li class="listitem">
Remove guice from Mapper plugins <a href="https://github.com/elastic/elasticsearch/pull/19018" class="ulink" target="_top">#19018</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove o.e.script.Template class and move template query to lang-mustache module <a href="https://github.com/elastic/elasticsearch/pull/19425" class="ulink" target="_top">#19425</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16314" class="ulink" target="_top">#16314</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove <code class="literal">node.mode</code> and <code class="literal">node.local</code> settings <a href="https://github.com/elastic/elasticsearch/pull/19428" class="ulink" target="_top">#19428</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Removes extra writeBlob method in BlobContainer <a href="https://github.com/elastic/elasticsearch/pull/19727" class="ulink" target="_top">#19727</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18528" class="ulink" target="_top">#18528</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="deprecation-5.0.0-alpha5"></a>Deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.4/docs/reference/release-notes/5.0.0-alpha5.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate found and created in delete and index rest responses <a href="https://github.com/elastic/elasticsearch/pull/19633" class="ulink" target="_top">#19633</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Discovery Azure Classic
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate discovery-azure and rename it to discovery-azure-classic <a href="https://github.com/elastic/elasticsearch/pull/19186" class="ulink" target="_top">#19186</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19144" class="ulink" target="_top">#19144</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Templates
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate template query <a href="https://github.com/elastic/elasticsearch/pull/19607" class="ulink" target="_top">#19607</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19390" class="ulink" target="_top">#19390</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="feature-5.0.0-alpha5"></a>New features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.4/docs/reference/release-notes/5.0.0-alpha5.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Split regular histograms from date histograms. <a href="https://github.com/elastic/elasticsearch/pull/19551" class="ulink" target="_top">#19551</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/4847" class="ulink" target="_top">#4847</a>, <a href="https://github.com/elastic/elasticsearch/issues/8082" class="ulink" target="_top">#8082</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Circuit Breakers
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Circuit break on aggregation bucket numbers with request breaker <a href="https://github.com/elastic/elasticsearch/pull/19394" class="ulink" target="_top">#19394</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14046" class="ulink" target="_top">#14046</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ingest-useragent plugin <a href="https://github.com/elastic/elasticsearch/pull/19074" class="ulink" target="_top">#19074</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce async performRequest method <a href="https://github.com/elastic/elasticsearch/pull/19400" class="ulink" target="_top">#19400</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">scaled_float</code>. <a href="https://github.com/elastic/elasticsearch/pull/19264" class="ulink" target="_top">#19264</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/15939" class="ulink" target="_top">#15939</a>, <a href="https://github.com/elastic/elasticsearch/issues/1941" class="ulink" target="_top">#1941</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Repository S3
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for path_style_access <a href="https://github.com/elastic/elasticsearch/pull/15114" class="ulink" target="_top">#15114</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reindex API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reindex from remote <a href="https://github.com/elastic/elasticsearch/pull/18585" class="ulink" target="_top">#18585</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17447" class="ulink" target="_top">#17447</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Translog
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">elasticsearch-translog</code> CLI tool with <code class="literal">truncate</code> command <a href="https://github.com/elastic/elasticsearch/pull/19342" class="ulink" target="_top">#19342</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19123" class="ulink" target="_top">#19123</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="enhancement-5.0.0-alpha5"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.4/docs/reference/release-notes/5.0.0-alpha5.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make the heuristic to compute the default shard size less aggressive. <a href="https://github.com/elastic/elasticsearch/pull/19659" class="ulink" target="_top">#19659</a>
</li>
<li class="listitem">
Add _bucket_count option to buckets_path <a href="https://github.com/elastic/elasticsearch/pull/19571" class="ulink" target="_top">#19571</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19553" class="ulink" target="_top">#19553</a>)
</li>
<li class="listitem">
Remove AggregationStreams <a href="https://github.com/elastic/elasticsearch/pull/19507" class="ulink" target="_top">#19507</a>
</li>
<li class="listitem">
Migrate serial_diff aggregation to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19483" class="ulink" target="_top">#19483</a>
</li>
<li class="listitem">
Migrate most remaining pipeline aggregations to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19480" class="ulink" target="_top">#19480</a>
</li>
<li class="listitem">
Migrate moving_avg pipeline aggregation to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19420" class="ulink" target="_top">#19420</a>
</li>
<li class="listitem">
Migrate matrix_stats to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19418" class="ulink" target="_top">#19418</a>
</li>
<li class="listitem">
Migrate derivative pipeline aggregation to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19407" class="ulink" target="_top">#19407</a>
</li>
<li class="listitem">
Migrate top_hits, histogram, and ip_range aggregations to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19375" class="ulink" target="_top">#19375</a>
</li>
<li class="listitem">
Migrate nested, reverse_nested, and children aggregations to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19374" class="ulink" target="_top">#19374</a>
</li>
<li class="listitem">
Migrate geohash_grid and geo_bounds aggregations to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19372" class="ulink" target="_top">#19372</a>
</li>
<li class="listitem">
Clean up significant terms aggregation results <a href="https://github.com/elastic/elasticsearch/pull/19365" class="ulink" target="_top">#19365</a>
</li>
<li class="listitem">
Migrate range, date_range, and geo_distance aggregations to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19321" class="ulink" target="_top">#19321</a>
</li>
<li class="listitem">
Migrate terms aggregation to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19277" class="ulink" target="_top">#19277</a>
</li>
<li class="listitem">
Migrate sampler and missing aggregations to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19259" class="ulink" target="_top">#19259</a>
</li>
<li class="listitem">
Migrate global, filter, and filters aggregation to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19220" class="ulink" target="_top">#19220</a>
</li>
<li class="listitem">
Migrate the cardinality, scripted_metric, and geo_centroid aggregations to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19219" class="ulink" target="_top">#19219</a>
</li>
<li class="listitem">
Use a static default precision for the cardinality aggregation. <a href="https://github.com/elastic/elasticsearch/pull/19215" class="ulink" target="_top">#19215</a>
</li>
<li class="listitem">
Migrate more aggregations to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19199" class="ulink" target="_top">#19199</a>
</li>
<li class="listitem">
Migrate stats and extended stats to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19198" class="ulink" target="_top">#19198</a>
</li>
<li class="listitem">
Migrate sum, min, and max aggregations over to NamedWriteable <a href="https://github.com/elastic/elasticsearch/pull/19194" class="ulink" target="_top">#19194</a>
</li>
<li class="listitem">
Start migration away from aggregation streams <a href="https://github.com/elastic/elasticsearch/pull/19097" class="ulink" target="_top">#19097</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Specify custom char_filters/tokenizer/token_filters in the analyze API <a href="https://github.com/elastic/elasticsearch/pull/15671" class="ulink" target="_top">#15671</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/8878" class="ulink" target="_top">#8878</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CAT API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Includes the index UUID in the _cat/indices API <a href="https://github.com/elastic/elasticsearch/pull/19204" class="ulink" target="_top">#19204</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19132" class="ulink" target="_top">#19132</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
#19664 Renaming operation to result and reworking responses  <a href="https://github.com/elastic/elasticsearch/pull/19704" class="ulink" target="_top">#19704</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19664" class="ulink" target="_top">#19664</a>)
</li>
<li class="listitem">
Adding _operation field to index, update, delete response. <a href="https://github.com/elastic/elasticsearch/pull/19566" class="ulink" target="_top">#19566</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/19267" class="ulink" target="_top">#19267</a>, <a href="https://github.com/elastic/elasticsearch/issues/9642" class="ulink" target="_top">#9642</a>, <a href="https://github.com/elastic/elasticsearch/issues/9736" class="ulink" target="_top">#9736</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cache
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable option to use request cache for size &gt; 0 <a href="https://github.com/elastic/elasticsearch/pull/19472" class="ulink" target="_top">#19472</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Batch process node left and node failure <a href="https://github.com/elastic/elasticsearch/pull/19289" class="ulink" target="_top">#19289</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19282" class="ulink" target="_top">#19282</a>)
</li>
<li class="listitem">
Index creation waits for write consistency shards <a href="https://github.com/elastic/elasticsearch/pull/18985" class="ulink" target="_top">#18985</a>
</li>
<li class="listitem">
Inline reroute with process of node join/master election <a href="https://github.com/elastic/elasticsearch/pull/18938" class="ulink" target="_top">#18938</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17270" class="ulink" target="_top">#17270</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Makes index creation more friendly <a href="https://github.com/elastic/elasticsearch/pull/19450" class="ulink" target="_top">#19450</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/9126" class="ulink" target="_top">#9126</a>)
</li>
<li class="listitem">
Clearer error when handling fractional time values <a href="https://github.com/elastic/elasticsearch/pull/19158" class="ulink" target="_top">#19158</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19102" class="ulink" target="_top">#19102</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Discovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Do not log cluster service errors at after joining a master <a href="https://github.com/elastic/elasticsearch/pull/19705" class="ulink" target="_top">#19705</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Exceptions
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make NotMasterException a first class citizen <a href="https://github.com/elastic/elasticsearch/pull/19385" class="ulink" target="_top">#19385</a>
</li>
<li class="listitem">
Do not catch throwable <a href="https://github.com/elastic/elasticsearch/pull/19231" class="ulink" target="_top">#19231</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
GeoBoundingBoxQueryBuilder should throw IAE when topLeft and bottomRight are the same coordinate <a href="https://github.com/elastic/elasticsearch/pull/18668" class="ulink" target="_top">#18668</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/18458" class="ulink" target="_top">#18458</a>, <a href="https://github.com/elastic/elasticsearch/issues/18631" class="ulink" target="_top">#18631</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add REST _ingest/pipeline to get all pipelines <a href="https://github.com/elastic/elasticsearch/pull/19603" class="ulink" target="_top">#19603</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19585" class="ulink" target="_top">#19585</a>)
</li>
<li class="listitem">
Show ignored errors in verbose simulate result <a href="https://github.com/elastic/elasticsearch/pull/19404" class="ulink" target="_top">#19404</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19319" class="ulink" target="_top">#19319</a>)
</li>
<li class="listitem">
update foreach processor to only support one applied processor. <a href="https://github.com/elastic/elasticsearch/pull/19402" class="ulink" target="_top">#19402</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19345" class="ulink" target="_top">#19345</a>)
</li>
<li class="listitem">
Skip the execution of an empty pipeline <a href="https://github.com/elastic/elasticsearch/pull/19200" class="ulink" target="_top">#19200</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19192" class="ulink" target="_top">#19192</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make Priority an enum <a href="https://github.com/elastic/elasticsearch/pull/19448" class="ulink" target="_top">#19448</a>
</li>
<li class="listitem">
Snapshot UUIDs in blob names <a href="https://github.com/elastic/elasticsearch/pull/19421" class="ulink" target="_top">#19421</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/18156" class="ulink" target="_top">#18156</a>, <a href="https://github.com/elastic/elasticsearch/issues/18815" class="ulink" target="_top">#18815</a>, <a href="https://github.com/elastic/elasticsearch/issues/19002" class="ulink" target="_top">#19002</a>, <a href="https://github.com/elastic/elasticsearch/issues/7540" class="ulink" target="_top">#7540</a>)
</li>
<li class="listitem">
Add RestController method for deprecating in one step <a href="https://github.com/elastic/elasticsearch/pull/19343" class="ulink" target="_top">#19343</a>
</li>
<li class="listitem">
Tighten ensure atomic move cleanup <a href="https://github.com/elastic/elasticsearch/pull/19309" class="ulink" target="_top">#19309</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19036" class="ulink" target="_top">#19036</a>)
</li>
<li class="listitem">
Enable checkstyle ModifierOrder <a href="https://github.com/elastic/elasticsearch/pull/19214" class="ulink" target="_top">#19214</a>
</li>
<li class="listitem">
Expose task information from NodeClient <a href="https://github.com/elastic/elasticsearch/pull/19189" class="ulink" target="_top">#19189</a>
</li>
<li class="listitem">
Changed rest handler interface to take NodeClient <a href="https://github.com/elastic/elasticsearch/pull/19170" class="ulink" target="_top">#19170</a>
</li>
<li class="listitem">
Deprecate ExceptionsHelper.detailedMessage <a href="https://github.com/elastic/elasticsearch/pull/19160" class="ulink" target="_top">#19160</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19069" class="ulink" target="_top">#19069</a>)
</li>
<li class="listitem">
Factor out ChannelBuffer from BytesReference <a href="https://github.com/elastic/elasticsearch/pull/19129" class="ulink" target="_top">#19129</a>
</li>
<li class="listitem">
Cleanup Compressor interface <a href="https://github.com/elastic/elasticsearch/pull/19125" class="ulink" target="_top">#19125</a>
</li>
<li class="listitem">
Require executor name when calling scheduleWithFixedDelay <a href="https://github.com/elastic/elasticsearch/pull/17538" class="ulink" target="_top">#17538</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Start from a random node number so that clients do not overload the first node configured <a href="https://github.com/elastic/elasticsearch/pull/14143" class="ulink" target="_top">#14143</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add response body to ResponseException error message <a href="https://github.com/elastic/elasticsearch/pull/19653" class="ulink" target="_top">#19653</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19653" class="ulink" target="_top">#19653</a>)
</li>
<li class="listitem">
Simplify Sniffer initialization and automatically create the default HostsSniffer <a href="https://github.com/elastic/elasticsearch/pull/19599" class="ulink" target="_top">#19599</a>
</li>
<li class="listitem">
Remove duplicate dependency declaration for http client <a href="https://github.com/elastic/elasticsearch/pull/19580" class="ulink" target="_top">#19580</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19281" class="ulink" target="_top">#19281</a>)
</li>
<li class="listitem">
Add callback to customize http client settings <a href="https://github.com/elastic/elasticsearch/pull/19373" class="ulink" target="_top">#19373</a>
</li>
<li class="listitem">
Rest Client: add short performRequest method variants without params and/or body <a href="https://github.com/elastic/elasticsearch/pull/19340" class="ulink" target="_top">#19340</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19312" class="ulink" target="_top">#19312</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add log message about enforcing bootstrap checks <a href="https://github.com/elastic/elasticsearch/pull/19451" class="ulink" target="_top">#19451</a>
</li>
<li class="listitem">
Improve logging for batched cluster state updates <a href="https://github.com/elastic/elasticsearch/pull/19255" class="ulink" target="_top">#19255</a>
</li>
<li class="listitem">
Send HTTP Warning Header(s) for any Deprecation Usage from a REST request <a href="https://github.com/elastic/elasticsearch/pull/17804" class="ulink" target="_top">#17804</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17687" class="ulink" target="_top">#17687</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Elasticsearch should reject dynamic templates with unknown <code class="literal">match_mapping_type</code>. <a href="https://github.com/elastic/elasticsearch/pull/17285" class="ulink" target="_top">#17285</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16945" class="ulink" target="_top">#16945</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Explicitly tell Netty to not use unsafe <a href="https://github.com/elastic/elasticsearch/pull/19786" class="ulink" target="_top">#19786</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/19562" class="ulink" target="_top">#19562</a>, <a href="https://github.com/elastic/elasticsearch/issues/5624" class="ulink" target="_top">#5624</a>)
</li>
<li class="listitem">
Enable Netty 4 extensions <a href="https://github.com/elastic/elasticsearch/pull/19767" class="ulink" target="_top">#19767</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19526" class="ulink" target="_top">#19526</a>)
</li>
<li class="listitem">
Modularize netty <a href="https://github.com/elastic/elasticsearch/pull/19392" class="ulink" target="_top">#19392</a>
</li>
<li class="listitem">
Simplify TcpTransport interface by reducing send code to a single send method <a href="https://github.com/elastic/elasticsearch/pull/19223" class="ulink" target="_top">#19223</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Percolator
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Also support query term extract for queries wrapped inside a FunctionScoreQuery <a href="https://github.com/elastic/elasticsearch/pull/19184" class="ulink" target="_top">#19184</a>
</li>
<li class="listitem">
Add support for synonym query to percolator query term extraction <a href="https://github.com/elastic/elasticsearch/pull/19066" class="ulink" target="_top">#19066</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Discovery EC2
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use <code class="literal">DefaultAWSCredentialsProviderChain</code> AWS SDK class for credentials <a href="https://github.com/elastic/elasticsearch/pull/19561" class="ulink" target="_top">#19561</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19556" class="ulink" target="_top">#19556</a>)
</li>
<li class="listitem">
Support new Asia Pacific (Mumbai) ap-south-1 AWS region <a href="https://github.com/elastic/elasticsearch/pull/19112" class="ulink" target="_top">#19112</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19110" class="ulink" target="_top">#19110</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Discovery GCE
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow <code class="literal">_gce_</code> network when not using discovery gce <a href="https://github.com/elastic/elasticsearch/pull/15765" class="ulink" target="_top">#15765</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15724" class="ulink" target="_top">#15724</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Lang Painless
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change Painless Tree Structure for Variable/Method Chains <a href="https://github.com/elastic/elasticsearch/pull/19459" class="ulink" target="_top">#19459</a>
</li>
<li class="listitem">
Add replaceAll and replaceFirst <a href="https://github.com/elastic/elasticsearch/pull/19070" class="ulink" target="_top">#19070</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Mapper Size
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add doc values support to the _size field in the mapper-size plugin <a href="https://github.com/elastic/elasticsearch/pull/19217" class="ulink" target="_top">#19217</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18334" class="ulink" target="_top">#18334</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add ScriptService to dependencies available for plugin components <a href="https://github.com/elastic/elasticsearch/pull/19770" class="ulink" target="_top">#19770</a>
</li>
<li class="listitem">
Log one plugin info per line <a href="https://github.com/elastic/elasticsearch/pull/19441" class="ulink" target="_top">#19441</a>
</li>
<li class="listitem">
Make rest headers registration pull based <a href="https://github.com/elastic/elasticsearch/pull/19440" class="ulink" target="_top">#19440</a>
</li>
<li class="listitem">
Add resource watcher to services available for plugin components <a href="https://github.com/elastic/elasticsearch/pull/19401" class="ulink" target="_top">#19401</a>
</li>
<li class="listitem">
Add some basic services to createComponents for plugins <a href="https://github.com/elastic/elasticsearch/pull/19380" class="ulink" target="_top">#19380</a>
</li>
<li class="listitem">
Make plugins closeable <a href="https://github.com/elastic/elasticsearch/pull/19137" class="ulink" target="_top">#19137</a>
</li>
<li class="listitem">
Plugins: Add status bar on download <a href="https://github.com/elastic/elasticsearch/pull/18695" class="ulink" target="_top">#18695</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query DSL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow empty json object in request body in <code class="literal">_count</code> API <a href="https://github.com/elastic/elasticsearch/pull/19595" class="ulink" target="_top">#19595</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19422" class="ulink" target="_top">#19422</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
REST
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Location header to the index, update, and create APIs <a href="https://github.com/elastic/elasticsearch/pull/19509" class="ulink" target="_top">#19509</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19079" class="ulink" target="_top">#19079</a>)
</li>
<li class="listitem">
Add support for <code class="literal">wait_for_events</code> to the <code class="literal">_cluster/health</code> REST endpoint <a href="https://github.com/elastic/elasticsearch/pull/19432" class="ulink" target="_top">#19432</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19419" class="ulink" target="_top">#19419</a>)
</li>
<li class="listitem">
Rename Search Template REST spec names <a href="https://github.com/elastic/elasticsearch/pull/19178" class="ulink" target="_top">#19178</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Non-blocking primary relocation hand-off <a href="https://github.com/elastic/elasticsearch/pull/19013" class="ulink" target="_top">#19013</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/15900" class="ulink" target="_top">#15900</a>, <a href="https://github.com/elastic/elasticsearch/issues/18553" class="ulink" target="_top">#18553</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reindex API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Only ask for <code class="literal">_version</code> we need it <a href="https://github.com/elastic/elasticsearch/pull/19693" class="ulink" target="_top">#19693</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19135" class="ulink" target="_top">#19135</a>)
</li>
<li class="listitem">
Use fewer threads when reindexing-from-remote <a href="https://github.com/elastic/elasticsearch/pull/19636" class="ulink" target="_top">#19636</a>
</li>
<li class="listitem">
Support authentication with reindex-from-remote <a href="https://github.com/elastic/elasticsearch/pull/19310" class="ulink" target="_top">#19310</a>
</li>
<li class="listitem">
Support requests_per_second=-1 to mean no throttling in reindex <a href="https://github.com/elastic/elasticsearch/pull/19101" class="ulink" target="_top">#19101</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19089" class="ulink" target="_top">#19089</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove ClusterState from compile api <a href="https://github.com/elastic/elasticsearch/pull/19136" class="ulink" target="_top">#19136</a>
</li>
<li class="listitem">
Mustache: Render Map as JSON <a href="https://github.com/elastic/elasticsearch/pull/18856" class="ulink" target="_top">#18856</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18970" class="ulink" target="_top">#18970</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Limit batch size when scrolling <a href="https://github.com/elastic/elasticsearch/pull/19367" class="ulink" target="_top">#19367</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19249" class="ulink" target="_top">#19249</a>)
</li>
<li class="listitem">
Record method counts while profiling query components <a href="https://github.com/elastic/elasticsearch/pull/18302" class="ulink" target="_top">#18302</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Validates new dynamic settings from the current state <a href="https://github.com/elastic/elasticsearch/pull/19122" class="ulink" target="_top">#19122</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19046" class="ulink" target="_top">#19046</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
BlobContainer#writeBlob no longer can overwrite a blob <a href="https://github.com/elastic/elasticsearch/pull/19749" class="ulink" target="_top">#19749</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15579" class="ulink" target="_top">#15579</a>)
</li>
<li class="listitem">
More resilient blob handling in snapshot repositories <a href="https://github.com/elastic/elasticsearch/pull/19706" class="ulink" target="_top">#19706</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/18156" class="ulink" target="_top">#18156</a>, <a href="https://github.com/elastic/elasticsearch/issues/18815" class="ulink" target="_top">#18815</a>, <a href="https://github.com/elastic/elasticsearch/issues/19421" class="ulink" target="_top">#19421</a>, <a href="https://github.com/elastic/elasticsearch/issues/7540" class="ulink" target="_top">#7540</a>)
</li>
<li class="listitem">
Adding repository index generational files <a href="https://github.com/elastic/elasticsearch/pull/19002" class="ulink" target="_top">#19002</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18156" class="ulink" target="_top">#18156</a>)
</li>
<li class="listitem">
Raised IOException on deleteBlob <a href="https://github.com/elastic/elasticsearch/pull/18815" class="ulink" target="_top">#18815</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18530" class="ulink" target="_top">#18530</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add missing field type in the FieldStats response. <a href="https://github.com/elastic/elasticsearch/pull/19241" class="ulink" target="_top">#19241</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17750" class="ulink" target="_top">#17750</a>)
</li>
<li class="listitem">
Expose the ClusterInfo object in the allocation explain output <a href="https://github.com/elastic/elasticsearch/pull/19106" class="ulink" target="_top">#19106</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14405" class="ulink" target="_top">#14405</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="bug-5.0.0-alpha5"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.4/docs/reference/release-notes/5.0.0-alpha5.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Undeprecates <code class="literal">aggs</code> in the search request <a href="https://github.com/elastic/elasticsearch/pull/19674" class="ulink" target="_top">#19674</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19504" class="ulink" target="_top">#19504</a>)
</li>
<li class="listitem">
Change how <code class="literal">nested</code> and <code class="literal">reverse_nested</code> aggs know about their nested depth level <a href="https://github.com/elastic/elasticsearch/pull/19550" class="ulink" target="_top">#19550</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/11749" class="ulink" target="_top">#11749</a>, <a href="https://github.com/elastic/elasticsearch/issues/12410" class="ulink" target="_top">#12410</a>)
</li>
<li class="listitem">
Make ExtendedBounds immutable <a href="https://github.com/elastic/elasticsearch/pull/19490" class="ulink" target="_top">#19490</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19481" class="ulink" target="_top">#19481</a>)
</li>
<li class="listitem">
Fix potential AssertionError with include/exclude on terms aggregations. <a href="https://github.com/elastic/elasticsearch/pull/19252" class="ulink" target="_top">#19252</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18575" class="ulink" target="_top">#18575</a>)
</li>
<li class="listitem">
Pass resolved extended bounds to unmapped histogram aggregator <a href="https://github.com/elastic/elasticsearch/pull/19085" class="ulink" target="_top">#19085</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19009" class="ulink" target="_top">#19009</a>)
</li>
<li class="listitem">
Fix "key_as_string" for date histogram and epoch_millis/epoch_second format with time zone <a href="https://github.com/elastic/elasticsearch/pull/19043" class="ulink" target="_top">#19043</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19038" class="ulink" target="_top">#19038</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix NPE when initializing replica shard has no UnassignedInfo <a href="https://github.com/elastic/elasticsearch/pull/19491" class="ulink" target="_top">#19491</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19488" class="ulink" target="_top">#19488</a>)
</li>
<li class="listitem">
Make shard store fetch less dependent on the current cluster state, both on master and non data nodes <a href="https://github.com/elastic/elasticsearch/pull/19044" class="ulink" target="_top">#19044</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18938" class="ulink" target="_top">#18938</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix analyzer alias processing <a href="https://github.com/elastic/elasticsearch/pull/19506" class="ulink" target="_top">#19506</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19163" class="ulink" target="_top">#19163</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CAT API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes cat tasks operation in detailed mode <a href="https://github.com/elastic/elasticsearch/pull/19759" class="ulink" target="_top">#19759</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19755" class="ulink" target="_top">#19755</a>)
</li>
<li class="listitem">
Add index pattern wildcards support to _cat/shards <a href="https://github.com/elastic/elasticsearch/pull/19655" class="ulink" target="_top">#19655</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19634" class="ulink" target="_top">#19634</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow routing table to be filtered by index pattern <a href="https://github.com/elastic/elasticsearch/pull/19688" class="ulink" target="_top">#19688</a>
</li>
<li class="listitem">
Use executor&#8217;s describeTasks method to log task information in cluster service <a href="https://github.com/elastic/elasticsearch/pull/19531" class="ulink" target="_top">#19531</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Makes <code class="literal">m</code> case sensitive in TimeValue <a href="https://github.com/elastic/elasticsearch/pull/19649" class="ulink" target="_top">#19649</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19619" class="ulink" target="_top">#19619</a>)
</li>
<li class="listitem">
Guard against negative result from FileStore.getUsableSpace when picking data path for a new shard <a href="https://github.com/elastic/elasticsearch/pull/19554" class="ulink" target="_top">#19554</a>
</li>
<li class="listitem">
Handle rejected execution exception on reschedule <a href="https://github.com/elastic/elasticsearch/pull/19505" class="ulink" target="_top">#19505</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Dates
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make sure TimeIntervalRounding is monotonic for increasing dates <a href="https://github.com/elastic/elasticsearch/pull/19020" class="ulink" target="_top">#19020</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Incomplete results when using geo_distance for large distances <a href="https://github.com/elastic/elasticsearch/pull/17578" class="ulink" target="_top">#17578</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Plain highlighter should ignore parent/child queries <a href="https://github.com/elastic/elasticsearch/pull/19616" class="ulink" target="_top">#19616</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14999" class="ulink" target="_top">#14999</a>)
</li>
<li class="listitem">
Let fast vector highlighter also extract terms from the nested query&#8217;s inner query. <a href="https://github.com/elastic/elasticsearch/pull/19337" class="ulink" target="_top">#19337</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19265" class="ulink" target="_top">#19265</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Index APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes active shard count check in the case of <code class="literal">all</code> shards <a href="https://github.com/elastic/elasticsearch/pull/19760" class="ulink" target="_top">#19760</a>
</li>
<li class="listitem">
Add zero-padding to auto-generated rollover index name increment <a href="https://github.com/elastic/elasticsearch/pull/19610" class="ulink" target="_top">#19610</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19484" class="ulink" target="_top">#19484</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix NPE when simulating a pipeline with no id <a href="https://github.com/elastic/elasticsearch/pull/19650" class="ulink" target="_top">#19650</a>
</li>
<li class="listitem">
Change foreach processor to use ingest metadata for array element <a href="https://github.com/elastic/elasticsearch/pull/19609" class="ulink" target="_top">#19609</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19592" class="ulink" target="_top">#19592</a>)
</li>
<li class="listitem">
No other processors should be executed after on_failure is called <a href="https://github.com/elastic/elasticsearch/pull/19545" class="ulink" target="_top">#19545</a>
</li>
<li class="listitem">
rethrow script compilation exceptions into ingest configuration exceptions <a href="https://github.com/elastic/elasticsearch/pull/19318" class="ulink" target="_top">#19318</a>
</li>
<li class="listitem">
Rename from <code class="literal">ingest-useragent</code> plugin to <code class="literal">ingest-user-agent</code> and its processor from <code class="literal">useragent</code> to <code class="literal">user_agent</code> <a href="https://github.com/elastic/elasticsearch/pull/19261" class="ulink" target="_top">#19261</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Inner Hits
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ensure that that InnerHitBuilder uses rewritten queries <a href="https://github.com/elastic/elasticsearch/pull/19360" class="ulink" target="_top">#19360</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19353" class="ulink" target="_top">#19353</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Priority values should be unmodifiable <a href="https://github.com/elastic/elasticsearch/pull/19447" class="ulink" target="_top">#19447</a>
</li>
<li class="listitem">
Extract AbstractBytesReferenceTestCase <a href="https://github.com/elastic/elasticsearch/pull/19141" class="ulink" target="_top">#19141</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Rest Client: add slash to log line when missing between host and uri <a href="https://github.com/elastic/elasticsearch/pull/19325" class="ulink" target="_top">#19325</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19314" class="ulink" target="_top">#19314</a>)
</li>
<li class="listitem">
Rest Client: HostsSniffer to set http as default scheme <a href="https://github.com/elastic/elasticsearch/pull/19306" class="ulink" target="_top">#19306</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Only log running out of slots when out of slots <a href="https://github.com/elastic/elasticsearch/pull/19637" class="ulink" target="_top">#19637</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Mappings: Fix detection of metadata fields in documents <a href="https://github.com/elastic/elasticsearch/pull/19765" class="ulink" target="_top">#19765</a>
</li>
<li class="listitem">
Fix not_analyzed string fields to error when position_increment_gap is set <a href="https://github.com/elastic/elasticsearch/pull/19510" class="ulink" target="_top">#19510</a>
</li>
<li class="listitem">
Automatically created indices should honor <code class="literal">index.mapper.dynamic</code>. <a href="https://github.com/elastic/elasticsearch/pull/19478" class="ulink" target="_top">#19478</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17592" class="ulink" target="_top">#17592</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Verify lower level transport exceptions don&#8217;t bubble up on disconnects <a href="https://github.com/elastic/elasticsearch/pull/19518" class="ulink" target="_top">#19518</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19096" class="ulink" target="_top">#19096</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Disable service in pre-uninstall <a href="https://github.com/elastic/elasticsearch/pull/19328" class="ulink" target="_top">#19328</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Parent/Child
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make sure that no <code class="literal">_parent#null</code> gets introduces as default _parent mapping <a href="https://github.com/elastic/elasticsearch/pull/19470" class="ulink" target="_top">#19470</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19389" class="ulink" target="_top">#19389</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Discovery Azure Classic
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make discovery-azure plugin work again <a href="https://github.com/elastic/elasticsearch/pull/19062" class="ulink" target="_top">#19062</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/15630" class="ulink" target="_top">#15630</a>, <a href="https://github.com/elastic/elasticsearch/issues/18637" class="ulink" target="_top">#18637</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Discovery EC2
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix EC2 discovery settings <a href="https://github.com/elastic/elasticsearch/pull/18690" class="ulink" target="_top">#18690</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/18652" class="ulink" target="_top">#18652</a>, <a href="https://github.com/elastic/elasticsearch/issues/18662" class="ulink" target="_top">#18662</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Discovery GCE
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix NPE when GCE region is empty <a href="https://github.com/elastic/elasticsearch/pull/19176" class="ulink" target="_top">#19176</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16967" class="ulink" target="_top">#16967</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Repository Azure
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Register group setting for repository-azure accounts <a href="https://github.com/elastic/elasticsearch/pull/19086" class="ulink" target="_top">#19086</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Repository S3
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add missing permission to repository-s3 <a href="https://github.com/elastic/elasticsearch/pull/19128" class="ulink" target="_top">#19128</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/18539" class="ulink" target="_top">#18539</a>, <a href="https://github.com/elastic/elasticsearch/issues/19121" class="ulink" target="_top">#19121</a>)
</li>
<li class="listitem">
Fix repository S3 Settings and add more tests <a href="https://github.com/elastic/elasticsearch/pull/18703" class="ulink" target="_top">#18703</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/18662" class="ulink" target="_top">#18662</a>, <a href="https://github.com/elastic/elasticsearch/issues/18690" class="ulink" target="_top">#18690</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query DSL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Throw ParsingException if a query is wrapped in an array <a href="https://github.com/elastic/elasticsearch/pull/19750" class="ulink" target="_top">#19750</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/12887" class="ulink" target="_top">#12887</a>)
</li>
<li class="listitem">
Restore parameter name auto_generate_phrase_queries <a href="https://github.com/elastic/elasticsearch/pull/19514" class="ulink" target="_top">#19514</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19512" class="ulink" target="_top">#19512</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
REST
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes CORS handling so that it uses the defaults <a href="https://github.com/elastic/elasticsearch/pull/19522" class="ulink" target="_top">#19522</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19520" class="ulink" target="_top">#19520</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move <code class="literal">reset recovery</code> into RecoveriesCollection <a href="https://github.com/elastic/elasticsearch/pull/19466" class="ulink" target="_top">#19466</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19473" class="ulink" target="_top">#19473</a>)
</li>
<li class="listitem">
Fix replica-primary inconsistencies when indexing during primary relocation with ongoing replica recoveries <a href="https://github.com/elastic/elasticsearch/pull/19287" class="ulink" target="_top">#19287</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19248" class="ulink" target="_top">#19248</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Don&#8217;t recursively count children profile timings <a href="https://github.com/elastic/elasticsearch/pull/19397" class="ulink" target="_top">#19397</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18693" class="ulink" target="_top">#18693</a>)
</li>
<li class="listitem">
fix explain in function_score if no function filter matches <a href="https://github.com/elastic/elasticsearch/pull/19185" class="ulink" target="_top">#19185</a>
</li>
<li class="listitem">
Fix NPEs due to disabled source <a href="https://github.com/elastic/elasticsearch/pull/18957" class="ulink" target="_top">#18957</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Validate settings against dynamic updaters on the master <a href="https://github.com/elastic/elasticsearch/pull/19088" class="ulink" target="_top">#19088</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19046" class="ulink" target="_top">#19046</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix serialization bug in allocation explain API. <a href="https://github.com/elastic/elasticsearch/pull/19494" class="ulink" target="_top">#19494</a>
</li>
<li class="listitem">
Allocation explain: Also serialize <code class="literal">includeDiskInfo</code> field <a href="https://github.com/elastic/elasticsearch/pull/19492" class="ulink" target="_top">#19492</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Tighten up concurrent store metadata listing and engine writes <a href="https://github.com/elastic/elasticsearch/pull/19684" class="ulink" target="_top">#19684</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19416" class="ulink" target="_top">#19416</a>)
</li>
<li class="listitem">
Make static Store access shard lock aware <a href="https://github.com/elastic/elasticsearch/pull/19416" class="ulink" target="_top">#19416</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18938" class="ulink" target="_top">#18938</a>)
</li>
<li class="listitem">
Catch assertion errors on commit and turn it into a real exception <a href="https://github.com/elastic/elasticsearch/pull/19357" class="ulink" target="_top">#19357</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19356" class="ulink" target="_top">#19356</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="upgrade-5.0.0-alpha5"></a>Upgrades<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.4/docs/reference/release-notes/5.0.0-alpha5.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Dependencies: Upgrade to netty 4.1.4 <a href="https://github.com/elastic/elasticsearch/pull/19689" class="ulink" target="_top">#19689</a>
</li>
<li class="listitem">
Introduce Netty 4 <a href="https://github.com/elastic/elasticsearch/pull/19526" class="ulink" target="_top">#19526</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/3226" class="ulink" target="_top">#3226</a>)
</li>
<li class="listitem">
Upgrade to netty 3.10.6.Final <a href="https://github.com/elastic/elasticsearch/pull/19235" class="ulink" target="_top">#19235</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-5.0.0-beta1.html">« 5.0.0-beta1 Release Notes</a>
</span>
<span class="next">
<a href="release-notes-5.0.0-alpha4.html">5.0.0-alpha4 Release Notes »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
