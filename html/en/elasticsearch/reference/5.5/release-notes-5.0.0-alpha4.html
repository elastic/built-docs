<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>5.0.0-alpha4 Release Notes | Elasticsearch Reference [5.5] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [5.5]"/>
<link rel="up" href="es-release-notes.html" title="Release Notes"/>
<link rel="prev" href="release-notes-5.0.0-alpha5.html" title="5.0.0-alpha5 Release Notes"/>
<link rel="next" href="release-notes-5.0.0-alpha3.html" title="5.0.0-alpha3 Release Notes"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/5.5"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="5.5"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.5 of Elasticsearch has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [5.5]</a></span>
»
<span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span>
»
<span class="breadcrumb-node">5.0.0-alpha4 Release Notes</span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-5.0.0-alpha5.html">« 5.0.0-alpha5 Release Notes</a>
</span>
<span class="next">
<a href="release-notes-5.0.0-alpha3.html">5.0.0-alpha3 Release Notes »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-5.0.0-alpha4"></a>5.0.0-alpha4 Release Notes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.5/docs/reference/release-notes/5.0.0-alpha4.asciidoc">edit</a></h2>
</div></div></div>
<p>Also see <a class="xref" href="breaking-changes-5.0.html" title="Breaking changes in 5.0"><em>Breaking changes in 5.0</em></a>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>This is an alpha release and is intended for <em>testing purposes only</em>. Indices created in this version will <span class="strong strong"><strong>not be compatible with Elasticsearch 5.0.0 GA</strong></span>. Upgrading 5.0.0-alpha4 to any other version is not supported.</p>
</div>
</div>
<h3><a id="breaking-5.0.0-alpha4"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.5/docs/reference/release-notes/5.0.0-alpha4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove size 0 options in aggregations <a href="https://github.com/elastic/elasticsearch/pull/18854" class="ulink" target="_top">#18854</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18838" class="ulink" target="_top">#18838</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Wait for changes to be visible by search <a href="https://github.com/elastic/elasticsearch/pull/17986" class="ulink" target="_top">#17986</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/1063" class="ulink" target="_top">#1063</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove cluster name from data path <a href="https://github.com/elastic/elasticsearch/pull/18554" class="ulink" target="_top">#18554</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17810" class="ulink" target="_top">#17810</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Inner Hits
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Also do not serialize <code class="literal">_index</code> key in search response for parent/child inner hits <a href="https://github.com/elastic/elasticsearch/pull/19011" class="ulink" target="_top">#19011</a>
</li>
<li class="listitem">
Don&#8217;t include <code class="literal">_id</code>, <code class="literal">_type</code> and <code class="literal">_index</code> keys in search response for inner hits <a href="https://github.com/elastic/elasticsearch/pull/18995" class="ulink" target="_top">#18995</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18091" class="ulink" target="_top">#18091</a>)
</li>
<li class="listitem">
Nested inner hits shouldn&#8217;t use relative paths <a href="https://github.com/elastic/elasticsearch/pull/18567" class="ulink" target="_top">#18567</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16653" class="ulink" target="_top">#16653</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove <code class="literal">_timestamp</code> and <code class="literal">_ttl</code> on 5.x indices. <a href="https://github.com/elastic/elasticsearch/pull/18980" class="ulink" target="_top">#18980</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18280" class="ulink" target="_top">#18280</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove allow running as root <a href="https://github.com/elastic/elasticsearch/pull/18694" class="ulink" target="_top">#18694</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18688" class="ulink" target="_top">#18688</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove only node preference <a href="https://github.com/elastic/elasticsearch/pull/18875" class="ulink" target="_top">#18875</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18822" class="ulink" target="_top">#18822</a>)
</li>
<li class="listitem">
Add search preference to prefer multiple nodes <a href="https://github.com/elastic/elasticsearch/pull/18872" class="ulink" target="_top">#18872</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18822" class="ulink" target="_top">#18822</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Rename boostrap.mlockall to bootstrap.memory_lock <a href="https://github.com/elastic/elasticsearch/pull/18669" class="ulink" target="_top">#18669</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change the default of <code class="literal">include_global_state</code> from true to false for snapshot restores <a href="https://github.com/elastic/elasticsearch/pull/18773" class="ulink" target="_top">#18773</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18569" class="ulink" target="_top">#18569</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="breaking-java-5.0.0-alpha4"></a>Breaking Java changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.5/docs/reference/release-notes/5.0.0-alpha4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Register thread pool settings <a href="https://github.com/elastic/elasticsearch/pull/18674" class="ulink" target="_top">#18674</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/18613" class="ulink" target="_top">#18613</a>, <a href="https://github.com/elastic/elasticsearch/issues/9216" class="ulink" target="_top">#9216</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Register Highlighter instances instead of classes <a href="https://github.com/elastic/elasticsearch/pull/18859" class="ulink" target="_top">#18859</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Cleanup ClusterService dependencies and detached from Guice <a href="https://github.com/elastic/elasticsearch/pull/18941" class="ulink" target="_top">#18941</a>
</li>
<li class="listitem">
Simplify SubFetchPhase interface <a href="https://github.com/elastic/elasticsearch/pull/18881" class="ulink" target="_top">#18881</a>
</li>
<li class="listitem">
Simplify FetchSubPhase registration and detach it from Guice <a href="https://github.com/elastic/elasticsearch/pull/18862" class="ulink" target="_top">#18862</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove setRefresh <a href="https://github.com/elastic/elasticsearch/pull/18752" class="ulink" target="_top">#18752</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/1063" class="ulink" target="_top">#1063</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fail to start if plugin tries broken onModule <a href="https://github.com/elastic/elasticsearch/pull/19025" class="ulink" target="_top">#19025</a>
</li>
<li class="listitem">
Simplify ScriptModule and script registration <a href="https://github.com/elastic/elasticsearch/pull/18903" class="ulink" target="_top">#18903</a>
</li>
<li class="listitem">
Cut over settings registration to a pull model <a href="https://github.com/elastic/elasticsearch/pull/18890" class="ulink" target="_top">#18890</a>
</li>
<li class="listitem">
Plugins cleanup <a href="https://github.com/elastic/elasticsearch/pull/18594" class="ulink" target="_top">#18594</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18588" class="ulink" target="_top">#18588</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move search template to lang-mustache module <a href="https://github.com/elastic/elasticsearch/pull/18765" class="ulink" target="_top">#18765</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17906" class="ulink" target="_top">#17906</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="feature-5.0.0-alpha4"></a>New features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.5/docs/reference/release-notes/5.0.0-alpha4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adds aggregation profiling to the profile API <a href="https://github.com/elastic/elasticsearch/pull/18414" class="ulink" target="_top">#18414</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10538" class="ulink" target="_top">#10538</a>)
</li>
<li class="listitem">
New Matrix Stats Aggregation module <a href="https://github.com/elastic/elasticsearch/pull/18300" class="ulink" target="_top">#18300</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16826" class="ulink" target="_top">#16826</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Index APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add rollover API to switch index aliases given some predicates <a href="https://github.com/elastic/elasticsearch/pull/18732" class="ulink" target="_top">#18732</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18647" class="ulink" target="_top">#18647</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Low level Rest Client <a href="https://github.com/elastic/elasticsearch/pull/18735" class="ulink" target="_top">#18735</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/7743" class="ulink" target="_top">#7743</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Expose half-floats. <a href="https://github.com/elastic/elasticsearch/pull/18887" class="ulink" target="_top">#18887</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scroll
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add the ability to partition a scroll in multiple slices. <a href="https://github.com/elastic/elasticsearch/pull/18237" class="ulink" target="_top">#18237</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13494" class="ulink" target="_top">#13494</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Expose MMapDirectory.preLoad(). <a href="https://github.com/elastic/elasticsearch/pull/18880" class="ulink" target="_top">#18880</a>
</li>
<li class="listitem">
Add primitive to shrink an index into a single shard <a href="https://github.com/elastic/elasticsearch/pull/18270" class="ulink" target="_top">#18270</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="enhancement-5.0.0-alpha4"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.5/docs/reference/release-notes/5.0.0-alpha4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Automatically set the collection mode to breadth_first in the terms aggregation when the cardinality of the field is unknown or smaller than the requested size. <a href="https://github.com/elastic/elasticsearch/pull/18779" class="ulink" target="_top">#18779</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/9825" class="ulink" target="_top">#9825</a>)
</li>
<li class="listitem">
Rename PipelineAggregatorBuilder to PipelineAggregationBuilder. <a href="https://github.com/elastic/elasticsearch/pull/18677" class="ulink" target="_top">#18677</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18377" class="ulink" target="_top">#18377</a>)
</li>
<li class="listitem">
AggregatorBuilder and PipelineAggregatorBuilder do not need generics. <a href="https://github.com/elastic/elasticsearch/pull/18368" class="ulink" target="_top">#18368</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18133" class="ulink" target="_top">#18133</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow <code class="literal">_shrink</code> to N shards if source shards is a multiple of N <a href="https://github.com/elastic/elasticsearch/pull/18699" class="ulink" target="_top">#18699</a>
</li>
<li class="listitem">
Only filter intial recovery (post API) when shrinking an index <a href="https://github.com/elastic/elasticsearch/pull/18661" class="ulink" target="_top">#18661</a>
</li>
<li class="listitem">
Estimate shard size for shrinked indices <a href="https://github.com/elastic/elasticsearch/pull/18659" class="ulink" target="_top">#18659</a>
</li>
<li class="listitem">
Only fail relocation target shard if failing source shard is a primary <a href="https://github.com/elastic/elasticsearch/pull/18574" class="ulink" target="_top">#18574</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16144" class="ulink" target="_top">#16144</a>)
</li>
<li class="listitem">
Simplify delayed shard allocation <a href="https://github.com/elastic/elasticsearch/pull/18351" class="ulink" target="_top">#18351</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18293" class="ulink" target="_top">#18293</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a MultiTermAwareComponent marker interface to analysis factories. <a href="https://github.com/elastic/elasticsearch/pull/19028" class="ulink" target="_top">#19028</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/18064" class="ulink" target="_top">#18064</a>, <a href="https://github.com/elastic/elasticsearch/issues/9978" class="ulink" target="_top">#9978</a>)
</li>
<li class="listitem">
Add Flags Parameter for Char Filter <a href="https://github.com/elastic/elasticsearch/pull/18363" class="ulink" target="_top">#18363</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18362" class="ulink" target="_top">#18362</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cache
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Cache FieldStats in the request cache <a href="https://github.com/elastic/elasticsearch/pull/18768" class="ulink" target="_top">#18768</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18717" class="ulink" target="_top">#18717</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Index creation does not cause the cluster health to go RED <a href="https://github.com/elastic/elasticsearch/pull/18737" class="ulink" target="_top">#18737</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/9106" class="ulink" target="_top">#9106</a>, <a href="https://github.com/elastic/elasticsearch/issues/9126" class="ulink" target="_top">#9126</a>)
</li>
<li class="listitem">
Cluster Health class improvements <a href="https://github.com/elastic/elasticsearch/pull/18673" class="ulink" target="_top">#18673</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Read Elasticsearch manifest via URL <a href="https://github.com/elastic/elasticsearch/pull/18999" class="ulink" target="_top">#18999</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18996" class="ulink" target="_top">#18996</a>)
</li>
<li class="listitem">
Throw if the local node is not set <a href="https://github.com/elastic/elasticsearch/pull/18963" class="ulink" target="_top">#18963</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18962" class="ulink" target="_top">#18962</a>)
</li>
<li class="listitem">
Improve performance of applyDeletedShards <a href="https://github.com/elastic/elasticsearch/pull/18788" class="ulink" target="_top">#18788</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18776" class="ulink" target="_top">#18776</a>)
</li>
<li class="listitem">
Bootstrap check for OnOutOfMemoryError and seccomp <a href="https://github.com/elastic/elasticsearch/pull/18756" class="ulink" target="_top">#18756</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18736" class="ulink" target="_top">#18736</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Dates
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve TimeZoneRoundingTests error messages <a href="https://github.com/elastic/elasticsearch/pull/18895" class="ulink" target="_top">#18895</a>
</li>
<li class="listitem">
Improve TimeUnitRounding for edge cases and DST transitions <a href="https://github.com/elastic/elasticsearch/pull/18589" class="ulink" target="_top">#18589</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Expressions
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
improve date api for expressions/painless fields <a href="https://github.com/elastic/elasticsearch/pull/18658" class="ulink" target="_top">#18658</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Index APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Shrink request source parser to parse create index request body <a href="https://github.com/elastic/elasticsearch/pull/18802" class="ulink" target="_top">#18802</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Index Templates
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Parse and validate mappings on index template creation <a href="https://github.com/elastic/elasticsearch/pull/8802" class="ulink" target="_top">#8802</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/2415" class="ulink" target="_top">#2415</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">ignore_failure</code> option to all ingest processors <a href="https://github.com/elastic/elasticsearch/pull/18650" class="ulink" target="_top">#18650</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18493" class="ulink" target="_top">#18493</a>)
</li>
<li class="listitem">
new ScriptProcessor for Ingest <a href="https://github.com/elastic/elasticsearch/pull/18193" class="ulink" target="_top">#18193</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Hot methods redux <a href="https://github.com/elastic/elasticsearch/pull/19016" class="ulink" target="_top">#19016</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16725" class="ulink" target="_top">#16725</a>)
</li>
<li class="listitem">
Remove forked joda time BaseDateTime class <a href="https://github.com/elastic/elasticsearch/pull/18953" class="ulink" target="_top">#18953</a>
</li>
<li class="listitem">
Support optional ctor args in ConstructingObjectParser <a href="https://github.com/elastic/elasticsearch/pull/18725" class="ulink" target="_top">#18725</a>
</li>
<li class="listitem">
Remove thread pool from page cache recycler <a href="https://github.com/elastic/elasticsearch/pull/18664" class="ulink" target="_top">#18664</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18613" class="ulink" target="_top">#18613</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Switch QueryBuilders to new MatchPhraseQueryBuilder <a href="https://github.com/elastic/elasticsearch/pull/18753" class="ulink" target="_top">#18753</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Throw IllegalStateException when handshake fails due to version or cluster mismatch <a href="https://github.com/elastic/elasticsearch/pull/18676" class="ulink" target="_top">#18676</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade <code class="literal">string</code> fields to <code class="literal">text</code>/<code class="literal">keyword</code> even if <code class="literal">include_in_all</code> is set. <a href="https://github.com/elastic/elasticsearch/pull/19004" class="ulink" target="_top">#19004</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18974" class="ulink" target="_top">#18974</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Exclude admin / diagnostic requests from HTTP request limiting <a href="https://github.com/elastic/elasticsearch/pull/18833" class="ulink" target="_top">#18833</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/17951" class="ulink" target="_top">#17951</a>, <a href="https://github.com/elastic/elasticsearch/issues/18145" class="ulink" target="_top">#18145</a>)
</li>
<li class="listitem">
Do not start scheduled pings until transport start <a href="https://github.com/elastic/elasticsearch/pull/18702" class="ulink" target="_top">#18702</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove explicit parallel new GC flag <a href="https://github.com/elastic/elasticsearch/pull/18767" class="ulink" target="_top">#18767</a>
</li>
<li class="listitem">
Use JAVA_HOME or java.exe in PATH like the Linux scripts do <a href="https://github.com/elastic/elasticsearch/pull/18685" class="ulink" target="_top">#18685</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/4913" class="ulink" target="_top">#4913</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Percolator
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add percolator query extraction support for dismax query <a href="https://github.com/elastic/elasticsearch/pull/18845" class="ulink" target="_top">#18845</a>
</li>
<li class="listitem">
Improve percolate query performance by not verifying certain candidate matches <a href="https://github.com/elastic/elasticsearch/pull/18696" class="ulink" target="_top">#18696</a>
</li>
<li class="listitem">
Improve percolator query term extraction <a href="https://github.com/elastic/elasticsearch/pull/18610" class="ulink" target="_top">#18610</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Lang Painless
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Painless Initializers <a href="https://github.com/elastic/elasticsearch/pull/19012" class="ulink" target="_top">#19012</a>
</li>
<li class="listitem">
Add augmentation <a href="https://github.com/elastic/elasticsearch/pull/19003" class="ulink" target="_top">#19003</a>
</li>
<li class="listitem">
Infer lambda arguments/return type <a href="https://github.com/elastic/elasticsearch/pull/18983" class="ulink" target="_top">#18983</a>
</li>
<li class="listitem">
Fix explicit casts and improve tests. <a href="https://github.com/elastic/elasticsearch/pull/18958" class="ulink" target="_top">#18958</a>
</li>
<li class="listitem">
Add lambda captures <a href="https://github.com/elastic/elasticsearch/pull/18954" class="ulink" target="_top">#18954</a>
</li>
<li class="listitem">
improve Debugger to print code even if it hits exception <a href="https://github.com/elastic/elasticsearch/pull/18932" class="ulink" target="_top">#18932</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/1" class="ulink" target="_top">#1</a>)
</li>
<li class="listitem">
Move semicolon hack into lexer <a href="https://github.com/elastic/elasticsearch/pull/18931" class="ulink" target="_top">#18931</a>
</li>
<li class="listitem">
Add flag support to regexes <a href="https://github.com/elastic/elasticsearch/pull/18927" class="ulink" target="_top">#18927</a>
</li>
<li class="listitem">
improve lambda syntax (allow single expression) <a href="https://github.com/elastic/elasticsearch/pull/18924" class="ulink" target="_top">#18924</a>
</li>
<li class="listitem">
Remove useless dropArguments in megamorphic cache <a href="https://github.com/elastic/elasticsearch/pull/18913" class="ulink" target="_top">#18913</a>
</li>
<li class="listitem">
non-capturing lambda support <a href="https://github.com/elastic/elasticsearch/pull/18911" class="ulink" target="_top">#18911</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18824" class="ulink" target="_top">#18824</a>)
</li>
<li class="listitem">
fix bugs in operators and more improvements for the dynamic case <a href="https://github.com/elastic/elasticsearch/pull/18899" class="ulink" target="_top">#18899</a>
</li>
<li class="listitem">
improve unary operators and cleanup tests <a href="https://github.com/elastic/elasticsearch/pull/18867" class="ulink" target="_top">#18867</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18849" class="ulink" target="_top">#18849</a>)
</li>
<li class="listitem">
Add support for the find operator (=~) and the match operator (==~) <a href="https://github.com/elastic/elasticsearch/pull/18858" class="ulink" target="_top">#18858</a>
</li>
<li class="listitem">
Remove casts and boxing for dynamic math <a href="https://github.com/elastic/elasticsearch/pull/18849" class="ulink" target="_top">#18849</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18847" class="ulink" target="_top">#18847</a>)
</li>
<li class="listitem">
Refactor def math <a href="https://github.com/elastic/elasticsearch/pull/18847" class="ulink" target="_top">#18847</a>
</li>
<li class="listitem">
Add support for /regex/ <a href="https://github.com/elastic/elasticsearch/pull/18842" class="ulink" target="_top">#18842</a>
</li>
<li class="listitem">
Array constructor references <a href="https://github.com/elastic/elasticsearch/pull/18831" class="ulink" target="_top">#18831</a>
</li>
<li class="listitem">
Method references to user functions <a href="https://github.com/elastic/elasticsearch/pull/18828" class="ulink" target="_top">#18828</a>
</li>
<li class="listitem">
Add } as a delimiter.  <a href="https://github.com/elastic/elasticsearch/pull/18827" class="ulink" target="_top">#18827</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18821" class="ulink" target="_top">#18821</a>)
</li>
<li class="listitem">
Add Lambda Stub Node <a href="https://github.com/elastic/elasticsearch/pull/18824" class="ulink" target="_top">#18824</a>
</li>
<li class="listitem">
Add capturing method references <a href="https://github.com/elastic/elasticsearch/pull/18818" class="ulink" target="_top">#18818</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18748" class="ulink" target="_top">#18748</a>)
</li>
<li class="listitem">
Add Functions to Painless <a href="https://github.com/elastic/elasticsearch/pull/18810" class="ulink" target="_top">#18810</a>
</li>
<li class="listitem">
Add Method to Get New MethodWriters <a href="https://github.com/elastic/elasticsearch/pull/18771" class="ulink" target="_top">#18771</a>
</li>
<li class="listitem">
Static For Each <a href="https://github.com/elastic/elasticsearch/pull/18757" class="ulink" target="_top">#18757</a>
</li>
<li class="listitem">
Method reference support <a href="https://github.com/elastic/elasticsearch/pull/18748" class="ulink" target="_top">#18748</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18578" class="ulink" target="_top">#18578</a>)
</li>
<li class="listitem">
Add support for the new Java 9 MethodHandles#arrayLength() factory <a href="https://github.com/elastic/elasticsearch/pull/18734" class="ulink" target="_top">#18734</a>
</li>
<li class="listitem">
Improve painless compile-time exceptions <a href="https://github.com/elastic/elasticsearch/pull/18711" class="ulink" target="_top">#18711</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18600" class="ulink" target="_top">#18600</a>)
</li>
<li class="listitem">
add java.time packages to painless whitelist <a href="https://github.com/elastic/elasticsearch/pull/18621" class="ulink" target="_top">#18621</a>
</li>
<li class="listitem">
Add Function Reference Stub to Painless <a href="https://github.com/elastic/elasticsearch/pull/18578" class="ulink" target="_top">#18578</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add did-you-mean for plugin cli <a href="https://github.com/elastic/elasticsearch/pull/18942" class="ulink" target="_top">#18942</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18896" class="ulink" target="_top">#18896</a>)
</li>
<li class="listitem">
Plugins: Remove name() and description() from api <a href="https://github.com/elastic/elasticsearch/pull/18906" class="ulink" target="_top">#18906</a>
</li>
<li class="listitem">
Emit nicer error message when trying to install unknown plugin <a href="https://github.com/elastic/elasticsearch/pull/18876" class="ulink" target="_top">#18876</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17226" class="ulink" target="_top">#17226</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query DSL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Treat zero token in <code class="literal">common</code> terms query as MatchNoDocsQuery <a href="https://github.com/elastic/elasticsearch/pull/18656" class="ulink" target="_top">#18656</a>
</li>
<li class="listitem">
Handle empty query bodies at parse time and remove EmptyQueryBuilder <a href="https://github.com/elastic/elasticsearch/pull/17624" class="ulink" target="_top">#17624</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/17540" class="ulink" target="_top">#17540</a>, <a href="https://github.com/elastic/elasticsearch/issues/17541" class="ulink" target="_top">#17541</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
REST
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adding status field in _msearch error request bodies <a href="https://github.com/elastic/elasticsearch/pull/18586" class="ulink" target="_top">#18586</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18013" class="ulink" target="_top">#18013</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
index shard should be able to cancel check index on close. <a href="https://github.com/elastic/elasticsearch/pull/18839" class="ulink" target="_top">#18839</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/12011" class="ulink" target="_top">#12011</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reindex API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Implement ctx.op = "delete" on _update_by_query and _reindex <a href="https://github.com/elastic/elasticsearch/pull/18614" class="ulink" target="_top">#18614</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18043" class="ulink" target="_top">#18043</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Compile each Groovy script in its own classloader <a href="https://github.com/elastic/elasticsearch/pull/18918" class="ulink" target="_top">#18918</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18572" class="ulink" target="_top">#18572</a>)
</li>
<li class="listitem">
Include script field even if it value is null <a href="https://github.com/elastic/elasticsearch/pull/18384" class="ulink" target="_top">#18384</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16408" class="ulink" target="_top">#16408</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scroll
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add an index setting to limit the maximum number of slices allowed in a scroll request. <a href="https://github.com/elastic/elasticsearch/pull/18782" class="ulink" target="_top">#18782</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change default similarity to BM25 <a href="https://github.com/elastic/elasticsearch/pull/18948" class="ulink" target="_top">#18948</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18944" class="ulink" target="_top">#18944</a>)
</li>
<li class="listitem">
Add a parameter to cap the number of searches the msearch api will concurrently execute <a href="https://github.com/elastic/elasticsearch/pull/18721" class="ulink" target="_top">#18721</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Sequence IDs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Persist sequence number checkpoints <a href="https://github.com/elastic/elasticsearch/pull/18949" class="ulink" target="_top">#18949</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10708" class="ulink" target="_top">#10708</a>)
</li>
<li class="listitem">
Add sequence numbers to cat shards API <a href="https://github.com/elastic/elasticsearch/pull/18772" class="ulink" target="_top">#18772</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve error message if a setting is not found <a href="https://github.com/elastic/elasticsearch/pull/18920" class="ulink" target="_top">#18920</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18663" class="ulink" target="_top">#18663</a>)
</li>
<li class="listitem">
Cleanup placeholder replacement <a href="https://github.com/elastic/elasticsearch/pull/17335" class="ulink" target="_top">#17335</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adds UUIDs to snapshots <a href="https://github.com/elastic/elasticsearch/pull/18228" class="ulink" target="_top">#18228</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18156" class="ulink" target="_top">#18156</a>)
</li>
<li class="listitem">
Clarify the semantics of the BlobContainer interface <a href="https://github.com/elastic/elasticsearch/pull/18157" class="ulink" target="_top">#18157</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15580" class="ulink" target="_top">#15580</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add total_indexing_buffer/_in_bytes to nodes info API <a href="https://github.com/elastic/elasticsearch/pull/18914" class="ulink" target="_top">#18914</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18651" class="ulink" target="_top">#18651</a>)
</li>
<li class="listitem">
Allow FieldStatsRequest to disable cache <a href="https://github.com/elastic/elasticsearch/pull/18900" class="ulink" target="_top">#18900</a>
</li>
<li class="listitem">
Remove index_writer_max_memory stat from segment stats <a href="https://github.com/elastic/elasticsearch/pull/18651" class="ulink" target="_top">#18651</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/14121" class="ulink" target="_top">#14121</a>, <a href="https://github.com/elastic/elasticsearch/issues/7440" class="ulink" target="_top">#7440</a>)
</li>
<li class="listitem">
Move DocStats under Engine to get more accurate numbers <a href="https://github.com/elastic/elasticsearch/pull/18587" class="ulink" target="_top">#18587</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Task Manager
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fetch result when wait_for_completion <a href="https://github.com/elastic/elasticsearch/pull/18905" class="ulink" target="_top">#18905</a>
</li>
<li class="listitem">
Create get task API that falls back to the .tasks index <a href="https://github.com/elastic/elasticsearch/pull/18682" class="ulink" target="_top">#18682</a>
</li>
<li class="listitem">
Add ability to store results for long running tasks <a href="https://github.com/elastic/elasticsearch/pull/17928" class="ulink" target="_top">#17928</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Translog
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Beef up Translog testing with random channel exceptions <a href="https://github.com/elastic/elasticsearch/pull/18997" class="ulink" target="_top">#18997</a>
</li>
<li class="listitem">
Do not replay into translog on local recovery <a href="https://github.com/elastic/elasticsearch/pull/18547" class="ulink" target="_top">#18547</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="bug-5.0.0-alpha4"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.5/docs/reference/release-notes/5.0.0-alpha4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix recovery throttling to properly handle relocating non-primary shards <a href="https://github.com/elastic/elasticsearch/pull/18701" class="ulink" target="_top">#18701</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18640" class="ulink" target="_top">#18640</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CAT API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix merge stats rendering in RestIndicesAction <a href="https://github.com/elastic/elasticsearch/pull/18720" class="ulink" target="_top">#18720</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Squash a race condition in RefreshListeners <a href="https://github.com/elastic/elasticsearch/pull/18806" class="ulink" target="_top">#18806</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Circuit Breakers
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Never trip circuit breaker in liveness request <a href="https://github.com/elastic/elasticsearch/pull/18627" class="ulink" target="_top">#18627</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17951" class="ulink" target="_top">#17951</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix block checks when no indices are specified <a href="https://github.com/elastic/elasticsearch/pull/19047" class="ulink" target="_top">#19047</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/8105" class="ulink" target="_top">#8105</a>)
</li>
<li class="listitem">
Acknowledge index deletion requests based on standard cluster state acknowledgment <a href="https://github.com/elastic/elasticsearch/pull/18602" class="ulink" target="_top">#18602</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/16442" class="ulink" target="_top">#16442</a>, <a href="https://github.com/elastic/elasticsearch/issues/18558" class="ulink" target="_top">#18558</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Throw exception if using a closed transport client <a href="https://github.com/elastic/elasticsearch/pull/18722" class="ulink" target="_top">#18722</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18708" class="ulink" target="_top">#18708</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Dates
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix invalid rounding value for TimeIntervalRounding close to DST transitions <a href="https://github.com/elastic/elasticsearch/pull/18800" class="ulink" target="_top">#18800</a>
</li>
<li class="listitem">
Fix problem with TimeIntervalRounding on DST end <a href="https://github.com/elastic/elasticsearch/pull/18780" class="ulink" target="_top">#18780</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Expressions
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
replace ScriptException with a better one <a href="https://github.com/elastic/elasticsearch/pull/18600" class="ulink" target="_top">#18600</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix ignore_failure behavior in _simulate?verbose and more cleanup <a href="https://github.com/elastic/elasticsearch/pull/18987" class="ulink" target="_top">#18987</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix filtering of node ids for TransportNodesAction <a href="https://github.com/elastic/elasticsearch/pull/18634" class="ulink" target="_top">#18634</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18618" class="ulink" target="_top">#18618</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Better error message when mapping configures null <a href="https://github.com/elastic/elasticsearch/pull/18809" class="ulink" target="_top">#18809</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18803" class="ulink" target="_top">#18803</a>)
</li>
<li class="listitem">
Process dynamic templates in order. <a href="https://github.com/elastic/elasticsearch/pull/18638" class="ulink" target="_top">#18638</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/18625" class="ulink" target="_top">#18625</a>, <a href="https://github.com/elastic/elasticsearch/issues/2401" class="ulink" target="_top">#2401</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove extra bin/ directory in bin folder <a href="https://github.com/elastic/elasticsearch/pull/18630" class="ulink" target="_top">#18630</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Lang Painless
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix compound assignment with string concats <a href="https://github.com/elastic/elasticsearch/pull/18933" class="ulink" target="_top">#18933</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18929" class="ulink" target="_top">#18929</a>)
</li>
<li class="listitem">
Fix horrible capture <a href="https://github.com/elastic/elasticsearch/pull/18907" class="ulink" target="_top">#18907</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18899" class="ulink" target="_top">#18899</a>)
</li>
<li class="listitem">
Fix Casting Bug <a href="https://github.com/elastic/elasticsearch/pull/18871" class="ulink" target="_top">#18871</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query DSL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make parsing of bool queries stricter <a href="https://github.com/elastic/elasticsearch/pull/19052" class="ulink" target="_top">#19052</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19034" class="ulink" target="_top">#19034</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
REST
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Get XContent params from request in Nodes rest actions <a href="https://github.com/elastic/elasticsearch/pull/18860" class="ulink" target="_top">#18860</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18794" class="ulink" target="_top">#18794</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reindex API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix a race condition in reindex&#8217;s rethrottle <a href="https://github.com/elastic/elasticsearch/pull/18731" class="ulink" target="_top">#18731</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18744" class="ulink" target="_top">#18744</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Require timeout units when parsing query body <a href="https://github.com/elastic/elasticsearch/pull/19077" class="ulink" target="_top">#19077</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/19075" class="ulink" target="_top">#19075</a>)
</li>
<li class="listitem">
Close SearchContext if query rewrite failed <a href="https://github.com/elastic/elasticsearch/pull/18727" class="ulink" target="_top">#18727</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Register "cloud.node.auto_attributes" setting in EC2 discovery plugin <a href="https://github.com/elastic/elasticsearch/pull/18678" class="ulink" target="_top">#18678</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Better handling of an empty shard&#8217;s segments_N file <a href="https://github.com/elastic/elasticsearch/pull/18784" class="ulink" target="_top">#18784</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/18707" class="ulink" target="_top">#18707</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix sync flush total shards statistics <a href="https://github.com/elastic/elasticsearch/pull/18766" class="ulink" target="_top">#18766</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Translog
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix translog replay multiple operations same doc <a href="https://github.com/elastic/elasticsearch/pull/18611" class="ulink" target="_top">#18611</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/18547" class="ulink" target="_top">#18547</a>, <a href="https://github.com/elastic/elasticsearch/issues/18623" class="ulink" target="_top">#18623</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="upgrade-5.0.0-alpha4"></a>Upgrades<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.5/docs/reference/release-notes/5.0.0-alpha4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to Lucene 6.1.0. <a href="https://github.com/elastic/elasticsearch/pull/18926" class="ulink" target="_top">#18926</a>
</li>
<li class="listitem">
Upgrade to lucene-6.1.0-snapshot-3a57bea. <a href="https://github.com/elastic/elasticsearch/pull/18786" class="ulink" target="_top">#18786</a>
</li>
<li class="listitem">
Upgrade to Lucene 6.0.1. <a href="https://github.com/elastic/elasticsearch/pull/18648" class="ulink" target="_top">#18648</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/17535" class="ulink" target="_top">#17535</a>, <a href="https://github.com/elastic/elasticsearch/issues/28" class="ulink" target="_top">#28</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Dates
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade joda-time to 2.9.4 <a href="https://github.com/elastic/elasticsearch/pull/18609" class="ulink" target="_top">#18609</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/14524" class="ulink" target="_top">#14524</a>, <a href="https://github.com/elastic/elasticsearch/issues/18017" class="ulink" target="_top">#18017</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade JNA to 4.2.2 and remove optionality <a href="https://github.com/elastic/elasticsearch/pull/19045" class="ulink" target="_top">#19045</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13245" class="ulink" target="_top">#13245</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Discovery EC2
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update aws sdk to 1.10.69 and add use_throttle_retries repository setting <a href="https://github.com/elastic/elasticsearch/pull/17784" class="ulink" target="_top">#17784</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/538" class="ulink" target="_top">#538</a>, <a href="https://github.com/elastic/elasticsearch/issues/586" class="ulink" target="_top">#586</a>, <a href="https://github.com/elastic/elasticsearch/issues/589" class="ulink" target="_top">#589</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-5.0.0-alpha5.html">« 5.0.0-alpha5 Release Notes</a>
</span>
<span class="next">
<a href="release-notes-5.0.0-alpha3.html">5.0.0-alpha3 Release Notes »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
