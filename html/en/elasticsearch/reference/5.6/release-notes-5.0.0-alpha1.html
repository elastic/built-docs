<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>5.0.0-alpha1 Release Notes | Elasticsearch Reference [5.6] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [5.6]"/>
<link rel="up" href="es-release-notes.html" title="Release Notes"/>
<link rel="prev" href="release-notes-5.0.0-alpha2.html" title="5.0.0-alpha2 Release Notes"/>
<link rel="next" href="release-notes-5.0.0-alpha1-2x.html" title="5.0.0-alpha1 Release Notes (Changes previously released in 2.x)"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/5.6"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="5.6"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.6 of Elasticsearch has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [5.6]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-5.0.0-alpha2.html">« 5.0.0-alpha2 Release Notes</a>
</span>
<span class="next">
<a href="release-notes-5.0.0-alpha1-2x.html">5.0.0-alpha1 Release Notes (Changes previously released in 2.x) »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-5.0.0-alpha1"></a>5.0.0-alpha1 Release Notes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.6/docs/reference/release-notes/5.0.0-alpha1.asciidoc">edit</a></h2>
</div></div></div>
<p>The changes listed below have been released for the first time in
Elasticsearch 5.0.0-alpha1.  Changes in this release which were first released
in the 2.x series are listed in <a class="xref" href="release-notes-5.0.0-alpha1-2x.html" title="5.0.0-alpha1 Release Notes (Changes previously released in 2.x)"><em>5.0.0-alpha1 Release Notes (Changes previously released in 2.x)</em></a>.</p>
<p>Also see <a class="xref" href="breaking-changes-5.0.html" title="Breaking changes in 5.0"><em>Breaking changes in 5.0</em></a>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>This is an alpha release and is intended for <em>testing purposes only</em>. Indices created in this version will <span class="strong strong"><strong>not be compatible with Elasticsearch 5.0.0 GA</strong></span>. Upgrading 5.0.0-alpha1 to any other version is not supported.</p>
</div>
</div>
<h3><a id="breaking-5.0.0-alpha1"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.6/docs/reference/release-notes/5.0.0-alpha1.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aliases
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
make get alias expand to open and closed indices by default <a href="https://github.com/elastic/elasticsearch/pull/15954" class="ulink" target="_top">#15954</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14982" class="ulink" target="_top">#14982</a>)
</li>
<li class="listitem">
Remove deprecated indices.get_aliases <a href="https://github.com/elastic/elasticsearch/pull/13906" class="ulink" target="_top">#13906</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove DisableAllocationDecider <a href="https://github.com/elastic/elasticsearch/pull/13313" class="ulink" target="_top">#13313</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CAT API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add raw recovery progress to cat recovery API <a href="https://github.com/elastic/elasticsearch/pull/17064" class="ulink" target="_top">#17064</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17022" class="ulink" target="_top">#17022</a>)
</li>
<li class="listitem">
Remove host from cat nodes API <a href="https://github.com/elastic/elasticsearch/pull/16656" class="ulink" target="_top">#16656</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/12959" class="ulink" target="_top">#12959</a>, <a href="https://github.com/elastic/elasticsearch/issues/16575" class="ulink" target="_top">#16575</a>)
</li>
<li class="listitem">
Using the accept header in the request instead of content-type in _cat API. <a href="https://github.com/elastic/elasticsearch/pull/14421" class="ulink" target="_top">#14421</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14195" class="ulink" target="_top">#14195</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove object notation for core types. <a href="https://github.com/elastic/elasticsearch/pull/15684" class="ulink" target="_top">#15684</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15388" class="ulink" target="_top">#15388</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cache
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove deprecated query cache settings <a href="https://github.com/elastic/elasticsearch/pull/15592" class="ulink" target="_top">#15592</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove memory section <a href="https://github.com/elastic/elasticsearch/pull/17278" class="ulink" target="_top">#17278</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/12049" class="ulink" target="_top">#12049</a>, <a href="https://github.com/elastic/elasticsearch/issues/16756" class="ulink" target="_top">#16756</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Bootstrap does not set system properties <a href="https://github.com/elastic/elasticsearch/pull/17088" class="ulink" target="_top">#17088</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/16579" class="ulink" target="_top">#16579</a>, <a href="https://github.com/elastic/elasticsearch/issues/16791" class="ulink" target="_top">#16791</a>)
</li>
<li class="listitem">
Add max number of processes check <a href="https://github.com/elastic/elasticsearch/pull/16919" class="ulink" target="_top">#16919</a>
</li>
<li class="listitem">
Add mlockall bootstrap check <a href="https://github.com/elastic/elasticsearch/pull/16909" class="ulink" target="_top">#16909</a>
</li>
<li class="listitem">
One log <a href="https://github.com/elastic/elasticsearch/pull/16703" class="ulink" target="_top">#16703</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16585" class="ulink" target="_top">#16585</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove <code class="literal">index.compound_on_flush</code> setting and default to <code class="literal">true</code> <a href="https://github.com/elastic/elasticsearch/pull/15594" class="ulink" target="_top">#15594</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10778" class="ulink" target="_top">#10778</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Fielddata
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove "uninverted" and "binary" fielddata support for numeric and boolean fields. <a href="https://github.com/elastic/elasticsearch/pull/14082" class="ulink" target="_top">#14082</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Index APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove <code class="literal">GET</code> option for /_forcemerge <a href="https://github.com/elastic/elasticsearch/pull/15223" class="ulink" target="_top">#15223</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15165" class="ulink" target="_top">#15165</a>)
</li>
<li class="listitem">
Remove /_optimize REST API endpoint <a href="https://github.com/elastic/elasticsearch/pull/14226" class="ulink" target="_top">#14226</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13778" class="ulink" target="_top">#13778</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove support for pre 2.0 indices <a href="https://github.com/elastic/elasticsearch/pull/13799" class="ulink" target="_top">#13799</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change the field mapping index time boost into a query time boost. <a href="https://github.com/elastic/elasticsearch/pull/16900" class="ulink" target="_top">#16900</a>
</li>
<li class="listitem">
Deprecate string in favor of text/keyword. <a href="https://github.com/elastic/elasticsearch/pull/16877" class="ulink" target="_top">#16877</a>
</li>
<li class="listitem">
Term vector APIs should no longer update mappings <a href="https://github.com/elastic/elasticsearch/pull/16285" class="ulink" target="_top">#16285</a>
</li>
<li class="listitem">
Remove the <code class="literal">format</code> option of the <code class="literal">_source</code> field. <a href="https://github.com/elastic/elasticsearch/pull/15398" class="ulink" target="_top">#15398</a>
</li>
<li class="listitem">
Remove transform <a href="https://github.com/elastic/elasticsearch/pull/13657" class="ulink" target="_top">#13657</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/12674" class="ulink" target="_top">#12674</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Parent/Child
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Removed <code class="literal">total</code> score mode in favour for <code class="literal">sum</code> score mode. <a href="https://github.com/elastic/elasticsearch/pull/17174" class="ulink" target="_top">#17174</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/13470" class="ulink" target="_top">#13470</a>, <a href="https://github.com/elastic/elasticsearch/issues/17083" class="ulink" target="_top">#17083</a>)
</li>
<li class="listitem">
Removed pre 2.x parent child implementation <a href="https://github.com/elastic/elasticsearch/pull/13376" class="ulink" target="_top">#13376</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Percolator
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change the percolate api to not dynamically add fields to mapping <a href="https://github.com/elastic/elasticsearch/pull/16077" class="ulink" target="_top">#16077</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15751" class="ulink" target="_top">#15751</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Rename bin/plugin in bin/elasticsearch-plugin <a href="https://github.com/elastic/elasticsearch/pull/16454" class="ulink" target="_top">#16454</a>
</li>
<li class="listitem">
Remove multicast plugin <a href="https://github.com/elastic/elasticsearch/pull/16326" class="ulink" target="_top">#16326</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16310" class="ulink" target="_top">#16310</a>)
</li>
<li class="listitem">
Plugins: Remove site plugins <a href="https://github.com/elastic/elasticsearch/pull/16038" class="ulink" target="_top">#16038</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query DSL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Function score query: remove deprecated support for boost_factor <a href="https://github.com/elastic/elasticsearch/pull/13510" class="ulink" target="_top">#13510</a>
</li>
<li class="listitem">
Remove support for deprecated queries. <a href="https://github.com/elastic/elasticsearch/pull/13418" class="ulink" target="_top">#13418</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13326" class="ulink" target="_top">#13326</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
REST
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Limit the accepted length of the _id <a href="https://github.com/elastic/elasticsearch/pull/16036" class="ulink" target="_top">#16036</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16034" class="ulink" target="_top">#16034</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove deprecated reverse option from sorting <a href="https://github.com/elastic/elasticsearch/pull/17282" class="ulink" target="_top">#17282</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17047" class="ulink" target="_top">#17047</a>)
</li>
<li class="listitem">
Remove some deprecations <a href="https://github.com/elastic/elasticsearch/pull/14331" class="ulink" target="_top">#14331</a>
</li>
<li class="listitem">
Remove search exists api <a href="https://github.com/elastic/elasticsearch/pull/13911" class="ulink" target="_top">#13911</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/13682" class="ulink" target="_top">#13682</a>, <a href="https://github.com/elastic/elasticsearch/issues/13910" class="ulink" target="_top">#13910</a>)
</li>
<li class="listitem">
Remove the scan and count search types. <a href="https://github.com/elastic/elasticsearch/pull/13310" class="ulink" target="_top">#13310</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search Refactoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove "query" query and fix related parsing bugs <a href="https://github.com/elastic/elasticsearch/pull/14304" class="ulink" target="_top">#14304</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13326" class="ulink" target="_top">#13326</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove ability to specify arbitrary node attributes with <code class="literal">node.</code> prefix <a href="https://github.com/elastic/elasticsearch/pull/17402" class="ulink" target="_top">#17402</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17280" class="ulink" target="_top">#17280</a>)
</li>
<li class="listitem">
Enforce <code class="literal">discovery.zen.minimum_master_nodes</code> is set when bound to a public ip <a href="https://github.com/elastic/elasticsearch/pull/17288" class="ulink" target="_top">#17288</a>
</li>
<li class="listitem">
Prevent index level setting from being configured on a node level <a href="https://github.com/elastic/elasticsearch/pull/17144" class="ulink" target="_top">#17144</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16799" class="ulink" target="_top">#16799</a>)
</li>
<li class="listitem">
Remove support for node.client setting <a href="https://github.com/elastic/elasticsearch/pull/16963" class="ulink" target="_top">#16963</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16565" class="ulink" target="_top">#16565</a>)
</li>
<li class="listitem">
Remove es.max-open-files flag <a href="https://github.com/elastic/elasticsearch/pull/16757" class="ulink" target="_top">#16757</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/16506" class="ulink" target="_top">#16506</a>, <a href="https://github.com/elastic/elasticsearch/issues/483" class="ulink" target="_top">#483</a>)
</li>
<li class="listitem">
Enforce node level limits if node is started in production env <a href="https://github.com/elastic/elasticsearch/pull/16733" class="ulink" target="_top">#16733</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16727" class="ulink" target="_top">#16727</a>)
</li>
<li class="listitem">
Make settings validation strict <a href="https://github.com/elastic/elasticsearch/pull/16365" class="ulink" target="_top">#16365</a>
</li>
<li class="listitem">
Remove the ability to fsync on every operation and only schedule fsync task if really needed <a href="https://github.com/elastic/elasticsearch/pull/16257" class="ulink" target="_top">#16257</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16152" class="ulink" target="_top">#16152</a>)
</li>
<li class="listitem">
Script settings <a href="https://github.com/elastic/elasticsearch/pull/16197" class="ulink" target="_top">#16197</a>
</li>
<li class="listitem">
Remove index.flush_on_close entirely <a href="https://github.com/elastic/elasticsearch/pull/15977" class="ulink" target="_top">#15977</a>
</li>
<li class="listitem">
Restore chunksize of 512kb on recovery and remove configurability <a href="https://github.com/elastic/elasticsearch/pull/15235" class="ulink" target="_top">#15235</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15161" class="ulink" target="_top">#15161</a>)
</li>
<li class="listitem">
Remove ancient deprecated and alternative recovery settings <a href="https://github.com/elastic/elasticsearch/pull/15234" class="ulink" target="_top">#15234</a>
</li>
<li class="listitem">
Fix ping timeout settings inconsistencies <a href="https://github.com/elastic/elasticsearch/pull/13701" class="ulink" target="_top">#13701</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/6579" class="ulink" target="_top">#6579</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Similarities
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Renames <code class="literal">default</code> similarity into <code class="literal">classic</code> <a href="https://github.com/elastic/elasticsearch/pull/15446" class="ulink" target="_top">#15446</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15102" class="ulink" target="_top">#15102</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fail closing or deleting indices during a full snapshot <a href="https://github.com/elastic/elasticsearch/pull/17021" class="ulink" target="_top">#17021</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16321" class="ulink" target="_top">#16321</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Modify load average format <a href="https://github.com/elastic/elasticsearch/pull/15932" class="ulink" target="_top">#15932</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15907" class="ulink" target="_top">#15907</a>)
</li>
<li class="listitem">
Reintroduce five-minute and fifteen-minute load averages on Linux <a href="https://github.com/elastic/elasticsearch/pull/15907" class="ulink" target="_top">#15907</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/12049" class="ulink" target="_top">#12049</a>, <a href="https://github.com/elastic/elasticsearch/issues/14741" class="ulink" target="_top">#14741</a>)
</li>
<li class="listitem">
Add system CPU percent to OS stats <a href="https://github.com/elastic/elasticsearch/pull/14741" class="ulink" target="_top">#14741</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Term Vectors
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove DFS support from TermVector API <a href="https://github.com/elastic/elasticsearch/pull/16452" class="ulink" target="_top">#16452</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Translog
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Drop support for simple translog and hard-wire buffer to 8kb <a href="https://github.com/elastic/elasticsearch/pull/15574" class="ulink" target="_top">#15574</a>
</li>
<li class="listitem">
Simplify translog-based flush settings <a href="https://github.com/elastic/elasticsearch/pull/15573" class="ulink" target="_top">#15573</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Warmers
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove query warmers and the warmer API. <a href="https://github.com/elastic/elasticsearch/pull/15614" class="ulink" target="_top">#15614</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15607" class="ulink" target="_top">#15607</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="breaking-java-5.0.0-alpha1"></a>Breaking Java changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.6/docs/reference/release-notes/5.0.0-alpha1.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
getKeyAsString and key_as_string should be the same for terms aggregation on boolean field <a href="https://github.com/elastic/elasticsearch/pull/15393" class="ulink" target="_top">#15393</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Simplify shard balancer interface <a href="https://github.com/elastic/elasticsearch/pull/17028" class="ulink" target="_top">#17028</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/8954" class="ulink" target="_top">#8954</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Simplify Analysis registration and configuration <a href="https://github.com/elastic/elasticsearch/pull/14355" class="ulink" target="_top">#14355</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cache
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refactor IndicesRequestCache to make it testable. <a href="https://github.com/elastic/elasticsearch/pull/16610" class="ulink" target="_top">#16610</a>
</li>
<li class="listitem">
Fold IndexCacheModule into IndexModule <a href="https://github.com/elastic/elasticsearch/pull/14293" class="ulink" target="_top">#14293</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove es.useLinkedTransferQueue <a href="https://github.com/elastic/elasticsearch/pull/16786" class="ulink" target="_top">#16786</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Discovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Include pings from client nodes in master election <a href="https://github.com/elastic/elasticsearch/pull/17329" class="ulink" target="_top">#17329</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17325" class="ulink" target="_top">#17325</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove duplicate getters from DiscoveryNode and DiscoveryNodes <a href="https://github.com/elastic/elasticsearch/pull/17410" class="ulink" target="_top">#17410</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16963" class="ulink" target="_top">#16963</a>)
</li>
<li class="listitem">
Cli: Switch to jopt-simple <a href="https://github.com/elastic/elasticsearch/pull/17024" class="ulink" target="_top">#17024</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/11564" class="ulink" target="_top">#11564</a>)
</li>
<li class="listitem">
Replace ContextAndHeaders with a ThreadPool based ThreadLocal implementation <a href="https://github.com/elastic/elasticsearch/pull/15776" class="ulink" target="_top">#15776</a>
</li>
<li class="listitem">
Remove NodeBuilder <a href="https://github.com/elastic/elasticsearch/pull/15354" class="ulink" target="_top">#15354</a>
</li>
<li class="listitem">
Fix IndexSearcherWrapper interface to not depend on the EngineConfig <a href="https://github.com/elastic/elasticsearch/pull/14654" class="ulink" target="_top">#14654</a>
</li>
<li class="listitem">
Cleanup query parsing and remove IndexQueryParserService <a href="https://github.com/elastic/elasticsearch/pull/14452" class="ulink" target="_top">#14452</a>
</li>
<li class="listitem">
Remove circular dependency between IndicesService and IndicesStore <a href="https://github.com/elastic/elasticsearch/pull/14285" class="ulink" target="_top">#14285</a>
</li>
<li class="listitem">
Remove guice injection from IndexStore and friends <a href="https://github.com/elastic/elasticsearch/pull/14279" class="ulink" target="_top">#14279</a>
</li>
<li class="listitem">
Replace IndicesLifecycle with a per-index IndexEventListener <a href="https://github.com/elastic/elasticsearch/pull/14217" class="ulink" target="_top">#14217</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13259" class="ulink" target="_top">#13259</a>)
</li>
<li class="listitem">
Simplify similarity module and friends <a href="https://github.com/elastic/elasticsearch/pull/13942" class="ulink" target="_top">#13942</a>
</li>
<li class="listitem">
Refactor SearchRequest to be parsed on the coordinating node <a href="https://github.com/elastic/elasticsearch/pull/13859" class="ulink" target="_top">#13859</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove the count api <a href="https://github.com/elastic/elasticsearch/pull/14166" class="ulink" target="_top">#14166</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13928" class="ulink" target="_top">#13928</a>)
</li>
<li class="listitem">
IdsQueryBuilder to accept only non null ids and types <a href="https://github.com/elastic/elasticsearch/pull/13937" class="ulink" target="_top">#13937</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[Mapping] Several MappingService cleanups <a href="https://github.com/elastic/elasticsearch/pull/16133" class="ulink" target="_top">#16133</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15924" class="ulink" target="_top">#15924</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove ability to disable Netty gathering writes <a href="https://github.com/elastic/elasticsearch/pull/16774" class="ulink" target="_top">#16774</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/7811" class="ulink" target="_top">#7811</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Parent/Child
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Cleanup ParentFieldMapper <a href="https://github.com/elastic/elasticsearch/pull/16045" class="ulink" target="_top">#16045</a>
</li>
<li class="listitem">
Several other parent/child cleanups <a href="https://github.com/elastic/elasticsearch/pull/13470" class="ulink" target="_top">#13470</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enforce isolated mode for all plugins <a href="https://github.com/elastic/elasticsearch/pull/17276" class="ulink" target="_top">#17276</a>
</li>
<li class="listitem">
Change the inner structure of the plugins zip <a href="https://github.com/elastic/elasticsearch/pull/16453" class="ulink" target="_top">#16453</a>
</li>
<li class="listitem">
Don&#8217;t use guice for QueryParsers <a href="https://github.com/elastic/elasticsearch/pull/15761" class="ulink" target="_top">#15761</a>
</li>
<li class="listitem">
Remove guice from the index level <a href="https://github.com/elastic/elasticsearch/pull/14518" class="ulink" target="_top">#14518</a>
</li>
<li class="listitem">
Remove shard-level injector <a href="https://github.com/elastic/elasticsearch/pull/13881" class="ulink" target="_top">#13881</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query DSL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove the MissingQueryBuilder which was deprecated in 2.2.0. <a href="https://github.com/elastic/elasticsearch/pull/15364" class="ulink" target="_top">#15364</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14112" class="ulink" target="_top">#14112</a>)
</li>
<li class="listitem">
Remove NotQueryBuilder <a href="https://github.com/elastic/elasticsearch/pull/14204" class="ulink" target="_top">#14204</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13761" class="ulink" target="_top">#13761</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Query refactoring: split parse phase into fromXContent and toQuery for all queries <a href="https://github.com/elastic/elasticsearch/pull/13788" class="ulink" target="_top">#13788</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10217" class="ulink" target="_top">#10217</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search Refactoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refactored inner hits parsing and intoduced InnerHitBuilder <a href="https://github.com/elastic/elasticsearch/pull/17291" class="ulink" target="_top">#17291</a>
</li>
<li class="listitem">
Remove deprecated parameter from field sort builder. <a href="https://github.com/elastic/elasticsearch/pull/16573" class="ulink" target="_top">#16573</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16127" class="ulink" target="_top">#16127</a>)
</li>
<li class="listitem">
Remove support for query_binary and filter_binary <a href="https://github.com/elastic/elasticsearch/pull/14433" class="ulink" target="_top">#14433</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14308" class="ulink" target="_top">#14308</a>)
</li>
<li class="listitem">
Validate query api: move query parsing to the coordinating node <a href="https://github.com/elastic/elasticsearch/pull/14384" class="ulink" target="_top">#14384</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move remaining settings in NettyHttpServerTransport to the new infra <a href="https://github.com/elastic/elasticsearch/pull/16531" class="ulink" target="_top">#16531</a>
</li>
<li class="listitem">
Replace IndexSettings annotation with a full-fledged class <a href="https://github.com/elastic/elasticsearch/pull/14251" class="ulink" target="_top">#14251</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Standardize state format type for global and index level metadata <a href="https://github.com/elastic/elasticsearch/pull/17123" class="ulink" target="_top">#17123</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Suggesters
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove suggest threadpool <a href="https://github.com/elastic/elasticsearch/pull/17304" class="ulink" target="_top">#17304</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17198" class="ulink" target="_top">#17198</a>)
</li>
<li class="listitem">
Remove suggest transport action <a href="https://github.com/elastic/elasticsearch/pull/17198" class="ulink" target="_top">#17198</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10217" class="ulink" target="_top">#10217</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="deprecation-5.0.0-alpha1"></a>Deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.6/docs/reference/release-notes/5.0.0-alpha1.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Plugin Mapper Attachment
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate mapper-attachments plugin <a href="https://github.com/elastic/elasticsearch/pull/16948" class="ulink" target="_top">#16948</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16910" class="ulink" target="_top">#16910</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate fuzzy query <a href="https://github.com/elastic/elasticsearch/pull/16211" class="ulink" target="_top">#16211</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/15760" class="ulink" target="_top">#15760</a>, <a href="https://github.com/elastic/elasticsearch/issues/16121" class="ulink" target="_top">#16121</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="feature-5.0.0-alpha1"></a>New features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.6/docs/reference/release-notes/5.0.0-alpha1.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add API to explain why a shard is or isn&#8217;t assigned <a href="https://github.com/elastic/elasticsearch/pull/17305" class="ulink" target="_top">#17305</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14593" class="ulink" target="_top">#14593</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Discovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add two phased commit to Cluster State publishing <a href="https://github.com/elastic/elasticsearch/pull/13062" class="ulink" target="_top">#13062</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Merge feature/ingest branch into master branch <a href="https://github.com/elastic/elasticsearch/pull/16049" class="ulink" target="_top">#16049</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14049" class="ulink" target="_top">#14049</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a text field. <a href="https://github.com/elastic/elasticsearch/pull/16637" class="ulink" target="_top">#16637</a>
</li>
<li class="listitem">
Add a new <code class="literal">keyword</code> field. <a href="https://github.com/elastic/elasticsearch/pull/16589" class="ulink" target="_top">#16589</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Percolator
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
index the query terms from the percolator query <a href="https://github.com/elastic/elasticsearch/pull/13646" class="ulink" target="_top">#13646</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/12664" class="ulink" target="_top">#12664</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Ingest Attachment
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ingest: Add attachment processor <a href="https://github.com/elastic/elasticsearch/pull/16490" class="ulink" target="_top">#16490</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16303" class="ulink" target="_top">#16303</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Mapper Attachment
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Migrate mapper attachments plugin to main repository <a href="https://github.com/elastic/elasticsearch/pull/14605" class="ulink" target="_top">#14605</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Repository HDFS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
HDFS Snapshot/Restore plugin <a href="https://github.com/elastic/elasticsearch/pull/15192" class="ulink" target="_top">#15192</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15191" class="ulink" target="_top">#15191</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query DSL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adds a rewrite phase to queries on the shard level <a href="https://github.com/elastic/elasticsearch/pull/16870" class="ulink" target="_top">#16870</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/9526" class="ulink" target="_top">#9526</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reindex API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Merge reindex to master <a href="https://github.com/elastic/elasticsearch/pull/16861" class="ulink" target="_top">#16861</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Exceptions and Infinite Loop Checking <a href="https://github.com/elastic/elasticsearch/pull/15936" class="ulink" target="_top">#15936</a>
</li>
<li class="listitem">
Added a new scripting language (PlanA) <a href="https://github.com/elastic/elasticsearch/pull/15136" class="ulink" target="_top">#15136</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13084" class="ulink" target="_top">#13084</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">search_after</code> parameter in the SearchAPI <a href="https://github.com/elastic/elasticsearch/pull/16125" class="ulink" target="_top">#16125</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/8192" class="ulink" target="_top">#8192</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add infrastructure to transactionally apply and reset dynamic settings <a href="https://github.com/elastic/elasticsearch/pull/15278" class="ulink" target="_top">#15278</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
API for listing index file sizes <a href="https://github.com/elastic/elasticsearch/pull/16661" class="ulink" target="_top">#16661</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16131" class="ulink" target="_top">#16131</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Suggesters
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add document-oriented completion suggester <a href="https://github.com/elastic/elasticsearch/pull/14410" class="ulink" target="_top">#14410</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10746" class="ulink" target="_top">#10746</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Task Manager
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add task cancellation mechanism <a href="https://github.com/elastic/elasticsearch/pull/16320" class="ulink" target="_top">#16320</a>
</li>
<li class="listitem">
Make the Task object available to the action caller <a href="https://github.com/elastic/elasticsearch/pull/16033" class="ulink" target="_top">#16033</a>
</li>
<li class="listitem">
Task Management: Add framework for registering and communicating with tasks <a href="https://github.com/elastic/elasticsearch/pull/15347" class="ulink" target="_top">#15347</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15117" class="ulink" target="_top">#15117</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="enhancement-5.0.0-alpha1"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.6/docs/reference/release-notes/5.0.0-alpha1.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add tests and documentation for using <code class="literal">time_zone</code> in date range aggregation <a href="https://github.com/elastic/elasticsearch/pull/16955" class="ulink" target="_top">#16955</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10130" class="ulink" target="_top">#10130</a>)
</li>
<li class="listitem">
Fixes serialisation of Ranges <a href="https://github.com/elastic/elasticsearch/pull/16674" class="ulink" target="_top">#16674</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Write shard state metadata as soon as shard is created / initializing <a href="https://github.com/elastic/elasticsearch/pull/16625" class="ulink" target="_top">#16625</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14739" class="ulink" target="_top">#14739</a>)
</li>
<li class="listitem">
Reuse existing allocation id for primary shard allocation <a href="https://github.com/elastic/elasticsearch/pull/16530" class="ulink" target="_top">#16530</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14739" class="ulink" target="_top">#14739</a>)
</li>
<li class="listitem">
Remove version in ShardRouting (now obsolete) <a href="https://github.com/elastic/elasticsearch/pull/16243" class="ulink" target="_top">#16243</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14739" class="ulink" target="_top">#14739</a>)
</li>
<li class="listitem">
Prefer nodes that previously held primary shard for primary shard allocation <a href="https://github.com/elastic/elasticsearch/pull/16096" class="ulink" target="_top">#16096</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14739" class="ulink" target="_top">#14739</a>)
</li>
<li class="listitem">
Extend reroute with an option to force assign stale primary shard copies <a href="https://github.com/elastic/elasticsearch/pull/15708" class="ulink" target="_top">#15708</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14739" class="ulink" target="_top">#14739</a>)
</li>
<li class="listitem">
Allocate primary shards based on allocation IDs <a href="https://github.com/elastic/elasticsearch/pull/15281" class="ulink" target="_top">#15281</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14739" class="ulink" target="_top">#14739</a>)
</li>
<li class="listitem">
Persist currently started allocation IDs to index metadata <a href="https://github.com/elastic/elasticsearch/pull/14964" class="ulink" target="_top">#14964</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14739" class="ulink" target="_top">#14739</a>)
</li>
<li class="listitem">
Use ObjectParser to parse AllocationID <a href="https://github.com/elastic/elasticsearch/pull/14962" class="ulink" target="_top">#14962</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14831" class="ulink" target="_top">#14831</a>)
</li>
<li class="listitem">
Persist allocation ID with shard state metadata on nodes <a href="https://github.com/elastic/elasticsearch/pull/14831" class="ulink" target="_top">#14831</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14739" class="ulink" target="_top">#14739</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve error message if resource files have illegal encoding <a href="https://github.com/elastic/elasticsearch/pull/17237" class="ulink" target="_top">#17237</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17212" class="ulink" target="_top">#17212</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CAT API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Expose http address in cat/nodes <a href="https://github.com/elastic/elasticsearch/pull/16770" class="ulink" target="_top">#16770</a>
</li>
<li class="listitem">
[cat/recovery] Make recovery time a TimeValue() <a href="https://github.com/elastic/elasticsearch/pull/16743" class="ulink" target="_top">#16743</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/9209" class="ulink" target="_top">#9209</a>)
</li>
<li class="listitem">
:CAT API: remove space at the end of a line <a href="https://github.com/elastic/elasticsearch/pull/15250" class="ulink" target="_top">#15250</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/9464" class="ulink" target="_top">#9464</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
CRUD: Allow to get and set ttl as a time value/string <a href="https://github.com/elastic/elasticsearch/pull/15047" class="ulink" target="_top">#15047</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cache
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable the indices request cache by default <a href="https://github.com/elastic/elasticsearch/pull/17162" class="ulink" target="_top">#17162</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/16870" class="ulink" target="_top">#16870</a>, <a href="https://github.com/elastic/elasticsearch/issues/17134" class="ulink" target="_top">#17134</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Cluster Health should run on applied states, even if waitFor=0 <a href="https://github.com/elastic/elasticsearch/pull/17440" class="ulink" target="_top">#17440</a>
</li>
<li class="listitem">
Resolve index names to Index instances early <a href="https://github.com/elastic/elasticsearch/pull/17048" class="ulink" target="_top">#17048</a>
</li>
<li class="listitem">
Remove DiscoveryNode#shouldConnectTo method <a href="https://github.com/elastic/elasticsearch/pull/16898" class="ulink" target="_top">#16898</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16815" class="ulink" target="_top">#16815</a>)
</li>
<li class="listitem">
Fail demoted primary shards and retry request <a href="https://github.com/elastic/elasticsearch/pull/16415" class="ulink" target="_top">#16415</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14252" class="ulink" target="_top">#14252</a>)
</li>
<li class="listitem">
Illegal shard failure requests <a href="https://github.com/elastic/elasticsearch/pull/16275" class="ulink" target="_top">#16275</a>
</li>
<li class="listitem">
Shard failure requests for non-existent shards <a href="https://github.com/elastic/elasticsearch/pull/16089" class="ulink" target="_top">#16089</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14252" class="ulink" target="_top">#14252</a>)
</li>
<li class="listitem">
Add handling of channel failures when starting a shard <a href="https://github.com/elastic/elasticsearch/pull/16041" class="ulink" target="_top">#16041</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15895" class="ulink" target="_top">#15895</a>)
</li>
<li class="listitem">
Wait for new master when failing shard <a href="https://github.com/elastic/elasticsearch/pull/15748" class="ulink" target="_top">#15748</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14252" class="ulink" target="_top">#14252</a>)
</li>
<li class="listitem">
Master should wait on cluster state publication when failing a shard <a href="https://github.com/elastic/elasticsearch/pull/15468" class="ulink" target="_top">#15468</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14252" class="ulink" target="_top">#14252</a>)
</li>
<li class="listitem">
Split cluster state update tasks into roles <a href="https://github.com/elastic/elasticsearch/pull/14899" class="ulink" target="_top">#14899</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13627" class="ulink" target="_top">#13627</a>)
</li>
<li class="listitem">
Add timeout mechanism for sending shard failures <a href="https://github.com/elastic/elasticsearch/pull/14707" class="ulink" target="_top">#14707</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14252" class="ulink" target="_top">#14252</a>)
</li>
<li class="listitem">
Add listener mechanism for failures to send shard failed <a href="https://github.com/elastic/elasticsearch/pull/14295" class="ulink" target="_top">#14295</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14252" class="ulink" target="_top">#14252</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove PROTOTYPE from BulkItemResponse.Failure <a href="https://github.com/elastic/elasticsearch/pull/17433" class="ulink" target="_top">#17433</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17086" class="ulink" target="_top">#17086</a>)
</li>
<li class="listitem">
Throw an exception if Writeable.Reader reads null <a href="https://github.com/elastic/elasticsearch/pull/17332" class="ulink" target="_top">#17332</a>
</li>
<li class="listitem">
Remove PROTOTYPE from RescorerBuilders <a href="https://github.com/elastic/elasticsearch/pull/17330" class="ulink" target="_top">#17330</a>
</li>
<li class="listitem">
Port Primary Terms to master <a href="https://github.com/elastic/elasticsearch/pull/17044" class="ulink" target="_top">#17044</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/14062" class="ulink" target="_top">#14062</a>, <a href="https://github.com/elastic/elasticsearch/issues/14651" class="ulink" target="_top">#14651</a>, <a href="https://github.com/elastic/elasticsearch/issues/17038" class="ulink" target="_top">#17038</a>)
</li>
<li class="listitem">
Use index UUID to lookup indices on IndicesService <a href="https://github.com/elastic/elasticsearch/pull/17001" class="ulink" target="_top">#17001</a>
</li>
<li class="listitem">
Add -XX+AlwaysPreTouch JVM flag <a href="https://github.com/elastic/elasticsearch/pull/16937" class="ulink" target="_top">#16937</a>
</li>
<li class="listitem">
Add max size virtual memory check <a href="https://github.com/elastic/elasticsearch/pull/16935" class="ulink" target="_top">#16935</a>
</li>
<li class="listitem">
Use and test relative time in TransportBulkAction <a href="https://github.com/elastic/elasticsearch/pull/16916" class="ulink" target="_top">#16916</a>
</li>
<li class="listitem">
Bump Elasticsearch version to 5.0.0-SNAPSHOT <a href="https://github.com/elastic/elasticsearch/pull/16862" class="ulink" target="_top">#16862</a>
</li>
<li class="listitem">
Assert that we can write in all data-path on startup <a href="https://github.com/elastic/elasticsearch/pull/16745" class="ulink" target="_top">#16745</a>
</li>
<li class="listitem">
Add G1GC check on startup <a href="https://github.com/elastic/elasticsearch/pull/16737" class="ulink" target="_top">#16737</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10740" class="ulink" target="_top">#10740</a>)
</li>
<li class="listitem">
Shards with heavy indexing should get more of the indexing buffer <a href="https://github.com/elastic/elasticsearch/pull/14121" class="ulink" target="_top">#14121</a>
</li>
<li class="listitem">
Remove and ban ImmutableMap <a href="https://github.com/elastic/elasticsearch/pull/13939" class="ulink" target="_top">#13939</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Finish banning ImmutableSet <a href="https://github.com/elastic/elasticsearch/pull/13820" class="ulink" target="_top">#13820</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Removes and bans ImmutableSet <a href="https://github.com/elastic/elasticsearch/pull/13754" class="ulink" target="_top">#13754</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and ban ImmutableMap#entrySet <a href="https://github.com/elastic/elasticsearch/pull/13724" class="ulink" target="_top">#13724</a>
</li>
<li class="listitem">
Forbid ForwardingSet <a href="https://github.com/elastic/elasticsearch/pull/13720" class="ulink" target="_top">#13720</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Discovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a dedicate queue for incoming ClusterStates <a href="https://github.com/elastic/elasticsearch/pull/13303" class="ulink" target="_top">#13303</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13062" class="ulink" target="_top">#13062</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove writeLockTimeout from InternalEngine <a href="https://github.com/elastic/elasticsearch/pull/16930" class="ulink" target="_top">#16930</a>
</li>
<li class="listitem">
Don&#8217;t guard IndexShard#refresh calls by a check to isRefreshNeeded <a href="https://github.com/elastic/elasticsearch/pull/16118" class="ulink" target="_top">#16118</a>
</li>
<li class="listitem">
Never call a listerner under lock in InternalEngine <a href="https://github.com/elastic/elasticsearch/pull/15786" class="ulink" target="_top">#15786</a>
</li>
<li class="listitem">
Use System.nanoTime() to initialize Engine.lastWriteNanos <a href="https://github.com/elastic/elasticsearch/pull/14321" class="ulink" target="_top">#14321</a>
</li>
<li class="listitem">
Flush big merges automatically if shard is inactive <a href="https://github.com/elastic/elasticsearch/pull/14275" class="ulink" target="_top">#14275</a>
</li>
<li class="listitem">
Remove Engine.Create <a href="https://github.com/elastic/elasticsearch/pull/13955" class="ulink" target="_top">#13955</a>
</li>
<li class="listitem">
Remove the disabled autogenerated id optimization from InternalEngine <a href="https://github.com/elastic/elasticsearch/pull/13857" class="ulink" target="_top">#13857</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Exceptions
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix typos in exception/assert/log messages in core module. <a href="https://github.com/elastic/elasticsearch/pull/16649" class="ulink" target="_top">#16649</a>
</li>
<li class="listitem">
Add field names to several mapping errors <a href="https://github.com/elastic/elasticsearch/pull/16508" class="ulink" target="_top">#16508</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16378" class="ulink" target="_top">#16378</a>)
</li>
<li class="listitem">
Add serialization support for more important IOExceptions <a href="https://github.com/elastic/elasticsearch/pull/15766" class="ulink" target="_top">#15766</a>
</li>
<li class="listitem">
Adds exception objects to log messages. <a href="https://github.com/elastic/elasticsearch/pull/14827" class="ulink" target="_top">#14827</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10021" class="ulink" target="_top">#10021</a>)
</li>
<li class="listitem">
Add stack traces to logged exceptions where missing <a href="https://github.com/elastic/elasticsearch/pull/13825" class="ulink" target="_top">#13825</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10021" class="ulink" target="_top">#10021</a>)
</li>
<li class="listitem">
Remove reflection hacks from ElasticsearchException <a href="https://github.com/elastic/elasticsearch/pull/13796" class="ulink" target="_top">#13796</a>
</li>
<li class="listitem">
Rename QueryParsingException to a more generic ParsingException <a href="https://github.com/elastic/elasticsearch/pull/13631" class="ulink" target="_top">#13631</a>
</li>
<li class="listitem">
Add *Exception(Throwable cause) constructors/ call where appropriate <a href="https://github.com/elastic/elasticsearch/pull/13544" class="ulink" target="_top">#13544</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10021" class="ulink" target="_top">#10021</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix a potential parsing problem in GeoDistanceSortParser <a href="https://github.com/elastic/elasticsearch/pull/17111" class="ulink" target="_top">#17111</a>
</li>
<li class="listitem">
Geo: Add validation of shapes to ShapeBuilders <a href="https://github.com/elastic/elasticsearch/pull/15551" class="ulink" target="_top">#15551</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14416" class="ulink" target="_top">#14416</a>)
</li>
<li class="listitem">
Make remaining ShapeBuilders implement Writeable <a href="https://github.com/elastic/elasticsearch/pull/15010" class="ulink" target="_top">#15010</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14416" class="ulink" target="_top">#14416</a>)
</li>
<li class="listitem">
Geo: Remove internal <code class="literal">translated</code> flag from LineStringBuilder <a href="https://github.com/elastic/elasticsearch/pull/14969" class="ulink" target="_top">#14969</a>
</li>
<li class="listitem">
Make PointBuilder, CircleBuilder &amp; EnvelopeBuilder implement Writable  <a href="https://github.com/elastic/elasticsearch/pull/14933" class="ulink" target="_top">#14933</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14416" class="ulink" target="_top">#14416</a>)
</li>
<li class="listitem">
Merging BaseLineString and BasePolygonBuilder with subclass <a href="https://github.com/elastic/elasticsearch/pull/14887" class="ulink" target="_top">#14887</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14482" class="ulink" target="_top">#14482</a>)
</li>
<li class="listitem">
Moving static factory methods to ShapeBuilders <a href="https://github.com/elastic/elasticsearch/pull/14529" class="ulink" target="_top">#14529</a>
</li>
<li class="listitem">
Remove InternalLineStringBuilder and InternalPolygonBuilder <a href="https://github.com/elastic/elasticsearch/pull/14482" class="ulink" target="_top">#14482</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14416" class="ulink" target="_top">#14416</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Switch Highlighting to ObjectParser  <a href="https://github.com/elastic/elasticsearch/pull/17363" class="ulink" target="_top">#17363</a>
</li>
<li class="listitem">
Use HighlightBuilder in SearchSourceBuilder <a href="https://github.com/elastic/elasticsearch/pull/15376" class="ulink" target="_top">#15376</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15044" class="ulink" target="_top">#15044</a>)
</li>
<li class="listitem">
Joint parsing of common global Hightlighter and subfield parameters <a href="https://github.com/elastic/elasticsearch/pull/15368" class="ulink" target="_top">#15368</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15285" class="ulink" target="_top">#15285</a>)
</li>
<li class="listitem">
Enable HighlightBuilder to create SearchContextHighlight <a href="https://github.com/elastic/elasticsearch/pull/15324" class="ulink" target="_top">#15324</a>
</li>
<li class="listitem">
Add fromXContent method to HighlightBuilder <a href="https://github.com/elastic/elasticsearch/pull/15157" class="ulink" target="_top">#15157</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
add automatic type conversion support to ConvertProcessor <a href="https://github.com/elastic/elasticsearch/pull/17263" class="ulink" target="_top">#17263</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17139" class="ulink" target="_top">#17139</a>)
</li>
<li class="listitem">
Give the foreach processor access to the rest of the document <a href="https://github.com/elastic/elasticsearch/pull/17172" class="ulink" target="_top">#17172</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17147" class="ulink" target="_top">#17147</a>)
</li>
<li class="listitem">
Added ingest statistics to node stats API <a href="https://github.com/elastic/elasticsearch/pull/16915" class="ulink" target="_top">#16915</a>
</li>
<li class="listitem">
Add <code class="literal">ingest_took</code> to bulk response <a href="https://github.com/elastic/elasticsearch/pull/16876" class="ulink" target="_top">#16876</a>
</li>
<li class="listitem">
Add ingest info to node info API, which contains a list of available processors <a href="https://github.com/elastic/elasticsearch/pull/16865" class="ulink" target="_top">#16865</a>
</li>
<li class="listitem">
Use diffs for ingest metadata in cluster state <a href="https://github.com/elastic/elasticsearch/pull/16847" class="ulink" target="_top">#16847</a>
</li>
<li class="listitem">
hide null-valued metadata fields from WriteableIngestDocument#toXContent <a href="https://github.com/elastic/elasticsearch/pull/16557" class="ulink" target="_top">#16557</a>
</li>
<li class="listitem">
Ingest: use bulk thread pool for bulk request processing (was index before) <a href="https://github.com/elastic/elasticsearch/pull/16539" class="ulink" target="_top">#16539</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16503" class="ulink" target="_top">#16503</a>)
</li>
<li class="listitem">
Add foreach processor <a href="https://github.com/elastic/elasticsearch/pull/16432" class="ulink" target="_top">#16432</a>
</li>
<li class="listitem">
revert PipelineFactoryError handling with throwing ElasticsearchParseException in ingest pipeline creation <a href="https://github.com/elastic/elasticsearch/pull/16355" class="ulink" target="_top">#16355</a>
</li>
<li class="listitem">
Add processor tags to on_failure metadata in ingest pipeline <a href="https://github.com/elastic/elasticsearch/pull/16324" class="ulink" target="_top">#16324</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16202" class="ulink" target="_top">#16202</a>)
</li>
<li class="listitem">
catch processor/pipeline factory exceptions and return structured error responses <a href="https://github.com/elastic/elasticsearch/pull/16276" class="ulink" target="_top">#16276</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16010" class="ulink" target="_top">#16010</a>)
</li>
<li class="listitem">
Ingest: move get/put/delete pipeline methods to ClusterAdminClient <a href="https://github.com/elastic/elasticsearch/pull/16242" class="ulink" target="_top">#16242</a>
</li>
<li class="listitem">
Geoip processor: remove redundant latitude and longitude fields and make location an object with lat and lon subfields <a href="https://github.com/elastic/elasticsearch/pull/16173" class="ulink" target="_top">#16173</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove PROTOTYPE from MLT.Item <a href="https://github.com/elastic/elasticsearch/pull/17481" class="ulink" target="_top">#17481</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17085" class="ulink" target="_top">#17085</a>)
</li>
<li class="listitem">
Remove PROTOTYPE from VersionType <a href="https://github.com/elastic/elasticsearch/pull/17480" class="ulink" target="_top">#17480</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17085" class="ulink" target="_top">#17085</a>)
</li>
<li class="listitem">
Remove PROTOTYPEs from highlighting <a href="https://github.com/elastic/elasticsearch/pull/17466" class="ulink" target="_top">#17466</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17085" class="ulink" target="_top">#17085</a>)
</li>
<li class="listitem">
Remove PROTOTYPEs from ingest <a href="https://github.com/elastic/elasticsearch/pull/17434" class="ulink" target="_top">#17434</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17085" class="ulink" target="_top">#17085</a>)
</li>
<li class="listitem">
Start to rework query registration <a href="https://github.com/elastic/elasticsearch/pull/17424" class="ulink" target="_top">#17424</a>
</li>
<li class="listitem">
Factor out slow logs into Search and IndexingOperationListeners <a href="https://github.com/elastic/elasticsearch/pull/17398" class="ulink" target="_top">#17398</a>
</li>
<li class="listitem">
Remove PROTOTYPE from Suggesters <a href="https://github.com/elastic/elasticsearch/pull/17370" class="ulink" target="_top">#17370</a>
</li>
<li class="listitem">
Remove PROTOTYPE from SortBuilders <a href="https://github.com/elastic/elasticsearch/pull/17337" class="ulink" target="_top">#17337</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17085" class="ulink" target="_top">#17085</a>)
</li>
<li class="listitem">
Remove PROTOTYPE from ShapeBuilders <a href="https://github.com/elastic/elasticsearch/pull/17336" class="ulink" target="_top">#17336</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17085" class="ulink" target="_top">#17085</a>)
</li>
<li class="listitem">
Replace FieldStatsProvider with a method on MappedFieldType. <a href="https://github.com/elastic/elasticsearch/pull/17334" class="ulink" target="_top">#17334</a>
</li>
<li class="listitem">
Stop using PROTOTYPE in NamedWriteableRegistry <a href="https://github.com/elastic/elasticsearch/pull/17284" class="ulink" target="_top">#17284</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17085" class="ulink" target="_top">#17085</a>)
</li>
<li class="listitem">
Support scheduled commands in current context <a href="https://github.com/elastic/elasticsearch/pull/17077" class="ulink" target="_top">#17077</a>
</li>
<li class="listitem">
Thread limits <a href="https://github.com/elastic/elasticsearch/pull/17003" class="ulink" target="_top">#17003</a>
</li>
<li class="listitem">
Remove leniency from segments info integrity checks <a href="https://github.com/elastic/elasticsearch/pull/16985" class="ulink" target="_top">#16985</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16973" class="ulink" target="_top">#16973</a>)
</li>
<li class="listitem">
Rename SearchServiceTransportAction to SearchTransportService <a href="https://github.com/elastic/elasticsearch/pull/16880" class="ulink" target="_top">#16880</a>
</li>
<li class="listitem">
Decouple the TransportService and ClusterService <a href="https://github.com/elastic/elasticsearch/pull/16872" class="ulink" target="_top">#16872</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16788" class="ulink" target="_top">#16788</a>)
</li>
<li class="listitem">
Refactor bootstrap checks <a href="https://github.com/elastic/elasticsearch/pull/16844" class="ulink" target="_top">#16844</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/16733" class="ulink" target="_top">#16733</a>, <a href="https://github.com/elastic/elasticsearch/issues/16835" class="ulink" target="_top">#16835</a>)
</li>
<li class="listitem">
Add LifecycleRunnable <a href="https://github.com/elastic/elasticsearch/pull/16752" class="ulink" target="_top">#16752</a>
</li>
<li class="listitem">
Hot inlined methods in your area <a href="https://github.com/elastic/elasticsearch/pull/16725" class="ulink" target="_top">#16725</a>
</li>
<li class="listitem">
Move IndicesQueryCache and IndicesRequestCache into IndicesService <a href="https://github.com/elastic/elasticsearch/pull/16603" class="ulink" target="_top">#16603</a>
</li>
<li class="listitem">
Forbid use of java.security.MessageDigest#clone() <a href="https://github.com/elastic/elasticsearch/pull/16543" class="ulink" target="_top">#16543</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16479" class="ulink" target="_top">#16479</a>)
</li>
<li class="listitem">
Make IndicesWarmer a private class of IndexService <a href="https://github.com/elastic/elasticsearch/pull/16470" class="ulink" target="_top">#16470</a>
</li>
<li class="listitem">
Simplify IndicesFieldDataCache and detach from guice <a href="https://github.com/elastic/elasticsearch/pull/16469" class="ulink" target="_top">#16469</a>
</li>
<li class="listitem">
Uppercase ells (<em>L</em>) in long literals <a href="https://github.com/elastic/elasticsearch/pull/16329" class="ulink" target="_top">#16329</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16279" class="ulink" target="_top">#16279</a>)
</li>
<li class="listitem">
ShardId equality and hash code inconsistency <a href="https://github.com/elastic/elasticsearch/pull/16319" class="ulink" target="_top">#16319</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16217" class="ulink" target="_top">#16217</a>)
</li>
<li class="listitem">
Ensure all resources are closed on Node#close() <a href="https://github.com/elastic/elasticsearch/pull/16316" class="ulink" target="_top">#16316</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13685" class="ulink" target="_top">#13685</a>)
</li>
<li class="listitem">
Make index uuid available in Index, ShardRouting &amp; ShardId <a href="https://github.com/elastic/elasticsearch/pull/16217" class="ulink" target="_top">#16217</a>
</li>
<li class="listitem">
Move RefreshTask into IndexService and use since task per index <a href="https://github.com/elastic/elasticsearch/pull/15933" class="ulink" target="_top">#15933</a>
</li>
<li class="listitem">
Make IndexingMemoryController private to IndicesService <a href="https://github.com/elastic/elasticsearch/pull/15877" class="ulink" target="_top">#15877</a>
</li>
<li class="listitem">
Cleanup IndexingOperationListeners infrastructure <a href="https://github.com/elastic/elasticsearch/pull/15875" class="ulink" target="_top">#15875</a>
</li>
<li class="listitem">
Remove and forbid use of j.u.c.ThreadLocalRandom <a href="https://github.com/elastic/elasticsearch/pull/15862" class="ulink" target="_top">#15862</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15294" class="ulink" target="_top">#15294</a>)
</li>
<li class="listitem">
Fix IntelliJ query builder type inference issues <a href="https://github.com/elastic/elasticsearch/pull/15429" class="ulink" target="_top">#15429</a>
</li>
<li class="listitem">
Remove and forbid use of Collections#shuffle(List) and Random#&lt;init&gt;() <a href="https://github.com/elastic/elasticsearch/pull/15299" class="ulink" target="_top">#15299</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15287" class="ulink" target="_top">#15287</a>)
</li>
<li class="listitem">
Remove and forbid use of the type-unsafe empty Collections fields <a href="https://github.com/elastic/elasticsearch/pull/15187" class="ulink" target="_top">#15187</a>
</li>
<li class="listitem">
Move IndicesService.canDeleteShardContent to use IndexSettings <a href="https://github.com/elastic/elasticsearch/pull/15150" class="ulink" target="_top">#15150</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15059" class="ulink" target="_top">#15059</a>)
</li>
<li class="listitem">
Simplify MonitorService construction and detach from guice <a href="https://github.com/elastic/elasticsearch/pull/15035" class="ulink" target="_top">#15035</a>
</li>
<li class="listitem">
Use Supplier for StreamInput#readOptionalStreamable <a href="https://github.com/elastic/elasticsearch/pull/14806" class="ulink" target="_top">#14806</a>
</li>
<li class="listitem">
Add variable-length long encoding <a href="https://github.com/elastic/elasticsearch/pull/14780" class="ulink" target="_top">#14780</a>
</li>
<li class="listitem">
Extend usage of IndexSetting class <a href="https://github.com/elastic/elasticsearch/pull/14731" class="ulink" target="_top">#14731</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14251" class="ulink" target="_top">#14251</a>)
</li>
<li class="listitem">
Fold SimilarityModule into IndexModule <a href="https://github.com/elastic/elasticsearch/pull/14284" class="ulink" target="_top">#14284</a>
</li>
<li class="listitem">
Move to lucene BoostQuery <a href="https://github.com/elastic/elasticsearch/pull/14264" class="ulink" target="_top">#14264</a>
</li>
<li class="listitem">
Use built-in method for computing hash code of longs <a href="https://github.com/elastic/elasticsearch/pull/14213" class="ulink" target="_top">#14213</a>
</li>
<li class="listitem">
Refactor ShardFailure listener infrastructure <a href="https://github.com/elastic/elasticsearch/pull/14206" class="ulink" target="_top">#14206</a>
</li>
<li class="listitem">
Add methods for variable-length encoding integral arrays <a href="https://github.com/elastic/elasticsearch/pull/14087" class="ulink" target="_top">#14087</a>
</li>
<li class="listitem">
Fold IndexAliasesService into IndexService <a href="https://github.com/elastic/elasticsearch/pull/14044" class="ulink" target="_top">#14044</a>
</li>
<li class="listitem">
Remove unneeded Module abstractions <a href="https://github.com/elastic/elasticsearch/pull/13944" class="ulink" target="_top">#13944</a>
</li>
<li class="listitem">
Query refactoring: simplify IndexQueryParserService parse methods <a href="https://github.com/elastic/elasticsearch/pull/13938" class="ulink" target="_top">#13938</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13859" class="ulink" target="_top">#13859</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.collect.Iterators <a href="https://github.com/elastic/elasticsearch/pull/13916" class="ulink" target="_top">#13916</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.collect.ImmutableCollection <a href="https://github.com/elastic/elasticsearch/pull/13909" class="ulink" target="_top">#13909</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.io.Resources <a href="https://github.com/elastic/elasticsearch/pull/13908" class="ulink" target="_top">#13908</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.hash.* <a href="https://github.com/elastic/elasticsearch/pull/13907" class="ulink" target="_top">#13907</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.net.InetAddresses <a href="https://github.com/elastic/elasticsearch/pull/13905" class="ulink" target="_top">#13905</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.collect.EvictingQueue <a href="https://github.com/elastic/elasticsearch/pull/13903" class="ulink" target="_top">#13903</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Replace Guava cache with simple concurrent LRU cache <a href="https://github.com/elastic/elasticsearch/pull/13879" class="ulink" target="_top">#13879</a>
</li>
<li class="listitem">
Remove ClusterSerivce and IndexSettingsService dependency from IndexShard <a href="https://github.com/elastic/elasticsearch/pull/13853" class="ulink" target="_top">#13853</a>
</li>
<li class="listitem">
Start making RecoverySourceHandler unittestable <a href="https://github.com/elastic/elasticsearch/pull/13840" class="ulink" target="_top">#13840</a>
</li>
<li class="listitem">
Remove IndexService dep. from IndexShard <a href="https://github.com/elastic/elasticsearch/pull/13797" class="ulink" target="_top">#13797</a>
</li>
<li class="listitem">
Remove ES internal deletion policies in favour of Lucenes implementations <a href="https://github.com/elastic/elasticsearch/pull/13794" class="ulink" target="_top">#13794</a>
</li>
<li class="listitem">
Move ShardTermVectorService to be on indices level as TermVectorService <a href="https://github.com/elastic/elasticsearch/pull/13786" class="ulink" target="_top">#13786</a>
</li>
<li class="listitem">
Move ShardPercolateService creation into IndexShard <a href="https://github.com/elastic/elasticsearch/pull/13777" class="ulink" target="_top">#13777</a>
</li>
<li class="listitem">
Remove <code class="literal">ExpressionScriptCompilationException</code> and <code class="literal">ExpressionScriptExecutionException</code> <a href="https://github.com/elastic/elasticsearch/pull/13742" class="ulink" target="_top">#13742</a>
</li>
<li class="listitem">
Reduced the number of ClusterStateUpdateTask variants <a href="https://github.com/elastic/elasticsearch/pull/13735" class="ulink" target="_top">#13735</a>
</li>
<li class="listitem">
Add a BaseParser helper for stream parsing <a href="https://github.com/elastic/elasticsearch/pull/13615" class="ulink" target="_top">#13615</a>
</li>
<li class="listitem">
Remove and forbid use of com.google.common.primitives.Ints <a href="https://github.com/elastic/elasticsearch/pull/13596" class="ulink" target="_top">#13596</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.math.LongMath <a href="https://github.com/elastic/elasticsearch/pull/13575" class="ulink" target="_top">#13575</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.base.Joiner <a href="https://github.com/elastic/elasticsearch/pull/13572" class="ulink" target="_top">#13572</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Replace and ban next batch of Guava classes <a href="https://github.com/elastic/elasticsearch/pull/13562" class="ulink" target="_top">#13562</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.collect.Iterables <a href="https://github.com/elastic/elasticsearch/pull/13559" class="ulink" target="_top">#13559</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Replace LoadingCache usage with a simple ConcurrentHashMap <a href="https://github.com/elastic/elasticsearch/pull/13552" class="ulink" target="_top">#13552</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Use Supplier instead of Reflection <a href="https://github.com/elastic/elasticsearch/pull/13545" class="ulink" target="_top">#13545</a>
</li>
<li class="listitem">
Remove and forbid use of com.google.common.base.Preconditions <a href="https://github.com/elastic/elasticsearch/pull/13540" class="ulink" target="_top">#13540</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of guava Function, Charsets, Collections2 <a href="https://github.com/elastic/elasticsearch/pull/13533" class="ulink" target="_top">#13533</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.collect.ImmutableSortedMap <a href="https://github.com/elastic/elasticsearch/pull/13525" class="ulink" target="_top">#13525</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of several com.google.common.util. classes <a href="https://github.com/elastic/elasticsearch/pull/13524" class="ulink" target="_top">#13524</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Cleanup SearchRequest &amp; SearchRequestBuilder <a href="https://github.com/elastic/elasticsearch/pull/13518" class="ulink" target="_top">#13518</a>
</li>
<li class="listitem">
Remove and forbid use of com.google.common.collect.Queues <a href="https://github.com/elastic/elasticsearch/pull/13498" class="ulink" target="_top">#13498</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.base.Preconditions#checkNotNull <a href="https://github.com/elastic/elasticsearch/pull/13493" class="ulink" target="_top">#13493</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.collect.Sets <a href="https://github.com/elastic/elasticsearch/pull/13463" class="ulink" target="_top">#13463</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove and forbid use of com.google.common.collect.Maps <a href="https://github.com/elastic/elasticsearch/pull/13438" class="ulink" target="_top">#13438</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove use of underscore as an identifier <a href="https://github.com/elastic/elasticsearch/pull/13353" class="ulink" target="_top">#13353</a>
</li>
<li class="listitem">
Remove and forbid the use of com.google.common.base.Predicate(s)? <a href="https://github.com/elastic/elasticsearch/pull/13349" class="ulink" target="_top">#13349</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>, <a href="https://github.com/elastic/elasticsearch/issues/13314" class="ulink" target="_top">#13314</a>)
</li>
<li class="listitem">
This commit removes com.google.common.io <a href="https://github.com/elastic/elasticsearch/pull/13302" class="ulink" target="_top">#13302</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove copy constructors from request classes and TransportMessage type <a href="https://github.com/elastic/elasticsearch/pull/16640" class="ulink" target="_top">#16640</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15776" class="ulink" target="_top">#15776</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a soft limit on the mapping depth. <a href="https://github.com/elastic/elasticsearch/pull/17400" class="ulink" target="_top">#17400</a>
</li>
<li class="listitem">
Disable fielddata on text fields by defaults. <a href="https://github.com/elastic/elasticsearch/pull/17386" class="ulink" target="_top">#17386</a>
</li>
<li class="listitem">
Add limit to total number of fields in mapping <a href="https://github.com/elastic/elasticsearch/pull/17357" class="ulink" target="_top">#17357</a>
</li>
<li class="listitem">
Make <code class="literal">parseMultiField</code> part of <code class="literal">parseField</code>. <a href="https://github.com/elastic/elasticsearch/pull/17313" class="ulink" target="_top">#17313</a>
</li>
<li class="listitem">
Automatically add a sub keyword field to string dynamic mappings. <a href="https://github.com/elastic/elasticsearch/pull/17188" class="ulink" target="_top">#17188</a>
</li>
<li class="listitem">
Remove friction from the mapping changes in 5.0. <a href="https://github.com/elastic/elasticsearch/pull/16991" class="ulink" target="_top">#16991</a>
</li>
<li class="listitem">
Rework norms parameters for 5.0. <a href="https://github.com/elastic/elasticsearch/pull/16987" class="ulink" target="_top">#16987</a>
</li>
<li class="listitem">
Moved dynamic field handling in doc parsing to end of parsing <a href="https://github.com/elastic/elasticsearch/pull/16798" class="ulink" target="_top">#16798</a>
</li>
<li class="listitem">
Remove the MapperBuilders utility class. <a href="https://github.com/elastic/elasticsearch/pull/16609" class="ulink" target="_top">#16609</a>
</li>
<li class="listitem">
Make the <code class="literal">index</code> property a boolean. <a href="https://github.com/elastic/elasticsearch/pull/16161" class="ulink" target="_top">#16161</a>
</li>
<li class="listitem">
Remove the ability to enable doc values with the <code class="literal">fielddata.format</code> setting. <a href="https://github.com/elastic/elasticsearch/pull/16147" class="ulink" target="_top">#16147</a>
</li>
<li class="listitem">
Be stricter about parsing boolean values in mappings. <a href="https://github.com/elastic/elasticsearch/pull/16146" class="ulink" target="_top">#16146</a>
</li>
<li class="listitem">
Fix default doc values to be enabled when a field is not indexed. <a href="https://github.com/elastic/elasticsearch/pull/16141" class="ulink" target="_top">#16141</a>
</li>
<li class="listitem">
Dynamically map floating-point numbers as floats instead of doubles. <a href="https://github.com/elastic/elasticsearch/pull/15319" class="ulink" target="_top">#15319</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13851" class="ulink" target="_top">#13851</a>)
</li>
<li class="listitem">
Simplify MetaDataMappingService. <a href="https://github.com/elastic/elasticsearch/pull/15217" class="ulink" target="_top">#15217</a>
</li>
<li class="listitem">
Remove MergeMappingException. <a href="https://github.com/elastic/elasticsearch/pull/15177" class="ulink" target="_top">#15177</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added RPM metadata <a href="https://github.com/elastic/elasticsearch/pull/17477" class="ulink" target="_top">#17477</a>
</li>
<li class="listitem">
Elasticsearch ownership for data, logs, and configs <a href="https://github.com/elastic/elasticsearch/pull/17197" class="ulink" target="_top">#17197</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/12688" class="ulink" target="_top">#12688</a>)
</li>
<li class="listitem">
Fail early on JDK with compiler bug <a href="https://github.com/elastic/elasticsearch/pull/16418" class="ulink" target="_top">#16418</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/16097" class="ulink" target="_top">#16097</a>, <a href="https://github.com/elastic/elasticsearch/issues/16362" class="ulink" target="_top">#16362</a>)
</li>
<li class="listitem">
Make security non-optional <a href="https://github.com/elastic/elasticsearch/pull/16176" class="ulink" target="_top">#16176</a>
</li>
<li class="listitem">
Remove RuntimePermission("accessDeclaredMembers") <a href="https://github.com/elastic/elasticsearch/pull/15378" class="ulink" target="_top">#15378</a>
</li>
<li class="listitem">
Remove Guava as a dependency <a href="https://github.com/elastic/elasticsearch/pull/14055" class="ulink" target="_top">#14055</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
<li class="listitem">
Remove Guava as a dependency <a href="https://github.com/elastic/elasticsearch/pull/14054" class="ulink" target="_top">#14054</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Percolator
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add scoring support to the percolator query <a href="https://github.com/elastic/elasticsearch/pull/17385" class="ulink" target="_top">#17385</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13827" class="ulink" target="_top">#13827</a>)
</li>
<li class="listitem">
Add query extract support for the blended term query and the common terms query <a href="https://github.com/elastic/elasticsearch/pull/17347" class="ulink" target="_top">#17347</a>
</li>
<li class="listitem">
Add support for several span queries in ExtractQueryTermsService <a href="https://github.com/elastic/elasticsearch/pull/17323" class="ulink" target="_top">#17323</a>
</li>
<li class="listitem">
Add support for TermsQuery in ExtractQueryTermsService <a href="https://github.com/elastic/elasticsearch/pull/17316" class="ulink" target="_top">#17316</a>
</li>
<li class="listitem">
Replace percolate APIs with a percolator query <a href="https://github.com/elastic/elasticsearch/pull/16349" class="ulink" target="_top">#16349</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/10741" class="ulink" target="_top">#10741</a>, <a href="https://github.com/elastic/elasticsearch/issues/11264" class="ulink" target="_top">#11264</a>, <a href="https://github.com/elastic/elasticsearch/issues/13176" class="ulink" target="_top">#13176</a>, <a href="https://github.com/elastic/elasticsearch/issues/13978" class="ulink" target="_top">#13978</a>, <a href="https://github.com/elastic/elasticsearch/issues/4317" class="ulink" target="_top">#4317</a>, <a href="https://github.com/elastic/elasticsearch/issues/7297" class="ulink" target="_top">#7297</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Analysis Kuromoji
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add nbest options and NumberFilter <a href="https://github.com/elastic/elasticsearch/pull/17173" class="ulink" target="_top">#17173</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Discovery EC2
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for proxy authentication for s3 and ec2 <a href="https://github.com/elastic/elasticsearch/pull/15293" class="ulink" target="_top">#15293</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15268" class="ulink" target="_top">#15268</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Ingest Attachment
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Minor attachment processor improvements <a href="https://github.com/elastic/elasticsearch/pull/16574" class="ulink" target="_top">#16574</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Lang Painless
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Painless Clean Up <a href="https://github.com/elastic/elasticsearch/pull/17428" class="ulink" target="_top">#17428</a>
</li>
<li class="listitem">
Make Painless a Module <a href="https://github.com/elastic/elasticsearch/pull/16755" class="ulink" target="_top">#16755</a>
</li>
<li class="listitem">
Minor Clean up <a href="https://github.com/elastic/elasticsearch/pull/16457" class="ulink" target="_top">#16457</a>
</li>
<li class="listitem">
Remove Extra String Concat Token <a href="https://github.com/elastic/elasticsearch/pull/16382" class="ulink" target="_top">#16382</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Mapper Attachment
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
minor attachments cleanups: IDE test support and EPUB format <a href="https://github.com/elastic/elasticsearch/pull/14626" class="ulink" target="_top">#14626</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Repository Azure
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support global <code class="literal">repositories.azure.</code> settings <a href="https://github.com/elastic/elasticsearch/pull/15141" class="ulink" target="_top">#15141</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13776" class="ulink" target="_top">#13776</a>)
</li>
<li class="listitem">
Add timeout settings (default to 5 minutes) <a href="https://github.com/elastic/elasticsearch/pull/15080" class="ulink" target="_top">#15080</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14277" class="ulink" target="_top">#14277</a>)
</li>
<li class="listitem">
Remove AbstractLegacyBlobContainer <a href="https://github.com/elastic/elasticsearch/pull/14650" class="ulink" target="_top">#14650</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13434" class="ulink" target="_top">#13434</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Repository HDFS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
merge current hdfs improvements to master <a href="https://github.com/elastic/elasticsearch/pull/15588" class="ulink" target="_top">#15588</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Repository S3
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Check that S3 setting <code class="literal">buffer_size</code> is always lower than <code class="literal">chunk_size</code> <a href="https://github.com/elastic/elasticsearch/pull/17274" class="ulink" target="_top">#17274</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17244" class="ulink" target="_top">#17244</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
PluginManager: Add xpack as official plugin <a href="https://github.com/elastic/elasticsearch/pull/17227" class="ulink" target="_top">#17227</a>
</li>
<li class="listitem">
CliTool: Cleanup and document Terminal <a href="https://github.com/elastic/elasticsearch/pull/16443" class="ulink" target="_top">#16443</a>
</li>
<li class="listitem">
Plugin cli: Improve maven coordinates detection <a href="https://github.com/elastic/elasticsearch/pull/16384" class="ulink" target="_top">#16384</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16376" class="ulink" target="_top">#16376</a>)
</li>
<li class="listitem">
Enforce plugin zip does not contain zip entries outside of the plugin dir <a href="https://github.com/elastic/elasticsearch/pull/16361" class="ulink" target="_top">#16361</a>
</li>
<li class="listitem">
CliTool: Allow unexpected exceptions to propagate <a href="https://github.com/elastic/elasticsearch/pull/16359" class="ulink" target="_top">#16359</a>
</li>
<li class="listitem">
Reduce complexity of plugin cli <a href="https://github.com/elastic/elasticsearch/pull/16336" class="ulink" target="_top">#16336</a>
</li>
<li class="listitem">
Remove Plugin.onIndexService. <a href="https://github.com/elastic/elasticsearch/pull/15029" class="ulink" target="_top">#15029</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14896" class="ulink" target="_top">#14896</a>)
</li>
<li class="listitem">
Open up QueryCache and SearcherWrapper extension points <a href="https://github.com/elastic/elasticsearch/pull/14303" class="ulink" target="_top">#14303</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query DSL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
An <code class="literal">exists</code> query on an object should query a single term. <a href="https://github.com/elastic/elasticsearch/pull/17186" class="ulink" target="_top">#17186</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17131" class="ulink" target="_top">#17131</a>)
</li>
<li class="listitem">
Function Score Query: make parsing stricter <a href="https://github.com/elastic/elasticsearch/pull/16617" class="ulink" target="_top">#16617</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16583" class="ulink" target="_top">#16583</a>)
</li>
<li class="listitem">
Parsers should throw exception on unknown objects <a href="https://github.com/elastic/elasticsearch/pull/14255" class="ulink" target="_top">#14255</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10974" class="ulink" target="_top">#10974</a>)
</li>
<li class="listitem">
UNICODE_CHARACTER_CLASS fix <a href="https://github.com/elastic/elasticsearch/pull/11598" class="ulink" target="_top">#11598</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10146" class="ulink" target="_top">#10146</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query Refactoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add infrastructure to rewrite query builders <a href="https://github.com/elastic/elasticsearch/pull/16599" class="ulink" target="_top">#16599</a>
</li>
<li class="listitem">
Switch geo validation to enum <a href="https://github.com/elastic/elasticsearch/pull/13672" class="ulink" target="_top">#13672</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13608" class="ulink" target="_top">#13608</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
REST
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
More robust handling of CORS HTTP Access Control <a href="https://github.com/elastic/elasticsearch/pull/16092" class="ulink" target="_top">#16092</a>
</li>
<li class="listitem">
Add option to exclude based on paths in XContent <a href="https://github.com/elastic/elasticsearch/pull/16017" class="ulink" target="_top">#16017</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Recover broken IndexMetaData as closed <a href="https://github.com/elastic/elasticsearch/pull/17187" class="ulink" target="_top">#17187</a>
</li>
<li class="listitem">
Relocation source should be marked as relocating before starting recovery to primary relocation target <a href="https://github.com/elastic/elasticsearch/pull/16500" class="ulink" target="_top">#16500</a>
</li>
<li class="listitem">
Operation counter for IndexShard <a href="https://github.com/elastic/elasticsearch/pull/15956" class="ulink" target="_top">#15956</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15900" class="ulink" target="_top">#15900</a>)
</li>
<li class="listitem">
Primary relocation handoff <a href="https://github.com/elastic/elasticsearch/pull/15900" class="ulink" target="_top">#15900</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15532" class="ulink" target="_top">#15532</a>)
</li>
<li class="listitem">
Remove recovery threadpools and throttle outgoing recoveries on the master <a href="https://github.com/elastic/elasticsearch/pull/15372" class="ulink" target="_top">#15372</a>
</li>
<li class="listitem">
Refactor StoreRecoveryService to be a simple package private util class <a href="https://github.com/elastic/elasticsearch/pull/13766" class="ulink" target="_top">#13766</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reindex API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make reindex throttling dynamic <a href="https://github.com/elastic/elasticsearch/pull/17262" class="ulink" target="_top">#17262</a>
</li>
<li class="listitem">
Throttling support for reindex <a href="https://github.com/elastic/elasticsearch/pull/17039" class="ulink" target="_top">#17039</a>
</li>
<li class="listitem">
Add ingest pipeline support to reindex <a href="https://github.com/elastic/elasticsearch/pull/16932" class="ulink" target="_top">#16932</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Skipping hidden files compilation for script service <a href="https://github.com/elastic/elasticsearch/pull/16286" class="ulink" target="_top">#16286</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15269" class="ulink" target="_top">#15269</a>)
</li>
<li class="listitem">
Rename Plan A to Painless <a href="https://github.com/elastic/elasticsearch/pull/16245" class="ulink" target="_top">#16245</a>
</li>
<li class="listitem">
Add plumbing for script compile-time parameters <a href="https://github.com/elastic/elasticsearch/pull/15464" class="ulink" target="_top">#15464</a>
</li>
<li class="listitem">
Factor mustache &#8594; modules/lang-mustache <a href="https://github.com/elastic/elasticsearch/pull/15328" class="ulink" target="_top">#15328</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a soft limit on the number of shards that can be queried in a single search request. <a href="https://github.com/elastic/elasticsearch/pull/17396" class="ulink" target="_top">#17396</a>
</li>
<li class="listitem">
Type filters should not have a performance impact when there is a single type. <a href="https://github.com/elastic/elasticsearch/pull/17350" class="ulink" target="_top">#17350</a>
</li>
<li class="listitem">
Store _all payloads on 1 byte instead of 4. <a href="https://github.com/elastic/elasticsearch/pull/16899" class="ulink" target="_top">#16899</a>
</li>
<li class="listitem">
Refuse to load fields from _source when using the <code class="literal">fields</code> option and support wildcards.  <a href="https://github.com/elastic/elasticsearch/pull/15017" class="ulink" target="_top">#15017</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/10783" class="ulink" target="_top">#10783</a>, <a href="https://github.com/elastic/elasticsearch/issues/14489" class="ulink" target="_top">#14489</a>)
</li>
<li class="listitem">
Add response into ClearScrollResponse <a href="https://github.com/elastic/elasticsearch/pull/13835" class="ulink" target="_top">#13835</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13817" class="ulink" target="_top">#13817</a>)
</li>
<li class="listitem">
Shuffle shards for _only_nodes + support multiple specifications like cluster API  <a href="https://github.com/elastic/elasticsearch/pull/12575" class="ulink" target="_top">#12575</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/12546" class="ulink" target="_top">#12546</a>, <a href="https://github.com/elastic/elasticsearch/issues/12700" class="ulink" target="_top">#12700</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search Refactoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove RescoreParseElement <a href="https://github.com/elastic/elasticsearch/pull/17441" class="ulink" target="_top">#17441</a>
</li>
<li class="listitem">
Remove HighlighterParseElement <a href="https://github.com/elastic/elasticsearch/pull/17303" class="ulink" target="_top">#17303</a>
</li>
<li class="listitem">
Move top level parsing of sort element to SortBuilder <a href="https://github.com/elastic/elasticsearch/pull/17248" class="ulink" target="_top">#17248</a>
</li>
<li class="listitem">
Switch to using refactored SortBuilder instead of using BytesReference in serialization <a href="https://github.com/elastic/elasticsearch/pull/17205" class="ulink" target="_top">#17205</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/17146" class="ulink" target="_top">#17146</a>, <a href="https://github.com/elastic/elasticsearch/issues/17257" class="ulink" target="_top">#17257</a>)
</li>
<li class="listitem">
Add build() method to SortBuilder implementations <a href="https://github.com/elastic/elasticsearch/pull/17146" class="ulink" target="_top">#17146</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10217" class="ulink" target="_top">#10217</a>)
</li>
<li class="listitem">
Refactoring of Suggestions <a href="https://github.com/elastic/elasticsearch/pull/17096" class="ulink" target="_top">#17096</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10217" class="ulink" target="_top">#10217</a>)
</li>
<li class="listitem">
Move sort <code class="literal">order</code> field up into SortBuilder <a href="https://github.com/elastic/elasticsearch/pull/17035" class="ulink" target="_top">#17035</a>
</li>
<li class="listitem">
Moves SortParser:parse(&#8230;&#8203;) to only require QueryShardContext <a href="https://github.com/elastic/elasticsearch/pull/16999" class="ulink" target="_top">#16999</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15178" class="ulink" target="_top">#15178</a>)
</li>
<li class="listitem">
Change internal representation of suggesters  <a href="https://github.com/elastic/elasticsearch/pull/16873" class="ulink" target="_top">#16873</a>
</li>
<li class="listitem">
Make GeoDistanceSortBuilder serializable, 2nd try <a href="https://github.com/elastic/elasticsearch/pull/16572" class="ulink" target="_top">#16572</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/15178" class="ulink" target="_top">#15178</a>, <a href="https://github.com/elastic/elasticsearch/issues/16151" class="ulink" target="_top">#16151</a>)
</li>
<li class="listitem">
Move missing() from SortBuilder interface to class <a href="https://github.com/elastic/elasticsearch/pull/16225" class="ulink" target="_top">#16225</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/15178" class="ulink" target="_top">#15178</a>, <a href="https://github.com/elastic/elasticsearch/issues/16151" class="ulink" target="_top">#16151</a>)
</li>
<li class="listitem">
Remove deprecated parameters from ScriptSortBuilder <a href="https://github.com/elastic/elasticsearch/pull/16153" class="ulink" target="_top">#16153</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15178" class="ulink" target="_top">#15178</a>)
</li>
<li class="listitem">
Refactor GeoSortBuilder <a href="https://github.com/elastic/elasticsearch/pull/16151" class="ulink" target="_top">#16151</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15178" class="ulink" target="_top">#15178</a>)
</li>
<li class="listitem">
Refactor FieldSortBuilder <a href="https://github.com/elastic/elasticsearch/pull/16127" class="ulink" target="_top">#16127</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15178" class="ulink" target="_top">#15178</a>)
</li>
<li class="listitem">
Make sort order enum writable. <a href="https://github.com/elastic/elasticsearch/pull/16124" class="ulink" target="_top">#16124</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15178" class="ulink" target="_top">#15178</a>)
</li>
<li class="listitem">
Make DistanceUnit writable. <a href="https://github.com/elastic/elasticsearch/pull/16122" class="ulink" target="_top">#16122</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15178" class="ulink" target="_top">#15178</a>)
</li>
<li class="listitem">
RescoreBuilder: Add parsing and creating of RescoreSearchContext <a href="https://github.com/elastic/elasticsearch/pull/16014" class="ulink" target="_top">#16014</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15559" class="ulink" target="_top">#15559</a>)
</li>
<li class="listitem">
Make RescoreBuilder and nested QueryRescorer Writable <a href="https://github.com/elastic/elasticsearch/pull/15953" class="ulink" target="_top">#15953</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15559" class="ulink" target="_top">#15559</a>)
</li>
<li class="listitem">
Explain api: move query parsing to the coordinating node <a href="https://github.com/elastic/elasticsearch/pull/14270" class="ulink" target="_top">#14270</a>
</li>
<li class="listitem">
Switch query parsers to use ParseField  <a href="https://github.com/elastic/elasticsearch/pull/14249" class="ulink" target="_top">#14249</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/8964" class="ulink" target="_top">#8964</a>)
</li>
<li class="listitem">
Refactoring of Aggregations <a href="https://github.com/elastic/elasticsearch/pull/14136" class="ulink" target="_top">#14136</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add guard against null-valued settings <a href="https://github.com/elastic/elasticsearch/pull/17310" class="ulink" target="_top">#17310</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17292" class="ulink" target="_top">#17292</a>)
</li>
<li class="listitem">
Useful error message for null property placeholder <a href="https://github.com/elastic/elasticsearch/pull/17293" class="ulink" target="_top">#17293</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17292" class="ulink" target="_top">#17292</a>)
</li>
<li class="listitem">
Archive cluster level settings if unknown or broken <a href="https://github.com/elastic/elasticsearch/pull/17246" class="ulink" target="_top">#17246</a>
</li>
<li class="listitem">
Improve error message if setting is not found <a href="https://github.com/elastic/elasticsearch/pull/17230" class="ulink" target="_top">#17230</a>
</li>
<li class="listitem">
Improve upgrade experience of node level index settings <a href="https://github.com/elastic/elasticsearch/pull/17223" class="ulink" target="_top">#17223</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17187" class="ulink" target="_top">#17187</a>)
</li>
<li class="listitem">
Settings with complex matchers should not overlap <a href="https://github.com/elastic/elasticsearch/pull/16754" class="ulink" target="_top">#16754</a>
</li>
<li class="listitem">
Moves GCE settings to the new infra <a href="https://github.com/elastic/elasticsearch/pull/16722" class="ulink" target="_top">#16722</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16720" class="ulink" target="_top">#16720</a>)
</li>
<li class="listitem">
Add filtering support within Setting class <a href="https://github.com/elastic/elasticsearch/pull/16629" class="ulink" target="_top">#16629</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16598" class="ulink" target="_top">#16598</a>)
</li>
<li class="listitem">
Migrate AWS settings to new settings infrastructure <a href="https://github.com/elastic/elasticsearch/pull/16602" class="ulink" target="_top">#16602</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16293" class="ulink" target="_top">#16293</a>)
</li>
<li class="listitem">
Remove <code class="literal">gateway.initial_meta</code> and always rely on min master nodes <a href="https://github.com/elastic/elasticsearch/pull/16446" class="ulink" target="_top">#16446</a>
</li>
<li class="listitem">
Rewrite SettingsFilter to be immutable <a href="https://github.com/elastic/elasticsearch/pull/16425" class="ulink" target="_top">#16425</a>
</li>
<li class="listitem">
Simplify azure settings <a href="https://github.com/elastic/elasticsearch/pull/16363" class="ulink" target="_top">#16363</a>
</li>
<li class="listitem">
Convert PageCacheRecycler settings <a href="https://github.com/elastic/elasticsearch/pull/16341" class="ulink" target="_top">#16341</a>
</li>
<li class="listitem">
Monitor settings <a href="https://github.com/elastic/elasticsearch/pull/16313" class="ulink" target="_top">#16313</a>
</li>
<li class="listitem">
Cut over tribe node settings to new settings infra <a href="https://github.com/elastic/elasticsearch/pull/16311" class="ulink" target="_top">#16311</a>
</li>
<li class="listitem">
Convert multcast plugin settings to the new infra <a href="https://github.com/elastic/elasticsearch/pull/16295" class="ulink" target="_top">#16295</a>
</li>
<li class="listitem">
Convert <code class="literal">request.headers.*</code> to the new settings infra <a href="https://github.com/elastic/elasticsearch/pull/16292" class="ulink" target="_top">#16292</a>
</li>
<li class="listitem">
Migrate Azure settings to new settings infrastructure <a href="https://github.com/elastic/elasticsearch/pull/16291" class="ulink" target="_top">#16291</a>
</li>
<li class="listitem">
Validate logger settings and allow them to be reset via API <a href="https://github.com/elastic/elasticsearch/pull/16289" class="ulink" target="_top">#16289</a>
</li>
<li class="listitem">
Switch NodeEnvironment&#8217;s settings to new settings <a href="https://github.com/elastic/elasticsearch/pull/16273" class="ulink" target="_top">#16273</a>
</li>
<li class="listitem">
Simplify AutoCreateIndex and add more tests <a href="https://github.com/elastic/elasticsearch/pull/16270" class="ulink" target="_top">#16270</a>
</li>
<li class="listitem">
Convert several pending settings <a href="https://github.com/elastic/elasticsearch/pull/16269" class="ulink" target="_top">#16269</a>
</li>
<li class="listitem">
Migrate query caching settings to the new settings infra. <a href="https://github.com/elastic/elasticsearch/pull/16267" class="ulink" target="_top">#16267</a>
</li>
<li class="listitem">
Convert <code class="literal">action.auto_create_index</code> and <code class="literal">action.master.force_local</code> to the new settings infra <a href="https://github.com/elastic/elasticsearch/pull/16263" class="ulink" target="_top">#16263</a>
</li>
<li class="listitem">
Convert <code class="literal">cluster.routing.allocation.type</code> and <code class="literal">processors</code> to the new settings infra. <a href="https://github.com/elastic/elasticsearch/pull/16238" class="ulink" target="_top">#16238</a>
</li>
<li class="listitem">
Validate tribe node settings on startup <a href="https://github.com/elastic/elasticsearch/pull/16237" class="ulink" target="_top">#16237</a>
</li>
<li class="listitem">
Move node.client, node.data, node.master, node.local and node.mode to new settings infra <a href="https://github.com/elastic/elasticsearch/pull/16230" class="ulink" target="_top">#16230</a>
</li>
<li class="listitem">
Moved http settings to the new settings infrastructure <a href="https://github.com/elastic/elasticsearch/pull/16188" class="ulink" target="_top">#16188</a>
</li>
<li class="listitem">
Migrate network service to the new infra <a href="https://github.com/elastic/elasticsearch/pull/16187" class="ulink" target="_top">#16187</a>
</li>
<li class="listitem">
Convert client.transport settings to new infra <a href="https://github.com/elastic/elasticsearch/pull/16183" class="ulink" target="_top">#16183</a>
</li>
<li class="listitem">
Move discovery.* settings to new Setting infrastructure <a href="https://github.com/elastic/elasticsearch/pull/16182" class="ulink" target="_top">#16182</a>
</li>
<li class="listitem">
Change over to o.e.common.settings.Setting for http settings <a href="https://github.com/elastic/elasticsearch/pull/16181" class="ulink" target="_top">#16181</a>
</li>
<li class="listitem">
Convert "path.*" and "pidfile" to new settings infra <a href="https://github.com/elastic/elasticsearch/pull/16180" class="ulink" target="_top">#16180</a>
</li>
<li class="listitem">
Migrate repository settings to the new settings API <a href="https://github.com/elastic/elasticsearch/pull/16178" class="ulink" target="_top">#16178</a>
</li>
<li class="listitem">
Convert "indices.*" settings to new infra. <a href="https://github.com/elastic/elasticsearch/pull/16177" class="ulink" target="_top">#16177</a>
</li>
<li class="listitem">
Migrate gateway settings to the new settings API. <a href="https://github.com/elastic/elasticsearch/pull/16175" class="ulink" target="_top">#16175</a>
</li>
<li class="listitem">
Convert several node and test level settings <a href="https://github.com/elastic/elasticsearch/pull/16172" class="ulink" target="_top">#16172</a>
</li>
<li class="listitem">
Run Metadata upgrade tool on every version <a href="https://github.com/elastic/elasticsearch/pull/16168" class="ulink" target="_top">#16168</a>
</li>
<li class="listitem">
Check for invalid index settings on metadata upgrade <a href="https://github.com/elastic/elasticsearch/pull/16156" class="ulink" target="_top">#16156</a>
</li>
<li class="listitem">
Validate the settings key if it&#8217;s simple chars separated by <code class="literal">.</code> <a href="https://github.com/elastic/elasticsearch/pull/16120" class="ulink" target="_top">#16120</a>
</li>
<li class="listitem">
Validate known global settings on startup <a href="https://github.com/elastic/elasticsearch/pull/16091" class="ulink" target="_top">#16091</a>
</li>
<li class="listitem">
Cut over all index scope settings to the new setting infrastrucuture <a href="https://github.com/elastic/elasticsearch/pull/16054" class="ulink" target="_top">#16054</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/12790" class="ulink" target="_top">#12790</a>, <a href="https://github.com/elastic/elasticsearch/issues/12854" class="ulink" target="_top">#12854</a>, <a href="https://github.com/elastic/elasticsearch/issues/16032" class="ulink" target="_top">#16032</a>, <a href="https://github.com/elastic/elasticsearch/issues/6732" class="ulink" target="_top">#6732</a>)
</li>
<li class="listitem">
Remove updatability of <code class="literal">index.flush_on_close</code> <a href="https://github.com/elastic/elasticsearch/pull/15964" class="ulink" target="_top">#15964</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15955" class="ulink" target="_top">#15955</a>)
</li>
<li class="listitem">
Move all dynamic settings and their config classes to the index level <a href="https://github.com/elastic/elasticsearch/pull/15955" class="ulink" target="_top">#15955</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/6732" class="ulink" target="_top">#6732</a>)
</li>
<li class="listitem">
Always require units for bytes and time settings <a href="https://github.com/elastic/elasticsearch/pull/15948" class="ulink" target="_top">#15948</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/11437" class="ulink" target="_top">#11437</a>)
</li>
<li class="listitem">
Make MetaData parsing less lenient. <a href="https://github.com/elastic/elasticsearch/pull/15828" class="ulink" target="_top">#15828</a>
</li>
<li class="listitem">
Move async translog sync logic into IndexService <a href="https://github.com/elastic/elasticsearch/pull/15584" class="ulink" target="_top">#15584</a>
</li>
<li class="listitem">
Remove <code class="literal">index.merge.scheduler.notify_on_failure</code> and default to <code class="literal">true</code> <a href="https://github.com/elastic/elasticsearch/pull/15572" class="ulink" target="_top">#15572</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15570" class="ulink" target="_top">#15570</a>)
</li>
<li class="listitem">
Remove cache concurrency level settings that no longer apply <a href="https://github.com/elastic/elasticsearch/pull/14210" class="ulink" target="_top">#14210</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>, <a href="https://github.com/elastic/elasticsearch/issues/13717" class="ulink" target="_top">#13717</a>, <a href="https://github.com/elastic/elasticsearch/issues/7836" class="ulink" target="_top">#7836</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Similarities
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Defining a global default similarity <a href="https://github.com/elastic/elasticsearch/pull/16682" class="ulink" target="_top">#16682</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16594" class="ulink" target="_top">#16594</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Normalize unavailable load average <a href="https://github.com/elastic/elasticsearch/pull/16061" class="ulink" target="_top">#16061</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/12049" class="ulink" target="_top">#12049</a>, <a href="https://github.com/elastic/elasticsearch/issues/14741" class="ulink" target="_top">#14741</a>, <a href="https://github.com/elastic/elasticsearch/issues/15907" class="ulink" target="_top">#15907</a>, <a href="https://github.com/elastic/elasticsearch/issues/15932" class="ulink" target="_top">#15932</a>, <a href="https://github.com/elastic/elasticsearch/issues/15934" class="ulink" target="_top">#15934</a>)
</li>
<li class="listitem">
Add load averages to OS stats on FreeBSD <a href="https://github.com/elastic/elasticsearch/pull/15934" class="ulink" target="_top">#15934</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15917" class="ulink" target="_top">#15917</a>)
</li>
<li class="listitem">
Expose pending cluster state queue size in node stats <a href="https://github.com/elastic/elasticsearch/pull/14040" class="ulink" target="_top">#14040</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13610" class="ulink" target="_top">#13610</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove support for legacy checksums <a href="https://github.com/elastic/elasticsearch/pull/16931" class="ulink" target="_top">#16931</a>
</li>
<li class="listitem">
Rename index folder to index_uuid <a href="https://github.com/elastic/elasticsearch/pull/16442" class="ulink" target="_top">#16442</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/13264" class="ulink" target="_top">#13264</a>, <a href="https://github.com/elastic/elasticsearch/issues/13265" class="ulink" target="_top">#13265</a>, <a href="https://github.com/elastic/elasticsearch/issues/14512" class="ulink" target="_top">#14512</a>, <a href="https://github.com/elastic/elasticsearch/issues/14932" class="ulink" target="_top">#14932</a>, <a href="https://github.com/elastic/elasticsearch/issues/15853" class="ulink" target="_top">#15853</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Task Manager
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add ability to group tasks by common parent <a href="https://github.com/elastic/elasticsearch/pull/17341" class="ulink" target="_top">#17341</a>
</li>
<li class="listitem">
Add start time and duration to tasks <a href="https://github.com/elastic/elasticsearch/pull/16829" class="ulink" target="_top">#16829</a>
</li>
<li class="listitem">
Combine node name and task id into single string task id <a href="https://github.com/elastic/elasticsearch/pull/16744" class="ulink" target="_top">#16744</a>
</li>
<li class="listitem">
Add task status <a href="https://github.com/elastic/elasticsearch/pull/16356" class="ulink" target="_top">#16356</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16344" class="ulink" target="_top">#16344</a>)
</li>
<li class="listitem">
Extend tracking of parent tasks to master node, replication and broadcast actions <a href="https://github.com/elastic/elasticsearch/pull/15931" class="ulink" target="_top">#15931</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Translog
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove ChannelReference and simplify Views <a href="https://github.com/elastic/elasticsearch/pull/15898" class="ulink" target="_top">#15898</a>
</li>
<li class="listitem">
Simplify TranslogWriter to always write to a stream <a href="https://github.com/elastic/elasticsearch/pull/15771" class="ulink" target="_top">#15771</a>
</li>
<li class="listitem">
Remove TranslogService and fold it into synchronous IndexShard API <a href="https://github.com/elastic/elasticsearch/pull/13707" class="ulink" target="_top">#13707</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="bug-5.0.0-alpha1"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.6/docs/reference/release-notes/5.0.0-alpha1.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes the defaults for <code class="literal">keyed</code> in the percentiles aggregations <a href="https://github.com/elastic/elasticsearch/pull/17217" class="ulink" target="_top">#17217</a>
</li>
<li class="listitem">
Correct typo in class name of StatsAggregator <a href="https://github.com/elastic/elasticsearch/pull/15264" class="ulink" target="_top">#15264</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14730" class="ulink" target="_top">#14730</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Replica shards must be failed before primary shards <a href="https://github.com/elastic/elasticsearch/pull/15686" class="ulink" target="_top">#15686</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Prevent TransportReplicationAction to route request based on stale local routing table <a href="https://github.com/elastic/elasticsearch/pull/16274" class="ulink" target="_top">#16274</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/12573" class="ulink" target="_top">#12573</a>, <a href="https://github.com/elastic/elasticsearch/issues/12574" class="ulink" target="_top">#12574</a>)
</li>
<li class="listitem">
Resolves the conflict between alias routing and parent routing by applying the alias routing and ignoring the parent routing. <a href="https://github.com/elastic/elasticsearch/pull/15371" class="ulink" target="_top">#15371</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/3068" class="ulink" target="_top">#3068</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Shard state action channel exceptions <a href="https://github.com/elastic/elasticsearch/pull/16057" class="ulink" target="_top">#16057</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15748" class="ulink" target="_top">#15748</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle RejectedExecution gracefully in TransportService during shutdown <a href="https://github.com/elastic/elasticsearch/pull/16965" class="ulink" target="_top">#16965</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix multi-field support for GeoPoint types <a href="https://github.com/elastic/elasticsearch/pull/15702" class="ulink" target="_top">#15702</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15701" class="ulink" target="_top">#15701</a>)
</li>
<li class="listitem">
Enforce distance in distance query is &gt; 0 [ISSUE] <a href="https://github.com/elastic/elasticsearch/pull/15135" class="ulink" target="_top">#15135</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle regex parsing errors in Gsub and Grok Processors <a href="https://github.com/elastic/elasticsearch/pull/17260" class="ulink" target="_top">#17260</a>
</li>
<li class="listitem">
add on_failure exception metadata to ingest document for verbose simulate <a href="https://github.com/elastic/elasticsearch/pull/16562" class="ulink" target="_top">#16562</a>
</li>
<li class="listitem">
The IngestDocument copy constructor should make a deep copy <a href="https://github.com/elastic/elasticsearch/pull/16248" class="ulink" target="_top">#16248</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16246" class="ulink" target="_top">#16246</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable unmap hack for java 9 <a href="https://github.com/elastic/elasticsearch/pull/16986" class="ulink" target="_top">#16986</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/1" class="ulink" target="_top">#1</a>)
</li>
<li class="listitem">
Fix issues with failed cache loads <a href="https://github.com/elastic/elasticsearch/pull/14315" class="ulink" target="_top">#14315</a>
</li>
<li class="listitem">
Allow parser to move on the START_OBJECT token when parsing search source <a href="https://github.com/elastic/elasticsearch/pull/14145" class="ulink" target="_top">#14145</a>
</li>
<li class="listitem">
Ensure searcher is release if wrapping fails <a href="https://github.com/elastic/elasticsearch/pull/14107" class="ulink" target="_top">#14107</a>
</li>
<li class="listitem">
Avoid deadlocks in Cache#computeIfAbsent <a href="https://github.com/elastic/elasticsearch/pull/14091" class="ulink" target="_top">#14091</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14090" class="ulink" target="_top">#14090</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix potential NPE in SearchSourceBuilder <a href="https://github.com/elastic/elasticsearch/pull/16905" class="ulink" target="_top">#16905</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16902" class="ulink" target="_top">#16902</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make dynamic template parsing less lenient. <a href="https://github.com/elastic/elasticsearch/pull/17249" class="ulink" target="_top">#17249</a>
</li>
<li class="listitem">
Fix dynamic mapper when its parent already has an update <a href="https://github.com/elastic/elasticsearch/pull/17065" class="ulink" target="_top">#17065</a>
</li>
<li class="listitem">
Fix copy_to when the target is a dynamic object field. <a href="https://github.com/elastic/elasticsearch/pull/15216" class="ulink" target="_top">#15216</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/111237" class="ulink" target="_top">#111237</a>, <a href="https://github.com/elastic/elasticsearch/issues/11237" class="ulink" target="_top">#11237</a>)
</li>
<li class="listitem">
Preserve existing mappings on batch mapping updates <a href="https://github.com/elastic/elasticsearch/pull/15130" class="ulink" target="_top">#15130</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/14899" class="ulink" target="_top">#14899</a>, <a href="https://github.com/elastic/elasticsearch/issues/15129" class="ulink" target="_top">#15129</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set MAX_OPEN_FILES to 65536 <a href="https://github.com/elastic/elasticsearch/pull/17431" class="ulink" target="_top">#17431</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17430" class="ulink" target="_top">#17430</a>)
</li>
<li class="listitem">
[windows] Service command still had positional start command <a href="https://github.com/elastic/elasticsearch/pull/17391" class="ulink" target="_top">#17391</a>
</li>
<li class="listitem">
Do not pass double-dash arguments on startup <a href="https://github.com/elastic/elasticsearch/pull/17087" class="ulink" target="_top">#17087</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17084" class="ulink" target="_top">#17084</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Percolator
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Let PercolatorQuery&#8217;s explain use the two phase iterator <a href="https://github.com/elastic/elasticsearch/pull/17315" class="ulink" target="_top">#17315</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17314" class="ulink" target="_top">#17314</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugin Store SMB
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix calling ensureOpen() on the wrong directory (master forwardport) <a href="https://github.com/elastic/elasticsearch/pull/16395" class="ulink" target="_top">#16395</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16383" class="ulink" target="_top">#16383</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
CliTool: Messages printed in Terminal should have percent char escaped <a href="https://github.com/elastic/elasticsearch/pull/16367" class="ulink" target="_top">#16367</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query DSL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Resolve string dates and date math to millis before evaluating for rewrite in range query <a href="https://github.com/elastic/elasticsearch/pull/17239" class="ulink" target="_top">#17239</a>
</li>
<li class="listitem">
<code class="literal">constant_score</code> query should throw error on more than one filter <a href="https://github.com/elastic/elasticsearch/pull/17135" class="ulink" target="_top">#17135</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/17126" class="ulink" target="_top">#17126</a>)
</li>
<li class="listitem">
Single IPv4 addresses in IP field term queries <a href="https://github.com/elastic/elasticsearch/pull/16068" class="ulink" target="_top">#16068</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16058" class="ulink" target="_top">#16058</a>)
</li>
<li class="listitem">
Make strategy optional in GeoShapeQueryBuilder readFrom and writeTo <a href="https://github.com/elastic/elasticsearch/pull/13963" class="ulink" target="_top">#13963</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query Refactoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Query refactoring: set has_parent &amp; has_child types context properly <a href="https://github.com/elastic/elasticsearch/pull/13863" class="ulink" target="_top">#13863</a>
</li>
<li class="listitem">
Make sure equivalent geohashCellQueries are equal after toQuery called <a href="https://github.com/elastic/elasticsearch/pull/13792" class="ulink" target="_top">#13792</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Invoke <code class="literal">IndexingOperationListeners</code> also when recovering from store or remote <a href="https://github.com/elastic/elasticsearch/pull/17406" class="ulink" target="_top">#17406</a>
</li>
<li class="listitem">
Prevent interruption while store checks lucene files for consistency <a href="https://github.com/elastic/elasticsearch/pull/16308" class="ulink" target="_top">#16308</a>
</li>
<li class="listitem">
Mark shard as recovering on the cluster state thread <a href="https://github.com/elastic/elasticsearch/pull/14276" class="ulink" target="_top">#14276</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/13766" class="ulink" target="_top">#13766</a>, <a href="https://github.com/elastic/elasticsearch/issues/14115" class="ulink" target="_top">#14115</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix for search after <a href="https://github.com/elastic/elasticsearch/pull/16271" class="ulink" target="_top">#16271</a>
</li>
<li class="listitem">
Do not be lenient when parsing CIDRs <a href="https://github.com/elastic/elasticsearch/pull/14874" class="ulink" target="_top">#14874</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14862" class="ulink" target="_top">#14862</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Register bootstrap settings <a href="https://github.com/elastic/elasticsearch/pull/16513" class="ulink" target="_top">#16513</a>
</li>
<li class="listitem">
Add settings filtering to node info requests <a href="https://github.com/elastic/elasticsearch/pull/16445" class="ulink" target="_top">#16445</a>
</li>
<li class="listitem">
Ban write access to system properties <a href="https://github.com/elastic/elasticsearch/pull/14914" class="ulink" target="_top">#14914</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Task Manager
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Take filterNodeIds into consideration while sending task requests to nodes <a href="https://github.com/elastic/elasticsearch/pull/17081" class="ulink" target="_top">#17081</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Translog
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move translog recover outside of the engine <a href="https://github.com/elastic/elasticsearch/pull/17422" class="ulink" target="_top">#17422</a>
</li>
<li class="listitem">
Mark shard active during recovery; push settings after engine finally inits <a href="https://github.com/elastic/elasticsearch/pull/16250" class="ulink" target="_top">#16250</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/14121" class="ulink" target="_top">#14121</a>, <a href="https://github.com/elastic/elasticsearch/issues/16209" class="ulink" target="_top">#16209</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="upgrade-5.0.0-alpha1"></a>Upgrades<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.6/docs/reference/release-notes/5.0.0-alpha1.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to lucene-6.0.0-f0aa4fc. <a href="https://github.com/elastic/elasticsearch/pull/17075" class="ulink" target="_top">#17075</a>
</li>
<li class="listitem">
upgrade to lucene 6.0.0-snapshot-bea235f <a href="https://github.com/elastic/elasticsearch/pull/16964" class="ulink" target="_top">#16964</a>
</li>
<li class="listitem">
Upgrade to Jackson 2.7.1 <a href="https://github.com/elastic/elasticsearch/pull/16801" class="ulink" target="_top">#16801</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16294" class="ulink" target="_top">#16294</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update MaxMind geoip2 version to 2.6 <a href="https://github.com/elastic/elasticsearch/pull/16837" class="ulink" target="_top">#16837</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/16801" class="ulink" target="_top">#16801</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Bump master (3.0-snapshot) to java 8 <a href="https://github.com/elastic/elasticsearch/pull/13314" class="ulink" target="_top">#13314</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search Templates
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update mustache.java to version 0.9.1 <a href="https://github.com/elastic/elasticsearch/pull/14053" class="ulink" target="_top">#14053</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/13224" class="ulink" target="_top">#13224</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-5.0.0-alpha2.html">« 5.0.0-alpha2 Release Notes</a>
</span>
<span class="next">
<a href="release-notes-5.0.0-alpha1-2x.html">5.0.0-alpha1 Release Notes (Changes previously released in 2.x) »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
