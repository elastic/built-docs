<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Logging configuration
        | Elasticsearch Reference [6.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [6.3]" /><link rel="up" href="settings.html" title="Configuring Elasticsearch" /><link rel="prev" href="secure-settings.html" title="Secure settings" /><link rel="next" href="important-settings.html" title="Important Elasticsearch configuration" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.3" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="6.3" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [6.3]
    </a></span> » <span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span> » <span class="breadcrumb-link"><a href="settings.html">Configuring Elasticsearch</a></span> » <span class="breadcrumb-node">Logging configuration</span></div><div class="navheader"><span class="prev"><a href="secure-settings.html">
              « 
              Secure settings</a>
           
        </span><span class="next">
           
          <a href="important-settings.html">Important Elasticsearch configuration
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="logging"></a>Logging configuration<a href="https://github.com/elastic/elasticsearch/edit/6.3/docs/reference/setup/logging-config.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Elasticsearch uses <a class="ulink" href="https://logging.apache.org/log4j/2.x/" target="_top">Log4j 2</a> for
logging. Log4j 2 can be configured using the log4j2.properties
file. Elasticsearch exposes three properties, <code class="literal">${sys:es.logs.base_path}</code>,
<code class="literal">${sys:es.logs.cluster_name}</code>, and <code class="literal">${sys:es.logs.node_name}</code> (if the node name
is explicitly set via <code class="literal">node.name</code>) that can be referenced in the configuration
file to determine the location of the log files. The property
<code class="literal">${sys:es.logs.base_path}</code> will resolve to the log directory,
<code class="literal">${sys:es.logs.cluster_name}</code> will resolve to the cluster name (used as the
prefix of log filenames in the default configuration), and
<code class="literal">${sys:es.logs.node_name}</code> will resolve to the node name (if the node name is
explicitly set).</p><p>For example, if your log directory (<code class="literal">path.logs</code>) is <code class="literal">/var/log/elasticsearch</code> and
your cluster is named <code class="literal">production</code> then <code class="literal">${sys:es.logs.base_path}</code> will resolve
to <code class="literal">/var/log/elasticsearch</code> and
<code class="literal">${sys:es.logs.base_path}${sys:file.separator}${sys:es.logs.cluster_name}.log</code>
will resolve to <code class="literal">/var/log/elasticsearch/production.log</code>.</p><div class="pre_wrapper lang-properties"><pre class="programlisting prettyprint lang-properties">appender.rolling.type = RollingFile <a id="CO6-1"></a><i class="conum" data-value="1"></i>
appender.rolling.name = rolling
appender.rolling.fileName = ${sys:es.logs.base_path}${sys:file.separator}${sys:es.logs.cluster_name}.log <a id="CO6-2"></a><i class="conum" data-value="2"></i>
appender.rolling.layout.type = PatternLayout
appender.rolling.layout.pattern = [%d{ISO8601}][%-5p][%-25c{1.}] %marker%.-10000m%n
appender.rolling.filePattern = ${sys:es.logs.base_path}${sys:file.separator}${sys:es.logs.cluster_name}-%d{yyyy-MM-dd}-%i.log.gz <a id="CO6-3"></a><i class="conum" data-value="3"></i>
appender.rolling.policies.type = Policies
appender.rolling.policies.time.type = TimeBasedTriggeringPolicy <a id="CO6-4"></a><i class="conum" data-value="4"></i>
appender.rolling.policies.time.interval = 1 <a id="CO6-5"></a><i class="conum" data-value="5"></i>
appender.rolling.policies.time.modulate = true <a id="CO6-6"></a><i class="conum" data-value="6"></i>
appender.rolling.policies.size.type = SizeBasedTriggeringPolicy <a id="CO6-7"></a><i class="conum" data-value="7"></i>
appender.rolling.policies.size.size = 256MB <a id="CO6-8"></a><i class="conum" data-value="8"></i>
appender.rolling.strategy.type = DefaultRolloverStrategy
appender.rolling.strategy.fileIndex = nomax
appender.rolling.strategy.action.type = Delete <a id="CO6-9"></a><i class="conum" data-value="9"></i>
appender.rolling.strategy.action.basepath = ${sys:es.logs.base_path}
appender.rolling.strategy.action.condition.type = IfFileName <a id="CO6-10"></a><i class="conum" data-value="10"></i>
appender.rolling.strategy.action.condition.glob = ${sys:es.logs.cluster_name}-* <a id="CO6-11"></a><i class="conum" data-value="11"></i>
appender.rolling.strategy.action.condition.nested_condition.type = IfAccumulatedFileSize <a id="CO6-12"></a><i class="conum" data-value="12"></i>
appender.rolling.strategy.action.condition.nested_condition.exceeds = 2GB <a id="CO6-13"></a><i class="conum" data-value="13"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-1"><i class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>Configure the <code class="literal">RollingFile</code> appender</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-2"><i class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>Log to <code class="literal">/var/log/elasticsearch/production.log</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-3"><i class="conum" data-value="3"></i></a> </p></td><td valign="top" align="left"><p>Roll logs to <code class="literal">/var/log/elasticsearch/production-yyyy-MM-dd-i.log</code>; logs
will be compressed on each roll and <code class="literal">i</code> will be incremented</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-4"><i class="conum" data-value="4"></i></a> </p></td><td valign="top" align="left"><p>Use a time-based roll policy</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-5"><i class="conum" data-value="5"></i></a> </p></td><td valign="top" align="left"><p>Roll logs on a daily basis</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-6"><i class="conum" data-value="6"></i></a> </p></td><td valign="top" align="left"><p>Align rolls on the day boundary (as opposed to rolling every twenty-four
hours)</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-7"><i class="conum" data-value="7"></i></a> </p></td><td valign="top" align="left"><p>Using a size-based roll policy</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-8"><i class="conum" data-value="8"></i></a> </p></td><td valign="top" align="left"><p>Roll logs after 256 MB</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-9"><i class="conum" data-value="9"></i></a> </p></td><td valign="top" align="left"><p>Use a delete action when rolling logs</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-10"><i class="conum" data-value="10"></i></a> </p></td><td valign="top" align="left"><p>Only delete logs matching a file pattern</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-11"><i class="conum" data-value="11"></i></a> </p></td><td valign="top" align="left"><p>The pattern is to only delete the main logs</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-12"><i class="conum" data-value="12"></i></a> </p></td><td valign="top" align="left"><p>Only delete if we have accumulated too many compressed logs</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO6-13"><i class="conum" data-value="13"></i></a> </p></td><td valign="top" align="left"><p>The size condition on the compressed logs is 2 GB</p></td></tr></table></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>Log4j’s configuration parsing gets confused by any extraneous whitespace;
if you copy and paste any Log4j settings on this page, or enter any Log4j
configuration in general, be sure to trim any leading and trailing whitespace.</p></div></div><p>Note than you can replace <code class="literal">.gz</code> by <code class="literal">.zip</code> in <code class="literal">appender.rolling.filePattern</code> to
compress the rolled logs using the zip format. If you remove the <code class="literal">.gz</code>
extension then logs will not be compressed as they are rolled.</p><p>If you want to retain log files for a specified period of time, you can use a
rollover strategy with a delete action.</p><div class="pre_wrapper lang-properties"><pre class="programlisting prettyprint lang-properties">appender.rolling.strategy.type = DefaultRolloverStrategy <a id="CO7-1"></a><i class="conum" data-value="1"></i>
appender.rolling.strategy.action.type = Delete <a id="CO7-2"></a><i class="conum" data-value="2"></i>
appender.rolling.strategy.action.basepath = ${sys:es.logs.base_path} <a id="CO7-3"></a><i class="conum" data-value="3"></i>
appender.rolling.strategy.action.condition.type = IfFileName <a id="CO7-4"></a><i class="conum" data-value="4"></i>
appender.rolling.strategy.action.condition.glob = ${sys:es.logs.cluster_name}-* <a id="CO7-5"></a><i class="conum" data-value="5"></i>
appender.rolling.strategy.action.condition.nested_condition.type = IfLastModified <a id="CO7-6"></a><i class="conum" data-value="6"></i>
appender.rolling.strategy.action.condition.nested_condition.age = 7D <a id="CO7-7"></a><i class="conum" data-value="7"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO7-1"><i class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>Configure the <code class="literal">DefaultRolloverStrategy</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO7-2"><i class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>Configure the <code class="literal">Delete</code> action for handling rollovers</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO7-3"><i class="conum" data-value="3"></i></a> </p></td><td valign="top" align="left"><p>The base path to the Elasticsearch logs</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO7-4"><i class="conum" data-value="4"></i></a> </p></td><td valign="top" align="left"><p>The condition to apply when handling rollovers</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO7-5"><i class="conum" data-value="5"></i></a> </p></td><td valign="top" align="left"><p>Delete files from the base path matching the glob
<code class="literal">${sys:es.logs.cluster_name}-*</code>; this is the glob that log files are rolled
to; this is needed to only delete the rolled Elasticsearch logs but not also
delete the deprecation and slow logs</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO7-6"><i class="conum" data-value="6"></i></a> </p></td><td valign="top" align="left"><p>A nested condition to apply to files matching the glob</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO7-7"><i class="conum" data-value="7"></i></a> </p></td><td valign="top" align="left"><p>Retain logs for seven days</p></td></tr></table></div><p>Multiple configuration files can be loaded (in which case they will get merged)
as long as they are named <code class="literal">log4j2.properties</code> and have the Elasticsearch config
directory as an ancestor; this is useful for plugins that expose additional
loggers. The logger section contains the java packages and their corresponding
log level. The appender section contains the destinations for the logs.
Extensive information on how to customize logging and all the supported
appenders can be found on the
<a class="ulink" href="http://logging.apache.org/log4j/2.x/manual/configuration.html" target="_top">Log4j
documentation</a>.</p><h3><a id="configuring-logging-levels"></a>Configuring logging levels<a href="https://github.com/elastic/elasticsearch/edit/6.3/docs/reference/setup/logging-config.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>There are four ways to configuring logging levels, each having situations in which they are appropriate to use.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Via the command-line: <code class="literal">-E &lt;name of logging hierarchy&gt;=&lt;level&gt;</code> (e.g.,
<code class="literal">-E logger.org.elasticsearch.transport=trace</code>). This is most appropriate when
you are temporarily debugging a problem on a single node (for example, a
problem with startup, or during development).</li><li class="listitem">Via <code class="literal">elasticsearch.yml</code>: <code class="literal">&lt;name of logging hierarchy&gt;: &lt;level&gt;</code> (e.g.,
<code class="literal">logger.org.elasticsearch.transport: trace</code>). This is most appropriate when
you are temporarily debugging a problem but are not starting Elasticsearch
via the command-line (e.g., via a service) or you want a logging level
adjusted on a more permanent basis.</li><li class="listitem"><p class="simpara">Via <a class="link" href="misc-cluster.html#cluster-logger" title="Logger">cluster settings</a>:</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">PUT /_cluster/settings
{
  "transient": {
    "&lt;name of logging hierarchy&gt;": "&lt;level&gt;"
  }
}</pre></div><p class="simpara">For example:</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">PUT /_cluster/settings
{
  "transient": {
    "logger.org.elasticsearch.transport": "trace"
  }
}</pre></div><div class="console_widget" data-snippet="snippets/44.console"></div><p class="simpara">This is most appropriate when you need to dynamically need to adjust a logging
level on an actively-running cluster.</p></li><li class="listitem"><p class="simpara">Via the <code class="literal">log4j2.properties</code>:</p><div class="pre_wrapper lang-properties"><pre class="programlisting prettyprint lang-properties">logger.&lt;unique_identifier&gt;.name = &lt;name of logging hierarchy&gt;
logger.&lt;unique_identifier&gt;.level = &lt;level&gt;</pre></div><p class="simpara">For example:</p><div class="pre_wrapper lang-properties"><pre class="programlisting prettyprint lang-properties">logger.transport.name = org.elasticsearch.transport
logger.transport.level = trace</pre></div><p class="simpara">This is most appropriate when you need fine-grained control over the logger (for
example, you want to send the logger to another file, or manage the logger
differently; this is a rare use-case).</p></li></ol></div><h3><a id="deprecation-logging"></a>Deprecation logging<a href="https://github.com/elastic/elasticsearch/edit/6.3/docs/reference/setup/logging-config.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>In addition to regular logging, Elasticsearch allows you to enable logging
of deprecated actions. For example this allows you to determine early, if
you need to migrate certain functionality in the future. By default,
deprecation logging is enabled at the WARN level, the level at which all
deprecation log messages will be emitted.</p><div class="pre_wrapper lang-properties"><pre class="programlisting prettyprint lang-properties">logger.deprecation.level = warn</pre></div><p>This will create a daily rolling deprecation log file in your log directory.
Check this file regularly, especially when you intend to upgrade to a new
major version.</p><p>The default logging configuration has set the roll policy for the deprecation
logs to roll and compress after 1 GB, and to preserve a maximum of five log
files (four rolled logs, and the active log).</p><p>You can disable it in the <code class="literal">config/log4j2.properties</code> file by setting the deprecation
log level to <code class="literal">error</code>.</p></div><div class="navfooter"><span class="prev"><a href="secure-settings.html">
              « 
              Secure settings</a>
           
        </span><span class="next">
           
          <a href="important-settings.html">Important Elasticsearch configuration
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>

  
            <script type="text/javascript" src="/guide/static/docs.js"></script>

            </body>
        
</html>
