<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Elasticsearch version 6.1.2 | Elasticsearch Reference [6.6] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [6.6]"/>
<link rel="up" href="es-release-notes.html" title="Release Notes"/>
<link rel="prev" href="release-notes-6.1.3.html" title="Elasticsearch version 6.1.3"/>
<link rel="next" href="release-notes-6.1.1.html" title="Elasticsearch version 6.1.1"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.6"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="6.6"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [6.6]</a></span>
»
<span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span>
»
<span class="breadcrumb-node">Elasticsearch version 6.1.2</span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-6.1.3.html">« Elasticsearch version 6.1.3</a>
</span>
<span class="next">
<a href="release-notes-6.1.1.html">Elasticsearch version 6.1.1 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-6.1.2"></a>Elasticsearch version 6.1.2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.1.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="_enhancements_5"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.1.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Internal
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make AbstractQueryBuilder.declareStandardFields to be protected (#27865) <a href="https://github.com/elastic/elasticsearch/pull/27894" class="ulink" target="_top">#27894</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27865" class="ulink" target="_top">#27865</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<p>Added new "Request" object flavored request methods. Prefer these instead of the
multi-argument versions. (<a href="https://github.com/elastic/elasticsearch/pull/29623" class="ulink" target="_top">#29623</a>)</p>
<h3><a id="_bug_fixes_9"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.1.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix incorrect results for aggregations nested under a nested aggregation <a href="https://github.com/elastic/elasticsearch/pull/27946" class="ulink" target="_top">#27946</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27912" class="ulink" target="_top">#27912</a>)
</li>
<li class="listitem">
Fix composite aggregation when after term is missing in the shard <a href="https://github.com/elastic/elasticsearch/pull/27936" class="ulink" target="_top">#27936</a>
</li>
<li class="listitem">
Fix preserving FiltersAggregationBuilder#keyed field on rewrite <a href="https://github.com/elastic/elasticsearch/pull/27900" class="ulink" target="_top">#27900</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27841" class="ulink" target="_top">#27841</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use <code class="literal">_refresh</code> to shrink the version map on inactivity <a href="https://github.com/elastic/elasticsearch/pull/27918" class="ulink" target="_top">#27918</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27852" class="ulink" target="_top">#27852</a>)
</li>
<li class="listitem">
Allow resize version map under lock even if there are pending operations <a href="https://github.com/elastic/elasticsearch/pull/27870" class="ulink" target="_top">#27870</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27852" class="ulink" target="_top">#27852</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed the removal of tokens during categorization, where the tokens were
incorrectly deemed to be hexadecimal numbers. For more information, see
<a href="/guide/en/elastic-stack-overview/6.6/ml-configuring-categories.html" class="ulink" target="_top">Categorizing log messages</a>.
</li>
<li class="listitem">
Reduced the sensitivity of the analysis to small perturbations in the input
data.
</li>
<li class="listitem">
Disabled the ability to create forecasts for jobs that were created before
6.1.0.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added a <code class="literal">cluster_alerts.management.blacklist</code> setting for HTTP Exporters,
which you can use to block the creation of specific cluster alerts. For more
information, see <a class="xref" href="monitoring-settings.html" title="Monitoring settings in Elasticsearch">Monitoring settings</a>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Only bind loopback addresses when binding to local <a href="https://github.com/elastic/elasticsearch/pull/28029" class="ulink" target="_top">#28029</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow shrinking of indices from a previous major <a href="https://github.com/elastic/elasticsearch/pull/28076" class="ulink" target="_top">#28076</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28061" class="ulink" target="_top">#28061</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use the underlying connection version for CCS connections  <a href="https://github.com/elastic/elasticsearch/pull/28093" class="ulink" target="_top">#28093</a>
</li>
<li class="listitem">
Carry forward weights, etc on rescore rewrite <a href="https://github.com/elastic/elasticsearch/pull/27981" class="ulink" target="_top">#27981</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27979" class="ulink" target="_top">#27979</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue in the Active Directory realm when following referrals that
resulted in an increase in the number of connections made to Active Directory.
</li>
<li class="listitem">
Fixed exception that occurred when using auditing and transport clients. In
particular, the problem occurred when the number of processors on the transport
client did not match the number of processors on the server.
</li>
<li class="listitem">
Ensured that TLS is not required to install a license if you are using
single-node discovery. For more information, see <a class="xref" href="bootstrap-checks.html#single-node-discovery" title="Single-node discovery">Single-node discovery</a> and
<a href="/guide/en/elastic-stack-overview/6.6/ssl-tls.html" class="ulink" target="_top">Setting up TLS on a Cluster</a>.
</li>
<li class="listitem">
Fixed the <a class="xref" href="security-api-privileges.html" title="Privilege APIs">has_privileges API</a>. In particular, the
<code class="literal">has_all_requested</code> field in the API results was not taking cluster privileges
into consideration.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fail restore when the shard allocations max retries count is reached <a href="https://github.com/elastic/elasticsearch/pull/27493" class="ulink" target="_top">#27493</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/26865" class="ulink" target="_top">#26865</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Translog
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Only sync translog when global checkpoint increased <a href="https://github.com/elastic/elasticsearch/pull/27973" class="ulink" target="_top">#27973</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/27837" class="ulink" target="_top">#27837</a>, <a href="https://github.com/elastic/elasticsearch/issues/27970" class="ulink" target="_top">#27970</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed encoding of UTF-8 data in the HTTP client.
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-6.1.3.html">« Elasticsearch version 6.1.3</a>
</span>
<span class="next">
<a href="release-notes-6.1.1.html">Elasticsearch version 6.1.1 »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
