<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Elasticsearch version 6.4.0 | Elasticsearch Guide [6.6] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [6.6]"/>
<link rel="up" href="es-release-notes.html" title="Release Notes"/>
<link rel="prev" href="release-notes-6.4.1.html" title="Elasticsearch version 6.4.1"/>
<link rel="next" href="release-notes-6.3.2.html" title="Elasticsearch version 6.3.2"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.6"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="6.6"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [6.6]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-6.4.1.html">« Elasticsearch version 6.4.1</a>
</span>
<span class="next">
<a href="release-notes-6.3.2.html">Elasticsearch version 6.3.2 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-6.4.0"></a>Elasticsearch version 6.4.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.4.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="_known_issues"></a>Known issues<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.4.asciidoc">edit</a></h3>
<p>Elasticsearch 6.4.0 fails to start when PEM encoded private key files that have been exported from <code class="literal">PKCS#12</code>
keystores are in use. These files can be identified by the existence of lines that start with either
<code class="literal">Bag Attributes</code> or <code class="literal">Key Attributes</code> in the beginning of the key file.</p>
<p>These keys can be converted to a supported format using one of the following methods:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove the extra lines from the beginning of the file so that the file starts with the line that starts
with <code class="literal">-----BEGIN</code>
</li>
<li class="listitem">
Use openssl to convert it, i.e: <code class="literal">openssl pkcs8 -in old_format.key -topk8 -nocrypt -out new_format.key</code>
assuming the key was not password protected.
</li>
</ul>
</div>
<p>Also see <a class="xref" href="breaking-changes-6.4.html" title="Breaking changes in 6.4"><em>6.4</em></a>.</p>
<h3><a id="breaking-6.4.0"></a>Breaking Changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Plugins: Remove meta plugins <a href="https://github.com/elastic/elasticsearch/pull/30670" class="ulink" target="_top">#30670</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reject regex search if regex string is too long (#28344) <a href="https://github.com/elastic/elasticsearch/pull/28542" class="ulink" target="_top">#28542</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28344" class="ulink" target="_top">#28344</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Task Management
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove metadata customs that can break serialization <a href="https://github.com/elastic/elasticsearch/pull/30945" class="ulink" target="_top">#30945</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/30731" class="ulink" target="_top">#30731</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="breaking-java-6.4.0"></a>Breaking Java changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Configurable password hashing algorithm/cost <a href="https://github.com/elastic/elasticsearch/pull/31234" class="ulink" target="_top">#31234</a>, <a href="https://github.com/elastic/elasticsearch/pull/32092" class="ulink" target="_top">#32092</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31723" class="ulink" target="_top">#31723</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Discovery-Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow multiple unicast host providers <a href="https://github.com/elastic/elasticsearch/pull/31509" class="ulink" target="_top">#31509</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java High Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add x-pack-info API <a href="https://github.com/elastic/elasticsearch/pull/31870" class="ulink" target="_top">#31870</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java Low Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support host selection <a href="https://github.com/elastic/elasticsearch/pull/30523" class="ulink" target="_top">#30523</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/21888" class="ulink" target="_top">#21888</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="deprecation-6.4.0"></a>Deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Correct spelling of AnalysisPlugin#requriesAnalysisSettings <a href="https://github.com/elastic/elasticsearch/pull/32025" class="ulink" target="_top">#32025</a>
</li>
<li class="listitem">
Deprecate <code class="literal">nGram</code> and <code class="literal">edgeNGram</code> names for ngram filters <a href="https://github.com/elastic/elasticsearch/pull/30209" class="ulink" target="_top">#30209</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Index APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add deprecation warning for default shards <a href="https://github.com/elastic/elasticsearch/pull/30587" class="ulink" target="_top">#30587</a>
</li>
<li class="listitem">
Deprecate not copy settings and explicitly disallow <a href="https://github.com/elastic/elasticsearch/pull/30404" class="ulink" target="_top">#30404</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/28347" class="ulink" target="_top">#28347</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java High Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add high-level client methods that accept RequestOptions <a href="https://github.com/elastic/elasticsearch/pull/31069" class="ulink" target="_top">#31069</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java Low Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Client: Deprecate many argument performRequest <a href="https://github.com/elastic/elasticsearch/pull/30315" class="ulink" target="_top">#30315</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate unindexed phrases <a href="https://github.com/elastic/elasticsearch/pull/31072" class="ulink" target="_top">#31072</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate accepting malformed requests in stored script API <a href="https://github.com/elastic/elasticsearch/pull/28939" class="ulink" target="_top">#28939</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27612" class="ulink" target="_top">#27612</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
In the field capabilities API, deprecate support for providing fields in the request body. <a href="https://github.com/elastic/elasticsearch/pull/30157" class="ulink" target="_top">#30157</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Suggesters
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecates indexing and querying a context completion field without context <a href="https://github.com/elastic/elasticsearch/pull/30712" class="ulink" target="_top">#30712</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29222" class="ulink" target="_top">#29222</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="feature-6.4.0"></a>New Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add WeightedAvg metric aggregation <a href="https://github.com/elastic/elasticsearch/pull/31037" class="ulink" target="_top">#31037</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/15731" class="ulink" target="_top">#15731</a>)
</li>
<li class="listitem">
Add a MovingFunction pipeline aggregation, deprecate MovingAvg agg <a href="https://github.com/elastic/elasticsearch/pull/29594" class="ulink" target="_top">#29594</a>
</li>
<li class="listitem">
Add missing_bucket option in the composite agg <a href="https://github.com/elastic/elasticsearch/pull/29465" class="ulink" target="_top">#29465</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29380" class="ulink" target="_top">#29380</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Expose lucene&#8217;s RemoveDuplicatesTokenFilter <a href="https://github.com/elastic/elasticsearch/pull/31275" class="ulink" target="_top">#31275</a>
</li>
<li class="listitem">
Multiplexing token filter <a href="https://github.com/elastic/elasticsearch/pull/31208" class="ulink" target="_top">#31208</a>
</li>
<li class="listitem">
Adds a new analysis plugin called <code class="literal">analysis_nori</code> that exposes the Lucene Korean
analysis module. (<a href="https://github.com/elastic/elasticsearch/pull/30397" class="ulink" target="_top">#30397</a>)
</li>
<li class="listitem">
Adding a char_group tokenizer <a href="https://github.com/elastic/elasticsearch/pull/24186" class="ulink" target="_top">#24186</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Kerberos authentication support <a href="https://github.com/elastic/elasticsearch/pull/32263" class="ulink" target="_top">#32263</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30243" class="ulink" target="_top">#30243</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce Application Privileges with support for Kibana RBAC <a href="https://github.com/elastic/elasticsearch/pull/32309" class="ulink" target="_top">#32309</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java High Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add analyze API to high-level rest client <a href="https://github.com/elastic/elasticsearch/pull/31577" class="ulink" target="_top">#31577</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add support for search templates to the high-level REST client. <a href="https://github.com/elastic/elasticsearch/pull/30473" class="ulink" target="_top">#30473</a>
</li>
<li class="listitem">
Rest High Level client: Add List Tasks <a href="https://github.com/elastic/elasticsearch/pull/29546" class="ulink" target="_top">#29546</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Detectors now support <a href="/guide/en/elastic-stack-overview/6.6/ml-rules.html" class="ulink" target="_top">custom rules</a> that enable the
user to improve machine learning results by providing some domain-specific
knowledge in the form of rule. <a href="https://github.com/elastic/ml-cpp/pull/119" class="ulink" target="_top">#119</a>, <a href="https://github.com/elastic/elasticsearch/pull/31110" class="ulink" target="_top">#31110</a>, <a href="https://github.com/elastic/elasticsearch/pull/31294" class="ulink" target="_top">#31294</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31110" class="ulink" target="_top">#31110</a>)
</li>
<li class="listitem">
Reverse engineer Grok patterns from categorization results <a href="https://github.com/elastic/elasticsearch/pull/30125" class="ulink" target="_top">#30125</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for field aliases. <a href="https://github.com/elastic/elasticsearch/pull/32172" class="ulink" target="_top">#32172</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/23714" class="ulink" target="_top">#23714</a>, <a href="https://github.com/elastic/elasticsearch/issues/31372" class="ulink" target="_top">#31372</a>)
</li>
<li class="listitem">
Add an option to split keyword field on whitespace at query time <a href="https://github.com/elastic/elasticsearch/pull/30691" class="ulink" target="_top">#30691</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30393" class="ulink" target="_top">#30393</a>)
</li>
<li class="listitem">
The new <a class="xref" href="mapping-ignored-field.html" title="_ignored field"><code class="literal">_ignored</code></a> field enables you to know which
fields got ignored at index time because of the <a class="xref" href="ignore-malformed.html" title="ignore_malformed"><code class="literal">ignore_malformed</code></a>
option. (<a href="https://github.com/elastic/elasticsearch/pull/29658" class="ulink" target="_top">#29658</a>) (issue: <a href="https://github.com/elastic/elasticsearch/issues/29494" class="ulink" target="_top">#29494</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce client feature tracking <a href="https://github.com/elastic/elasticsearch/pull/31020" class="ulink" target="_top">#31020</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30731" class="ulink" target="_top">#30731</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reload secure settings for plugins - backport (#31383) <a href="https://github.com/elastic/elasticsearch/pull/31481" class="ulink" target="_top">#31481</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29135" class="ulink" target="_top">#29135</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
SQL: Support for escape sequences <a href="https://github.com/elastic/elasticsearch/pull/31884" class="ulink" target="_top">#31884</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31883" class="ulink" target="_top">#31883</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add more contexts to painless execute api <a href="https://github.com/elastic/elasticsearch/pull/30511" class="ulink" target="_top">#30511</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Index phrases <a href="https://github.com/elastic/elasticsearch/pull/30450" class="ulink" target="_top">#30450</a>
</li>
<li class="listitem">
Add a <code class="literal">format</code> option to <code class="literal">docvalue_fields</code>. <a href="https://github.com/elastic/elasticsearch/pull/29639" class="ulink" target="_top">#29639</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27740" class="ulink" target="_top">#27740</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make watcher settings reloadable <a href="https://github.com/elastic/elasticsearch/pull/31746" class="ulink" target="_top">#31746</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="enhancement-6.4.0"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix wrong NaN check in MovingFunctions#stdDev() <a href="https://github.com/elastic/elasticsearch/pull/31888" class="ulink" target="_top">#31888</a>
</li>
<li class="listitem">
Mitigate date histogram slowdowns with non-fixed timezones. <a href="https://github.com/elastic/elasticsearch/pull/30534" class="ulink" target="_top">#30534</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28727" class="ulink" target="_top">#28727</a>)
</li>
<li class="listitem">
Build global ordinals terms bucket from matching ordinals <a href="https://github.com/elastic/elasticsearch/pull/30166" class="ulink" target="_top">#30166</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30117" class="ulink" target="_top">#30117</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add exclusion option to <code class="literal">keep_types</code> token filter <a href="https://github.com/elastic/elasticsearch/pull/32012" class="ulink" target="_top">#32012</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29277" class="ulink" target="_top">#29277</a>)
</li>
<li class="listitem">
Added lenient flag for synonym token filter <a href="https://github.com/elastic/elasticsearch/pull/31484" class="ulink" target="_top">#31484</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30968" class="ulink" target="_top">#30968</a>)
</li>
<li class="listitem">
Consistent encoder names <a href="https://github.com/elastic/elasticsearch/pull/29492" class="ulink" target="_top">#29492</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Audit
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add opaque_id to audit logging <a href="https://github.com/elastic/elasticsearch/pull/31878" class="ulink" target="_top">#31878</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31521" class="ulink" target="_top">#31521</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support RequestedAuthnContext <a href="https://github.com/elastic/elasticsearch/pull/31238" class="ulink" target="_top">#31238</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29995" class="ulink" target="_top">#29995</a>)
</li>
<li class="listitem">
Make native realm usage stats accurate <a href="https://github.com/elastic/elasticsearch/pull/30824" class="ulink" target="_top">#30824</a>
</li>
<li class="listitem">
Limit user to single concurrent auth per realm <a href="https://github.com/elastic/elasticsearch/pull/30794" class="ulink" target="_top">#30794</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30355" class="ulink" target="_top">#30355</a>)
</li>
<li class="listitem">
SAML: Process only signed data <a href="https://github.com/elastic/elasticsearch/pull/30641" class="ulink" target="_top">#30641</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support for remote path in reindex api <a href="https://github.com/elastic/elasticsearch/pull/31290" class="ulink" target="_top">#31290</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/22913" class="ulink" target="_top">#22913</a>)
</li>
<li class="listitem">
Don&#8217;t swallow exceptions on replication <a href="https://github.com/elastic/elasticsearch/pull/31179" class="ulink" target="_top">#31179</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28571" class="ulink" target="_top">#28571</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Circuit Breakers
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enhance Parent circuit breaker error message <a href="https://github.com/elastic/elasticsearch/pull/32056" class="ulink" target="_top">#32056</a>
</li>
<li class="listitem">
Split CircuitBreaker-related tests <a href="https://github.com/elastic/elasticsearch/pull/31659" class="ulink" target="_top">#31659</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change ObjectParser exception <a href="https://github.com/elastic/elasticsearch/pull/31030" class="ulink" target="_top">#31030</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30605" class="ulink" target="_top">#30605</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Discovery-Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for AWS session tokens <a href="https://github.com/elastic/elasticsearch/pull/30414" class="ulink" target="_top">#30414</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/16428" class="ulink" target="_top">#16428</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid sending duplicate remote failed shard requests <a href="https://github.com/elastic/elasticsearch/pull/31313" class="ulink" target="_top">#31313</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adjust translog after versionType is removed in 7.0 <a href="https://github.com/elastic/elasticsearch/pull/32020" class="ulink" target="_top">#32020</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31945" class="ulink" target="_top">#31945</a>)
</li>
<li class="listitem">
Enable engine factory to be pluggable <a href="https://github.com/elastic/elasticsearch/pull/31183" class="ulink" target="_top">#31183</a>
</li>
<li class="listitem">
Allow to trim all ops above a certain seq# with a term lower than X <a href="https://github.com/elastic/elasticsearch/pull/30176" class="ulink" target="_top">#30176</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/10708" class="ulink" target="_top">#10708</a>)
</li>
<li class="listitem">
Do not add noop from local translog to translog again <a href="https://github.com/elastic/elasticsearch/pull/29637" class="ulink" target="_top">#29637</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for ignore_unmapped to geo sort <a href="https://github.com/elastic/elasticsearch/pull/31153" class="ulink" target="_top">#31153</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28152" class="ulink" target="_top">#28152</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Bypass highlight query terms extraction on empty fields <a href="https://github.com/elastic/elasticsearch/pull/32090" class="ulink" target="_top">#32090</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Index APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Index UUID to <code class="literal">/_stats</code> Response <a href="https://github.com/elastic/elasticsearch/pull/31871" class="ulink" target="_top">#31871</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31791" class="ulink" target="_top">#31791</a>)
</li>
<li class="listitem">
add support for write index resolution when creating/updating documents <a href="https://github.com/elastic/elasticsearch/pull/31520" class="ulink" target="_top">#31520</a>
</li>
<li class="listitem">
<a class="xref" href="breaking-changes-6.4.html#copy-source-settings-on-resize" title="Copying source settings during shrink/split operations">Allow copying source settings on index resize operations</a> <a href="https://github.com/elastic/elasticsearch/pull/30255" class="ulink" target="_top">#30255</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28347" class="ulink" target="_top">#28347</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Extend KV Processor (#31789) <a href="https://github.com/elastic/elasticsearch/pull/32232" class="ulink" target="_top">#32232</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31786" class="ulink" target="_top">#31786</a>)
</li>
<li class="listitem">
Make a few Processors callable by Painless <a href="https://github.com/elastic/elasticsearch/pull/32170" class="ulink" target="_top">#32170</a>
</li>
<li class="listitem">
date_index_name processor template resolution <a href="https://github.com/elastic/elasticsearch/pull/31841" class="ulink" target="_top">#31841</a>
</li>
<li class="listitem">
Introduction of a bytes processor <a href="https://github.com/elastic/elasticsearch/pull/31733" class="ulink" target="_top">#31733</a>
</li>
<li class="listitem">
Extend allowed characters for grok field names <a href="https://github.com/elastic/elasticsearch/pull/31653" class="ulink" target="_top">#31653</a>, <a href="https://github.com/elastic/elasticsearch/pull/31722" class="ulink" target="_top">#31722</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/21745" class="ulink" target="_top">#21745</a>)
</li>
<li class="listitem">
Ingest: Add ignore_missing option to RemoveProc <a href="https://github.com/elastic/elasticsearch/pull/31693" class="ulink" target="_top">#31693</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/23086" class="ulink" target="_top">#23086</a>)
</li>
<li class="listitem">
Enable Templated Fieldnames in Rename <a href="https://github.com/elastic/elasticsearch/pull/31690" class="ulink" target="_top">#31690</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29657" class="ulink" target="_top">#29657</a>)
</li>
<li class="listitem">
Add region ISO code to GeoIP Ingest plugin <a href="https://github.com/elastic/elasticsearch/pull/31669" class="ulink" target="_top">#31669</a>
</li>
<li class="listitem">
Extend allowed characters for grok field names <a href="https://github.com/elastic/elasticsearch/pull/31653" class="ulink" target="_top">#31653</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/21745" class="ulink" target="_top">#21745</a>)
</li>
<li class="listitem">
Add ingest-attachment support for per document <code class="literal">indexed_chars</code> limit <a href="https://github.com/elastic/elasticsearch/pull/31352" class="ulink" target="_top">#31352</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java High Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Snapshots Status API to High Level Rest Client <a href="https://github.com/elastic/elasticsearch/pull/32295" class="ulink" target="_top">#32295</a>, <a href="https://github.com/elastic/elasticsearch/pull/31515" class="ulink" target="_top">#31515</a>
</li>
<li class="listitem">
Add put watch action <a href="https://github.com/elastic/elasticsearch/pull/32026" class="ulink" target="_top">#32026</a>, <a href="https://github.com/elastic/elasticsearch/pull/32191" class="ulink" target="_top">#32191</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29827" class="ulink" target="_top">#29827</a>)
</li>
<li class="listitem">
Add Get Snapshots High Level REST API <a href="https://github.com/elastic/elasticsearch/pull/31980" class="ulink" target="_top">#31980</a>
</li>
<li class="listitem">
Add X-Pack usage api <a href="https://github.com/elastic/elasticsearch/pull/31975" class="ulink" target="_top">#31975</a>
</li>
<li class="listitem">
Check that client methods match API defined in the REST spec <a href="https://github.com/elastic/elasticsearch/pull/31825" class="ulink" target="_top">#31825</a>
</li>
<li class="listitem">
Clean Up Snapshot Create Rest API <a href="https://github.com/elastic/elasticsearch/pull/31779" class="ulink" target="_top">#31779</a>
</li>
<li class="listitem">
Add cluster get settings API <a href="https://github.com/elastic/elasticsearch/pull/31706" class="ulink" target="_top">#31706</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add get index API <a href="https://github.com/elastic/elasticsearch/pull/31703" class="ulink" target="_top">#31703</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Turn GetFieldMappingsResponse to ToXContentObject <a href="https://github.com/elastic/elasticsearch/pull/31544" class="ulink" target="_top">#31544</a>
</li>
<li class="listitem">
Add Get Snapshots High Level REST API <a href="https://github.com/elastic/elasticsearch/pull/31537" class="ulink" target="_top">#31537</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add Snapshots Status API to High Level Rest Client <a href="https://github.com/elastic/elasticsearch/pull/31515" class="ulink" target="_top">#31515</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add get field mappings to High Level REST API Client <a href="https://github.com/elastic/elasticsearch/pull/31423" class="ulink" target="_top">#31423</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add delete snapshot High Level REST API <a href="https://github.com/elastic/elasticsearch/pull/31393" class="ulink" target="_top">#31393</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add explain High Level REST API <a href="https://github.com/elastic/elasticsearch/pull/31387" class="ulink" target="_top">#31387</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add get stored script and delete stored script to high level REST API <a href="https://github.com/elastic/elasticsearch/pull/31355" class="ulink" target="_top">#31355</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add Create Snapshot to High-Level Rest Client <a href="https://github.com/elastic/elasticsearch/pull/31215" class="ulink" target="_top">#31215</a>
</li>
<li class="listitem">
Add get index templates API <a href="https://github.com/elastic/elasticsearch/pull/31161" class="ulink" target="_top">#31161</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add simulate pipeline API <a href="https://github.com/elastic/elasticsearch/pull/31158" class="ulink" target="_top">#31158</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add validate query API <a href="https://github.com/elastic/elasticsearch/pull/31077" class="ulink" target="_top">#31077</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Moved pipeline APIs to ingest namespace <a href="https://github.com/elastic/elasticsearch/pull/31027" class="ulink" target="_top">#31027</a>
</li>
<li class="listitem">
List tasks failure to not lose nodeId <a href="https://github.com/elastic/elasticsearch/pull/31001" class="ulink" target="_top">#31001</a>
</li>
<li class="listitem">
Add Verify Repository High Level REST API <a href="https://github.com/elastic/elasticsearch/pull/30934" class="ulink" target="_top">#30934</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Move list tasks API under tasks namespace <a href="https://github.com/elastic/elasticsearch/pull/30906" class="ulink" target="_top">#30906</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29546" class="ulink" target="_top">#29546</a>)
</li>
<li class="listitem">
Add get mappings support to high-level rest client <a href="https://github.com/elastic/elasticsearch/pull/30889" class="ulink" target="_top">#30889</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Fix <code class="literal">AliasMetaData#fromXContent</code> parsing <a href="https://github.com/elastic/elasticsearch/pull/30866" class="ulink" target="_top">#30866</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28799" class="ulink" target="_top">#28799</a>)
</li>
<li class="listitem">
Add delete ingest pipeline API <a href="https://github.com/elastic/elasticsearch/pull/30865" class="ulink" target="_top">#30865</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add get ingest pipeline API <a href="https://github.com/elastic/elasticsearch/pull/30847" class="ulink" target="_top">#30847</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add MultiSearchTemplate support to High Level Rest client <a href="https://github.com/elastic/elasticsearch/pull/30836" class="ulink" target="_top">#30836</a>
</li>
<li class="listitem">
Add put ingest pipeline API <a href="https://github.com/elastic/elasticsearch/pull/30793" class="ulink" target="_top">#30793</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add cancel task API <a href="https://github.com/elastic/elasticsearch/pull/30745" class="ulink" target="_top">#30745</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add Delete Repository High Level REST API <a href="https://github.com/elastic/elasticsearch/pull/30666" class="ulink" target="_top">#30666</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add synced flush API <a href="https://github.com/elastic/elasticsearch/pull/30650" class="ulink" target="_top">#30650</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add PUT Repository High Level REST API <a href="https://github.com/elastic/elasticsearch/pull/30501" class="ulink" target="_top">#30501</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Allow caller to set per request options <a href="https://github.com/elastic/elasticsearch/pull/30490" class="ulink" target="_top">#30490</a>
</li>
<li class="listitem">
Add put index template api to high level rest client <a href="https://github.com/elastic/elasticsearch/pull/30400" class="ulink" target="_top">#30400</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add GET Repository High Level REST API <a href="https://github.com/elastic/elasticsearch/pull/30362" class="ulink" target="_top">#30362</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add support for field capabilities to the high-level REST client. <a href="https://github.com/elastic/elasticsearch/pull/29664" class="ulink" target="_top">#29664</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add Cluster Health API <a href="https://github.com/elastic/elasticsearch/pull/29331" class="ulink" target="_top">#29331</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Add Get Settings API support to java high-level rest client <a href="https://github.com/elastic/elasticsearch/pull/29229" class="ulink" target="_top">#29229</a>
</li>
<li class="listitem">
Add Get Aliases API to the high-level REST client <a href="https://github.com/elastic/elasticsearch/pull/28799" class="ulink" target="_top">#28799</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27205" class="ulink" target="_top">#27205</a>)
</li>
<li class="listitem">
Register ERR metric with NamedXContentRegistry <a href="https://github.com/elastic/elasticsearch/pull/32320" class="ulink" target="_top">#32320</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java Low Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Node selector per client rather than per request <a href="https://github.com/elastic/elasticsearch/pull/31471" class="ulink" target="_top">#31471</a>
</li>
<li class="listitem">
NodeSelector for node attributes <a href="https://github.com/elastic/elasticsearch/pull/31296" class="ulink" target="_top">#31296</a>
</li>
<li class="listitem">
Replace Request#setHeaders with addHeader <a href="https://github.com/elastic/elasticsearch/pull/30588" class="ulink" target="_top">#30588</a>
</li>
<li class="listitem">
Preserve REST client auth despite 401 response <a href="https://github.com/elastic/elasticsearch/pull/30558" class="ulink" target="_top">#30558</a>
</li>
<li class="listitem">
Add String flavored setEntity <a href="https://github.com/elastic/elasticsearch/pull/30447" class="ulink" target="_top">#30447</a>
</li>
<li class="listitem">
Refactor Sniffer and make it testable <a href="https://github.com/elastic/elasticsearch/pull/29638" class="ulink" target="_top">#29638</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/25701" class="ulink" target="_top">#25701</a>, <a href="https://github.com/elastic/elasticsearch/issues/27697" class="ulink" target="_top">#27697</a>)
</li>
<li class="listitem">
Add Request object flavored methods <a href="https://github.com/elastic/elasticsearch/pull/29623" class="ulink" target="_top">#29623</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
License
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reuse expiration date of trial licenses <a href="https://github.com/elastic/elasticsearch/pull/31033" class="ulink" target="_top">#31033</a>, <a href="https://github.com/elastic/elasticsearch/pull/30950" class="ulink" target="_top">#30950</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30882" class="ulink" target="_top">#30882</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add x-opaque-id to search slow logs <a href="https://github.com/elastic/elasticsearch/pull/31539" class="ulink" target="_top">#31539</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31521" class="ulink" target="_top">#31521</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If a machine learning datafeed is configured to use cross cluster search to retrieve data,
the remote clusters must have X-Pack installed and a valid licence for machine learning.
If the licence requirements are not met, datafeeds using cross cluster search
will not start. <a href="https://github.com/elastic/elasticsearch/pull/31247" class="ulink" target="_top">#31247</a>
</li>
<li class="listitem">
Use default request durability for .ml-state index <a href="https://github.com/elastic/elasticsearch/pull/32233" class="ulink" target="_top">#32233</a>
</li>
<li class="listitem">
Return statistics about forecasts as part of the job stats and usage API <a href="https://github.com/elastic/elasticsearch/pull/31647" class="ulink" target="_top">#31647</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31395" class="ulink" target="_top">#31395</a>)
</li>
<li class="listitem">
Add description to ML filters <a href="https://github.com/elastic/elasticsearch/pull/31330" class="ulink" target="_top">#31330</a>
</li>
<li class="listitem">
Clean left behind model state docs <a href="https://github.com/elastic/elasticsearch/pull/30659" class="ulink" target="_top">#30659</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30551" class="ulink" target="_top">#30551</a>)
</li>
<li class="listitem">
Hide internal job update options from the REST API <a href="https://github.com/elastic/elasticsearch/pull/30537" class="ulink" target="_top">#30537</a>
</li>
<li class="listitem">
Provide tmp storage for forecasting and possibly any machine learning native jobs <a href="https://github.com/elastic/elasticsearch/pull/30399" class="ulink" target="_top">#30399</a>
</li>
<li class="listitem">
Improves and uses periodic boundary condition for seasonal component modeling (<a href="https://github.com/elastic/ml-cpp/pull/84" class="ulink" target="_top">#84</a>)
</li>
<li class="listitem">
Improves robustness with respect to outliers in detection and initialization of seasonal components (<a href="https://github.com/elastic/ml-cpp/pull/90" class="ulink" target="_top">#90</a> (issue: <a href="https://github.com/elastic/ml-cpp/issues/87" class="ulink" target="_top">#87</a>))
</li>
<li class="listitem">
Improves behavior when there are abrupt changes in the seasonal components present in a time series (<a href="https://github.com/elastic/ml-cpp/pull/91" class="ulink" target="_top">#91</a> (issue: <a href="https://github.com/elastic/ml-cpp/issues/6" class="ulink" target="_top">#6</a>))
</li>
<li class="listitem">
Adds explicit change point detection and modeling (<a href="https://github.com/elastic/ml-cpp/pull/92" class="ulink" target="_top">#92</a>)
</li>
<li class="listitem">
Improves partition analysis memory usage (<a href="https://github.com/elastic/ml-cpp/pull/97" class="ulink" target="_top">#97</a>)
</li>
<li class="listitem">
Reduces model memory by storing state for periodicity testing in a compressed format (<a href="https://github.com/elastic/ml-cpp/pull/104" class="ulink" target="_top">#104</a>, <a href="https://github.com/elastic/ml-cpp/pull/100" class="ulink" target="_top">#100</a>)
</li>
<li class="listitem">
Improves the accuracy of model memory control
(<a href="https://github.com/elastic/ml-cpp/pull/125" class="ulink" target="_top">#125</a>, <a href="https://github.com/elastic/ml-cpp/issues/122" class="ulink" target="_top">#122</a>)
</li>
<li class="listitem">
Improves adaption of the modeling of cyclic components to very localized features
(<a href="https://github.com/elastic/ml-cpp/pull/138" class="ulink" target="_top">#138</a>, <a href="https://github.com/elastic/ml-cpp/pull/134" class="ulink" target="_top">#134</a>)
</li>
<li class="listitem">
Reduces the memory consumed by distribution models (<a href="https://github.com/elastic/ml-cpp/pull/162" class="ulink" target="_top">#162</a>, <a href="https://github.com/elastic/ml-cpp/pull/146" class="ulink" target="_top">#146</a>)
</li>
<li class="listitem">
Forecasting of large machine learning jobs is now supported by temporarily storing
model state on disk (<a href="https://github.com/elastic/ml-cpp/pull/89" class="ulink" target="_top">#89</a>)
</li>
<li class="listitem">
Secures the machine learning processes by preventing system calls such as fork
and exec. The Linux implementation uses Seccomp BPF (secure computing with
Berkeley Packet Filters) to intercept system calls and is available in kernels
since 3.5. On Windows, Job Objects prevent new processes being created and macOS
uses the sandbox functionality (<a href="https://github.com/elastic/ml-cpp/pull/106" class="ulink" target="_top">#106</a>, <a href="https://github.com/elastic/ml-cpp/pull/98" class="ulink" target="_top">#98</a>)
</li>
<li class="listitem">
Fixes a bug that caused underestimation of the memory used by shared pointers.
Also reduces the memory consumed by unnecessary reference counting (<a href="https://github.com/elastic/ml-cpp/pull/121" class="ulink" target="_top">#121</a>, <a href="https://github.com/elastic/ml-cpp/pull/108" class="ulink" target="_top">https://github.com/elastic/ml-cpp/pull/108</a>, <a href="https://github.com/elastic/ml-cpp/pull/115" class="ulink" target="_top">#115</a>)
</li>
<li class="listitem">
Reduces model memory by storing the state for testing predictive calendar
features in a compressed format (<a href="https://github.com/elastic/ml-cpp/pull/137" class="ulink" target="_top">#137</a>, <a href="https://github.com/elastic/ml-cpp/pull/127" class="ulink" target="_top">#127</a>)
</li>
<li class="listitem">
Always combine duplicate samples when updating population models (<a href="https://github.com/elastic/ml-cpp/pull/74" class="ulink" target="_top">#74</a>)
</li>
<li class="listitem">
Speeds up trend model component prediction (<a href="https://github.com/elastic/ml-cpp/pull/73" class="ulink" target="_top">#73</a>)
</li>
<li class="listitem">
Encodes distribution model weight style by offset in a fixed size weight array
(<a href="https://github.com/elastic/ml-cpp/pull/54" class="ulink" target="_top">#54</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove RestGetAllMappingsAction <a href="https://github.com/elastic/elasticsearch/pull/31129" class="ulink" target="_top">#31129</a>
</li>
<li class="listitem">
Add a doc value format to binary fields. <a href="https://github.com/elastic/elasticsearch/pull/30860" class="ulink" target="_top">#30860</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30831" class="ulink" target="_top">#30831</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
_cluster/state should always return cluster_uuid <a href="https://github.com/elastic/elasticsearch/pull/30143" class="ulink" target="_top">#30143</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Backport SSL context names (<a href="https://github.com/elastic/elasticsearch/pull/32223" class="ulink" target="_top">#32223</a>, <a href="https://github.com/elastic/elasticsearch/pull/30953" class="ulink" target="_top">#30953</a>)
</li>
<li class="listitem">
Remove client connections from TcpTransport <a href="https://github.com/elastic/elasticsearch/pull/31886" class="ulink" target="_top">#31886</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31835" class="ulink" target="_top">#31835</a>)
</li>
<li class="listitem">
Support multiple system store types <a href="https://github.com/elastic/elasticsearch/pull/31650" class="ulink" target="_top">#31650</a>
</li>
<li class="listitem">
Use remote client in TransportFieldCapsAction <a href="https://github.com/elastic/elasticsearch/pull/30838" class="ulink" target="_top">#30838</a>
</li>
<li class="listitem">
Replace custom reloadable Key/TrustManager <a href="https://github.com/elastic/elasticsearch/pull/30509" class="ulink" target="_top">#30509</a>
</li>
<li class="listitem">
Derive max composite buffers from max content len <a href="https://github.com/elastic/elasticsearch/pull/29448" class="ulink" target="_top">#29448</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set elasticsearch user to have non-existent homedir <a href="https://github.com/elastic/elasticsearch/pull/29007" class="ulink" target="_top">#29007</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/14453" class="ulink" target="_top">#14453</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Verify signatures on official plugins <a href="https://github.com/elastic/elasticsearch/pull/30800" class="ulink" target="_top">#30800</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ranking
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Rename ranking evaluation <code class="literal">quality_level</code> to <code class="literal">metric_score</code> <a href="https://github.com/elastic/elasticsearch/pull/32168" class="ulink" target="_top">#32168</a>
</li>
<li class="listitem">
Rename ranking evaluation response <code class="literal">unknown_docs</code> section <a href="https://github.com/elastic/elasticsearch/pull/32166" class="ulink" target="_top">#32166</a>
</li>
<li class="listitem">
Add Expected Reciprocal Rank metric <a href="https://github.com/elastic/elasticsearch/pull/31891" class="ulink" target="_top">#31891</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29653" class="ulink" target="_top">#29653</a>)
</li>
<li class="listitem">
Add details section for dcg ranking metric <a href="https://github.com/elastic/elasticsearch/pull/31177" class="ulink" target="_top">#31177</a>
</li>
<li class="listitem">
Move templated <code class="literal">_rank_eval</code> tests <a href="https://github.com/elastic/elasticsearch/pull/30679" class="ulink" target="_top">#30679</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30628" class="ulink" target="_top">#30628</a>)
</li>
<li class="listitem">
Forbid expensive query parts in ranking evaluation <a href="https://github.com/elastic/elasticsearch/pull/30151" class="ulink" target="_top">#30151</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29674" class="ulink" target="_top">#29674</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Rollup
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Rollup now indexes <code class="literal">null</code> values, meaning a single "unified" job for heterogeneous data is now the recommended pattern. <a href="https://github.com/elastic/elasticsearch/pull/31402" class="ulink" target="_top">#31402</a>
</li>
<li class="listitem">
Rollup Search endpoint now supports the <code class="literal">terms</code> query. <a href="https://github.com/elastic/elasticsearch/pull/30973" class="ulink" target="_top">#30973</a>)
</li>
<li class="listitem">
Allow rollup job creation only if cluster is X-Pack ready. <a href="https://github.com/elastic/elasticsearch/pull/30963" class="ulink" target="_top">#30963</a>
</li>
<li class="listitem">
Rollups no longer allow patterns that match its <code class="literal">rollup_index</code>, which can lead to strange errors. <a href="https://github.com/elastic/elasticsearch/pull/30491" class="ulink" target="_top">#30491</a>
</li>
<li class="listitem">
A new API allows getting the rollup capabilities of specific rollup indices,
rather than by the target pattern. <a href="https://github.com/elastic/elasticsearch/pull/30401" class="ulink" target="_top">#30401</a>
</li>
<li class="listitem">
Validation errors thrown while creating a rollup job are now a specialization of the previous <code class="literal">ActionRequestValidationException</code>, which makes it easier to catch.
The new exception is <code class="literal">RollupActionRequestValidationException</code>. <a href="https://github.com/elastic/elasticsearch/pull/30339" class="ulink" target="_top">#30339</a>
</li>
<li class="listitem">
Validate timezone in range queries to ensure they match the selected job when
searching. <a href="https://github.com/elastic/elasticsearch/pull/30338" class="ulink" target="_top">#30338</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow LEFT and RIGHT as function names <a href="https://github.com/elastic/elasticsearch/pull/32066" class="ulink" target="_top">#32066</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32046" class="ulink" target="_top">#32046</a>)
</li>
<li class="listitem">
Add support for single parameter text manipulating functions <a href="https://github.com/elastic/elasticsearch/pull/31874" class="ulink" target="_top">#31874</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31604" class="ulink" target="_top">#31604</a>)
</li>
<li class="listitem">
Remove restriction for single column grouping <a href="https://github.com/elastic/elasticsearch/pull/31818" class="ulink" target="_top">#31818</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31793" class="ulink" target="_top">#31793</a>)
</li>
<li class="listitem">
Make a single JDBC driver jar <a href="https://github.com/elastic/elasticsearch/pull/31012" class="ulink" target="_top">#31012</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29856" class="ulink" target="_top">#29856</a>)
</li>
<li class="listitem">
Remove the last remaining server dependencies from JDBC <a href="https://github.com/elastic/elasticsearch/pull/30771" class="ulink" target="_top">#30771</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29856" class="ulink" target="_top">#29856</a>)
</li>
<li class="listitem">
Whitelist SQL utility class for better scripting <a href="https://github.com/elastic/elasticsearch/pull/30681" class="ulink" target="_top">#30681</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29832" class="ulink" target="_top">#29832</a>)
</li>
<li class="listitem">
Improve compatibility with MS query <a href="https://github.com/elastic/elasticsearch/pull/30516" class="ulink" target="_top">#30516</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30398" class="ulink" target="_top">#30398</a>)
</li>
<li class="listitem">
Reduce number of ranges generated for comparisons <a href="https://github.com/elastic/elasticsearch/pull/30267" class="ulink" target="_top">#30267</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30017" class="ulink" target="_top">#30017</a>)
</li>
<li class="listitem">
Teach the CLI to ignore empty commands <a href="https://github.com/elastic/elasticsearch/pull/30265" class="ulink" target="_top">#30265</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30000" class="ulink" target="_top">#30000</a>)
</li>
<li class="listitem">
JDBC driver prepared statement set* methods <a href="https://github.com/elastic/elasticsearch/pull/31494" class="ulink" target="_top">#31494</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31493" class="ulink" target="_top">#31493</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle missing values in painless <a href="https://github.com/elastic/elasticsearch/pull/" class="ulink" target="_top">#30975</a>, <a href="https://github.com/elastic/elasticsearch/pull/31903" class="ulink" target="_top">#31903</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29286" class="ulink" target="_top">#29286</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Force execution of fetch tasks <a href="https://github.com/elastic/elasticsearch/pull/31974" class="ulink" target="_top">#31974</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29442" class="ulink" target="_top">#29442</a>)
</li>
<li class="listitem">
Add second level of field collapsing <a href="https://github.com/elastic/elasticsearch/pull/31808" class="ulink" target="_top">#31808</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/24855" class="ulink" target="_top">#24855</a>)
</li>
<li class="listitem">
Remove QueryCachingPolicy#ALWAYS_CACHE <a href="https://github.com/elastic/elasticsearch/pull/31451" class="ulink" target="_top">#31451</a>
</li>
<li class="listitem">
Cross cluster search: don&#8217;t proxy requests for already connected node <a href="https://github.com/elastic/elasticsearch/pull/31273" class="ulink" target="_top">#31273</a>
</li>
<li class="listitem">
Reject long regex in query_string <a href="https://github.com/elastic/elasticsearch/pull/31136" class="ulink" target="_top">#31136</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28344" class="ulink" target="_top">#28344</a>)
</li>
<li class="listitem">
Cross cluster search: do not use dedicated masters as gateways <a href="https://github.com/elastic/elasticsearch/pull/30926" class="ulink" target="_top">#30926</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30687" class="ulink" target="_top">#30687</a>)
</li>
<li class="listitem">
Added max_expansion param to span_multi <a href="https://github.com/elastic/elasticsearch/pull/30913" class="ulink" target="_top">#30913</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27432" class="ulink" target="_top">#27432</a>)
</li>
<li class="listitem">
Increase the maximum number of filters that may be in the cache. <a href="https://github.com/elastic/elasticsearch/pull/30655" class="ulink" target="_top">#30655</a>
</li>
<li class="listitem">
Improve explanation in rescore <a href="https://github.com/elastic/elasticsearch/pull/30629" class="ulink" target="_top">#30629</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28725" class="ulink" target="_top">#28725</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce fips_mode setting and associated checks <a href="https://github.com/elastic/elasticsearch/pull/32326" class="ulink" target="_top">#32326</a>, <a href="https://github.com/elastic/elasticsearch/pull/32344" class="ulink" target="_top">#32344</a>
</li>
<li class="listitem">
Tribe: Add error with secure settings copied to tribe <a href="https://github.com/elastic/elasticsearch/pull/32298" class="ulink" target="_top">#32298</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32117" class="ulink" target="_top">#32117</a>)
</li>
<li class="listitem">
Only auto-update license signature if all nodes ready <a href="https://github.com/elastic/elasticsearch/pull/30859" class="ulink" target="_top">#30859</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/30731" class="ulink" target="_top">#30731</a>)
</li>
<li class="listitem">
Limit the scope of BouncyCastle dependency <a href="https://github.com/elastic/elasticsearch/pull/30358" class="ulink" target="_top">#30358</a>
</li>
<li class="listitem">
Make licensing FIPS-140 compliant <a href="https://github.com/elastic/elasticsearch/pull/30251" class="ulink" target="_top">#30251</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add notion of internal index settings <a href="https://github.com/elastic/elasticsearch/pull/31286" class="ulink" target="_top">#31286</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29823" class="ulink" target="_top">#29823</a>)
</li>
<li class="listitem">
Move RestGetSettingsAction to RestToXContentListener <a href="https://github.com/elastic/elasticsearch/pull/31101" class="ulink" target="_top">#31101</a>
</li>
<li class="listitem">
Harmonize include_defaults tests <a href="https://github.com/elastic/elasticsearch/pull/30700" class="ulink" target="_top">#30700</a>
</li>
<li class="listitem">
Fold RestGetAllSettingsAction in RestGetSettingsAction <a href="https://github.com/elastic/elasticsearch/pull/30561" class="ulink" target="_top">#30561</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ECS Task IAM profile credentials ignored in repository-s3 plugin <a href="https://github.com/elastic/elasticsearch/pull/31864" class="ulink" target="_top">#31864</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/26913" class="ulink" target="_top">#26913</a>)
</li>
<li class="listitem">
Add write*Blob option to replace existing blob <a href="https://github.com/elastic/elasticsearch/pull/31729" class="ulink" target="_top">#31729</a>
</li>
<li class="listitem">
Fixture for Minio testing <a href="https://github.com/elastic/elasticsearch/pull/31688" class="ulink" target="_top">#31688</a>
</li>
<li class="listitem">
Do not check for object existence when deleting repository index files <a href="https://github.com/elastic/elasticsearch/pull/31680" class="ulink" target="_top">#31680</a>
</li>
<li class="listitem">
Remove extra check for object existence in repository-gcs read object <a href="https://github.com/elastic/elasticsearch/pull/31661" class="ulink" target="_top">#31661</a> time an Azure object is accessed or modified <a href="https://github.com/elastic/elasticsearch/pull/31617" class="ulink" target="_top">#31617</a>
</li>
<li class="listitem">
Lazy snapshot repository initialization <a href="https://github.com/elastic/elasticsearch/pull/31606" class="ulink" target="_top">#31606</a>
</li>
<li class="listitem">
Do not check for S3 blob to exist before writing <a href="https://github.com/elastic/elasticsearch/pull/31128" class="ulink" target="_top">#31128</a>
</li>
<li class="listitem">
Remove extra checks from HdfsBlobContainer <a href="https://github.com/elastic/elasticsearch/pull/31126" class="ulink" target="_top">#31126</a>
</li>
<li class="listitem">
Allow date math for naming newly-created snapshots <a href="https://github.com/elastic/elasticsearch/pull/30479" class="ulink" target="_top">#30479</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/7939" class="ulink" target="_top">#7939</a> )
</li>
<li class="listitem">
Use simpler write-once semantics for HDFS repository <a href="https://github.com/elastic/elasticsearch/pull/30439" class="ulink" target="_top">#30439</a>
</li>
<li class="listitem">
User proper write-once semantics for GCS repository <a href="https://github.com/elastic/elasticsearch/pull/30438" class="ulink" target="_top">#30438</a>
</li>
<li class="listitem">
Use stronger write-once semantics for Azure repository <a href="https://github.com/elastic/elasticsearch/pull/30437" class="ulink" target="_top">#30437</a>
</li>
<li class="listitem">
Use simpler write-once semantics for FS repository <a href="https://github.com/elastic/elasticsearch/pull/30435" class="ulink" target="_top">#30435</a>
</li>
<li class="listitem">
Do not fail snapshot when deleting a missing snapshotted file <a href="https://github.com/elastic/elasticsearch/pull/30332" class="ulink" target="_top">#30332</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28322" class="ulink" target="_top">#28322</a>)
</li>
<li class="listitem">
Repository GCS plugin new client library <a href="https://github.com/elastic/elasticsearch/pull/30168" class="ulink" target="_top">#30168</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29259" class="ulink" target="_top">#29259</a>)
</li>
<li class="listitem">
Fail snapshot operations early on repository corruption <a href="https://github.com/elastic/elasticsearch/pull/30140" class="ulink" target="_top">#30140</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/29649" class="ulink" target="_top">#29649</a>)
</li>
<li class="listitem">
Index name added to snapshot restore exception <a href="https://github.com/elastic/elasticsearch/pull/29604" class="ulink" target="_top">#29604</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27601" class="ulink" target="_top">#27601</a>)
</li>
<li class="listitem">
Do not load global state when deleting a snapshot <a href="https://github.com/elastic/elasticsearch/pull/29278" class="ulink" target="_top">#29278</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28934" class="ulink" target="_top">#28934</a>)
</li>
<li class="listitem">
Don&#8217;t load global state when only restoring indices <a href="https://github.com/elastic/elasticsearch/pull/29239" class="ulink" target="_top">#29239</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28934" class="ulink" target="_top">#28934</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">_coordinating_only</code> for nodes resolving in nodes API <a href="https://github.com/elastic/elasticsearch/pull/30313" class="ulink" target="_top">#30313</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28831" class="ulink" target="_top">#28831</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move caching of the size of a directory to <code class="literal">StoreDirectory</code>. <a href="https://github.com/elastic/elasticsearch/pull/30581" class="ulink" target="_top">#30581</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Suggesters
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ignore empty completion input <a href="https://github.com/elastic/elasticsearch/pull/30713" class="ulink" target="_top">#30713</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/23121" class="ulink" target="_top">#23121</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Task Management
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make Persistent Tasks implementations version and feature aware <a href="https://github.com/elastic/elasticsearch/pull/31045" class="ulink" target="_top">#31045</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/30731" class="ulink" target="_top">#30731</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transport API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Implemented XContent serialisation for GetIndexResponse <a href="https://github.com/elastic/elasticsearch/pull/31675" class="ulink" target="_top">#31675</a>
</li>
<li class="listitem">
Send client headers from TransportClient <a href="https://github.com/elastic/elasticsearch/pull/30803" class="ulink" target="_top">#30803</a>
</li>
<li class="listitem">
Modify state of VerifyRepositoryResponse for backwards compatibility <a href="https://github.com/elastic/elasticsearch/pull/30762" class="ulink" target="_top">#30762</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clean up ensureWatchExists use <a href="https://github.com/elastic/elasticsearch/pull/31926" class="ulink" target="_top">#31926</a>
</li>
<li class="listitem">
Store username on watch execution <a href="https://github.com/elastic/elasticsearch/pull/31873" class="ulink" target="_top">#31873</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31772" class="ulink" target="_top">#31772</a>)
</li>
<li class="listitem">
Consolidate setting update registration <a href="https://github.com/elastic/elasticsearch/pull/31762" class="ulink" target="_top">#31762</a>
</li>
<li class="listitem">
Add secure setting for watcher email password <a href="https://github.com/elastic/elasticsearch/pull/31620" class="ulink" target="_top">#31620</a>
</li>
<li class="listitem">
Slack message empty text <a href="https://github.com/elastic/elasticsearch/pull/31596" class="ulink" target="_top">#31596</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30071" class="ulink" target="_top">#30071</a>)
</li>
<li class="listitem">
Move watcher-history version setting to _meta field <a href="https://github.com/elastic/elasticsearch/pull/30832" class="ulink" target="_top">#30832</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30731" class="ulink" target="_top">#30731</a>)
</li>
<li class="listitem">
Only allow x-pack metadata if all nodes are ready <a href="https://github.com/elastic/elasticsearch/pull/30743" class="ulink" target="_top">#30743</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/30731" class="ulink" target="_top">#30731</a>)
</li>
<li class="listitem">
Configure HttpClient parallel sent requests <a href="https://github.com/elastic/elasticsearch/pull/30130" class="ulink" target="_top">#30130</a>
</li>
<li class="listitem">
Watcher: Make start/stop cycle more predictable and synchronous <a href="https://github.com/elastic/elasticsearch/pull/30118" class="ulink" target="_top">#30118</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ZenDiscovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Preserve response headers on cluster update task <a href="https://github.com/elastic/elasticsearch/pull/31421" class="ulink" target="_top">#31421</a> (issues:  <a href="https://github.com/elastic/elasticsearch/issues/31408" class="ulink" target="_top">#31408</a>)
</li>
<li class="listitem">
Treat ack timeout more like a publish timeout <a href="https://github.com/elastic/elasticsearch/pull/31303" class="ulink" target="_top">#31303</a>
</li>
<li class="listitem">
Use system context for cluster state update tasks <a href="https://github.com/elastic/elasticsearch/pull/31241" class="ulink" target="_top">#31241</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30603" class="ulink" target="_top">#30603</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="bug-6.4.0"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix profiling of ordered terms aggs <a href="https://github.com/elastic/elasticsearch/pull/31814" class="ulink" target="_top">#31814</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/22123" class="ulink" target="_top">#22123</a>)
</li>
<li class="listitem">
Ensure that ip_range aggregations always return bucket keys. <a href="https://github.com/elastic/elasticsearch/pull/30701" class="ulink" target="_top">#30701</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/21045" class="ulink" target="_top">#21045</a>)
</li>
<li class="listitem">
Fix class cast exception in BucketMetricsPipeline path traversal <a href="https://github.com/elastic/elasticsearch/pull/30632" class="ulink" target="_top">#30632</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30608" class="ulink" target="_top">#30608</a>)
</li>
<li class="listitem">
Fix NPE when CumulativeSum agg encounters null value/empty bucket <a href="https://github.com/elastic/elasticsearch/pull/29641" class="ulink" target="_top">#29641</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27544" class="ulink" target="_top">#27544</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A replica can be promoted and started in one cluster state update <a href="https://github.com/elastic/elasticsearch/pull/32042" class="ulink" target="_top">#32042</a>
</li>
<li class="listitem">
Ignore numeric shard count if waiting for ALL <a href="https://github.com/elastic/elasticsearch/pull/31265" class="ulink" target="_top">#31265</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31151" class="ulink" target="_top">#31151</a>)
</li>
<li class="listitem">
Move allocation awareness attributes to list setting <a href="https://github.com/elastic/elasticsearch/pull/30626" class="ulink" target="_top">#30626</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30617" class="ulink" target="_top">#30617</a>)
</li>
<li class="listitem">
Auto-expand replicas when adding or removing nodes <a href="https://github.com/elastic/elasticsearch/pull/30423" class="ulink" target="_top">#30423</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/1873" class="ulink" target="_top">#1873</a>)
</li>
<li class="listitem">
Auto-expand replicas only after failing nodes <a href="https://github.com/elastic/elasticsearch/pull/30553" class="ulink" target="_top">#30553</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Call setReferences() on custom referring tokenfilters in _analyze <a href="https://github.com/elastic/elasticsearch/pull/32157" class="ulink" target="_top">#32157</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32154" class="ulink" target="_top">#32154</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Audit
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix audit index template upgrade loop <a href="https://github.com/elastic/elasticsearch/pull/30779" class="ulink" target="_top">#30779</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[Kerberos] Add debug log statement for exceptions <a href="https://github.com/elastic/elasticsearch/pull/32663" class="ulink" target="_top">#32663</a>
</li>
<li class="listitem">
Remove Kerberos bootstrap checks <a href="https://github.com/elastic/elasticsearch/pull/32451" class="ulink" target="_top">#32451</a>
</li>
<li class="listitem">
Fix building AD URL from domain name <a href="https://github.com/elastic/elasticsearch/pull/31849" class="ulink" target="_top">#31849</a>
</li>
<li class="listitem">
resolveHasher defaults to NOOP <a href="https://github.com/elastic/elasticsearch/pull/31723" class="ulink" target="_top">#31723</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/31697" class="ulink" target="_top">#31697</a>)
</li>
<li class="listitem">
Check auth scheme case insensitively <a href="https://github.com/elastic/elasticsearch/pull/31490" class="ulink" target="_top">#31490</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31486" class="ulink" target="_top">#31486</a>)
</li>
<li class="listitem">
Fix joining cluster with production license <a href="https://github.com/elastic/elasticsearch/pull/31341" class="ulink" target="_top">#31341</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31332" class="ulink" target="_top">#31332</a>)
</li>
<li class="listitem">
Fix token backwards compatibility with pre 6.0.0-beta2 <a href="https://github.com/elastic/elasticsearch/pull/31254" class="ulink" target="_top">#31254</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/31195" class="ulink" target="_top">#31195</a>)
</li>
<li class="listitem">
Compliant SAML Response destination check <a href="https://github.com/elastic/elasticsearch/pull/31175" class="ulink" target="_top">#31175</a>
</li>
<li class="listitem">
Clean up code in file stores <a href="https://github.com/elastic/elasticsearch/pull/30348" class="ulink" target="_top">#30348</a>
</li>
<li class="listitem">
Fix TokenMetaData equals and hashcode <a href="https://github.com/elastic/elasticsearch/pull/30347" class="ulink" target="_top">#30347</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix role query that can match nested documents <a href="https://github.com/elastic/elasticsearch/pull/32705" class="ulink" target="_top">#32705</a>
</li>
<li class="listitem">
Make get all application privileges require "*" permission <a href="https://github.com/elastic/elasticsearch/pull/32460" class="ulink" target="_top">#32460</a>
</li>
<li class="listitem">
Revert to old way of merging automata <a href="https://github.com/elastic/elasticsearch/pull/32254" class="ulink" target="_top">#32254</a>
</li>
<li class="listitem">
[PKI Realm] Invalidate cache on role mappings change <a href="https://github.com/elastic/elasticsearch/pull/31510" class="ulink" target="_top">#31510</a>
</li>
<li class="listitem">
Fix dynamic mapping updates with aliases <a href="https://github.com/elastic/elasticsearch/pull/30787" class="ulink" target="_top">#30787</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30597" class="ulink" target="_top">#30597</a>)
</li>
<li class="listitem">
Include an empty JSON object in a JSON array when FLS filters out all fields <a href="https://github.com/elastic/elasticsearch/pull/30709" class="ulink" target="_top">#30709</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30624" class="ulink" target="_top">#30624</a>)
</li>
<li class="listitem">
Reduce garbage during index resolution <a href="https://github.com/elastic/elasticsearch/pull/30180" class="ulink" target="_top">#30180</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Bulk operation fail to replicate operations when a mapping update times out <a href="https://github.com/elastic/elasticsearch/pull/30244" class="ulink" target="_top">#30244</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix content type detection with leading whitespace <a href="https://github.com/elastic/elasticsearch/pull/32632" class="ulink" target="_top">#32632</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32357" class="ulink" target="_top">#32357</a>)
</li>
<li class="listitem">
Disable C2 from using AVX-512 on JDK 10 <a href="https://github.com/elastic/elasticsearch/pull/32138" class="ulink" target="_top">#32138</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31425" class="ulink" target="_top">#31425</a>)
</li>
<li class="listitem">
Create default ES_TMPDIR on Windows <a href="https://github.com/elastic/elasticsearch/pull/30325" class="ulink" target="_top">#30325</a>
</li>
<li class="listitem">
Pick inner most parse exception as root cause <a href="https://github.com/elastic/elasticsearch/pull/30270" class="ulink" target="_top">#30270</a> (issues: issue}30261[#30261])
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix race between replica reset and primary promotion <a href="https://github.com/elastic/elasticsearch/pull/32442" class="ulink" target="_top">#32442</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/32118" class="ulink" target="_top">#32118</a>, <a href="https://github.com/elastic/elasticsearch/issues/32304" class="ulink" target="_top">#32304</a>, <a href="https://github.com/elastic/elasticsearch/issues/32431" class="ulink" target="_top">#32431</a>)
</li>
<li class="listitem">
ClassCastException when re-throwing "shard not available" exception in TransportShardMultiGetAction <a href="https://github.com/elastic/elasticsearch/pull/32185" class="ulink" target="_top">#32185</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32173" class="ulink" target="_top">#32173</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fail shard if IndexShard#storeStats runs into an IOException <a href="https://github.com/elastic/elasticsearch/pull/32241" class="ulink" target="_top">#32241</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29008" class="ulink" target="_top">#29008</a>)
</li>
<li class="listitem">
IndexShard should not return null stats <a href="https://github.com/elastic/elasticsearch/pull/31528" class="ulink" target="_top">#31528</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix handling of points_only with term strategy in geo_shape <a href="https://github.com/elastic/elasticsearch/pull/31766" class="ulink" target="_top">#31766</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31707" class="ulink" target="_top">#31707</a>)
</li>
<li class="listitem">
Fix coerce validation_method in GeoBoundingBoxQueryBuilder <a href="https://github.com/elastic/elasticsearch/pull/31747" class="ulink" target="_top">#31747</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31718" class="ulink" target="_top">#31718</a>)
</li>
<li class="listitem">
Improve robustness of geo shape parser for malformed shapes <a href="https://github.com/elastic/elasticsearch/pull/31449" class="ulink" target="_top">#31449</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31428" class="ulink" target="_top">#31428</a>)
</li>
<li class="listitem">
Fix defaults in GeoShapeFieldMapper output <a href="https://github.com/elastic/elasticsearch/pull/31302" class="ulink" target="_top">#31302</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/23206" class="ulink" target="_top">#23206</a>)
</li>
<li class="listitem">
Add support for indexed shape routing in geo_shape query <a href="https://github.com/elastic/elasticsearch/pull/30760" class="ulink" target="_top">#30760</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/7663" class="ulink" target="_top">#7663</a>)
</li>
<li class="listitem">
Add validation that geohashes are not empty and don&#8217;t contain unsupported characters <a href="https://github.com/elastic/elasticsearch/pull/30376" class="ulink" target="_top">#30376</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/23579" class="ulink" target="_top">#23579</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Index APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Copy missing segment attributes in getSegmentInfo <a href="https://github.com/elastic/elasticsearch/pull/32396" class="ulink" target="_top">#32396</a>
</li>
<li class="listitem">
Add support for is_write_index in put-alias body parsing <a href="https://github.com/elastic/elasticsearch/pull/31674" class="ulink" target="_top">#31674</a>
</li>
<li class="listitem">
Fix writeIndex evaluation for aliases <a href="https://github.com/elastic/elasticsearch/pull/31562" class="ulink" target="_top">#31562</a>
</li>
<li class="listitem">
Fix IndexTemplateMetaData parsing from xContent <a href="https://github.com/elastic/elasticsearch/pull/30917" class="ulink" target="_top">#30917</a>
</li>
<li class="listitem">
Do not ignore request analysis/similarity settings on index resize operations
when the source index already contains such settings. <a href="https://github.com/elastic/elasticsearch/pull/30216" class="ulink" target="_top">#30216</a>
</li>
<li class="listitem">
Do not return all indices if a specific alias is requested via get aliases api. <a href="https://github.com/elastic/elasticsearch/pull/29538" class="ulink" target="_top">#29538</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/27763" class="ulink" target="_top">#27763</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix broken backport of #31578 by adjusting constructor <a href="https://github.com/elastic/elasticsearch/pull/31587" class="ulink" target="_top">#31587</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31578" class="ulink" target="_top">#31578</a>)
</li>
<li class="listitem">
Ingest Attachment: Upgrade Tika to 1.18 <a href="https://github.com/elastic/elasticsearch/pull/31252" class="ulink" target="_top">#31252</a>
</li>
<li class="listitem">
Interrupt the current thread if evaluation grok expressions take too long <a href="https://github.com/elastic/elasticsearch/pull/31024" class="ulink" target="_top">#31024</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/28731" class="ulink" target="_top">#28731</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java High Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ban LoggingDeprecationHandler <a href="https://github.com/elastic/elasticsearch/pull/32756" class="ulink" target="_top">#32756</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32151" class="ulink" target="_top">#32151</a>)
</li>
<li class="listitem">
Move commercial clients from XPackClient <a href="https://github.com/elastic/elasticsearch/pull/32596" class="ulink" target="_top">#32596</a>
</li>
<li class="listitem">
Fix CreateSnapshotRequestTests Failure <a href="https://github.com/elastic/elasticsearch/pull/31630" class="ulink" target="_top">#31630</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31625" class="ulink" target="_top">#31625</a>)
</li>
<li class="listitem">
Change bulk&#8217;s retry condition to be based on RestStatus <a href="https://github.com/elastic/elasticsearch/pull/29329" class="ulink" target="_top">#29329</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/28885" class="ulink" target="_top">#28885</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Java Low Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid setting connection request timeout <a href="https://github.com/elastic/elasticsearch/pull/30384" class="ulink" target="_top">#30384</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/24069" class="ulink" target="_top">#24069</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
License
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Do not serialize basic license expiration in X-Pack info <a href="https://github.com/elastic/elasticsearch/pull/30848" class="ulink" target="_top">#30848</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move open job failure explanation out of root cause <a href="https://github.com/elastic/elasticsearch/pull/31925" class="ulink" target="_top">#31925</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29950" class="ulink" target="_top">#29950</a>)
</li>
<li class="listitem">
Fix calendar and filter updates from non-master nodes <a href="https://github.com/elastic/elasticsearch/pull/31804" class="ulink" target="_top">#31804</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31803" class="ulink" target="_top">#31803</a>)
</li>
<li class="listitem">
Don&#8217;t treat stale FAILED jobs as OPENING in job allocation <a href="https://github.com/elastic/elasticsearch/pull/31800" class="ulink" target="_top">#31800</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31794" class="ulink" target="_top">#31794</a>)
</li>
<li class="listitem">
Rate limit established model memory updates <a href="https://github.com/elastic/elasticsearch/pull/31768" class="ulink" target="_top">#31768</a>
</li>
<li class="listitem">
Account for gaps in data counts after job is reopened <a href="https://github.com/elastic/elasticsearch/pull/30294" class="ulink" target="_top">#30294</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30080" class="ulink" target="_top">#30080</a>)
</li>
<li class="listitem">
Ages seasonal components in proportion to the fraction of values with which they&#8217;re updated (<a href="https://github.com/elastic/ml-cpp/pull/88" class="ulink" target="_top">#88</a> (issue: <a href="https://github.com/elastic/ml-cpp/issues/87" class="ulink" target="_top">#87</a>))
</li>
<li class="listitem">
Fixes persist and restore, which were missing some of the trend model state.
(<a href="https://github.com/elastic/ml-cpp/pull/103" class="ulink" target="_top">#103</a>, <a href="https://github.com/elastic/ml-cpp/pull/99" class="ulink" target="_top">#99</a>)
</li>
<li class="listitem">
Stops zero variance data from generating a log error in the forecast confidence interval calculation (<a href="https://github.com/elastic/ml-cpp/pull/120" class="ulink" target="_top">#120</a>, <a href="https://github.com/elastic/ml-cpp/pull/107" class="ulink" target="_top">#107</a>)
</li>
<li class="listitem">
Fixes corner case which was failing to calculate lgamma values and fixes the
corresponding log errors (<a href="https://github.com/elastic/ml-cpp/pull/131" class="ulink" target="_top">#131</a>, <a href="https://github.com/elastic/ml-cpp/pull/126" class="ulink" target="_top">#126</a>)
</li>
<li class="listitem">
Fixes influence count per bucket for metric population analyses, which was
wrong and lead to incorrect influencer scoring (<a href="https://github.com/elastic/ml-cpp/pull/153" class="ulink" target="_top">#153</a>, <a href="https://github.com/elastic/ml-cpp/pull/150" class="ulink" target="_top">#150</a>)
</li>
<li class="listitem">
Fixes a possible SIGSEGV for jobs with multivariate by fields enabled, which caused the jobs to fail (<a href="https://github.com/elastic/ml-cpp/pull/174" class="ulink" target="_top">#174</a>, <a href="https://github.com/elastic/ml-cpp/pull/170" class="ulink" target="_top">#170</a>)
</li>
<li class="listitem">
Corrects the model bounds and typical value calculation for time series models
which use a multimodal distribution. This issue could cause "Unable to bracket
left percentile =&#8230;&#8203;" errors to appear in the logs. (<a href="https://github.com/elastic/ml-cpp/pull/178" class="ulink" target="_top">#178</a>, <a href="https://github.com/elastic/ml-cpp/pull/176" class="ulink" target="_top">#176</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make sure that field collapsing supports field aliases. <a href="https://github.com/elastic/elasticsearch/pull/32648" class="ulink" target="_top">#32648</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32623" class="ulink" target="_top">#32623</a>)
</li>
<li class="listitem">
Improve the error message when an index is incompatible with field aliases. <a href="https://github.com/elastic/elasticsearch/pull/32482" class="ulink" target="_top">#32482</a>
</li>
<li class="listitem">
Make sure that field aliases count towards the total fields limit. <a href="https://github.com/elastic/elasticsearch/pull/32222" class="ulink" target="_top">#32222</a>
</li>
<li class="listitem">
Fix <code class="literal">range</code> queries on <code class="literal">_type</code> field for singe type indices (#31756) <a href="https://github.com/elastic/elasticsearch/pull/32161" class="ulink" target="_top">#32161</a>, <a href="https://github.com/elastic/elasticsearch/pull/31756" class="ulink" target="_top">#31756</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/31476" class="ulink" target="_top">#31476</a>)
</li>
<li class="listitem">
In NumberFieldType equals and hashCode, make sure that NumberType is taken into account. <a href="https://github.com/elastic/elasticsearch/pull/31514" class="ulink" target="_top">#31514</a>
</li>
<li class="listitem">
Get Mapping API to honour allow_no_indices and ignore_unavailable <a href="https://github.com/elastic/elasticsearch/pull/31507" class="ulink" target="_top">#31507</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31485" class="ulink" target="_top">#31485</a>)
</li>
<li class="listitem">
Make sure KeywordFieldMapper#clone preserves split_queries_on_whitespace. <a href="https://github.com/elastic/elasticsearch/pull/31049" class="ulink" target="_top">#31049</a>
</li>
<li class="listitem">
Delay _uid field data deprecation warning <a href="https://github.com/elastic/elasticsearch/pull/30651" class="ulink" target="_top">#30651</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30625" class="ulink" target="_top">#30625</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix _cluster/state to always return cluster_uuid <a href="https://github.com/elastic/elasticsearch/pull/30656" class="ulink" target="_top">#30656</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ensure we don&#8217;t use a remote profile if cluster name matches <a href="https://github.com/elastic/elasticsearch/pull/31331" class="ulink" target="_top">#31331</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29321" class="ulink" target="_top">#29321</a>)
</li>
<li class="listitem">
Transport client: Don&#8217;t validate node in handshake (#30737) <a href="https://github.com/elastic/elasticsearch/pull/31080" class="ulink" target="_top">#31080</a> <a href="https://github.com/elastic/elasticsearch/pull/30737" class="ulink" target="_top">#30737</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30141" class="ulink" target="_top">#30141</a>)
</li>
<li class="listitem">
Add TRACE, CONNECT, and PATCH http methods <a href="https://github.com/elastic/elasticsearch/pull/31079" class="ulink" target="_top">#31079</a>, <a href="https://github.com/elastic/elasticsearch/pull/31035" class="ulink" target="_top">#31035</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31017" class="ulink" target="_top">#31017</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add temporary directory cleanup workarounds <a href="https://github.com/elastic/elasticsearch/pull/32615" class="ulink" target="_top">#32615</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31732" class="ulink" target="_top">#31732</a>)
</li>
<li class="listitem">
Add package pre-install check for java binary <a href="https://github.com/elastic/elasticsearch/pull/31343" class="ulink" target="_top">#31343</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29665" class="ulink" target="_top">#29665</a>)
</li>
<li class="listitem">
Do not run <code class="literal">sysctl</code> for <code class="literal">vm.max_map_count</code> when its already set <a href="https://github.com/elastic/elasticsearch/pull/31285" class="ulink" target="_top">#31285</a>
</li>
<li class="listitem">
Stable filemode for zip distributions <a href="https://github.com/elastic/elasticsearch/pull/30854" class="ulink" target="_top">#30854</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30799" class="ulink" target="_top">#30799</a>)
</li>
<li class="listitem">
Force stable file modes for built packages <a href="https://github.com/elastic/elasticsearch/pull/30823" class="ulink" target="_top">#30823</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30799" class="ulink" target="_top">#30799</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Template upgrades should happen in a system context <a href="https://github.com/elastic/elasticsearch/pull/30621" class="ulink" target="_top">#30621</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30603" class="ulink" target="_top">#30603</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
REST API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reject forcemerge requests with a body <a href="https://github.com/elastic/elasticsearch/pull/30792" class="ulink" target="_top">#30792</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29584" class="ulink" target="_top">#29584</a>)
</li>
<li class="listitem">
Respect accept header on no handler <a href="https://github.com/elastic/elasticsearch/pull/30383" class="ulink" target="_top">#30383</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30329" class="ulink" target="_top">#30329</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
IndicesClusterStateService should replace an init. replica with an init. primary with the same aId <a href="https://github.com/elastic/elasticsearch/pull/32374" class="ulink" target="_top">#32374</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32308" class="ulink" target="_top">#32308</a>)
</li>
<li class="listitem">
Ensure to release translog snapshot in primary-replica resync <a href="https://github.com/elastic/elasticsearch/pull/32045" class="ulink" target="_top">#32045</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32030" class="ulink" target="_top">#32030</a>)
</li>
<li class="listitem">
Fix missing historyUUID in peer recovery when rolling upgrade 5.x to 6.3 <a href="https://github.com/elastic/elasticsearch/pull/31506" class="ulink" target="_top">#31506</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31482" class="ulink" target="_top">#31482</a>)
</li>
<li class="listitem">
Cancelling a peer recovery on the source can leak a primary permit <a href="https://github.com/elastic/elasticsearch/pull/30318" class="ulink" target="_top">#30318</a>
</li>
<li class="listitem">
ReplicationTracker.markAllocationIdAsInSync may hang if allocation is cancelled <a href="https://github.com/elastic/elasticsearch/pull/30316" class="ulink" target="_top">#30316</a>
</li>
<li class="listitem">
Do not log warn shard not-available exception in replication <a href="https://github.com/elastic/elasticsearch/pull/30205" class="ulink" target="_top">#30205</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Rollup
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move to 128bit document IDs for Rollup.  The old IDs were not wide enough and susceptible to hashing collisions.
Jobs that are running during cluster upgrade will "self-upgrade" to the new ID scheme, but it is recommended that users
fully rebuild Rollup indices from scratch if possible.  Any existing collisions are not fixable and so data-loss may
affect the rollup index despite the new IDs being used. <a href="https://github.com/elastic/elasticsearch/pull/32558" class="ulink" target="_top">#32558</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32372" class="ulink" target="_top">#32372</a>)
</li>
<li class="listitem">
Histo group configurations should support <code class="literal">scaled_float</code> <a href="https://github.com/elastic/elasticsearch/pull/32048" class="ulink" target="_top">#32048</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32035" class="ulink" target="_top">#32035</a>)
</li>
<li class="listitem">
Fix rollup on date fields that don&#8217;t support <code class="literal">epoch_millis</code> <a href="https://github.com/elastic/elasticsearch/pull/31890" class="ulink" target="_top">#31890</a>
</li>
<li class="listitem">
Metric config properly validates itself now <a href="https://github.com/elastic/elasticsearch/pull/31159" class="ulink" target="_top">#31159</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
HAVING clause should accept only aggregates <a href="https://github.com/elastic/elasticsearch/pull/31872" class="ulink" target="_top">#31872</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31726" class="ulink" target="_top">#31726</a>)
</li>
<li class="listitem">
Check timeZone argument in AbstractSqlQueryRequest <a href="https://github.com/elastic/elasticsearch/pull/31822" class="ulink" target="_top">#31822</a>
</li>
<li class="listitem">
Fix incorrect HAVING equality <a href="https://github.com/elastic/elasticsearch/pull/31820" class="ulink" target="_top">#31820</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31796" class="ulink" target="_top">#31796</a>)
</li>
<li class="listitem">
Fix incorrect message for aliases <a href="https://github.com/elastic/elasticsearch/pull/31792" class="ulink" target="_top">#31792</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31611" class="ulink" target="_top">#31611</a>)
</li>
<li class="listitem">
Allow long literals <a href="https://github.com/elastic/elasticsearch/pull/31777" class="ulink" target="_top">#31777</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31750" class="ulink" target="_top">#31750</a>)
</li>
<li class="listitem">
Fix stackoverflow on getObject and timestamp conversion <a href="https://github.com/elastic/elasticsearch/pull/31735" class="ulink" target="_top">#31735</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31734" class="ulink" target="_top">#31734</a>)
</li>
<li class="listitem">
Fix rest endpoint names in node stats <a href="https://github.com/elastic/elasticsearch/pull/31371" class="ulink" target="_top">#31371</a>
</li>
<li class="listitem">
Preserve scoring in bool queries <a href="https://github.com/elastic/elasticsearch/pull/30730" class="ulink" target="_top">#30730</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29685" class="ulink" target="_top">#29685</a>)
</li>
<li class="listitem">
Verify GROUP BY ordering on grouped columns <a href="https://github.com/elastic/elasticsearch/pull/30585" class="ulink" target="_top">#30585</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29900" class="ulink" target="_top">#29900</a>)
</li>
<li class="listitem">
SYS TABLES ordered according to *DBC specs <a href="https://github.com/elastic/elasticsearch/pull/30530" class="ulink" target="_top">#30530</a>
</li>
<li class="listitem">
Fix parsing of dates with milliseconds <a href="https://github.com/elastic/elasticsearch/pull/30419" class="ulink" target="_top">#30419</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30002" class="ulink" target="_top">#30002</a>)
</li>
<li class="listitem">
Improve correctness of SYS COLUMNS &amp; TYPES <a href="https://github.com/elastic/elasticsearch/pull/30418" class="ulink" target="_top">#30418</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30386" class="ulink" target="_top">#30386</a>)
</li>
<li class="listitem">
Fix bug caused by empty composites <a href="https://github.com/elastic/elasticsearch/pull/30343" class="ulink" target="_top">#30343</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30292" class="ulink" target="_top">#30292</a>)
</li>
<li class="listitem">
Correct error message <a href="https://github.com/elastic/elasticsearch/pull/30138" class="ulink" target="_top">#30138</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30016" class="ulink" target="_top">#30016</a>)
</li>
<li class="listitem">
Add BinaryMathProcessor to named writeables list <a href="https://github.com/elastic/elasticsearch/pull/30127" class="ulink" target="_top">#30127</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30014" class="ulink" target="_top">#30014</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Painless: Fix Bug with Duplicate PainlessClasses <a href="https://github.com/elastic/elasticsearch/pull/32110" class="ulink" target="_top">#32110</a>
</li>
<li class="listitem">
Painless: Fix bug for static method calls on interfaces <a href="https://github.com/elastic/elasticsearch/pull/31348" class="ulink" target="_top">#31348</a>
</li>
<li class="listitem">
Deprecate Empty Templates <a href="https://github.com/elastic/elasticsearch/pull/30194" class="ulink" target="_top">#30194</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix multi level nested sort <a href="https://github.com/elastic/elasticsearch/pull/32204" class="ulink" target="_top">#32204</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/31554" class="ulink" target="_top">#31554</a>, <a href="https://github.com/elastic/elasticsearch/issues/31783" class="ulink" target="_top">#31783</a>, <a href="https://github.com/elastic/elasticsearch/issues/32130" class="ulink" target="_top">#32130</a>)
</li>
<li class="listitem">
Fix race in clear scroll <a href="https://github.com/elastic/elasticsearch/pull/31259" class="ulink" target="_top">#31259</a>
</li>
<li class="listitem">
Fix index prefixes to work with span_multi <a href="https://github.com/elastic/elasticsearch/pull/31066" class="ulink" target="_top">#31066</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31056" class="ulink" target="_top">#31056</a>)
</li>
<li class="listitem">
Cross Cluster Search: preserve remote status code <a href="https://github.com/elastic/elasticsearch/pull/30976" class="ulink" target="_top">#30976</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27461" class="ulink" target="_top">#27461</a>)
</li>
<li class="listitem">
Fix NPE in <em>more_like_this</em> when field has zero tokens <a href="https://github.com/elastic/elasticsearch/pull/30365" class="ulink" target="_top">#30365</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30148" class="ulink" target="_top">#30148</a>)
</li>
<li class="listitem">
Fix failure for validate API on a terms query <a href="https://github.com/elastic/elasticsearch/pull/30319" class="ulink" target="_top">#30319</a>, <a href="https://github.com/elastic/elasticsearch/pull/29483" class="ulink" target="_top">#29483</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29033" class="ulink" target="_top">#29033</a>)
</li>
<li class="listitem">
Fix a bug in FieldCapabilitiesRequest#equals and hashCode. <a href="https://github.com/elastic/elasticsearch/pull/30181" class="ulink" target="_top">#30181</a>
</li>
<li class="listitem">
Fix TermsSetQueryBuilder.doEquals() method <a href="https://github.com/elastic/elasticsearch/pull/29629" class="ulink" target="_top">#29629</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29620" class="ulink" target="_top">#29620</a>)
</li>
<li class="listitem">
Add additional shards routing info in ShardSearchRequest <a href="https://github.com/elastic/elasticsearch/pull/29533" class="ulink" target="_top">#29533</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/27550" class="ulink" target="_top">#27550</a>)
</li>
<li class="listitem">
Use date format in <code class="literal">date_range</code> mapping before fallback to default <a href="https://github.com/elastic/elasticsearch/pull/29310" class="ulink" target="_top">#29310</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/29282" class="ulink" target="_top">#29282</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable FIPS140LicenseBootstrapCheck <a href="https://github.com/elastic/elasticsearch/pull/32903" class="ulink" target="_top">#32903</a>
</li>
<li class="listitem">
Detect old trial licenses and mimic behaviour <a href="https://github.com/elastic/elasticsearch/pull/32209" class="ulink" target="_top">#32209</a>
</li>
<li class="listitem">
Preserve thread context when connecting to remote cluster <a href="https://github.com/elastic/elasticsearch/pull/31574" class="ulink" target="_top">#31574</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/31462" class="ulink" target="_top">#31462</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix repository update with the same settings but different type <a href="https://github.com/elastic/elasticsearch/pull/31458" class="ulink" target="_top">#31458</a>
</li>
<li class="listitem">
Delete temporary blobs before creating index file <a href="https://github.com/elastic/elasticsearch/pull/30528" class="ulink" target="_top">#30528</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/30507" class="ulink" target="_top">#30507</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Side-step pending deletes check <a href="https://github.com/elastic/elasticsearch/pull/30571" class="ulink" target="_top">#30571</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/30416" class="ulink" target="_top">#30416</a>, <a href="https://github.com/elastic/elasticsearch/issues/30503" class="ulink" target="_top">#30503</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Suggesters
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add proper longitude validation in geo_polygon_query <a href="https://github.com/elastic/elasticsearch/pull/30497" class="ulink" target="_top">#30497</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30488" class="ulink" target="_top">#30488</a>)
</li>
<li class="listitem">
Fix merging logic of Suggester Options <a href="https://github.com/elastic/elasticsearch/pull/29514" class="ulink" target="_top">#29514</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transport API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix interoperability with &lt; 6.3 transport clients <a href="https://github.com/elastic/elasticsearch/pull/30971" class="ulink" target="_top">#30971</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30731" class="ulink" target="_top">#30731</a>)
</li>
<li class="listitem">
Fix bad version check writing Repository nodes <a href="https://github.com/elastic/elasticsearch/pull/30846" class="ulink" target="_top">#30846</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30807" class="ulink" target="_top">#30807</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Guard against null in email admin watches <a href="https://github.com/elastic/elasticsearch/pull/32923" class="ulink" target="_top">#32923</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/32590" class="ulink" target="_top">#32590</a>)
</li>
<li class="listitem">
Fix null failure in watcher test <a href="https://github.com/elastic/elasticsearch/pull/31968" class="ulink" target="_top">#31968</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31948" class="ulink" target="_top">#31948</a>)
</li>
<li class="listitem">
Fix chain input toXcontent serialization <a href="https://github.com/elastic/elasticsearch/pull/31721" class="ulink" target="_top">#31721</a>
</li>
<li class="listitem">
Add ssl.trust email account setting <a href="https://github.com/elastic/elasticsearch/pull/31684" class="ulink" target="_top">#31684</a>
</li>
<li class="listitem">
Fix check for currently executed watches <a href="https://github.com/elastic/elasticsearch/pull/31137" class="ulink" target="_top">#31137</a>
</li>
<li class="listitem">
Prevent duplicate watch triggering during upgrade <a href="https://github.com/elastic/elasticsearch/pull/30643" class="ulink" target="_top">#30643</a>
</li>
<li class="listitem">
Prevent triggering watch when using activate API <a href="https://github.com/elastic/elasticsearch/pull/30613" class="ulink" target="_top">#30613</a>
</li>
<li class="listitem">
Ensure trigger service pauses execution <a href="https://github.com/elastic/elasticsearch/pull/30363" class="ulink" target="_top">#30363</a>
</li>
<li class="listitem">
Fix watch history template for dynamic slack attachments <a href="https://github.com/elastic/elasticsearch/pull/30172" class="ulink" target="_top">#30172</a>
</li>
<li class="listitem">
Ensure mail message ids are unique per watch action <a href="https://github.com/elastic/elasticsearch/pull/30112" class="ulink" target="_top">#30112</a>
</li>
<li class="listitem">
Validate xContentType in PutWatchRequest. <a href="https://github.com/elastic/elasticsearch/pull/31088" class="ulink" target="_top">#31088</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/30057" class="ulink" target="_top">#30057</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ZenDiscovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fsync state file before exposing it <a href="https://github.com/elastic/elasticsearch/pull/30929" class="ulink" target="_top">#30929</a>
</li>
<li class="listitem">
Use correct cluster state version for node fault detection <a href="https://github.com/elastic/elasticsearch/pull/30810" class="ulink" target="_top">#30810</a>
</li>
<li class="listitem">
Only ack cluster state updates successfully applied on all nodes <a href="https://github.com/elastic/elasticsearch/pull/30672" class="ulink" target="_top">#30672</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="regression-6.4.0"></a>Regressions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Give the engine the whole index buffer size on init. <a href="https://github.com/elastic/elasticsearch/pull/31105" class="ulink" target="_top">#31105</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
S3 repo plugin populate SettingsFilter <a href="https://github.com/elastic/elasticsearch/pull/30652" class="ulink" target="_top">#30652</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="upgrade-6.4.0"></a>Upgrades<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.6/docs/reference/release-notes/6.4.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Dependencies: Upgrade to joda time 2.10 <a href="https://github.com/elastic/elasticsearch/pull/32160" class="ulink" target="_top">#32160</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
LOGGING: Upgrade to Log4J 2.11.1 <a href="https://github.com/elastic/elasticsearch/pull/32616" class="ulink" target="_top">#32616</a>, <a href="https://github.com/elastic/elasticsearch/pull/32668" class="ulink" target="_top">#32668</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/27300" class="ulink" target="_top">#27300</a>, <a href="https://github.com/elastic/elasticsearch/issues/32537" class="ulink" target="_top">#32537</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to Netty 4.1.25.Final <a href="https://github.com/elastic/elasticsearch/pull/31232" class="ulink" target="_top">#31232</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/31124" class="ulink" target="_top">#31124</a>, <a href="https://github.com/elastic/elasticsearch/issues/7463" class="ulink" target="_top">#7463</a>, <a href="https://github.com/elastic/elasticsearch/issues/8014" class="ulink" target="_top">#8014</a>)
</li>
<li class="listitem">
Revert upgrade to Netty 4.1.25.Final <a href="https://github.com/elastic/elasticsearch/pull/31282" class="ulink" target="_top">#31282</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/31232" class="ulink" target="_top">#31232</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to Lucene 7.4.0. <a href="https://github.com/elastic/elasticsearch/pull/31529" class="ulink" target="_top">#31529</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-6.4.1.html">« Elasticsearch version 6.4.1</a>
</span>
<span class="next">
<a href="release-notes-6.3.2.html">Elasticsearch version 6.3.2 »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
