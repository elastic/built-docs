<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Checking progress | Elasticsearch Reference [6.7] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [6.7]"/>
<link rel="up" href="getting-started-index-lifecycle-management.html" title="Getting started with index lifecycle management"/>
<link rel="prev" href="_applying_a_policy_to_our_index.html" title="Applying a policy to our index"/>
<link rel="next" href="ilm-policy-definition.html" title="Policy phases and actions"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.7"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="6.7"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [6.7]</a></span>
»
<span class="breadcrumb-link"><a href="index-lifecycle-management.html">Managing the index lifecycle</a></span>
»
<span class="breadcrumb-link"><a href="getting-started-index-lifecycle-management.html">Getting started with index lifecycle management</a></span>
»
<span class="breadcrumb-node">Checking progress</span>
</div>
<div class="navheader">
<span class="prev">
<a href="_applying_a_policy_to_our_index.html">« Applying a policy to our index</a>
</span>
<span class="next">
<a href="ilm-policy-definition.html">Policy phases and actions »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_checking_progress"></a>Checking progress<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.7/docs/reference/ilm/getting-started-ilm.asciidoc">edit</a></h2>
</div></div></div>
<p>Now that we have an index managed by our policy, how do we tell what is going
on? Which phase are we in? Is something broken? This section will go over a
few APIs and their responses to help us inspect our indices with respect
to ILM.</p>
<p>With the help of the <a class="xref" href="ilm-explain-lifecycle.html" title="Explain lifecycle API">Explain API</a>, we can know
things like which phase we&#8217;re in and when we entered that phase. The API
will also provide further info if errors occurred, or if we are blocked on
certain checks within actions.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET datastream-*/_ilm/explain</pre>
</div>
<div class="console_widget" data-snippet="snippets/1391.console"></div>
<p>The above request will retrieve ILM execution information for all our
managed indices.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">{
  "indices": {
    "datastream-000001": {
      "index": "datastream-000001",
      "managed": true,                           <a id="CO384-1"></a><i class="conum" data-value="1"></i>
      "policy": "datastream_policy",             <a id="CO384-2"></a><i class="conum" data-value="2"></i>
      "lifecycle_date_millis": 1538475653281,
      "phase": "hot",                            <a id="CO384-3"></a><i class="conum" data-value="3"></i>
      "phase_time_millis": 1538475653317,
      "action": "rollover",                      <a id="CO384-4"></a><i class="conum" data-value="4"></i>
      "action_time_millis": 1538475653317,
      "step": "attempt-rollover",                <a id="CO384-5"></a><i class="conum" data-value="5"></i>
      "step_time_millis": 1538475653317,
      "phase_execution": {
        "policy": "datastream_policy",
        "phase_definition": {                    <a id="CO384-6"></a><i class="conum" data-value="6"></i>
          "min_age": "0ms",
          "actions": {
            "rollover": {
              "max_size": "50gb",
              "max_age": "30d"
            }
          }
        },
        "version": 1,                            <a id="CO384-7"></a><i class="conum" data-value="7"></i>
        "modified_date_in_millis": 1539609701576
      }
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/1392.console"></div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO384-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>this index is managed by ILM</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO384-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>the policy in question, in this case, "datastream_policy"</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO384-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>what phase the index is currently in</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO384-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p>what action the index is currently on</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO384-5"><i class="conum" data-value="5"></i></a></p>
</td>
<td align="left" valign="top">
<p>what step the index is currently on</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO384-6"><i class="conum" data-value="6"></i></a></p>
</td>
<td align="left" valign="top">
<p>the definition of the phase
(in this case, the "hot" phase) that the index is currently on</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO384-7"><i class="conum" data-value="7"></i></a></p>
</td>
<td align="left" valign="top">
<p>the version of the policy being used to execute the current phase</p>
</td>
</tr>
</table>
</div>
<p>You can read about the full details of this response in the
<a class="xref" href="ilm-explain-lifecycle.html" title="Explain lifecycle API">explain API docs</a>. For now, let&#8217;s focus on how
the response details which phase, action, and step we&#8217;re in. We are in the
"hot" phase, and "rollover" action. Rollover will continue to be called
by ILM until its conditions are met and it rolls over the index.
Afterwards, the original index will stay in the hot phase until 90 more
days pass and it is deleted in the delete phase.
As time goes on, new indices will be created and deleted.
With <code class="literal">datastream-000002</code> being created when the index mets the rollover
conditions and <code class="literal">datastream-000003</code> created after that. We will be able
to search across all of our managed indices using the "datastream" alias,
and we will be able to write to our to-be-rolled-over write indices using
that same alias.</p>
<p>That&#8217;s it! We have our first use-case managed by ILM.</p>
<p>To learn more about all our APIs,
check out <a class="xref" href="index-lifecycle-management-api.html" title="Index lifecycle management API">ILM APIs</a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="_applying_a_policy_to_our_index.html">« Applying a policy to our index</a>
</span>
<span class="next">
<a href="ilm-policy-definition.html">Policy phases and actions »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
