<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Mapping | Elasticsearch Guide [7.0] | Elastic</title>
<meta class="elastic" name="content" content="Mapping | Elasticsearch Guide [7.0]">

<link rel="home" href="index.html" title="Elasticsearch Guide [7.0]"/>
<link rel="up" href="index.html" title="Elasticsearch Guide [7.0]"/>
<link rel="prev" href="modules-scripting-engine.html" title="Advanced scripts using script engines"/>
<link rel="next" href="removal-of-types.html" title="Removal of mapping types"/>
<meta class="elastic" name="product_version" content="7.0"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.0"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.0"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="icon" href="/favicon.ico" sizes="32x32"/>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180"/>
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="modules-scripting-engine.html">« Advanced scripts using script engines</a>
</span>
<span class="next">
<a href="removal-of-types.html">Removal of mapping types »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.0]</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Mapping</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/mapping.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/manage-data/data-store/mapping">latest documentation</a>.
</div>
<div class="part">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="mapping"></a>Mapping</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/mapping.asciidoc">edit</a></div>
</div></div></div>
<div class="openblock partintro">
<div class="content">
<p>Mapping is the process of defining how a document, and the fields it contains,
are stored and indexed. For instance, use mappings to define:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
which string fields should be treated as full text fields.
</li>
<li class="listitem">
which fields contain numbers, dates, or geolocations.
</li>
<li class="listitem">
the <a class="xref" href="mapping-date-format.html" title="format">format</a> of date values.
</li>
<li class="listitem">
custom rules to control the mapping for
<a class="xref" href="dynamic-mapping.html" title="Dynamic Mapping">dynamically added fields</a>.
</li>
</ul>
</div>
<div class="position-relative"><h2><a id="mapping-type"></a>Mapping Type</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/mapping.asciidoc">edit</a></div>
<p>Each index has one <em>mapping type</em> which determines how the document will be
indexed.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p class="admon_title">Deprecated in 6.0.0.</p>
<p>See <a class="xref" href="removal-of-types.html" title="Removal of mapping types"><em>Removal of mapping types</em></a></p>
</div>
</div>
<p>A mapping type has:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a class="xref" href="mapping-fields.html" title="Meta-Fields">Meta-fields</a>
</span>
</dt>
<dd>
Meta-fields are used to customize how a document&#8217;s metadata associated is
treated. Examples of meta-fields include the document&#8217;s
<a class="xref" href="mapping-index-field.html" title="_index field"><code class="literal">_index</code></a>, <a class="xref" href="mapping-type-field.html" title="_type field"><code class="literal">_type</code></a>,
<a class="xref" href="mapping-id-field.html" title="_id field"><code class="literal">_id</code></a>,  and <a class="xref" href="mapping-source-field.html" title="_source field"><code class="literal">_source</code></a> fields.
</dd>
<dt>
<span class="term">
<a class="xref" href="mapping-types.html" title="Field datatypes">Fields</a> or <em>properties</em>
</span>
</dt>
<dd>
A mapping type contains a list of fields or <code class="literal">properties</code> pertinent to the
document.
</dd>
</dl>
</div>
<div class="position-relative"><h2><a id="_field_datatypes"></a>Field datatypes</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/mapping.asciidoc">edit</a></div>
<p>Each field has a data <code class="literal">type</code> which can be:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
a simple type like <a class="xref" href="text.html" title="Text datatype"><code class="literal">text</code></a>, <a class="xref" href="keyword.html" title="Keyword datatype"><code class="literal">keyword</code></a>, <a class="xref" href="date.html" title="Date datatype"><code class="literal">date</code></a>, <a class="xref" href="number.html" title="Numeric datatypes"><code class="literal">long</code></a>,
<a class="xref" href="number.html" title="Numeric datatypes"><code class="literal">double</code></a>, <a class="xref" href="boolean.html" title="Boolean datatype"><code class="literal">boolean</code></a> or <a class="xref" href="ip.html" title="IP datatype"><code class="literal">ip</code></a>.
</li>
<li class="listitem">
a type which supports the hierarchical nature of JSON such as
<a class="xref" href="object.html" title="Object datatype"><code class="literal">object</code></a> or <a class="xref" href="nested.html" title="Nested datatype"><code class="literal">nested</code></a>.
</li>
<li class="listitem">
or a specialised type like <a class="xref" href="geo-point.html" title="Geo-point datatype"><code class="literal">geo_point</code></a>,
<a class="xref" href="geo-shape.html" title="Geo-shape datatype"><code class="literal">geo_shape</code></a>, or <a class="xref" href="search-suggesters-completion.html" title="Completion Suggester"><code class="literal">completion</code></a>.
</li>
</ul>
</div>
<p>It is often useful to index the same field in different ways for different
purposes. For instance, a <code class="literal">string</code> field could be <a class="xref" href="mapping-index.html" title="index">indexed</a> as
a <code class="literal">text</code> field for full-text search, and as a <code class="literal">keyword</code> field for
sorting or aggregations.  Alternatively, you could index a string field with
the <a class="xref" href="analysis-standard-analyzer.html" title="Standard Analyzer"><code class="literal">standard</code> analyzer</a>, the
<a class="xref" href="analysis-lang-analyzer.html#english-analyzer" title="english analyzer"><code class="literal">english</code></a> analyzer, and the
<a class="xref" href="analysis-lang-analyzer.html#french-analyzer" title="french analyzer"><code class="literal">french</code> analyzer</a>.</p>
<p>This is the purpose of <em>multi-fields</em>.  Most datatypes support multi-fields
via the <a class="xref" href="multi-fields.html" title="fields"><code class="literal">fields</code></a> parameter.</p>
<div class="position-relative"><h3><a id="mapping-limit-settings"></a>Settings to prevent mappings explosion</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/mapping.asciidoc">edit</a></div>
<p>Defining too many fields in an index is a condition that can lead to a
mapping explosion, which can cause out of memory errors and difficult
situations to recover from. This problem may be more common than expected.
As an example, consider a situation in which every new document inserted
introduces new fields. This is quite common with dynamic mappings.
Every time a document contains new fields, those will end up in the index&#8217;s
mappings. This isn&#8217;t worrying for a small amount of data, but it can become a
problem as the mapping grows.
The following settings allow you to limit the number of field mappings that
can be created manually or dynamically, in order to prevent bad documents from
causing a mapping explosion:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.mapping.total_fields.limit</code>
</span>
</dt>
<dd>
The maximum number of fields in an index. Field and object mappings, as well as
field aliases count towards this limit. The default value is <code class="literal">1000</code>.
</dd>
<dt>
<span class="term">
<code class="literal">index.mapping.depth.limit</code>
</span>
</dt>
<dd>
The maximum depth for a field, which is measured as the number of inner
objects. For instance, if all fields are defined at the root object level,
then the depth is <code class="literal">1</code>. If there is one object mapping, then the depth is
<code class="literal">2</code>, etc. The default is <code class="literal">20</code>.
</dd>
<dt>
<span class="term">
<code class="literal">index.mapping.nested_fields.limit</code>
</span>
</dt>
<dd>
The maximum number of distinct <code class="literal">nested</code> mappings in an index, defaults to <code class="literal">50</code>.
</dd>
<dt>
<span class="term">
<code class="literal">index.mapping.nested_objects.limit</code>
</span>
</dt>
<dd>
The maximum number of <code class="literal">nested</code> JSON objects within a single document across
all nested types, defaults to 10000.
</dd>
</dl>
</div>
<div class="position-relative"><h2><a id="_dynamic_mapping"></a>Dynamic mapping</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/mapping.asciidoc">edit</a></div>
<p>Fields and mapping types do not need to be defined before being used. Thanks
to <em>dynamic mapping</em>, new field names will be added automatically, just by
indexing a document. New fields can be added both to the top-level mapping
type, and to inner <a class="xref" href="object.html" title="Object datatype"><code class="literal">object</code></a>  and <a class="xref" href="nested.html" title="Nested datatype"><code class="literal">nested</code></a> fields.</p>
<p>The <a class="xref" href="dynamic-mapping.html" title="Dynamic Mapping">dynamic mapping</a> rules can be configured to customise
the mapping that is used for new fields.</p>
<div class="position-relative"><h2><a id="_explicit_mappings"></a>Explicit mappings</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/mapping.asciidoc">edit</a></div>
<p>You know more about your data than Elasticsearch can guess, so while dynamic
mapping can be useful to get started, at some point you will want to specify
your own explicit mappings.</p>
<p>You can create field mappings when you
<a class="xref" href="indices-create-index.html" title="Create Index">create an index</a>, and you can add
fields to an existing index with the <a class="xref" href="indices-put-mapping.html" title="Put Mapping">PUT mapping API</a>.</p>
<div class="position-relative"><h2><a id="_updating_existing_field_mappings"></a>Updating existing field mappings</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/mapping.asciidoc">edit</a></div>
<p>Other than where documented, <span class="strong strong"><strong>existing field mappings cannot be
updated</strong></span>. Changing the mapping would mean invalidating already indexed
documents. Instead, you should create a new index with the correct mappings
and <a class="xref" href="docs-reindex.html" title="Reindex API">reindex</a> your data into that index. If you only wish
to rename a field and not change its mappings, it may make sense to introduce
an <a class="xref" href="alias.html" title="Alias datatype"><code class="literal">alias</code></a> field.</p>
<div class="position-relative"><h2><a id="_example_mapping"></a>Example mapping</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.0/docs/reference/mapping.asciidoc">edit</a></div>
<p>A mapping can be specified when creating an index, as follows:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT my_index <a id="CO215-1"></a><i class="conum" data-value="1"></i>
{
  "mappings": {
    "properties": { <a id="CO215-2"></a><i class="conum" data-value="2"></i>
      "title":    { "type": "text"  }, <a id="CO215-3"></a><i class="conum" data-value="3"></i>
      "name":     { "type": "text"  }, <a id="CO215-4"></a><i class="conum" data-value="4"></i>
      "age":      { "type": "integer" },  <a id="CO215-5"></a><i class="conum" data-value="5"></i>
      "created":  {
        "type":   "date", <a id="CO215-6"></a><i class="conum" data-value="6"></i>
        "format": "strict_date_optional_time||epoch_millis"
      }
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/979.console"></div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO215-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Create an index called <code class="literal">my_index</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO215-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Specify the fields or <em>properties</em> in the mapping.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO215-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Specify that the <code class="literal">title</code> field contains <code class="literal">text</code> values.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO215-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p>Specify that the <code class="literal">name</code> field contains <code class="literal">text</code> values.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO215-5"><i class="conum" data-value="5"></i></a></p>
</td>
<td align="left" valign="top">
<p>Specify that the <code class="literal">age</code> field contains <code class="literal">integer</code> values.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO215-6"><i class="conum" data-value="6"></i></a></p>
</td>
<td align="left" valign="top">
<p>Specify that the <code class="literal">created</code> field contains <code class="literal">date</code> values in two possible formats.</p>
</td>
</tr>
</table>
</div>
</div>
</div>





</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="modules-scripting-engine.html">« Advanced scripts using script engines</a>
</span>
<span class="next">
<a href="removal-of-types.html">Removal of mapping types »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
