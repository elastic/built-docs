<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Breaking changes in 7.7 | Elasticsearch Reference [7.10] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.10]"/>
<link rel="up" href="breaking-changes.html" title="Breaking changes"/>
<link rel="prev" href="breaking-changes-7.8.html" title="Breaking changes in 7.8"/>
<link rel="next" href="breaking-changes-7.6.html" title="Breaking changes in 7.6"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.10"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.10"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.10]</a></span>
»
<span class="breadcrumb-link"><a href="breaking-changes.html">Breaking changes</a></span>
»
<span class="breadcrumb-node">Breaking changes in 7.7</span>
</div>
<div class="navheader">
<span class="prev">
<a href="breaking-changes-7.8.html">« Breaking changes in 7.8</a>
</span>
<span class="next">
<a href="breaking-changes-7.6.html">Breaking changes in 7.6 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="breaking-changes-7.7"></a>Breaking changes in 7.7<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h2>
</div></div></div>

<p>This section discusses the changes that you need to be aware of when migrating
your application to Elasticsearch 7.7.</p>
<p>See also <a class="xref" href="release-highlights.html" title="What&#8217;s new in 7.10"><em>What&#8217;s new in 7.10</em></a> and <a class="xref" href="es-release-notes.html" title="Release notes">Release notes</a>.</p>
<h3><a id="breaking_77_logging_changes"></a>Logging changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h3>
<h4><a id="_loggers_under_org_elasticsearch_action_now_log_at_info_level_by_default"></a>Loggers under <code class="literal">org.elasticsearch.action</code> now log at <code class="literal">INFO</code> level by default<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h4>
<p>The default log level for most loggers is <code class="literal">INFO</code>, but in earlier versions
loggers in the <code class="literal">org.elasticsearch.action.*</code> hierarchy emitted log messages at
<code class="literal">DEBUG</code> level by default. This sometimes resulted in a good deal of unnecessary
log noise. From 7.7 onwards the default log level for logger in this hierarchy
is now <code class="literal">INFO</code>, in line with most other loggers. If needed, you can recover the
pre-7.7 default behaviour by adjusting your <a href="/guide/en/elasticsearch/reference/7.10/logging.html" class="ulink" target="_top">logging</a>.</p>
<h3><a id="breaking_77_mapping_changes"></a>Mapping changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h3>
<h4><a id="stricter-mapping-validation"></a>Validation for dynamic templates<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h4>
<p>So far misconfiguration of dynamic templates have been discovered when indexing
a document with an unmapped field only. In Elasticsearch 8.0 and later versions, dynamic mappings
have stricter validation, done at mapping update time. Invalid updates, such as using
incorrect analyzer settings or unknown field types, fail. For
indices created in Elasticsearch 7.7 and later version, the update succeeds but emits a warning.</p>
<h3><a id="breaking_77_settings_changes"></a>Settings changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h3>
<h4><a id="deprecate-listener-thread-pool"></a><code class="literal">thread_pool.listener.size</code> and <code class="literal">thread_pool.listener.queue_size</code> have been deprecated<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h4>
<p>The listener thread pool is no longer used internally by Elasticsearch.
Therefore, these settings have been deprecated. You can safely remove these
settings from the configuration of your nodes.</p>
<h4><a id="deprecate-cluster-remote-connect"></a><code class="literal">cluster.remote.connect</code> is deprecated in favor of <code class="literal">node.remote_cluster_client</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h4>
<p>Previously the setting <code class="literal">cluster.remote.connect</code> was used to configure whether or
not the local node is capable of acting as a remote cluster client in
cross-cluster search and cross-cluster replication. This setting is deprecated
in favor of <code class="literal">node.remote_cluster_client</code> serves the same purpose and identifies
the local node as having the <code class="literal">remote_cluster_client</code> role.</p>
<h4><a id="deprecate-missing-realm-order"></a>Authentication realm <code class="literal">order</code> will be a required config in version 8.0.0.<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h4>
<p>The <code class="literal">order</code> config will be required in version 8.0.0 for authentication realm
configuration of any type. If the <code class="literal">order</code> config is missing for a realm, the node
will fail to start.</p>
<h4><a id="deprecate-duplicated-realm-orders"></a>Authentication realm <code class="literal">order</code> uniqueness will be enforced in version 8.0.0.<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h4>
<p>The <code class="literal">order</code> config of authentication realms must be unique in version 8.0.0.
If you configure more than one realm of any type with the same order, the node will fail to start.</p>
<h4><a id="deprecate-insecure-monitoring-password"></a>Deprecation of insecure monitoring password setting<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h4>
<p>The <code class="literal">auth.password</code> setting for the monitoring HTTP exporter has been deprecated and will be
removed in version 8.0.0. Please use the <code class="literal">auth.secure_password</code> setting instead.</p>
<h3><a id="breaking_77_search_changes"></a>Search changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h3>
<h4><a id="_consistent_rounding_of_range_queries_on_date_range_fields"></a>Consistent rounding of range queries on <code class="literal">date_range</code> fields<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h4>
<p><code class="literal">range</code> queries on <code class="literal">date_range</code> field currently can have slightly differently
boundaries than their equivalent query on a pure <code class="literal">date</code> field. This can e.g.
happen when using date math or dates that don&#8217;t specify up to the last
millisecond. While queries on <code class="literal">date</code> field round up to the latest millisecond
for <code class="literal">gt</code> and <code class="literal">lte</code> boundaries, the same queries on <code class="literal">date_range</code> fields didn&#8217;t
do this. The behavior is now the same for both field types like documented in
<a href="/guide/en/elasticsearch/reference/7.10/query-dsl-range-query.html#range-query-date-math-rounding" class="ulink" target="_top">Date math and rounding</a>.</p>
<h4><a id="_pipeline_aggregation_validation_errors"></a>Pipeline aggregation validation errors<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h4>
<p>The pipeline aggregation validation has been moved to the coordinating node.
Those errors that used to return HTTP 500s/Internal Server Errors now return
400/Bad Request and we now return a list of validation errors rather than the
first one we encounter.</p>
<h3><a id="breaking_77_highlighters_changes"></a>Highlighters changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h3>
<h4><a id="_ignored_keyword_values_are_no_longer_highlighted"></a>Ignored keyword values are no longer highlighted<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_7.asciidoc">edit</a></h4>
<p>If a keyword value was ignored during indexing because of its length
(<code class="literal">ignore_above</code> parameter was applied), Elasticsearch doesn&#8217;t attempt to
highlight it anymore, which means no highlights are produced for
ignored values.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="breaking-changes-7.8.html">« Breaking changes in 7.8</a>
</span>
<span class="next">
<a href="breaking-changes-7.6.html">Breaking changes in 7.6 »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
