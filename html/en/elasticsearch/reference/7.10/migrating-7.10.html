<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Migrating to 7.10 | Elasticsearch Guide [7.10] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [7.10]"/>
<link rel="up" href="breaking-changes.html" title="Migration guide"/>
<link rel="prev" href="breaking-changes.html" title="Migration guide"/>
<link rel="next" href="breaking-changes-7.9.html" title="Breaking changes in 7.9"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.10"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.10"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.10]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="breaking-changes.html">Migration guide</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="breaking-changes.html">« Migration guide</a>
</span>
<span class="next">
<a href="breaking-changes-7.9.html">Breaking changes in 7.9 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="migrating-7.10"></a>Migrating to 7.10<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h2>
</div></div></div>

<p>This section discusses the changes that you need to be aware of when migrating
your application to Elasticsearch 7.10.</p>
<p>See also <a class="xref" href="release-highlights.html" title="What&#8217;s new in 7.10"><em>What&#8217;s new in 7.10</em></a> and <a class="xref" href="es-release-notes.html" title="Release notes">Release notes</a>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="migrating-7.10.html#breaking_710_security_changes" title="Authentication changes">Authentication changes</a>
</li>
<li class="listitem">
<a class="xref" href="migrating-7.10.html#breaking_710_java_changes" title="Java changes">Java changes</a>
</li>
<li class="listitem">
<a class="xref" href="migrating-7.10.html#breaking_710_networking_changes" title="Networking changes">Networking changes</a>
</li>
<li class="listitem">
<a class="xref" href="migrating-7.10.html#breaking_710_search_changes" title="Search changes">Search changes</a>
</li>
<li class="listitem">
<a class="xref" href="migrating-7.10.html#breaking_710_cluster_deprecations" title="Cluster deprecations">Cluster deprecations</a>
</li>
<li class="listitem">
<a class="xref" href="migrating-7.10.html#breaking_710_indices_changes" title="Indices deprecations">Indices deprecations</a>
</li>
<li class="listitem">
<a class="xref" href="migrating-7.10.html#breaking_710_ml_changes" title="Machine learning deprecations">Machine learning deprecations</a>
</li>
<li class="listitem">
<a class="xref" href="migrating-7.10.html#breaking_710_mapping_changes" title="Mapping deprecations">Mapping deprecations</a>
</li>
<li class="listitem">
<a class="xref" href="migrating-7.10.html#breaking_710_snapshot_restore_changes" title="Snapshot and restore deprecations">Snapshot and restore deprecations</a>
</li>
</ul>
</div>
<h3><a id="breaking-changes-7.10"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h3>
<p>The following changes in Elasticsearch 7.10 might affect your applications
and prevent them from operating normally.
Before upgrading to 7.10, review these changes and take the described steps
to mitigate the impact.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Breaking changes introduced in minor versions are
normally limited to security and bug fixes.
Significant changes in behavior are deprecated in a minor release and
the old behavior is supported until the next major release.
To find out if you are using any deprecated functionality,
enable <a class="xref" href="logging.html#deprecation-logging" title="Deprecation logging">deprecation logging</a>.</p>
</div>
</div>
<h4><a id="breaking_710_security_changes"></a>Authentication changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h4>
<details id="api-keys-require-name-property">
<summary class="title">API keys now require a <code class="literal">name</code> property.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">name</code> property is now required to create or grant an API key.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
    "...": "...",
    "api_key": {
      "name": "key-1"
    }
}</pre>
</div>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid errors, specify the <code class="literal">name</code> property when creating or granting API keys.</p>
</div>
</details>
<h4><a id="breaking_710_java_changes"></a>Java changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h4>
<details id="supplier-searchlookup-arg">
<summary class="title">The <code class="literal">MappedFieldType#fielddataBuilder</code> method now accepts a <code class="literal">Supplier&lt;SearchLookup&gt;</code> argument.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
To support future feature development, the existing
<code class="literal">MappedFieldType#fielddataBuilder</code> method now accepts a new
<code class="literal">Supplier&lt;SearchLookup&gt;</code> argument.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If you develop or maintain a mapper plugin, update your implementation of the
<code class="literal">MappedFieldType#fielddataBuilder</code> method to accommodate the new signature.</p>
</div>
</details>
<h4><a id="breaking_710_networking_changes"></a>Networking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h4>
<details>
<summary class="title">The <code class="literal">*.tcp.keep_idle</code> and <code class="literal">*.tcp.keep_interval</code> settings are now limited to <code class="literal">300</code> seconds.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">{network,transport,http}.tcp.keep_idle</code> and
<code class="literal">{network,transport,http}.tcp.keep_interval</code> settings now have a maximum
value of <code class="literal">300</code> seconds, equivalent to 5 minutes.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If specified, ensure the <code class="literal">{network,transport,http}.tcp.keep_idle</code> and
<code class="literal">{network,transport,http}.tcp.keep_interval</code> settings do not exceed <code class="literal">300</code>
seconds. Setting <code class="literal">{network,transport,http}.tcp.keep_idle</code> or
<code class="literal">{network,transport,http}.tcp.keep_interval</code> to a value greater than <code class="literal">300</code>
seconds in <code class="literal">elasticsearch.yml</code> will result in an error on startup.</p>
</div>
</details>
<h4><a id="breaking_710_search_changes"></a>Search changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h4>
<details id="max-doc-value-field-search-limits">
<summary class="title">The <code class="literal">index.max_docvalue_fields_search</code> setting now limits doc value fields returned by <code class="literal">inner_hits</code> or the <code class="literal">top_hits</code> aggregation.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">index.max_docvalue_fields_search</code> setting limits the number of doc value
fields retrieved by a search. Previously, this setting applied only to doc value
fields returned by the <code class="literal">docvalue_fields</code> parameter in a top-level search. The
setting now also applies to doc value fields returned by an <code class="literal">inner_hits</code> section
or <code class="literal">top_hits</code> aggregation.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If you use <code class="literal">inner_hits</code> or the <code class="literal">top_hits</code> aggregation, ensure
<code class="literal">index.max_docvalue_fields_search</code> is configured correctly for your use case.</p>
</div>
</details>
<h3><a id="deprecated-7.10"></a>Deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h3>
<p>The following functionality has been deprecated in Elasticsearch 7.10
and will be removed in 8.0
While this won&#8217;t have an immediate impact on your applications,
we strongly encourage you take the described steps to update your code
after upgrading to 7.10.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Significant changes in behavior are deprecated in a minor release and
the old behavior is supported until the next major release.
To find out if you are using any deprecated functionality,
enable <a class="xref" href="logging.html#deprecation-logging" title="Deprecation logging">deprecation logging</a>.</p>
</div>
</div>
<h4><a id="breaking_710_tls_changes"></a>Security changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h4>
<details id="tls-ssl-transport-enabled-required">
<summary class="title">The <code class="literal">xpack.security.transport.ssl.enabled</code> setting will be required to configure <code class="literal">xpack.security.transport.ssl</code> settings.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Configuring any SSL settings for
<code class="literal">xpack.security.transport.ssl</code> without also configuring
<code class="literal">xpack.security.transport.ssl.enabled</code> generates warnings in the deprecation
log. In 8.0, this configuration will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, either:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Explicitly set <code class="literal">xpack.security.transport.ssl.enabled</code> as <code class="literal">false</code>
</li>
<li class="listitem">
Discontinue use of other <code class="literal">xpack.security.transport.ssl</code> settings
</li>
</ul>
</div>
<p>If you want to enable SSL, follow the instructions to
<a href="/guide/en/elasticsearch/reference/7.10/configuring-tls.html#tls-transport" class="ulink" target="_top">encrypt communications between nodes</a>. As part of this configuration, explicitly set
<code class="literal">xpack.security.transport.ssl.enabled</code> as <code class="literal">true</code>.</p>
<p>For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">xpack.security.transport.ssl.enabled: true <a id="CO713-1"></a><i class="conum" data-value="1"></i>
xpack.security.transport.ssl.keystore.path: elastic-certificates.p12
xpack.security.transport.ssl.truststore.path: elastic-certificates.p12</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO713-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>or <code class="literal">false</code>.</p>
</td>
</tr>
</table>
</div>
</div>
</details>
<details id="tls-ssl-http-enabled-required">
<summary class="title">The <code class="literal">xpack.security.http.ssl.enabled</code> setting will be required to configure <code class="literal">xpack.security.http.ssl</code> settings.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Configuring any SSL settings for <code class="literal">xpack.security.http.ssl</code> without also
configuring <code class="literal">xpack.security.http.ssl.enabled</code> generates warnings in the
deprecation log. In 8.0, this configuration will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, either:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Explicitly set <code class="literal">xpack.security.http.ssl.enabled</code> as <code class="literal">false</code>
</li>
<li class="listitem">
Discontinue use of other <code class="literal">xpack.security.http.ssl</code> settings
</li>
</ul>
</div>
<p>If you want to enable SSL, follow the instructions to
<a href="/guide/en/elasticsearch/reference/7.10/configuring-tls.html#tls-http" class="ulink" target="_top">encrypt HTTP client communications for Elasticsearch</a>. As part
of this configuration, explicitly set <code class="literal">xpack.security.http.ssl.enabled</code>
as <code class="literal">true</code>.</p>
<p>For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">xpack.security.http.ssl.enabled: true <a id="CO714-1"></a><i class="conum" data-value="1"></i>
xpack.security.http.ssl.certificate: elasticsearch.crt
xpack.security.http.ssl.key: elasticsearch.key
xpack.security.http.ssl.certificate_authorities: [ "corporate-ca.crt" ]</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO714-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>or <code class="literal">false</code>.</p>
</td>
</tr>
</table>
</div>
</div>
</details>
<details id="tls-ssl-transport-cert-required">
<summary class="title">A <code class="literal">xpack.security.transport.ssl</code> certificate and key will be required to enable SSL for the transport interface.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Enabling SSL for the transport interface without also configuring a certificate
and key through use of the <code class="literal">xpack.security.transport.ssl.keystore.path</code>
setting or the <code class="literal">xpack.security.transport.ssl.certificate</code> and
<code class="literal">xpack.security.transport.ssl.key</code> settings generates warnings in the
deprecation log. In 8.0, this configuration will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If <code class="literal">xpack.security.transport.ssl.enabled</code> is set to <code class="literal">true</code>, provide a
certificate and key using the <code class="literal">xpack.security.transport.ssl.keystore.path</code>
setting or the <code class="literal">xpack.security.transport.ssl.certificate</code> and
<code class="literal">xpack.security.transport.ssl.key</code> settings. If a certificate and key is not
provided, Elasticsearch will generate warnings in the deprecation log.</p>
</div>
</details>
<details id="tls-ssl-http-cert-required">
<summary class="title">A <code class="literal">xpack.security.http.ssl</code> certificate and key will be required to enable SSL for the HTTP layer.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Enabling SSL for the HTTP layer without also configuring a certificate and key
through use of the <code class="literal">xpack.security.http.ssl.keystore.path</code> setting or
the <code class="literal">xpack.security.http.ssl.certificate</code> and <code class="literal">xpack.security.http.ssl.key</code>
settings generates warnings in the deprecation log. In 8.0, this configuration
will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If <code class="literal">xpack.security.http.ssl.enabled</code> is set to <code class="literal">true</code>, provide a
certificate and key using the <code class="literal">xpack.security.http.ssl.keystore.path</code>
setting or the <code class="literal">xpack.security.http.ssl.certificate</code> and
<code class="literal">xpack.security.http.ssl.key</code> settings. If a certificate and key is not
provided, Elasticsearch will generate warnings in the deprecation log.</p>
</div>
</details>
<h4><a id="breaking_710_cluster_deprecations"></a>Cluster deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h4>
<details id="deprecate-cluster-join-timeout">
<summary class="title">The <code class="literal">cluster.join.timeout</code> setting is deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">cluster.join.timeout</code> node setting is deprecated and will be removed in
8.0. In 7.x clusters, join attempts no longer time out.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, discontinue use of the setting.</p>
</div>
</details>
<h4><a id="breaking_710_indices_changes"></a>Indices deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h4>
<details id="bc-deprecate-rest-api-access-to-system-indices">
<summary class="title">REST API access to system indices is deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
We are deprecating REST API access to system indices. Most REST API requests
that attempt to access system indices will return the following deprecation
warning:</p>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">this request accesses system indices: [.system_index_name], but in a future
major version, direct access to system indices will be prevented by default</pre>
</div>
<p>The following REST API endpoints access system indices as part of their
implementation and will not return the deprecation warning:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">GET _cluster/health</code>
</li>
<li class="listitem">
<code class="literal">GET {index}/_recovery</code>
</li>
<li class="listitem">
<code class="literal">GET _cluster/allocation/explain</code>
</li>
<li class="listitem">
<code class="literal">GET _cluster/state</code>
</li>
<li class="listitem">
<code class="literal">POST _cluster/reroute</code>
</li>
<li class="listitem">
<code class="literal">GET {index}/_stats</code>
</li>
<li class="listitem">
<code class="literal">GET {index}/_segments</code>
</li>
<li class="listitem">
<code class="literal">GET {index}/_shard_stores</code>
</li>
<li class="listitem">
<code class="literal">GET _cat/[indices,aliases,health,recovery,shards,segments]</code>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, do not use unsupported REST APIs to access system
indices.</p>
</div>
</details>
<h4><a id="breaking_710_ml_changes"></a>Machine learning deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h4>
<details id="ml-allow-no-deprecations">
<summary class="title">The <code class="literal">allow_no_jobs</code> and <code class="literal">allow_no_datafeeds</code> API parameters are deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">allow_no_jobs</code> and <code class="literal">allow_no_datafeeds</code> parameters in machine learning APIs are
deprecated in favor of <code class="literal">allow_no_match</code>. The old parameters are still accepted
by the APIs but a deprecation warning is emitted when the old parameter name is
used in the request body or as a request parameter. High-level REST client
classes now send the new <code class="literal">allow_no_match</code> parameter.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, use the <code class="literal">allow_no_match</code> parameter.</p>
</div>
</details>
<h4><a id="breaking_710_mapping_changes"></a>Mapping deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h4>
<details id="mapping-boosts">
<summary class="title">The <code class="literal">boost</code> parameter on field mappings has been deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Index-time boosts have been deprecated since the 5.x line, but it is still possible
to declare field-specific boosts in the mappings.  This is now deprecated as well,
and will be removed entirely in 8.0.0.  Mappings containing field boosts will continue
to work in 7.x but will emit a deprecation warning.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
The <code class="literal">boost</code> setting should be removed from templates and mappings. Use boosts
directly on queries instead.</p>
</div>
</details>
<h4><a id="breaking_710_snapshot_restore_changes"></a>Snapshot and restore deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/migration/migrate_7_10.asciidoc">edit</a></h4>
<details id="respository-stats-api-deprecated">
<summary class="title">The repository stats API has been deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The repository stats API was introduced as an experimental API in 7.8.0. The
<a href="/guide/en/elasticsearch/reference/7.10/repositories-metering-apis.html" class="ulink" target="_top">repositories metering APIs</a> now replace the
repository stats API. The repository stats API has been deprecated and will be
removed in 8.0.0.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Use the <a href="/guide/en/elasticsearch/reference/7.10/repositories-metering-apis.html" class="ulink" target="_top">repositories metering APIs</a>.
Discontinue use of the repository stats API.</p>
</div>
</details>
</div>
<div class="navfooter">
<span class="prev">
<a href="breaking-changes.html">« Migration guide</a>
</span>
<span class="next">
<a href="breaking-changes-7.9.html">Breaking changes in 7.9 »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
