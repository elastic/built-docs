<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Create or update snapshot lifecycle policy API | Elasticsearch Guide [7.15] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [7.15]"/>
<link rel="up" href="snapshot-lifecycle-management-api.html" title="Snapshot lifecycle management APIs"/>
<link rel="prev" href="snapshot-lifecycle-management-api.html" title="Snapshot lifecycle management APIs"/>
<link rel="next" href="slm-api-get-policy.html" title="Get snapshot lifecycle policy API"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.15"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.15"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.15]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="snapshot-lifecycle-management-api.html">Snapshot lifecycle management APIs</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="snapshot-lifecycle-management-api.html">« Snapshot lifecycle management APIs</a>
</span>
<span class="next">
<a href="slm-api-get-policy.html">Get snapshot lifecycle policy API »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="slm-api-put-policy"></a>Create or update snapshot lifecycle policy API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/slm/apis/slm-put.asciidoc">edit</a></h2>
</div></div></div>

<p>Creates or updates a snapshot lifecycle policy.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="slm-api-put-request"></a>Request<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/slm/apis/slm-put.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">PUT /_slm/policy/&lt;snapshot-lifecycle-policy-id&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="slm-api-put-prereqs"></a>Prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/slm/apis/slm-put.asciidoc">edit</a></h3>
</div></div></div>
<p>If the Elasticsearch security features are enabled, you must have the
<code class="literal">manage_slm</code> cluster privilege and the <code class="literal">manage</code> index privilege
for any included indices to use this API.
For more information, see <a class="xref" href="security-privileges.html" title="Security privileges">Security privileges</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="slm-api-put-desc"></a>Description<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/slm/apis/slm-put.asciidoc">edit</a></h3>
</div></div></div>
<p>Use the create or update snapshot lifecycle policy API
to create or update a snapshot lifecycle policy.</p>
<p>If the policy already exists,
this request increments the policy&#8217;s version.
Only the latest version of a policy is stored.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="slm-api-put-path-params"></a>Path parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/slm/apis/slm-put.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;snapshot-lifecycle-policy-id&gt;</code>
</span>
</dt>
<dd>
(Required, string)
ID for the snapshot lifecycle policy
you want to create or update.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="slm-api-put-query-params"></a>Query parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/slm/apis/slm-put.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="common-options.html#time-units" title="Time units">time units</a>)
Period to wait for a connection to the master node. If no response is received
before the timeout expires, the request fails and returns an error. Defaults to
<code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="common-options.html#time-units" title="Time units">time units</a>)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="slm-api-put-request-body"></a>Request body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/slm/apis/slm-put.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">config</code>
</span>
</dt>
<dd>
<p>
(Required, object)
Configuration for each snapshot created by the policy.
</p>
<details open>
<summary class="title">Properties of <code class="literal">config</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">expand_wildcards</code>
</span>
</dt>
<dd>
<p>(Optional, string) Determines how wildcard patterns in the <code class="literal">indices</code> parameter
match data streams and indices. Supports comma-separated values, such as
<code class="literal">closed,hidden</code>. Defaults to <code class="literal">open,hidden</code>. Valid values are:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">all</code>
</span>
</dt>
<dd>
Match any data stream or index, including <a class="xref" href="multi-index.html#hidden" title="Hidden data streams and indices">hidden</a> ones.
</dd>
<dt>
<span class="term">
<code class="literal">open</code>
</span>
</dt>
<dd>
Match open indices and data streams.
</dd>
<dt>
<span class="term">
<code class="literal">closed</code>
</span>
</dt>
<dd>
Match closed indices and data streams.
</dd>
<dt>
<span class="term">
<code class="literal">hidden</code>
</span>
</dt>
<dd>
Match hidden data streams and indices. Must be combined with <code class="literal">open</code>, <code class="literal">closed</code>,
or both.
</dd>
<dt>
<span class="term">
<code class="literal">none</code>
</span>
</dt>
<dd>
Don&#8217;t expand wildcard patterns.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">ignore_unavailable</code>
</span>
</dt>
<dd>
(Optional, Boolean)
If <code class="literal">false</code>, the snapshot fails if any data stream or index in <code class="literal">indices</code> is
missing or closed. If <code class="literal">true</code>, the snapshot ignores missing or closed data
streams and indices. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">include_global_state</code>
</span>
</dt>
<dd>
<p>(Optional, Boolean)
If <code class="literal">true</code>, include the cluster state in the snapshot. Defaults to <code class="literal">true</code>.
The cluster state includes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="settings.html#cluster-setting-types" title="Cluster and node setting types">Persistent cluster settings</a>
</li>
<li class="listitem">
<a class="xref" href="index-templates.html" title="Index templates">Index templates</a>
</li>
<li class="listitem">
<a class="xref" href="indices-templates-v1.html" title="Create or update index template API">Legacy index templates</a>
</li>
<li class="listitem">
<a class="xref" href="ingest.html" title="Ingest pipelines">Ingest pipelines</a>
</li>
<li class="listitem">
<a class="xref" href="index-lifecycle-management.html" title="ILM: Manage the index lifecycle">ILM policies</a>
</li>
<li class="listitem">
For snapshots taken after 7.12.0, data stored in system indices, such as
Watches and task records.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">indices</code>
</span>
</dt>
<dd>
<p>
(Optional, string or array of strings)
Comma-separated list of data streams and indices to include in the snapshot.
Supports <a class="xref" href="multi-index.html" title="Multi-target syntax">multi-index syntax</a>. Defaults to an empty array (<code class="literal">[]</code>),
which includes all data streams and indices, including system indices.
</p>
<p>To exclude all data streams and indices, use <code class="literal">-*</code>.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="put-slm-api-feature-states"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">feature_states</code>
</span>
</dt>
<dd>
<p>
(Optional, array of strings)
Feature states to include in the snapshot. To get a list of possible feature
state values and their descriptions, use the <a class="xref" href="get-features-api.html" title="Get Features API">get features
API</a>. Each feature state includes one or more system indices.
</p>
<p>If <code class="literal">include_global_state</code> is <code class="literal">true</code>, the snapshot includes all feature states by
default. If <code class="literal">include_global_state</code> is <code class="literal">false</code>, the snapshot includes no feature
states by default.</p>
<p>To exclude all feature states, regardless of the <code class="literal">include_global_state</code> value,
specify an empty array (<code class="literal">[]</code>) or <code class="literal">none</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">metadata</code>
</span>
</dt>
<dd>
(Optional, object)
Attaches arbitrary metadata to the snapshot, such as a record of who took the snapshot, why it was taken, or any other useful data. Metadata must be less than 1024 bytes.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="put-slm-api-partial"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">partial</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
If <code class="literal">false</code>, the entire snapshot will fail if one or more indices included in the snapshot do not have all primary shards available. Defaults to <code class="literal">false</code>.
</p>
<p>If <code class="literal">true</code>, allows taking a partial snapshot of indices with unavailable shards.</p>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string)
Name automatically assigned to each snapshot created by the policy.
<a class="xref" href="date-math-index-names.html" title="Date math support in index and index alias names">Date math</a> is supported.
To prevent conflicting snapshot names, a UUID is automatically appended to each
snapshot name.
</dd>
<dt>
<span class="term">
<code class="literal">repository</code>
</span>
</dt>
<dd>
(Required, string)
Repository used to store snapshots created by this policy. This repository must
exist prior to the policy&#8217;s creation. You can create a repository using the
<a class="xref" href="modules-snapshots.html" title="Snapshot module">snapshot repository API</a>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="slm-api-put-retention"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">retention</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Retention rules used to retain and delete snapshots created by the policy.
</p>
<p>We recommend you include retention rules in your SLM policy to delete
snapshots you no longer need. A snapshot repository can safely scale to
thousands of snapshots. However, to manage its metadata, a large repository
requires more memory on the master node. Retention rules ensure a repository&#8217;s
metadata doesn&#8217;t grow to a size that could destabilize the master node.</p>
<details open>
<summary class="title">Properties of <code class="literal">retention</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">expire_after</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="common-options.html#time-units" title="Time units">time units</a>)
Time period after which a snapshot is considered expired and eligible for
deletion. SLM deletes expired snapshots based on the
<a class="xref" href="slm-settings.html#slm-retention-schedule"><code class="literal">slm.retention_schedule</code></a>.
</dd>
<dt>
<span class="term">
<code class="literal">max_count</code>
</span>
</dt>
<dd>
(Optional, integer)
Maximum number of snapshots to retain, even if the snapshots have not yet
expired. If the number of snapshots in the repository exceeds this limit, the
policy retains the most recent snapshots and deletes older snapshots. This limit
only includes snapshots with a <a class="xref" href="get-snapshot-api.html#get-snapshot-api-response-state"><code class="literal">state</code></a> of
<code class="literal">SUCCESS</code>.
</dd>
<dt>
<span class="term">
<code class="literal">min_count</code>
</span>
</dt>
<dd>
(Optional, integer)
Minimum number of snapshots to retain, even if the snapshots have expired.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">schedule</code>
</span>
</dt>
<dd>
(Required, <a class="xref" href="cron-expressions.html" title="Cron expressions">Cron syntax</a>)
Periodic or absolute schedule at which the policy creates snapshots. SLM
applies <code class="literal">schedule</code> changes immediately.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="slm-api-put-example"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/slm/apis/slm-put.asciidoc">edit</a></h3>
</div></div></div>
<p>Create a <code class="literal">daily-snapshots</code> lifecycle policy:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT /_slm/policy/daily-snapshots
{
  "schedule": "0 30 1 * * ?", <a id="CO718-1"></a><i class="conum" data-value="1"></i>
  "name": "&lt;daily-snap-{now/d}&gt;", <a id="CO718-2"></a><i class="conum" data-value="2"></i>
  "repository": "my_repository", <a id="CO718-3"></a><i class="conum" data-value="3"></i>
  "config": { <a id="CO718-4"></a><i class="conum" data-value="4"></i>
    "indices": ["data-*", "important"], <a id="CO718-5"></a><i class="conum" data-value="5"></i>
    "ignore_unavailable": false,
    "include_global_state": false
  },
  "retention": { <a id="CO718-6"></a><i class="conum" data-value="6"></i>
    "expire_after": "30d", <a id="CO718-7"></a><i class="conum" data-value="7"></i>
    "min_count": 5, <a id="CO718-8"></a><i class="conum" data-value="8"></i>
    "max_count": 50 <a id="CO718-9"></a><i class="conum" data-value="9"></i>
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2596.console"></div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO718-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>When the snapshot should be taken, in this case, 1:30am daily</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO718-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The name each snapshot should be given</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO718-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Which repository to take the snapshot in</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO718-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p>Any extra snapshot configuration</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO718-5"><i class="conum" data-value="5"></i></a></p>
</td>
<td align="left" valign="top">
<p>Data streams and indices the snapshot should contain</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO718-6"><i class="conum" data-value="6"></i></a></p>
</td>
<td align="left" valign="top">
<p>Optional retention configuration</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO718-7"><i class="conum" data-value="7"></i></a></p>
</td>
<td align="left" valign="top">
<p>Keep snapshots for 30 days</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO718-8"><i class="conum" data-value="8"></i></a></p>
</td>
<td align="left" valign="top">
<p>Always keep at least 5 successful snapshots, even if they&#8217;re more than 30 days old</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO718-9"><i class="conum" data-value="9"></i></a></p>
</td>
<td align="left" valign="top">
<p>Keep no more than 50 successful snapshots, even if they&#8217;re less than 30 days old</p>
</td>
</tr>
</table>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="snapshot-lifecycle-management-api.html">« Snapshot lifecycle management APIs</a>
</span>
<span class="next">
<a href="slm-api-get-policy.html">Get snapshot lifecycle policy API »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
