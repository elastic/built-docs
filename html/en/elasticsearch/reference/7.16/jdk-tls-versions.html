<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Supported SSL/TLS versions by JDK version | Elasticsearch Guide [7.16] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [7.16]"/>
<link rel="up" href="configuring-stack-security.html" title="Configure security for the Elastic Stack"/>
<link rel="prev" href="ciphers.html" title="Enabling cipher suites for stronger encryption"/>
<link rel="next" href="security-files.html" title="Security files"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.16"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.16"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.16]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="secure-cluster.html">Secure the Elastic Stack</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="configuring-stack-security.html">Configure security for the Elastic Stack</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ciphers.html">« Enabling cipher suites for stronger encryption</a>
</span>
<span class="next">
<a href="security-files.html">Security files »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="jdk-tls-versions"></a>Supported SSL/TLS versions by JDK version<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.16/x-pack/docs/en/security/securing-communications/tls-versions-jdk.asciidoc">edit</a></h2>
</div></div></div>
<p>Elasticsearch relies on your JDK&#8217;s implementation of SSL and TLS.</p>
<p>Different JDK versions support different versions of SSL, and this may affect how Elasticsearch operates.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This support applies when running on the default JSSE provider in the JDK.
JVMs that are configured to use a <a class="xref" href="fips-140-compliance.html" title="FIPS 140-2">FIPS 140-2</a> security
provider might have a custom TLS implementation, which might support TLS
protocol versions that differ from this list.</p>
<p>Check your security provider&#8217;s release notes for information on TLS support.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">SSLv3</code>
</span>
</dt>
<dd>
SSL v3 is supported on all Elasticsearch <a class="xref" href="setup.html#jvm-version" title="Java (JVM) Version">compatible JDKs</a> but is disabled by default.
See <a class="xref" href="jdk-tls-versions.html#jdk-enable-tls-protocol" title="Enabling additional SSL/TLS versions on your JDK">Enabling additional SSL/TLS versions on your JDK</a>.
</dd>
<dt>
<span class="term">
<code class="literal">TLSv1</code>
</span>
</dt>
<dd>
TLS v1.0 is supported on all Elasticsearch <a class="xref" href="setup.html#jvm-version" title="Java (JVM) Version">compatible JDKs</a>.
Some newer JDKs, including the JDK bundled with Elasticsearch, disable TLS v1.0 by default.
See <a class="xref" href="jdk-tls-versions.html#jdk-enable-tls-protocol" title="Enabling additional SSL/TLS versions on your JDK">Enabling additional SSL/TLS versions on your JDK</a>.
</dd>
<dt>
<span class="term">
<code class="literal">TLSv1.1</code>
</span>
</dt>
<dd>
TLS v1.1 is supported on all Elasticsearch <a class="xref" href="setup.html#jvm-version" title="Java (JVM) Version">compatible JDKs</a>.
Some newer JDKs, including the JDK bundled with Elasticsearch, disable TLS v1.1 by default.
See <a class="xref" href="jdk-tls-versions.html#jdk-enable-tls-protocol" title="Enabling additional SSL/TLS versions on your JDK">Enabling additional SSL/TLS versions on your JDK</a>.
</dd>
<dt>
<span class="term">
<code class="literal">TLSv1.2</code>
</span>
</dt>
<dd>
TLS v1.2 is supported on all Elasticsearch <a class="xref" href="setup.html#jvm-version" title="Java (JVM) Version">compatible JDKs</a>.
It is enabled by default on all JDKs that are supported by Elasticsearch, including the bundled JDK.
</dd>
<dt>
<span class="term">
<code class="literal">TLSv1.3</code>
</span>
</dt>
<dd>
<p>
TLS v1.3 is supported on JDK11 and later, and JDK8 builds newer than 8u261
(including the most recent release of each JDK8 distribution that Elasticsearch supports).
TLS v1.3 is supported and enabled by default on the JDK that is bundled with Elasticsearch.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Although Elasticsearch supports running on older JDK8 builds without TLS v1.3,
we recommend upgrading to a JDK version that includes TLS v1.3 for better
support and updates.</p>
</div>
</div>
</dd>
</dl>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="jdk-enable-tls-protocol"></a>Enabling additional SSL/TLS versions on your JDK<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.16/x-pack/docs/en/security/securing-communications/tls-versions-jdk.asciidoc">edit</a></h3>
</div></div></div>
<p>The set of supported SSL/TLS versions for a JDK is controlled by a java security
properties file that is installed as part of your JDK.</p>
<p>This configuration file lists the SSL/TLS algorithms that are disabled in that JDK.
Complete these steps to remove a TLS version from that list and use it in your JDK.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Locate the configuration file for your JDK.
</li>
<li class="listitem">
Copy the <code class="literal">jdk.tls.disabledAlgorithms</code> setting from that file, and add it to a custom
configuration file within the Elasticsearch configuration directory.
</li>
<li class="listitem">
In the custom configuration file, remove the value for the TLS version you want
to use from <code class="literal">jdk.tls.disabledAlgorithms</code>.
</li>
<li class="listitem">
Configure Elasticsearch to pass a custom system property to the JDK so that your custom
configuration file is used.
</li>
</ol>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_locate_the_configuration_file_for_your_jdk"></a>Locate the configuration file for your JDK<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.16/x-pack/docs/en/security/securing-communications/tls-versions-jdk.asciidoc">edit</a></h4>
</div></div></div>
<p>For the Elasticsearch <span class="strong strong"><strong>bundled JDK</strong></span>, the configuration file is in a sub directory of
the Elasticsearch home directory (<code class="literal">$ES_HOME</code>):</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Linux: <code class="literal">$ES_HOME/jdk/conf/security/java.security</code>
</li>
<li class="listitem">
Windows: <code class="literal">$ES_HOME/jdk/conf/security/java.security</code>
</li>
<li class="listitem">
macOS:<code class="literal">$ES_HOME/jdk.app/Contents/Home/conf/security/java.security</code>
</li>
</ul>
</div>
<p>For <span class="strong strong"><strong>JDK8</strong></span>, the configuration file is within the <code class="literal">jre/lib/security</code> directory
of the Java installation.
If <code class="literal">$JAVA_HOME</code> points to the home directory of the JDK that you use to run Elasticsearch,
then the configuration file will be in:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">$JAVA_HOME/jre/lib/security/java.security</code>
</li>
</ul>
</div>
<p>For <span class="strong strong"><strong>JDK11 or later</strong></span>, the configuration file is within the <code class="literal">conf/security</code>
directory of the Java installation.
If <code class="literal">$JAVA_HOME</code> points to the home directory of the JDK that you use to run
Elasticsearch, then the configuration file will be in:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">$JAVA_HOME/conf/security/java.security</code>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_copy_the_disabledalgorithms_setting"></a>Copy the disabledAlgorithms setting<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.16/x-pack/docs/en/security/securing-communications/tls-versions-jdk.asciidoc">edit</a></h4>
</div></div></div>
<p>Within the JDK configuration file is a line that starts with
<code class="literal">jdk.tls.disabledAlgorithms=</code>.
This setting controls which protocols and algorithms are <em>disabled</em> in your JDK.
The value of that setting will typically span multiple lines.</p>
<p>For example, in OpenJDK 16 the setting is:</p>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">jdk.tls.disabledAlgorithms=SSLv3, TLSv1, TLSv1.1, RC4, DES, MD5withRSA, \
    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL</pre>
</div>
<p>Create a new file in your in your Elasticsearch configuration directory named <code class="literal">es.java.security</code>.
Copy the <code class="literal">jdk.tls.disabledAlgorithms</code> setting from the JDK&#8217;s default configuration file into <code class="literal">es.java.security</code>.
You do not need to copy any other settings.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_enable_required_tls_versions"></a>Enable required TLS versions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.16/x-pack/docs/en/security/securing-communications/tls-versions-jdk.asciidoc">edit</a></h4>
</div></div></div>
<p>Edit the <code class="literal">es.java.security</code> file in your Elasticsearch configuration directory, and
modify the <code class="literal">jdk.tls.disabledAlgorithms</code> setting so that any SSL or TLS versions
that you wish to use are no longer listed.</p>
<p>For example, to enable TLSv1.1 on OpenJDK 16 (which uses the
<code class="literal">jdk.tls.disabledAlgorithms</code> settings shown previously), the
<code class="literal">es.java.security</code> file would contain the previously disabled TLS algorithms
<em>except</em> <code class="literal">TLSv1.1</code>:</p>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">jdk.tls.disabledAlgorithms=SSLv3, TLSv1, RC4, DES, MD5withRSA, \
    DH keySize &lt; 1024, EC keySize &lt; 224, 3DES_EDE_CBC, anon, NULL</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_enable_your_custom_security_configuration"></a>Enable your custom security configuration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.16/x-pack/docs/en/security/securing-communications/tls-versions-jdk.asciidoc">edit</a></h4>
</div></div></div>
<p>To enable your custom security policy, add a file in the <a class="xref" href="advanced-configuration.html#set-jvm-options" title="Set JVM options"><code class="literal">jvm.options.d</code></a>
directory within your Elasticsearch configuration directory.</p>
<p>To enable your custom security policy, create a file named
<code class="literal">java.security.options</code> within the <a class="xref" href="advanced-configuration.html#set-jvm-options" title="Set JVM options">jvm.options.d</a>
directory of your Elasticsearch configuration directory, with this content:</p>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">-Djava.security.properties=/path/to/your/es.java.security</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_enabling_tls_versions_in_elasticsearch"></a>Enabling TLS versions in Elasticsearch<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.16/x-pack/docs/en/security/securing-communications/tls-versions-jdk.asciidoc">edit</a></h3>
</div></div></div>
<p>SSL/TLS versions can be enabled and disabled within Elasticsearch via the
<a class="xref" href="security-settings.html#ssl-tls-settings" title="General TLS settings"><code class="literal">ssl.supported_protocols</code> settings</a>.</p>
<p>Elasticsearch will only support the TLS versions that are enabled by the
<a class="xref" href="jdk-tls-versions.html" title="Supported SSL/TLS versions by JDK version">underlying JDK</a>. If you configure
<code class="literal">ssl.supported_procotols</code> to include a TLS version that is not enabled in your
JDK, then it will be silently ignored.</p>
<p>Similarly, a TLS version that is enabled in your JDK, will not be used unless
it is configured as one of the <code class="literal">ssl.supported_protocols</code> in Elasticsearch.</p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="ciphers.html">« Enabling cipher suites for stronger encryption</a>
</span>
<span class="next">
<a href="security-files.html">Security files »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
