<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Elasticsearch version 7.12.0 | Elasticsearch Guide [7.17] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [7.17]"/>
<link rel="up" href="es-release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-7.12.1.html" title="Elasticsearch version 7.12.1"/>
<link rel="next" href="release-notes-7.11.2.html" title="Elasticsearch version 7.11.2"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.17"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.17"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.17]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="es-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-7.12.1.html">« Elasticsearch version 7.12.1</a>
</span>
<span class="next">
<a href="release-notes-7.11.2.html">Elasticsearch version 7.11.2 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-7.12.0"></a>Elasticsearch version 7.12.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/release-notes/7.12.asciidoc">edit</a></h2>
</div></div></div>
<p>Also see <a class="xref" href="migrating-7.12.html#breaking-changes-7.12" title="Breaking changes">Breaking changes in 7.12</a>.</p>
<h3><a id="security-updates-7.12.0"></a>Security updates<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/release-notes/7.12.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A document disclosure flaw was found in the Elasticsearch suggester and
profile API when Document and Field Level Security are enabled.
The suggester and profile API are normally disabled for an index when document
level security is enabled on the index. Certain queries are able to enable the
profiler and suggester which could lead to disclosing the existence of documents
and fields the attacker should not be able to view.
All versions of Elasticsearch before 6.8.15 and 7.11.2 are affected by this flaw.
You must upgrade to 6.8.15 or 7.11.2 to obtain the fix.
<a href="https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2021-22137" class="ulink" target="_top">CVE-2021-22137</a>
</li>
</ul>
</div>
<h3><a id="known-issues-7.12.0"></a>Known issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/release-notes/7.12.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Frozen tier: (Windows only) The frozen data tier relies on multiple caching mechanisms
to speed up access to searchable snapshot files. One of these caches uses
<a href="https://en.wikipedia.org/wiki/Sparse_file" class="ulink" target="_top">sparse files</a> to avoid creating large
files on disk when it is not strictly required. A bug prevented files from being
created with the right options to enable sparse support on Windows, leading Elasticsearch to
create potentially large files that can end up consuming all the disk space.</p>
<p>This issue is fixed in Elasticsearch versions 7.15.2 and later. There is no known workaround
for earlier versions. Filesystems that enable sparse files by default are not affected.
For more details, see <a href="https://github.com/elastic/elasticsearch/issues/79371" class="ulink" target="_top">#79371</a>.</p>
</li>
<li class="listitem">
If autoscaling is enabled for machine learning, the administrator of the cluster
should increase the cluster setting <code class="literal">xpack.ml.max_open_jobs</code>. This allows autoscaling
to run reliably as it relies on assigning jobs only via memory. Having
<code class="literal">xpack.ml.max_open_jobs</code> as a small number may cause autoscaling to behave unexpectedly.
</li>
<li class="listitem">
If autoscaling is enabled and job assignment takes an inordinate amount of time, scaling
sizes may increase much higher than required. Elasticsearch 7.13.0 contains a fix for this.
For more details, see <a href="https://github.com/elastic/elasticsearch/issues/72509" class="ulink" target="_top">#72509</a>
</li>
<li class="listitem">
<p>Snapshot and restore: If an index is deleted while the cluster is
concurrently taking more than one snapshot then there is a risk that one of the
snapshots may never complete and also that some shard data may be lost from the
repository, causing future restore operations to fail. To mitigate this
problem, set <code class="literal">snapshot.max_concurrent_operations: 1</code> to prevent concurrent
snapshot operations:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT _cluster/settings
{
  "persistent" : {
    "snapshot.max_concurrent_operations" : 1
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2721.console"></div>
<p>This issue is fixed in Elasticsearch versions 7.13.1 and later. It is not possible to
repair a repository once it is affected by this issue, so you must restore the
repository from a backup, or clear the repository by executing
<code class="literal">DELETE _snapshot/&lt;repository name&gt;/*</code>, or move to a fresh repository. For more
details, see <a href="https://github.com/elastic/elasticsearch/issues/73456" class="ulink" target="_top">#73456</a>.</p>
</li>
</ul>
</div>
<h3><a id="breaking-7.12.0"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/release-notes/7.12.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Returning nested data in fields API <a href="https://github.com/elastic/elasticsearch/pull/67432" class="ulink" target="_top">#67432</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/63709" class="ulink" target="_top">#63709</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query Languages
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fields API implementation in QL <a href="https://github.com/elastic/elasticsearch/pull/68802" class="ulink" target="_top">#68802</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67727" class="ulink" target="_top">#67727</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Test and fix the NULL handling of the string functions <a href="https://github.com/elastic/elasticsearch/pull/68379" class="ulink" target="_top">#68379</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/58907" class="ulink" target="_top">#58907</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="breaking-java-7.12.0"></a>Breaking Java changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/release-notes/7.12.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Features/Java High Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move find file structure finder in REST High Level client to its new endpoint and plugin <a href="https://github.com/elastic/elasticsearch/pull/67290" class="ulink" target="_top">#67290</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="deprecation-7.12.0"></a>Deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/release-notes/7.12.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Warn of change of default of <code class="literal">wait_for_active_shards</code> <a href="https://github.com/elastic/elasticsearch/pull/67527" class="ulink" target="_top">#67527</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/66419" class="ulink" target="_top">#66419</a>, <a href="https://github.com/elastic/elasticsearch/issues/67158" class="ulink" target="_top">#67158</a>, <a href="https://github.com/elastic/elasticsearch/issues/67246" class="ulink" target="_top">#67246</a>, <a href="https://github.com/elastic/elasticsearch/issues/67498" class="ulink" target="_top">#67498</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add deprecation warning for removed <code class="literal">strict_duplicate_detection</code> setting <a href="https://github.com/elastic/elasticsearch/pull/63500" class="ulink" target="_top">#63500</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/34588" class="ulink" target="_top">#34588</a>, <a href="https://github.com/elastic/elasticsearch/issues/60222" class="ulink" target="_top">#60222</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate <code class="literal">GeoPolygon</code> query in favour of <code class="literal">GeoShape</code> query <a href="https://github.com/elastic/elasticsearch/pull/64227" class="ulink" target="_top">#64227</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/48928" class="ulink" target="_top">#48928</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add deprecation check for job model snapshots that need upgrade <a href="https://github.com/elastic/elasticsearch/pull/66062" class="ulink" target="_top">#66062</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/64154" class="ulink" target="_top">#64154</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate the <code class="literal">id</code> field for the <code class="literal">InvalidateApiKey</code> API <a href="https://github.com/elastic/elasticsearch/pull/66317" class="ulink" target="_top">#66317</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/63224" class="ulink" target="_top">#63224</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="feature-7.12.0"></a>New features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/release-notes/7.12.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a cluster privilege to cancel tasks and delete async searches <a href="https://github.com/elastic/elasticsearch/pull/68679" class="ulink" target="_top">#68679</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67965" class="ulink" target="_top">#67965</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce ~ grammar for case-insensitive functions <a href="https://github.com/elastic/elasticsearch/pull/67869" class="ulink" target="_top">#67869</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67868" class="ulink" target="_top">#67868</a>)
</li>
<li class="listitem">
Introduce <code class="literal">like</code> and <code class="literal">regex</code> keywords <a href="https://github.com/elastic/elasticsearch/pull/68791" class="ulink" target="_top">#68791</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/68639" class="ulink" target="_top">#68639</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for partial searchable snapshots to ILM <a href="https://github.com/elastic/elasticsearch/pull/68714" class="ulink" target="_top">#68714</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/68509" class="ulink" target="_top">#68509</a>, <a href="https://github.com/elastic/elasticsearch/issues/68605" class="ulink" target="_top">#68605</a>)
</li>
<li class="listitem">
Add the frozen tier node role and ILM phase <a href="https://github.com/elastic/elasticsearch/pull/68605" class="ulink" target="_top">#68605</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/60848" class="ulink" target="_top">#60848</a>)
</li>
<li class="listitem">
Support <code class="literal">max_single_primary_size</code> in resize action and expose in ILM <a href="https://github.com/elastic/elasticsearch/pull/67705" class="ulink" target="_top">#67705</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/65714" class="ulink" target="_top">#65714</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fingerprint ingest processor <a href="https://github.com/elastic/elasticsearch/pull/68415" class="ulink" target="_top">#68415</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/53578" class="ulink" target="_top">#53578</a>)
</li>
<li class="listitem">
Network <code class="literal">community_id</code> processor for ingest pipelines <a href="https://github.com/elastic/elasticsearch/pull/66534" class="ulink" target="_top">#66534</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/55685" class="ulink" target="_top">#55685</a>)
</li>
<li class="listitem">
Network direction processor <a href="https://github.com/elastic/elasticsearch/pull/66644" class="ulink" target="_top">#66644</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query Languages
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Implement support for <code class="literal">date_nanos</code> Elasticsearch field type <a href="https://github.com/elastic/elasticsearch/pull/67666" class="ulink" target="_top">#67666</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/38562" class="ulink" target="_top">#38562</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Implement <code class="literal">TO_CHAR()</code> function <a href="https://github.com/elastic/elasticsearch/pull/66486" class="ulink" target="_top">#66486</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/54964" class="ulink" target="_top">#54964</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add minimum compatibility version to <code class="literal">SearchRequest</code> <a href="https://github.com/elastic/elasticsearch/pull/65896" class="ulink" target="_top">#65896</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/63304" class="ulink" target="_top">#63304</a>)
</li>
<li class="listitem">
Sort field tiebreaker for point in time (PIT) readers <a href="https://github.com/elastic/elasticsearch/pull/66093" class="ulink" target="_top">#66093</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/56828" class="ulink" target="_top">#56828</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add partial searchable snapshot support for a frozen tier <a href="https://github.com/elastic/elasticsearch/pull/68509" class="ulink" target="_top">#68509</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="enhancement-7.12.0"></a>Enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/release-notes/7.12.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">multi_terms</code> aggs <a href="https://github.com/elastic/elasticsearch/pull/67597" class="ulink" target="_top">#67597</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/65623" class="ulink" target="_top">#65623</a>)
</li>
<li class="listitem">
Lower contention on requests with many aggs <a href="https://github.com/elastic/elasticsearch/pull/66895" class="ulink" target="_top">#66895</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/58647" class="ulink" target="_top">#58647</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Drop <code class="literal">gateway.recover_after_nodes</code> from default conf <a href="https://github.com/elastic/elasticsearch/pull/68000" class="ulink" target="_top">#68000</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/53646" class="ulink" target="_top">#53646</a>)
</li>
<li class="listitem">
Make <code class="literal">InternalClusterInfoService</code> async <a href="https://github.com/elastic/elasticsearch/pull/66993" class="ulink" target="_top">#66993</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add grant-api-key to HLRC <a href="https://github.com/elastic/elasticsearch/pull/68190" class="ulink" target="_top">#68190</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add more context to cluster access denied messages <a href="https://github.com/elastic/elasticsearch/pull/66900" class="ulink" target="_top">#66900</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/42166" class="ulink" target="_top">#42166</a>, <a href="https://github.com/elastic/elasticsearch/issues/60357" class="ulink" target="_top">#60357</a>)
</li>
<li class="listitem">
Add more context to index access denied errors <a href="https://github.com/elastic/elasticsearch/pull/60357" class="ulink" target="_top">#60357</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/42166" class="ulink" target="_top">#42166</a>)
</li>
<li class="listitem">
Allow Kibana to create Fleet Server indices <a href="https://github.com/elastic/elasticsearch/pull/68152" class="ulink" target="_top">#68152</a>
</li>
<li class="listitem">
Phase 2 support for operator privileges: Cluster settings <a href="https://github.com/elastic/elasticsearch/pull/66684" class="ulink" target="_top">#66684</a>
</li>
<li class="listitem">
<code class="literal">view_index_metadata</code> and <code class="literal">manage</code> privs now grant access to field capabilities <a href="https://github.com/elastic/elasticsearch/pull/67392" class="ulink" target="_top">#67392</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/66867" class="ulink" target="_top">#66867</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clarify message emitted on cluster UUID mismatch <a href="https://github.com/elastic/elasticsearch/pull/66915" class="ulink" target="_top">#66915</a>
</li>
<li class="listitem">
Extend default probe connect/handshake timeouts <a href="https://github.com/elastic/elasticsearch/pull/68059" class="ulink" target="_top">#68059</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/42636" class="ulink" target="_top">#42636</a>)
</li>
<li class="listitem">
Skip cluster state serialization to closed channel <a href="https://github.com/elastic/elasticsearch/pull/67413" class="ulink" target="_top">#67413</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">result_position</code> to correctness test <a href="https://github.com/elastic/elasticsearch/pull/66761" class="ulink" target="_top">#66761</a>
</li>
<li class="listitem">
Introduce EQL search status API <a href="https://github.com/elastic/elasticsearch/pull/68065" class="ulink" target="_top">#68065</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/66955" class="ulink" target="_top">#66955</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Assign id to searcher using ids of segments <a href="https://github.com/elastic/elasticsearch/pull/66668" class="ulink" target="_top">#66668</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/63963" class="ulink" target="_top">#63963</a>)
</li>
<li class="listitem">
Use merging fieldsreader when restoring versionmap during recovery <a href="https://github.com/elastic/elasticsearch/pull/66944" class="ulink" target="_top">#66944</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make the rest of the forcemerge action steps retryable <a href="https://github.com/elastic/elasticsearch/pull/66352" class="ulink" target="_top">#66352</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/48183" class="ulink" target="_top">#48183</a>)
</li>
<li class="listitem">
Make the unfollow action and CCR related steps retryable <a href="https://github.com/elastic/elasticsearch/pull/66356" class="ulink" target="_top">#66356</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/48183" class="ulink" target="_top">#48183</a>)
</li>
<li class="listitem">
Skip unfollow action if the index is not a follower <a href="https://github.com/elastic/elasticsearch/pull/68690" class="ulink" target="_top">#68690</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">max_single_primary_size</code> as a condition for the rollover index API <a href="https://github.com/elastic/elasticsearch/pull/67842" class="ulink" target="_top">#67842</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/63026" class="ulink" target="_top">#63026</a>)
</li>
<li class="listitem">
Make template conflict warning deterministic <a href="https://github.com/elastic/elasticsearch/pull/67066" class="ulink" target="_top">#67066</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/66820" class="ulink" target="_top">#66820</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Configurable MIME type for mustache template encoding on set processor <a href="https://github.com/elastic/elasticsearch/pull/65314" class="ulink" target="_top">#65314</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/65115" class="ulink" target="_top">#65115</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Java High Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for passing http query parameters <a href="https://github.com/elastic/elasticsearch/pull/67802" class="ulink" target="_top">#67802</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/53846" class="ulink" target="_top">#53846</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Java Low Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add client metadata header on <code class="literal">RestClient</code> requests <a href="https://github.com/elastic/elasticsearch/pull/66303" class="ulink" target="_top">#66303</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/66189" class="ulink" target="_top">#66189</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add processor architectures to cluster stats <a href="https://github.com/elastic/elasticsearch/pull/68264" class="ulink" target="_top">#68264</a>
</li>
<li class="listitem">
Make <code class="literal">GET _cluster/stats</code> cancellable <a href="https://github.com/elastic/elasticsearch/pull/68676" class="ulink" target="_top">#68676</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/55550" class="ulink" target="_top">#55550</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for Spatial Relationships to <code class="literal">geo_point</code> field <a href="https://github.com/elastic/elasticsearch/pull/67631" class="ulink" target="_top">#67631</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/52382" class="ulink" target="_top">#52382</a>)
</li>
<li class="listitem">
Implement <code class="literal">IndexOrDocValuesQuery</code> for <code class="literal">geo_shape</code> field <a href="https://github.com/elastic/elasticsearch/pull/64688" class="ulink" target="_top">#64688</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add query param to limit highlighting to specified length <a href="https://github.com/elastic/elasticsearch/pull/67325" class="ulink" target="_top">#67325</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/52155" class="ulink" target="_top">#52155</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clarify bootstrap check failure messages <a href="https://github.com/elastic/elasticsearch/pull/67501" class="ulink" target="_top">#67501</a>
</li>
<li class="listitem">
Introduce "Feature States" for managing snapshots of system indices <a href="https://github.com/elastic/elasticsearch/pull/63513" class="ulink" target="_top">#63513</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/61657" class="ulink" target="_top">#61657</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Align JSON logs better with ECS <a href="https://github.com/elastic/elasticsearch/pull/67266" class="ulink" target="_top">#67266</a>
</li>
<li class="listitem">
Introduce deprecation categories <a href="https://github.com/elastic/elasticsearch/pull/67443" class="ulink" target="_top">#67443</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/64824" class="ulink" target="_top">#64824</a>, <a href="https://github.com/elastic/elasticsearch/issues/67266" class="ulink" target="_top">#67266</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Notify users to restart Elasticsearch after plugin installation <a href="https://github.com/elastic/elasticsearch/pull/66723" class="ulink" target="_top">#66723</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/39487" class="ulink" target="_top">#39487</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add OSS whitelist to execute API <a href="https://github.com/elastic/elasticsearch/pull/67038" class="ulink" target="_top">#67038</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67035" class="ulink" target="_top">#67035</a>)
</li>
<li class="listitem">
Capture structured javadoc from stdlib <a href="https://github.com/elastic/elasticsearch/pull/68782" class="ulink" target="_top">#68782</a>
</li>
<li class="listitem">
Enforce GPLv2 for parsed stdlib docs <a href="https://github.com/elastic/elasticsearch/pull/68601" class="ulink" target="_top">#68601</a>
</li>
<li class="listitem">
Improve bad regex pattern syntax error <a href="https://github.com/elastic/elasticsearch/pull/68520" class="ulink" target="_top">#68520</a>
</li>
<li class="listitem">
Parse stdlib files for parameter names <a href="https://github.com/elastic/elasticsearch/pull/67837" class="ulink" target="_top">#67837</a>
</li>
<li class="listitem">
Whitelist JSON functions for ingest <a href="https://github.com/elastic/elasticsearch/pull/67118" class="ulink" target="_top">#67118</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add enumsetting to <code class="literal">org.elasticsearch.common.settings.Setting</code> <a href="https://github.com/elastic/elasticsearch/pull/66826" class="ulink" target="_top">#66826</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/65335" class="ulink" target="_top">#65335</a>)
</li>
<li class="listitem">
Support removing archived settings if cluster has read only blocks <a href="https://github.com/elastic/elasticsearch/pull/64113" class="ulink" target="_top">#64113</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
License
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove grace period from license expiration check <a href="https://github.com/elastic/elasticsearch/pull/67316" class="ulink" target="_top">#67316</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add new multi custom processor for data frame analytics and model inference <a href="https://github.com/elastic/elasticsearch/pull/67362" class="ulink" target="_top">#67362</a>
</li>
<li class="listitem">
Allow data frame analytics memory estimation on non-ML nodes <a href="https://github.com/elastic/elasticsearch/pull/68146" class="ulink" target="_top">#68146</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67840" class="ulink" target="_top">#67840</a>)
</li>
<li class="listitem">
Automatic management for machine learning system indices <a href="https://github.com/elastic/elasticsearch/pull/68044" class="ulink" target="_top">#68044</a>
</li>
<li class="listitem">
Expand regression and classification hyperparameters <a href="https://github.com/elastic/elasticsearch/pull/67950" class="ulink" target="_top">#67950</a>
</li>
<li class="listitem">
Improve resuming a data frame analytics job stopped during inference <a href="https://github.com/elastic/elasticsearch/pull/67623" class="ulink" target="_top">#67623</a>
</li>
<li class="listitem">
Move find file structure to a new API endpoint <a href="https://github.com/elastic/elasticsearch/pull/67123" class="ulink" target="_top">#67123</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67001" class="ulink" target="_top">#67001</a>)
</li>
<li class="listitem">
Preserve inference progress when starting data frame analytics <a href="https://github.com/elastic/elasticsearch/pull/68222" class="ulink" target="_top">#68222</a>
</li>
<li class="listitem">
Write notification messages indicating required capacity when a job is not assigned to a node <a href="https://github.com/elastic/elasticsearch/pull/67181" class="ulink" target="_top">#67181</a>
</li>
<li class="listitem">
Fix edge case which could cause spurious anomalies early in the learning process if the time series has non-diurnal seasonality <a href="https://github.com/elastic/ml-cpp/pull/1634" class="ulink" target="_top">#1634</a>
</li>
<li class="listitem">
Compute importance of hyperparameters optimized in the fine parameter tuning step <a href="https://github.com/elastic/ml-cpp/pull/1627" class="ulink" target="_top">#1627</a>
</li>
<li class="listitem">
Early stopping for the fine parameter tuning step of classification and regression model training <a href="https://github.com/elastic/ml-cpp/pull/1676" class="ulink" target="_top">#1676</a>
</li>
<li class="listitem">
Correct upgrade for pre-6.3 state for lat_long anomaly anomaly detectors <a href="https://github.com/elastic/ml-cpp/pull/1681" class="ulink" target="_top">#1681</a>
</li>
<li class="listitem">
Per tree feature bag to speed up training of regression and classification models and improve scalability for large numbers of features <a href="https://github.com/elastic/ml-cpp/pull/1733" class="ulink" target="_top">#1733</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Shortcut to avoid fmod <a href="https://github.com/elastic/elasticsearch/pull/66909" class="ulink" target="_top">#66909</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Tweaks to the Iron Bank docker context <a href="https://github.com/elastic/elasticsearch/pull/66942" class="ulink" target="_top">#66942</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Performance
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add benchmark racing scripts <a href="https://github.com/elastic/elasticsearch/pull/68369" class="ulink" target="_top">#68369</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query Languages
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adapt nested fields extraction from fields API output to the new un-flattened structure <a href="https://github.com/elastic/elasticsearch/pull/68745" class="ulink" target="_top">#68745</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/68722" class="ulink" target="_top">#68722</a>)
</li>
<li class="listitem">
Simplify arithmetic operations in binary comps <a href="https://github.com/elastic/elasticsearch/pull/66022" class="ulink" target="_top">#66022</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/65394" class="ulink" target="_top">#65394</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ranking
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add linear function to <code class="literal">rank_feature</code> query <a href="https://github.com/elastic/elasticsearch/pull/67438" class="ulink" target="_top">#67438</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/49859" class="ulink" target="_top">#49859</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Rollup
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove the rollup thread pool <a href="https://github.com/elastic/elasticsearch/pull/65958" class="ulink" target="_top">#65958</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enhance error message on filtering check against aggs <a href="https://github.com/elastic/elasticsearch/pull/68763" class="ulink" target="_top">#68763</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/57125" class="ulink" target="_top">#57125</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add grok and dissect methods to runtime fields <a href="https://github.com/elastic/elasticsearch/pull/68088" class="ulink" target="_top">#68088</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67825" class="ulink" target="_top">#67825</a>)
</li>
<li class="listitem">
Allow deletion of async searches with the manage privilege <a href="https://github.com/elastic/elasticsearch/pull/67965" class="ulink" target="_top">#67965</a>
</li>
<li class="listitem">
Avoid duplicate serialization for <code class="literal">TermsQueryBuilder</code> <a href="https://github.com/elastic/elasticsearch/pull/67223" class="ulink" target="_top">#67223</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67132" class="ulink" target="_top">#67132</a>)
</li>
<li class="listitem">
Early detection of circuit breaker exception in the coordinating node <a href="https://github.com/elastic/elasticsearch/pull/67431" class="ulink" target="_top">#67431</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/62884" class="ulink" target="_top">#62884</a>)
</li>
<li class="listitem">
Limit the depth of nested bool queries <a href="https://github.com/elastic/elasticsearch/pull/66204" class="ulink" target="_top">#66204</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/55303" class="ulink" target="_top">#55303</a>)
</li>
<li class="listitem">
Remove unnecessary optimizations for <code class="literal">TermsSetQueryBuilder</code> <a href="https://github.com/elastic/elasticsearch/pull/67637" class="ulink" target="_top">#67637</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67223" class="ulink" target="_top">#67223</a>)
</li>
<li class="listitem">
Retry point in time on other copy when possible <a href="https://github.com/elastic/elasticsearch/pull/66713" class="ulink" target="_top">#66713</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/61062" class="ulink" target="_top">#61062</a>)
</li>
<li class="listitem">
Slightly speed up scripts <a href="https://github.com/elastic/elasticsearch/pull/68478" class="ulink" target="_top">#68478</a>
</li>
<li class="listitem">
Use a mapping snapshot for fetching nested docs <a href="https://github.com/elastic/elasticsearch/pull/66877" class="ulink" target="_top">#66877</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/66295" class="ulink" target="_top">#66295</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Build complex automatons more efficiently <a href="https://github.com/elastic/elasticsearch/pull/66724" class="ulink" target="_top">#66724</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/36062" class="ulink" target="_top">#36062</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add ClusterUUID to <code class="literal">RepositoryData</code> <a href="https://github.com/elastic/elasticsearch/pull/68002" class="ulink" target="_top">#68002</a>
</li>
<li class="listitem">
Allow searchable snapshots to work on source-only repositories <a href="https://github.com/elastic/elasticsearch/pull/67975" class="ulink" target="_top">#67975</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67936" class="ulink" target="_top">#67936</a>)
</li>
<li class="listitem">
Avoid async cache-size fetch on partial shards <a href="https://github.com/elastic/elasticsearch/pull/68644" class="ulink" target="_top">#68644</a>
</li>
<li class="listitem">
Forbid removing write block from searchable snapshot index <a href="https://github.com/elastic/elasticsearch/pull/68036" class="ulink" target="_top">#68036</a>
</li>
<li class="listitem">
Ignore disk watermarks on partial shards <a href="https://github.com/elastic/elasticsearch/pull/68673" class="ulink" target="_top">#68673</a>
</li>
<li class="listitem">
Improve error message on incompatible repo format <a href="https://github.com/elastic/elasticsearch/pull/67776" class="ulink" target="_top">#67776</a>
</li>
<li class="listitem">
Introduce repository UUIDs <a href="https://github.com/elastic/elasticsearch/pull/67829" class="ulink" target="_top">#67829</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/66431" class="ulink" target="_top">#66431</a>)
</li>
<li class="listitem">
Introduce repository test kit/analyser <a href="https://github.com/elastic/elasticsearch/pull/67247" class="ulink" target="_top">#67247</a>
</li>
<li class="listitem">
Permit rename of repository of searchable snapshot <a href="https://github.com/elastic/elasticsearch/pull/67968" class="ulink" target="_top">#67968</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/66431" class="ulink" target="_top">#66431</a>)
</li>
<li class="listitem">
Reject remounting snapshot of a searchable snapshot <a href="https://github.com/elastic/elasticsearch/pull/68816" class="ulink" target="_top">#68816</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/68792" class="ulink" target="_top">#68792</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Task Management
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove parent-task bans on channels disconnect <a href="https://github.com/elastic/elasticsearch/pull/66066" class="ulink" target="_top">#66066</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/56620" class="ulink" target="_top">#56620</a>, <a href="https://github.com/elastic/elasticsearch/issues/65443" class="ulink" target="_top">#65443</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for search-time runtime fields <a href="https://github.com/elastic/elasticsearch/pull/67643" class="ulink" target="_top">#67643</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/65147" class="ulink" target="_top">#65147</a>)
</li>
<li class="listitem">
Automatic management for transform system indices <a href="https://github.com/elastic/elasticsearch/pull/68590" class="ulink" target="_top">#68590</a>
</li>
<li class="listitem">
Implement retention policy to delete data from a transform <a href="https://github.com/elastic/elasticsearch/pull/67832" class="ulink" target="_top">#67832</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67916" class="ulink" target="_top">#67916</a>)
</li>
<li class="listitem">
Refactor cat transform to show more useful information <a href="https://github.com/elastic/elasticsearch/pull/68232" class="ulink" target="_top">#68232</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/66367" class="ulink" target="_top">#66367</a>, <a href="https://github.com/elastic/elasticsearch/issues/66718" class="ulink" target="_top">#66718</a>)
</li>
<li class="listitem">
Report last search time in transform stats <a href="https://github.com/elastic/elasticsearch/pull/66718" class="ulink" target="_top">#66718</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/66367" class="ulink" target="_top">#66367</a>, <a href="https://github.com/elastic/elasticsearch/issues/66410" class="ulink" target="_top">#66410</a>, <a href="https://github.com/elastic/elasticsearch/issues/66718" class="ulink" target="_top">#66718</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="bug-7.12.0"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/release-notes/7.12.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove <code class="literal">toString-&gt;parse</code> roundtrip for missing value in terms agg <a href="https://github.com/elastic/elasticsearch/pull/67954" class="ulink" target="_top">#67954</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67197" class="ulink" target="_top">#67197</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fail force-merges on read-only engines <a href="https://github.com/elastic/elasticsearch/pull/64756" class="ulink" target="_top">#64756</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Features
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Prevent unnecessary system index access warnings in Deprecation Info API <a href="https://github.com/elastic/elasticsearch/pull/67312" class="ulink" target="_top">#67312</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/66063" class="ulink" target="_top">#66063</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid exception in in <code class="literal">SetStepInfoUpdateTask#onFailure</code> <a href="https://github.com/elastic/elasticsearch/pull/67553" class="ulink" target="_top">#67553</a>
</li>
<li class="listitem">
Fix issues with CS Handling in ILM async steps <a href="https://github.com/elastic/elasticsearch/pull/68361" class="ulink" target="_top">#68361</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Java Low Level REST Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix wrong <code class="literal">totalIterationCount</code> when running <code class="literal">BulkIndexBenchmark</code> <a href="https://github.com/elastic/elasticsearch/pull/64515" class="ulink" target="_top">#64515</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/61451" class="ulink" target="_top">#61451</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move monitoring collection timeouts to coordinator <a href="https://github.com/elastic/elasticsearch/pull/67084" class="ulink" target="_top">#67084</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/60188" class="ulink" target="_top">#60188</a>, <a href="https://github.com/elastic/elasticsearch/issues/66993" class="ulink" target="_top">#66993</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix ingest java week based year defaulting <a href="https://github.com/elastic/elasticsearch/pull/65717" class="ulink" target="_top">#65717</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix indexing of degenerated rectangles <a href="https://github.com/elastic/elasticsearch/pull/67702" class="ulink" target="_top">#67702</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67695" class="ulink" target="_top">#67695</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow the <code class="literal">*,-*</code> ("no-index") pattern for destructive actions when <code class="literal">destructive_requires_name</code> is true <a href="https://github.com/elastic/elasticsearch/pull/68021" class="ulink" target="_top">#68021</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67958" class="ulink" target="_top">#67958</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Augmentation.join can&#8217;t handle empty strings at the start <a href="https://github.com/elastic/elasticsearch/pull/68251" class="ulink" target="_top">#68251</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/33434" class="ulink" target="_top">#33434</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make <code class="literal">find_structure</code> validate <code class="literal">lines_to_sample</code> at least 2 <a href="https://github.com/elastic/elasticsearch/pull/68199" class="ulink" target="_top">#68199</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/68128" class="ulink" target="_top">#68128</a>)
</li>
<li class="listitem">
Return 400 status for invalid charset in <code class="literal">find_structure</code> <a href="https://github.com/elastic/elasticsearch/pull/68201" class="ulink" target="_top">#68201</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/68130" class="ulink" target="_top">#68130</a>)
</li>
<li class="listitem">
Return status 400 for <code class="literal">grok_pattern</code> errors in <code class="literal">find_structure</code> <a href="https://github.com/elastic/elasticsearch/pull/68205" class="ulink" target="_top">#68205</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/68132" class="ulink" target="_top">#68132</a>)
</li>
<li class="listitem">
Fix a source of instability in time series modeling for anomaly detection. This has been observed to cause spurious anomalies for a partition which no longer receives any data <a href="https://github.com/elastic/ml-cpp/pull/1675" class="ulink" target="_top">#1675</a>
</li>
<li class="listitem">
Ensure that we stop modeling seasonality for data which flatlines. This is important for count and sum detectors which treat empty buckets as zero. Before this change, we could sometimes detect spurious anomalies in realtime detection after a partition no longer received any data <a href="https://github.com/elastic/ml-cpp/pull/1654" class="ulink" target="_top">#1654</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">ZonedDateTime</code> with nanos serialisation <a href="https://github.com/elastic/elasticsearch/pull/68253" class="ulink" target="_top">#68253</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67666" class="ulink" target="_top">#67666</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle ignored fields directly in <code class="literal">SourceValueFetcher</code> <a href="https://github.com/elastic/elasticsearch/pull/68738" class="ulink" target="_top">#68738</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make <code class="literal">RepositoryData</code> Parsing Stricter <a href="https://github.com/elastic/elasticsearch/pull/67699" class="ulink" target="_top">#67699</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/67696" class="ulink" target="_top">#67696</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-7.12.1.html">« Elasticsearch version 7.12.1</a>
</span>
<span class="next">
<a href="release-notes-7.11.2.html">Elasticsearch version 7.11.2 »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
