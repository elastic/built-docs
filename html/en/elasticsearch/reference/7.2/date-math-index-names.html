<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Date math support in index names | Elasticsearch Guide [7.2] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [7.2]"/>
<link rel="up" href="api-conventions.html" title="API conventions"/>
<link rel="prev" href="multi-index.html" title="Multiple Indices"/>
<link rel="next" href="common-options.html" title="Common options"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.2"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.2"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.2]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="api-conventions.html">API conventions</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="multi-index.html">« Multiple Indices</a>
</span>
<span class="next">
<a href="common-options.html">Common options »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="date-math-index-names"></a>Date math support in index names<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.2/docs/reference/api-conventions.asciidoc">edit</a></h2>
</div></div></div>
<p>Date math index name resolution enables you to search a range of time-series indices, rather
than searching all of your time-series indices and filtering the results or maintaining aliases.
Limiting the number of indices that are searched reduces the load on the cluster and improves
execution performance. For example, if you are searching for errors in your
daily logs, you can use a date math name template to restrict the search to the past
two days.</p>
<p>Almost all APIs that have an <code class="literal">index</code> parameter support date math in the <code class="literal">index</code> parameter
value.</p>
<p>A date math index name takes the following form:</p>
<div class="pre_wrapper lang-txt">
<pre class="programlisting prettyprint lang-txt">&lt;static_name{date_math_expr{date_format|time_zone}}&gt;</pre>
</div>
<p>Where:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">static_name</code>
</p>
</td>
<td valign="top">
<p>
is the static text part of the name
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">date_math_expr</code>
</p>
</td>
<td valign="top">
<p>
is a dynamic date math expression that computes the date dynamically
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">date_format</code>
</p>
</td>
<td valign="top">
<p>
is the optional format in which the computed date should be rendered. Defaults to <code class="literal">yyyy.MM.dd</code>. Format should be compatible with java-time <a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html" class="ulink" target="_top">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html</a>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">time_zone</code>
</p>
</td>
<td valign="top">
<p>
is the optional time zone. Defaults to <code class="literal">utc</code>.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Pay attention to the usage of small vs capital letters used in the <code class="literal">date_format</code>. For example:
<code class="literal">mm</code> denotes minute of hour, while <code class="literal">MM</code> denotes month of year. Similarly <code class="literal">hh</code> denotes the hour in the
<code class="literal">1-12</code> range in combination with <code class="literal">AM/PM</code>, while <code class="literal">HH</code> denotes the hour in the <code class="literal">0-23</code> 24-hour range.</p>
</div>
</div>
<p>Date math expressions are resolved locale-independent. Consequently, it is not possible to use any other
calendars than the Gregorian calendar.</p>
<p>You must enclose date math index name expressions within angle brackets, and
all special characters should be URI encoded. For example:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console"># GET /&lt;logstash-{now/d}&gt;/_search
GET /%3Clogstash-%7Bnow%2Fd%7D%3E/_search
{
  "query" : {
    "match": {
      "test": "data"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/38.console"></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Percent encoding of date math characters</h3>
<p>The special characters used for date rounding must be URI encoded as follows:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">&lt;</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">%3C</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">&gt;</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">%3E</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">/</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">%2F</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">{</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">%7B</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">}</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">%7D</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">|</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">%7C</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">+</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">%2B</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">:</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">%3A</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">,</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">%2C</code>
</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>The following example shows different forms of date math index names and the final index names
they resolve to given the current time is 22nd March 2024 noon utc.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Expression</th>
<th align="left" valign="top">Resolves to</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">&lt;logstash-{now/d}&gt;</code></p></td>
<td align="left" valign="top"><p><code class="literal">logstash-2024.03.22</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">&lt;logstash-{now/M}&gt;</code></p></td>
<td align="left" valign="top"><p><code class="literal">logstash-2024.03.01</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">&lt;logstash-{now/M{yyyy.MM}}&gt;</code></p></td>
<td align="left" valign="top"><p><code class="literal">logstash-2024.03</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">&lt;logstash-{now/M-1M{yyyy.MM}}&gt;</code></p></td>
<td align="left" valign="top"><p><code class="literal">logstash-2024.02</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">&lt;logstash-{now/d{yyyy.MM.dd|+12:00}}&gt;</code></p></td>
<td align="left" valign="top"><p><code class="literal">logstash-2024.03.23</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>To use the characters <code class="literal">{</code> and <code class="literal">}</code> in the static part of an index name template, escape them
with a backslash <code class="literal">\</code>, for example:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">&lt;elastic\{ON\}-{now/M}&gt;</code> resolves to <code class="literal">elastic{ON}-2024.03.01</code>
</li>
</ul>
</div>
<p>The following example shows a search request that searches the Logstash indices for the past
three days, assuming the indices use the default Logstash index name format,
<code class="literal">logstash-yyyy.MM.dd</code>.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console"># GET /&lt;logstash-{now/d-2d}&gt;,&lt;logstash-{now/d-1d}&gt;,&lt;logstash-{now/d}&gt;/_search
GET /%3Clogstash-%7Bnow%2Fd-2d%7D%3E%2C%3Clogstash-%7Bnow%2Fd-1d%7D%3E%2C%3Clogstash-%7Bnow%2Fd%7D%3E/_search
{
  "query" : {
    "match": {
      "test": "data"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/39.console"></div>
</div>
<div class="navfooter">
<span class="prev">
<a href="multi-index.html">« Multiple Indices</a>
</span>
<span class="next">
<a href="common-options.html">Common options »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
