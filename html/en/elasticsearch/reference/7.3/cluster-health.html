<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Cluster Health
        | Elasticsearch Reference [7.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [7.3]" /><link rel="up" href="cluster.html" title="Cluster APIs" /><link rel="prev" href="cluster.html" title="Cluster APIs" /><link rel="next" href="cluster-state.html" title="Cluster State" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.3" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="7.3" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [7.3]
    </a></span> » <span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span> » <span class="breadcrumb-link"><a href="cluster.html">Cluster APIs</a></span> » <span class="breadcrumb-node">Cluster Health</span></div><div class="navheader"><span class="prev"><a href="cluster.html">
              « 
              Cluster APIs</a>
           
        </span><span class="next">
           
          <a href="cluster-state.html">Cluster State
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="cluster-health"></a>Cluster Health<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/cluster/health.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Returns the health status of a cluster.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="cluster-health-api-request"></a>Request<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/cluster/health.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><code class="literal">GET _cluster/health/&lt;index&gt;</code></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="cluster-health-api-desc"></a>Description<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/cluster/health.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The cluster health API returns a simple status on the health of the
cluster. The API can also be executed against one or more indices to get just
the specified indices health.</p><p>The cluster health status is: <code class="literal">green</code>, <code class="literal">yellow</code> or <code class="literal">red</code>. On the shard level, a
<code class="literal">red</code> status indicates that the specific shard is not allocated in the cluster,
<code class="literal">yellow</code> means that the primary shard is allocated but replicas are not, and
<code class="literal">green</code> means that all shards are allocated. The index level status is
controlled by the worst shard status. The cluster status is controlled by the
worst index status.</p><p>One of the main benefits of the API is the ability to wait until the cluster
reaches a certain high water-mark health level. For example, the following will
wait for 50 seconds for the cluster to reach the <code class="literal">yellow</code> level (if it reaches
the <code class="literal">green</code> or <code class="literal">yellow</code> status before 50 seconds elapse, it will return at that
point):</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">GET /_cluster/health?wait_for_status=yellow&amp;timeout=50s</pre></div><div class="console_widget" data-snippet="snippets/1065.console"></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="cluster-health-api-path-params"></a>Path parameters<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/cluster/health.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">&lt;index&gt;</code></span></dt><dd>(Optional, string) Comma-separated list or wildcard expression of index names
used to limit the request.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="cluster-health-api-query-params"></a>Query parameters<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/cluster/health.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">level</code></span></dt><dd>(Optional, string) Can be one of <code class="literal">cluster</code>, <code class="literal">indices</code> or <code class="literal">shards</code>. Controls
the details level of the health information returned. Defaults to <code class="literal">cluster</code>.</dd><dt><span class="term"><code class="literal">local</code></span></dt><dd>(Optional, boolean) If <code class="literal">true</code>, the request retrieves information from the local
node only. Defaults to <code class="literal">false</code>, which means information is retrieved from
the master node.</dd><dt><span class="term"><code class="literal">timeout</code></span></dt><dd>(Optional, <a class="link" href="common-options.html#time-units" title="Time units">time units</a>) Specifies the period of time to wait for
a response. If no response is received before the timeout expires, the request
fails and returns an error. Defaults to <code class="literal">30s</code>.</dd><dt><span class="term"><code class="literal">master_timeout</code></span></dt><dd>(Optional, <a class="link" href="common-options.html#time-units" title="Time units">time units</a>) Specifies the period of time to wait for
a connection to the master node. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.</dd><dt><span class="term"><code class="literal">wait_for_active_shards</code></span></dt><dd>(Optional, string) A number controlling to how many active shards to wait
for, <code class="literal">all</code> to wait for all shards in the cluster to be active, or <code class="literal">0</code> to not
wait. Defaults to <code class="literal">0</code>.</dd><dt><span class="term"><code class="literal">wait_for_events</code></span></dt><dd>(Optional, string) Can be one of <code class="literal">immediate</code>, <code class="literal">urgent</code>, <code class="literal">high</code>, <code class="literal">normal</code>,
<code class="literal">low</code>, <code class="literal">languid</code>. Wait until all currently queued events with the given
priority are processed.</dd><dt><span class="term"><code class="literal">wait_for_no_initializing_shards</code></span></dt><dd>(Optional, boolean) A boolean value which controls whether to wait (until
the timeout provided) for the cluster to have no shard initializations.
Defaults to false, which means it will not wait for initializing shards.</dd><dt><span class="term"><code class="literal">wait_for_no_relocating_shards</code></span></dt><dd>(Optional, boolean) A boolean value which controls whether to wait (until
the timeout provided) for the cluster to have no shard relocations. Defaults
to false, which means it will not wait for relocating shards.</dd><dt><span class="term"><code class="literal">wait_for_nodes</code></span></dt><dd>(Optional, string) The request waits until the specified number <code class="literal">N</code> of
nodes is available. It also accepts <code class="literal">&gt;=N</code>, <code class="literal">&lt;=N</code>, <code class="literal">&gt;N</code> and <code class="literal">&lt;N</code>.
Alternatively, it is possible to use <code class="literal">ge(N)</code>, <code class="literal">le(N)</code>, <code class="literal">gt(N)</code> and
<code class="literal">lt(N)</code> notation.</dd><dt><span class="term"><code class="literal">wait_for_status</code></span></dt><dd>(Optional, string) One of <code class="literal">green</code>, <code class="literal">yellow</code> or <code class="literal">red</code>. Will wait (until the
timeout provided) until the status of the cluster changes to the one
provided or better, i.e. <code class="literal">green</code> &gt; <code class="literal">yellow</code> &gt; <code class="literal">red</code>. By default, will not
wait for any status.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="cluster-health-api-response-body"></a>Response body<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/cluster/health.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">cluster_name</code></span></dt><dd>(string) The name of the cluster.</dd><dt><span class="term"><code class="literal">status</code></span></dt><dd>(string) The health status of the cluster.</dd><dt><span class="term"><code class="literal">timed_out</code></span></dt><dd>(boolean) If <code class="literal">false</code> the response returned within the period of
time that is specified by the <code class="literal">timeout</code> parameter (<code class="literal">30s</code> by default).</dd><dt><span class="term"><code class="literal">number_of_nodes</code></span></dt><dd>(integer) The number of nodes within the cluster.</dd><dt><span class="term"><code class="literal">number_of_data_nodes</code></span></dt><dd>(integer) The number of nodes that are dedicated data nodes.</dd><dt><span class="term"><code class="literal">active_primary_shards</code></span></dt><dd>(integer) The number of active primary shards.</dd><dt><span class="term"><code class="literal">active_shards</code></span></dt><dd>(integer) The total number of active primary and replica shards.</dd><dt><span class="term"><code class="literal">relocating_shards</code></span></dt><dd>(integer) The number of shards that are under relocation.</dd><dt><span class="term"><code class="literal">initializing_shards</code></span></dt><dd>(integer) The number of shards that are under initialization.</dd><dt><span class="term"><code class="literal">unassigned_shards</code></span></dt><dd>(integer) The number of shards that are not allocated.</dd><dt><span class="term"><code class="literal">delayed_unassigned_shards</code></span></dt><dd>(integer) The number of shards whose allocation has been delayed by the
timeout settings.</dd><dt><span class="term"><code class="literal">number_of_pending_tasks</code></span></dt><dd>(integer) The number of cluster-level changes that have not yet been
executed.</dd><dt><span class="term"><code class="literal">number_of_in_flight_fetch</code></span></dt><dd>(integer) The number of unfinished fetches.</dd><dt><span class="term"><code class="literal">task_max_waiting_in_queue_millis</code></span></dt><dd>(integer) The time expressed in milliseconds since the earliest initiated task
is waiting for being performed.</dd><dt><span class="term"><code class="literal">active_shards_percent_as_number</code></span></dt><dd>(float) The ratio of active shards in the cluster expressed as a percentage.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="cluster-health-api-example"></a>Examples<a href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/cluster/health.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">GET _cluster/health</pre></div><div class="console_widget" data-snippet="snippets/1066.console"></div><p>The API returns the following response in case of a quiet single node cluster
with a single index with one shard and one replica:</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">{
  "cluster_name" : "testcluster",
  "status" : "yellow",
  "timed_out" : false,
  "number_of_nodes" : 1,
  "number_of_data_nodes" : 1,
  "active_primary_shards" : 1,
  "active_shards" : 1,
  "relocating_shards" : 0,
  "initializing_shards" : 0,
  "unassigned_shards" : 1,
  "delayed_unassigned_shards": 0,
  "number_of_pending_tasks" : 0,
  "number_of_in_flight_fetch": 0,
  "task_max_waiting_in_queue_millis": 0,
  "active_shards_percent_as_number": 50.0
}</pre></div><p>The following is an example of getting the cluster health at the
<code class="literal">shards</code> level:</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">GET /_cluster/health/twitter?level=shards</pre></div><div class="console_widget" data-snippet="snippets/1067.console"></div></div></div><div class="navfooter"><span class="prev"><a href="cluster.html">
              « 
              Cluster APIs</a>
           
        </span><span class="next">
           
          <a href="cluster-state.html">Cluster State
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>
      </section>
    </div>

    
<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>

<script type="text/javascript">
window.initial_state = {}</script>
  </body>
</html>
