<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>elasticsearch-saml-metadata | Elasticsearch Reference [7.3] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.3]"/>
<link rel="up" href="commands.html" title="Command line tools"/>
<link rel="prev" href="node-tool.html" title="elasticsearch-node"/>
<link rel="next" href="setup-passwords.html" title="elasticsearch-setup-passwords"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.3"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.3"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.3]</a></span>
»
<span class="breadcrumb-link"><a href="commands.html">Command line tools</a></span>
»
<span class="breadcrumb-node">elasticsearch-saml-metadata</span>
</div>
<div class="navheader">
<span class="prev">
<a href="node-tool.html">« elasticsearch-node</a>
</span>
<span class="next">
<a href="setup-passwords.html">elasticsearch-setup-passwords »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="saml-metadata"></a>elasticsearch-saml-metadata<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/commands/saml-metadata.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<p>The <code class="literal">elasticsearch-saml-metadata</code> command can be used to generate a SAML 2.0 Service
Provider Metadata file.</p>
<h3><a id="_synopsis_6"></a>Synopsis<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/commands/saml-metadata.asciidoc">edit</a></h3>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">bin/elasticsearch-saml-metadata
[--realm &lt;name&gt;]
[--out &lt;file_path&gt;] [--batch]
[--attribute &lt;name&gt;] [--service-name &lt;name&gt;]
[--locale &lt;name&gt;] [--contacts]
([--organisation-name &lt;name&gt;] [--organisation-display-name &lt;name&gt;] [--organisation-url &lt;url&gt;])
([--signing-bundle &lt;file_path&gt;] | [--signing-cert &lt;file_path&gt;][--signing-key &lt;file_path&gt;])
[--signing-key-password &lt;password&gt;]
[-E &lt;KeyValuePair&gt;]
[-h, --help] ([-s, --silent] | [-v, --verbose])</pre>
</div>
<h3><a id="_description_6"></a>Description<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/commands/saml-metadata.asciidoc">edit</a></h3>
<p>The SAML 2.0 specification provides a mechanism for Service Providers to
describe their capabilities and configuration using a <em>metadata file</em>.</p>
<p>The <code class="literal">elasticsearch-saml-metadata</code> command generates such a file, based on the
configuration of a SAML realm in Elasticsearch.</p>
<p>Some SAML Identity Providers will allow you to automatically import a metadata
file when you configure the Elastic Stack as a Service Provider.</p>
<p>You can optionally select to digitally sign the metadata file in order to
ensure its integrity and authenticity before sharing it with the Identity Provider.
The key used for signing the metadata file need not necessarily be the same as
the keys already used in the saml realm configuration for SAML message signing.</p>
<h3><a id="_parameters_10"></a>Parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/commands/saml-metadata.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">--attribute &lt;name&gt;</code>
</span>
</dt>
<dd>
Specifies a SAML attribute that should be
included as a <code class="literal">&lt;RequestedAttribute&gt;</code> element in the metadata. Any attribute
configured in the Elasticsearch realm is automatically included and does not need to be
specified as a commandline option.
</dd>
<dt>
<span class="term">
<code class="literal">--batch</code>
</span>
</dt>
<dd>
Do not prompt for user input.
</dd>
<dt>
<span class="term">
<code class="literal">--contacts</code>
</span>
</dt>
<dd>
Specifies that the metadata should include one or more
<code class="literal">&lt;ContactPerson&gt;</code> elements. The user will be prompted to enter the details for
each person.
</dd>
<dt>
<span class="term">
<code class="literal">-E &lt;KeyValuePair&gt;</code>
</span>
</dt>
<dd>
Configures an Elasticsearch setting.
</dd>
<dt>
<span class="term">
<code class="literal">-h, --help</code>
</span>
</dt>
<dd>
Returns all of the command parameters.
</dd>
<dt>
<span class="term">
<code class="literal">--locale &lt;name&gt;</code>
</span>
</dt>
<dd>
Specifies the locale to use for metadata elements such as
<code class="literal">&lt;ServiceName&gt;</code>. Defaults to the JVM&#8217;s default system locale.
</dd>
<dt>
<span class="term">
<code class="literal">--organisation-display-name &lt;name</code>
</span>
</dt>
<dd>
Specified the value of the
<code class="literal">&lt;OrganizationDisplayName&gt;</code> element.
Only valid if <code class="literal">--organisation-name</code> is also specified.
</dd>
<dt>
<span class="term">
<code class="literal">--organisation-name &lt;name&gt;</code>
</span>
</dt>
<dd>
Specifies that an <code class="literal">&lt;Organization&gt;</code> element should
be included in the metadata and provides the value for the <code class="literal">&lt;OrganizationName&gt;</code>.
If this is specified, then <code class="literal">--organisation-url</code> must also be specified.
</dd>
<dt>
<span class="term">
<code class="literal">--organisation-url &lt;url&gt;</code>
</span>
</dt>
<dd>
Specifies the value of the <code class="literal">&lt;OrganizationURL&gt;</code>
element. This is required if <code class="literal">--organisation-name</code> is specified.
</dd>
<dt>
<span class="term">
<code class="literal">--out &lt;file_path&gt;</code>
</span>
</dt>
<dd>
Specifies a path for the output files.
Defaults to <code class="literal">saml-elasticsearch-metadata.xml</code>
</dd>
<dt>
<span class="term">
<code class="literal">--service-name &lt;name&gt;</code>
</span>
</dt>
<dd>
Specifies the value for the <code class="literal">&lt;ServiceName&gt;</code> element in
the metadata. Defaults to <code class="literal">elasticsearch</code>.
</dd>
<dt>
<span class="term">
<code class="literal">--signing-bundle &lt;file_path&gt;</code>
</span>
</dt>
<dd>
Specifies the path to an existing key pair
(in PKCS#12 format). The private key of that key pair will be used to sign
the metadata file.
</dd>
<dt>
<span class="term">
<code class="literal">--signing-cert &lt;file_path&gt;</code>
</span>
</dt>
<dd>
Specifies the path to an existing certificate (in
PEM format) to be used for signing of the metadata file. You must also specify
the <code class="literal">--signing-key</code> parameter. This parameter cannot be used with the
<code class="literal">--signing-bundle</code> parameter.
</dd>
<dt>
<span class="term">
<code class="literal">--signing-key &lt;file_path&gt;</code>
</span>
</dt>
<dd>
Specifies the path to an existing key (in PEM format)
to be used for signing of the metadata file. You must also specify the
<code class="literal">--signing-cert</code> parameter. This parameter cannot be used with the
<code class="literal">--signing-bundle</code> parameter.
</dd>
<dt>
<span class="term">
<code class="literal">--signing-key-password &lt;password&gt;</code>
</span>
</dt>
<dd>
Specifies the password for the signing key.
It can be used with either the <code class="literal">--signing-key</code> or the <code class="literal">--signing-bundle</code> parameters.
</dd>
<dt>
<span class="term">
<code class="literal">--realm &lt;name&gt;</code>
</span>
</dt>
<dd>
Specifies the name of the realm for which the metadata
should be generated. This parameter is required if there is more than 1 <code class="literal">saml</code>
realm in your Elasticsearch configuration.
</dd>
<dt>
<span class="term">
<code class="literal">-s, --silent</code>
</span>
</dt>
<dd>
Shows minimal output.
</dd>
<dt>
<span class="term">
<code class="literal">-v, --verbose</code>
</span>
</dt>
<dd>
Shows verbose output.
</dd>
</dl>
</div>
<h3><a id="_examples_8"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/commands/saml-metadata.asciidoc">edit</a></h3>
<p>The following command generates a default metadata file for the <code class="literal">saml1</code> realm:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">bin/elasticsearch-saml-metadata --realm saml1</pre>
</div>
<p>The file will be written to <code class="literal">saml-elasticsearch-metadata.xml</code>.
You may be prompted to provide the "friendlyName" value for any attributes that
are used by the realm.</p>
<p>The following command generates a metadata file for the <code class="literal">saml2</code> realm, with a
<code class="literal">&lt;ServiceName&gt;</code> of <code class="literal">kibana-finance</code>, a locale of <code class="literal">en-GB</code> and includes
<code class="literal">&lt;ContactPerson&gt;</code> elements and an <code class="literal">&lt;Organization&gt;</code> element:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">bin/elasticsearch-saml-metadata --realm saml2 \
    --service-name kibana-finance \
    --locale en-GB \
    --contacts \
    --organisation-name "Mega Corp. Finance Team" \
    --organisation-url "http://mega.example.com/finance/"</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="node-tool.html">« elasticsearch-node</a>
</span>
<span class="next">
<a href="setup-passwords.html">elasticsearch-setup-passwords »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
