<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Close index API
        | Elasticsearch Reference [7.4]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [7.4]" /><link rel="up" href="indices.html" title="Index APIs" /><link rel="prev" href="indices-exists.html" title="Indices exists API" /><link rel="next" href="indices-open-close.html" title="Open index API" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.4" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="7.4" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [7.4]
    </a></span> » <span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span> » <span class="breadcrumb-link"><a href="indices.html">Index APIs</a></span> » <span class="breadcrumb-node">Close index API</span></div><div class="navheader"><span class="prev"><a href="indices-exists.html">
              « 
              Indices exists API</a>
           
        </span><span class="next">
           
          <a href="indices-open-close.html">Open index API
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="indices-close"></a>Close index API<a href="https://github.com/elastic/elasticsearch/edit/7.4/docs/reference/indices/close.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Closes an index.</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">POST /twitter/_close</pre></div><div class="console_widget" data-snippet="snippets/1367.console"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="close-index-api-request"></a>Request<a href="https://github.com/elastic/elasticsearch/edit/7.4/docs/reference/indices/close.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><code class="literal">POST /&lt;index&gt;/_close</code></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="close-index-api-desc"></a>Description<a href="https://github.com/elastic/elasticsearch/edit/7.4/docs/reference/indices/close.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>You use the close index API to close open indices.</p><p>A closed index is blocked for read/write operations and does not allow
all operations that opened indices allow. It is not possible to index
documents or to search for documents in a closed index. This allows
closed indices to not have to maintain internal data structures for
indexing or searching documents, resulting in a smaller overhead on
the cluster.</p><p>When opening or closing an index, the master is responsible for
restarting the index shards to reflect the new state of the index.
The shards will then go through the normal recovery process. The
data of opened/closed indices is automatically replicated by the
cluster to ensure that enough shard copies are safely kept around
at all times.</p><p>You can open and close multiple indices. An error is thrown
if the request explicitly refers to a missing index. This behaviour can be
disabled using the <code class="literal">ignore_unavailable=true</code> parameter.</p><p>All indices can be opened or closed at once using <code class="literal">_all</code> as the index name
or specifying patterns that identify them all (e.g. <code class="literal">*</code>).</p><p>Identifying indices via wildcards or <code class="literal">_all</code> can be disabled by setting the
<code class="literal">action.destructive_requires_name</code> flag in the config file to <code class="literal">true</code>.
This setting can also be changed via the cluster update settings api.</p><p>Closed indices consume a significant amount of disk-space which can cause problems in managed environments. Closing indices can be disabled via the cluster settings
API by setting <code class="literal">cluster.indices.close.enable</code> to <code class="literal">false</code>. The default is <code class="literal">true</code>.</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="_wait_for_active_shards"></a>Wait For active shards<a href="https://github.com/elastic/elasticsearch/edit/7.4/docs/reference/indices/open-close.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>Because opening or closing an index allocates its shards, the
<a class="link" href="indices-create-index.html#create-index-wait-for-active-shards" title="Wait For active shards"><code class="literal">wait_for_active_shards</code></a> setting on
index creation applies to the <code class="literal">_open</code> and <code class="literal">_close</code> index actions as well.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="close-index-api-path-params"></a>Path parameters<a href="https://github.com/elastic/elasticsearch/edit/7.4/docs/reference/indices/close.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">&lt;index&gt;</code></span></dt><dd><p class="simpara">(Optional, string) Comma-separated list or wildcard expression of index names
used to limit the request.</p><p class="simpara">To close all indices, use <code class="literal">_all</code> or <code class="literal">*</code>.
To disallow the closing of indices with <code class="literal">_all</code> or wildcard expressions,
change the <code class="literal">action.destructive_requires_name</code> cluster setting to <code class="literal">true</code>.
You can update this setting in the <code class="literal">elasticsearch.yml</code> file
or using the <a class="link" href="cluster-update-settings.html" title="Cluster Update Settings">cluster update settings</a> API.</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="close-index-api-query-params"></a>Query parameters<a href="https://github.com/elastic/elasticsearch/edit/7.4/docs/reference/indices/close.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">allow_no_indices</code></span></dt><dd><p class="simpara">(Optional, boolean) If <code class="literal">true</code>,
the request does <span class="strong strong"><strong>not</strong></span> return an error
if a wildcard expression
or <code class="literal">_all</code> value retrieves only missing or closed indices.</p><p class="simpara">This parameter also applies to <a class="link" href="indices-aliases.html" title="Update index alias API">index aliases</a>
that point to a missing or closed index.</p></dd><dt><span class="term"><code class="literal">expand_wildcards</code></span></dt><dd><p class="simpara">(Optional, string) Controls what kind of indices that wildcard
expressions can expand to. Valid values are:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">all</code></span></dt><dd>Expand to open and closed indices.</dd><dt><span class="term"><code class="literal">open</code></span></dt><dd>Expand only to open indices.</dd><dt><span class="term"><code class="literal">closed</code></span></dt><dd>Expand only to closed indices.</dd><dt><span class="term"><code class="literal">none</code></span></dt><dd>Wildcard expressions are not accepted.</dd></dl></div><p class="simpara">Defaults to <code class="literal">open</code>.</p></dd><dt><span class="term"><code class="literal">ignore_unavailable</code></span></dt><dd>(Optional, boolean) If <code class="literal">true</code>, missing or closed indices are not included in the
response. Defaults to <code class="literal">false</code>.</dd><dt><span class="term"><code class="literal">wait_for_active_shards</code></span></dt><dd><p class="simpara">(Optional, string) The number of shard copies that must be active before
proceeding with the operation. Set to <code class="literal">all</code> or any positive integer up
to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>).
Default: 1, the primary shard.</p><p class="simpara">See <a class="xref" href="docs-index_.html#index-wait-for-active-shards" title="Active shards">Active shards</a>.</p></dd><dt><span class="term"><code class="literal">timeout</code></span></dt><dd>(Optional, <a class="link" href="common-options.html#time-units" title="Time units">time units</a>) Specifies the period of time to wait for
a response. If no response is received before the timeout expires, the request
fails and returns an error. Defaults to <code class="literal">30s</code>.</dd><dt><span class="term"><code class="literal">master_timeout</code></span></dt><dd>(Optional, <a class="link" href="common-options.html#time-units" title="Time units">time units</a>) Specifies the period of time to wait for
a connection to the master node. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="close-index-api-example"></a>Examples<a href="https://github.com/elastic/elasticsearch/edit/7.4/docs/reference/indices/close.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The following example shows how to close an index:</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">POST /my_index/_close</pre></div><div class="console_widget" data-snippet="snippets/1368.console"></div><p>The API returns following response:</p><div class="pre_wrapper lang-js"><pre class="programlisting prettyprint lang-js">{
    "acknowledged" : true,
    "shards_acknowledged" : true,
    "indices" : {
        "my_index" : {
            "closed" : true
        }
    }
}</pre></div></div></div><div class="navfooter"><span class="prev"><a href="indices-exists.html">
              « 
              Indices exists API</a>
           
        </span><span class="next">
           
          <a href="indices-open-close.html">Open index API
               »
            </a></span></div>
                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
