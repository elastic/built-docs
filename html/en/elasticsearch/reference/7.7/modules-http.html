<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>HTTP | Elasticsearch Guide [7.7] | Elastic</title>
<meta class="elastic" name="content" content="HTTP | Elasticsearch Guide [7.7]">

<link rel="home" href="index.html" title="Elasticsearch Guide [7.7]"/>
<link rel="up" href="settings.html" title="Configuring Elasticsearch"/>
<link rel="prev" href="modules-fielddata.html" title="Field data cache settings"/>
<link rel="next" href="ilm-settings.html" title="Index lifecycle management settings in Elasticsearch"/>
<meta class="elastic" name="product_version" content="7.7"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.7"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.7"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="icon" href="/favicon.ico" sizes="32x32"/>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180"/>
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="modules-fielddata.html">« Field data cache settings</a>
</span>
<span class="next">
<a href="ilm-settings.html">Index lifecycle management settings in Elasticsearch »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="settings.html">Configuring Elasticsearch</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>HTTP</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/modules/http.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/reference/elasticsearch/configuration-reference/networking-settings">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="modules-http"></a>HTTP</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/modules/http.asciidoc">edit</a></div>
</div></div></div>
<p>The HTTP layer exposes Elasticsearch&#8217;s REST APIs over HTTP.</p>
<p>The HTTP mechanism is completely asynchronous in nature, meaning that
there is no blocking thread waiting for a response. The benefit of using
asynchronous communication for HTTP is solving the
<a href="http://en.wikipedia.org/wiki/C10k_problem" class="ulink" target="_top">C10k problem</a>.</p>
<p>When possible, consider using
<a href="http://en.wikipedia.org/wiki/Keepalive#HTTP_Keepalive" class="ulink" target="_top">HTTP keep alive</a>
when connecting for better performance and try to get your favorite
client not to do
<a href="http://en.wikipedia.org/wiki/Chunked_transfer_encoding" class="ulink" target="_top">HTTP chunking</a>.</p>
<div class="http-settings">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_http_settings"></a>HTTP settings</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/modules/http.asciidoc">edit</a></div>
</div></div></div>
<p>The settings in the table below can be configured for HTTP. Note that none of
them are dynamically updatable so for them to take effect they should be set in
the Elasticsearch <a class="xref" href="settings.html" title="Configuring Elasticsearch">configuration file</a>.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Setting</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">http.port</code></p></td>
<td align="left" valign="top"><p>A bind port range. Defaults to <code class="literal">9200-9300</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.publish_port</code></p></td>
<td align="left" valign="top"><p>The port that HTTP clients should use when
communicating with this node. Useful when a cluster node is behind a
proxy or firewall and the <code class="literal">http.port</code> is not directly addressable
from the outside. Defaults to the actual port assigned via <code class="literal">http.port</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.bind_host</code></p></td>
<td align="left" valign="top"><p>The host address to bind the HTTP service to. Defaults to <code class="literal">http.host</code> (if set) or <code class="literal">network.bind_host</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.publish_host</code></p></td>
<td align="left" valign="top"><p>The host address to publish for HTTP clients to connect to. Defaults to <code class="literal">http.host</code> (if set) or <code class="literal">network.publish_host</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.host</code></p></td>
<td align="left" valign="top"><p>Used to set the <code class="literal">http.bind_host</code> and the <code class="literal">http.publish_host</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.max_content_length</code></p></td>
<td align="left" valign="top"><p>The max content of an HTTP request. Defaults to
<code class="literal">100mb</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.max_initial_line_length</code></p></td>
<td align="left" valign="top"><p>The max length of an HTTP URL. Defaults
to <code class="literal">4kb</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.max_header_size</code></p></td>
<td align="left" valign="top"><p>The max size of allowed headers.  Defaults to <code class="literal">8kB</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.compression</code></p></td>
<td align="left" valign="top"><p>Support for compression when possible (with
Accept-Encoding). If HTTPS is enabled, defaults to <code class="literal">false</code>. Otherwise, defaults
to <code class="literal">true</code>.</p>
<p>Disabling compression for HTTPS mitigates potential security risks, such as a
<a href="https://en.wikipedia.org/wiki/BREACH" class="ulink" target="_top">BREACH attack</a>. To compress HTTPS traffic,
you must explicitly set <code class="literal">http.compression</code> to <code class="literal">true</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.compression_level</code></p></td>
<td align="left" valign="top"><p>Defines the compression level to use for HTTP responses. Valid values are in the range of 1 (minimum compression)
and 9 (maximum compression). Defaults to <code class="literal">3</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.cors.enabled</code></p></td>
<td align="left" valign="top"><p>Enable or disable cross-origin resource sharing,
i.e. whether a browser on another origin can execute requests against
Elasticsearch. Set to <code class="literal">true</code> to enable Elasticsearch to process pre-flight
<a href="https://en.wikipedia.org/wiki/Cross-origin_resource_sharing" class="ulink" target="_top">CORS</a> requests.
Elasticsearch will respond to those requests with the <code class="literal">Access-Control-Allow-Origin</code> header
if the <code class="literal">Origin</code> sent in the request is permitted by the <code class="literal">http.cors.allow-origin</code>
list. Set to <code class="literal">false</code> (the default) to make Elasticsearch ignore the <code class="literal">Origin</code>
request header, effectively disabling CORS requests because Elasticsearch will
never respond with the <code class="literal">Access-Control-Allow-Origin</code> response header. Note that
if the client does not send a pre-flight request with an <code class="literal">Origin</code> header or it
does not check the response headers from the server to validate the
<code class="literal">Access-Control-Allow-Origin</code> response header, then cross-origin security is
compromised. If CORS is not enabled on Elasticsearch, the only way for the client
to know is to send a pre-flight request and realize the required response headers
are missing.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.cors.allow-origin</code></p></td>
<td align="left" valign="top"><p>Which origins to allow. Defaults to no origins
allowed. If you prepend and append a <code class="literal">/</code> to the value, this will
be treated as a regular expression, allowing you to support HTTP and HTTPs.
for example using <code class="literal">/https?:\/\/localhost(:[0-9]+)?/</code> would return the
request header appropriately in both cases. <code class="literal">*</code> is a valid value but is
considered a <span class="strong strong"><strong>security risk</strong></span> as your Elasticsearch instance is open to cross origin
requests from <span class="strong strong"><strong>anywhere</strong></span>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.cors.max-age</code></p></td>
<td align="left" valign="top"><p>Browsers send a "preflight" OPTIONS-request to
determine CORS settings. <code class="literal">max-age</code> defines how long the result should
be cached for. Defaults to <code class="literal">1728000</code> (20 days)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.cors.allow-methods</code></p></td>
<td align="left" valign="top"><p>Which methods to allow. Defaults to
<code class="literal">OPTIONS, HEAD, GET, POST, PUT, DELETE</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.cors.allow-headers</code></p></td>
<td align="left" valign="top"><p>Which headers to allow. Defaults to
<code class="literal">X-Requested-With, Content-Type, Content-Length</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.cors.allow-credentials</code></p></td>
<td align="left" valign="top"><p>Whether the <code class="literal">Access-Control-Allow-Credentials</code>
header should be returned. Note: This header is only returned, when the setting is
set to <code class="literal">true</code>. Defaults to <code class="literal">false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.detailed_errors.enabled</code></p></td>
<td align="left" valign="top"><p>Enables or disables the output of detailed error messages
and stack traces in response output. Note: When set to <code class="literal">false</code> and the <code class="literal">error_trace</code> request
parameter is specified, an error will be returned; when <code class="literal">error_trace</code> is not specified, a
simple message will be returned. Defaults to <code class="literal">true</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.pipelining.max_events</code></p></td>
<td align="left" valign="top"><p>The maximum number of events to be queued up in memory before an HTTP connection is closed, defaults to <code class="literal">10000</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.max_warning_header_count</code></p></td>
<td align="left" valign="top"><p>The maximum number of warning headers in
 client HTTP responses, defaults to unbounded.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.max_warning_header_size</code></p></td>
<td align="left" valign="top"><p>The maximum total size of warning headers in
client HTTP responses, defaults to unbounded.</p></td>
</tr>
</tbody>
</table>
</div>
<p>It also uses the common
<a class="xref" href="modules-network.html" title="Network settings">network settings</a>.</p>
</div>

<div class="http-rest-request-tracer">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_rest_request_tracer"></a>REST request tracer</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.7/docs/reference/modules/http.asciidoc">edit</a></div>
</div></div></div>
<p>The HTTP layer has a dedicated tracer logger which, when activated, logs incoming requests. The log can be dynamically activated
by setting the level of the <code class="literal">org.elasticsearch.http.HttpTracer</code> logger to <code class="literal">TRACE</code>:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT _cluster/settings
{
   "transient" : {
      "logger.org.elasticsearch.http.HttpTracer" : "TRACE"
   }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/25.console"></div>
<p>You can also control which uris will be traced, using a set of include and exclude wildcard patterns. By default every request will be
traced.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT _cluster/settings
{
   "transient" : {
      "http.tracer.include" : "*",
      "http.tracer.exclude" : ""
   }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/26.console"></div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="modules-fielddata.html">« Field data cache settings</a>
</span>
<span class="next">
<a href="ilm-settings.html">Index lifecycle management settings in Elasticsearch »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
