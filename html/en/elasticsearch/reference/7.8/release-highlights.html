<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>What&#8217;s new in 7.8 | Elasticsearch Reference [7.8] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.8]"/>
<link rel="up" href="index.html" title="Elasticsearch Reference [7.8]"/>
<link rel="prev" href="scalability.html" title="Scalability and resilience: clusters, nodes, and shards"/>
<link rel="next" href="getting-started.html" title="Getting started with Elasticsearch"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.8"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.8"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.8]</a></span>
»
<span class="breadcrumb-node">What&#8217;s new in 7.8</span>
</div>
<div class="navheader">
<span class="prev">
<a href="scalability.html">« Scalability and resilience: clusters, nodes, and shards</a>
</span>
<span class="next">
<a href="getting-started.html">Getting started with Elasticsearch »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="release-highlights"></a>What&#8217;s new in 7.8<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h1>
</div></div></div>
<p>Here are the highlights of what&#8217;s new and improved in Elasticsearch 7.8!
For detailed information about this release, see the
<a class="xref" href="release-notes-7.8.1.html" title="Elasticsearch version 7.8.1">Release notes </a>  and
<a class="xref" href="breaking-changes-7.8.html" title="Breaking changes in 7.8">Breaking changes</a>.</p>
<p>Other versions:
<a href="/guide/en/elasticsearch/reference/7.7/release-highlights.html" class="ulink" target="_top">7.7</a>
| <a href="/guide/en/elasticsearch/reference/7.6/release-highlights-7.6.0.html" class="ulink" target="_top">7.6</a>
| <a href="/guide/en/elasticsearch/reference/7.5/release-highlights-7.5.0.html" class="ulink" target="_top">7.5</a>
| <a href="/guide/en/elasticsearch/reference/7.4/release-highlights-7.4.0.html" class="ulink" target="_top">7.4</a>
| <a href="/guide/en/elasticsearch/reference/7.3/release-highlights-7.3.0.html" class="ulink" target="_top">7.3</a>
| <a href="/guide/en/elasticsearch/reference/7.2/release-highlights-7.2.0.html" class="ulink" target="_top">7.2</a>
| <a href="/guide/en/elasticsearch/reference/7.1/release-highlights-7.1.0.html" class="ulink" target="_top">7.1</a>
| <a href="/guide/en/elasticsearch/reference/7.0/release-highlights-7.0.0.html" class="ulink" target="_top">7.0</a></p>
<h3><a id="add-composable-index-templates"></a>Composable index templates<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Index templates are an easy, repeatable way to configure mappings, index
settings, and aliases for new indices. However, in previous versions, you had to
define these configurations directly in the template. Managing multiple
templates often meant copying similar configurations across templates.</p>
<p>In 7.8, we added a more modular version of index templates called composable
index templates. You can still define configurations directly in these
templates. However, composable index templates can also contain component
templates. Also added in 7.8, component templates are reusable configurations
for mappings, index settings, and aliases. With a component template, you can
define a configuration once and reuse it across multiple index templates. If you
later need to change the configuration, you only need to change its component
template.</p>
<p>Composable index templates replace the previous version of index templates,
which are now deprecated. If an index matches both a composable template and a
legacy index template, Elasticsearch uses the composable template.</p>
<p>To get started with composable index templates, see
<a href="/guide/en/elasticsearch/reference/7.8/index-templates.html" class="ulink" target="_top">Index templates</a>.</p>
<h3><a id="_geo_improvements"></a>Geo improvements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>We have made several improvements to geo support in Elasticsearch 7.8.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You can now run an aggregation that finds the bounding box (top left point and
bottom right point) that contains all shapes matching a query. A shape is
anything that is defined by multiple points. See
<a href="/guide/en/elasticsearch/reference/7.8/search-aggregations-metrics-geobounds-aggregation.html" class="ulink" target="_top">Geo Bounds Aggregations</a>.
</li>
<li class="listitem">
<a href="/guide/en/elasticsearch/reference/7.8/search-aggregations-bucket-geohashgrid-aggregation.html" class="ulink" target="_top">GeoHash grid aggregations</a>
and <a href="/guide/en/elasticsearch/reference/7.8/search-aggregations-bucket-geotilegrid-aggregation.html" class="ulink" target="_top">map tile grid aggregations</a>
allow you to group geo_points into buckets.
</li>
<li class="listitem">
<a href="/guide/en/elasticsearch/reference/7.8/search-aggregations-metrics-geocentroid-aggregation.html" class="ulink" target="_top">Geo centroid aggregations</a>
allow you to compute the weighted <a href="https://en.wikipedia.org/wiki/Centroid" class="ulink" target="_top">centroid</a>
from all coordinate values for a geo_point field.
</li>
</ul>
</div>
<h3><a id="_add_support_for_t_test_aggregations"></a>Add support for t-test aggregations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Elasticsearch now supports a <code class="literal">t_test</code> metrics
aggregation, which performs a statistical hypothesis test in which the test
statistic follows a
<a href="https://en.wikipedia.org/wiki/Student%27s_t-distribution" class="ulink" target="_top">Student’s
t-distribution</a> under the null hypothesis on numeric values extracted from
the aggregated documents or generated by provided scripts. In practice,
this will tell you if the difference between two population means are
statistically significant and did not occur by chance alone. See
<a href="/guide/en/elasticsearch/reference/7.8/search-aggregations-metrics-ttest-aggregation.html" class="ulink" target="_top">T-Test Aggregation</a>.</p>
<h3><a id="_expose_aggregation_usage_in_feature_usage_api"></a>Expose aggregation usage in feature usage API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>It is now possible to fetch a count of aggregations that have been executed
via the <a href="/guide/en/elasticsearch/reference/7.8/cluster-nodes-usage.html" class="ulink" target="_top">node features API</a>. This is broken down per
combination of aggregation and data type, per shard on each node, from the
last restart until the time when the counts are fetched. When trying to
analyze how Elasticsearch is being used in practice, it is useful to know
the usage distribution across aggregations and field types. For example,
you might be able to conclude that a certain part of an index is not used a
lot and could perhaps can be eliminated.</p>
<h3><a id="_support_value_count_and_avg_aggregations_over_histogram_fields"></a>Support <code class="literal">value_count</code> and <code class="literal">avg</code> aggregations over histogram fields<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Elasticsearch now implements <code class="literal">value_count</code> and <code class="literal">avg</code> aggregations over histogram
fields.</p>
<p>When the <code class="literal">value_count</code> aggregation is computed on <a href="/guide/en/elasticsearch/reference/7.8/histogram.html" class="ulink" target="_top">histogram
fields</a>, the result of the aggregation is the sum of all numbers in the
<code class="literal">counts</code> array of the histogram.</p>
<p>When the average is computed on histogram fields, the result of the
aggregation is the weighted average of all elements in the <code class="literal">values</code> array
taking into consideration the number in the same position in the <code class="literal">counts</code>
array.</p>
<h3><a id="_reduce_aggregation_memory_consumption"></a>Reduce aggregation memory consumption<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Elasticsearch now attempts to save memory on the coordinating node by delaying
deserialization of the shard results for an aggregation until the last
second. This is helpful as it makes the shard-aggregations results "short
lived" garbage. It also should shrink the memory usage of aggregations when
they are waiting to be merged.</p>
<p>Additionally, when the search is in batched reduce mode, Elasticsearch will force
the results to be serialized between batch reduces in an attempt to keep
the memory usage as low as possible between reductions.</p>
<h3><a id="_scalar_functions_now_supported_in_sql_aggregations"></a>Scalar functions now supported in SQL aggregations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>When querying Elasticsearch using SQL, it is now possible to use scalar functions
inside aggregations. This allows for more complex expressions, including
within <code class="literal">GROUP BY</code> or <code class="literal">HAVING</code> clauses. For example:</p>
<div class="pre_wrapper lang-sql">
<pre class="programlisting prettyprint lang-sql">SELECT
  MAX(CASE WHEN a IS NULL then -1 ELSE abs(a * 10) + 1 END) AS max,
  b
FROM test
GROUP BY b
HAVING
  MAX(CASE WHEN a IS NULL then -1 ELSE abs(a * 10) + 1 END) &gt; 5</pre>
</div>
<h3><a id="release-highlights-7.8.0-throttling"></a>Increase the performance and scalability of transforms with throttling<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Transforms achieved GA status in 7.7 and now in 7.8 they are even better
with the introduction of
<a href="/guide/en/elasticsearch/reference/7.8/transform-overview.html#transform-performance" class="ulink" target="_top">throttling</a>. You can spread
out the impact of the transforms on your cluster by defining the rate at which
they perform search and index requests. Set the <code class="literal">docs_per_second</code> limit when you
create or update your transform.</p>
<h3><a id="release-highlights-7.8.0-mml"></a>Better estimates for machine learning model memory usage<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>For 7.8, we introduce dynamic estimation of the model memory limit for jobs in
<a href="/guide/en/machine-learning/7.8/ootb-ml-jobs.html" class="ulink" target="_top">ML solution modules</a>. The estimate is generated
during the job creation. It uses a calculation based on the specific detectors
of the job and the cardinality of the partitioning and influencer fields. It
means the job setup has better default values depending on the size of the data
being analyzed.</p>
<h3><a id="release-highlights-7.8.0-loss-functions"></a>Additional loss functions for regression<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p><a href="/guide/en/machine-learning/7.8/dfa-regression.html#dfa-regression-lossfunction" class="ulink" target="_top">Loss functions</a>
measure how well a machine learning model fits a specific data set. In 7.8, we added two new
loss functions for regression analysis. In addition to the existing mean
squared error function, there are now mean squared logarithmic error and
Pseudo-Huber loss functions. These additions enable you to choose the
loss function that fits best with your data set.</p>
<h3><a id="release-highlights-7.8.0-data-visualizer"></a>Extended upload limit and explanations for Data Visualizer<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>You can now upload files up to 1 GB in Data Visualizer. The file structure
finder functionality of the Data Visualizer provides more detailed explanations
after both successful and unsuccessful analysis which makes it easier to
diagnose issues with file upload.</p>
<h4><a id="release-highlights-7.8.1-ccr-out-of-memory-fix"></a>Fixed out-of-memory error when using cross-cluster replication with large documents<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h4>
<p>A bug caused cross-cluster replication to use more memory than configured with large documents,
which could cause memory pressure or even out-of-memory errors in some cases.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="scalability.html">« Scalability and resilience: clusters, nodes, and shards</a>
</span>
<span class="next">
<a href="getting-started.html">Getting started with Elasticsearch »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
