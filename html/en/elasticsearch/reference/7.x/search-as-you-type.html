<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Search as you type datatype
        | Elasticsearch Reference [7.x]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [7.x]" /><link rel="up" href="mapping-types.html" title="Field datatypes" /><link rel="prev" href="sparse-vector.html" title="Sparse vector datatype" /><link rel="next" href="mapping-fields.html" title="Meta-Fields" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.x" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="7.x" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [7.x]
    </a></span> » <span class="breadcrumb-link"><a href="mapping.html">Mapping</a></span> » <span class="breadcrumb-link"><a href="mapping-types.html">Field datatypes</a></span> » <span class="breadcrumb-node">Search as you type datatype</span></div><div class="navheader"><span class="prev"><a href="sparse-vector.html">
              « 
              Sparse vector datatype</a>
           
        </span><span class="next">
           
          <a href="mapping-fields.html">Meta-Fields
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="search-as-you-type"></a>Search as you type datatype<a href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/mapping/types/search-as-you-type.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>The <code class="literal">search_as_you_type</code> field type is a text-like field that is optimized to
provide out-of-the-box support for queries that serve an as-you-type completion
use case. It creates a series of subfields that are analyzed to index terms
that can be efficiently matched by a query that partially matches the entire
indexed text value. Both prefix completion (i.e matching terms starting at the
beginning of the input) and infix completion (i.e. matching terms at any
position within the input) are supported.</p><p>When adding a field of this type to a mapping</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-console">PUT my_index
{
  "mappings": {
    "properties": {
      "my_field": {
        "type": "search_as_you_type"
      }
    }
  }
}</pre></div><div class="console_widget" data-snippet="snippets/1134.console"></div><p>This creates the following fields</p><div class="informaltable"><table cellpadding="4px" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p><code class="literal">my_field</code></p>
</td><td valign="top">
<p>Analyzed as configured in the mapping. If an analyzer is not configured,
the default analyzer for the index is used</p>
</td></tr><tr><td valign="top">
<p><code class="literal">my_field._2gram</code></p>
</td><td valign="top">
<p>Wraps the analyzer of <code class="literal">my_field</code> with a shingle token filter of shingle
size 2</p>
</td></tr><tr><td valign="top">
<p><code class="literal">my_field._3gram</code></p>
</td><td valign="top">
<p>Wraps the analyzer of <code class="literal">my_field</code> with a shingle token filter of shingle
size 3</p>
</td></tr><tr><td valign="top">
<p><code class="literal">my_field._index_prefix</code></p>
</td><td valign="top">
<p>Wraps the analyzer of <code class="literal">my_field._3gram</code> with an edge ngram token filter</p>
</td></tr></tbody></table></div><p>The size of shingles in subfields can be configured with the <code class="literal">max_shingle_size</code>
mapping parameter. The default is 3, and valid values for this parameter are
integer values 2 - 4 inclusive. Shingle subfields will be created for each
shingle size from 2 up to and including the <code class="literal">max_shingle_size</code>. The
<code class="literal">my_field._index_prefix</code> subfield will always use the analyzer from the shingle
subfield with the <code class="literal">max_shingle_size</code> when constructing its own analyzer.</p><p>Increasing the <code class="literal">max_shingle_size</code> will improve matches for queries with more
consecutive terms, at the cost of larger index size. The default
<code class="literal">max_shingle_size</code> should usually be sufficient.</p><p>The same input text is indexed into each of these fields automatically, with
their differing analysis chains, when an indexed document has a value for the
root field <code class="literal">my_field</code>.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-console">PUT my_index/_doc/1?refresh
{
  "my_field": "quick brown fox jump lazy dog"
}</pre></div><div class="console_widget" data-snippet="snippets/1135.console"></div><p>The most efficient way of querying to serve a search-as-you-type use case is
usually a <a class="link" href="query-dsl-multi-match-query.html" title="Multi Match Query"><code class="literal">multi_match</code></a> query of type
<a class="link" href="query-dsl-match-bool-prefix-query.html" title="Match Bool Prefix Query"><code class="literal">bool_prefix</code></a> that targets the root
<code class="literal">search_as_you_type</code> field and its shingle subfields. This can match the query
terms in any order, but will score documents higher if they contain the terms
in order in a shingle subfield.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-console">GET my_index/_search
{
  "query": {
    "multi_match": {
      "query": "brown f",
      "type": "bool_prefix",
      "fields": [
        "my_field",
        "my_field._2gram",
        "my_field._3gram"
      ]
    }
  }
}</pre></div><div class="console_widget" data-snippet="snippets/1136.console"></div><div class="pre_wrapper"><pre class="programlisting prettyprint lang-js">{
  "took" : 44,
  "timed_out" : false,
  "_shards" : {
    "total" : 1,
    "successful" : 1,
    "skipped" : 0,
    "failed" : 0
  },
  "hits" : {
    "total" : {
      "value" : 1,
      "relation" : "eq"
    },
    "max_score" : 0.8630463,
    "hits" : [
      {
        "_index" : "my_index",
        "_type" : "_doc",
        "_id" : "1",
        "_score" : 0.8630463,
        "_source" : {
          "my_field" : "quick brown fox jump lazy dog"
        }
      }
    ]
  }
}</pre></div><p>To search for documents that strictly match the query terms in order, or to
search using other properties of phrase queries, use a
<a class="link" href="query-dsl-match-query-phrase-prefix.html" title="Match Phrase Prefix Query"><code class="literal">match_phrase_prefix</code> query</a> on the root
field. A <a class="link" href="query-dsl-match-query-phrase.html" title="Match Phrase Query"><code class="literal">match_phrase</code> query</a> can also be used
if the last term should be matched exactly, and not as a prefix. Using phrase
queries may be less efficient than using the <code class="literal">match_bool_prefix</code> query.</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-console">GET my_index/_search
{
  "query": {
    "match_phrase_prefix": {
      "my_field": "brown f"
    }
  }
}</pre></div><div class="console_widget" data-snippet="snippets/1137.console"></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="specific-params"></a>Parameters specific to the <code class="literal">search_as_you_type</code> field<a href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/mapping/types/search-as-you-type.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The following parameters are accepted in a mapping for the <code class="literal">search_as_you_type</code>
field and are specific to this field type</p><div class="informaltable"><table cellpadding="4px" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p><code class="literal">max_shingle_size</code></p>
</td><td valign="top">
<p>The largest shingle size to index the input with and create subfields for,
creating one subfield for each shingle size between 2 and
<code class="literal">max_shingle_size</code>. Accepts integer values between 2 and 4 inclusive. This
option defaults to 3.</p>
</td></tr></tbody></table></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="general-params"></a>Parameters of the field type as a text field<a href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/mapping/types/search-as-you-type.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>The following parameters are accepted in a mapping for the <code class="literal">search_as_you_type</code>
field due to its nature as a text-like field, and behave similarly to their
behavior when configuring a field of the <a class="link" href="text.html" title="Text datatype"><code class="literal">text</code></a> datatype. Unless
otherwise noted, these options configure the root fields subfields in
the same way.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><a class="link" href="analyzer.html" title="analyzer"><code class="literal">analyzer</code></a></span></dt><dd>The <a class="link" href="analysis.html" title="Analysis">analyzer</a> which should be used for
<a class="link" href="mapping-index.html" title="index"><code class="literal">analyzed</code></a> string fields, both at index-time and at
search-time (unless overridden by the
<a class="link" href="search-analyzer.html" title="search_analyzer"><code class="literal">search_analyzer</code></a>). Defaults to the default index
analyzer, or the <a class="link" href="analysis-standard-analyzer.html" title="Standard Analyzer"><code class="literal">standard</code> analyzer</a>.</dd><dt><span class="term"><a class="link" href="mapping-index.html" title="index"><code class="literal">index</code></a></span></dt><dd>Should the field be searchable? Accepts <code class="literal">true</code> (default) or <code class="literal">false</code>.</dd><dt><span class="term"><a class="link" href="index-options.html" title="index_options"><code class="literal">index_options</code></a></span></dt><dd>What information should be stored in the index, for search and highlighting
purposes. Defaults to <code class="literal">positions</code>.</dd><dt><span class="term"><a class="link" href="norms.html" title="norms"><code class="literal">norms</code></a></span></dt><dd>Whether field-length should be taken into account when scoring queries.
Accepts <code class="literal">true</code> or <code class="literal">false</code>. This option configures the root field
and shingle subfields, where its default is <code class="literal">true</code>. It does not configure
the prefix subfield, where it it <code class="literal">false</code>.</dd><dt><span class="term"><a class="link" href="mapping-store.html" title="store"><code class="literal">store</code></a></span></dt><dd>Whether the field value should be stored and retrievable separately from
the <a class="link" href="mapping-source-field.html" title="_source field"><code class="literal">_source</code></a> field. Accepts <code class="literal">true</code> or <code class="literal">false</code>
(default). This option only configures the root field, and does not
configure any subfields.</dd><dt><span class="term"><a class="link" href="search-analyzer.html" title="search_analyzer"><code class="literal">search_analyzer</code></a></span></dt><dd>The <a class="link" href="analyzer.html" title="analyzer"><code class="literal">analyzer</code></a> that should be used at search time on
<a class="link" href="mapping-index.html" title="index"><code class="literal">analyzed</code></a> fields. Defaults to the <code class="literal">analyzer</code> setting.</dd><dt><span class="term"><a class="link" href="analyzer.html#search-quote-analyzer" title="search_quote_analyzer"><code class="literal">search_quote_analyzer</code></a></span></dt><dd>The <a class="link" href="analyzer.html" title="analyzer"><code class="literal">analyzer</code></a> that should be used at search time when a
phrase is encountered. Defaults to the <code class="literal">search_analyzer</code> setting.</dd><dt><span class="term"><a class="link" href="similarity.html" title="similarity"><code class="literal">similarity</code></a></span></dt><dd>Which scoring algorithm or <span class="emphasis"><em>similarity</em></span> should be used. Defaults
to <code class="literal">BM25</code>.</dd><dt><span class="term"><a class="link" href="term-vector.html" title="term_vector"><code class="literal">term_vector</code></a></span></dt><dd>Whether term vectors should be stored for an <a class="link" href="mapping-index.html" title="index"><code class="literal">analyzed</code></a>
field. Defaults to <code class="literal">no</code>. This option configures the root field and shingle
subfields, but not the prefix subfield.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="prefix-queries"></a>Optimization of prefix queries<a href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/mapping/types/search-as-you-type.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>When making a <a class="link" href="query-dsl-prefix-query.html" title="Prefix Query"><code class="literal">prefix</code></a> query to the root field or
any of its subfields, the query will be rewritten to a
<a class="link" href="query-dsl-term-query.html" title="Term Query"><code class="literal">term</code></a> query on the <code class="literal">._index_prefix</code> subfield. This
matches more efficiently than is typical of <code class="literal">prefix</code> queries on text fields,
as prefixes up to a certain length of each shingle are indexed directly as
terms in the <code class="literal">._index_prefix</code> subfield.</p><p>The analyzer of the <code class="literal">._index_prefix</code> subfield slightly modifies the
shingle-building behavior to also index prefixes of the terms at the end of the
field’s value that normally would not be produced as shingles. For example, if
the value <code class="literal">quick brown fox</code> is indexed into a <code class="literal">search_as_you_type</code> field with
<code class="literal">max_shingle_size</code> of 3, prefixes for <code class="literal">brown fox</code> and <code class="literal">fox</code> are also indexed
into the <code class="literal">._index_prefix</code> subfield even though they do not appear as terms in
the <code class="literal">._3gram</code> subfield. This allows for completion of all the terms in the
field’s input.</p></div></div><div class="navfooter"><span class="prev"><a href="sparse-vector.html">
              « 
              Sparse vector datatype</a>
           
        </span><span class="next">
           
          <a href="mapping-fields.html">Meta-Fields
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
