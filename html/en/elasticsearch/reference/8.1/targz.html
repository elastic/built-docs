<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Install Elasticsearch from archive on Linux or MacOS | Elasticsearch Guide [8.1] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [8.1]"/>
<link rel="up" href="install-elasticsearch.html" title="Installing Elasticsearch"/>
<link rel="prev" href="install-elasticsearch.html" title="Installing Elasticsearch"/>
<link rel="next" href="zip-windows.html" title="Install Elasticsearch with .zip on Windows"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.1"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.1"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.1]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="install-elasticsearch.html">Installing Elasticsearch</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="install-elasticsearch.html">« Installing Elasticsearch</a>
</span>
<span class="next">
<a href="zip-windows.html">Install Elasticsearch with <code class="literal">.zip</code> on Windows »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="targz"></a>Install Elasticsearch from archive on Linux or MacOS<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/targz.asciidoc">edit</a></h2>
</div></div></div>
<p>Elasticsearch is available as a <code class="literal">.tar.gz</code> archive for Linux and MacOS.</p>
<p>This package contains both free and subscription features.
<a class="xref" href="license-settings.html" title="License settings">Start a 30-day trial</a> to try out all of the features.</p>
<p>The latest stable version of Elasticsearch can be found on the
<a href="/downloads/elasticsearch" class="ulink" target="_top">Download Elasticsearch</a> page.
Other versions can be found on the
<a href="/downloads/past-releases" class="ulink" target="_top">Past Releases page</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch includes a bundled version of <a href="https://openjdk.java.net" class="ulink" target="_top">OpenJDK</a>
from the JDK maintainers (GPLv2+CE). To use your own version of Java,
see the <a class="xref" href="setup.html#jvm-version" title="Java (JVM) Version">JVM version requirements</a></p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-linux"></a>Download and install archive for Linux<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/targz.asciidoc">edit</a></h3>
</div></div></div>
<p>The Linux archive for Elasticsearch v8.1.3 can be downloaded and installed as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.1.3-linux-x86_64.tar.gz
wget https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.1.3-linux-x86_64.tar.gz.sha512
shasum -a 512 -c elasticsearch-8.1.3-linux-x86_64.tar.gz.sha512 <a id="CO1-1"></a><i class="conum" data-value="1"></i>
tar -xzf elasticsearch-8.1.3-linux-x86_64.tar.gz
cd elasticsearch-8.1.3/ <a id="CO1-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Compares the SHA of the downloaded <code class="literal">.tar.gz</code> archive and the published checksum, which should output
<code class="literal">elasticsearch-{version}-linux-x86_64.tar.gz: OK</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>This directory is known as <code class="literal">$ES_HOME</code>.</p>
</td>
</tr>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-macos"></a>Download and install archive for MacOS<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/targz.asciidoc">edit</a></h3>
</div></div></div>
<p>The MacOS archive for Elasticsearch v8.1.3 can be downloaded and installed as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -O https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.1.3-darwin-x86_64.tar.gz
curl https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-8.1.3-darwin-x86_64.tar.gz.sha512 | shasum -a 512 -c - <a id="CO2-1"></a><i class="conum" data-value="1"></i>
tar -xzf elasticsearch-8.1.3-darwin-x86_64.tar.gz
cd elasticsearch-8.1.3/ <a id="CO2-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Compares the SHA of the downloaded <code class="literal">.tar.gz</code> archive and the published checksum, which should output
<code class="literal">elasticsearch-{version}-darwin-x86_64.tar.gz: OK</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>This directory is known as <code class="literal">$ES_HOME</code>.</p>
</td>
</tr>
</table>
</div>
</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="targz-enable-indices"></a>Enable automatic creation of system indices<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/targz.asciidoc">edit</a></h3>
</div></div></div>
<p>Some commercial features automatically create indices within Elasticsearch.
By default, Elasticsearch is configured to allow automatic index creation, and no
additional steps are required. However, if you have disabled automatic index
creation in Elasticsearch, you must configure
<a class="xref" href="docs-index_.html#index-creation" title="Automatically create data streams and indices"><code class="literal">action.auto_create_index</code></a> in <code class="literal">elasticsearch.yml</code> to allow
the commercial features to create the following indices:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">action.auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are using <a href="/products/logstash" class="ulink" target="_top">Logstash</a>
or <a href="/products/beats" class="ulink" target="_top">Beats</a> then you will most likely
require additional index names in your <code class="literal">action.auto_create_index</code> setting, and
the exact value will depend on your local configuration. If you are unsure of
the correct value for your environment, you may consider setting the value to
 <code class="literal">*</code> which will allow automatic creation of all indices.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="targz-running"></a>Run Elasticsearch from the command line<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/targz-start.asciidoc">edit</a></h3>
</div></div></div>
<p>Run the following command to start Elasticsearch from the command line:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./bin/elasticsearch</pre>
</div>
<p>When starting Elasticsearch for the first time, security features are enabled and
configured by default. The following security configuration occurs
automatically:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Authentication and authorization are enabled, and a password is generated for
the <code class="literal">elastic</code> built-in superuser.
</li>
<li class="listitem">
Certificates and keys for TLS are generated for the transport and HTTP layer,
and TLS is enabled and configured with these keys and certificates.
</li>
<li class="listitem">
An enrollment token is generated for Kibana, which is valid for 30 minutes.
</li>
</ul>
</div>
<p>The password for the <code class="literal">elastic</code> user and the enrollment token for Kibana are
output to your terminal. For example:</p>
<div class="pre_wrapper lang-sh exclude">
<pre class="programlisting prettyprint lang-sh exclude">The generated password for the elastic built-in superuser is:
&lt;password&gt;

The enrollment token for Kibana instances, valid for the next 30 minutes:
&lt;enrollment-token&gt;

The hex-encoded SHA-256 fingerprint of the generated HTTPS CA DER-encoded certificate:
&lt;fingerprint&gt;

You can complete the following actions at any time:
Reset the password of the elastic built-in superuser with
'bin/elasticsearch-reset-password -u elastic'.

Generate an enrollment token for Kibana instances with
'bin/elasticsearch-create-enrollment-token -s kibana'.

Generate an enrollment token for Elasticsearch nodes with
'bin/elasticsearch-create-enrollment-token -s node'.</pre>
</div>
<p>If you have password-protected the Elasticsearch keystore, you will be prompted
to enter the keystore&#8217;s password. See <a class="xref" href="secure-settings.html" title="Secure settings">Secure settings</a> for more
details.</p>
<p>By default Elasticsearch prints its logs to the console (<code class="literal">stdout</code>) and to the <code class="literal">&lt;cluster
name&gt;.log</code> file within the <a class="xref" href="important-settings.html#path-settings" title="Path settings">logs directory</a>. Elasticsearch logs some
information while it is starting, but after it has finished initializing it
will continue to run in the foreground and won&#8217;t log anything further until
something happens that is worth recording. While Elasticsearch is running you can
interact with it through its HTTP interface which is on port <code class="literal">9200</code> by default.</p>
<p>To stop Elasticsearch, press <code class="literal">Ctrl-C</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>All scripts packaged with Elasticsearch require a version of Bash
that supports arrays and assume that Bash is available at <code class="literal">/bin/bash</code>.
As such, Bash should be available at this path either directly or via a
symbolic link.</p>
</div>
</div>
<h4><a id="_enroll_nodes_in_an_existing_cluster"></a>Enroll nodes in an existing cluster<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/targz-start.asciidoc">edit</a></h4>
<p class="exclude">When Elasticsearch starts for the first time, the security auto-configuration process
binds the HTTP layer to both <code class="literal">_site_</code> and <code class="literal">_local_</code>, but only binds the
transport layer to <code class="literal">_local_</code>. This intended behavior ensures that you can start
a single-node cluster with security enabled by default without any additional
configuration.</p>
<p>Before enrolling a new node, additional actions such as binding to an address
other than <code class="literal">localhost</code> or satisfying bootstrap checks are typically necessary
in production clusters. During that time, an auto-generated enrollment token
could expire, which is why enrollment tokens aren&#8217;t generated automatically.</p>
<p>Additionally, only nodes on the same host can join the cluster without
additional configuration. If you want nodes from another host to join your
cluster, you need to set <code class="literal">transport.host</code> to a
<a href="/guide/en/elasticsearch/reference/8.1/modules-network.html#network-interface-values" class="ulink" target="_top">supported value</a> other than
<code class="literal">_local_</code> (such as <code class="literal">_site_</code>), or an IP address that&#8217;s bound to an interface
where other hosts can reach it. Refer to
<a href="/guide/en/elasticsearch/reference/8.1/modules-network.html#transport-settings" class="ulink" target="_top">transport settings</a> for more
information.</p>
<p>To enroll new nodes in your cluster, create an enrollment token with the
<code class="literal">elasticsearch-create-enrollment-token</code> tool on any existing node in your
cluster. You can then start a new node with the <code class="literal">--enrollment-token</code> parameter
so that it joins an existing cluster.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>In a separate terminal from where Elasticsearch is running, navigate to the directory
where you installed Elasticsearch and run the
<a class="xref" href="create-enrollment-token.html" title="elasticsearch-create-enrollment-token"><code class="literal">elasticsearch-create-enrollment-token</code></a> tool
to generate an enrollment token for your new nodes.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">bin/elasticsearch-create-enrollment-token -s node</pre>
</div>
<p>Copy the enrollment token, which you&#8217;ll use to enroll new nodes with
your Elasticsearch cluster.</p>
</li>
<li class="listitem">
<p>From the installation directory of your new node, start Elasticsearch and pass the
enrollment token with the <code class="literal">--enrollment-token</code> parameter.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">bin/elasticsearch --enrollment-token &lt;enrollment-token&gt;</pre>
</div>
<p>Elasticsearch automatically generates certificates and keys in the following directory:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">config/certs</pre>
</div>
</li>
<li class="listitem">
Repeat the previous step for any new nodes that you want to enroll.
</li>
</ol>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_check_that_elasticsearch_is_running"></a>Check that Elasticsearch is running<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/check-running.asciidoc">edit</a></h3>
</div></div></div>
<p>You can test that your Elasticsearch node is running by sending an HTTPS request to port
<code class="literal">9200</code> on <code class="literal">localhost</code>:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl --cacert $ES_HOME/config/config/certs/http_ca.crt -u elastic https://localhost:9200 <a id="CO3-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Ensure that you use <code class="literal">https</code> in your call, or the request will fail.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">--cacert</code>
</span>
</dt>
<dd>
Path to the generated <code class="literal">http_ca.crt</code> certificate for the HTTP layer.
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
<p>Enter the password for the <code class="literal">elastic</code> user that was generated during
installation, which should return a response like this:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "name" : "Cp8oag6",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "AT69_T_DTp-1qgIJlatQqA",
  "version" : {
    "number" : "8.1.3",
    "build_flavor" : "default",
    "build_type" : "tar",
    "build_hash" : "f27399d",
    "build_date" : "2016-03-30T09:51:41.449Z",
    "build_snapshot" : false,
    "lucene_version" : "9.0.0",
    "minimum_wire_compatibility_version" : "1.2.3",
    "minimum_index_compatibility_version" : "1.2.3"
  },
  "tagline" : "You Know, for Search"
}</pre>
</div>
<p>Log printing to <code class="literal">stdout</code> can be disabled using the <code class="literal">-q</code> or <code class="literal">--quiet</code>
option on the command line.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="setup-installation-daemon"></a>Run as a daemon<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/targz-daemon.asciidoc">edit</a></h3>
</div></div></div>
<p>To run Elasticsearch as a daemon, specify <code class="literal">-d</code> on the command line, and record
the process ID in a file using the <code class="literal">-p</code> option:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./bin/elasticsearch -d -p pid</pre>
</div>
<p>If you have password-protected the Elasticsearch keystore, you will be prompted
to enter the keystore&#8217;s password. See <a class="xref" href="secure-settings.html" title="Secure settings">Secure settings</a> for more
details.</p>
<p>Log messages can be found in the <code class="literal">$ES_HOME/logs/</code> directory.</p>
<p>To shut down Elasticsearch, kill the process ID recorded in the <code class="literal">pid</code> file:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">pkill -F pid</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The Elasticsearch <code class="literal">.tar.gz</code> package does not include the <code class="literal">systemd</code> module. To
manage Elasticsearch as a service, use the <a class="xref" href="starting-elasticsearch.html#start-deb" title="Debian packages">Debian</a> or <a class="xref" href="starting-elasticsearch.html#start-rpm" title="RPM packages">RPM</a>
package instead.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="targz-configuring"></a>Configure Elasticsearch on the command line<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/targz.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch loads its configuration from the <code class="literal">$ES_HOME/config/elasticsearch.yml</code>
file by default. The format of this config file is explained in
<a class="xref" href="settings.html" title="Configuring Elasticsearch"><em>Configuring Elasticsearch</em></a>.</p>
<p>Any settings that can be specified in the config file can also be specified on
the command line, using the <code class="literal">-E</code> syntax as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./bin/elasticsearch -d -Ecluster.name=my_cluster -Enode.name=node_1</pre>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Typically, any cluster-wide settings (like <code class="literal">cluster.name</code>) should be
added to the <code class="literal">elasticsearch.yml</code> config file, while any node-specific settings
such as <code class="literal">node.name</code> could be specified on the command line.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_connect_clients_to_elasticsearch"></a>Connect clients to Elasticsearch<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/connect-clients.asciidoc">edit</a></h3>
</div></div></div>
<p>When you start Elasticsearch for the first time, TLS is configured automatically for the
HTTP layer. A CA certificate is generated and stored on disk at:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">$ES_HOME/config/certs/http_ca.crt</pre>
</div>
<p>The hex-encoded SHA-256 fingerprint of this
certificate is also output to the terminal. Any clients that connect to Elasticsearch,
such as the
<a href="/guide/en/elasticsearch/client/index.html" class="ulink" target="_top">Elasticsearch Clients</a>,
Beats, standalone Elastic Agents, and Logstash must validate that they trust the
certificate that Elasticsearch uses for HTTPS. Fleet Server and Fleet-managed
Elastic Agents are automatically configured to trust the CA certificate.
Other clients can establish trust by using either the fingerprint of the CA
certificate or the CA certificate itself.</p>
<p>If the auto-configuration process already completed, you can still obtain the
fingerprint of the security certificate. You can also copy the CA certificate
to your machine and configure your client to use it.</p>
<h5><a id="_use_the_ca_fingerprint"></a>Use the CA fingerprint<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/connect-clients.asciidoc">edit</a></h5>
<p>Copy the fingerprint value that&#8217;s output to your terminal when Elasticsearch starts, and
configure your client to use this fingerprint to establish trust when it
connects to Elasticsearch.</p>
<p>If the auto-configuration process already completed, you can still obtain the
fingerprint of the security certificate by running the following command. The
path is to the auto-generated CA certificate for the HTTP layer.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">openssl x509 -fingerprint -sha256 -in config/certs/http_ca.crt</pre>
</div>
<p>The command returns the security certificate, including the fingerprint.
The <code class="literal">issuer</code> should be <code class="literal">Elasticsearch security auto-configuration HTTP CA</code>.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">issuer= /CN=Elasticsearch security auto-configuration HTTP CA
SHA256 Fingerprint=&lt;fingerprint&gt;</pre>
</div>
<h5><a id="_use_the_ca_certificate"></a>Use the CA certificate<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/connect-clients.asciidoc">edit</a></h5>
<p>If your library doesn&#8217;t support a method of validating the fingerprint, the
auto-generated CA certificate is created in the following directory on each Elasticsearch
node:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">$ES_HOME/config/certs/http_ca.crt</pre>
</div>
<p>Copy the <code class="literal">http_ca.crt</code> file to your machine and configure your client to use this
certificate to establish trust when it connects to Elasticsearch.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="targz-layout"></a>Directory layout of archives<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/targz.asciidoc">edit</a></h3>
</div></div></div>
<p>The archive distributions are entirely self-contained. All files and
directories are, by default, contained within <code class="literal">$ES_HOME</code>&#8201;&#8212;&#8201;the directory
created when unpacking the archive.</p>
<p>This is very convenient because you don&#8217;t have to create any directories to
start using Elasticsearch, and uninstalling Elasticsearch is as easy as
removing the <code class="literal">$ES_HOME</code> directory. However, it is advisable to change the
default locations of the config directory, the data directory, and the logs
directory so that you do not delete important data later on.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Default Location</th>
<th align="left" valign="top">Setting</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>home</strong></span></p></td>
<td align="left" valign="top"><p>Elasticsearch home directory or <code class="literal">$ES_HOME</code></p></td>
<td align="left" valign="top"><p>Directory created by unpacking the archive</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>bin</strong></span></p></td>
<td align="left" valign="top"><p>Binary scripts including <code class="literal">elasticsearch</code> to start a node
    and <code class="literal">elasticsearch-plugin</code> to install plugins</p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/bin</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>conf</strong></span></p></td>
<td align="left" valign="top"><p>Configuration files including <code class="literal">elasticsearch.yml</code></p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/config</code></p></td>
<td align="left" valign="top"><p><code class="literal"><a class="xref" href="settings.html#config-files-location" title="Config files location">ES_PATH_CONF</a></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>conf</strong></span></p></td>
<td align="left" valign="top"><p>Generated TLS keys and certificates for the transport and HTTP layer.</p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/config/certs</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>data</strong></span></p></td>
<td align="left" valign="top"><p>The location of the data files of each index / shard allocated
    on the node.</p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/data</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.data</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>logs</strong></span></p></td>
<td align="left" valign="top"><p>Log files location.</p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/logs</code></p></td>
<td align="left" valign="top"><p><code class="literal">path.logs</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>plugins</strong></span></p></td>
<td align="left" valign="top"><p>Plugin files location. Each plugin will be contained in a subdirectory.</p></td>
<td align="left" valign="top"><p><code class="literal">$ES_HOME/plugins</code></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>repo</strong></span></p></td>
<td align="left" valign="top"><p>Shared file system repository locations. Can hold multiple locations. A file system repository can be placed in to any subdirectory of any directory specified here.</p></td>
<td align="left" valign="top"><p>Not configured</p></td>
<td align="left" valign="top"><p><code class="literal">path.repo</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section exclude">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_security_certificates_and_keys"></a>Security certificates and keys<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/security-files-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>When you install Elasticsearch, the following certificates and keys are
generated in the Elasticsearch configuration directory, which are used to connect a Kibana
instance to your secured Elasticsearch cluster and to encrypt internode communication.
The files are listed here for reference.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">http_ca.crt</code>
</span>
</dt>
<dd>
The CA certificate that is used to sign the certificates for the HTTP layer of
this Elasticsearch cluster.
</dd>
<dt>
<span class="term">
<code class="literal">http.p12</code>
</span>
</dt>
<dd>
Keystore that contains the key and certificate for the HTTP layer for this node.
</dd>
<dt>
<span class="term">
<code class="literal">transport.p12</code>
</span>
</dt>
<dd>
Keystore that contains the key and certificate for the transport layer for all
the nodes in your cluster.
</dd>
</dl>
</div>
<p><code class="literal">http.p12</code> and <code class="literal">transport.p12</code> are password-protected PKCS#12 keystores. Elasticsearch
stores the passwords for these keystores as <a class="xref" href="secure-settings.html" title="Secure settings">secure
settings</a>. To retrieve the passwords so that you can inspect or change the
keystore contents, use the
<a class="xref" href="elasticsearch-keystore.html" title="elasticsearch-keystore"><code class="literal">bin/elasticsearch-keystore</code></a> tool.</p>
<p>Use the following command to retrieve the password for <code class="literal">http.p12</code>:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">bin/elasticsearch-keystore show xpack.security.http.ssl.keystore.secure_password</pre>
</div>
<p>Use the following command to retrieve the password for <code class="literal">transport.p12</code>:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">bin/elasticsearch-keystore show xpack.security.transport.ssl.keystore.secure_password</pre>
</div>
</div>

</div>

<div class="section exclude">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_next_steps"></a>Next steps<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/setup/install/next-steps.asciidoc">edit</a></h3>
</div></div></div>
<p>You now have a test Elasticsearch environment set up. Before you start
serious development or go into production with Elasticsearch, you must do some additional
setup:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Learn how to <a class="xref" href="settings.html" title="Configuring Elasticsearch">configure Elasticsearch</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="important-settings.html" title="Important Elasticsearch configuration">important Elasticsearch settings</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="system-config.html" title="Important system configuration">important system settings</a>.
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="install-elasticsearch.html">« Installing Elasticsearch</a>
</span>
<span class="next">
<a href="zip-windows.html">Install Elasticsearch with <code class="literal">.zip</code> on Windows »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"csharp":{"hasAny":true},"python":{"hasAny":true},"ruby":{"hasAny":true},"go":{"hasAny":true},"js":{"hasAny":true}}}}</script>
  </body>
</html>
