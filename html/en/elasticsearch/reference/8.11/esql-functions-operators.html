<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>ES|QL functions and operators | Elasticsearch Guide [8.11] | Elastic</title>
<meta class="elastic" name="content" content="ES|QL functions and operators | Elasticsearch Guide [8.11]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.11]"/>
<link rel="up" href="esql-language.html" title="Learning ES|QL"/>
<link rel="prev" href="esql-commands.html" title="ES|QL commands"/>
<link rel="next" href="esql-metadata-fields.html" title="ES|QL metadata fields"/>
<meta class="elastic" name="product_version" content="8.11"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.11"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.11"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.11]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="esql.html">ES|QL</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="esql-language.html">Learning ES|QL</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="esql-commands.html">« ES|QL commands</a>
</span>
<span class="next">
<a href="esql-metadata-fields.html">ES|QL metadata fields »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="esql-functions-operators"></a>ES|QL functions and operators<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/esql-functions-operators.asciidoc">edit</a></h2>
</div></div></div>

<p>ES|QL provides a comprehensive set of functions and operators for working with data.
The functions are divided into the following categories:</p>
<div class="variablelist">
<a id="esql-functions"></a>
<dl class="variablelist">
<dt>
<span class="term">
<a class="xref" href="esql-functions-operators.html#esql-agg-functions" title="ES|QL aggregate functions">Aggregate functions</a>
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-avg" title="AVG"><code class="literal">AVG</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-count" title="COUNT"><code class="literal">COUNT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-count-distinct" title="COUNT_DISTINCT"><code class="literal">COUNT_DISTINCT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-max" title="MAX"><code class="literal">MAX</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-median" title="MEDIAN"><code class="literal">MEDIAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-median-absolute-deviation" title="MEDIAN_ABSOLUTE_DEVIATION"><code class="literal">MEDIAN_ABSOLUTE_DEVIATION</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-min" title="MIN"><code class="literal">MIN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-percentile" title="PERCENTILE"><code class="literal">PERCENTILE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-sum" title="SUM"><code class="literal">SUM</code></a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a class="xref" href="esql-functions-operators.html#esql-math-functions" title="ES|QL mathematical functions">Mathematical functions</a>
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-abs" title="ABS"><code class="literal">ABS</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-acos" title="ACOS"><code class="literal">ACOS</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-asin" title="ASIN"><code class="literal">ASIN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-atan" title="ATAN"><code class="literal">ATAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-atan2" title="ATAN2"><code class="literal">ATAN2</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-ceil" title="CEIL"><code class="literal">CEIL</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-cos" title="COS"><code class="literal">COS</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-cosh" title="COSH"><code class="literal">COSH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-e" title="E"><code class="literal">E</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-floor" title="FLOOR"><code class="literal">FLOOR</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-log10" title="LOG10"><code class="literal">LOG10</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-pi" title="PI"><code class="literal">PI</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-pow" title="POW"><code class="literal">POW</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-round" title="ROUND"><code class="literal">ROUND</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-sin" title="SIN"><code class="literal">SIN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-sinh" title="SINH"><code class="literal">SINH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-sqrt" title="SQRT"><code class="literal">SQRT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-tan" title="TAN"><code class="literal">TAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-tanh" title="TANH"><code class="literal">TANH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-tau" title="TAU"><code class="literal">TAU</code></a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a class="xref" href="esql-functions-operators.html#esql-string-functions" title="ES|QL string functions">String functions</a>
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-concat" title="CONCAT"><code class="literal">CONCAT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-left" title="LEFT"><code class="literal">LEFT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-length" title="LENGTH"><code class="literal">LENGTH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-ltrim" title="LTRIM"><code class="literal">LTRIM</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-replace" title="REPLACE"><code class="literal">REPLACE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-right" title="RIGHT"><code class="literal">RIGHT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-rtrim" title="RTRIM"><code class="literal">RTRIM</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-split" title="SPLIT"><code class="literal">SPLIT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-substring" title="SUBSTRING"><code class="literal">SUBSTRING</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-trim" title="TRIM"><code class="literal">TRIM</code></a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a class="xref" href="esql-functions-operators.html#esql-date-time-functions" title="ES|QL date-time functions">Date-time functions</a>
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-auto_bucket" title="AUTO_BUCKET"><code class="literal">AUTO_BUCKET</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-date_extract" title="DATE_EXTRACT"><code class="literal">DATE_EXTRACT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-date_format" title="DATE_FORMAT"><code class="literal">DATE_FORMAT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-date_parse" title="DATE_PARSE"><code class="literal">DATE_PARSE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-date_trunc" title="DATE_TRUNC"><code class="literal">DATE_TRUNC</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-now" title="NOW"><code class="literal">NOW</code></a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a class="xref" href="esql-functions-operators.html#esql-type-conversion-functions" title="ES|QL type conversion functions">Type conversion functions</a>
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_boolean" title="TO_BOOLEAN"><code class="literal">TO_BOOLEAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_datetime" title="TO_DATETIME"><code class="literal">TO_DATETIME</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_degrees" title="TO_DEGREES"><code class="literal">TO_DEGREES</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_double" title="TO_DOUBLE"><code class="literal">TO_DOUBLE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_integer" title="TO_INTEGER"><code class="literal">TO_INTEGER</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_ip" title="TO_IP"><code class="literal">TO_IP</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_long" title="TO_LONG"><code class="literal">TO_LONG</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_radians" title="TO_RADIANS"><code class="literal">TO_RADIANS</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_string" title="TO_STRING"><code class="literal">TO_STRING</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_unsigned_long" title="TO_UNSIGNED_LONG"><code class="literal">TO_UNSIGNED_LONG</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_version" title="TO_VERSION"><code class="literal">TO_VERSION</code></a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a class="xref" href="esql-functions-operators.html#esql-conditional-functions-and-expressions" title="ES|QL conditional functions and expressions">Conditional functions and expressions</a>
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-case" title="CASE"><code class="literal">CASE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-coalesce" title="COALESCE"><code class="literal">COALESCE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-greatest" title="GREATEST"><code class="literal">GREATEST</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-least" title="LEAST"><code class="literal">LEAST</code></a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a class="xref" href="esql-functions-operators.html#esql-mv-functions" title="ES|QL multivalue functions">Multivalue functions</a>
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_avg" title="MV_AVG"><code class="literal">MV_AVG</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_concat" title="MV_CONCAT"><code class="literal">MV_CONCAT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_count" title="MV_COUNT"><code class="literal">MV_COUNT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_dedupe" title="MV_DEDUPE"><code class="literal">MV_DEDUPE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_max" title="MV_MAX"><code class="literal">MV_MAX</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_median" title="MV_MEDIAN"><code class="literal">MV_MEDIAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_min" title="MV_MIN"><code class="literal">MV_MIN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_sum" title="MV_SUM"><code class="literal">MV_SUM</code></a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<a class="xref" href="esql-functions-operators.html#esql-operators" title="ES|QL operators">Operators</a>
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-binary-operators" title="Binary operators">Binary operators</a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-logical-operators" title="Logical operators">Logical operators</a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-predicates" title="IS NULL and IS NOT NULL predicates"><code class="literal">IS NULL</code> and <code class="literal">IS NOT NULL</code> predicates</a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-cidr_match" title="CIDR_MATCH"><code class="literal">CIDR_MATCH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-ends_with" title="ENDS_WITH"><code class="literal">ENDS_WITH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-in-operator" title="IN"><code class="literal">IN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-is_finite" title="IS_FINITE"><code class="literal">IS_FINITE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-is_infinite" title="IS_INFINITE"><code class="literal">IS_INFINITE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-is_nan" title="IS_NAN"><code class="literal">IS_NAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-like-operator" title="LIKE"><code class="literal">LIKE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-rlike-operator" title="RLIKE"><code class="literal">RLIKE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-starts_with" title="STARTS_WITH"><code class="literal">STARTS_WITH</code></a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="esql-agg-functions"></a>ES|QL aggregate functions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/aggregation-functions.asciidoc">edit</a></h3>
</div></div></div>

<p>The <a class="xref" href="esql-commands.html#esql-stats-by" title="STATS ... BY"><code class="literal">STATS ... BY</code></a> function supports these aggregate functions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-avg" title="AVG"><code class="literal">AVG</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-count" title="COUNT"><code class="literal">COUNT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-count-distinct" title="COUNT_DISTINCT"><code class="literal">COUNT_DISTINCT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-max" title="MAX"><code class="literal">MAX</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-median" title="MEDIAN"><code class="literal">MEDIAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-median-absolute-deviation" title="MEDIAN_ABSOLUTE_DEVIATION"><code class="literal">MEDIAN_ABSOLUTE_DEVIATION</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-min" title="MIN"><code class="literal">MIN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-percentile" title="PERCENTILE"><code class="literal">PERCENTILE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-agg-sum" title="SUM"><code class="literal">SUM</code></a>
</li>
</ul>
</div>
<h3><a id="esql-agg-avg"></a><code class="literal">AVG</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/avg.asciidoc">edit</a></h3>
<p>The average of a numeric field.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| STATS AVG(height)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">AVG(height):double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1.7682</p></td>
</tr>
</tbody>
</table>
</div>
<p>The result is always a <code class="literal">double</code> not matter the input type.</p>
<h3><a id="esql-agg-count"></a><code class="literal">COUNT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/count.asciidoc">edit</a></h3>
<p>Counts field values.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| STATS COUNT(height)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">COUNT(height):long</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>100</p></td>
</tr>
</tbody>
</table>
</div>
<p>Can take any field type as input and the result is always a <code class="literal">long</code> not matter
the input type.</p>
<p>To count the number of rows, use <code class="literal">COUNT(*)</code>:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| STATS count = COUNT(*) BY languages
| SORT languages DESC</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">count:long</th>
<th align="left" valign="top">languages:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>10</p></td>
<td align="left" valign="top"><p>null</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>21</p></td>
<td align="left" valign="top"><p>5</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>18</p></td>
<td align="left" valign="top"><p>4</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>17</p></td>
<td align="left" valign="top"><p>3</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>19</p></td>
<td align="left" valign="top"><p>2</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>15</p></td>
<td align="left" valign="top"><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-agg-count-distinct"></a><code class="literal">COUNT_DISTINCT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/count-distinct.asciidoc">edit</a></h3>
<p>The approximate number of distinct values.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM hosts
| STATS COUNT_DISTINCT(ip0), COUNT_DISTINCT(ip1)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">COUNT_DISTINCT(ip0):long</th>
<th align="left" valign="top">COUNT_DISTINCT(ip1):long</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>7</p></td>
<td align="left" valign="top"><p>8</p></td>
</tr>
</tbody>
</table>
</div>
<p>Can take any field type as input and the result is always a <code class="literal">long</code> not matter
the input type.</p>
<h4><a id="_counts_are_approximate_2"></a>Counts are approximate<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/count-distinct.asciidoc">edit</a></h4>
<p>Computing exact counts requires loading values into a set and returning its
size. This doesn&#8217;t scale when working on high-cardinality sets and/or large
values as the required memory usage and the need to communicate those
per-shard sets between nodes would utilize too many resources of the cluster.</p>
<p>This <code class="literal">COUNT_DISTINCT</code> function is based on the
<a href="https://static.googleusercontent.com/media/research.google.com/fr//pubs/archive/40671.pdf" class="ulink" target="_top">HyperLogLog++</a>
algorithm, which counts based on the hashes of the values with some interesting
properties:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
configurable precision, which decides on how to trade memory for accuracy,
</li>
<li class="listitem">
excellent accuracy on low-cardinality sets,
</li>
<li class="listitem">
fixed memory usage: no matter if there are tens or billions of unique values,
memory usage only depends on the configured precision.
</li>
</ul>
</div>
<p>For a precision threshold of <code class="literal">c</code>, the implementation that we are using requires
about <code class="literal">c * 8</code> bytes.</p>
<p>The following chart shows how the error varies before and after the threshold:</p>
<p><span class="image"><img src="images/cardinality_error.png" alt="cardinality error"></span></p>
<p>For all 3 thresholds, counts have been accurate up to the configured threshold.
Although not guaranteed, this is likely to be the case. Accuracy in practice depends
on the dataset in question. In general, most datasets show consistently good
accuracy. Also note that even with a threshold as low as 100, the error
remains very low (1-6% as seen in the above graph) even when counting millions of items.</p>
<p>The HyperLogLog++ algorithm depends on the leading zeros of hashed
values, the exact distributions of hashes in a dataset can affect the
accuracy of the cardinality.</p>
<h4><a id="_precision_is_configurable"></a>Precision is configurable<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/count-distinct.asciidoc">edit</a></h4>
<p>The <code class="literal">COUNT_DISTINCT</code> function takes an optional second parameter to configure the
precision discussed previously.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM hosts
| STATS COUNT_DISTINCT(ip0, 80000), COUNT_DISTINCT(ip1, 5)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">COUNT_DISTINCT(ip0,80000):long</th>
<th align="left" valign="top">COUNT_DISTINCT(ip1,5):long</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>7</p></td>
<td align="left" valign="top"><p>9</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-agg-max"></a><code class="literal">MAX</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/max.asciidoc">edit</a></h3>
<p>The maximum value of a numeric field.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| STATS MAX(languages)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">MAX(languages):integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>5</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-agg-median"></a><code class="literal">MEDIAN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/median.asciidoc">edit</a></h3>
<p>The value that is greater than half of all values and less than half of
all values, also known as the 50% <a class="xref" href="esql-functions-operators.html#esql-agg-percentile" title="PERCENTILE"><code class="literal">PERCENTILE</code></a>.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| STATS MEDIAN(salary), PERCENTILE(salary, 50)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">MEDIAN(salary):double</th>
<th align="left" valign="top">PERCENTILE(salary,50):double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>47003</p></td>
<td align="left" valign="top"><p>47003</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Like <a class="xref" href="esql-functions-operators.html#esql-agg-percentile" title="PERCENTILE"><code class="literal">PERCENTILE</code></a>, <code class="literal">MEDIAN</code> is <a class="xref" href="esql-functions-operators.html#esql-agg-percentile-approximate" title="PERCENTILE is (usually) approximate">usually approximate</a>.</p>
</div>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p><code class="literal">MEDIAN</code> is also <a href="https://en.wikipedia.org/wiki/Nondeterministic_algorithm" class="ulink" target="_top">non-deterministic</a>.
This means you can get slightly different results using the same data.</p>
</div>
</div>
<h3><a id="esql-agg-median-absolute-deviation"></a><code class="literal">MEDIAN_ABSOLUTE_DEVIATION</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/median-absolute-deviation.asciidoc">edit</a></h3>
<p>The median absolute deviation, a measure of variability. It is a robust
statistic, meaning that it is useful for describing data that may have outliers,
or may not be normally distributed. For such data it can be more descriptive than
standard deviation.</p>
<p>It is calculated as the median of each data point’s deviation from the median of
the entire sample. That is, for a random variable <code class="literal">X</code>, the median absolute deviation
is <code class="literal">median(|median(X) - Xi|)</code>.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| STATS MEDIAN(salary), MEDIAN_ABSOLUTE_DEVIATION(salary)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">MEDIAN(salary):double</th>
<th align="left" valign="top">MEDIAN_ABSOLUTE_DEVIATION(salary):double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>47003</p></td>
<td align="left" valign="top"><p>10096.5</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Like <a class="xref" href="esql-functions-operators.html#esql-agg-percentile" title="PERCENTILE"><code class="literal">PERCENTILE</code></a>, <code class="literal">MEDIAN_ABSOLUTE_DEVIATION</code> is
      <a class="xref" href="esql-functions-operators.html#esql-agg-percentile-approximate" title="PERCENTILE is (usually) approximate">usually approximate</a>.</p>
</div>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p><code class="literal">MEDIAN_ABSOLUTE_DEVIATION</code> is also <a href="https://en.wikipedia.org/wiki/Nondeterministic_algorithm" class="ulink" target="_top">non-deterministic</a>.
This means you can get slightly different results using the same data.</p>
</div>
</div>
<h3><a id="esql-agg-min"></a><code class="literal">MIN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/min.asciidoc">edit</a></h3>
<p>The minimum value of a numeric field.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| STATS MIN(languages)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">MIN(languages):integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-agg-percentile"></a><code class="literal">PERCENTILE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/percentile.asciidoc">edit</a></h3>
<p>The value at which a certain percentage of observed values occur. For example,
the 95th percentile is the value which is greater than 95% of the observed values and
the 50th percentile is the <a class="xref" href="esql-functions-operators.html#esql-agg-median" title="MEDIAN"><code class="literal">MEDIAN</code></a>.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| STATS p0 = PERCENTILE(salary,  0)
     , p50 = PERCENTILE(salary, 50)
     , p99 = PERCENTILE(salary, 99)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">p0:double</th>
<th align="left" valign="top">p50:double</th>
<th align="left" valign="top">p99:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>25324</p></td>
<td align="left" valign="top"><p>47003</p></td>
<td align="left" valign="top"><p>74970.29</p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="esql-agg-percentile-approximate"></a><code class="literal">PERCENTILE</code> is (usually) approximate<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/percentile.asciidoc">edit</a></h4>
<p>There are many different algorithms to calculate percentiles. The naive
implementation simply stores all the values in a sorted array. To find the 50th
percentile, you simply find the value that is at <code class="literal">my_array[count(my_array) * 0.5]</code>.</p>
<p>Clearly, the naive implementation does not scale&#8201;&#8212;&#8201;the sorted array grows
linearly with the number of values in your dataset. To calculate percentiles
across potentially billions of values in an Elasticsearch cluster, <em>approximate</em>
percentiles are calculated.</p>
<p>The algorithm used by the <code class="literal">percentile</code> metric is called TDigest (introduced by
Ted Dunning in
<a href="https://github.com/tdunning/t-digest/blob/master/docs/t-digest-paper/histo.pdf" class="ulink" target="_top">Computing Accurate Quantiles using T-Digests</a>).</p>
<p>When using this metric, there are a few guidelines to keep in mind:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Accuracy is proportional to <code class="literal">q(1-q)</code>. This means that extreme percentiles (e.g. 99%)
are more accurate than less extreme percentiles, such as the median
</li>
<li class="listitem">
For small sets of values, percentiles are highly accurate (and potentially
100% accurate if the data is small enough).
</li>
<li class="listitem">
As the quantity of values in a bucket grows, the algorithm begins to approximate
the percentiles. It is effectively trading accuracy for memory savings. The
exact level of inaccuracy is difficult to generalize, since it depends on your
data distribution and volume of data being aggregated
</li>
</ul>
</div>
<p>The following chart shows the relative error on a uniform distribution depending
on the number of collected values and the requested percentile:</p>
<p><span class="image"><img src="images/percentiles_error.png" alt="percentiles error"></span></p>
<p>It shows how precision is better for extreme percentiles. The reason why error diminishes
for large number of values is that the law of large numbers makes the distribution of
values more and more uniform and the t-digest tree can do a better job at summarizing
it. It would not be the case on more skewed distributions.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p><code class="literal">PERCENTILE</code> is also <a href="https://en.wikipedia.org/wiki/Nondeterministic_algorithm" class="ulink" target="_top">non-deterministic</a>.
This means you can get slightly different results using the same data.</p>
</div>
</div>
<h3><a id="esql-agg-sum"></a><code class="literal">SUM</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/sum.asciidoc">edit</a></h3>
<p>The sum of a numeric field.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| STATS SUM(languages)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">SUM(languages):long</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>281</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="esql-math-functions"></a>ES|QL mathematical functions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/math-functions.asciidoc">edit</a></h3>
</div></div></div>

<p>ES|QL supports these mathematical functions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-abs" title="ABS"><code class="literal">ABS</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-acos" title="ACOS"><code class="literal">ACOS</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-asin" title="ASIN"><code class="literal">ASIN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-atan" title="ATAN"><code class="literal">ATAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-atan2" title="ATAN2"><code class="literal">ATAN2</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-ceil" title="CEIL"><code class="literal">CEIL</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-cos" title="COS"><code class="literal">COS</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-cosh" title="COSH"><code class="literal">COSH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-e" title="E"><code class="literal">E</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-floor" title="FLOOR"><code class="literal">FLOOR</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-log10" title="LOG10"><code class="literal">LOG10</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-pi" title="PI"><code class="literal">PI</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-pow" title="POW"><code class="literal">POW</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-round" title="ROUND"><code class="literal">ROUND</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-sin" title="SIN"><code class="literal">SIN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-sinh" title="SINH"><code class="literal">SINH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-sqrt" title="SQRT"><code class="literal">SQRT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-tan" title="TAN"><code class="literal">TAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-tanh" title="TANH"><code class="literal">TANH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-tau" title="TAU"><code class="literal">TAU</code></a>
</li>
</ul>
</div>
<h3><a id="esql-abs"></a><code class="literal">ABS</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/abs.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="192" height="46" viewbox="0 0 192 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m56 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="56" height="36"/><text class="k" x="15" y="31">ABS</text><rect class="s" x="71" y="5" width="32" height="36" rx="7"/><text class="syn" x="81" y="31">(</text><rect class="s" x="113" y="5" width="32" height="36" rx="7"/><text class="k" x="123" y="31">n</text><rect class="s" x="155" y="5" width="32" height="36" rx="7"/><text class="syn" x="165" y="31">)</text></svg>
</div>
</div>
<p>Returns the absolute value.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM employees
| KEEP first_name, last_name, height
| EVAL abs_height = ABS(0.0 - height)</pre>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>integer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>unsigned_long</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-acos"></a><code class="literal">ACOS</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/acos.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Syntax</strong></span></p>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="204" height="46" viewbox="0 0 204 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m68 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="68" height="36"/><text class="k" x="15" y="31">ACOS</text><rect class="s" x="83" y="5" width="32" height="36" rx="7"/><text class="syn" x="93" y="31">(</text><rect class="s" x="125" y="5" width="32" height="36" rx="7"/><text class="k" x="135" y="31">n</text><rect class="s" x="167" y="5" width="32" height="36" rx="7"/><text class="syn" x="177" y="31">)</text></svg>
</div>
</div>
<p><span class="strong strong"><strong>Parameters</strong></span></p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">n</code>
</span>
</dt>
<dd>
Numeric expression. If <code class="literal">null</code>, the function returns <code class="literal">null</code>.
</dd>
</dl>
</div>
<p><span class="strong strong"><strong>Description</strong></span></p>
<p>Returns the <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions" class="ulink" target="_top">arccosine</a> of <code class="literal">n</code> as an
angle, expressed in radians.</p>
<p><span class="strong strong"><strong>Supported types</strong></span></p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<p><span class="strong strong"><strong>Example</strong></span></p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=.9
| EVAL acos=ACOS(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
<th align="left" valign="top">acos:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>.9</p></td>
<td align="left" valign="top"><p>0.45102681179626236</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-asin"></a><code class="literal">ASIN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/asin.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="204" height="46" viewbox="0 0 204 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m68 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="68" height="36"/><text class="k" x="15" y="31">ASIN</text><rect class="s" x="83" y="5" width="32" height="36" rx="7"/><text class="syn" x="93" y="31">(</text><rect class="s" x="125" y="5" width="32" height="36" rx="7"/><text class="k" x="135" y="31">n</text><rect class="s" x="167" y="5" width="32" height="36" rx="7"/><text class="syn" x="177" y="31">)</text></svg>
</div>
</div>
<p>Inverse <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions" class="ulink" target="_top">sine</a> trigonometric function.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=.9
| EVAL asin=ASIN(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
<th align="left" valign="top">asin:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>.9</p></td>
<td align="left" valign="top"><p>1.1197695149986342</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-atan"></a><code class="literal">ATAN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/atan.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="204" height="46" viewbox="0 0 204 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m68 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="68" height="36"/><text class="k" x="15" y="31">ATAN</text><rect class="s" x="83" y="5" width="32" height="36" rx="7"/><text class="syn" x="93" y="31">(</text><rect class="s" x="125" y="5" width="32" height="36" rx="7"/><text class="k" x="135" y="31">n</text><rect class="s" x="167" y="5" width="32" height="36" rx="7"/><text class="syn" x="177" y="31">)</text></svg>
</div>
</div>
<p>Inverse <a href="https://en.wikipedia.org/wiki/Inverse_trigonometric_functions" class="ulink" target="_top">tangent</a> trigonometric function.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=12.9
| EVAL atan=ATAN(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
<th align="left" valign="top">atan:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>12.9</p></td>
<td align="left" valign="top"><p>1.4934316673669235</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-atan2"></a><code class="literal">ATAN2</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/atan2.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="300" height="46" viewbox="0 0 300 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m80 0h10m32 0h10m32 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="80" height="36"/><text class="k" x="15" y="31">ATAN2</text><rect class="s" x="95" y="5" width="32" height="36" rx="7"/><text class="syn" x="105" y="31">(</text><rect class="s" x="137" y="5" width="32" height="36" rx="7"/><text class="k" x="147" y="31">y</text><rect class="s" x="179" y="5" width="32" height="36" rx="7"/><text class="syn" x="189" y="31">,</text><rect class="s" x="221" y="5" width="32" height="36" rx="7"/><text class="k" x="231" y="31">x</text><rect class="s" x="263" y="5" width="32" height="36" rx="7"/><text class="syn" x="273" y="31">)</text></svg>
</div>
</div>
<p>The <a href="https://en.wikipedia.org/wiki/Atan2" class="ulink" target="_top">angle</a> between the positive x-axis and the
ray from the origin to the point (x , y) in the Cartesian plane.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW y=12.9, x=.6
| EVAL atan2=ATAN2(y, x)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">y:double</th>
<th align="left" valign="top">x:double</th>
<th align="left" valign="top">atan2:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>12.9</p></td>
<td align="left" valign="top"><p>0.6</p></td>
<td align="left" valign="top"><p>1.5243181954438936</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">y</th>
<th align="left" valign="top">x</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-ceil"></a><code class="literal">CEIL</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/ceil.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="204" height="46" viewbox="0 0 204 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m68 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="68" height="36"/><text class="k" x="15" y="31">CEIL</text><rect class="s" x="83" y="5" width="32" height="36" rx="7"/><text class="syn" x="93" y="31">(</text><rect class="s" x="125" y="5" width="32" height="36" rx="7"/><text class="k" x="135" y="31">n</text><rect class="s" x="167" y="5" width="32" height="36" rx="7"/><text class="syn" x="177" y="31">)</text></svg>
</div>
</div>
<p>Round a number up to the nearest integer.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=1.8
| EVAL a=CEIL(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>2</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This is a noop for <code class="literal">long</code> (including unsigned) and <code class="literal">integer</code>.
      For <code class="literal">double</code> this picks the the closest <code class="literal">double</code> value to the integer ala
      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Math.html#ceil(double)" class="ulink" target="_top">Math.ceil</a>.</p>
</div>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>integer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>unsigned_long</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-cos"></a><code class="literal">COS</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/cos.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="192" height="46" viewbox="0 0 192 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m56 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="56" height="36"/><text class="k" x="15" y="31">COS</text><rect class="s" x="71" y="5" width="32" height="36" rx="7"/><text class="syn" x="81" y="31">(</text><rect class="s" x="113" y="5" width="32" height="36" rx="7"/><text class="k" x="123" y="31">n</text><rect class="s" x="155" y="5" width="32" height="36" rx="7"/><text class="syn" x="165" y="31">)</text></svg>
</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Sine_and_cosine" class="ulink" target="_top">Cosine</a> trigonometric function.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=1.8
| EVAL cos=COS(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
<th align="left" valign="top">cos:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1.8</p></td>
<td align="left" valign="top"><p>-0.2272020946930871</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-cosh"></a><code class="literal">COSH</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/cosh.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="204" height="46" viewbox="0 0 204 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m68 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="68" height="36"/><text class="k" x="15" y="31">COSH</text><rect class="s" x="83" y="5" width="32" height="36" rx="7"/><text class="syn" x="93" y="31">(</text><rect class="s" x="125" y="5" width="32" height="36" rx="7"/><text class="k" x="135" y="31">n</text><rect class="s" x="167" y="5" width="32" height="36" rx="7"/><text class="syn" x="177" y="31">)</text></svg>
</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Hyperbolic_functions" class="ulink" target="_top">Cosine</a> hyperbolic function.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=1.8
| EVAL cosh=COSH(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
<th align="left" valign="top">cosh:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1.8</p></td>
<td align="left" valign="top"><p>3.1074731763172667</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-e"></a><code class="literal">E</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/e.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="126" height="46" viewbox="0 0 126 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="32" height="36"/><text class="k" x="15" y="31">E</text><rect class="s" x="47" y="5" width="32" height="36" rx="7"/><text class="syn" x="57" y="31">(</text><rect class="s" x="89" y="5" width="32" height="36" rx="7"/><text class="syn" x="99" y="31">)</text></svg>
</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/E_(mathematical_constant)" class="ulink" target="_top">Euler&#8217;s number</a>.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW E()</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">E():double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>2.718281828459045</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-floor"></a><code class="literal">FLOOR</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/floor.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="216" height="46" viewbox="0 0 216 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m80 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="80" height="36"/><text class="k" x="15" y="31">FLOOR</text><rect class="s" x="95" y="5" width="32" height="36" rx="7"/><text class="syn" x="105" y="31">(</text><rect class="s" x="137" y="5" width="32" height="36" rx="7"/><text class="k" x="147" y="31">n</text><rect class="s" x="179" y="5" width="32" height="36" rx="7"/><text class="syn" x="189" y="31">)</text></svg>
</div>
</div>
<p>Round a number down to the nearest integer.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=1.8
| EVAL a=FLOOR(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This is a noop for <code class="literal">long</code> (including unsigned) and <code class="literal">integer</code>.
      For <code class="literal">double</code> this picks the the closest <code class="literal">double</code> value to the integer ala
      <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Math.html#floor(double)" class="ulink" target="_top">Math.floor</a>.</p>
</div>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>integer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>unsigned_long</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-log10"></a><code class="literal">LOG10</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/log10.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="216" height="46" viewbox="0 0 216 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m80 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="80" height="36"/><text class="k" x="15" y="31">LOG10</text><rect class="s" x="95" y="5" width="32" height="36" rx="7"/><text class="syn" x="105" y="31">(</text><rect class="s" x="137" y="5" width="32" height="36" rx="7"/><text class="k" x="147" y="31">n</text><rect class="s" x="179" y="5" width="32" height="36" rx="7"/><text class="syn" x="189" y="31">)</text></svg>
</div>
</div>
<p>Returns the log base 10.  The input can be any numeric value, the return value
is always a double.</p>
<p>Logs of negative numbers are NaN. Logs of infinites are infinite, as is the log of 0.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW d = 1000.0
| EVAL s = LOG10(d)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">d: double</th>
<th align="left" valign="top">s:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1000.0</p></td>
<td align="left" valign="top"><p>3.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-pi"></a><code class="literal">PI</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/pi.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="138" height="46" viewbox="0 0 138 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m44 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="44" height="36"/><text class="k" x="15" y="31">PI</text><rect class="s" x="59" y="5" width="32" height="36" rx="7"/><text class="syn" x="69" y="31">(</text><rect class="s" x="101" y="5" width="32" height="36" rx="7"/><text class="syn" x="111" y="31">)</text></svg>
</div>
</div>
<p>The <a href="https://en.wikipedia.org/wiki/Pi" class="ulink" target="_top">ratio</a> of a circle&#8217;s circumference to its diameter.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW PI()</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">PI():double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>3.141592653589793</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-pow"></a><code class="literal">POW</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/pow.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="396" height="46" viewbox="0 0 396 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m56 0h10m32 0h10m68 0h10m32 0h10m116 0h10m32 0h5"/><rect class="s" x="5" y="5" width="56" height="36"/><text class="k" x="15" y="31">POW</text><rect class="s" x="71" y="5" width="32" height="36" rx="7"/><text class="syn" x="81" y="31">(</text><rect class="s" x="113" y="5" width="68" height="36" rx="7"/><text class="k" x="123" y="31">base</text><rect class="s" x="191" y="5" width="32" height="36" rx="7"/><text class="syn" x="201" y="31">,</text><rect class="s" x="233" y="5" width="116" height="36" rx="7"/><text class="k" x="243" y="31">exponent</text><rect class="s" x="359" y="5" width="32" height="36" rx="7"/><text class="syn" x="369" y="31">)</text></svg>
</div>
</div>
<p>Returns the value of a base (first argument) raised to the power of an exponent (second argument).
Both arguments must be numeric.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW base = 2.0, exponent = 2
| EVAL result = POW(base, exponent)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">base:double</th>
<th align="left" valign="top">exponent:integer</th>
<th align="left" valign="top">result:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>2.0</p></td>
<td align="left" valign="top"><p>2</p></td>
<td align="left" valign="top"><p>4.0</p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="_type_rules"></a>Type rules<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/pow.asciidoc">edit</a></h4>
<p>The type of the returned value is determined by the types of the base and exponent.
The following rules are applied to determine the result type:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If either of the base or exponent are of a floating point type, the result will be a double
</li>
<li class="listitem">
Otherwise, if either the base or the exponent are 64-bit (long or unsigned long), the result will be a long
</li>
<li class="listitem">
Otherwise, the result will be a 32-bit integer (this covers all other numeric types, including int, short and byte)
</li>
</ul>
</div>
<p>For example, using simple integers as arguments will lead to an integer result:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW base = 2, exponent = 2
| EVAL s = POW(base, exponent)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">base:integer</th>
<th align="left" valign="top">exponent:integer</th>
<th align="left" valign="top">s:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>2</p></td>
<td align="left" valign="top"><p>2</p></td>
<td align="left" valign="top"><p>4</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The actual power function is performed using double precision values for all cases.
This means that for very large non-floating point values there is a small chance that the
operation can lead to slightly different answers than expected.
However, a more likely outcome of very large non-floating point values is numerical overflow.</p>
</div>
</div>
<h4><a id="_arithmetic_errors"></a>Arithmetic errors<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/pow.asciidoc">edit</a></h4>
<p>Arithmetic errors and numeric overflow do not result in an error. Instead, the result will be <code class="literal">null</code>
and a warning for the <code class="literal">ArithmeticException</code> added.
For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW x = POW(9223372036854775808, 2)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">warning:Line 1:9: evaluation of [POW(9223372036854775808, 2)] failed, treating result as null. Only first 20 failures recorded.</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>warning:Line 1:9: java.lang.ArithmeticException: long overflow</p></td>
</tr>
</tbody>
</table>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">x:long</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>null</p></td>
</tr>
</tbody>
</table>
</div>
<p>If it is desired to protect against numerical overruns, use <code class="literal">TO_DOUBLE</code> on either of the arguments:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW x = POW(9223372036854775808, TO_DOUBLE(1))</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">x:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>9.223372036854776E18</p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="_fractional_exponents"></a>Fractional exponents<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/pow.asciidoc">edit</a></h4>
<p>The exponent can be a fraction, which is similar to performing a root.
For example, the exponent of <code class="literal">0.5</code> will give the square root of the base:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW base = 4, exponent = 0.5
| EVAL s = POW(base, exponent)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">base:integer</th>
<th align="left" valign="top">exponent:double</th>
<th align="left" valign="top">s:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>4</p></td>
<td align="left" valign="top"><p>0.5</p></td>
<td align="left" valign="top"><p>2.0</p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="_table_of_supported_input_and_output_types"></a>Table of supported input and output types<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/pow.asciidoc">edit</a></h4>
<p>For clarity, the following table describes the output result type for all combinations of numeric input types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">base</th>
<th align="left" valign="top">exponent</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>integer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-round"></a><code class="literal">ROUND</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/round.asciidoc">edit</a></h3>
<p>Rounds a number to the closest number with the specified number of digits.
Defaults to 0 digits if no number of digits is provided. If the specified number
of digits is negative, rounds to the number of digits left of the decimal point.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| KEEP first_name, last_name, height
| EVAL height_ft = ROUND(height * 3.281, 1)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">first_name:keyword</th>
<th align="left" valign="top">last_name:keyword</th>
<th align="left" valign="top">height:double</th>
<th align="left" valign="top">height_ft:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Arumugam</p></td>
<td align="left" valign="top"><p>Ossenbruggen</p></td>
<td align="left" valign="top"><p>2.1</p></td>
<td align="left" valign="top"><p>6.9</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Kwee</p></td>
<td align="left" valign="top"><p>Schusler</p></td>
<td align="left" valign="top"><p>2.1</p></td>
<td align="left" valign="top"><p>6.9</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Saniya</p></td>
<td align="left" valign="top"><p>Kalloufi</p></td>
<td align="left" valign="top"><p>2.1</p></td>
<td align="left" valign="top"><p>6.9</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-sin"></a><code class="literal">SIN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/sin.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="192" height="46" viewbox="0 0 192 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m56 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="56" height="36"/><text class="k" x="15" y="31">SIN</text><rect class="s" x="71" y="5" width="32" height="36" rx="7"/><text class="syn" x="81" y="31">(</text><rect class="s" x="113" y="5" width="32" height="36" rx="7"/><text class="k" x="123" y="31">n</text><rect class="s" x="155" y="5" width="32" height="36" rx="7"/><text class="syn" x="165" y="31">)</text></svg>
</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Sine_and_cosine" class="ulink" target="_top">Sine</a> trigonometric function.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=1.8
| EVAL sin=SIN(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
<th align="left" valign="top">sin:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1.8</p></td>
<td align="left" valign="top"><p>0.9738476308781951</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-sinh"></a><code class="literal">SINH</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/sinh.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="204" height="46" viewbox="0 0 204 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m68 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="68" height="36"/><text class="k" x="15" y="31">SINH</text><rect class="s" x="83" y="5" width="32" height="36" rx="7"/><text class="syn" x="93" y="31">(</text><rect class="s" x="125" y="5" width="32" height="36" rx="7"/><text class="k" x="135" y="31">n</text><rect class="s" x="167" y="5" width="32" height="36" rx="7"/><text class="syn" x="177" y="31">)</text></svg>
</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Hyperbolic_functions" class="ulink" target="_top">Sine</a> hyperbolic function.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=1.8
| EVAL sinh=SINH(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
<th align="left" valign="top">sinh:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1.8</p></td>
<td align="left" valign="top"><p>2.94217428809568</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-sqrt"></a><code class="literal">SQRT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/sqrt.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="204" height="46" viewbox="0 0 204 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m68 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="68" height="36"/><text class="k" x="15" y="31">SQRT</text><rect class="s" x="83" y="5" width="32" height="36" rx="7"/><text class="syn" x="93" y="31">(</text><rect class="s" x="125" y="5" width="32" height="36" rx="7"/><text class="k" x="135" y="31">n</text><rect class="s" x="167" y="5" width="32" height="36" rx="7"/><text class="syn" x="177" y="31">)</text></svg>
</div>
</div>
<p>Returns the square root of a number.  The input can be any numeric value, the return value
is always a double.</p>
<p>Square roots of negative numbers are NaN. Square roots of infinites are infinite.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW d = 100.0
| EVAL s = SQRT(d)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">d: double</th>
<th align="left" valign="top">s:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>100.0</p></td>
<td align="left" valign="top"><p>10.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-tan"></a><code class="literal">TAN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/tan.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="192" height="46" viewbox="0 0 192 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m56 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="56" height="36"/><text class="k" x="15" y="31">TAN</text><rect class="s" x="71" y="5" width="32" height="36" rx="7"/><text class="syn" x="81" y="31">(</text><rect class="s" x="113" y="5" width="32" height="36" rx="7"/><text class="k" x="123" y="31">n</text><rect class="s" x="155" y="5" width="32" height="36" rx="7"/><text class="syn" x="165" y="31">)</text></svg>
</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Sine_and_cosine" class="ulink" target="_top">Tangent</a> trigonometric function.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=1.8
| EVAL tan=TAN(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
<th align="left" valign="top">tan:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1.8</p></td>
<td align="left" valign="top"><p>-4.286261674628062</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-tanh"></a><code class="literal">TANH</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/tanh.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="204" height="46" viewbox="0 0 204 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m68 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="68" height="36"/><text class="k" x="15" y="31">TANH</text><rect class="s" x="83" y="5" width="32" height="36" rx="7"/><text class="syn" x="93" y="31">(</text><rect class="s" x="125" y="5" width="32" height="36" rx="7"/><text class="k" x="135" y="31">n</text><rect class="s" x="167" y="5" width="32" height="36" rx="7"/><text class="syn" x="177" y="31">)</text></svg>
</div>
</div>
<p><a href="https://en.wikipedia.org/wiki/Hyperbolic_functions" class="ulink" target="_top">Tangent</a> hyperbolic function.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=1.8
| EVAL tanh=TANH(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:double</th>
<th align="left" valign="top">tanh:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1.8</p></td>
<td align="left" valign="top"><p>0.9468060128462683</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">n</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-tau"></a><code class="literal">TAU</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/tau.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="150" height="46" viewbox="0 0 150 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m56 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="56" height="36"/><text class="k" x="15" y="31">TAU</text><rect class="s" x="71" y="5" width="32" height="36" rx="7"/><text class="syn" x="81" y="31">(</text><rect class="s" x="113" y="5" width="32" height="36" rx="7"/><text class="syn" x="123" y="31">)</text></svg>
</div>
</div>
<p>The <a href="https://tauday.com/tau-manifesto" class="ulink" target="_top">ratio</a> of a circle&#8217;s circumference to its radius.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW TAU()</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">TAU():double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>6.283185307179586</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="esql-string-functions"></a>ES|QL string functions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/string-functions.asciidoc">edit</a></h3>
</div></div></div>

<p>ES|QL supports these string functions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-concat" title="CONCAT"><code class="literal">CONCAT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-left" title="LEFT"><code class="literal">LEFT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-length" title="LENGTH"><code class="literal">LENGTH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-ltrim" title="LTRIM"><code class="literal">LTRIM</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-replace" title="REPLACE"><code class="literal">REPLACE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-right" title="RIGHT"><code class="literal">RIGHT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-rtrim" title="RTRIM"><code class="literal">RTRIM</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-split" title="SPLIT"><code class="literal">SPLIT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-substring" title="SUBSTRING"><code class="literal">SUBSTRING</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-trim" title="TRIM"><code class="literal">TRIM</code></a>
</li>
</ul>
</div>
<h3><a id="esql-concat"></a><code class="literal">CONCAT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/concat.asciidoc">edit</a></h3>
<p>Concatenates two or more strings.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM employees
| KEEP first_name, last_name, height
| EVAL fullname = CONCAT(first_name, " ", last_name)</pre>
</div>
<h3><a id="esql-left"></a><code class="literal">LEFT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/left.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="408" height="46" viewbox="0 0 408 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m68 0h10m32 0h10m92 0h10m32 0h10m92 0h10m32 0h5"/><rect class="s" x="5" y="5" width="68" height="36"/><text class="k" x="15" y="31">LEFT</text><rect class="s" x="83" y="5" width="32" height="36" rx="7"/><text class="syn" x="93" y="31">(</text><rect class="s" x="125" y="5" width="92" height="36" rx="7"/><text class="k" x="135" y="31">string</text><rect class="s" x="227" y="5" width="32" height="36" rx="7"/><text class="syn" x="237" y="31">,</text><rect class="s" x="269" y="5" width="92" height="36" rx="7"/><text class="k" x="279" y="31">length</text><rect class="s" x="371" y="5" width="32" height="36" rx="7"/><text class="syn" x="381" y="31">)</text></svg>
</div>
</div>
<p>Return the substring that extracts <em>length</em> chars from the <em>string</em> starting from the left.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| KEEP last_name
| EVAL left = LEFT(last_name, 3)
| SORT last_name ASC
| LIMIT 5</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">last_name:keyword</th>
<th align="left" valign="top">left:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Awdeh</p></td>
<td align="left" valign="top"><p>Awd</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Azuma</p></td>
<td align="left" valign="top"><p>Azu</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Baek</p></td>
<td align="left" valign="top"><p>Bae</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bamford</p></td>
<td align="left" valign="top"><p>Bam</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bernatsky</p></td>
<td align="left" valign="top"><p>Ber</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">string</th>
<th align="left" valign="top">length</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-length"></a><code class="literal">LENGTH</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/length.asciidoc">edit</a></h3>
<p>Returns the character length of a string.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM employees
| KEEP first_name, last_name, height
| EVAL fn_length = LENGTH(first_name)</pre>
</div>
<h3><a id="esql-ltrim"></a><code class="literal">LTRIM</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/ltrim.asciidoc">edit</a></h3>
<p>Removes leading whitespaces from strings.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW message = "   some text  ",  color = " red "
| EVAL message = LTRIM(message)
| EVAL color = LTRIM(color)
| EVAL message = CONCAT("'", message, "'")
| EVAL color = CONCAT("'", color, "'")</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">message:keyword</th>
<th align="left" valign="top">color:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>'some text  '</p></td>
<td align="left" valign="top"><p>'red '</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-replace"></a><code class="literal">REPLACE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/replace.asciidoc">edit</a></h3>
<p>The function substitutes in the string (1st argument) any match of the regular expression (2nd argument) with the replacement string (3rd argument).</p>
<p>If any of the arguments are <code class="literal">NULL</code>, the result is <code class="literal">NULL</code>.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
This example replaces an occurrence of the word "World" with the word "Universe":
</li>
</ol>
</div>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW str = "Hello World"
| EVAL str = REPLACE(str, "World", "Universe")
| KEEP str</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">str:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Hello Universe</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-right"></a><code class="literal">RIGHT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/right.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="420" height="46" viewbox="0 0 420 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m80 0h10m32 0h10m92 0h10m32 0h10m92 0h10m32 0h5"/><rect class="s" x="5" y="5" width="80" height="36"/><text class="k" x="15" y="31">RIGHT</text><rect class="s" x="95" y="5" width="32" height="36" rx="7"/><text class="syn" x="105" y="31">(</text><rect class="s" x="137" y="5" width="92" height="36" rx="7"/><text class="k" x="147" y="31">string</text><rect class="s" x="239" y="5" width="32" height="36" rx="7"/><text class="syn" x="249" y="31">,</text><rect class="s" x="281" y="5" width="92" height="36" rx="7"/><text class="k" x="291" y="31">length</text><rect class="s" x="383" y="5" width="32" height="36" rx="7"/><text class="syn" x="393" y="31">)</text></svg>
</div>
</div>
<p>Return the substring that extracts <em>length</em> chars from the <em>string</em> starting from the right.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| KEEP last_name
| EVAL right = RIGHT(last_name, 3)
| SORT last_name ASC
| LIMIT 5</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">last_name:keyword</th>
<th align="left" valign="top">right:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Awdeh</p></td>
<td align="left" valign="top"><p>deh</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Azuma</p></td>
<td align="left" valign="top"><p>uma</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Baek</p></td>
<td align="left" valign="top"><p>aek</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bamford</p></td>
<td align="left" valign="top"><p>ord</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bernatsky</p></td>
<td align="left" valign="top"><p>sky</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">string</th>
<th align="left" valign="top">length</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-rtrim"></a><code class="literal">RTRIM</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/rtrim.asciidoc">edit</a></h3>
<p>Removes trailing whitespaces from strings.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW message = "   some text  ",  color = " red "
| EVAL message = RTRIM(message)
| EVAL color = RTRIM(color)
| EVAL message = CONCAT("'", message, "'")
| EVAL color = CONCAT("'", color, "'")</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">message:keyword</th>
<th align="left" valign="top">color:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>'   some text'</p></td>
<td align="left" valign="top"><p>' red'</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-split"></a><code class="literal">SPLIT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/split.asciidoc">edit</a></h3>
<p>Split a single valued string into multiple strings. For example:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">ROW words="foo;bar;baz;qux;quux;corge"
| EVAL word = SPLIT(words, ";")</pre>
</div>
<p>Which splits <code class="literal">"foo;bar;baz;qux;quux;corge"</code> on <code class="literal">;</code> and returns an array:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">words:keyword</th>
<th align="left" valign="top">word:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>foo;bar;baz;qux;quux;corge</p></td>
<td align="left" valign="top"><p>[foo,bar,baz,qux,quux,corge]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only single byte delimiters are currently supported.</p>
</div>
</div>
<h3><a id="esql-substring"></a><code class="literal">SUBSTRING</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/substring.asciidoc">edit</a></h3>
<p>Returns a substring of a string, specified by a start position and an optional
length. This example returns the first three characters of every last name:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| KEEP last_name
| EVAL ln_sub = SUBSTRING(last_name, 1, 3)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">last_name:keyword</th>
<th align="left" valign="top">ln_sub:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Awdeh</p></td>
<td align="left" valign="top"><p>Awd</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Azuma</p></td>
<td align="left" valign="top"><p>Azu</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Baek</p></td>
<td align="left" valign="top"><p>Bae</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bamford</p></td>
<td align="left" valign="top"><p>Bam</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bernatsky</p></td>
<td align="left" valign="top"><p>Ber</p></td>
</tr>
</tbody>
</table>
</div>
<p>A negative start position is interpreted as being relative to the end of the
string. This example returns the last three characters of of every last name:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| KEEP last_name
| EVAL ln_sub = SUBSTRING(last_name, -3, 3)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">last_name:keyword</th>
<th align="left" valign="top">ln_sub:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Awdeh</p></td>
<td align="left" valign="top"><p>deh</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Azuma</p></td>
<td align="left" valign="top"><p>uma</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Baek</p></td>
<td align="left" valign="top"><p>aek</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bamford</p></td>
<td align="left" valign="top"><p>ord</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bernatsky</p></td>
<td align="left" valign="top"><p>sky</p></td>
</tr>
</tbody>
</table>
</div>
<p>If length is omitted, substring returns the remainder of the string. This
example returns all characters except for the first:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| KEEP last_name
| EVAL ln_sub = SUBSTRING(last_name, 2)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">last_name:keyword</th>
<th align="left" valign="top">ln_sub:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Awdeh</p></td>
<td align="left" valign="top"><p>wdeh</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Azuma</p></td>
<td align="left" valign="top"><p>zuma</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Baek</p></td>
<td align="left" valign="top"><p>aek</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bamford</p></td>
<td align="left" valign="top"><p>amford</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bernatsky</p></td>
<td align="left" valign="top"><p>ernatsky</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-trim"></a><code class="literal">TRIM</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/trim.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="240" height="46" viewbox="0 0 240 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m68 0h10m32 0h10m68 0h10m32 0h5"/><rect class="s" x="5" y="5" width="68" height="36"/><text class="k" x="15" y="31">TRIM</text><rect class="s" x="83" y="5" width="32" height="36" rx="7"/><text class="syn" x="93" y="31">(</text><rect class="s" x="125" y="5" width="68" height="36" rx="7"/><text class="k" x="135" y="31">arg1</text><rect class="s" x="203" y="5" width="32" height="36" rx="7"/><text class="syn" x="213" y="31">)</text></svg>
</div>
</div>
<p>Removes leading and trailing whitespaces from strings.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW message = "   some text  ",  color = " red "
| EVAL message = TRIM(message)
| EVAL color = TRIM(color)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">message:s</th>
<th align="left" valign="top">color:s</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>some text</p></td>
<td align="left" valign="top"><p>red</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">arg1</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>text</p></td>
<td align="left" valign="top"><p>text</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="esql-date-time-functions"></a>ES|QL date-time functions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/date-time-functions.asciidoc">edit</a></h3>
</div></div></div>

<p>ES|QL supports these date-time functions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-auto_bucket" title="AUTO_BUCKET"><code class="literal">AUTO_BUCKET</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-date_extract" title="DATE_EXTRACT"><code class="literal">DATE_EXTRACT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-date_format" title="DATE_FORMAT"><code class="literal">DATE_FORMAT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-date_parse" title="DATE_PARSE"><code class="literal">DATE_PARSE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-date_trunc" title="DATE_TRUNC"><code class="literal">DATE_TRUNC</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-now" title="NOW"><code class="literal">NOW</code></a>
</li>
</ul>
</div>
<h3><a id="esql-auto_bucket"></a><code class="literal">AUTO_BUCKET</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/auto_bucket.asciidoc">edit</a></h3>
<p>Creates human-friendly buckets and returns a <code class="literal">datetime</code> value for each row that
corresponds to the resulting bucket the row falls into. Combine <code class="literal">AUTO_BUCKET</code>
with <a class="xref" href="esql-commands.html#esql-stats-by" title="STATS ... BY"><code class="literal">STATS ... BY</code></a> to create a date histogram.</p>
<p>You provide a target number of buckets, a start date, and an end date, and it
picks an appropriate bucket size to generate the target number of buckets or
fewer. For example, this asks for at most 20 buckets over a whole year, which
picks monthly buckets:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW date=TO_DATETIME("1985-07-09T00:00:00.000Z")
| EVAL bucket=AUTO_BUCKET(date, 20, "1985-01-01T00:00:00Z", "1986-01-01T00:00:00Z")</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">date:datetime</th>
<th align="left" valign="top">bucket:datetime</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1985-07-09T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>1985-07-01T00:00:00.000Z</p></td>
</tr>
</tbody>
</table>
</div>
<p>The goal isn&#8217;t to provide <span class="strong strong"><strong>exactly</strong></span> the target number of buckets, it&#8217;s to pick a
range that people are comfortable with that provides at most the target number of
buckets.</p>
<p>If you ask for more buckets then <code class="literal">AUTO_BUCKET</code> can pick a smaller range. For example,
asking for at most 100 buckets in a year will get you week long buckets:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW date=TO_DATETIME("1985-07-09T00:00:00.000Z")
| EVAL bucket=AUTO_BUCKET(date, 100, "1985-01-01T00:00:00Z", "1986-01-01T00:00:00Z")</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">date:datetime</th>
<th align="left" valign="top">bucket:datetime</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1985-07-09T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>1985-07-08T00:00:00.000Z</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="literal">AUTO_BUCKET</code> does not filter any rows. It only uses the provided time range to
pick a good bucket size. For rows with a date outside of the range, it returns a
<code class="literal">datetime</code> that corresponds to a bucket outside the range. Combine <code class="literal">AUTO_BUCKET</code>
with <a class="xref" href="esql-commands.html#esql-where" title="WHERE"><code class="literal">WHERE</code></a> to filter rows.</p>
<p>A more complete example might look like:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| WHERE hire_date &gt;= "1985-01-01T00:00:00Z" AND hire_date &lt; "1986-01-01T00:00:00Z"
| EVAL bucket = AUTO_BUCKET(hire_date, 20, "1985-01-01T00:00:00Z", "1986-01-01T00:00:00Z")
| STATS AVG(salary) BY bucket
| SORT bucket</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">AVG(salary):double</th>
<th align="left" valign="top">bucket:date</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>46305.0</p></td>
<td align="left" valign="top"><p>1985-02-01T00:00:00.000Z</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>44817.0</p></td>
<td align="left" valign="top"><p>1985-05-01T00:00:00.000Z</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>62405.0</p></td>
<td align="left" valign="top"><p>1985-07-01T00:00:00.000Z</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>49095.0</p></td>
<td align="left" valign="top"><p>1985-09-01T00:00:00.000Z</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>51532.0</p></td>
<td align="left" valign="top"><p>1985-10-01T00:00:00.000Z</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>54539.75</p></td>
<td align="left" valign="top"><p>1985-11-01T00:00:00.000Z</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p><code class="literal">AUTO_BUCKET</code> does not create buckets that don&#8217;t match any documents. That&#8217;s
why the example above is missing <code class="literal">1985-03-01</code> and other dates.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_numeric_fields"></a>Numeric fields<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/auto_bucket.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">auto_bucket</code> can also operate on numeric fields like this:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| WHERE hire_date &gt;= "1985-01-01T00:00:00Z" AND hire_date &lt; "1986-01-01T00:00:00Z"
| EVAL bs = AUTO_BUCKET(salary, 20, 25324, 74999)
| SORT hire_date, salary
| KEEP hire_date, salary, bs</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">hire_date:date</th>
<th align="left" valign="top">salary:integer</th>
<th align="left" valign="top">bs:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1985-02-18T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>66174</p></td>
<td align="left" valign="top"><p>65000.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>1985-02-24T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>26436</p></td>
<td align="left" valign="top"><p>25000.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>1985-05-13T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>44817</p></td>
<td align="left" valign="top"><p>40000.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>1985-07-09T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>62405</p></td>
<td align="left" valign="top"><p>60000.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>1985-09-17T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>49095</p></td>
<td align="left" valign="top"><p>45000.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>1985-10-14T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>54329</p></td>
<td align="left" valign="top"><p>50000.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>1985-10-20T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>48735</p></td>
<td align="left" valign="top"><p>45000.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>1985-11-19T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>52833</p></td>
<td align="left" valign="top"><p>50000.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>1985-11-20T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>33956</p></td>
<td align="left" valign="top"><p>30000.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>1985-11-20T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>74999</p></td>
<td align="left" valign="top"><p>70000.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>1985-11-21T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>56371</p></td>
<td align="left" valign="top"><p>55000.0</p></td>
</tr>
</tbody>
</table>
</div>
<p>Unlike the example above where you are intentionally filtering on a date range,
you rarely want to filter on a numeric range. So you have find the <code class="literal">min</code> and <code class="literal">max</code>
separately. We don&#8217;t yet have an easy way to do that automatically. Improvements
coming!</p>
<h3><a id="esql-date_extract"></a><code class="literal">DATE_EXTRACT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/date_extract.asciidoc">edit</a></h3>
<p>Extracts parts of a date, like year, month, day, hour.
The supported field types are those provided by <a href="https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoField.html" class="ulink" target="_top">java.time.temporal.ChronoField</a>.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW date = DATE_PARSE("yyyy-MM-dd", "2022-05-06")
| EVAL year = DATE_EXTRACT("year", date)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">date:date</th>
<th align="left" valign="top">year:long</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>2022-05-06T00:00:00.000Z</p></td>
<td align="left" valign="top"><p>2022</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-date_format"></a><code class="literal">DATE_FORMAT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/date_format.asciidoc">edit</a></h3>
<p>Returns a string representation of a date in the provided format. If no format
is specified, the <code class="literal">yyyy-MM-dd'T'HH:mm:ss.SSSZ</code> format is used.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM employees
| KEEP first_name, last_name, hire_date
| EVAL hired = DATE_FORMAT("YYYY-MM-dd", hire_date)</pre>
</div>
<h3><a id="esql-date_parse"></a><code class="literal">DATE_PARSE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/date_parse.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Syntax</strong></span></p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">DATE_PARSE([format,] date_string)</pre>
</div>
<p><span class="strong strong"><strong>Parameters</strong></span></p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">format</code>
</span>
</dt>
<dd>
The date format. Refer to the
<a href="https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/time/format/DateTimeFormatter.html" class="ulink" target="_top"><code class="literal">DateTimeFormatter</code>
documentation</a> for the syntax. If <code class="literal">null</code>, the function returns <code class="literal">null</code>.
</dd>
<dt>
<span class="term">
<code class="literal">date_string</code>
</span>
</dt>
<dd>
Date expression as a string. If <code class="literal">null</code> or an empty string, the function returns
<code class="literal">null</code>.
</dd>
</dl>
</div>
<p><span class="strong strong"><strong>Description</strong></span></p>
<p>Returns a date by parsing the second argument using the format specified in the
first argument.</p>
<p><span class="strong strong"><strong>Example</strong></span></p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW date_string = "2022-05-06"
| EVAL date = DATE_PARSE("yyyy-MM-dd", date_string)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">date_string:keyword</th>
<th align="left" valign="top">date:date</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>2022-05-06</p></td>
<td align="left" valign="top"><p>2022-05-06T00:00:00.000Z</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-date_trunc"></a><code class="literal">DATE_TRUNC</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/date_trunc.asciidoc">edit</a></h3>
<p>Rounds down a date to the closest interval. Intervals can be expressed using the
<a class="xref" href="esql-syntax.html#esql-timespan-literals" title="Timespan literals">timespan literal syntax</a>.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM employees
| EVAL year_hired = DATE_TRUNC(1 year, hire_date)
| STATS COUNT(emp_no) BY year_hired
| SORT year_hired</pre>
</div>
<h3><a id="esql-now"></a><code class="literal">NOW</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/now.asciidoc">edit</a></h3>
<p>Returns current date and time.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">ROW current_date = NOW()</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="esql-type-conversion-functions"></a>ES|QL type conversion functions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/type-conversion-functions.asciidoc">edit</a></h3>
</div></div></div>

<p>ES|QL supports these type conversion functions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_boolean" title="TO_BOOLEAN"><code class="literal">TO_BOOLEAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_datetime" title="TO_DATETIME"><code class="literal">TO_DATETIME</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_degrees" title="TO_DEGREES"><code class="literal">TO_DEGREES</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_double" title="TO_DOUBLE"><code class="literal">TO_DOUBLE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_integer" title="TO_INTEGER"><code class="literal">TO_INTEGER</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_ip" title="TO_IP"><code class="literal">TO_IP</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_long" title="TO_LONG"><code class="literal">TO_LONG</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_radians" title="TO_RADIANS"><code class="literal">TO_RADIANS</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_string" title="TO_STRING"><code class="literal">TO_STRING</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_unsigned_long" title="TO_UNSIGNED_LONG"><code class="literal">TO_UNSIGNED_LONG</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-to_version" title="TO_VERSION"><code class="literal">TO_VERSION</code></a>
</li>
</ul>
</div>
<h3><a id="esql-to_boolean"></a><code class="literal">TO_BOOLEAN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_boolean.asciidoc">edit</a></h3>
<p>Converts an input value to a boolean value.</p>
<p>The input can be a single- or multi-valued field or an expression. The input
type must be of a string or numeric type.</p>
<p>A string value of <span class="strong strong"><strong>"true"</strong></span> will be case-insensitive converted to the Boolean
<span class="strong strong"><strong>true</strong></span>. For anything else, including the empty string, the function will
return <span class="strong strong"><strong>false</strong></span>. For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW str = ["true", "TRuE", "false", "", "yes", "1"]
| EVAL bool = TO_BOOLEAN(str)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">str:keyword</th>
<th align="left" valign="top">bool:boolean</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>["true", "TRuE", "false", "", "yes", "1"]</p></td>
<td align="left" valign="top"><p>[true, true, false, false, false, false]</p></td>
</tr>
</tbody>
</table>
</div>
<p>The numerical value of <span class="strong strong"><strong>0</strong></span> will be converted to <span class="strong strong"><strong>false</strong></span>, anything else will be
converted to <span class="strong strong"><strong>true</strong></span>.</p>
<p>Alias: TO_BOOL</p>
<h3><a id="esql-to_datetime"></a><code class="literal">TO_DATETIME</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_datetime.asciidoc">edit</a></h3>
<p>Converts an input value to a date value.</p>
<p>The input can be a single- or multi-valued field or an expression. The input
type must be of a string or numeric type.</p>
<p>A string will only be successfully converted if it&#8217;s respecting the format
<code class="literal">yyyy-MM-dd'T'HH:mm:ss.SSS'Z'</code> (to convert dates in other formats, use <a class="xref" href="esql-functions-operators.html#esql-date_parse" title="DATE_PARSE"><code class="literal">DATE_PARSE</code></a>). For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW string = ["1953-09-02T00:00:00.000Z", "1964-06-02T00:00:00.000Z", "1964-06-02 00:00:00"]
| EVAL datetime = TO_DATETIME(string)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">string:keyword</th>
<th align="left" valign="top">datetime:date</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>["1953-09-02T00:00:00.000Z", "1964-06-02T00:00:00.000Z", "1964-06-02 00:00:00"]</p></td>
<td align="left" valign="top"><p>[1953-09-02T00:00:00.000Z, 1964-06-02T00:00:00.000Z]</p></td>
</tr>
</tbody>
</table>
</div>
<p>Note that in this example, the last value in the source multi-valued
field has not been converted. The reason being that if the date format is not
respected, the conversion will result in a <span class="strong strong"><strong>null</strong></span> value. When this happens a
<em>Warning</em> header is added to the response. The header will provide information
on the source of the failure:</p>
<p><code class="literal">"Line 1:112: evaluation of [TO_DATETIME(string)] failed, treating result as null. Only first 20 failures recorded."</code></p>
<p>A following header will contain the failure reason and the offending value:</p>
<p><code class="literal">"java.lang.IllegalArgumentException: failed to parse date field [1964-06-02 00:00:00] with format [yyyy-MM-dd'T'HH:mm:ss.SSS'Z']"</code></p>
<p>If the input parameter is of a numeric type, its value will be interpreted as
milliseconds since the <a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix epoch</a>.
For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW int = [0, 1]
| EVAL dt = TO_DATETIME(int)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">int:integer</th>
<th align="left" valign="top">dt:date</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[0, 1]</p></td>
<td align="left" valign="top"><p>[1970-01-01T00:00:00.000Z, 1970-01-01T00:00:00.001Z]</p></td>
</tr>
</tbody>
</table>
</div>
<p>Alias: TO_DT</p>
<h3><a id="esql-to_degrees"></a><code class="literal">TO_DEGREES</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_degrees.asciidoc">edit</a></h3>
<p>Converts a number in <a href="https://en.wikipedia.org/wiki/Radian" class="ulink" target="_top">radians</a>
to <a href="https://en.wikipedia.org/wiki/Degree_(angle)" class="ulink" target="_top">degrees</a>.</p>
<p>The input can be a single- or multi-valued field or an expression. The input
type must be of a numeric type and result is always <code class="literal">double</code>.</p>
<p>Example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW rad = [1.57, 3.14, 4.71]
| EVAL deg = TO_DEGREES(rad)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">rad:double</th>
<th align="left" valign="top">deg:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[1.57, 3.14, 4.71]</p></td>
<td align="left" valign="top"><p>[89.95437383553924, 179.9087476710785, 269.86312150661774]</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-to_double"></a><code class="literal">TO_DOUBLE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_double.asciidoc">edit</a></h3>
<p>Converts an input value to a double value.</p>
<p>The input can be a single- or multi-valued field or an expression. The input
type must be of a boolean, date, string or numeric type.</p>
<p>Example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW str1 = "5.20128E11", str2 = "foo"
| EVAL dbl = TO_DOUBLE("520128000000"), dbl1 = TO_DOUBLE(str1), dbl2 = TO_DOUBLE(str2)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
<col class="col_5"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">str1:keyword</th>
<th align="left" valign="top">str2:keyword</th>
<th align="left" valign="top">dbl:double</th>
<th align="left" valign="top">dbl1:double</th>
<th align="left" valign="top">dbl2:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>5.20128E11</p></td>
<td align="left" valign="top"><p>foo</p></td>
<td align="left" valign="top"><p>5.20128E11</p></td>
<td align="left" valign="top"><p>5.20128E11</p></td>
<td align="left" valign="top"><p>null</p></td>
</tr>
</tbody>
</table>
</div>
<p>Note that in this example, the last conversion of the string isn&#8217;t
possible. When this happens, the result is a <span class="strong strong"><strong>null</strong></span> value. In this case a
<em>Warning</em> header is added to the response. The header will provide information
on the source of the failure:</p>
<p><code class="literal">"Line 1:115: evaluation of [TO_DOUBLE(str2)] failed, treating result as null. Only first 20 failures recorded."</code></p>
<p>A following header will contain the failure reason and the offending value:</p>
<p><code class="literal">"java.lang.NumberFormatException: For input string: \"foo\""</code></p>
<p>If the input parameter is of a date type, its value will be interpreted as
milliseconds since the <a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix epoch</a>,
converted to double.</p>
<p>Boolean <span class="strong strong"><strong>true</strong></span> will be converted to double <span class="strong strong"><strong>1.0</strong></span>, <span class="strong strong"><strong>false</strong></span> to <span class="strong strong"><strong>0.0</strong></span>.</p>
<p>Alias: TO_DBL</p>
<h3><a id="esql-to_integer"></a><code class="literal">TO_INTEGER</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_integer.asciidoc">edit</a></h3>
<p>Converts an input value to an integer  value.</p>
<p>The input can be a single- or multi-valued field or an expression. The input
type must be of a boolean, date, string or numeric type.</p>
<p>Example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW long = [5013792, 2147483647, 501379200000]
| EVAL int = TO_INTEGER(long)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">long:long</th>
<th align="left" valign="top">int:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[5013792, 2147483647, 501379200000]</p></td>
<td align="left" valign="top"><p>[5013792, 2147483647]</p></td>
</tr>
</tbody>
</table>
</div>
<p>Note that in this example, the last value of the multi-valued field cannot
be converted as an integer. When this happens, the result is a <span class="strong strong"><strong>null</strong></span> value.
In this case a <em>Warning</em> header is added to the response. The header will
provide information on the source of the failure:</p>
<p><code class="literal">"Line 1:61: evaluation of [TO_INTEGER(long)] failed, treating result as null. Only first 20 failures recorded."</code></p>
<p>A following header will contain the failure reason and the offending value:</p>
<p><code class="literal">"org.elasticsearch.xpack.ql.QlIllegalArgumentException: [501379200000] out of [integer] range"</code></p>
<p>If the input parameter is of a date type, its value will be interpreted as
milliseconds since the <a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix epoch</a>,
converted to integer.</p>
<p>Boolean <span class="strong strong"><strong>true</strong></span> will be converted to integer <span class="strong strong"><strong>1</strong></span>, <span class="strong strong"><strong>false</strong></span> to <span class="strong strong"><strong>0</strong></span>.</p>
<p>Alias: TO_INT</p>
<h3><a id="esql-to_ip"></a><code class="literal">TO_IP</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_ip.asciidoc">edit</a></h3>
<p>Converts an input string to an IP value.</p>
<p>The input can be a single- or multi-valued field or an expression.</p>
<p>Example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW str1 = "1.1.1.1", str2 = "foo"
| EVAL ip1 = TO_IP(str1), ip2 = TO_IP(str2)
| WHERE CIDR_MATCH(ip1, "1.0.0.0/8")</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">str1:keyword</th>
<th align="left" valign="top">str2:keyword</th>
<th align="left" valign="top">ip1:ip</th>
<th align="left" valign="top">ip2:ip</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1.1.1.1</p></td>
<td align="left" valign="top"><p>foo</p></td>
<td align="left" valign="top"><p>1.1.1.1</p></td>
<td align="left" valign="top"><p>null</p></td>
</tr>
</tbody>
</table>
</div>
<p>Note that in the example above the last conversion of the string isn&#8217;t
possible. When this happens, the result is a <span class="strong strong"><strong>null</strong></span> value. In this case a
<em>Warning</em> header is added to the response. The header will provide information
on the source of the failure:</p>
<p><code class="literal">"Line 1:68: evaluation of [TO_IP(str2)] failed, treating result as null. Only first 20 failures recorded."</code></p>
<p>A following header will contain the failure reason and the offending value:</p>
<p><code class="literal">"java.lang.IllegalArgumentException: 'foo' is not an IP string literal."</code></p>
<h3><a id="esql-to_long"></a><code class="literal">TO_LONG</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_long.asciidoc">edit</a></h3>
<p>Converts an input value to a long value.</p>
<p>The input can be a single- or multi-valued field or an expression. The input
type must be of a boolean, date, string or numeric type.</p>
<p>Example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW str1 = "2147483648", str2 = "2147483648.2", str3 = "foo"
| EVAL long1 = TO_LONG(str1), long2 = TO_LONG(str2), long3 = TO_LONG(str3)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
<col class="col_5"/>
<col class="col_6"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">str1:keyword</th>
<th align="left" valign="top">str2:keyword</th>
<th align="left" valign="top">str3:keyword</th>
<th align="left" valign="top">long1:long</th>
<th align="left" valign="top">long2:long</th>
<th align="left" valign="top">long3:long</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>2147483648</p></td>
<td align="left" valign="top"><p>2147483648.2</p></td>
<td align="left" valign="top"><p>foo</p></td>
<td align="left" valign="top"><p>2147483648</p></td>
<td align="left" valign="top"><p>2147483648</p></td>
<td align="left" valign="top"><p>null</p></td>
</tr>
</tbody>
</table>
</div>
<p>Note that in this example, the last conversion of the string isn&#8217;t
possible. When this happens, the result is a <span class="strong strong"><strong>null</strong></span> value. In this case a
<em>Warning</em> header is added to the response. The header will provide information
on the source of the failure:</p>
<p><code class="literal">"Line 1:113: evaluation of [TO_LONG(str3)] failed, treating result as null. Only first 20 failures recorded."</code></p>
<p>A following header will contain the failure reason and the offending value:</p>
<p><code class="literal">"java.lang.NumberFormatException: For input string: \"foo\""</code></p>
<p>If the input parameter is of a date type, its value will be interpreted as
milliseconds since the <a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix epoch</a>,
converted to long.</p>
<p>Boolean <span class="strong strong"><strong>true</strong></span> will be converted to long <span class="strong strong"><strong>1</strong></span>, <span class="strong strong"><strong>false</strong></span> to <span class="strong strong"><strong>0</strong></span>.</p>
<h3><a id="esql-to_radians"></a><code class="literal">TO_RADIANS</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_radians.asciidoc">edit</a></h3>
<p>Converts a number in <a href="https://en.wikipedia.org/wiki/Degree_(angle)" class="ulink" target="_top">degrees</a> to
<a href="https://en.wikipedia.org/wiki/Radian" class="ulink" target="_top">radians</a>.</p>
<p>The input can be a single- or multi-valued field or an expression. The input
type must be of a numeric type and result is always <code class="literal">double</code>.</p>
<p>Example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW deg = [90.0, 180.0, 270.0]
| EVAL rad = TO_RADIANS(deg)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">deg:double</th>
<th align="left" valign="top">rad:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[90.0, 180.0, 270.0]</p></td>
<td align="left" valign="top"><p>[1.5707963267948966, 3.141592653589793, 4.71238898038469]</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-to_string"></a><code class="literal">TO_STRING</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_string.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="264" height="46" viewbox="0 0 264 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m128 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="128" height="36"/><text class="k" x="15" y="31">TO_STRING</text><rect class="s" x="143" y="5" width="32" height="36" rx="7"/><text class="syn" x="153" y="31">(</text><rect class="s" x="185" y="5" width="32" height="36" rx="7"/><text class="k" x="195" y="31">v</text><rect class="s" x="227" y="5" width="32" height="36" rx="7"/><text class="syn" x="237" y="31">)</text></svg>
</div>
</div>
<p>Converts a field into a string. For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=10
| EVAL j = TO_STRING(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">j:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>10</p></td>
<td align="left" valign="top"><p>"10"</p></td>
</tr>
</tbody>
</table>
</div>
<p>It also works fine on multivalued fields:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=[10, 9, 8]
| EVAL j = TO_STRING(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">j:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[10, 9, 8]</p></td>
<td align="left" valign="top"><p>["10", "9", "8"]</p></td>
</tr>
</tbody>
</table>
</div>
<p>Alias: TO_STR</p>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">v</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>boolean</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>datetime</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>ip</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>text</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>version</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-to_unsigned_long"></a><code class="literal">TO_UNSIGNED_LONG</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_unsigned_long.asciidoc">edit</a></h3>
<p>Converts an input value to an unsigned long value.</p>
<p>The input can be a single- or multi-valued field or an expression. The input
type must be of a boolean, date, string or numeric type.</p>
<p>Example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW str1 = "2147483648", str2 = "2147483648.2", str3 = "foo"
| EVAL long1 = TO_UNSIGNED_LONG(str1), long2 = TO_ULONG(str2), long3 = TO_UL(str3)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
<col class="col_5"/>
<col class="col_6"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">str1:keyword</th>
<th align="left" valign="top">str2:keyword</th>
<th align="left" valign="top">str3:keyword</th>
<th align="left" valign="top">long1:unsigned_long</th>
<th align="left" valign="top">long2:unsigned_long</th>
<th align="left" valign="top">long3:unsigned_long</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>2147483648</p></td>
<td align="left" valign="top"><p>2147483648.2</p></td>
<td align="left" valign="top"><p>foo</p></td>
<td align="left" valign="top"><p>2147483648</p></td>
<td align="left" valign="top"><p>2147483648</p></td>
<td align="left" valign="top"><p>null</p></td>
</tr>
</tbody>
</table>
</div>
<p>Note that in this example, the last conversion of the string isn&#8217;t
possible. When this happens, the result is a <span class="strong strong"><strong>null</strong></span> value. In this case a
<em>Warning</em> header is added to the response. The header will provide information
on the source of the failure:</p>
<p><code class="literal">"Line 1:133: evaluation of [TO_UL(str3)] failed, treating result as null. Only first 20 failures recorded."</code></p>
<p>A following header will contain the failure reason and the offending value:</p>
<p><code class="literal">"java.lang.NumberFormatException: Character f is neither a decimal digit number, decimal point, nor \"e\" notation exponential mark."</code></p>
<p>If the input parameter is of a date type, its value will be interpreted as
milliseconds since the <a href="https://en.wikipedia.org/wiki/Unix_time" class="ulink" target="_top">Unix epoch</a>,
converted to unsigned long.</p>
<p>Boolean <span class="strong strong"><strong>true</strong></span> will be converted to unsigned long <span class="strong strong"><strong>1</strong></span>, <span class="strong strong"><strong>false</strong></span> to <span class="strong strong"><strong>0</strong></span>.</p>
<p>Alias: TO_ULONG, TO_UL</p>
<h3><a id="esql-to_version"></a><code class="literal">TO_VERSION</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/to_version.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="276" height="46" viewbox="0 0 276 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m140 0h10m32 0h10m32 0h10m32 0h5"/><rect class="s" x="5" y="5" width="140" height="36"/><text class="k" x="15" y="31">TO_VERSION</text><rect class="s" x="155" y="5" width="32" height="36" rx="7"/><text class="syn" x="165" y="31">(</text><rect class="s" x="197" y="5" width="32" height="36" rx="7"/><text class="k" x="207" y="31">v</text><rect class="s" x="239" y="5" width="32" height="36" rx="7"/><text class="syn" x="249" y="31">)</text></svg>
</div>
</div>
<p>Converts an input string to a version value. For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW v = TO_VERSION("1.2.3")</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">v:version</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1.2.3</p></td>
</tr>
</tbody>
</table>
</div>
<p>The input can be a single- or multi-valued field or an expression.</p>
<p>Alias: TO_VER</p>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">v</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>version</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>text</p></td>
<td align="left" valign="top"><p>version</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>version</p></td>
<td align="left" valign="top"><p>version</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="esql-conditional-functions-and-expressions"></a>ES|QL conditional functions and expressions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/conditional-functions-and-expressions.asciidoc">edit</a></h3>
</div></div></div>

<p>Conditional functions return one of their arguments by evaluating in an if-else
manner. ES|QL supports these conditional functions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-case" title="CASE"><code class="literal">CASE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-coalesce" title="COALESCE"><code class="literal">COALESCE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-greatest" title="GREATEST"><code class="literal">GREATEST</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-least" title="LEAST"><code class="literal">LEAST</code></a>
</li>
</ul>
</div>
<h3><a id="esql-case"></a><code class="literal">CASE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/case.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Syntax</strong></span></p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">CASE(condition1, value1[, ..., conditionN, valueN][, default_value])</pre>
</div>
<p><span class="strong strong"><strong>Parameters</strong></span></p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">conditionX</code>
</span>
</dt>
<dd>
A condition.
</dd>
<dt>
<span class="term">
<code class="literal">valueX</code>
</span>
</dt>
<dd>
The value that&#8217;s returned when the corresponding condition is the first to
evaluate to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">default_value</code>
</span>
</dt>
<dd>
The default value that&#8217;s is returned when no condition matches.
</dd>
</dl>
</div>
<p><span class="strong strong"><strong>Description</strong></span></p>
<p>Accepts pairs of conditions and values. The function returns the value that
belongs to the first condition that evaluates to <code class="literal">true</code>.</p>
<p>If the number of arguments is odd, the last argument is the default value which
is returned when no condition matches.</p>
<p><span class="strong strong"><strong>Example</strong></span></p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| EVAL type = CASE(
    languages &lt;= 1, "monolingual",
    languages &lt;= 2, "bilingual",
     "polyglot")
| KEEP emp_no, languages, type</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">emp_no:integer</th>
<th align="left" valign="top">languages:integer</th>
<th align="left" valign="top">type:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>10001</p></td>
<td align="left" valign="top"><p>2</p></td>
<td align="left" valign="top"><p>bilingual</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>10002</p></td>
<td align="left" valign="top"><p>5</p></td>
<td align="left" valign="top"><p>polyglot</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>10003</p></td>
<td align="left" valign="top"><p>4</p></td>
<td align="left" valign="top"><p>polyglot</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>10004</p></td>
<td align="left" valign="top"><p>5</p></td>
<td align="left" valign="top"><p>polyglot</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>10005</p></td>
<td align="left" valign="top"><p>1</p></td>
<td align="left" valign="top"><p>monolingual</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-coalesce"></a><code class="literal">COALESCE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/coalesce.asciidoc">edit</a></h3>
<p>Returns the first non-null value.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=null, b="b"
| EVAL COALESCE(a, b)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:null</th>
<th align="left" valign="top">b:keyword</th>
<th align="left" valign="top">COALESCE(a,b):keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>null</p></td>
<td align="left" valign="top"><p>b</p></td>
<td align="left" valign="top"><p>b</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-greatest"></a><code class="literal">GREATEST</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/greatest.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="420" height="46" viewbox="0 0 420 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m116 0h10m32 0h10m80 0h10m32 0h10m68 0h10m32 0h5"/><rect class="s" x="5" y="5" width="116" height="36"/><text class="k" x="15" y="31">GREATEST</text><rect class="s" x="131" y="5" width="32" height="36" rx="7"/><text class="syn" x="141" y="31">(</text><rect class="s" x="173" y="5" width="80" height="36" rx="7"/><text class="k" x="183" y="31">first</text><rect class="s" x="263" y="5" width="32" height="36" rx="7"/><text class="syn" x="273" y="31">,</text><rect class="s" x="305" y="5" width="68" height="36" rx="7"/><text class="k" x="315" y="31">rest</text><rect class="s" x="383" y="5" width="32" height="36" rx="7"/><text class="syn" x="393" y="31">)</text></svg>
</div>
</div>
<p>Returns the maximum value from many columns. This is similar to <a class="xref" href="esql-functions-operators.html#esql-mv_max" title="MV_MAX"><code class="literal">MV_MAX</code></a>
except it&#8217;s intended to run on multiple columns at once.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a = 10, b = 20
| EVAL g = GREATEST(a, b)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">b:integer</th>
<th align="left" valign="top">g:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>10</p></td>
<td align="left" valign="top"><p>20</p></td>
<td align="left" valign="top"><p>20</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>When run on <code class="literal">keyword</code> or <code class="literal">text</code> fields, this&#8217;ll return the last string
      in alphabetical order. When run on <code class="literal">boolean</code> columns this will return
      <code class="literal">true</code> if any values are <code class="literal">true</code>.</p>
</div>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">first</th>
<th align="left" valign="top">rest</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>boolean</p></td>
<td align="left" valign="top"><p>boolean</p></td>
<td align="left" valign="top"><p>boolean</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>integer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>ip</p></td>
<td align="left" valign="top"><p>ip</p></td>
<td align="left" valign="top"><p>ip</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>text</p></td>
<td align="left" valign="top"><p>text</p></td>
<td align="left" valign="top"><p>text</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>version</p></td>
<td align="left" valign="top"><p>version</p></td>
<td align="left" valign="top"><p>version</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-least"></a><code class="literal">LEAST</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/least.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="384" height="46" viewbox="0 0 384 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m80 0h10m32 0h10m80 0h10m32 0h10m68 0h10m32 0h5"/><rect class="s" x="5" y="5" width="80" height="36"/><text class="k" x="15" y="31">LEAST</text><rect class="s" x="95" y="5" width="32" height="36" rx="7"/><text class="syn" x="105" y="31">(</text><rect class="s" x="137" y="5" width="80" height="36" rx="7"/><text class="k" x="147" y="31">first</text><rect class="s" x="227" y="5" width="32" height="36" rx="7"/><text class="syn" x="237" y="31">,</text><rect class="s" x="269" y="5" width="68" height="36" rx="7"/><text class="k" x="279" y="31">rest</text><rect class="s" x="347" y="5" width="32" height="36" rx="7"/><text class="syn" x="357" y="31">)</text></svg>
</div>
</div>
<p>Returns the minimum value from many columns. This is similar to <a class="xref" href="esql-functions-operators.html#esql-mv_min" title="MV_MIN"><code class="literal">MV_MIN</code></a>
except it&#8217;s intended to run on multiple columns at once.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a = 10, b = 20
| EVAL l = LEAST(a, b)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">b:integer</th>
<th align="left" valign="top">l:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>10</p></td>
<td align="left" valign="top"><p>20</p></td>
<td align="left" valign="top"><p>10</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>When run on <code class="literal">keyword</code> or <code class="literal">text</code> fields, this&#8217;ll return the first string
      in alphabetical order. When run on <code class="literal">boolean</code> columns this will return
      <code class="literal">false</code> if any values are <code class="literal">false</code>.</p>
</div>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">first</th>
<th align="left" valign="top">rest</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>boolean</p></td>
<td align="left" valign="top"><p>boolean</p></td>
<td align="left" valign="top"><p>boolean</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
<td align="left" valign="top"><p>double</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>integer</p></td>
<td align="left" valign="top"><p>integer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>ip</p></td>
<td align="left" valign="top"><p>ip</p></td>
<td align="left" valign="top"><p>ip</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>text</p></td>
<td align="left" valign="top"><p>text</p></td>
<td align="left" valign="top"><p>text</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>version</p></td>
<td align="left" valign="top"><p>version</p></td>
<td align="left" valign="top"><p>version</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="esql-mv-functions"></a>ES|QL multivalue functions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/mv-functions.asciidoc">edit</a></h3>
</div></div></div>

<p>ES|QL supports these multivalue functions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_avg" title="MV_AVG"><code class="literal">MV_AVG</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_concat" title="MV_CONCAT"><code class="literal">MV_CONCAT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_count" title="MV_COUNT"><code class="literal">MV_COUNT</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_dedupe" title="MV_DEDUPE"><code class="literal">MV_DEDUPE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_max" title="MV_MAX"><code class="literal">MV_MAX</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_median" title="MV_MEDIAN"><code class="literal">MV_MEDIAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_min" title="MV_MIN"><code class="literal">MV_MIN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-mv_sum" title="MV_SUM"><code class="literal">MV_SUM</code></a>
</li>
</ul>
</div>
<h3><a id="esql-mv_avg"></a><code class="literal">MV_AVG</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/mv_avg.asciidoc">edit</a></h3>
<p>Converts a multivalued field into a single valued field containing the average
of all of the values. For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=[3, 5, 1, 6]
| EVAL avg_a = MV_AVG(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">avg_a:double</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[3, 5, 1, 6]</p></td>
<td align="left" valign="top"><p>3.75</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The output type is always a <code class="literal">double</code> and the input type can be any number.</p>
</div>
</div>
<h3><a id="esql-mv_concat"></a><code class="literal">MV_CONCAT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/mv_concat.asciidoc">edit</a></h3>
<p>Converts a multivalued string field into a single valued field containing the
concatenation of all values separated by a delimiter:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=["foo", "zoo", "bar"]
| EVAL j = MV_CONCAT(a, ", ")</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:keyword</th>
<th align="left" valign="top">j:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>["foo", "zoo", "bar"]</p></td>
<td align="left" valign="top"><p>"foo, zoo, bar"</p></td>
</tr>
</tbody>
</table>
</div>
<p>If you want to concat non-string fields call <a class="xref" href="esql-functions-operators.html#esql-to_string" title="TO_STRING"><code class="literal">TO_STRING</code></a> on them first:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=[10, 9, 8]
| EVAL j = MV_CONCAT(TO_STRING(a), ", ")</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">j:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[10, 9, 8]</p></td>
<td align="left" valign="top"><p>"10, 9, 8"</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-mv_count"></a><code class="literal">MV_COUNT</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/mv_count.asciidoc">edit</a></h3>
<p>Converts a multivalued field into a single valued field containing a count of the number
of values:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=["foo", "zoo", "bar"]
| EVAL count_a = MV_COUNT(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:keyword</th>
<th align="left" valign="top">count_a:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>["foo", "zoo", "bar"]</p></td>
<td align="left" valign="top"><p>3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This function accepts all types and always returns an <code class="literal">integer</code>.</p>
</div>
</div>
<h3><a id="esql-mv_dedupe"></a><code class="literal">MV_DEDUPE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/mv_dedupe.asciidoc">edit</a></h3>
<p>Removes duplicates from a multivalued field. For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=["foo", "foo", "bar", "foo"]
| EVAL dedupe_a = MV_DEDUPE(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:keyword</th>
<th align="left" valign="top">dedupe_a:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>["foo", "foo", "bar", "foo"]</p></td>
<td align="left" valign="top"><p>["foo", "bar"]</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p><code class="literal">MV_DEDUPE</code> may, but won&#8217;t always, sort the values in the field.</p>
</div>
</div>
<h3><a id="esql-mv_max"></a><code class="literal">MV_MAX</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/mv_max.asciidoc">edit</a></h3>
<p>Converts a multivalued field into a single valued field containing the maximum value. For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=[3, 5, 1]
| EVAL max_a = MV_MAX(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">max_a:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[3, 5, 1]</p></td>
<td align="left" valign="top"><p>5</p></td>
</tr>
</tbody>
</table>
</div>
<p>It can be used by any field type, including <code class="literal">keyword</code> fields. In that case picks the
last string, comparing their utf-8 representation byte by byte:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=["foo", "zoo", "bar"]
| EVAL max_a = MV_MAX(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:keyword</th>
<th align="left" valign="top">max_a:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>["foo", "zoo", "bar"]</p></td>
<td align="left" valign="top"><p>"zoo"</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-mv_median"></a><code class="literal">MV_MEDIAN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/mv_median.asciidoc">edit</a></h3>
<p>Converts a multivalued field into a single valued field containing the median value. For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=[3, 5, 1]
| EVAL median_a = MV_MEDIAN(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">median_a:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[3, 5, 1]</p></td>
<td align="left" valign="top"><p>3</p></td>
</tr>
</tbody>
</table>
</div>
<p>It can be used by any numeric field type and returns a value of the same type. If the
row has an even number of values for a column the result will be the average of the
middle two entries. If the field is not floating point then the average rounds <span class="strong strong"><strong>down</strong></span>:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=[3, 7, 1, 6]
| EVAL median_a = MV_MEDIAN(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">median_a:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[3, 7, 1, 6]</p></td>
<td align="left" valign="top"><p>4</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-mv_min"></a><code class="literal">MV_MIN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/mv_min.asciidoc">edit</a></h3>
<p>Converts a multivalued field into a single valued field containing the minimum value. For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=[2, 1]
| EVAL min_a = MV_MIN(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">min_a:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[2, 1]</p></td>
<td align="left" valign="top"><p>1</p></td>
</tr>
</tbody>
</table>
</div>
<p>It can be used by any field type, including <code class="literal">keyword</code> fields. In that case picks the
first string, comparing their utf-8 representation byte by byte:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=["foo", "bar"]
| EVAL min_a = MV_MIN(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:keyword</th>
<th align="left" valign="top">min_a:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>["foo", "bar"]</p></td>
<td align="left" valign="top"><p>"bar"</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-mv_sum"></a><code class="literal">MV_SUM</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/mv_sum.asciidoc">edit</a></h3>
<p>Converts a multivalued field into a single valued field containing the sum
of all of the values. For example:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a=[3, 5, 6]
| EVAL sum_a = MV_SUM(a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">sum_a:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>[3, 5, 6]</p></td>
<td align="left" valign="top"><p>14</p></td>
</tr>
</tbody>
</table>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The input type can be any number and the output type is the same as the input type.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="esql-operators"></a>ES|QL operators<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/operators.asciidoc">edit</a></h3>
</div></div></div>

<p>Boolean operators for comparing against one or multiple expressions.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-binary-operators" title="Binary operators">Binary operators</a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-logical-operators" title="Logical operators">Logical operators</a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-predicates" title="IS NULL and IS NOT NULL predicates"><code class="literal">IS NULL</code> and <code class="literal">IS NOT NULL</code> predicates</a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-cidr_match" title="CIDR_MATCH"><code class="literal">CIDR_MATCH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-ends_with" title="ENDS_WITH"><code class="literal">ENDS_WITH</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-in-operator" title="IN"><code class="literal">IN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-is_finite" title="IS_FINITE"><code class="literal">IS_FINITE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-is_infinite" title="IS_INFINITE"><code class="literal">IS_INFINITE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-is_nan" title="IS_NAN"><code class="literal">IS_NAN</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-like-operator" title="LIKE"><code class="literal">LIKE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-rlike-operator" title="RLIKE"><code class="literal">RLIKE</code></a>
</li>
<li class="listitem">
<a class="xref" href="esql-functions-operators.html#esql-starts_with" title="STARTS_WITH"><code class="literal">STARTS_WITH</code></a>
</li>
</ul>
</div>
<h3><a id="esql-binary-operators"></a>Binary operators<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/binary.asciidoc">edit</a></h3>
<p>These binary comparison operators are supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
equality: <code class="literal">==</code>
</li>
<li class="listitem">
inequality: <code class="literal">!=</code>
</li>
<li class="listitem">
less than: <code class="literal">&lt;</code>
</li>
<li class="listitem">
less than or equal: <code class="literal">&lt;=</code>
</li>
<li class="listitem">
larger than: <code class="literal">&gt;</code>
</li>
<li class="listitem">
larger than or equal: <code class="literal">&gt;=</code>
</li>
</ul>
</div>
<h3><a id="esql-logical-operators"></a>Logical operators<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/logical.asciidoc">edit</a></h3>
<p>The following logical operators are supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">AND</code>
</li>
<li class="listitem">
<code class="literal">OR</code>
</li>
<li class="listitem">
<code class="literal">NOT</code>
</li>
</ul>
</div>
<h3><a id="esql-predicates"></a><code class="literal">IS NULL</code> and <code class="literal">IS NOT NULL</code> predicates<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/predicates.asciidoc">edit</a></h3>
<p>For NULL comparison, use the <code class="literal">IS NULL</code> and <code class="literal">IS NOT NULL</code> predicates:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| WHERE birth_date IS NULL
| KEEP first_name, last_name
| SORT first_name
| LIMIT 3</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">first_name:keyword</th>
<th align="left" valign="top">last_name:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Basil</p></td>
<td align="left" valign="top"><p>Tramer</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Florian</p></td>
<td align="left" valign="top"><p>Syrotiuk</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Lucien</p></td>
<td align="left" valign="top"><p>Rosenbaum</p></td>
</tr>
</tbody>
</table>
</div>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| WHERE is_rehired IS NOT NULL
| STATS COUNT(emp_no)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">COUNT(emp_no):long</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>84</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-cidr_match"></a><code class="literal">CIDR_MATCH</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/cidr_match.asciidoc">edit</a></h3>
<p>Returns <code class="literal">true</code> if the provided IP is contained in one of the provided CIDR
blocks.</p>
<p><code class="literal">CIDR_MATCH</code> accepts two or more arguments. The first argument is the IP
address of type <code class="literal">ip</code> (both IPv4 and IPv6 are supported). Subsequent arguments
are the CIDR blocks to test the IP against.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM hosts
| WHERE CIDR_MATCH(ip, "127.0.0.2/32", "127.0.0.3/32")</pre>
</div>
<h3><a id="esql-ends_with"></a><code class="literal">ENDS_WITH</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/ends_with.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="420" height="46" viewbox="0 0 420 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m128 0h10m32 0h10m68 0h10m32 0h10m68 0h10m32 0h5"/><rect class="s" x="5" y="5" width="128" height="36"/><text class="k" x="15" y="31">ENDS_WITH</text><rect class="s" x="143" y="5" width="32" height="36" rx="7"/><text class="syn" x="153" y="31">(</text><rect class="s" x="185" y="5" width="68" height="36" rx="7"/><text class="k" x="195" y="31">arg1</text><rect class="s" x="263" y="5" width="32" height="36" rx="7"/><text class="syn" x="273" y="31">,</text><rect class="s" x="305" y="5" width="68" height="36" rx="7"/><text class="k" x="315" y="31">arg2</text><rect class="s" x="383" y="5" width="32" height="36" rx="7"/><text class="syn" x="393" y="31">)</text></svg>
</div>
</div>
<p>Returns a boolean that indicates whether a keyword string ends with another
string:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| KEEP last_name
| EVAL ln_E = ENDS_WITH(last_name, "d")</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">last_name:keyword</th>
<th align="left" valign="top">ln_E:boolean</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Awdeh</p></td>
<td align="left" valign="top"><p>false</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Azuma</p></td>
<td align="left" valign="top"><p>false</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Baek</p></td>
<td align="left" valign="top"><p>false</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bamford</p></td>
<td align="left" valign="top"><p>true</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bernatsky</p></td>
<td align="left" valign="top"><p>false</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">arg1</th>
<th align="left" valign="top">arg2</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>boolean</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-in-operator"></a><code class="literal">IN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/in.asciidoc">edit</a></h3>
<p>The <code class="literal">IN</code> operator allows testing whether a field or expression equals
an element in a list of literals, fields or expressions:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">ROW a = 1, b = 4, c = 3
| WHERE c-a IN (3, b / 2, a)</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">a:integer</th>
<th align="left" valign="top">b:integer</th>
<th align="left" valign="top">c:integer</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>1</p></td>
<td align="left" valign="top"><p>4</p></td>
<td align="left" valign="top"><p>3</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-is_finite"></a><code class="literal">IS_FINITE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/is_finite.asciidoc">edit</a></h3>
<p>Returns a boolean that indicates whether its input is a finite number.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">ROW d = 1.0
| EVAL s = IS_FINITE(d/0)</pre>
</div>
<h3><a id="esql-is_infinite"></a><code class="literal">IS_INFINITE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/is_infinite.asciidoc">edit</a></h3>
<p>Returns a boolean that indicates whether its input is infinite.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">ROW d = 1.0
| EVAL s = IS_INFINITE(d/0)</pre>
</div>
<h3><a id="esql-is_nan"></a><code class="literal">IS_NAN</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/is_nan.asciidoc">edit</a></h3>
<p>Returns a boolean that indicates whether its input is not a number.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">ROW d = 1.0
| EVAL s = IS_NAN(d)</pre>
</div>
<h3><a id="esql-like-operator"></a><code class="literal">LIKE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/like.asciidoc">edit</a></h3>
<p>Use <code class="literal">LIKE</code> to filter data based on string patterns using wildcards. <code class="literal">LIKE</code>
usually acts on a field placed on the left-hand side of the operator, but it can
also act on a constant (literal) expression. The right-hand side of the operator
represents the pattern.</p>
<p>The following wildcard characters are supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">*</code> matches zero or more characters.
</li>
<li class="listitem">
<code class="literal">?</code> matches one character.
</li>
</ul>
</div>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| WHERE first_name LIKE "?b*"
| KEEP first_name, last_name</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">first_name:keyword</th>
<th align="left" valign="top">last_name:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Ebbe</p></td>
<td align="left" valign="top"><p>Callaway</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Eberhardt</p></td>
<td align="left" valign="top"><p>Terkki</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="discete">
<div class="titlepage"><div><div>
<h3 class="title"><a id="esql-rlike-operator"></a><code class="literal">RLIKE</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/rlike.asciidoc">edit</a></h3>
</div></div></div>
<p>Use <code class="literal">RLIKE</code> to filter data based on string patterns using using
<a class="xref" href="regexp-syntax.html" title="Regular expression syntax">regular expressions</a>. <code class="literal">RLIKE</code> usually acts on a field placed on
the left-hand side of the operator, but it can also act on a constant (literal)
expression. The right-hand side of the operator represents the pattern.</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| WHERE first_name RLIKE ".leja.*"
| KEEP first_name, last_name</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">first_name:keyword</th>
<th align="left" valign="top">last_name:keyword</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Alejandro</p></td>
<td align="left" valign="top"><p>McAlpine</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="esql-starts_with"></a><code class="literal">STARTS_WITH</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.11/docs/reference/esql/functions/starts_with.asciidoc">edit</a></h3>
<div class="imageblock text-center">
<div class="content">
<svg version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="444" height="46" viewbox="0 0 444 46"><defs><style type="text/css">#guide .c{fill:none;stroke:#222222;}#guide .k{fill:#000000;font-family:Roboto Mono,Sans-serif;font-size:20px;}#guide .s{fill:#e4f4ff;stroke:#222222;}#guide .syn{fill:#8D8D8D;font-family:Roboto Mono,Sans-serif;font-size:20px;}</style></defs><path class="c" d="M0 31h5m152 0h10m32 0h10m68 0h10m32 0h10m68 0h10m32 0h5"/><rect class="s" x="5" y="5" width="152" height="36"/><text class="k" x="15" y="31">STARTS_WITH</text><rect class="s" x="167" y="5" width="32" height="36" rx="7"/><text class="syn" x="177" y="31">(</text><rect class="s" x="209" y="5" width="68" height="36" rx="7"/><text class="k" x="219" y="31">arg1</text><rect class="s" x="287" y="5" width="32" height="36" rx="7"/><text class="syn" x="297" y="31">,</text><rect class="s" x="329" y="5" width="68" height="36" rx="7"/><text class="k" x="339" y="31">arg2</text><rect class="s" x="407" y="5" width="32" height="36" rx="7"/><text class="syn" x="417" y="31">)</text></svg>
</div>
</div>
<p>Returns a boolean that indicates whether a keyword string starts with another
string:</p>
<div class="pre_wrapper lang-esql merge styled">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql merge styled">FROM employees
| KEEP last_name
| EVAL ln_S = STARTS_WITH(last_name, "B")</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">last_name:keyword</th>
<th align="left" valign="top">ln_S:boolean</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Awdeh</p></td>
<td align="left" valign="top"><p>false</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Azuma</p></td>
<td align="left" valign="top"><p>false</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Baek</p></td>
<td align="left" valign="top"><p>true</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bamford</p></td>
<td align="left" valign="top"><p>true</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Bernatsky</p></td>
<td align="left" valign="top"><p>true</p></td>
</tr>
</tbody>
</table>
</div>
<p>Supported types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px" class="monospaced styled">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">arg1</th>
<th align="left" valign="top">arg2</th>
<th align="left" valign="top">result</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p>boolean</p></td>
</tr>
</tbody>
</table>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="esql-commands.html">« ES|QL commands</a>
</span>
<span class="next">
<a href="esql-metadata-fields.html">ES|QL metadata fields »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs.js"></script>
    <script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"python":{"hasAny":true},"ruby":{"hasAny":true},"go":{"hasAny":true},"js":{"hasAny":true}}}}</script>
  </body>
</html>
