<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Dynamic templates | Elasticsearch Guide [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Dynamic templates | Elasticsearch Guide [8.15]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.15]"/>
<link rel="up" href="dynamic-mapping.html" title="Dynamic mapping"/>
<link rel="prev" href="dynamic-field-mapping.html" title="Dynamic field mapping"/>
<link rel="next" href="explicit-mapping.html" title="Explicit mapping"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.15"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.15"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="dynamic-field-mapping.html">« Dynamic field mapping</a>
</span>
<span class="next">
<a href="explicit-mapping.html">Explicit mapping »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="mapping.html">Mapping</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="dynamic-mapping.html">Dynamic mapping</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Dynamic templates</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="dynamic-templates"></a>Dynamic templates<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h2>
</div></div></div>
<p>Dynamic templates allow you greater control of how Elasticsearch maps your data beyond
the default <a class="xref" href="dynamic-field-mapping.html" title="Dynamic field mapping">dynamic field mapping rules</a>. You enable
dynamic mapping by setting the dynamic parameter to <code class="literal">true</code> or <code class="literal">runtime</code>. You
can then use dynamic templates to define custom mappings that can be applied to
dynamically added fields based on the matching condition:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="dynamic-templates.html#match-mapping-type" title="match_mapping_type and unmatch_mapping_type"><code class="literal">match_mapping_type</code> and <code class="literal">unmatch_mapping_type</code></a>
operate on the data type that Elasticsearch detects
</li>
<li class="listitem">
<a class="xref" href="dynamic-templates.html#match-unmatch" title="match and unmatch"><code class="literal">match</code> and <code class="literal">unmatch</code></a> use a pattern to match on the field
name
</li>
<li class="listitem">
<a class="xref" href="dynamic-templates.html#path-match-unmatch" title="path_match and path_unmatch"><code class="literal">path_match</code> and <code class="literal">path_unmatch</code></a> operate on the full
dotted path to the field
</li>
<li class="listitem">
If a dynamic template doesn&#8217;t define <code class="literal">match_mapping_type</code>, <code class="literal">match</code>, or
<code class="literal">path_match</code>, it won&#8217;t match any field. You can still refer to the template by
name in <code class="literal">dynamic_templates</code> section of a <a class="xref" href="indices-update-settings.html#bulk" title="Bulk indexing usage">bulk request</a>.
</li>
</ul>
</div>
<p>Use the <code class="literal">{name}</code> and <code class="literal">{dynamic_type}</code> <a class="xref" href="dynamic-templates.html#template-variables" title="Template variables">template variables</a>
in the mapping specification as placeholders.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Dynamic field mappings are only added when a field contains a
concrete value. Elasticsearch doesn&#8217;t add a dynamic field mapping when the field contains
<code class="literal">null</code> or an empty array. If the <code class="literal">null_value</code> option is used in a
<code class="literal">dynamic_template</code>, it will only be applied after the first document with a
concrete value for the field has been
indexed.</p>
</div>
</div>
<p>Dynamic templates are specified as an array of named objects:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">  "dynamic_templates": [
    {
      "my_template_name": { <a id="CO42-1"></a><i class="conum" data-value="1"></i>
        ... match conditions ... <a id="CO42-2"></a><i class="conum" data-value="2"></i>
        "mapping": { ... } <a id="CO42-3"></a><i class="conum" data-value="3"></i>
      }
    },
    ...
  ]</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO42-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The template name can be any string value.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO42-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The match conditions can include any of : <code class="literal">match_mapping_type</code>, <code class="literal">match</code>, <code class="literal">match_pattern</code>, <code class="literal">unmatch</code>, <code class="literal">path_match</code>, <code class="literal">path_unmatch</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO42-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>The mapping that the matched field should use.</p>
</td>
</tr>
</table>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="dynamic-templates-validation"></a>Validating dynamic templates<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h3>
</div></div></div>
<p>If a provided mapping contains an invalid mapping snippet, a validation error
is returned. Validation occurs when applying the dynamic template at index time,
and, in most cases, when the dynamic template is updated. Providing an invalid mapping
snippet may cause the update or validation of a dynamic template to fail under certain conditions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If no <code class="literal">match_mapping_type</code> has been specified but the template is valid for at least one predefined mapping type,
the mapping snippet is considered valid. However, a validation error is returned at index time if a field matching
the template is indexed as a different type. For example, configuring a dynamic template with no <code class="literal">match_mapping_type</code>
is considered valid as string type, but if a field matching the dynamic template is indexed as a long, a validation
error is returned at index time. It is recommended to configure the <code class="literal">match_mapping_type</code> to the expected JSON type or
configure the desired <code class="literal">type</code> in the mapping snippet.
</li>
<li class="listitem">
If the <code class="literal">{name}</code> placeholder is used in the mapping snippet, validation is skipped when updating the dynamic
template. This is because the field name is unknown at that time. Instead, validation occurs when the template is applied
at index time.
</li>
</ul>
</div>
<p>Templates are processed in order&#8201;&#8212;&#8201;the first matching template wins. When
putting new dynamic templates through the <a class="xref" href="indices-put-mapping.html" title="Update mapping API">update mapping</a> API,
all existing templates are overwritten. This allows for dynamic templates to be
reordered or deleted after they were initially added.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="dynamic-mapping-runtime-fields"></a>Mapping runtime fields in a dynamic template<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h3>
</div></div></div>
<p>If you want Elasticsearch to dynamically map new fields of a certain type as runtime
fields, set <code class="literal">"dynamic":"runtime"</code> in the index mappings. These fields are not
indexed, and are loaded from <code class="literal">_source</code> at query time.</p>
<p>Alternatively, you can use the default dynamic mapping rules and then create
dynamic templates to map specific fields as runtime fields. You set
<code class="literal">"dynamic":"true"</code> in your index mapping, and then create a dynamic template to map
new fields of a certain type as runtime fields.</p>
<p>Let&#8217;s say you have data where each of the fields start with <code class="literal">ip_</code>. Based on the
<a class="xref" href="dynamic-templates.html#match-mapping-type" title="match_mapping_type and unmatch_mapping_type">dynamic mapping rules</a>, Elasticsearch maps any <code class="literal">string</code> that passes
<code class="literal">numeric</code> detection as a <code class="literal">float</code> or <code class="literal">long</code>. However, you can create a dynamic
template that maps new strings as runtime fields of type <code class="literal">ip</code>.</p>
<p>The following request defines a dynamic template named <code class="literal">strings_as_ip</code>. When
Elasticsearch detects new <code class="literal">string</code> fields matching the <code class="literal">ip*</code> pattern, it maps those
fields as runtime fields of type <code class="literal">ip</code>. Because <code class="literal">ip</code> fields aren&#8217;t mapped
dynamically, you can use this template with either <code class="literal">"dynamic":"true"</code> or
<code class="literal">"dynamic":"runtime"</code>.</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "strings_as_ip": {
                        "match_mapping_type": "string",
                        "match": "ip*",
                        "runtime": {"type": "ip"},
                    }
                }
            ]
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          strings_as_ip: {
            match_mapping_type: 'string',
            match: 'ip*',
            runtime: {
              type: 'ip'
            }
          }
        }
      ]
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        strings_as_ip: {
          match_mapping_type: "string",
          match: "ip*",
          runtime: {
            type: "ip",
          },
        },
      },
    ],
  },
});
console.log(response);</pre>
</div>
<a id="ba5dc6fb9bbe1406714da5d641462a23"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001/
{
  "mappings": {
    "dynamic_templates": [
      {
        "strings_as_ip": {
          "match_mapping_type": "string",
          "match": "ip*",
          "runtime": {
            "type": "ip"
          }
        }
      }
    ]
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/118.console"></div>
<p>See <a class="xref" href="dynamic-templates.html#text-only-mappings-strings" title="text-only mappings for strings">this example</a> for how to use dynamic templates
to map <code class="literal">string</code> fields as either indexed fields or runtime fields.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="match-mapping-type"></a><code class="literal">match_mapping_type</code> and <code class="literal">unmatch_mapping_type</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">match_mapping_type</code> parameter matches fields by the data type detected by
the JSON parser, while <code class="literal">unmatch_mapping_type</code> excludes fields based on the data
type.</p>
<p>Because JSON doesn&#8217;t distinguish a <code class="literal">long</code> from an <code class="literal">integer</code> or a <code class="literal">double</code> from
a <code class="literal">float</code>, any parsed floating point number is considered a <code class="literal">double</code> JSON data
type, while any parsed <code class="literal">integer</code> number is considered a <code class="literal">long</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>With dynamic mappings, Elasticsearch will always choose the wider data type. The
one exception is <code class="literal">float</code>, which requires less storage space than <code class="literal">double</code> and
is precise enough for most applications. Runtime fields do not support <code class="literal">float</code>,
which is why <code class="literal">"dynamic":"runtime"</code> uses <code class="literal">double</code>.</p>
</div>
</div>
<p>Elasticsearch automatically detects the following data types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="center" colspan="2" valign="top"><p><span class="strong strong"><strong>Elasticsearch data type</strong></span></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>JSON data type</strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong><code class="literal">"dynamic":"true"</code></strong></span></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong><code class="literal">"dynamic":"runtime"</code></strong></span></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">null</code></p></td>
<td align="left" valign="top"><p>No field added</p></td>
<td align="left" valign="top"><p>No field added</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">true</code> or <code class="literal">false</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">double</code></p></td>
<td align="left" valign="top"><p><code class="literal">float</code></p></td>
<td align="left" valign="top"><p><code class="literal">double</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">long</code></p></td>
<td align="left" valign="top"><p><code class="literal">long</code></p></td>
<td align="left" valign="top"><p><code class="literal">long</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">object</code></p></td>
<td align="left" valign="top"><p><code class="literal">object</code></p></td>
<td align="left" valign="top"><p>No field added</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">array</code></p></td>
<td align="left" valign="top"><p>Depends on the first non-<code class="literal">null</code> value in the array</p></td>
<td align="left" valign="top"><p>Depends on the first non-<code class="literal">null</code> value in the array</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">string</code> that passes <a class="xref" href="dynamic-field-mapping.html#date-detection" title="Date detection">date detection</a></p></td>
<td align="left" valign="top"><p><code class="literal">date</code></p></td>
<td align="left" valign="top"><p><code class="literal">date</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">string</code> that passes <a class="xref" href="dynamic-field-mapping.html#numeric-detection" title="Numeric detection">numeric detection</a></p></td>
<td align="left" valign="top"><p><code class="literal">float</code> or <code class="literal">long</code></p></td>
<td align="left" valign="top"><p><code class="literal">double</code> or <code class="literal">long</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">string</code> that doesn&#8217;t pass <code class="literal">date</code> detection or <code class="literal">numeric</code> detection</p></td>
<td align="left" valign="top"><p><code class="literal">text</code> with a <code class="literal">.keyword</code> sub-field</p></td>
<td align="left" valign="top"><p><code class="literal">keyword</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>You can specify either a single data type or a list of data types for either
the <code class="literal">match_mapping_type</code> or <code class="literal">unmatch_mapping_type</code> parameters. You can also
use a wildcard (<code class="literal">*</code>) for the <code class="literal">match_mapping_type</code> parameter to match all
data types.</p>
<p>For example, if we wanted to map all integer fields as <code class="literal">integer</code> instead of
<code class="literal">long</code>, and all <code class="literal">string</code> fields as both <code class="literal">text</code> and <code class="literal">keyword</code>, we
could use the following template:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "numeric_counts": {
                        "match_mapping_type": ["long", "double"],
                        "match": "count",
                        "mapping": {
                            "type": "{dynamic_type}",
                            "index": False,
                        },
                    }
                },
                {
                    "integers": {
                        "match_mapping_type": "long",
                        "mapping": {"type": "integer"},
                    }
                },
                {
                    "strings": {
                        "match_mapping_type": "string",
                        "mapping": {
                            "type": "text",
                            "fields": {
                                "raw": {
                                    "type": "keyword",
                                    "ignore_above": 256,
                                }
                            },
                        },
                    }
                },
                {
                    "non_objects_keyword": {
                        "match_mapping_type": "*",
                        "unmatch_mapping_type": "object",
                        "mapping": {"type": "keyword"},
                    }
                },
            ]
        }
    },
)
print(resp)

resp = client.index(
    index="my-index-000001",
    id="1",
    body={
        "my_integer": 5,
        "my_string": "Some string",
        "my_boolean": "false",
        "field": {"count": 4},
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          numeric_counts: {
            match_mapping_type: [
              'long',
              'double'
            ],
            match: 'count',
            mapping: {
              type: '{dynamic_type}',
              index: false
            }
          }
        },
        {
          integers: {
            match_mapping_type: 'long',
            mapping: {
              type: 'integer'
            }
          }
        },
        {
          strings: {
            match_mapping_type: 'string',
            mapping: {
              type: 'text',
              fields: {
                raw: {
                  type: 'keyword',
                  ignore_above: 256
                }
              }
            }
          }
        },
        {
          non_objects_keyword: {
            match_mapping_type: '*',
            unmatch_mapping_type: 'object',
            mapping: {
              type: 'keyword'
            }
          }
        }
      ]
    }
  }
)
puts response

response = client.index(
  index: 'my-index-000001',
  id: 1,
  body: {
    my_integer: 5,
    my_string: 'Some string',
    my_boolean: 'false',
    field: {
      count: 4
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        numeric_counts: {
          match_mapping_type: ["long", "double"],
          match: "count",
          mapping: {
            type: "{dynamic_type}",
            index: false,
          },
        },
      },
      {
        integers: {
          match_mapping_type: "long",
          mapping: {
            type: "integer",
          },
        },
      },
      {
        strings: {
          match_mapping_type: "string",
          mapping: {
            type: "text",
            fields: {
              raw: {
                type: "keyword",
                ignore_above: 256,
              },
            },
          },
        },
      },
      {
        non_objects_keyword: {
          match_mapping_type: "*",
          unmatch_mapping_type: "object",
          mapping: {
            type: "keyword",
          },
        },
      },
    ],
  },
});
console.log(response);

const response1 = await client.index({
  index: "my-index-000001",
  id: 1,
  document: {
    my_integer: 5,
    my_string: "Some string",
    my_boolean: "false",
    field: {
      count: 4,
    },
  },
});
console.log(response1);</pre>
</div>
<a id="5a006feed86309b547bbaa1baca1c496"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "numeric_counts": {
          "match_mapping_type": ["long", "double"],
          "match": "count",
          "mapping": {
            "type": "{dynamic_type}",
            "index": false
          }
        }
      },
      {
        "integers": {
          "match_mapping_type": "long",
          "mapping": {
            "type": "integer"
          }
        }
      },
      {
        "strings": {
          "match_mapping_type": "string",
          "mapping": {
            "type": "text",
            "fields": {
              "raw": {
                "type":  "keyword",
                "ignore_above": 256
              }
            }
          }
        }
      },
      {
        "non_objects_keyword": {
          "match_mapping_type": "*",
          "unmatch_mapping_type": "object",
          "mapping": {
            "type": "keyword"
          }
        }
      }
    ]
  }
}

PUT my-index-000001/_doc/1
{
  "my_integer": 5, <a id="CO43-1"></a><i class="conum" data-value="1"></i>
  "my_string": "Some string", <a id="CO43-2"></a><i class="conum" data-value="2"></i>
  "my_boolean": "false", <a id="CO43-3"></a><i class="conum" data-value="3"></i>
  "field": {"count": 4} <a id="CO43-4"></a><i class="conum" data-value="4"></i>
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/119.console"></div>
<div class="calloutlist default has-python has-ruby has-js lang-console">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO43-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">my_integer</code> field is mapped as an <code class="literal">integer</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO43-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">my_string</code> field is mapped as a <code class="literal">text</code>, with a <code class="literal">keyword</code> <a class="xref" href="multi-fields.html" title="fields">multi-field</a>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO43-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">my_boolean</code> field is mapped as a <code class="literal">keyword</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO43-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">field.count</code> field is mapped as a <code class="literal">long</code>.</p>
</td>
</tr>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="match-unmatch"></a><code class="literal">match</code> and <code class="literal">unmatch</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">match</code> parameter uses one or more patterns to match on the field name, while
<code class="literal">unmatch</code> uses one or more patterns to exclude fields matched by <code class="literal">match</code>.</p>
<p>The <code class="literal">match_pattern</code> parameter adjusts the behavior of the <code class="literal">match</code> parameter
to support full Java regular expressions matching on the field name
instead of simple wildcards. For example:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">  "match_pattern": "regex",
  "match": "^profit_\d+$"</pre>
</div>
<p>The following example matches all <code class="literal">string</code> fields whose name starts with
<code class="literal">long_</code> (except for those which end with <code class="literal">_text</code>) and maps them as <code class="literal">long</code>
fields:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "longs_as_strings": {
                        "match_mapping_type": "string",
                        "match": "long_*",
                        "unmatch": "*_text",
                        "mapping": {"type": "long"},
                    }
                }
            ]
        }
    },
)
print(resp)

resp = client.index(
    index="my-index-000001",
    id="1",
    body={"long_num": "5", "long_text": "foo"},
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          longs_as_strings: {
            match_mapping_type: 'string',
            match: 'long_*',
            unmatch: '*_text',
            mapping: {
              type: 'long'
            }
          }
        }
      ]
    }
  }
)
puts response

response = client.index(
  index: 'my-index-000001',
  id: 1,
  body: {
    long_num: '5',
    long_text: 'foo'
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        longs_as_strings: {
          match_mapping_type: "string",
          match: "long_*",
          unmatch: "*_text",
          mapping: {
            type: "long",
          },
        },
      },
    ],
  },
});
console.log(response);

const response1 = await client.index({
  index: "my-index-000001",
  id: 1,
  document: {
    long_num: "5",
    long_text: "foo",
  },
});
console.log(response1);</pre>
</div>
<a id="c208de54369379e8d78ab201be18b6be"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "longs_as_strings": {
          "match_mapping_type": "string",
          "match":   "long_*",
          "unmatch": "*_text",
          "mapping": {
            "type": "long"
          }
        }
      }
    ]
  }
}

PUT my-index-000001/_doc/1
{
  "long_num": "5", <a id="CO44-1"></a><i class="conum" data-value="1"></i>
  "long_text": "foo" <a id="CO44-2"></a><i class="conum" data-value="2"></i>
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/120.console"></div>
<div class="calloutlist default has-python has-ruby has-js lang-console">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO44-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">long_num</code> field is mapped as a <code class="literal">long</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO44-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">long_text</code> field uses the default <code class="literal">string</code> mapping.</p>
</td>
</tr>
</table>
</div>
<p>You can specify a list of patterns using a JSON array for either the
<code class="literal">match</code> or <code class="literal">unmatch</code> fields.</p>
<p>The next example matches all fields whose name starts with <code class="literal">ip_</code> or ends with <code class="literal">_ip</code>,
except for fields which start with <code class="literal">one</code> or end with <code class="literal">two</code> and maps them
as <code class="literal">ip</code> fields:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "ip_fields": {
                        "match": ["ip_*", "*_ip"],
                        "unmatch": ["one*", "*two"],
                        "mapping": {"type": "ip"},
                    }
                }
            ]
        }
    },
)
print(resp)

resp = client.index(
    index="my-index",
    id="1",
    body={
        "one_ip": "will not match",
        "ip_two": "will not match",
        "three_ip": "12.12.12.12",
        "ip_four": "13.13.13.13",
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          ip_fields: {
            match: [
              'ip_*',
              '*_ip'
            ],
            unmatch: [
              'one*',
              '*two'
            ],
            mapping: {
              type: 'ip'
            }
          }
        }
      ]
    }
  }
)
puts response

response = client.index(
  index: 'my-index',
  id: 1,
  body: {
    one_ip: 'will not match',
    ip_two: 'will not match',
    three_ip: '12.12.12.12',
    ip_four: '13.13.13.13'
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        ip_fields: {
          match: ["ip_*", "*_ip"],
          unmatch: ["one*", "*two"],
          mapping: {
            type: "ip",
          },
        },
      },
    ],
  },
});
console.log(response);

const response1 = await client.index({
  index: "my-index",
  id: 1,
  document: {
    one_ip: "will not match",
    ip_two: "will not match",
    three_ip: "12.12.12.12",
    ip_four: "13.13.13.13",
  },
});
console.log(response1);</pre>
</div>
<a id="b430122345d560bbd2a77826f5c475f7"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "ip_fields": {
          "match":   ["ip_*", "*_ip"],
          "unmatch": ["one*", "*two"],
          "mapping": {
            "type": "ip"
          }
        }
      }
    ]
  }
}

PUT my-index/_doc/1
{
  "one_ip":   "will not match", <a id="CO45-1"></a><i class="conum" data-value="1"></i>
  "ip_two":   "will not match", <a id="CO45-2"></a><i class="conum" data-value="2"></i>
  "three_ip": "12.12.12.12", <a id="CO45-3"></a><i class="conum" data-value="3"></i>
  "ip_four":  "13.13.13.13" <a id="CO45-4"></a><i class="conum" data-value="4"></i>
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/121.console"></div>
<div class="calloutlist default has-python has-ruby has-js lang-console">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO45-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">one_ip</code> field is unmatched, so uses the default mapping of <code class="literal">text</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO45-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">ip_two</code> field is unmatched, so uses the default mapping of <code class="literal">text</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO45-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">three_ip</code> field is mapped as type <code class="literal">ip</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO45-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">ip_four</code> field is mapped as type <code class="literal">ip</code>.</p>
</td>
</tr>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="path-match-unmatch"></a><code class="literal">path_match</code> and <code class="literal">path_unmatch</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">path_match</code> and <code class="literal">path_unmatch</code> parameters work in the same way as <code class="literal">match</code>
and <code class="literal">unmatch</code>, but operate on the full dotted path to the field, not just the
final name, e.g. <code class="literal">some_object.*.some_field</code>.</p>
<p>This example copies the values of any fields in the <code class="literal">name</code> object to the
top-level <code class="literal">full_name</code> field, except for the <code class="literal">middle</code> field:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "full_name": {
                        "path_match": "name.*",
                        "path_unmatch": "*.middle",
                        "mapping": {
                            "type": "text",
                            "copy_to": "full_name",
                        },
                    }
                }
            ]
        }
    },
)
print(resp)

resp = client.index(
    index="my-index-000001",
    id="1",
    body={
        "name": {"first": "John", "middle": "Winston", "last": "Lennon"}
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          full_name: {
            path_match: 'name.*',
            path_unmatch: '*.middle',
            mapping: {
              type: 'text',
              copy_to: 'full_name'
            }
          }
        }
      ]
    }
  }
)
puts response

response = client.index(
  index: 'my-index-000001',
  id: 1,
  body: {
    name: {
      first: 'John',
      middle: 'Winston',
      last: 'Lennon'
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        full_name: {
          path_match: "name.*",
          path_unmatch: "*.middle",
          mapping: {
            type: "text",
            copy_to: "full_name",
          },
        },
      },
    ],
  },
});
console.log(response);

const response1 = await client.index({
  index: "my-index-000001",
  id: 1,
  document: {
    name: {
      first: "John",
      middle: "Winston",
      last: "Lennon",
    },
  },
});
console.log(response1);</pre>
</div>
<a id="643b9506d1129d5215f9a1bb0b509aba"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "full_name": {
          "path_match":   "name.*",
          "path_unmatch": "*.middle",
          "mapping": {
            "type":       "text",
            "copy_to":    "full_name"
          }
        }
      }
    ]
  }
}

PUT my-index-000001/_doc/1
{
  "name": {
    "first":  "John",
    "middle": "Winston",
    "last":   "Lennon"
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/122.console"></div>
<p>And the following example uses an array of patterns for both <code class="literal">path_match</code>
and <code class="literal">path_unmatch</code>.</p>
<p>The values of any fields in the <code class="literal">name</code> object or the <code class="literal">user.name</code> object
are copied to the top-level <code class="literal">full_name</code> field, except for the <code class="literal">middle</code>
and <code class="literal">midinitial</code> fields:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "full_name": {
                        "path_match": ["name.*", "user.name.*"],
                        "path_unmatch": ["*.middle", "*.midinitial"],
                        "mapping": {
                            "type": "text",
                            "copy_to": "full_name",
                        },
                    }
                }
            ]
        }
    },
)
print(resp)

resp = client.index(
    index="my-index-000001",
    id="1",
    body={
        "name": {"first": "John", "middle": "Winston", "last": "Lennon"}
    },
)
print(resp)

resp = client.index(
    index="my-index-000001",
    id="2",
    body={
        "user": {
            "name": {"first": "Jane", "midinitial": "M", "last": "Salazar"}
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          full_name: {
            path_match: [
              'name.*',
              'user.name.*'
            ],
            path_unmatch: [
              '*.middle',
              '*.midinitial'
            ],
            mapping: {
              type: 'text',
              copy_to: 'full_name'
            }
          }
        }
      ]
    }
  }
)
puts response

response = client.index(
  index: 'my-index-000001',
  id: 1,
  body: {
    name: {
      first: 'John',
      middle: 'Winston',
      last: 'Lennon'
    }
  }
)
puts response

response = client.index(
  index: 'my-index-000001',
  id: 2,
  body: {
    user: {
      name: {
        first: 'Jane',
        midinitial: 'M',
        last: 'Salazar'
      }
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        full_name: {
          path_match: ["name.*", "user.name.*"],
          path_unmatch: ["*.middle", "*.midinitial"],
          mapping: {
            type: "text",
            copy_to: "full_name",
          },
        },
      },
    ],
  },
});
console.log(response);

const response1 = await client.index({
  index: "my-index-000001",
  id: 1,
  document: {
    name: {
      first: "John",
      middle: "Winston",
      last: "Lennon",
    },
  },
});
console.log(response1);

const response2 = await client.index({
  index: "my-index-000001",
  id: 2,
  document: {
    user: {
      name: {
        first: "Jane",
        midinitial: "M",
        last: "Salazar",
      },
    },
  },
});
console.log(response2);</pre>
</div>
<a id="ae398a6b6494e7982ef2549fc2cd2d8e"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "full_name": {
          "path_match":   ["name.*", "user.name.*"],
          "path_unmatch": ["*.middle", "*.midinitial"],
          "mapping": {
            "type":       "text",
            "copy_to":    "full_name"
          }
        }
      }
    ]
  }
}

PUT my-index-000001/_doc/1
{
  "name": {
    "first":  "John",
    "middle": "Winston",
    "last":   "Lennon"
  }
}

PUT my-index-000001/_doc/2
{
  "user": {
    "name": {
      "first":      "Jane",
      "midinitial": "M",
      "last":       "Salazar"
    }
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/123.console"></div>
<p>Note that the <code class="literal">path_match</code> and <code class="literal">path_unmatch</code> parameters match on object paths
in addition to leaf fields. As an example, indexing the following document will
result in an error because the <code class="literal">path_match</code> setting also matches the object
field <code class="literal">name.title</code>, which can&#8217;t be mapped as text:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.index(
    index="my-index-000001",
    id="2",
    body={
        "name": {
            "first": "Paul",
            "last": "McCartney",
            "title": {"value": "Sir", "category": "order of chivalry"},
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.index(
  index: 'my-index-000001',
  id: 2,
  body: {
    name: {
      first: 'Paul',
      last: 'McCartney',
      title: {
        value: 'Sir',
        category: 'order of chivalry'
      }
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.index({
  index: "my-index-000001",
  id: 2,
  document: {
    name: {
      first: "Paul",
      last: "McCartney",
      title: {
        value: "Sir",
        category: "order of chivalry",
      },
    },
  },
});
console.log(response);</pre>
</div>
<a id="c012f42b26eb8dd9b197644c3ed954cf"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001/_doc/2
{
  "name": {
    "first":  "Paul",
    "last":   "McCartney",
    "title": {
      "value": "Sir",
      "category": "order of chivalry"
    }
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/124.console"></div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="template-variables"></a>Template variables<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">{name}</code> and <code class="literal">{dynamic_type}</code> placeholders are replaced in the <code class="literal">mapping</code>
with the field name and detected dynamic type. The following example sets all
string fields to use an <a class="xref" href="analyzer.html" title="analyzer"><code class="literal">analyzer</code></a> with the same name as the
field, and disables <a class="xref" href="doc-values.html" title="doc_values"><code class="literal">doc_values</code></a> for all non-string fields:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "named_analyzers": {
                        "match_mapping_type": "string",
                        "match": "*",
                        "mapping": {"type": "text", "analyzer": "{name}"},
                    }
                },
                {
                    "no_doc_values": {
                        "match_mapping_type": "*",
                        "mapping": {
                            "type": "{dynamic_type}",
                            "doc_values": False,
                        },
                    }
                },
            ]
        }
    },
)
print(resp)

resp = client.index(
    index="my-index-000001",
    id="1",
    body={"english": "Some English text", "count": 5},
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          named_analyzers: {
            match_mapping_type: 'string',
            match: '*',
            mapping: {
              type: 'text',
              analyzer: '{name}'
            }
          }
        },
        {
          no_doc_values: {
            match_mapping_type: '*',
            mapping: {
              type: '{dynamic_type}',
              doc_values: false
            }
          }
        }
      ]
    }
  }
)
puts response

response = client.index(
  index: 'my-index-000001',
  id: 1,
  body: {
    english: 'Some English text',
    count: 5
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        named_analyzers: {
          match_mapping_type: "string",
          match: "*",
          mapping: {
            type: "text",
            analyzer: "{name}",
          },
        },
      },
      {
        no_doc_values: {
          match_mapping_type: "*",
          mapping: {
            type: "{dynamic_type}",
            doc_values: false,
          },
        },
      },
    ],
  },
});
console.log(response);

const response1 = await client.index({
  index: "my-index-000001",
  id: 1,
  document: {
    english: "Some English text",
    count: 5,
  },
});
console.log(response1);</pre>
</div>
<a id="f642b64e592131f37209a5100fe161cc"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "named_analyzers": {
          "match_mapping_type": "string",
          "match": "*",
          "mapping": {
            "type": "text",
            "analyzer": "{name}"
          }
        }
      },
      {
        "no_doc_values": {
          "match_mapping_type":"*",
          "mapping": {
            "type": "{dynamic_type}",
            "doc_values": false
          }
        }
      }
    ]
  }
}

PUT my-index-000001/_doc/1
{
  "english": "Some English text", <a id="CO46-1"></a><i class="conum" data-value="1"></i>
  "count":   5 <a id="CO46-2"></a><i class="conum" data-value="2"></i>
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/125.console"></div>
<div class="calloutlist default has-python has-ruby has-js lang-console">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO46-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">english</code> field is mapped as a <code class="literal">string</code> field with the <code class="literal">english</code> analyzer.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO46-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">count</code> field is mapped as a <code class="literal">long</code> field with <code class="literal">doc_values</code> disabled.</p>
</td>
</tr>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="template-examples"></a>Dynamic template examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h3>
</div></div></div>
<p>Here are some examples of potentially useful dynamic templates:</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_structured_search"></a>Structured search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h4>
</div></div></div>
<p>When you set <code class="literal">"dynamic":"true"</code>, Elasticsearch will map string fields as a <code class="literal">text</code> field with
a <code class="literal">keyword</code> subfield. If you are only indexing structured content and not
interested in full text search, you can make Elasticsearch map your fields
only as <code class="literal">keyword</code> fields. However, you must search on the exact same value that
was indexed to search those fields.</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "strings_as_keywords": {
                        "match_mapping_type": "string",
                        "mapping": {"type": "keyword"},
                    }
                }
            ]
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          strings_as_keywords: {
            match_mapping_type: 'string',
            mapping: {
              type: 'keyword'
            }
          }
        }
      ]
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        strings_as_keywords: {
          match_mapping_type: "string",
          mapping: {
            type: "keyword",
          },
        },
      },
    ],
  },
});
console.log(response);</pre>
</div>
<a id="92d0c12d53a900308150d572c3f2f82f"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "strings_as_keywords": {
          "match_mapping_type": "string",
          "mapping": {
            "type": "keyword"
          }
        }
      }
    ]
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/126.console"></div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="text-only-mappings-strings"></a><code class="literal">text</code>-only mappings for strings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h4>
</div></div></div>
<p>Contrary to the previous example, if you only care about full-text search on
string fields and don&#8217;t plan on running aggregations, sorting, or exact
searches, you could tell instruct Elasticsearch to map strings as <code class="literal">text</code>:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "strings_as_text": {
                        "match_mapping_type": "string",
                        "mapping": {"type": "text"},
                    }
                }
            ]
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          strings_as_text: {
            match_mapping_type: 'string',
            mapping: {
              type: 'text'
            }
          }
        }
      ]
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        strings_as_text: {
          match_mapping_type: "string",
          mapping: {
            type: "text",
          },
        },
      },
    ],
  },
});
console.log(response);</pre>
</div>
<a id="35c33ef48cf8a4ee368874141622f9d5"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "strings_as_text": {
          "match_mapping_type": "string",
          "mapping": {
            "type": "text"
          }
        }
      }
    ]
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/127.console"></div>
<p>Alternatively, you can create a dynamic template to map your string fields as
<code class="literal">keyword</code> fields in the runtime section of the mapping. When Elasticsearch detects new
fields of type <code class="literal">string</code>, those fields will be created as runtime fields of
type <code class="literal">keyword</code>.</p>
<p>Although your <code class="literal">string</code> fields won&#8217;t be indexed, their values are stored in
<code class="literal">_source</code> and can be used in search requests, aggregations, filtering, and
sorting.</p>
<p>For example, the following request creates a dynamic template to map <code class="literal">string</code>
fields as runtime fields of type <code class="literal">keyword</code>. Although the <code class="literal">runtime</code> definition
is blank, new <code class="literal">string</code> fields will be mapped as <code class="literal">keyword</code> runtime fields based
on the <a class="xref" href="dynamic-field-mapping.html#dynamic-field-mapping-types">dynamic mapping rules</a> that Elasticsearch uses for
adding field types to the mapping. Any <code class="literal">string</code> that doesn&#8217;t pass date
detection or numeric detection is automatically mapped as a <code class="literal">keyword</code>:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "strings_as_keywords": {
                        "match_mapping_type": "string",
                        "runtime": {},
                    }
                }
            ]
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          strings_as_keywords: {
            match_mapping_type: 'string',
            runtime: {}
          }
        }
      ]
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        strings_as_keywords: {
          match_mapping_type: "string",
          runtime: {},
        },
      },
    ],
  },
});
console.log(response);</pre>
</div>
<a id="82e94b6cdf65e324575f916b3776b779"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "strings_as_keywords": {
          "match_mapping_type": "string",
          "runtime": {}
        }
      }
    ]
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/128.console"></div>
<p>You index a simple document:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.index(
    index="my-index-000001",
    id="1",
    body={"english": "Some English text", "count": 5},
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.index(
  index: 'my-index-000001',
  id: 1,
  body: {
    english: 'Some English text',
    count: 5
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.index({
  index: "my-index-000001",
  id: 1,
  document: {
    english: "Some English text",
    count: 5,
  },
});
console.log(response);</pre>
</div>
<a id="5332c4cca5fbb45cc700dcd34f37bc38"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001/_doc/1
{
  "english": "Some English text",
  "count":   5
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/129.console"></div>
<p>When you view the mapping, you&#8217;ll see that the <code class="literal">english</code> field is a runtime
field of type <code class="literal">keyword</code>:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.get_mapping(
    index="my-index-000001",
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.get_mapping(
  index: 'my-index-000001'
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.getMapping({
  index: "my-index-000001",
});
console.log(response);</pre>
</div>
<a id="2f2fd35905feef0b561c05d70c7064c1"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">GET my-index-000001/_mapping</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/130.console"></div>
<a id="93a6b281727ade526070d72b6ab19f39"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "my-index-000001" : {
    "mappings" : {
      "dynamic_templates" : [
        {
          "strings_as_keywords" : {
            "match_mapping_type" : "string",
            "runtime" : { }
          }
        }
      ],
      "runtime" : {
        "english" : {
          "type" : "keyword"
        }
      },
      "properties" : {
        "count" : {
          "type" : "long"
        }
      }
    }
  }
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_disabled_norms"></a>Disabled norms<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h4>
</div></div></div>
<p>Norms are index-time scoring factors. If you do not care about scoring, which
would be the case for instance if you never sort documents by score, you could
disable the storage of these scoring factors in the index and save some space.</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "strings_as_keywords": {
                        "match_mapping_type": "string",
                        "mapping": {
                            "type": "text",
                            "norms": False,
                            "fields": {
                                "keyword": {
                                    "type": "keyword",
                                    "ignore_above": 256,
                                }
                            },
                        },
                    }
                }
            ]
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          strings_as_keywords: {
            match_mapping_type: 'string',
            mapping: {
              type: 'text',
              norms: false,
              fields: {
                keyword: {
                  type: 'keyword',
                  ignore_above: 256
                }
              }
            }
          }
        }
      ]
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        strings_as_keywords: {
          match_mapping_type: "string",
          mapping: {
            type: "text",
            norms: false,
            fields: {
              keyword: {
                type: "keyword",
                ignore_above: 256,
              },
            },
          },
        },
      },
    ],
  },
});
console.log(response);</pre>
</div>
<a id="cdc04e6d3d37f036c7045ee4a582ef06"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "strings_as_keywords": {
          "match_mapping_type": "string",
          "mapping": {
            "type": "text",
            "norms": false,
            "fields": {
              "keyword": {
                "type": "keyword",
                "ignore_above": 256
              }
            }
          }
        }
      }
    ]
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/131.console"></div>
<p>The sub <code class="literal">keyword</code> field appears in this template to be consistent with the
default rules of dynamic mappings. Of course if you do not need them because
you don&#8217;t need to perform exact search or aggregate on this field, you could
remove it as described in the previous section.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_time_series"></a>Time series<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/mapping/dynamic/templates.asciidoc">edit</a></h4>
</div></div></div>
<p>When doing time series analysis with Elasticsearch, it is common to have many
numeric fields that you will often aggregate on but never filter on. In such a
case, you could disable indexing on those fields to save disk space and also
maybe gain some indexing speed:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "dynamic_templates": [
                {
                    "unindexed_longs": {
                        "match_mapping_type": "long",
                        "mapping": {"type": "long", "index": False},
                    }
                },
                {
                    "unindexed_doubles": {
                        "match_mapping_type": "double",
                        "mapping": {"type": "float", "index": False},
                    }
                },
            ]
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      dynamic_templates: [
        {
          unindexed_longs: {
            match_mapping_type: 'long',
            mapping: {
              type: 'long',
              index: false
            }
          }
        },
        {
          unindexed_doubles: {
            match_mapping_type: 'double',
            mapping: {
              type: 'float',
              index: false
            }
          }
        }
      ]
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    dynamic_templates: [
      {
        unindexed_longs: {
          match_mapping_type: "long",
          mapping: {
            type: "long",
            index: false,
          },
        },
      },
      {
        unindexed_doubles: {
          match_mapping_type: "double",
          mapping: {
            type: "float",
            index: false,
          },
        },
      },
    ],
  },
});
console.log(response);</pre>
</div>
<a id="3b0475515ee692a2d9850c2bd7cdb895"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT my-index-000001
{
  "mappings": {
    "dynamic_templates": [
      {
        "unindexed_longs": {
          "match_mapping_type": "long",
          "mapping": {
            "type": "long",
            "index": false
          }
        }
      },
      {
        "unindexed_doubles": {
          "match_mapping_type": "double",
          "mapping": {
            "type": "float", <a id="CO47-1"></a><i class="conum" data-value="1"></i>
            "index": false
          }
        }
      }
    ]
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/132.console"></div>
<div class="calloutlist default has-python has-ruby has-js lang-console">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO47-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Like the default dynamic mapping rules, doubles are mapped as floats, which
are usually accurate enough, yet require half the disk space.</p>
</td>
</tr>
</table>
</div>
</div>

</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="dynamic-field-mapping.html">« Dynamic field mapping</a>
</span>
<span class="next">
<a href="explicit-mapping.html">Explicit mapping »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"python":{"hasAny":true},"ruby":{"hasAny":true},"go":{"hasAny":true},"js":{"hasAny":true}}}}</script>
  </body>
</html>
