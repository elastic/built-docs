<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Elasticsearch version 8.5.0 | Elasticsearch Guide [8.5] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [8.5]"/>
<link rel="up" href="es-release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.5.1.html" title="Elasticsearch version 8.5.1"/>
<link rel="next" href="release-notes-8.4.3.html" title="Elasticsearch version 8.4.3"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.5"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.5"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.5]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="es-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.5.1.html">« Elasticsearch version 8.5.1</a>
</span>
<span class="next">
<a href="release-notes-8.4.3.html">Elasticsearch version 8.4.3 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-8.5.0"></a>Elasticsearch version 8.5.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.5/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h2>
</div></div></div>
<p>Also see <a class="xref" href="migrating-8.5.html#breaking-changes-8.5" title="Breaking changes">Breaking changes in 8.5</a>.</p>
<h3><a id="known-issues-8.5.0"></a>Known issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.5/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
It is possible to inadvertently create an alias with the same name as an
index in version 8.5.0. This action leaves the cluster in an invalid state in
which several features will not work correctly, and it may not even be possible
to restart nodes while in this state. Upgrade to 8.5.1 as soon as possible to
avoid the risk of this occurring (<a href="https://github.com/elastic/elasticsearch/pull/91456" class="ulink" target="_top">#91456</a>). If your cluster is
affected by this issue, upgrade to 8.5.3 to repair it (<a href="https://github.com/elastic/elasticsearch/pull/91887" class="ulink" target="_top">#91887</a>).
</li>
<li class="listitem">
<p>Machine learning datafeeds cannot be listed if any are not modified since version 6.x</p>
<p>If you have a datafeed that was created in version 5.x or 6.x and has not
been updated since 7.0, it is not possible to list datafeeds in
8.4 and 8.5. This means that anomaly detection jobs cannot be managed using
Kibana. This issue is fixed in 8.6.</p>
<p>If you upgrade to 8.4 or 8.5 with such a datafeed, you need to
work around the problem by updating each datafeed&#8217;s authorization information
using <a href="https://support.elastic.dev/knowledge/view/b5a879db" class="ulink" target="_top">these steps</a>.</p>
</li>
</ul>
</div>
<h3><a id="breaking-8.5.0"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.5/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reject unknown bulk actions <a href="https://github.com/elastic/elasticsearch/pull/89450" class="ulink" target="_top">#89450</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="bug-8.5.0"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.5/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">auto_date_histogram</code> &gt; <code class="literal">ip_range</code> <a href="https://github.com/elastic/elasticsearch/pull/90317" class="ulink" target="_top">#90317</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90121" class="ulink" target="_top">#90121</a>)
</li>
<li class="listitem">
Fail when rebuilding scorer in <code class="literal">breadth_first</code> mode and query context has changed <a href="https://github.com/elastic/elasticsearch/pull/89993" class="ulink" target="_top">#89993</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/37650" class="ulink" target="_top">#37650</a>)
</li>
<li class="listitem">
Fix merging with empty results <a href="https://github.com/elastic/elasticsearch/pull/86939" class="ulink" target="_top">#86939</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84622" class="ulink" target="_top">#84622</a>)
</li>
<li class="listitem">
Fix partial reduce bug in <code class="literal">ip_prefix</code> <a href="https://github.com/elastic/elasticsearch/pull/89734" class="ulink" target="_top">#89734</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89686" class="ulink" target="_top">#89686</a>)
</li>
<li class="listitem">
Remove unexpected meta parameter in aggregation response <a href="https://github.com/elastic/elasticsearch/pull/89467" class="ulink" target="_top">#89467</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89455" class="ulink" target="_top">#89455</a>)
</li>
<li class="listitem">
Consistently allow sorting <code class="literal">top_metrics</code> aggregations whose size is greater than 1 <a href="https://github.com/elastic/elasticsearch/pull/89974" class="ulink" target="_top">#89974</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86663" class="ulink" target="_top">#86663</a>)
</li>
<li class="listitem">
Check parent circuit breaker when allocating an empty bucket <a href="https://github.com/elastic/elasticsearch/pull/89568" class="ulink" target="_top">#89568</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/80789" class="ulink" target="_top">#80789</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove magic string for the <code class="literal">"__empty"</code> role <a href="https://github.com/elastic/elasticsearch/pull/89766" class="ulink" target="_top">#89766</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CCR
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Order follower backing indices for data streams by original name <a href="https://github.com/elastic/elasticsearch/pull/90850" class="ulink" target="_top">#90850</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90820" class="ulink" target="_top">#90820</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Capture deprecation warnings in batched master tasks <a href="https://github.com/elastic/elasticsearch/pull/85525" class="ulink" target="_top">#85525</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/85506" class="ulink" target="_top">#85506</a>)
</li>
<li class="listitem">
Check circuit breaker before sending join request <a href="https://github.com/elastic/elasticsearch/pull/89318" class="ulink" target="_top">#89318</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/85003" class="ulink" target="_top">#85003</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fork <code class="literal">TransportClusterStateAction</code> to <code class="literal">MANAGEMENT</code> thread pool <a href="https://github.com/elastic/elasticsearch/pull/90996" class="ulink" target="_top">#90996</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">"path.conf'"</code> typo in <code class="literal">Security.java</code> <a href="https://github.com/elastic/elasticsearch/pull/89248" class="ulink" target="_top">#89248</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89327" class="ulink" target="_top">#89327</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Buffer H3Polygon2D bounding boxes to avoid edge precision issues <a href="https://github.com/elastic/elasticsearch/pull/89196" class="ulink" target="_top">#89196</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/89868" class="ulink" target="_top">#89868</a>, <a href="https://github.com/elastic/elasticsearch/issues/87391" class="ulink" target="_top">#87391</a>)
</li>
<li class="listitem">
Fix date histogram range edge case <a href="https://github.com/elastic/elasticsearch/pull/88957" class="ulink" target="_top">#88957</a>
</li>
<li class="listitem">
Format runtime <code class="literal">geo_points</code> <a href="https://github.com/elastic/elasticsearch/pull/85449" class="ulink" target="_top">#85449</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/85245" class="ulink" target="_top">#85245</a>)
</li>
<li class="listitem">
Generate error if scripts load <code class="literal">_source</code> with synthetic <code class="literal">_source</code> enabled <a href="https://github.com/elastic/elasticsearch/pull/88334" class="ulink" target="_top">#88334</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Graph
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix race condition in timeout <a href="https://github.com/elastic/elasticsearch/pull/88946" class="ulink" target="_top">#88946</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/55396" class="ulink" target="_top">#55396</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Modify disk indicator details to provide an overview of the disk space health <a href="https://github.com/elastic/elasticsearch/pull/90189" class="ulink" target="_top">#90189</a>
</li>
<li class="listitem">
Fix disk indicator impacts and diagnosis <a href="https://github.com/elastic/elasticsearch/pull/90262" class="ulink" target="_top">#90262</a>
</li>
<li class="listitem">
Fix the details calculation of the disk indicator <a href="https://github.com/elastic/elasticsearch/pull/90869" class="ulink" target="_top">#90869</a>
</li>
<li class="listitem">
Report impact and diagnosis data nodes without disk space and no blocked indices <a href="https://github.com/elastic/elasticsearch/pull/90772" class="ulink" target="_top">#90772</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90442" class="ulink" target="_top">#90442</a>)
</li>
<li class="listitem">
Update minimum version for health node reporting to 8.5 <a href="https://github.com/elastic/elasticsearch/pull/90365" class="ulink" target="_top">#90365</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90359" class="ulink" target="_top">#90359</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid capturing per-task <code class="literal">RolloverResult</code> <a href="https://github.com/elastic/elasticsearch/pull/90626" class="ulink" target="_top">#90626</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90620" class="ulink" target="_top">#90620</a>)
</li>
<li class="listitem">
Fix shard splitting for <code class="literal">nested</code> <a href="https://github.com/elastic/elasticsearch/pull/89351" class="ulink" target="_top">#89351</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88109" class="ulink" target="_top">#88109</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">allow_no_indices</code> request option in special cases <a href="https://github.com/elastic/elasticsearch/pull/89622" class="ulink" target="_top">#89622</a>
</li>
<li class="listitem">
Fix repeated error save loops in File Settings Service <a href="https://github.com/elastic/elasticsearch/pull/90271" class="ulink" target="_top">#90271</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90222" class="ulink" target="_top">#90222</a>)
</li>
<li class="listitem">
Fix date rounding for date math parsing <a href="https://github.com/elastic/elasticsearch/pull/90458" class="ulink" target="_top">#90458</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90187" class="ulink" target="_top">#90187</a>)
</li>
<li class="listitem">
Fix disabling APM tracing for <code class="literal">CancellableTask</code> in <code class="literal">TrainedModelAssignmentNodeService</code> <a href="https://github.com/elastic/elasticsearch/pull/90972" class="ulink" target="_top">#90972</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89850" class="ulink" target="_top">#89850</a>)
</li>
<li class="listitem">
Support camel case dates on 7.x indices <a href="https://github.com/elastic/elasticsearch/pull/88914" class="ulink" target="_top">#88914</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84199" class="ulink" target="_top">#84199</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix true/false accumulation bug in boolean <code class="literal">source</code> fallback <a href="https://github.com/elastic/elasticsearch/pull/90895" class="ulink" target="_top">#90895</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set the enrich maintenance cluster lifecycle listener only once <a href="https://github.com/elastic/elasticsearch/pull/90486" class="ulink" target="_top">#90486</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Require correct tier processors when multiple AZs are present <a href="https://github.com/elastic/elasticsearch/pull/90903" class="ulink" target="_top">#90903</a>
</li>
<li class="listitem">
Return 408 instead of 500 when open/start APIs time out <a href="https://github.com/elastic/elasticsearch/pull/89775" class="ulink" target="_top">#89775</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89585" class="ulink" target="_top">#89585</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix duplication bug for <code class="literal">source</code> fallback in numeric types <a href="https://github.com/elastic/elasticsearch/pull/89352" class="ulink" target="_top">#89352</a>
</li>
<li class="listitem">
Include runtime fields in total fields count <a href="https://github.com/elastic/elasticsearch/pull/89251" class="ulink" target="_top">#89251</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88265" class="ulink" target="_top">#88265</a>)
</li>
<li class="listitem">
Fix <code class="literal">aggregate_metric_double</code> multi-values exception <a href="https://github.com/elastic/elasticsearch/pull/90290" class="ulink" target="_top">#90290</a>
</li>
<li class="listitem">
Validate field names when subobjects are disabled <a href="https://github.com/elastic/elasticsearch/pull/90950" class="ulink" target="_top">#90950</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add fields to fix Logstash cgroup graphs <a href="https://github.com/elastic/elasticsearch/pull/90493" class="ulink" target="_top">#90493</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">RecyclerBytesStreamOutput</code> allocating unlimited heap for some capacities <a href="https://github.com/elastic/elasticsearch/pull/90632" class="ulink" target="_top">#90632</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix overcounting recovered bytes after network disconnect <a href="https://github.com/elastic/elasticsearch/pull/90477" class="ulink" target="_top">#90477</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90441" class="ulink" target="_top">#90441</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for predefined char class regexp on wildcard fields <a href="https://github.com/elastic/elasticsearch/pull/90064" class="ulink" target="_top">#90064</a>
</li>
<li class="listitem">
Deduplicate fetching doc-values fields <a href="https://github.com/elastic/elasticsearch/pull/89094" class="ulink" target="_top">#89094</a>
</li>
<li class="listitem">
Don&#8217;t shortcut the total hit count for text fields <a href="https://github.com/elastic/elasticsearch/pull/90341" class="ulink" target="_top">#90341</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89760" class="ulink" target="_top">#89760</a>)
</li>
<li class="listitem">
Safeguard <code class="literal">RegExp</code> use against <code class="literal">StackOverflowError</code> <a href="https://github.com/elastic/elasticsearch/pull/84624" class="ulink" target="_top">#84624</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/82923" class="ulink" target="_top">#82923</a>)
</li>
<li class="listitem">
Use MB rather than GB to calculate max boolean clauses <a href="https://github.com/elastic/elasticsearch/pull/90309" class="ulink" target="_top">#90309</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86136" class="ulink" target="_top">#86136</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix incorrect failed shards count in APIs for current snapshots <a href="https://github.com/elastic/elasticsearch/pull/89534" class="ulink" target="_top">#89534</a>
</li>
<li class="listitem">
Fix over-allocation of mounted indices on a cold/frozen node <a href="https://github.com/elastic/elasticsearch/pull/86331" class="ulink" target="_top">#86331</a>
</li>
<li class="listitem">
Fix quadratic complexity in <code class="literal">SnapshotStatus</code> serialization <a href="https://github.com/elastic/elasticsearch/pull/90795" class="ulink" target="_top">#90795</a>
</li>
<li class="listitem">
Fork building snapshot status response off of transport thread <a href="https://github.com/elastic/elasticsearch/pull/90651" class="ulink" target="_top">#90651</a>
</li>
<li class="listitem">
Make sure listener is resolved when file queue is cleared <a href="https://github.com/elastic/elasticsearch/pull/89929" class="ulink" target="_top">#89929</a>
</li>
<li class="listitem">
Re-register a corrupt repository to unblock it <a href="https://github.com/elastic/elasticsearch/pull/89719" class="ulink" target="_top">#89719</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89130" class="ulink" target="_top">#89130</a>)
</li>
<li class="listitem">
Reject unknown request body fields in mount API <a href="https://github.com/elastic/elasticsearch/pull/88987" class="ulink" target="_top">#88987</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/75982" class="ulink" target="_top">#75982</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix segment stats in TSDS <a href="https://github.com/elastic/elasticsearch/pull/89754" class="ulink" target="_top">#89754</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89609" class="ulink" target="_top">#89609</a>)
</li>
<li class="listitem">
Fix extra fields in <code class="literal">GET</code> request for synthetic <code class="literal">_source</code> <a href="https://github.com/elastic/elasticsearch/pull/89778" class="ulink" target="_top">#89778</a>
</li>
<li class="listitem">
Fix <code class="literal">scaled_float</code> rounding for synthetic <code class="literal">_source</code> <a href="https://github.com/elastic/elasticsearch/pull/88916" class="ulink" target="_top">#88916</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88854" class="ulink" target="_top">#88854</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Don&#8217;t fail a transform on a ClusterBlockException, this may be due to ILM closing an index <a href="https://github.com/elastic/elasticsearch/pull/90396" class="ulink" target="_top">#90396</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89802" class="ulink" target="_top">#89802</a>)
</li>
<li class="listitem">
Fix NPE in transform scheduling <a href="https://github.com/elastic/elasticsearch/pull/90347" class="ulink" target="_top">#90347</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/90356" class="ulink" target="_top">#90356</a>, <a href="https://github.com/elastic/elasticsearch/issues/88203" class="ulink" target="_top">#88203</a>, <a href="https://github.com/elastic/elasticsearch/issues/90301" class="ulink" target="_top">#90301</a>, <a href="https://github.com/elastic/elasticsearch/issues/90255" class="ulink" target="_top">#90255</a>)
</li>
<li class="listitem">
Improve error handling in state persistence <a href="https://github.com/elastic/elasticsearch/pull/88910" class="ulink" target="_top">#88910</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88905" class="ulink" target="_top">#88905</a>)
</li>
<li class="listitem">
Return <code class="literal">408</code> instead of <code class="literal">500</code> when the start API times out <a href="https://github.com/elastic/elasticsearch/pull/89774" class="ulink" target="_top">#89774</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix bug for <code class="literal">kNN</code> with filtered aliases <a href="https://github.com/elastic/elasticsearch/pull/89621" class="ulink" target="_top">#89621</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow <code class="literal">xpack.notification.email.account.domain_allowlist</code> to be set dynamically <a href="https://github.com/elastic/elasticsearch/pull/90426" class="ulink" target="_top">#90426</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89913" class="ulink" target="_top">#89913</a>)
</li>
<li class="listitem">
Handling timeout exceptions on watcher startup <a href="https://github.com/elastic/elasticsearch/pull/90421" class="ulink" target="_top">#90421</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/44981" class="ulink" target="_top">#44981</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="deprecation-8.5.0"></a>Deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.5/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate network plugins <a href="https://github.com/elastic/elasticsearch/pull/88924" class="ulink" target="_top">#88924</a>
</li>
<li class="listitem">
Deprecate overriding <code class="literal">DiscoveryPlugin</code> internals <a href="https://github.com/elastic/elasticsearch/pull/88925" class="ulink" target="_top">#88925</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="enhancement-8.5.0"></a>Enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.5/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add more accurate error message for LDAP user modes <a href="https://github.com/elastic/elasticsearch/pull/89492" class="ulink" target="_top">#89492</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add indices permissions to Enterprise Search service account <a href="https://github.com/elastic/elasticsearch/pull/89869" class="ulink" target="_top">#89869</a>
</li>
<li class="listitem">
Add information of resolved roles in denial messages <a href="https://github.com/elastic/elasticsearch/pull/89680" class="ulink" target="_top">#89680</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Autoscaling
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Centralize the concept of processors configuration <a href="https://github.com/elastic/elasticsearch/pull/89662" class="ulink" target="_top">#89662</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Preemptively compute <code class="literal">RoutingNodes</code> and the indices lookup during publication <a href="https://github.com/elastic/elasticsearch/pull/89005" class="ulink" target="_top">#89005</a>
</li>
<li class="listitem">
Preemptively initialize routing nodes and indices lookup on all node types <a href="https://github.com/elastic/elasticsearch/pull/89032" class="ulink" target="_top">#89032</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Batch index delete cluster state updates <a href="https://github.com/elastic/elasticsearch/pull/90033" class="ulink" target="_top">#90033</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90022" class="ulink" target="_top">#90022</a>)
</li>
<li class="listitem">
Increase the minimum size of the management pool to <code class="literal">2</code> <a href="https://github.com/elastic/elasticsearch/pull/90193" class="ulink" target="_top">#90193</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add IDs to health API diagnoses and impacts <a href="https://github.com/elastic/elasticsearch/pull/90072" class="ulink" target="_top">#90072</a>
</li>
<li class="listitem">
Add a check to the master stability health API when there is no master and the current node is not master eligible <a href="https://github.com/elastic/elasticsearch/pull/89219" class="ulink" target="_top">#89219</a>
</li>
<li class="listitem">
Add logic to <code class="literal">master_is_stable</code> indicator to check for discovery problems <a href="https://github.com/elastic/elasticsearch/pull/88020" class="ulink" target="_top">#88020</a>
</li>
<li class="listitem">
Poll for cluster diagnostics information <a href="https://github.com/elastic/elasticsearch/pull/89014" class="ulink" target="_top">#89014</a>
</li>
<li class="listitem">
Update SLM health diagnosis message to include unhealthy policy details <a href="https://github.com/elastic/elasticsearch/pull/89138" class="ulink" target="_top">#89138</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve efficiency of <code class="literal">BoundedBreakIteratorScanner</code> fragmentation algorithm <a href="https://github.com/elastic/elasticsearch/pull/89041" class="ulink" target="_top">#89041</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/73569" class="ulink" target="_top">#73569</a>, <a href="https://github.com/elastic/elasticsearch/issues/73785" class="ulink" target="_top">#73785</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add validations for the downsampling ILM action <a href="https://github.com/elastic/elasticsearch/pull/90295" class="ulink" target="_top">#90295</a>
</li>
<li class="listitem">
Ensure that ILM does not roll over empty indices <a href="https://github.com/elastic/elasticsearch/pull/89557" class="ulink" target="_top">#89557</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86203" class="ulink" target="_top">#86203</a>)
</li>
<li class="listitem">
Reuse informational message in lifecycle step <a href="https://github.com/elastic/elasticsearch/pull/89419" class="ulink" target="_top">#89419</a>
</li>
<li class="listitem">
Move log-related logic into log block in <code class="literal">IndexLifecycleRunner</code> <a href="https://github.com/elastic/elasticsearch/pull/89292" class="ulink" target="_top">#89292</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add reserved <code class="literal">/_snapshot/repo</code> file based settings <a href="https://github.com/elastic/elasticsearch/pull/89601" class="ulink" target="_top">#89601</a>
</li>
<li class="listitem">
Add <code class="literal">upgrade_status</code> attributes to Fleet Agents <a href="https://github.com/elastic/elasticsearch/pull/89845" class="ulink" target="_top">#89845</a>
</li>
<li class="listitem">
Add support for <code class="literal">/_autoscaling/policy</code> for file based settings <a href="https://github.com/elastic/elasticsearch/pull/89708" class="ulink" target="_top">#89708</a>
</li>
<li class="listitem">
Add support for <code class="literal">/_security/role_mapping</code> for file based settings <a href="https://github.com/elastic/elasticsearch/pull/89667" class="ulink" target="_top">#89667</a>
</li>
<li class="listitem">
Add support for support for <code class="literal">/_slm/policy</code> in file based settings <a href="https://github.com/elastic/elasticsearch/pull/89567" class="ulink" target="_top">#89567</a>
</li>
<li class="listitem">
Retry file watch registration <a href="https://github.com/elastic/elasticsearch/pull/90537" class="ulink" target="_top">#90537</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89500" class="ulink" target="_top">#89500</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Node Lifecycle
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Distinguish no shutdowns case in <code class="literal">NodeShutdownAllocationDecider</code> <a href="https://github.com/elastic/elasticsearch/pull/89851" class="ulink" target="_top">#89851</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89823" class="ulink" target="_top">#89823</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add deprecation message for deprecated plugin APIs <a href="https://github.com/elastic/elasticsearch/pull/88961" class="ulink" target="_top">#88961</a>
</li>
<li class="listitem">
Register stable plugins in <code class="literal">ActionModule</code> <a href="https://github.com/elastic/elasticsearch/pull/90067" class="ulink" target="_top">#90067</a>
</li>
<li class="listitem">
Load plugin named components <a href="https://github.com/elastic/elasticsearch/pull/89969" class="ulink" target="_top">#89969</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Initial code to support binary expression scripts <a href="https://github.com/elastic/elasticsearch/pull/89895" class="ulink" target="_top">#89895</a>
</li>
<li class="listitem">
Protect <code class="literal">_source</code> inside update scripts <a href="https://github.com/elastic/elasticsearch/pull/88733" class="ulink" target="_top">#88733</a>
</li>
<li class="listitem">
Reindex and <code class="literal">UpdateByQuery</code> metadata <a href="https://github.com/elastic/elasticsearch/pull/88665" class="ulink" target="_top">#88665</a>
</li>
<li class="listitem">
Add write Field API <code class="literal">NestedDocument</code> support <a href="https://github.com/elastic/elasticsearch/pull/90021" class="ulink" target="_top">#90021</a>
</li>
<li class="listitem">
Add write Field API path manipulation <a href="https://github.com/elastic/elasticsearch/pull/89889" class="ulink" target="_top">#89889</a>
</li>
<li class="listitem">
Add write Field API with basic path resolution <a href="https://github.com/elastic/elasticsearch/pull/89738" class="ulink" target="_top">#89738</a>
</li>
<li class="listitem">
Add write Fields API for reindex, update, and update by query <a href="https://github.com/elastic/elasticsearch/pull/90145" class="ulink" target="_top">#90145</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce max headroom for disk watermark stages <a href="https://github.com/elastic/elasticsearch/pull/88639" class="ulink" target="_top">#88639</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/81406" class="ulink" target="_top">#81406</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
License
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
License check for user profile collaboration feature <a href="https://github.com/elastic/elasticsearch/pull/89990" class="ulink" target="_top">#89990</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add measure of non-cache hit inference count <a href="https://github.com/elastic/elasticsearch/pull/90464" class="ulink" target="_top">#90464</a>
</li>
<li class="listitem">
Add new <code class="literal">text_similarity</code> nlp task <a href="https://github.com/elastic/elasticsearch/pull/88439" class="ulink" target="_top">#88439</a>
</li>
<li class="listitem">
Add new trained model deployment cache clear API <a href="https://github.com/elastic/elasticsearch/pull/89074" class="ulink" target="_top">#89074</a>
</li>
<li class="listitem">
Add processor autoscaling decider <a href="https://github.com/elastic/elasticsearch/pull/89645" class="ulink" target="_top">#89645</a>
</li>
<li class="listitem">
Distribute trained model allocations across availability zones <a href="https://github.com/elastic/elasticsearch/pull/89822" class="ulink" target="_top">#89822</a>
</li>
<li class="listitem">
Use a bitset for deduplication of frequent items <a href="https://github.com/elastic/elasticsearch/pull/88943" class="ulink" target="_top">#88943</a>
</li>
<li class="listitem">
Optimize frequent items transaction lookup <a href="https://github.com/elastic/elasticsearch/pull/89062" class="ulink" target="_top">#89062</a>
</li>
<li class="listitem">
Release native inference functionality as beta <a href="https://github.com/elastic/elasticsearch/pull/90418" class="ulink" target="_top">#90418</a>
</li>
<li class="listitem">
Return <code class="literal">408</code> when the start deployment API times out <a href="https://github.com/elastic/elasticsearch/pull/89612" class="ulink" target="_top">#89612</a>
</li>
<li class="listitem">
Skip renormalization after calling the node shutdown API <a href="https://github.com/elastic/elasticsearch/pull/89347" class="ulink" target="_top">#89347</a>
</li>
<li class="listitem">
Compute outlier feature influence via the Gateaux derivative to improve attribution for high dimension vectors <a href="https://github.com/elastic/ml-cpp/pull/2256" class="ulink" target="_top">#2256</a>
</li>
<li class="listitem">
Improve classification and regression model train runtimes for data sets with many numeric features <a href="https://github.com/elastic/ml-cpp/pull/2380" class="ulink" target="_top">#2380</a>, <a href="https://github.com/elastic/ml-cpp/pull/2388" class="ulink" target="_top">#2388</a>, <a href="https://github.com/elastic/ml-cpp/pull/2390" class="ulink" target="_top">#2390</a>, <a href="https://github.com/elastic/ml-cpp/pull/2401" class="ulink" target="_top">#2401</a>
</li>
<li class="listitem">
Increase the limit on the maximum number of classes to <code class="literal">100</code> for training classification models <a href="https://github.com/elastic/ml-cpp/pull/2395" class="ulink" target="_top">#2395</a> (issue: <a href="https://github.com/elastic/ml-cpp/issues/2246" class="ulink" target="_top">#2246</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">synthetic_source</code> support to <code class="literal">aggregate_metric_double</code> fields <a href="https://github.com/elastic/elasticsearch/pull/88909" class="ulink" target="_top">#88909</a>
</li>
<li class="listitem">
Add <code class="literal">source</code> fallback for keyword fields using operation <a href="https://github.com/elastic/elasticsearch/pull/88735" class="ulink" target="_top">#88735</a>
</li>
<li class="listitem">
Add <code class="literal">source</code> fallback support for <code class="literal">match_only_text</code> mapped type <a href="https://github.com/elastic/elasticsearch/pull/89473" class="ulink" target="_top">#89473</a>
</li>
<li class="listitem">
Add <code class="literal">source</code> fallback support for date and <code class="literal">date_nanos</code> mapped types <a href="https://github.com/elastic/elasticsearch/pull/89440" class="ulink" target="_top">#89440</a>
</li>
<li class="listitem">
Add <code class="literal">source</code> fallback support for unsigned long mapped type <a href="https://github.com/elastic/elasticsearch/pull/89349" class="ulink" target="_top">#89349</a>
</li>
<li class="listitem">
Add support for <code class="literal">source</code> fallback with scaled float field type <a href="https://github.com/elastic/elasticsearch/pull/89053" class="ulink" target="_top">#89053</a>
</li>
<li class="listitem">
Add support for <code class="literal">source</code> fallback with the boolean field type <a href="https://github.com/elastic/elasticsearch/pull/89052" class="ulink" target="_top">#89052</a>
</li>
<li class="listitem">
Add text field support in the Painless scripting fields API <a href="https://github.com/elastic/elasticsearch/pull/89396" class="ulink" target="_top">#89396</a>
</li>
<li class="listitem">
Clarify that fielddata is not supported for text fields error message <a href="https://github.com/elastic/elasticsearch/pull/89770" class="ulink" target="_top">#89770</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89485" class="ulink" target="_top">#89485</a>)
</li>
<li class="listitem">
Add new mappings for Fleet Agent <code class="literal">last_checkin_message</code> and components fields <a href="https://github.com/elastic/elasticsearch/pull/89599" class="ulink" target="_top">#89599</a>
</li>
<li class="listitem">
Support <code class="literal">source</code> fallback for <code class="literal">byte</code>, <code class="literal">short</code>, and <code class="literal">long</code> fields <a href="https://github.com/elastic/elasticsearch/pull/88954" class="ulink" target="_top">#88954</a>
</li>
<li class="listitem">
Support <code class="literal">source</code> fallback for <code class="literal">double</code>, <code class="literal">float</code>, and <code class="literal">half_float</code> field types <a href="https://github.com/elastic/elasticsearch/pull/89010" class="ulink" target="_top">#89010</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use chunked REST serialization for large REST responses <a href="https://github.com/elastic/elasticsearch/pull/88311" class="ulink" target="_top">#88311</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Disable recovering from snapshots in searchable snapshots <a href="https://github.com/elastic/elasticsearch/pull/86388" class="ulink" target="_top">#86388</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Implement <code class="literal">DATE_FORMAT</code> function <a href="https://github.com/elastic/elasticsearch/pull/88388" class="ulink" target="_top">#88388</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/55065" class="ulink" target="_top">#55065</a>)
</li>
<li class="listitem">
Set <code class="literal">track_total_hits</code> to false when not needed <a href="https://github.com/elastic/elasticsearch/pull/89106" class="ulink" target="_top">#89106</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88764" class="ulink" target="_top">#88764</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable <code class="literal">BloomFilter</code> for <code class="literal">_id</code> of non-datastream indices <a href="https://github.com/elastic/elasticsearch/pull/88409" class="ulink" target="_top">#88409</a>
</li>
<li class="listitem">
In the field capabilities API, renew support for fields in the request body <a href="https://github.com/elastic/elasticsearch/pull/88972" class="ulink" target="_top">#88972</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86875" class="ulink" target="_top">#86875</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add usage stats report for user profiles <a href="https://github.com/elastic/elasticsearch/pull/90123" class="ulink" target="_top">#90123</a>
</li>
<li class="listitem">
Implement grace period for user profile activation <a href="https://github.com/elastic/elasticsearch/pull/89566" class="ulink" target="_top">#89566</a>
</li>
<li class="listitem">
Return limited-by role descriptors in Get/QueryApiKey response <a href="https://github.com/elastic/elasticsearch/pull/89273" class="ulink" target="_top">#89273</a>
</li>
<li class="listitem">
Add option to return profile uid in <code class="literal">GetUser</code> response <a href="https://github.com/elastic/elasticsearch/pull/89570" class="ulink" target="_top">#89570</a>
</li>
<li class="listitem">
Return <code class="literal">400</code> error for <code class="literal">GetUserPrivileges</code> call with API keys <a href="https://github.com/elastic/elasticsearch/pull/89333" class="ulink" target="_top">#89333</a>
</li>
<li class="listitem">
Show assigned role descriptors in Get/QueryApiKey response <a href="https://github.com/elastic/elasticsearch/pull/89166" class="ulink" target="_top">#89166</a>
</li>
<li class="listitem">
Add detailed errors in <code class="literal">hasPrivileges</code> response <a href="https://github.com/elastic/elasticsearch/pull/89224" class="ulink" target="_top">#89224</a>
</li>
<li class="listitem">
Add support for multiple UIDs to the <code class="literal">GetProfile</code> API <a href="https://github.com/elastic/elasticsearch/pull/89023" class="ulink" target="_top">#89023</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for comparing <code class="literal">SnapshotsInProgress</code> <a href="https://github.com/elastic/elasticsearch/pull/89619" class="ulink" target="_top">#89619</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88732" class="ulink" target="_top">#88732</a>)
</li>
<li class="listitem">
Prioritize shard snapshot tasks over file snapshot tasks and limit the number of the concurrently running snapshot tasks <a href="https://github.com/elastic/elasticsearch/pull/88209" class="ulink" target="_top">#88209</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/83408" class="ulink" target="_top">#83408</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce node mappings stats <a href="https://github.com/elastic/elasticsearch/pull/89807" class="ulink" target="_top">#89807</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support <code class="literal">match_only_text</code> for synthetic <code class="literal">_source</code> <a href="https://github.com/elastic/elasticsearch/pull/89516" class="ulink" target="_top">#89516</a>
</li>
<li class="listitem">
Support histogram field for synthetic <code class="literal">_source</code> <a href="https://github.com/elastic/elasticsearch/pull/89833" class="ulink" target="_top">#89833</a>
</li>
<li class="listitem">
Support version field type for synthetic <code class="literal">_source</code> <a href="https://github.com/elastic/elasticsearch/pull/89706" class="ulink" target="_top">#89706</a>
</li>
<li class="listitem">
Build <code class="literal">_id</code> without reparsing <a href="https://github.com/elastic/elasticsearch/pull/88789" class="ulink" target="_top">#88789</a>
</li>
<li class="listitem">
Return metric fields in the field caps API <a href="https://github.com/elastic/elasticsearch/pull/88695" class="ulink" target="_top">#88695</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add an unattended mode setting to transform <a href="https://github.com/elastic/elasticsearch/pull/89212" class="ulink" target="_top">#89212</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="feature-8.5.0"></a>New features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.5/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce the new <code class="literal">read_security</code> cluster privilege <a href="https://github.com/elastic/elasticsearch/pull/89790" class="ulink" target="_top">#89790</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89245" class="ulink" target="_top">#89245</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable the health node and the disk health indicator <a href="https://github.com/elastic/elasticsearch/pull/90085" class="ulink" target="_top">#90085</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84811" class="ulink" target="_top">#84811</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Provide tracing implementation using OpenTelemetry and APM Java agent <a href="https://github.com/elastic/elasticsearch/pull/88443" class="ulink" target="_top">#88443</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84369" class="ulink" target="_top">#84369</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add the stable Plugin API module and analysis interfaces <a href="https://github.com/elastic/elasticsearch/pull/88775" class="ulink" target="_top">#88775</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make <code class="literal">bucket_correlation</code> aggregation generally available <a href="https://github.com/elastic/elasticsearch/pull/88655" class="ulink" target="_top">#88655</a>
</li>
<li class="listitem">
Make <code class="literal">bucket_count_ks_test</code> aggregation generally available <a href="https://github.com/elastic/elasticsearch/pull/88657" class="ulink" target="_top">#88657</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support bulk updates of API keys <a href="https://github.com/elastic/elasticsearch/pull/88856" class="ulink" target="_top">#88856</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a TSID global ordinal to <code class="literal">TimeSeriesIndexSearcher</code> <a href="https://github.com/elastic/elasticsearch/pull/90035" class="ulink" target="_top">#90035</a>
</li>
<li class="listitem">
Release time series data stream functionality <a href="https://github.com/elastic/elasticsearch/pull/90116" class="ulink" target="_top">#90116</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/74660" class="ulink" target="_top">#74660</a>)
</li>
<li class="listitem">
Add synthetic <code class="literal">_source</code> support for the <code class="literal">ignore_above</code> parameter on <code class="literal">keyword</code> fields <a href="https://github.com/elastic/elasticsearch/pull/89466" class="ulink" target="_top">#89466</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add synthetic <code class="literal">_source</code> support for <code class="literal">dense_vector</code> <a href="https://github.com/elastic/elasticsearch/pull/89840" class="ulink" target="_top">#89840</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="regression-8.5.0"></a>Regressions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.5/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix fields API caching regression <a href="https://github.com/elastic/elasticsearch/pull/90017" class="ulink" target="_top">#90017</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="upgrade-8.5.0"></a>Upgrades<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.5/docs/reference/release-notes/8.5.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Client
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade Apache Commons Logging to 1.2 <a href="https://github.com/elastic/elasticsearch/pull/85745" class="ulink" target="_top">#85745</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40305" class="ulink" target="_top">#40305</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade bundled JDK to Java 19 <a href="https://github.com/elastic/elasticsearch/pull/90571" class="ulink" target="_top">#90571</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-8.5.1.html">« Elasticsearch version 8.5.1</a>
</span>
<span class="next">
<a href="release-notes-8.4.3.html">Elasticsearch version 8.4.3 »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"csharp":{"hasAny":true},"python":{"hasAny":true},"ruby":{"hasAny":true},"go":{"hasAny":true},"js":{"hasAny":true}}}}</script>
  </body>
</html>
