<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Update transform API | Elasticsearch Guide [8.6] | Elastic</title>
<meta class="elastic" name="content" content="Update transform API | Elasticsearch Guide [8.6]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.6]"/>
<link rel="up" href="transform-apis.html" title="Transform APIs"/>
<link rel="prev" href="stop-transform.html" title="Stop transforms API"/>
<link rel="next" href="upgrade-transforms.html" title="Upgrade transforms API"/>
<meta class="elastic" name="product_version" content="8.6"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.6"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.6"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.6]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="transform-apis.html">Transform APIs</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="stop-transform.html">« Stop transforms API</a>
</span>
<span class="next">
<a href="upgrade-transforms.html">Upgrade transforms API »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="update-transform"></a>Update transform API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h2>
</div></div></div>

<p>Updates certain properties of a transform.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST _transform/&lt;transform_id&gt;/_update</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>Requires the following privileges:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
cluster: <code class="literal">manage_transform</code> (the <code class="literal">transform_admin</code> built-in role grants this
privilege)
</li>
<li class="listitem">
source indices: <code class="literal">read</code>, <code class="literal">view_index_metadata</code>
</li>
<li class="listitem">
destination index: <code class="literal">read</code>, <code class="literal">index</code>. If a <code class="literal">retention_policy</code> is configured, <code class="literal">delete</code> index privilege is
also required.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<p>This API updates an existing transform. The list of properties that you can
update is a subset of the list that you can define when you create a transform.</p>
<p>When the transform is updated, a series of validations occur to ensure its
success. You can use the <code class="literal">defer_validation</code> parameter to skip these checks.</p>
<p>All updated properties except description do not take effect until after the
transform starts the next checkpoint. This is so there is data consistency in
each checkpoint.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Your transform remembers which roles the user who updated it had at the time
of update and runs with those privileges. If you provide
<a class="xref" href="http-clients.html#http-clients-secondary-authorization" title="Secondary authorization">secondary authorization headers</a>, those
credentials are used instead.
</li>
<li class="listitem">
You must use Kibana or this API to update a transform. Directly updating any
transform internal, system, or hidden indices is not supported and may cause
permanent failure.
</li>
</ul>
</div>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-path-parms"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;transform_id&gt;</code>
</span>
</dt>
<dd>
(Required, string)
Identifier for the transform.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-query-parms"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">defer_validation</code>
</span>
</dt>
<dd>
(Optional, Boolean) When <code class="literal">true</code>, deferrable validations are not run. This
behavior may be desired if the source index does not exist until after the
transform is updated.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, time)
Period to wait for a response. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">description</code>
</span>
</dt>
<dd>
(Optional, string) Free text description of the transform.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">dest</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
The destination for the transform.
</p>
<details open>
<summary class="title">Properties of <code class="literal">dest</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(Required, string)
The <em>destination index</em> for the transform.
</dd>
</dl>
</div>
<p>In the case of a <code class="literal">pivot</code> transform, the mappings of the destination
index are deduced based on the source fields when possible. If alternate
mappings are required, use the <a class="xref" href="indices-create-index.html" title="Create index API">Create index API</a>
prior to starting the transform.</p>
<p>In the case of a <code class="literal">latest</code> transform, the mappings are never deduced. If dynamic
mappings for the destination index are undesirable, use the
<a class="xref" href="indices-create-index.html" title="Create index API">Create index API</a> prior to starting the transform.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">pipeline</code>
</span>
</dt>
<dd>
(Optional, string)
The unique identifier for an <a class="xref" href="ingest.html" title="Ingest pipelines">ingest pipeline</a>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">frequency</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
The interval between checks for changes in the source indices when the
transform is running continuously. The minimum value is <code class="literal">1s</code> and the maximum
is <code class="literal">1h</code>. The default value is <code class="literal">1m</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_meta</code>
</span>
</dt>
<dd>
(Optional, object)
Defines optional transform metadata.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">retention_policy</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Defines a retention policy for the transform. Data that meets the defined
criteria is deleted from the destination index.
</p>
<details open>
<summary class="title">Properties of <code class="literal">retention_policy</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
<p>
(Required, object)
Specifies that the transform uses a time field to set the retention policy.
Data is deleted if <code class="literal">time.field</code> for the retention policy exists and contains
data older than <code class="literal">max.age</code>.
</p>
<details open>
<summary class="title">Properties of <code class="literal">time</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">field</code>
</span>
</dt>
<dd>
(Required, string)
The date field that is used to calculate the age of the document. Set
<code class="literal">time.field</code> to an existing date field.
</dd>
<dt>
<span class="term">
<code class="literal">max_age</code>
</span>
</dt>
<dd>
(Required, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Specifies the maximum age of a document in the destination index. Documents that
are older than the configured value are removed from the destination index.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">settings</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Defines optional transform settings.
</p>
<details open>
<summary class="title">Properties of <code class="literal">settings</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">align_checkpoints</code>
</span>
</dt>
<dd>
(Optional, boolean)
Specifies whether the transform checkpoint ranges should be optimized for performance.
Such optimization can align checkpoint ranges with date histogram interval when date histogram
is specified as a group source in the transform config. As an effect, less document updates in the
destination index will be performed thus improving overall performance.
The default value is <code class="literal">true</code>, which means the checkpoint ranges will be optimized if possible.
</dd>
<dt>
<span class="term">
<code class="literal">dates_as_epoch_millis</code>
</span>
</dt>
<dd>
(Optional, boolean)
Defines if dates in the output should be written as ISO formatted string (default)
or as millis since epoch. <code class="literal">epoch_millis</code> has been the default for transforms created
before version <code class="literal">7.11</code>. For compatible output set this to <code class="literal">true</code>.
The default value is <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">deduce_mappings</code>
</span>
</dt>
<dd>
(Optional, boolean)
Specifies whether the transform should deduce the destination index mappings from the transform config.
The default value is <code class="literal">true</code>, which means the destination index mappings will be deduced if possible.
</dd>
<dt>
<span class="term">
<code class="literal">docs_per_second</code>
</span>
</dt>
<dd>
(Optional, float)
Specifies a limit on the number of input documents per second. This setting
throttles the transform by adding a wait time between search requests. The
default value is <code class="literal">null</code>, which disables throttling.
</dd>
<dt>
<span class="term">
<code class="literal">max_page_search_size</code>
</span>
</dt>
<dd>
(Optional, integer)
Defines the initial page size to use for the composite aggregation for each
checkpoint. If circuit breaker exceptions occur, the page size is dynamically
adjusted to a lower value. The minimum value is <code class="literal">10</code> and the maximum is <code class="literal">65,536</code>.
The default value is <code class="literal">500</code>.
</dd>
<dt>
<span class="term">
<code class="literal">num_failure_retries</code>
</span>
</dt>
<dd>
(Optional, integer)
Defines the number of retries on a recoverable failure before the transform task is marked as <code class="literal">failed</code>.
The minimum value is <code class="literal">0</code> and the maximum is <code class="literal">100</code>.
<code class="literal">-1</code> can be used to denote infinity. In this case, the transform never gives up on retrying a recoverable failure.
The default value is the cluster-level setting <code class="literal">num_transform_failure_retries</code>.
</dd>
<dt>
<span class="term">
<code class="literal">unattended</code>
</span>
</dt>
<dd>
(Optional, boolean)
If <code class="literal">true</code>, the transform runs in unattended mode. In unattended mode, the
transform retries indefinitely in case of an error which means the transform
never fails. Setting the number of retries other than infinite fails in
validation. Defaults to <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">source</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
The source of the data for the transform.
</p>
<details open>
<summary class="title">Properties of <code class="literal">source</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
<p>
(Required, string or array)
The <em>source indices</em> for the transform. It can be a single index, an index
pattern (for example, <code class="literal">"my-index-*"</code>), an array of indices (for example,
<code class="literal">["my-index-000001", "my-index-000002"]</code>), or an array of index patterns (for
example, <code class="literal">["my-index-*", "my-other-index-*"]</code>. For remote indices use the syntax
<code class="literal">"remote_name:index_name"</code>.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If any indices are in remote clusters then the master node and at least
one transform node must have the <code class="literal">remote_cluster_client</code> node role.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">query</code>
</span>
</dt>
<dd>
(Optional, object)
A query clause that retrieves a subset of data from the source index. See
<a class="xref" href="query-dsl.html" title="Query DSL">Query DSL</a>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">sync</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
Defines the properties transforms require to run continuously.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can update these properties only if it is a continuous transform. You
cannot change a batch transform into a continuous transform or vice versa.
Instead, clone the transform in Kibana and add or remove the <code class="literal">sync</code> property.</p>
</div>
</div>
<details open>
<summary class="title">Properties of <code class="literal">sync</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">time</code>
</span>
</dt>
<dd>
<p>
(Required, object)
Specifies that the transform uses a time field to synchronize the source and
destination indices.
</p>
<details open>
<summary class="title">Properties of <code class="literal">time</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">delay</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
The time delay between the current time and the latest input data time. The
default value is <code class="literal">60s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">field</code>
</span>
</dt>
<dd>
<p>
(Required, string)
The date field that is used to identify new documents in the source.
</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>In general, it’s a good idea to use a field that contains the
<a class="xref" href="ingest.html#access-ingest-metadata" title="Access ingest metadata in a processor">ingest timestamp</a>. If you use a different field,
you might need to set the <code class="literal">delay</code> such that it accounts for data transmission
delays.</p>
</div>
</div>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-transform-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/transform/apis/update-transform.asciidoc">edit</a></h3>
</div></div></div>
<a id="27384266370152add76471dd0332a2f1"></a>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _transform/simple-kibana-ecomm-pivot/_update
{
  "source": {
    "index": "kibana_sample_data_ecommerce",
    "query": {
      "term": {
        "geoip.continent_name": {
          "value": "Asia"
        }
      }
    }
  },
  "description": "Maximum priced ecommerce data by customer_id in Asia",
  "dest": {
    "index": "kibana_sample_data_ecommerce_transform_v2",
    "pipeline": "add_timestamp_pipeline"
  },
  "frequency": "15m",
  "sync": {
    "time": {
      "field": "order_date",
      "delay": "120s"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2874.console"></div>
<p>When the transform is updated, you receive the updated configuration:</p>
<a id="4abdb4afb4c5c20485771393e3034698"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "id" : "simple-kibana-ecomm-pivot",
  "authorization" : {
    "roles" : [
      "superuser"
    ]
  },
  "version" : "8.4.0",
  "create_time" : 1656113450613,
  "source" : {
    "index" : [
      "kibana_sample_data_ecommerce"
    ],
    "query" : {
      "term" : {
        "geoip.continent_name" : {
          "value" : "Asia"
        }
      }
    }
  },
  "dest" : {
    "index" : "kibana_sample_data_ecommerce_transform_v2",
    "pipeline" : "add_timestamp_pipeline"
  },
  "frequency" : "15m",
  "sync" : {
    "time" : {
      "field" : "order_date",
      "delay" : "120s"
    }
  },
  "pivot" : {
    "group_by" : {
      "customer_id" : {
        "terms" : {
          "field" : "customer_id"
        }
      }
    },
    "aggregations" : {
      "max_price" : {
        "max" : {
          "field" : "taxful_total_price"
        }
      }
    }
  },
  "description" : "Maximum priced ecommerce data by customer_id in Asia",
  "settings" : { }
}</pre>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="stop-transform.html">« Stop transforms API</a>
</span>
<span class="next">
<a href="upgrade-transforms.html">Upgrade transforms API »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"csharp":{"hasAny":true},"python":{"hasAny":true},"ruby":{"hasAny":true},"go":{"hasAny":true},"js":{"hasAny":true}}}}</script>
  </body>
</html>
