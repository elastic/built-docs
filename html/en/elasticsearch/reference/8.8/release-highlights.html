<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>What&#8217;s new in 8.8 | Elasticsearch Guide [8.8] | Elastic</title>
<meta class="elastic" name="content" content="What&#8217;s new in 8.8 | Elasticsearch Guide [8.8]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.8]"/>
<link rel="up" href="index.html" title="Elasticsearch Guide [8.8]"/>
<link rel="prev" href="scalability.html" title="Scalability and resilience: clusters, nodes, and shards"/>
<link rel="next" href="setup.html" title="Set up Elasticsearch"/>
<meta class="elastic" name="product_version" content="8.8"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.8"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.8"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.8]</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="scalability.html">« Scalability and resilience: clusters, nodes, and shards</a>
</span>
<span class="next">
<a href="setup.html">Set up Elasticsearch »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="release-highlights"></a>What&#8217;s new in 8.8<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h1>
</div></div></div>
<p>Here are the highlights of what&#8217;s new and improved in Elasticsearch 8.8!
For detailed information about this release, see the <a class="xref" href="es-release-notes.html" title="Release notes">Release notes</a> and
<a class="xref" href="breaking-changes.html" title="Migration guide">Migration guide</a>.</p>
<p>Other versions:</p>
<p><a href="/guide/en/elasticsearch/reference/8.7/release-highlights.html" class="ulink" target="_top">8.7</a>
| <a href="/guide/en/elasticsearch/reference/8.6/release-highlights.html" class="ulink" target="_top">8.6</a>
| <a href="/guide/en/elasticsearch/reference/8.5/release-highlights.html" class="ulink" target="_top">8.5</a>
| <a href="/guide/en/elasticsearch/reference/8.4/release-highlights.html" class="ulink" target="_top">8.4</a>
| <a href="/guide/en/elasticsearch/reference/8.3/release-highlights.html" class="ulink" target="_top">8.3</a>
| <a href="/guide/en/elasticsearch/reference/8.2/release-highlights.html" class="ulink" target="_top">8.2</a>
| <a href="/guide/en/elasticsearch/reference/8.1/release-highlights.html" class="ulink" target="_top">8.1</a>
| <a href="/guide/en/elasticsearch/reference/8.0/release-highlights.html" class="ulink" target="_top">8.0</a></p>
<h3><a id="encode_using_40_48_56_bits_per_value"></a>Encode using 40, 48 and 56 bits per value<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>We use the encoding as follows:
* for values taking [33, 40] bits per value, encode using 40 bits per value
* for values taking [41, 48] bits per value, encode using 48 bits per value
* for values taking [49, 56] bits per value, encode using 56 bits per value</p>
<p>This is an improvement over the encoding used by ForUtils which does not
apply any compression for values taking more than 32 bits per value.</p>
<p>Note that 40, 48 and 56 bits per value represent exact multiples of
bytes (5, 6 and 7 bytes per value). As a result, we always write values
using 3, 2 or 1 byte less than the 8 bytes required for a long value.</p>
<p>Looking at the savings in stored bytes, for a block of 128 (long) values we
would normally store 128 x 8 bytes = 1024 bytes, while now we have the following:
* 40 bits per value: write 645 bytes instead of 1024, saving 379 bytes (37%)
* 48 bits per value: write 772 bytes instead of 1024, saving 252 bytes (24%)
* 56 bits per value: write 897 bytes instead of 1024, saving 127 bytes (12%)</p>
<p>We also apply compression to gauge metrics under the assumption that
compressing values taking more than 32 bits per value works well for
floating point values, because of the way floating point values are
represented (IEEE 754 format).</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/93371" class="ulink" target="_top">#93371</a></p>
<h3><a id="add_support_for_reciprocal_rank_fusion_rrf_to_search_api"></a>Add support for Reciprocal Rank Fusion (RRF) to the search API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>This change adds reciprocal rank fusion (RRF) which follows the basic formula
for merging <code class="literal">1...n</code> sets of results sets together with <code class="literal">sum(1/(k+d))</code> where <code class="literal">k</code>
is a ranking constant and <code class="literal">d</code> is a document&#8217;s scored position within a result set
from a query. The main advantage of ranking this way is the scores for the sets
of results do not have to be normalized relative to each other because RRF only
relies upon positions within each result set.</p>
<p>The API for this change adds a <code class="literal">rank</code> top-level element to the search
endpoint. An example:</p>
<div class="pre_wrapper lang-Java">
<pre class="programlisting prettyprint lang-Java">{
  "query": {
    "match": {
      "product": {
        "query": "brown shoes"
      }
    }
  },
  "knn": {
    "field": "product-vector",
    "query_vector": [54, 10, -2],
    "k": 20,
    "num_candidates": 75
  },
  "rank": {
     "rrf": {
        "window_size": 100,
        "rank_constant": 20
     }
  }
}</pre>
</div>
<p>The above example will execute the search query and the knn search separately.
It will preserve separate result sets up to the point where the queries are
ranked on the coordinating node using RRF.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/93396" class="ulink" target="_top">#93396</a></p>
<h3><a id="add_new_similarity_field_to_knn_clause_in_search"></a>Add new <code class="literal">similarity</code> field to <code class="literal">knn</code> clause in <code class="literal">_search</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>This adds a new parameter to <code class="literal">knn</code> that allows filtering nearest
neighbor results that are outside a given similarity.</p>
<p><code class="literal">num_candidates</code> and <code class="literal">k</code> are still required as this controls the
nearest-neighbor vector search accuracy and exploration. For each shard
the query will search <code class="literal">num_candidates</code> and only keep those that are
within the provided <code class="literal">similarity</code> boundary, and then finally reduce to
only the global top <code class="literal">k</code> as normal.</p>
<p>For example, when using the <code class="literal">l2_norm</code> indexed similarity value, this
could be considered a <code class="literal">radius</code> post-filter on <code class="literal">knn</code>.</p>
<p>relates to: <a href="https://github.com/elastic/elasticsearch/issues/84929" class="ulink" target="_top">https://github.com/elastic/elasticsearch/issues/84929</a> &amp;&amp;
<a href="https://github.com/elastic/elasticsearch/pull/93574" class="ulink" target="_top">https://github.com/elastic/elasticsearch/pull/93574</a></p>
<p><a href="https://github.com/elastic/elasticsearch/pull/94828" class="ulink" target="_top">#94828</a></p>
<h3><a id="ga_release_of_jwt_realm"></a>GA release of the JWT realm<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>This PR removes the beta label for JWT realm feature to make it GA.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/95398" class="ulink" target="_top">#95398</a></p>
<h3><a id="elser-model"></a>The Elastic Learned Sparse EncodeR (ELSER) model<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.8/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>In 8.8, we introduce the
<a href="/blog/may-2023-launch-sparse-encoder-ai-model" class="ulink" target="_top">Elastic Learned Sparse EncodeR</a>
model to our machine learning model library that you can use out of the box. ELSER improves
the relevance of your search results by enabling semantic search. This search
method considers the meaning of words rather than solely relying on literal
terms. ELSER is a pre-trained, out-of-domain sparse vector model that eliminates
the need for fine-tuning on your specific source data. It provides you with
relevant search results right from the start.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="scalability.html">« Scalability and resilience: clusters, nodes, and shards</a>
</span>
<span class="next">
<a href="setup.html">Set up Elasticsearch »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"python":{"hasAny":true},"ruby":{"hasAny":true},"go":{"hasAny":true},"js":{"hasAny":true}}}}</script>
  </body>
</html>
