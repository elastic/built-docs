<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Common options | Elasticsearch Guide [8.3] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Guide [8.3]"/>
<link rel="up" href="rest-apis.html" title="REST APIs"/>
<link rel="prev" href="api-conventions.html" title="API conventions"/>
<link rel="next" href="rest-api-compatibility.html" title="REST API compatibility"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.3"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.3"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.3]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="api-conventions.html">« API conventions</a>
</span>
<span class="next">
<a href="rest-api-compatibility.html">REST API compatibility »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="common-options"></a>Common options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/reference/rest-api/common-options.asciidoc">edit</a></h2>
</div></div></div>
<p>All Elasticsearch REST APIs support the following options.</p>
<h3><a id="_pretty_results"></a>Pretty Results<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/reference/rest-api/common-options.asciidoc">edit</a></h3>
<p>When appending <code class="literal">?pretty=true</code> to any request made, the JSON returned
will be pretty formatted (use it for debugging only!). Another option is
to set <code class="literal">?format=yaml</code> which will cause the result to be returned in the
(sometimes) more readable yaml format.</p>
<h3><a id="_human_readable_output"></a>Human readable output<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/reference/rest-api/common-options.asciidoc">edit</a></h3>
<p>Statistics are returned in a format suitable for humans
(e.g. <code class="literal">"exists_time": "1h"</code> or <code class="literal">"size": "1kb"</code>) and for computers
(e.g. <code class="literal">"exists_time_in_millis": 3600000</code> or <code class="literal">"size_in_bytes": 1024</code>).
The human readable values can be turned off by adding <code class="literal">?human=false</code>
to the query string. This makes sense when the stats results are
being consumed by a monitoring tool, rather than intended for human
consumption. The default for the <code class="literal">human</code> flag is
<code class="literal">false</code>.</p>
<h3><a id="date-math"></a>Date Math<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/reference/rest-api/common-options.asciidoc">edit</a></h3>
<p>Most parameters which accept a formatted date value&#8201;&#8212;&#8201;such as <code class="literal">gt</code> and <code class="literal">lt</code>
in <a class="xref" href="query-dsl-range-query.html" title="Range query"><code class="literal">range</code> queries</a>, or <code class="literal">from</code> and <code class="literal">to</code>
in <a class="xref" href="search-aggregations-bucket-daterange-aggregation.html" title="Date range aggregation"><code class="literal">daterange</code>
aggregations</a>&#8201;&#8212;&#8201;understand date maths.</p>
<p>The expression starts with an anchor date, which can either be <code class="literal">now</code>, or a
date string ending with <code class="literal">||</code>. This anchor date can optionally be followed by
one or more maths expressions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">+1h</code>: Add one hour
</li>
<li class="listitem">
<code class="literal">-1d</code>: Subtract one day
</li>
<li class="listitem">
<code class="literal">/d</code>: Round down to the nearest day
</li>
</ul>
</div>
<p>The supported time units differ from those supported by <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a> for durations.
The supported units are:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">y</code>
</p>
</td>
<td valign="top">
<p>
Years
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">M</code>
</p>
</td>
<td valign="top">
<p>
Months
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">w</code>
</p>
</td>
<td valign="top">
<p>
Weeks
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">d</code>
</p>
</td>
<td valign="top">
<p>
Days
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">h</code>
</p>
</td>
<td valign="top">
<p>
Hours
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">H</code>
</p>
</td>
<td valign="top">
<p>
Hours
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">m</code>
</p>
</td>
<td valign="top">
<p>
Minutes
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">s</code>
</p>
</td>
<td valign="top">
<p>
Seconds
</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>Assuming <code class="literal">now</code> is <code class="literal">2001-01-01 12:00:00</code>, some examples are:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">now+1h</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">now</code> in milliseconds plus one hour. Resolves to: <code class="literal">2001-01-01 13:00:00</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">now-1h</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">now</code> in milliseconds minus one hour. Resolves to: <code class="literal">2001-01-01 11:00:00</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">now-1h/d</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">now</code> in milliseconds minus one hour, rounded down to UTC 00:00. Resolves to: <code class="literal">2001-01-01 00:00:00</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">2001.02.01\|\|+1M/d</code>
</p>
</td>
<td valign="top">
<p>
<code class="literal">2001-02-01</code> in milliseconds plus one month. Resolves to: <code class="literal">2001-03-01 00:00:00</code>
</p>
</td>
</tr>
</tbody>
</table>
</div>
<h3><a id="common-options-response-filtering"></a>Response Filtering<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/reference/rest-api/common-options.asciidoc">edit</a></h3>
<p>All REST APIs accept a <code class="literal">filter_path</code> parameter that can be used to reduce
the response returned by Elasticsearch. This parameter takes a comma
separated list of filters expressed with the dot notation:</p>
<a id="49100a4f53c0ba345fadacdc4f2f86e4"></a>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_search?q=kimchy&amp;filter_path=took,hits.hits._id,hits.hits._score</pre>
</div>
<div class="console_widget" data-snippet="snippets/1851.console"></div>
<p>Responds:</p>
<a id="0936e4cc7952b267b16a3b764d4e25ee"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "took" : 3,
  "hits" : {
    "hits" : [
      {
        "_id" : "0",
        "_score" : 1.6375021
      }
    ]
  }
}</pre>
</div>
<p>It also supports the <code class="literal">*</code> wildcard character to match any field or part
of a field&#8217;s name:</p>
<div class="pre_wrapper lang-php alternative">
<pre class="programlisting prettyprint lang-php alternative">$response = $client-&gt;cluster()-&gt;state();</pre>
</div>
<div class="pre_wrapper lang-csharp alternative">
<pre class="programlisting prettyprint lang-csharp alternative">var stateResponse = client.Cluster.State(selector: c =&gt; c
    .FilterPath("metadata.indices.*.stat*") <a id="A424-CO1-1"></a><i class="conum" data-value="1"></i>
);</pre>
</div>
<div class="pre_wrapper lang-python alternative">
<pre class="programlisting prettyprint lang-python alternative">resp = client.cluster.state(filter_path="metadata.indices.*.stat*")
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<pre class="programlisting prettyprint lang-ruby alternative">response = client.cluster.state(
  filter_path: 'metadata.indices.*.stat*'
)
puts response</pre>
</div>
<div class="pre_wrapper lang-go alternative">
<pre class="programlisting prettyprint lang-go alternative">res, err := es.Cluster.State(
	es.Cluster.State.WithFilterPath("metadata.indices.*.stat*"),
)
fmt.Println(res, err)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<pre class="programlisting prettyprint lang-js alternative">const response = await client.cluster.state({
  filter_path: 'metadata.indices.*.stat*'
})
console.log(response)</pre>
</div>
<a id="1dbb8cf17fbc45c87c7d2f75f15f9778"></a>
<div class="pre_wrapper lang-console default has-php has-csharp has-python has-ruby has-go has-js">
<pre class="programlisting prettyprint lang-console default has-php has-csharp has-python has-ruby has-go has-js">GET /_cluster/state?filter_path=metadata.indices.*.stat*</pre>
</div>
<div class="console_widget has-php has-csharp has-python has-ruby has-go has-js" data-snippet="snippets/1852.console"></div>
<div class="calloutlist alternative lang-csharp">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#A424-CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Using filter path can result in a response that cannot be parsed by the client&#8217;s serializer. In these cases, using the low level client and parsing the JSON response may be preferred.</p>
</td>
</tr>
</table>
</div>
<p>Responds:</p>
<a id="0de18b5a09277a07d434a0263f02fdb4"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "metadata" : {
    "indices" : {
      "my-index-000001": {"state": "open"}
    }
  }
}</pre>
</div>
<p>And the <code class="literal">**</code> wildcard can be used to include fields without knowing the
exact path of the field. For example, we can return the state
of every shard with this request:</p>
<div class="pre_wrapper lang-php alternative">
<pre class="programlisting prettyprint lang-php alternative">$response = $client-&gt;cluster()-&gt;state();</pre>
</div>
<div class="pre_wrapper lang-csharp alternative">
<pre class="programlisting prettyprint lang-csharp alternative">var stateResponse = client.Cluster.State(selector: c =&gt; c
    .FilterPath("routing_table.indices.**.state") <a id="A430-CO1-1"></a><i class="conum" data-value="1"></i>
);</pre>
</div>
<div class="pre_wrapper lang-python alternative">
<pre class="programlisting prettyprint lang-python alternative">resp = client.cluster.state(filter_path="routing_table.indices.**.state")
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<pre class="programlisting prettyprint lang-ruby alternative">response = client.cluster.state(
  filter_path: 'routing_table.indices.**.state'
)
puts response</pre>
</div>
<div class="pre_wrapper lang-go alternative">
<pre class="programlisting prettyprint lang-go alternative">res, err := es.Cluster.State(
	es.Cluster.State.WithFilterPath("routing_table.indices.**.state"),
)
fmt.Println(res, err)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<pre class="programlisting prettyprint lang-js alternative">const response = await client.cluster.state({
  filter_path: 'routing_table.indices.**.state'
})
console.log(response)</pre>
</div>
<a id="1252fa45847edba5ec2b2f33da70ec5b"></a>
<div class="pre_wrapper lang-console default has-php has-csharp has-python has-ruby has-go has-js">
<pre class="programlisting prettyprint lang-console default has-php has-csharp has-python has-ruby has-go has-js">GET /_cluster/state?filter_path=routing_table.indices.**.state</pre>
</div>
<div class="console_widget has-php has-csharp has-python has-ruby has-go has-js" data-snippet="snippets/1853.console"></div>
<div class="calloutlist alternative lang-csharp">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#A430-CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Using filter path can result in a response that cannot be parsed by the client&#8217;s serializer. In these cases, using the low level client and parsing the JSON response may be preferred.</p>
</td>
</tr>
</table>
</div>
<p>Responds:</p>
<a id="3d84c414bb9c69072273b3f04e254076"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "routing_table": {
    "indices": {
      "my-index-000001": {
        "shards": {
          "0": [{"state": "STARTED"}, {"state": "UNASSIGNED"}]
        }
      }
    }
  }
}</pre>
</div>
<p>It is also possible to exclude one or more fields by prefixing the filter with the char <code class="literal">-</code>:</p>
<div class="pre_wrapper lang-php alternative">
<pre class="programlisting prettyprint lang-php alternative">$response = $client-&gt;count();</pre>
</div>
<div class="pre_wrapper lang-csharp alternative">
<pre class="programlisting prettyprint lang-csharp alternative">var countResponse = client.Count&lt;object&gt;(c =&gt; c
    .AllIndices()
    .FilterPath("-_shards") <a id="A436-CO1-1"></a><i class="conum" data-value="1"></i>
);</pre>
</div>
<div class="pre_wrapper lang-python alternative">
<pre class="programlisting prettyprint lang-python alternative">resp = client.count(filter_path="-_shards")
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<pre class="programlisting prettyprint lang-ruby alternative">response = client.count(
  filter_path: '-_shards'
)
puts response</pre>
</div>
<div class="pre_wrapper lang-go alternative">
<pre class="programlisting prettyprint lang-go alternative">res, err := es.Count(
	es.Count.WithFilterPath("-_shards"),
	es.Count.WithPretty(),
)
fmt.Println(res, err)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<pre class="programlisting prettyprint lang-js alternative">const response = await client.count({
  filter_path: '-_shards'
})
console.log(response)</pre>
</div>
<a id="621665fdbd7fc103c09bfeed28b67b1a"></a>
<div class="pre_wrapper lang-console default has-php has-csharp has-python has-ruby has-go has-js">
<pre class="programlisting prettyprint lang-console default has-php has-csharp has-python has-ruby has-go has-js">GET /_count?filter_path=-_shards</pre>
</div>
<div class="console_widget has-php has-csharp has-python has-ruby has-go has-js" data-snippet="snippets/1854.console"></div>
<div class="calloutlist alternative lang-csharp">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#A436-CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Using filter path can result in a response that cannot be parsed by the client&#8217;s serializer. In these cases, using the low level client and parsing the JSON response may be preferred.</p>
</td>
</tr>
</table>
</div>
<p>Responds:</p>
<a id="09108f6f3c42ee4bbe387d3c28713174"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "count" : 5
}</pre>
</div>
<p>And for more control, both inclusive and exclusive filters can be combined in the same expression. In
this case, the exclusive filters will be applied first and the result will be filtered again using the
inclusive filters:</p>
<div class="pre_wrapper lang-php alternative">
<pre class="programlisting prettyprint lang-php alternative">$response = $client-&gt;cluster()-&gt;state();</pre>
</div>
<div class="pre_wrapper lang-csharp alternative">
<pre class="programlisting prettyprint lang-csharp alternative">var stateResponse = client.Cluster.State(selector: c =&gt; c
    .FilterPath("metadata.indices.*.state,-metadata.indices.logstash-*") <a id="A442-CO1-1"></a><i class="conum" data-value="1"></i>
);</pre>
</div>
<div class="pre_wrapper lang-python alternative">
<pre class="programlisting prettyprint lang-python alternative">resp = client.cluster.state(
    filter_path=[
        "metadata.indices.*.state",
        "-metadata.indices.logstash-*",
    ],
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<pre class="programlisting prettyprint lang-ruby alternative">response = client.cluster.state(
  filter_path: 'metadata.indices.*.state,-metadata.indices.logstash-*'
)
puts response</pre>
</div>
<div class="pre_wrapper lang-go alternative">
<pre class="programlisting prettyprint lang-go alternative">res, err := es.Cluster.State(
	es.Cluster.State.WithFilterPath("metadata.indices.*.state,-metadata.indices.logstash-*"),
)
fmt.Println(res, err)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<pre class="programlisting prettyprint lang-js alternative">const response = await client.cluster.state({
  filter_path: 'metadata.indices.*.state,-metadata.indices.logstash-*'
})
console.log(response)</pre>
</div>
<a id="1e18a67caf8f06ff2710ec4a8b30f625"></a>
<div class="pre_wrapper lang-console default has-php has-csharp has-python has-ruby has-go has-js">
<pre class="programlisting prettyprint lang-console default has-php has-csharp has-python has-ruby has-go has-js">GET /_cluster/state?filter_path=metadata.indices.*.state,-metadata.indices.logstash-*</pre>
</div>
<div class="console_widget has-php has-csharp has-python has-ruby has-go has-js" data-snippet="snippets/1855.console"></div>
<div class="calloutlist alternative lang-csharp">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#A442-CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Using filter path can result in a response that cannot be parsed by the client&#8217;s serializer. In these cases, using the low level client and parsing the JSON response may be preferred.</p>
</td>
</tr>
</table>
</div>
<p>Responds:</p>
<a id="b8f7dbb03a899234b55f36f4d83c8ba0"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "metadata" : {
    "indices" : {
      "my-index-000001" : {"state" : "open"},
      "my-index-000002" : {"state" : "open"},
      "my-index-000003" : {"state" : "open"}
    }
  }
}</pre>
</div>
<p>Note that Elasticsearch sometimes returns directly the raw value of a field,
like the <code class="literal">_source</code> field. If you want to filter <code class="literal">_source</code> fields, you should
consider combining the already existing <code class="literal">_source</code> parameter (see
<a class="xref" href="docs-get.html#get-source-filtering" title="Source filtering">Get API</a> for more details) with the <code class="literal">filter_path</code>
parameter like this:</p>
<div class="pre_wrapper lang-php alternative">
<pre class="programlisting prettyprint lang-php alternative">$params = [
    'index' =&gt; 'library',
    'body' =&gt; [
        'title' =&gt; 'Book #1',
        'rating' =&gt; 200.1,
    ],
];
$response = $client-&gt;index($params);
$params = [
    'index' =&gt; 'library',
    'body' =&gt; [
        'title' =&gt; 'Book #2',
        'rating' =&gt; 1.7,
    ],
];
$response = $client-&gt;index($params);
$params = [
    'index' =&gt; 'library',
    'body' =&gt; [
        'title' =&gt; 'Book #3',
        'rating' =&gt; 0.1,
    ],
];
$response = $client-&gt;index($params);
$response = $client-&gt;search();</pre>
</div>
<div class="pre_wrapper lang-csharp alternative">
<pre class="programlisting prettyprint lang-csharp alternative">var indexResponse1 = client.Index(new
{
    title = "Book #1",
    rating = 200.1
}, i =&gt; i.Index("library").Refresh(Refresh.True));

var indexResponse2 = client.Index(new
{
    title = "Book #2",
    rating = 1.7
}, i =&gt; i.Index("library").Refresh(Refresh.True));

var indexResponse3 = client.Index(new
{
    title = "Book #3",
    rating = 0.1
}, i =&gt; i.Index("library").Refresh(Refresh.True));

var searchResponse = client.Search&lt;object&gt;(s =&gt; s
    .AllIndices()
    .FilterPath("hits.hits._source") <a id="A448-CO1-1"></a><i class="conum" data-value="1"></i>
    .Source(so =&gt; so
        .Includes(f =&gt; f.Field("title"))
    )
    .Sort(so =&gt; so
        .Field("rating", SortOrder.Descending)
    )
);</pre>
</div>
<div class="pre_wrapper lang-python alternative">
<pre class="programlisting prettyprint lang-python alternative">resp = client.index(
    index="library",
    refresh=True,
    body={"title": "Book #1", "rating": 200.1},
)
print(resp)

resp = client.index(
    index="library",
    refresh=True,
    body={"title": "Book #2", "rating": 1.7},
)
print(resp)

resp = client.index(
    index="library",
    refresh=True,
    body={"title": "Book #3", "rating": 0.1},
)
print(resp)

resp = client.search(
    filter_path="hits.hits._source", _source="title", sort="rating:desc",
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<pre class="programlisting prettyprint lang-ruby alternative">response = client.index(
  index: 'library',
  refresh: true,
  body: {
    title: 'Book #1',
    rating: 200.1
  }
)
puts response

response = client.index(
  index: 'library',
  refresh: true,
  body: {
    title: 'Book #2',
    rating: 1.7
  }
)
puts response

response = client.index(
  index: 'library',
  refresh: true,
  body: {
    title: 'Book #3',
    rating: 0.1
  }
)
puts response

response = client.index(
  filter_path: 'hits.hits._source',
  _source: 'title',
  sort: 'rating:desc'
)
puts response</pre>
</div>
<div class="pre_wrapper lang-go alternative">
<pre class="programlisting prettyprint lang-go alternative">{
	res, err := es.Index(
		"library",
		strings.NewReader(`{
	  "title": "Book #1",
	  "rating": 200.1
	}`),
		es.Index.WithRefresh("true"),
		es.Index.WithPretty(),
	)
	fmt.Println(res, err)
}

{
	res, err := es.Index(
		"library",
		strings.NewReader(`{
	  "title": "Book #2",
	  "rating": 1.7
	}`),
		es.Index.WithRefresh("true"),
		es.Index.WithPretty(),
	)
	fmt.Println(res, err)
}

{
	res, err := es.Index(
		"library",
		strings.NewReader(`{
	  "title": "Book #3",
	  "rating": 0.1
	}`),
		es.Index.WithRefresh("true"),
		es.Index.WithPretty(),
	)
	fmt.Println(res, err)
}

{
	res, err := es.Search(
		es.Search.WithSource("title"),
		es.Search.WithFilterPath("hits.hits._source"),
		es.Search.WithSort("rating:desc"),
		es.Search.WithPretty(),
	)
	fmt.Println(res, err)
}</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<pre class="programlisting prettyprint lang-js alternative">const response0 = await client.index({
  index: 'library',
  refresh: true,
  body: {
    title: 'Book #1',
    rating: 200.1
  }
})
console.log(response0)

const response1 = await client.index({
  index: 'library',
  refresh: true,
  body: {
    title: 'Book #2',
    rating: 1.7
  }
})
console.log(response1)

const response2 = await client.index({
  index: 'library',
  refresh: true,
  body: {
    title: 'Book #3',
    rating: 0.1
  }
})
console.log(response2)

const response3 = await client.search({
  filter_path: 'hits.hits._source',
  _source: 'title',
  sort: 'rating:desc'
})
console.log(response3)</pre>
</div>
<a id="6464124d1677f4552ddddd95a340ca3a"></a>
<div class="pre_wrapper lang-console default has-php has-csharp has-python has-ruby has-go has-js">
<pre class="programlisting prettyprint lang-console default has-php has-csharp has-python has-ruby has-go has-js">POST /library/_doc?refresh
{"title": "Book #1", "rating": 200.1}
POST /library/_doc?refresh
{"title": "Book #2", "rating": 1.7}
POST /library/_doc?refresh
{"title": "Book #3", "rating": 0.1}
GET /_search?filter_path=hits.hits._source&amp;_source=title&amp;sort=rating:desc</pre>
</div>
<div class="console_widget has-php has-csharp has-python has-ruby has-go has-js" data-snippet="snippets/1856.console"></div>
<div class="calloutlist alternative lang-csharp">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#A448-CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Using filter path can result in a response that cannot be parsed by the client&#8217;s serializer. In these cases, using the low level client and parsing the JSON response may be preferred.</p>
</td>
</tr>
</table>
</div>
<a id="ca0212c413612a028f3405cc29e4ff8a"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "hits" : {
    "hits" : [ {
      "_source":{"title":"Book #1"}
    }, {
      "_source":{"title":"Book #2"}
    }, {
      "_source":{"title":"Book #3"}
    } ]
  }
}</pre>
</div>
<h3><a id="_flat_settings"></a>Flat Settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/reference/rest-api/common-options.asciidoc">edit</a></h3>
<p>The <code class="literal">flat_settings</code> flag affects rendering of the lists of settings. When the
<code class="literal">flat_settings</code> flag is <code class="literal">true</code>, settings are returned in a flat format:</p>
<a id="fe96ca3b2a559d8411aca7ed5f3854bd"></a>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET my-index-000001/_settings?flat_settings=true</pre>
</div>
<div class="console_widget" data-snippet="snippets/1857.console"></div>
<p>Returns:</p>
<a id="f5248de92ef7044e0aed9fa86dc09257"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "my-index-000001" : {
    "settings": {
      "index.number_of_replicas": "1",
      "index.number_of_shards": "1",
      "index.creation_date": "1474389951325",
      "index.uuid": "n6gzFZTgS664GUfx0Xrpjw",
      "index.version.created": ...,
      "index.routing.allocation.include._tier_preference" : "data_content",
      "index.provided_name" : "my-index-000001"
    }
  }
}</pre>
</div>
<p>When the <code class="literal">flat_settings</code> flag is <code class="literal">false</code>, settings are returned in a more
human readable structured format:</p>
<a id="56f3a6bec7be5a90fb43144c331a5b5a"></a>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET my-index-000001/_settings?flat_settings=false</pre>
</div>
<div class="console_widget" data-snippet="snippets/1858.console"></div>
<p>Returns:</p>
<a id="5ffbcdcdd71cea38de1bd0eacb58255e"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "my-index-000001" : {
    "settings" : {
      "index" : {
        "number_of_replicas": "1",
        "number_of_shards": "1",
        "creation_date": "1474389951325",
        "uuid": "n6gzFZTgS664GUfx0Xrpjw",
        "version": {
          "created": ...
        },
        "routing": {
          "allocation": {
            "include": {
              "_tier_preference": "data_content"
            }
          }
        },
        "provided_name" : "my-index-000001"
      }
    }
  }
}</pre>
</div>
<p>By default <code class="literal">flat_settings</code> is set to <code class="literal">false</code>.</p>
<h3><a id="fuzziness"></a>Fuzziness<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/reference/rest-api/common-options.asciidoc">edit</a></h3>
<p>Some queries and APIs support parameters to allow inexact <em>fuzzy</em> matching,
using the <code class="literal">fuzziness</code> parameter.</p>
<p>When querying <code class="literal">text</code> or <code class="literal">keyword</code> fields, <code class="literal">fuzziness</code> is interpreted as a
<a href="https://en.wikipedia.org/wiki/Levenshtein_distance" class="ulink" target="_top">Levenshtein Edit Distance</a>&#8201;&#8212;&#8201;the number of one character changes that need to be made to one string to
make it the same as another string.</p>
<p>The <code class="literal">fuzziness</code> parameter can be specified as:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">0</code>, <code class="literal">1</code>, <code class="literal">2</code>
</p>
</td>
<td valign="top">
<p>
The maximum allowed Levenshtein Edit Distance (or number of edits)
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">AUTO</code>
</p>
</td>
<td valign="top">
<p>
<p>Generates an edit distance based on the length of the term.
Low and high distance arguments may be optionally provided <code class="literal">AUTO:[low],[high]</code>. If not specified,
the default values are 3 and 6, equivalent to <code class="literal">AUTO:3,6</code> that make for lengths:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">0..2</code>
</span>
</dt>
<dd>
Must match exactly
</dd>
<dt>
<span class="term">
<code class="literal">3..5</code>
</span>
</dt>
<dd>
One edit allowed
</dd>
<dt>
<span class="term">
<code class="literal">&gt;5</code>
</span>
</dt>
<dd>
Two edits allowed
</dd>
</dl>
</div>
<p><code class="literal">AUTO</code> should generally be the preferred value for <code class="literal">fuzziness</code>.</p>
</p>
</td>
</tr>
</tbody>
</table>
</div>
<h3><a id="common-options-error-options"></a>Enabling stack traces<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.3/docs/reference/rest-api/common-options.asciidoc">edit</a></h3>
<p>By default when a request returns an error Elasticsearch doesn&#8217;t include the
stack trace of the error. You can enable that behavior by setting the
<code class="literal">error_trace</code> url parameter to <code class="literal">true</code>. For example, by default when you send an
invalid <code class="literal">size</code> parameter to the <code class="literal">_search</code> API:</p>
<a id="0620a10ff15a2bb3eb489afc24ff0131"></a>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST /my-index-000001/_search?size=surprise_me</pre>
</div>
<div class="console_widget" data-snippet="snippets/1859.console"></div>
<p>The response looks like:</p>
<a id="be8a94d6faacfb7ca0d36d222e0ae4c9"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "error" : {
    "root_cause" : [
      {
        "type" : "illegal_argument_exception",
        "reason" : "Failed to parse int parameter [size] with value [surprise_me]"
      }
    ],
    "type" : "illegal_argument_exception",
    "reason" : "Failed to parse int parameter [size] with value [surprise_me]",
    "caused_by" : {
      "type" : "number_format_exception",
      "reason" : "For input string: \"surprise_me\""
    }
  },
  "status" : 400
}</pre>
</div>
<p>But if you set <code class="literal">error_trace=true</code>:</p>
<a id="3b05128cba6852e79a905bcdd5a8ebc0"></a>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST /my-index-000001/_search?size=surprise_me&amp;error_trace=true</pre>
</div>
<div class="console_widget" data-snippet="snippets/1860.console"></div>
<p>The response looks like:</p>
<a id="ddad5df34c874dfe814a44e1e0d57148"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "error": {
    "root_cause": [
      {
        "type": "illegal_argument_exception",
        "reason": "Failed to parse int parameter [size] with value [surprise_me]",
        "stack_trace": "Failed to parse int parameter [size] with value [surprise_me]]; nested: IllegalArgumentException..."
      }
    ],
    "type": "illegal_argument_exception",
    "reason": "Failed to parse int parameter [size] with value [surprise_me]",
    "stack_trace": "java.lang.IllegalArgumentException: Failed to parse int parameter [size] with value [surprise_me]\n    at org.elasticsearch.rest.RestRequest.paramAsInt(RestRequest.java:175)...",
    "caused_by": {
      "type": "number_format_exception",
      "reason": "For input string: \"surprise_me\"",
      "stack_trace": "java.lang.NumberFormatException: For input string: \"surprise_me\"\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)..."
    }
  },
  "status": 400
}</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="api-conventions.html">« API conventions</a>
</span>
<span class="next">
<a href="rest-api-compatibility.html">REST API compatibility »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"csharp":{"hasAny":true},"python":{"hasAny":true},"ruby":{"hasAny":true},"go":{"hasAny":true},"js":{"hasAny":true}}}}</script>
  </body>
</html>
