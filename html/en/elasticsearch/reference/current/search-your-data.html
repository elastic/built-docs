<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Search your data | Elasticsearch Reference [7.10] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.10]"/>
<link rel="up" href="index.html" title="Elasticsearch Reference [7.10]"/>
<link rel="prev" href="user-agent-processor.html" title="User agent processor"/>
<link rel="next" href="collapse-search-results.html" title="Collapse search results"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.10"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.10"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.10]</a></span>
»
<span class="breadcrumb-node">Search your data</span>
</div>
<div class="navheader">
<span class="prev">
<a href="user-agent-processor.html">« User agent processor</a>
</span>
<span class="next">
<a href="collapse-search-results.html">Collapse search results »</a>
</span>
</div>
<div class="part">
<div class="titlepage"><div><div>
<h1 class="title"><a id="search-your-data"></a>Search your data<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/search/search-your-data/search-your-data.asciidoc">edit</a></h1>
</div></div></div>
<div class="openblock partintro">
<div class="content">
<p><a id="search-query"></a>A <em>search query</em>, or <em>query</em>, is a request for information about data in
Elasticsearch data streams or indices.</p>
<p>You can think of a query as a question, written in a way Elasticsearch understands.
Depending on your data, you can use a query to get answers to questions like:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
What processes on my server take longer than 500 milliseconds to respond?
</li>
<li class="listitem">
What users on my network ran <code class="literal">regsvr32.exe</code> within the last week?
</li>
<li class="listitem">
What pages on my website contain a specific word or phrase?
</li>
</ul>
</div>
<p>A <em>search</em> consists of one or more queries that are combined and sent to Elasticsearch.
Documents that match a search&#8217;s queries are returned in the <em>hits</em>, or
<em>search results</em>, of the response.</p>
<p>A search may also contain additional information used to better process its
queries. For example, a search may be limited to a specific index or only return
a specific number of results.</p>
<h2><a id="run-an-es-search"></a>Run a search<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/search/search-your-data/search-your-data.asciidoc">edit</a></h2>
<p>You can use the <a class="xref" href="search-search.html" title="Search API">search API</a> to search and
<a class="xref" href="search-aggregations.html" title="Aggregations">aggregate</a> data stored in Elasticsearch data streams or indices.
The API&#8217;s <code class="literal">query</code> request body parameter accepts queries written in
<a class="xref" href="query-dsl.html" title="Query DSL">Query DSL</a>.</p>
<p>The following request searches <code class="literal">my-index-000001</code> using a
<a class="xref" href="query-dsl-match-query.html" title="Match query"><code class="literal">match</code></a> query. This query matches documents with a
<code class="literal">user.id</code> value of <code class="literal">kimchy</code>.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /my-index-000001/_search
{
  "query": {
    "match": {
      "user.id": "kimchy"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/632.console"></div>
<p>The API response returns the top 10 documents matching the query in the
<code class="literal">hits.hits</code> property.</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "took": 5,
  "timed_out": false,
  "_shards": {
    "total": 1,
    "successful": 1,
    "skipped": 0,
    "failed": 0
  },
  "hits": {
    "total": {
      "value": 1,
      "relation": "eq"
    },
    "max_score": 1.3862942,
    "hits": [
      {
        "_index": "my-index-000001",
        "_type": "_doc",
        "_id": "kxWFcnMByiguvud1Z8vC",
        "_score": 1.3862942,
        "_source": {
          "@timestamp": "2099-11-15T14:12:12",
          "http": {
            "request": {
              "method": "get"
            },
            "response": {
              "bytes": 1070000,
              "status_code": 200
            },
            "version": "1.1"
          },
          "message": "GET /search HTTP/1.1 200 1070000",
          "source": {
            "ip": "127.0.0.1"
          },
          "user": {
            "id": "kimchy"
          }
        }
      }
    ]
  }
}</pre>
</div>
<h3><a id="common-search-options"></a>Common search options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/search/search-your-data/search-your-data.asciidoc">edit</a></h3>
<p>You can use the following options to customize your searches.</p>
<p><span class="strong strong"><strong>Query DSL</strong></span><br>
<a class="xref" href="query-dsl.html" title="Query DSL">Query DSL</a> supports a variety of query types you can mix and match
to get the results you want. Query types include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="query-dsl-bool-query.html" title="Boolean query">Boolean</a> and other <a class="xref" href="compound-queries.html" title="Compound queries">compound
queries</a>, which let you combine queries and match results based on multiple
criteria
</li>
<li class="listitem">
<a class="xref" href="term-level-queries.html" title="Term-level queries">Term-level queries</a> for filtering and finding exact matches
</li>
<li class="listitem">
<a class="xref" href="full-text-queries.html" title="Full text queries">Full text queries</a>, which are commonly used in search
engines
</li>
<li class="listitem">
<a class="xref" href="geo-queries.html" title="Geo queries">Geo</a> and <a class="xref" href="shape-queries.html" title="Shape queries">spatial queries</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Aggregations</strong></span><br>
You can use <a class="xref" href="search-aggregations.html" title="Aggregations">search aggregations</a> to get statistics and
other analytics for your search results. Aggregations help you answer questions
like:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
What&#8217;s the average response time for my servers?
</li>
<li class="listitem">
What are the top IP addresses hit by users on my network?
</li>
<li class="listitem">
What is the total transaction revenue by customer?
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Search multiple data streams and indices</strong></span><br>
You can use comma-separated values and grep-like index patterns to search
several data streams and indices in the same request. You can even boost search
results from specific indices. See <a class="xref" href="search-multiple-indices.html" title="Search multiple data streams and indices"><em>Search multiple data streams and indices</em></a>.</p>
<p><span class="strong strong"><strong>Paginate search results</strong></span><br>
By default, searches return only the top 10 matching hits. To retrieve
more or fewer documents, see <a class="xref" href="paginate-search-results.html" title="Paginate search results"><em>Paginate search results</em></a>.</p>
<p><span class="strong strong"><strong>Retrieve selected fields</strong></span><br>
The search response&#8217;s <code class="literal">hit.hits</code> property includes the full document
<a class="xref" href="mapping-source-field.html" title="_source field"><code class="literal">_source</code></a> for each hit. To retrieve only a subset of
the <code class="literal">_source</code> or other fields, see <a class="xref" href="search-fields.html" title="Retrieve selected fields from a search"><em>Retrieve selected fields</em></a>.</p>
<p><span class="strong strong"><strong>Sort search results</strong></span><br>
By default, search hits are sorted by <code class="literal">_score</code>, a <a class="xref" href="query-filter-context.html#relevance-scores" title="Relevance scores">relevance
score</a> that measures how well each document matches the query. To customize the
calculation of these scores, use the
<a class="xref" href="query-dsl-script-score-query.html" title="Script score query"><code class="literal">script_score</code></a> query. To sort search hits by
other field values, see <a class="xref" href="sort-search-results.html" title="Sort search results"><em>Sort search results</em></a>.</p>
<p><span class="strong strong"><strong>Run an async search</strong></span><br>
Elasticsearch searches are designed to run on large volumes of data quickly, often
returning results in milliseconds. For this reason, searches are
<em>synchronous</em> by default. The search request waits for complete results before
returning a response.</p>
<p>However, complete results can take longer for searches across
<a class="xref" href="frozen-indices.html" title="Frozen indices">frozen indices</a> or <a class="xref" href="modules-cross-cluster-search.html" title="Search across clusters">multiple
clusters</a>.</p>
<p>To avoid long waits, you can run an <em>asynchronous</em>, or <em>async</em>, search
instead. An <a class="xref" href="async-search-intro.html" title="Long-running searches">async search</a> lets you retrieve partial
results for a long-running search now and get complete results later.</p>
<h3><a id="search-timeout"></a>Search timeout<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/search/search-your-data/search-your-data.asciidoc">edit</a></h3>
<p>By default, search requests don&#8217;t time out. The request waits for complete
results before returning a response.</p>
<p>While <a class="xref" href="async-search-intro.html" title="Long-running searches">async search</a> is designed for long-running
searches, you can also use the <code class="literal">timeout</code> parameter to specify a duration you&#8217;d
like to wait for a search to complete. If no response is received before this
period ends, the request fails and returns an error.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /my-index-000001/_search
{
  "timeout": "2s",
  "query": {
    "match": {
      "user.id": "kimchy"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/633.console"></div>
<p>To set a cluster-wide default timeout for all search requests, configure
<code class="literal">search.default_search_timeout</code> using the <a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">cluster
settings API</a>. This global timeout duration is used if no <code class="literal">timeout</code> argument is
passed in the request. If the global search timeout expires before the search
request finishes, the request is cancelled using <a class="xref" href="tasks.html#task-cancellation" title="Task Cancellation">task
cancellation</a>. The <code class="literal">search.default_search_timeout</code> setting defaults to <code class="literal">-1</code> (no
timeout).</p>
<h3><a id="global-search-cancellation"></a>Search cancellation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/search/search-your-data/search-your-data.asciidoc">edit</a></h3>
<p>You can cancel a search request using the <a class="xref" href="tasks.html#task-cancellation" title="Task Cancellation">task management
API</a>. Elasticsearch also automatically cancels a search request when your client&#8217;s HTTP
connection closes. We recommend you set up your client to close HTTP connections
when a search request is aborted or times out.</p>
<h3><a id="track-total-hits"></a>Track total hits<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/search/search-your-data/search-your-data.asciidoc">edit</a></h3>
<p>Generally the total hit count can&#8217;t be computed accurately without visiting all
matches, which is costly for queries that match lots of documents. The
<code class="literal">track_total_hits</code> parameter allows you to control how the total number of hits
should be tracked.
Given that it is often enough to have a lower bound of the number of hits,
such as "there are at least 10000 hits", the default is set to <code class="literal">10,000</code>.
This means that requests will count the total hit accurately up to <code class="literal">10,000</code> hits.
It is a good trade off to speed up searches if you don&#8217;t need the accurate number
of hits after a certain threshold.</p>
<p>When set to <code class="literal">true</code> the search response will always track the number of hits that
match the query accurately (e.g. <code class="literal">total.relation</code> will always be equal to <code class="literal">"eq"</code>
when <code class="literal">track_total_hits</code> is set to true). Otherwise the <code class="literal">"total.relation"</code> returned
in the <code class="literal">"total"</code> object in the search response determines how the <code class="literal">"total.value"</code>
should be interpreted. A value of <code class="literal">"gte"</code> means that the <code class="literal">"total.value"</code> is a
lower bound of the total hits that match the query and a value of <code class="literal">"eq"</code> indicates
that <code class="literal">"total.value"</code> is the accurate count.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET my-index-000001/_search
{
  "track_total_hits": true,
  "query": {
    "match" : {
      "user.id" : "elkbee"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/634.console"></div>
<p>... returns:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "_shards": ...
  "timed_out": false,
  "took": 100,
  "hits": {
    "max_score": 1.0,
    "total" : {
      "value": 2048,    <a id="CO174-1"></a><i class="conum" data-value="1"></i>
      "relation": "eq"  <a id="CO174-2"></a><i class="conum" data-value="2"></i>
    },
    "hits": ...
  }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO174-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The total number of hits that match the query.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO174-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The count is accurate (e.g. <code class="literal">"eq"</code> means equals).</p>
</td>
</tr>
</table>
</div>
<p>It is also possible to set <code class="literal">track_total_hits</code> to an integer.
For instance the following query will accurately track the total hit count that match
the query up to 100 documents:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET my-index-000001/_search
{
  "track_total_hits": 100,
  "query": {
    "match": {
      "user.id": "elkbee"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/635.console"></div>
<p>The <code class="literal">hits.total.relation</code> in the response will indicate if the
value returned in <code class="literal">hits.total.value</code> is accurate (<code class="literal">"eq"</code>) or a lower
bound of the total (<code class="literal">"gte"</code>).</p>
<p>For instance the following response:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "_shards": ...
  "timed_out": false,
  "took": 30,
  "hits": {
    "max_score": 1.0,
    "total": {
      "value": 42,         <a id="CO175-1"></a><i class="conum" data-value="1"></i>
      "relation": "eq"     <a id="CO175-2"></a><i class="conum" data-value="2"></i>
    },
    "hits": ...
  }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO175-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>42 documents match the query</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO175-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>and the count is accurate (<code class="literal">"eq"</code>)</p>
</td>
</tr>
</table>
</div>
<p>... indicates that the number of hits returned in the <code class="literal">total</code>
is accurate.</p>
<p>If the total number of hits that match the query is greater than the
value set in <code class="literal">track_total_hits</code>, the total hits in the response
will indicate that the returned value is a lower bound:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "_shards": ...
  "hits": {
    "max_score": 1.0,
    "total": {
      "value": 100,         <a id="CO176-1"></a><i class="conum" data-value="1"></i>
      "relation": "gte"     <a id="CO176-2"></a><i class="conum" data-value="2"></i>
    },
    "hits": ...
  }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO176-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>There are at least 100 documents that match the query</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO176-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>This is a lower bound (<code class="literal">"gte"</code>).</p>
</td>
</tr>
</table>
</div>
<p>If you don&#8217;t need to track the total number of hits at all you can improve query
times by setting this option to <code class="literal">false</code>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET my-index-000001/_search
{
  "track_total_hits": false,
  "query": {
    "match": {
      "user.id": "elkbee"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/636.console"></div>
<p>... returns:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "_shards": ...
  "timed_out": false,
  "took": 10,
  "hits": {             <a id="CO177-1"></a><i class="conum" data-value="1"></i>
    "max_score": 1.0,
    "hits": ...
  }
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO177-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The total number of hits is unknown.</p>
</td>
</tr>
</table>
</div>
<p>Finally you can force an accurate count by setting <code class="literal">"track_total_hits"</code>
to <code class="literal">true</code> in the request.</p>
<h3><a id="quickly-check-for-matching-docs"></a>Quickly check for matching docs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/search/search-your-data/search-your-data.asciidoc">edit</a></h3>
<p>If you only want to know if there are any documents matching a
specific query, you can set the <code class="literal">size</code> to <code class="literal">0</code> to indicate that we are not
interested in the search results. You can also set <code class="literal">terminate_after</code> to <code class="literal">1</code>
to indicate that the query execution can be terminated whenever the first
matching document was found (per shard).</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /_search?q=user.id:elkbee&amp;size=0&amp;terminate_after=1</pre>
</div>
<div class="console_widget" data-snippet="snippets/637.console"></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p><code class="literal">terminate_after</code> is always applied <span class="strong strong"><strong>after</strong></span> the
<a class="xref" href="filter-search-results.html#post-filter" title="Post filter"><code class="literal">post_filter</code></a> and stops the query as well as the aggregation
executions when enough hits have been collected on the shard. Though the doc
count on aggregations may not reflect the <code class="literal">hits.total</code> in the response since
aggregations are applied <span class="strong strong"><strong>before</strong></span> the post filtering.</p>
</div>
</div>
<p>The response will not contain any hits as the <code class="literal">size</code> was set to <code class="literal">0</code>. The
<code class="literal">hits.total</code> will be either equal to <code class="literal">0</code>, indicating that there were no
matching documents, or greater than <code class="literal">0</code> meaning that there were at least
as many documents matching the query when it was early terminated.
Also if the query was terminated early, the <code class="literal">terminated_early</code> flag will
be set to <code class="literal">true</code> in the response.</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "took": 3,
  "timed_out": false,
  "terminated_early": true,
  "_shards": {
    "total": 1,
    "successful": 1,
    "skipped" : 0,
    "failed": 0
  },
  "hits": {
    "total" : {
        "value": 1,
        "relation": "eq"
    },
    "max_score": null,
    "hits": []
  }
}</pre>
</div>
<p>The <code class="literal">took</code> time in the response contains the milliseconds that this request
took for processing, beginning quickly after the node received the query, up
until all search related work is done and before the above JSON is returned
to the client. This means it includes the time spent waiting in thread pools,
executing a distributed search across the whole cluster and gathering all the
results.</p>
</div>
</div>












</div>
<div class="navfooter">
<span class="prev">
<a href="user-agent-processor.html">« User agent processor</a>
</span>
<span class="next">
<a href="collapse-search-results.html">Collapse search results »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
