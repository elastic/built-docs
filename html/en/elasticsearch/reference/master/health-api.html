<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Health API | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Health API | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="cluster.html" title="Cluster APIs"/>
<link rel="prev" href="cluster-health.html" title="Cluster health API"/>
<link rel="next" href="cluster-reroute.html" title="Cluster reroute API"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="cluster-health.html">« Cluster health API</a>
</span>
<span class="next">
<a href="cluster-reroute.html">Cluster reroute API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="cluster.html">Cluster APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Health API</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="health-api"></a>Health API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h2>
</div></div></div>

<p>An API that reports the health status of an Elasticsearch cluster.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_health_report</code><br></p>
<p><code class="literal">GET /_health_report/&lt;indicator&gt;</code><br></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have the <code class="literal">monitor</code> or
<code class="literal">manage</code> <a class="xref" href="security-privileges.html#privileges-list-cluster" title="Cluster privileges">cluster privilege</a> to use this API.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<p>The health API returns a report with the health status of an Elasticsearch cluster. The report
contains a list of indicators that compose Elasticsearch functionality.</p>
<p>Each indicator has a health status of: <code class="literal">green</code>, <code class="literal">unknown</code>, <code class="literal">yellow</code> or <code class="literal">red</code>. The indicator will
provide an explanation and metadata describing the reason for its current health status.</p>
<p>The cluster&#8217;s status is controlled by the worst indicator status.</p>
<p>In the event that an indicator&#8217;s status is non-green, a list of impacts may be present in the
indicator result which detail the functionalities that are negatively affected by the health issue.
Each impact carries with it a severity level, an area of the system that is affected, and a simple
description of the impact on the system.</p>
<p>Some health indicators can determine the root cause of a health problem and prescribe a set of
steps that can be performed in order to improve the health of the system. The root cause and remediation
steps are encapsulated in a <code class="literal">diagnosis</code>.
A diagnosis contains a cause detailing a root cause analysis, an action containing a brief description
of the steps to take to fix the problem, the list of affected resources (if applicable), and a detailed
step-by-step troubleshooting guide to fix the diagnosed problem.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The health indicators perform root cause analysis of non-green health statuses. This can
be computationally expensive when called frequently. When setting up automated polling of the API
for health status set <code class="literal">verbose</code> to <code class="literal">false</code> to disable the more expensive analysis logic.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;indicator&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string) Limit the information returned to
a specific indicator. Supported indicators are:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">master_is_stable</code>
</span>
</dt>
<dd>
Reports health issues regarding
the stability of the node that is seen as the master by the node handling
the health request. In case of enough observed master changes in a short period of time
this indicator will aim to diagnose and report back useful information
regarding the cluster formation issues it detects.
</dd>
<dt>
<span class="term">
<code class="literal">shards_availability</code>
</span>
</dt>
<dd>
Reports health issues regarding shard assignments.
</dd>
<dt>
<span class="term">
<code class="literal">disk</code>
</span>
</dt>
<dd>
Reports health issues caused by lack of disk space.
</dd>
<dt>
<span class="term">
<code class="literal">ilm</code>
</span>
</dt>
<dd>
Reports health issues related to
Indexing Lifecycle Management.
</dd>
<dt>
<span class="term">
<code class="literal">repository_integrity</code>
</span>
</dt>
<dd>
Tracks repository integrity and reports health issues
that arise if repositories become corrupted, unknown, or invalid.
</dd>
<dt>
<span class="term">
<code class="literal">slm</code>
</span>
</dt>
<dd>
Reports health issues related to
Snapshot Lifecycle Management.
</dd>
<dt>
<span class="term">
<code class="literal">shards_capacity</code>
</span>
</dt>
<dd>
Reports health issues related to the shards
capacity of the cluster.
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">verbose</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, the response includes additional details that help explain the status of each non-green indicator.
These details include additional troubleshooting metrics and sometimes a root cause analysis of a health status.
Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(Optional, integer) The maximum number of affected resources to return.
As a diagnosis can return multiple types of affected resources this parameter will limit the number of resources returned for each type to the configured value (e.g. a diagnosis could return
<code class="literal">1000</code> affected indices and <code class="literal">1000</code> affected nodes).
Defaults to <code class="literal">1000</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cluster_name</code>
</span>
</dt>
<dd>
(string) The name of the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">status</code>
</span>
</dt>
<dd>
<p>
(Optional, string) Health status of the cluster, based on the aggregated status of all indicators
in the cluster. If the health of a specific indicator is being requested, this top
level status will be omitted. Statuses are:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">green</code>
</span>
</dt>
<dd>
The cluster is healthy.
</dd>
<dt>
<span class="term">
<code class="literal">unknown</code>
</span>
</dt>
<dd>
The health of the cluster could not be determined.
</dd>
<dt>
<span class="term">
<code class="literal">yellow</code>
</span>
</dt>
<dd>
The functionality of a cluster is in a degraded state and may need remediation
to avoid the health becoming <code class="literal">red</code>.
</dd>
<dt>
<span class="term">
<code class="literal">red</code>
</span>
</dt>
<dd>
The cluster is experiencing an outage or certain features are unavailable for use.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">indicators</code>
</span>
</dt>
<dd>
<p>
(object) Information about the health of the cluster indicators.
</p>
<details open>
<summary class="title">Properties of <code class="literal">indicators</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;indicator&gt;</code>
</span>
</dt>
<dd>
<p>
(object) Contains health results for an indicator.
</p>
<details open>
<summary class="title">Properties of <code class="literal">&lt;indicator&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">status</code>
</span>
</dt>
<dd>
<p>
(string) Health status of the indicator. Statuses are:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">green</code>
</span>
</dt>
<dd>
The indicator is healthy.
</dd>
<dt>
<span class="term">
<code class="literal">unknown</code>
</span>
</dt>
<dd>
The health of the indicator could not be determined.
</dd>
<dt>
<span class="term">
<code class="literal">yellow</code>
</span>
</dt>
<dd>
The functionality of an indicator is in a degraded state and may need remediation
to avoid the health becoming <code class="literal">red</code>.
</dd>
<dt>
<span class="term">
<code class="literal">red</code>
</span>
</dt>
<dd>
The indicator is experiencing an outage or certain features are unavailable for use.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">symptom</code>
</span>
</dt>
<dd>
(string) A message providing information about the current health status.
</dd>
<dt>
<span class="term">
<code class="literal">details</code>
</span>
</dt>
<dd>
(Optional, object) An object that contains additional information about the cluster that
has lead to the current health status result. This data is unstructured, and each
indicator returns <a class="xref" href="health-api.html#health-api-response-details" title="Indicator Details">a unique set of details</a>. Details will not be calculated if the
<code class="literal">verbose</code> property is set to false.
</dd>
<dt>
<span class="term">
<code class="literal">impacts</code>
</span>
</dt>
<dd>
<p>
(Optional, array) If a non-healthy status is returned, indicators may include a list of
impacts that this health status will have on the cluster.
</p>
<details open>
<summary class="title">Properties of <code class="literal">impacts</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">severity</code>
</span>
</dt>
<dd>
(integer) How important this impact is to the functionality of the cluster. A value of 1
is the highest severity, with larger values indicating lower severity.
</dd>
<dt>
<span class="term">
<code class="literal">description</code>
</span>
</dt>
<dd>
(string) A description of the impact on the cluster.
</dd>
<dt>
<span class="term">
<code class="literal">impact_areas</code>
</span>
</dt>
<dd>
<p>
(array of strings) The areas of cluster functionality that this impact affects.
Possible values are:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">search</code>
</li>
<li class="listitem">
<code class="literal">ingest</code>
</li>
<li class="listitem">
<code class="literal">backup</code>
</li>
<li class="listitem">
<code class="literal">deployment_management</code>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">diagnosis</code>
</span>
</dt>
<dd>
<p>
(Optional, array) If a non-healthy status is returned, indicators may include a list of
diagnosis that encapsulate the cause of the health issue and an action to take in order to remediate the problem.
The diagnosis will not be calculated if the <code class="literal">verbose</code> property is false.
</p>
<details open>
<summary class="title">Properties of <code class="literal">diagnosis</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cause</code>
</span>
</dt>
<dd>
(string) A description of a root cause of this health problem.
</dd>
<dt>
<span class="term">
<code class="literal">action</code>
</span>
</dt>
<dd>
(string) A brief description the steps that should be taken to remediate the problem.
A more detailed step-by-step guide to remediate the problem is provided by the
<code class="literal">help_url</code> field.
</dd>
<dt>
<span class="term">
<code class="literal">affected_resources</code>
</span>
</dt>
<dd>
(Optional, array of strings) If the root cause pertains to multiple resources in the
cluster (like indices, shards, nodes, etc&#8230;&#8203;) this will hold all resources that this
diagnosis is applicable for.
</dd>
<dt>
<span class="term">
<code class="literal">help_url</code>
</span>
</dt>
<dd>
(string) A link to the troubleshooting guide that&#8217;ll fix the health problem.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-response-details"></a>Indicator Details<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<p>Each health indicator in the health API returns a set of details that further explains the state of the system. The
details have contents and a structure that is unique to each indicator.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-master-is-stable"></a>master_is_stable<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">current_master</code>
</span>
</dt>
<dd>
<p>
(object) Information about the currently elected master.
</p>
<details open>
<summary class="title">Properties of <code class="literal">current_master</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">node_id</code>
</span>
</dt>
<dd>
(string) The node id of the currently elected master, or null if no master is elected.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string) The node name of the currently elected master, or null if no master is elected.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">recent_masters</code>
</span>
</dt>
<dd>
<p>
(Optional, array) A list of nodes that have been elected or replaced as master in a recent
time window. This field is present if the master
is changing rapidly enough to cause problems, and also present as additional information
when the indicator is <code class="literal">green</code>. This array includes only elected masters, and does <em>not</em>
include empty entries for periods when there was no elected master.
</p>
<details open>
<summary class="title">Properties of <code class="literal">recent_masters</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">node_id</code>
</span>
</dt>
<dd>
(string) The node id of a recently active master node.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string) The node name of a recently active master node.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">exception_fetching_history</code>
</span>
</dt>
<dd>
<p>
(Optional, object) If the node being queried sees that the elected master has stepped down
repeatedly, the master history is requested from the most recently elected master node for
diagnosis purposes. If fetching this remote history fails, the exception information is
returned in this detail field.
</p>
<details open>
<summary class="title">Properties of <code class="literal">exception_fetching_history</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">message</code>
</span>
</dt>
<dd>
(string) The exception message for the failed history fetch operation.
</dd>
<dt>
<span class="term">
<code class="literal">stack_trace</code>
</span>
</dt>
<dd>
(string) The stack trace for the failed history fetch operation.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">cluster_formation</code>
</span>
</dt>
<dd>
<p>
(Optional, array) If there has been no elected master node recently, the node being queried attempts to
gather information about why the cluster has been unable to form, or why the node being queried has been
unable to join the cluster if it has formed. This array could contain any entry for each master eligible
node&#8217;s view of cluster formation.
</p>
<details open>
<summary class="title">Properties of <code class="literal">cluster_formation</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">node_id</code>
</span>
</dt>
<dd>
(string) The node id of a master-eligible node
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Optional, string) The node name of a master-eligible node
</dd>
<dt>
<span class="term">
<code class="literal">cluster_formation_message</code>
</span>
</dt>
<dd>
(string) A detailed description explaining what went wrong with cluster formation, or why this node was
unable to join the cluster if it has formed.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-shards-availability"></a>shards_availability<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">unassigned_primaries</code>
</span>
</dt>
<dd>
(int) The number of primary shards that are unassigned for reasons other than initialization or relocation.
</dd>
<dt>
<span class="term">
<code class="literal">initializing_primaries</code>
</span>
</dt>
<dd>
(int) The number of primary shards that are initializing or recovering.
</dd>
<dt>
<span class="term">
<code class="literal">creating_primaries</code>
</span>
</dt>
<dd>
(int) The number of primary shards that are unassigned because they have been very recently created.
</dd>
<dt>
<span class="term">
<code class="literal">creating_replicas</code>
</span>
</dt>
<dd>
(int) The number of replica shards that are unassigned because they have been very recently created.
</dd>
<dt>
<span class="term">
<code class="literal">restarting_primaries</code>
</span>
</dt>
<dd>
(int) The number of primary shards that are relocating because of a node shutdown operation.
</dd>
<dt>
<span class="term">
<code class="literal">started_primaries</code>
</span>
</dt>
<dd>
(int) The number of primary shards that are active and available on the system.
</dd>
<dt>
<span class="term">
<code class="literal">unassigned_replicas</code>
</span>
</dt>
<dd>
(int) The number of replica shards that are unassigned for reasons other than initialization or relocation.
</dd>
<dt>
<span class="term">
<code class="literal">initializing_replicas</code>
</span>
</dt>
<dd>
(int) The number of replica shards that are initializing or recovering.
</dd>
<dt>
<span class="term">
<code class="literal">restarting_replicas</code>
</span>
</dt>
<dd>
(int) The number of replica shards that are relocating because of a node shutdown operation.
</dd>
<dt>
<span class="term">
<code class="literal">started_replicas</code>
</span>
</dt>
<dd>
(int) The number of replica shards that are active and available on the system.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-disk"></a>disk<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">indices_with_readonly_block</code>
</span>
</dt>
<dd>
(int) The number of indices the system enforced a read-only index block (<code class="literal">index.blocks.read_only_allow_delete</code>) on
because the cluster is running out of space.
</dd>
<dt>
<span class="term">
<code class="literal">nodes_with_enough_disk_space</code>
</span>
</dt>
<dd>
(int) The number of nodes that have enough available disk space to function.
</dd>
<dt>
<span class="term">
<code class="literal">nodes_over_high_watermark</code>
</span>
</dt>
<dd>
(int) The number of nodes that are running low on disk and it is likely that they will run out of space. Their disk usage
has tripped the <a class="xref" href="modules-cluster.html#cluster-routing-watermark-high">high watermark threshold</a>.
</dd>
<dt>
<span class="term">
<code class="literal">nodes_over_flood_stage_watermark</code>
</span>
</dt>
<dd>
(int) The number of nodes that have run out of disk. Their disk usage has tripped the <a class="xref" href="modules-cluster.html#cluster-routing-flood-stage">flood stage
watermark threshold</a>.
</dd>
<dt>
<span class="term">
<code class="literal">unknown_nodes</code>
</span>
</dt>
<dd>
(int) The number of nodes for which it was not possible to determine their disk health.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-repository-integrity"></a>repository_integrity<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total_repositories</code>
</span>
</dt>
<dd>
(Optional, int) The number of currently configured repositories on the system. If there are no repositories
configured then this detail is omitted.
</dd>
<dt>
<span class="term">
<code class="literal">corrupted_repositories</code>
</span>
</dt>
<dd>
(Optional, int) The number of repositories on the system that have been determined to be corrupted. If there are
no corrupted repositories detected, this detail is omitted.
</dd>
<dt>
<span class="term">
<code class="literal">corrupted</code>
</span>
</dt>
<dd>
(Optional, array of strings) If corrupted repositories have been detected in the system, the names of up to ten of
them are displayed in this field. If no corrupted repositories are found, this detail is omitted.
</dd>
<dt>
<span class="term">
<code class="literal">unknown_repositories</code>
</span>
</dt>
<dd>
(Optional, int) The number of repositories that have been determined to be unknown by at least one node.
If there are no unknown repositories detected, this detail is omitted.
</dd>
<dt>
<span class="term">
<code class="literal">invalid_repositories</code>
</span>
</dt>
<dd>
(Optional, int) The number of repositories that have been determined to be invalid by at least one node.
If there are no invalid repositories detected, this detail is omitted.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-ilm"></a>ilm<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ilm_status</code>
</span>
</dt>
<dd>
(string) The current status of the Indexing Lifecycle Management feature. Either <code class="literal">STOPPED</code>, <code class="literal">STOPPING</code>, or <code class="literal">RUNNING</code>.
</dd>
<dt>
<span class="term">
<code class="literal">policies</code>
</span>
</dt>
<dd>
(int) The number of index lifecycle policies that the system is managing.
</dd>
<dt>
<span class="term">
<code class="literal">stagnating_indices</code>
</span>
</dt>
<dd>
(int) the number of indices managed by index lifecycle management that has been stagnant longer than expected.
</dd>
<dt>
<span class="term">
<code class="literal">stagnating_indices_per_action</code>
</span>
</dt>
<dd>
<p>
(optional, map) Summary of the number of indices, grouped by action, that have been stagnant longer than
expected.
</p>
<details open>
<summary class="title">Properties of <code class="literal">stagnating_indices_per_action</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">downsample</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">downsample</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">allocate</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">allocate</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">shrink</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">shrink</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">searchable_snapshot</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">searchable_snapshot</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">rollover</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">rollver</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">forcemerge</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">forcemerge</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">delete</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">delete</code> action.
</dd>
<dt>
<span class="term">
<code class="literal">migrate</code>
</span>
</dt>
<dd>
(int) The number of stagnant indices in the <code class="literal">migrate</code> action.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-slm"></a>slm<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">slm_status</code>
</span>
</dt>
<dd>
(string) The current status of the Snapshot Lifecycle Management feature. Either <code class="literal">STOPPED</code>, <code class="literal">STOPPING</code>, or <code class="literal">RUNNING</code>.
</dd>
<dt>
<span class="term">
<code class="literal">policies</code>
</span>
</dt>
<dd>
(int) The number of snapshot policies that the system is managing.
</dd>
<dt>
<span class="term">
<code class="literal">unhealthy_policies</code>
</span>
</dt>
<dd>
(map) A detailed view on the policies that are considered unhealthy due to having
several consecutive unsuccessful invocations.
The <code class="literal">count</code> key represents the number of unhealthy policies (int).
The <code class="literal">invocations_since_last_success</code> key will report a map where the unhealthy policy
name is the key and it&#8217;s corresponding number of failed invocations is the value.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="health-api-response-details-shards-capacity"></a>shards_capacity<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">data</code>
</span>
</dt>
<dd>
<p>
(map) A view with information about the current capacity of shards for data nodes that do not belong to the frozen tier.
</p>
<details open>
<summary class="title">Properties of <code class="literal">data</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">max_shards_in_cluster</code>
</span>
</dt>
<dd>
(int) Indicates the maximum number of shards that the cluster can hold.
</dd>
<dt>
<span class="term">
<code class="literal">current_used_shards</code>
</span>
</dt>
<dd>
(optional, int) The total number of shards hold by the cluster. Only displayed in the case the indicator&#8217;s status is <code class="literal">red</code> or <code class="literal">yellow</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">frozen</code>
</span>
</dt>
<dd>
<p>
(map) A view with information about the current capacity of shards for data nodes that belong to the frozen tier.
</p>
<details open>
<summary class="title">Properties of <code class="literal">frozen</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">max_shards_in_cluster</code>
</span>
</dt>
<dd>
(int) Indicates the maximum number of shards the cluster can hold for the partially mounted indices.
</dd>
<dt>
<span class="term">
<code class="literal">current_used_shards</code>
</span>
</dt>
<dd>
(optional, int) The total number of shards the partially mounted indices have in the cluster. Only displayed in the case the indicator&#8217;s status is <code class="literal">red</code> or <code class="literal">yellow</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="health-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/health/health.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.health_report()
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.health_report
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.healthReport();
console.log(response);</pre>
</div>
<a id="9d79645ab3a9da3f63c54a1516214a5a"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">GET _health_report</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/2375.console"></div>
<p>The API returns a response with all the indicators regardless
of current status.</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.health_report(
    feature="shards_availability",
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.health_report(
  feature: 'shards_availability'
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.healthReport({
  feature: "shards_availability",
});
console.log(response);</pre>
</div>
<a id="87733deeea4b441b595d19a0f97346f0"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">GET _health_report/shards_availability</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/2376.console"></div>
<p>The API returns a response for just the shard availability indicator.</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.health_report(
    verbose="false",
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.health_report(
  verbose: false
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.healthReport({
  verbose: "false",
});
console.log(response);</pre>
</div>
<a id="3541d4a85e27b2c3896a7a7ee98b4b37"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">GET _health_report?verbose=false</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/2377.console"></div>
<p>The API returns a response with all health indicators but will
not calculate details or root cause analysis for the response. This is helpful
if you would like to monitor the health API and do not want the overhead of
calculating additional troubleshooting details each call.</p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="cluster-health.html">« Cluster health API</a>
</span>
<span class="next">
<a href="cluster-reroute.html">Cluster reroute API »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"python":{"hasAny":true},"ruby":{"hasAny":true},"go":{"hasAny":true},"js":{"hasAny":true}}}}</script>
  </body>
</html>
