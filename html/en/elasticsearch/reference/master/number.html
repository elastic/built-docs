<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Numeric field types | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Numeric field types | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="mapping-types.html" title="Field data types"/>
<link rel="prev" href="nested.html" title="Nested field type"/>
<link rel="next" href="object.html" title="Object field type"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="nested.html">« Nested field type</a>
</span>
<span class="next">
<a href="object.html">Object field type »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="mapping.html">Mapping</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="mapping-types.html">Field data types</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Numeric field types</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/mapping/types/numeric.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="number"></a>Numeric field types<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/mapping/types/numeric.asciidoc">edit</a></h2>
</div></div></div>

<p>The following numeric types are supported:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">long</code>
</p>
</td>
<td valign="top">
<p>
A signed 64-bit integer with a minimum value of <code class="literal">-2<sup>63</sup></code> and a maximum value of <code class="literal">2<sup>63</sup>-1</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">integer</code>
</p>
</td>
<td valign="top">
<p>
A signed 32-bit integer with a minimum value of <code class="literal">-2<sup>31</sup></code> and a maximum value of <code class="literal">2<sup>31</sup>-1</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">short</code>
</p>
</td>
<td valign="top">
<p>
A signed 16-bit integer with a minimum value of <code class="literal">-32,768</code> and a maximum value of <code class="literal">32,767</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">byte</code>
</p>
</td>
<td valign="top">
<p>
A signed 8-bit integer with a minimum value of <code class="literal">-128</code> and a maximum value of <code class="literal">127</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">double</code>
</p>
</td>
<td valign="top">
<p>
A double-precision 64-bit IEEE 754 floating point number, restricted to finite values.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">float</code>
</p>
</td>
<td valign="top">
<p>
A single-precision 32-bit IEEE 754 floating point number, restricted to finite values.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">half_float</code>
</p>
</td>
<td valign="top">
<p>
A half-precision 16-bit IEEE 754 floating point number, restricted to finite values.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">scaled_float</code>
</p>
</td>
<td valign="top">
<p>
A floating point number that is backed by a <code class="literal">long</code>, scaled by a fixed <code class="literal">double</code> scaling factor.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">unsigned_long</code>
</p>
</td>
<td valign="top">
<p>
An unsigned 64-bit integer with a minimum value of 0 and a maximum value of <code class="literal">2<sup>64</sup>-1</code>.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>Below is an example of configuring a mapping with numeric fields:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="my-index-000001",
    body={
        "mappings": {
            "properties": {
                "number_of_bytes": {"type": "integer"},
                "time_in_seconds": {"type": "float"},
                "price": {"type": "scaled_float", "scaling_factor": 100},
            }
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'my-index-000001',
  body: {
    mappings: {
      properties: {
        number_of_bytes: {
          type: 'integer'
        },
        time_in_seconds: {
          type: 'float'
        },
        price: {
          type: 'scaled_float',
          scaling_factor: 100
        }
      }
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-go alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-go alternative">res, err := es.Indices.Create(
	"my-index-000001",
	es.Indices.Create.WithBody(strings.NewReader(`{
	  "mappings": {
	    "properties": {
	      "number_of_bytes": {
	        "type": "integer"
	      },
	      "time_in_seconds": {
	        "type": "float"
	      },
	      "price": {
	        "type": "scaled_float",
	        "scaling_factor": 100
	      }
	    }
	  }
	}`)),
)
fmt.Println(res, err)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  mappings: {
    properties: {
      number_of_bytes: {
        type: "integer",
      },
      time_in_seconds: {
        type: "float",
      },
      price: {
        type: "scaled_float",
        scaling_factor: 100,
      },
    },
  },
});
console.log(response);</pre>
</div>
<a id="52fd112e970882c4d7cc4b0cca8e2c6f"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-go has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-go has-js">PUT my-index-000001
{
  "mappings": {
    "properties": {
      "number_of_bytes": {
        "type": "integer"
      },
      "time_in_seconds": {
        "type": "float"
      },
      "price": {
        "type": "scaled_float",
        "scaling_factor": 100
      }
    }
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-go has-js" data-snippet="snippets/265.console"></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">double</code>, <code class="literal">float</code> and <code class="literal">half_float</code> types consider that <code class="literal">-0.0</code> and
<code class="literal">+0.0</code> are different values. As a consequence, doing a <code class="literal">term</code> query on
<code class="literal">-0.0</code> will not match <code class="literal">+0.0</code> and vice-versa. Same is true for range queries:
if the upper bound is <code class="literal">-0.0</code> then <code class="literal">+0.0</code> will not match, and if the lower
bound is <code class="literal">+0.0</code> then <code class="literal">-0.0</code> will not match.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_which_type_should_i_use"></a>Which type should I use?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/mapping/types/numeric.asciidoc">edit</a></h3>
</div></div></div>
<p>As far as integer types (<code class="literal">byte</code>, <code class="literal">short</code>, <code class="literal">integer</code> and <code class="literal">long</code>) are concerned,
you should pick the smallest type which is enough for your use-case. This will
help indexing and searching be more efficient. Note however that storage is
optimized based on the actual values that are stored, so picking one type over
another one will have no impact on storage requirements.</p>
<p>For floating-point types, it is often more efficient to store floating-point
data into an integer using a scaling factor, which is what the <code class="literal">scaled_float</code>
type does under the hood. For instance, a <code class="literal">price</code> field could be stored in a
<code class="literal">scaled_float</code> with a <code class="literal">scaling_factor</code> of <code class="literal">100</code>. All APIs would work as if
the field was stored as a double, but under the hood Elasticsearch would be
working with the number of cents, <code class="literal">price*100</code>, which is an integer. This is
mostly helpful to save disk space since integers are way easier to compress
than floating points. <code class="literal">scaled_float</code> is also fine to use in order to trade
accuracy for disk space. For instance imagine that you are tracking cpu
utilization as a number between <code class="literal">0</code> and <code class="literal">1</code>. It usually does not matter much
whether cpu utilization is <code class="literal">12.7%</code> or <code class="literal">13%</code>, so you could use a <code class="literal">scaled_float</code>
with a <code class="literal">scaling_factor</code> of <code class="literal">100</code> in order to round cpu utilization to the
closest percent in order to save space.</p>
<p>If <code class="literal">scaled_float</code> is not a good fit, then you should pick the smallest type
that is enough for the use-case among the floating-point types: <code class="literal">double</code>,
<code class="literal">float</code> and <code class="literal">half_float</code>. Here is a table that compares these types in order
to help make a decision.</p>
<div class="informaltable">
<a id="floating_point"></a>
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
<col class="col_5"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Minimum value</th>
<th align="left" valign="top">Maximum value</th>
<th align="left" valign="top">Significant<br>
                                                     bits / digits</th>
<th align="left" valign="top">Example precision loss</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">double</code></p></td>
<td align="left" valign="top"><p><code class="literal">2<sup>-1074</sup></code></p></td>
<td align="left" valign="top"><p><code class="literal">(2-2<sup>-52</sup>)·2<sup>1023</sup></code></p></td>
<td align="left" valign="top"><p><code class="literal">53</code> / <code class="literal">15.95</code></p></td>
<td align="left" valign="top"><p><code class="literal">1.2345678912345678</code>&#8594;<br>
                                                                      <code class="literal">1.234567891234568</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">float</code></p></td>
<td align="left" valign="top"><p><code class="literal">2<sup>-149</sup></code></p></td>
<td align="left" valign="top"><p><code class="literal">(2-2<sup>-23</sup>)·2<sup>127</sup></code></p></td>
<td align="left" valign="top"><p><code class="literal">24</code> / <code class="literal">7.22</code></p></td>
<td align="left" valign="top"><p><code class="literal">1.23456789</code>&#8594;<br>
                                                                      <code class="literal">1.2345679</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">half_float</code></p></td>
<td align="left" valign="top"><p><code class="literal">2<sup>-24</sup></code></p></td>
<td align="left" valign="top"><p><code class="literal">65504</code></p></td>
<td align="left" valign="top"><p><code class="literal">11</code> / <code class="literal">3.31</code></p></td>
<td align="left" valign="top"><p><code class="literal">1.2345</code>&#8594;<br>
                                                                      <code class="literal">1.234375</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Mapping numeric identifiers</h3>
<p>Not all numeric data should be mapped as a <a class="xref" href="number.html" title="Numeric field types">numeric</a> field data type.
Elasticsearch optimizes numeric fields, such as <code class="literal">integer</code> or <code class="literal">long</code>, for
<a class="xref" href="query-dsl-range-query.html" title="Range query"><code class="literal">range</code></a> queries. However, <a class="xref" href="keyword.html" title="Keyword type family"><code class="literal">keyword</code></a> fields
are better for <a class="xref" href="query-dsl-term-query.html" title="Term query"><code class="literal">term</code></a> and other
<a class="xref" href="term-level-queries.html" title="Term-level queries">term-level</a> queries.</p>
<p>Identifiers, such as an ISBN or a product ID, are rarely used in <code class="literal">range</code>
queries. However, they are often retrieved using term-level queries.</p>
<p>Consider mapping a numeric identifier as a <code class="literal">keyword</code> if:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You don&#8217;t plan to search for the identifier data using
<a class="xref" href="query-dsl-range-query.html" title="Range query"><code class="literal">range</code></a> queries.
</li>
<li class="listitem">
Fast retrieval is important. <code class="literal">term</code> query searches on <code class="literal">keyword</code> fields are
often faster than <code class="literal">term</code> searches on numeric fields.
</li>
</ul>
</div>
<p>If you&#8217;re unsure which to use, you can use a <a class="xref" href="multi-fields.html" title="fields">multi-field</a> to map
the data as both a <code class="literal">keyword</code> <em>and</em> a numeric data type.</p>
</div>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="number-params"></a>Parameters for numeric fields<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/mapping/types/numeric.asciidoc">edit</a></h3>
</div></div></div>
<p>The following parameters are accepted by numeric types:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a class="xref" href="coerce.html" title="coerce"><code class="literal">coerce</code></a>
</span>
</dt>
<dd>
Try to convert strings to numbers and truncate fractions for integers.
Accepts <code class="literal">true</code> (default) and <code class="literal">false</code>. Not applicable for <code class="literal">unsigned_long</code>.
Note that this cannot be set if the <code class="literal">script</code> parameter is used.
</dd>
<dt>
<span class="term">
<a class="xref" href="doc-values.html" title="doc_values"><code class="literal">doc_values</code></a>
</span>
</dt>
<dd>
Should the field be stored on disk in a column-stride fashion, so that it
can later be used for sorting, aggregations, or scripting? Accepts <code class="literal">true</code>
(default) or <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<a class="xref" href="ignore-malformed.html" title="ignore_malformed"><code class="literal">ignore_malformed</code></a>
</span>
</dt>
<dd>
If <code class="literal">true</code>, malformed numbers are ignored. If <code class="literal">false</code> (default), malformed
numbers throw an exception and reject the whole document.  Note that this
cannot be set if the <code class="literal">script</code> parameter is used.
</dd>
<dt>
<span class="term">
<a class="xref" href="mapping-index.html" title="index"><code class="literal">index</code></a>
</span>
</dt>
<dd>
Should the field be quickly searchable? Accepts <code class="literal">true</code> (default) and
<code class="literal">false</code>. Numeric fields that only have <a class="xref" href="doc-values.html" title="doc_values"><code class="literal">doc_values</code></a>
enabled can also be queried, albeit slower.
</dd>
<dt>
<span class="term">
<a class="xref" href="mapping-field-meta.html" title="meta"><code class="literal">meta</code></a>
</span>
</dt>
<dd>
Metadata about the field.
</dd>
<dt>
<span class="term">
<a class="xref" href="null-value.html" title="null_value"><code class="literal">null_value</code></a>
</span>
</dt>
<dd>
Accepts a numeric value of the same <code class="literal">type</code> as the field which is
substituted for any explicit <code class="literal">null</code> values. Defaults to <code class="literal">null</code>, which
means the field is treated as missing. Note that this cannot be set
if the <code class="literal">script</code> parameter is used.
</dd>
<dt>
<span class="term">
<code class="literal">on_script_error</code>
</span>
</dt>
<dd>
Defines what to do if the script defined by the <code class="literal">script</code> parameter
throws an error at indexing time. Accepts <code class="literal">fail</code> (default), which
will cause the entire document to be rejected, and <code class="literal">continue</code>, which
will register the field in the document&#8217;s
<a class="xref" href="mapping-ignored-field.html" title="_ignored field"><code class="literal">_ignored</code></a> metadata field and continue
indexing. This parameter can only be set if the <code class="literal">script</code> field is
also set.
</dd>
<dt>
<span class="term">
<code class="literal">script</code>
</span>
</dt>
<dd>
If this parameter is set, then the field will index values generated
by this script, rather than reading the values directly from the
source. If a value is set for this field on the input document, then
the document will be rejected with an error.
Scripts are in the same format as their
<a class="xref" href="runtime-mapping-fields.html" title="Map a runtime field">runtime equivalent</a>. Scripts can only be
configured on <code class="literal">long</code> and <code class="literal">double</code> field types.
</dd>
<dt>
<span class="term">
<a class="xref" href="mapping-store.html" title="store"><code class="literal">store</code></a>
</span>
</dt>
<dd>
Whether the field value should be stored and retrievable separately from
the <a class="xref" href="mapping-source-field.html" title="_source field"><code class="literal">_source</code></a> field. Accepts <code class="literal">true</code> or <code class="literal">false</code>
(default).
</dd>
<dt>
<span class="term">
<code class="literal">time_series_dimension</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
</p>
<p>Marks the field as a <a class="xref" href="tsds.html#time-series-dimension" title="Dimensions">time series dimension</a>. Defaults
to <code class="literal">false</code>.</p>
<p>The
<a class="xref" href="tsds-index-settings.html#index-mapping-dimension-fields-limit"><code class="literal">index.mapping.dimension_fields.limit</code></a>
index setting limits the number of dimensions in an index.</p>
<p>Dimension fields have the following constraints:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">doc_values</code> and <code class="literal">index</code> mapping parameters must be <code class="literal">true</code>.
</li>
<li class="listitem">
Field values cannot be an <a class="xref" href="array.html" title="Arrays">array or multi-value</a>.
</li>
</ul>
</div>
<p>Of the numeric field types, only <code class="literal">byte</code>, <code class="literal">short</code>, <code class="literal">integer</code>, <code class="literal">long</code>, and
<code class="literal">unsigned_long</code> fields support this parameter.</p>
<p>A numeric field can&#8217;t be both a time series dimension and a time series metric.</p>
</dd>
<dt>
<span class="term">
<code class="literal">time_series_metric</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Marks the field as a <a class="xref" href="tsds.html#time-series-metric" title="Metrics">time series metric</a>. The value is the
metric type. You can&#8217;t update this parameter for existing fields.
</p>
<details open>
<summary class="title">Valid <code class="literal">time_series_metric</code> values for numeric fields</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">counter</code>
</span>
</dt>
<dd>
A cumulative metric that only monotonically increases or resets to <code class="literal">0</code> (zero). For
example, a count of errors or completed tasks.
</dd>
<dt>
<span class="term">
<code class="literal">gauge</code>
</span>
</dt>
<dd>
A metric that represents a single numeric that can arbitrarily increase or decrease. For example, a temperature or
available disk space.
</dd>
<dt>
<span class="term">
<code class="literal">null</code> (Default)
</span>
</dt>
<dd>
Not a time series metric.
</dd>
</dl>
</div>
</div>
</details>
<p>For a numeric time series metric, the <code class="literal">doc_values</code> parameter must be <code class="literal">true</code>. A
numeric field can&#8217;t be both a time series dimension and a time series metric.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="scaled-float-params"></a>Parameters for <code class="literal">scaled_float</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/mapping/types/numeric.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">scaled_float</code> accepts an additional parameter:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">scaling_factor</code>
</p>
</td>
<td valign="top">
<p>
The scaling factor to use when encoding values. Values will be multiplied
by this factor at index time and rounded to the closest long value. For
instance, a <code class="literal">scaled_float</code> with a <code class="literal">scaling_factor</code> of <code class="literal">10</code> would internally
store <code class="literal">2.34</code> as <code class="literal">23</code> and all search-time operations (queries, aggregations,
sorting) will behave as if the document had a value of <code class="literal">2.3</code>. High values
of <code class="literal">scaling_factor</code> improve accuracy but also increase space requirements.
This parameter is required.
</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="scaled-float-saturation"></a><code class="literal">scaled_float</code> saturation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/mapping/types/numeric.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">scaled_float</code> is stored as a single <code class="literal">long</code> value, which is the product of multiplying the original value by the scaling factor. If the multiplication
results in a value that is outside the range of a <code class="literal">long</code>, the value is saturated
to the minimum or maximum value of a <code class="literal">long</code>. For example, if the scaling factor
is <code class="literal">100</code> and the value is <code class="literal">92233720368547758.08</code>, the expected value is <code class="literal">9223372036854775808</code>.
However, the value that is stored is <code class="literal">9223372036854775807</code>, the maximum value for a <code class="literal">long</code>.</p>
<p>This can lead to unexpected results with <a class="xref" href="query-dsl-range-query.html" title="Range query">range queries</a>
when the scaling factor or provided <code class="literal">float</code> value are exceptionally large.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="numeric-synthetic-source"></a>Synthetic <code class="literal">_source</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/mapping/types/numeric.asciidoc">edit</a></h3>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Synthetic <code class="literal">_source</code> is Generally Available only for TSDB indices
(indices that have <code class="literal">index.mode</code> set to <code class="literal">time_series</code>). For other indices
synthetic <code class="literal">_source</code> is in technical preview. Features in technical preview may
be changed or removed in a future release. Elastic will work to fix
any issues, but features in technical preview are not subject to the support SLA
of official GA features.</p>
</div>
</div>
<p>All numeric fields support <a class="xref" href="mapping-source-field.html#synthetic-source" title="Synthetic _source">synthetic
<code class="literal">_source</code></a> in their default configuration. Synthetic <code class="literal">_source</code> cannot be used
together with <a class="xref" href="copy-to.html" title="copy_to"><code class="literal">copy_to</code></a>, or
with <a class="xref" href="doc-values.html" title="doc_values"><code class="literal">doc_values</code></a> disabled.</p>
<p>Synthetic source always sorts numeric fields. For example:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="idx",
    body={
        "mappings": {
            "_source": {"mode": "synthetic"},
            "properties": {"long": {"type": "long"}},
        }
    },
)
print(resp)

resp = client.index(
    index="idx",
    id="1",
    body={"long": [0, 0, -123466, 87612]},
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'idx',
  body: {
    mappings: {
      _source: {
        mode: 'synthetic'
      },
      properties: {
        long: {
          type: 'long'
        }
      }
    }
  }
)
puts response

response = client.index(
  index: 'idx',
  id: 1,
  body: {
    long: [
      0,
      0,
      -123_466,
      87_612
    ]
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "idx",
  mappings: {
    _source: {
      mode: "synthetic",
    },
    properties: {
      long: {
        type: "long",
      },
    },
  },
});
console.log(response);

const response1 = await client.index({
  index: "idx",
  id: 1,
  document: {
    long: [0, 0, -123466, 87612],
  },
});
console.log(response1);</pre>
</div>
<a id="36063ff9a318dba7bb0be3a230655dc8"></a>
<a id="synthetic-source-numeric-example"></a><div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT idx
{
  "mappings": {
    "_source": { "mode": "synthetic" },
    "properties": {
      "long": { "type": "long" }
    }
  }
}
PUT idx/_doc/1
{
  "long": [0, 0, -123466, 87612]
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/266.console"></div>
<p>Will become:</p>
<a id="2f20867964873b85a3dc39d51a59377d"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "long": [-123466, 0, 0, 87612]
}</pre>
</div>
<p>Scaled floats will always apply their scaling factor so:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="idx",
    body={
        "mappings": {
            "_source": {"mode": "synthetic"},
            "properties": {
                "f": {"type": "scaled_float", "scaling_factor": 0.01}
            },
        }
    },
)
print(resp)

resp = client.index(
    index="idx",
    id="1",
    body={"f": 123},
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'idx',
  body: {
    mappings: {
      _source: {
        mode: 'synthetic'
      },
      properties: {
        f: {
          type: 'scaled_float',
          scaling_factor: 0.01
        }
      }
    }
  }
)
puts response

response = client.index(
  index: 'idx',
  id: 1,
  body: {
    f: 123
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "idx",
  mappings: {
    _source: {
      mode: "synthetic",
    },
    properties: {
      f: {
        type: "scaled_float",
        scaling_factor: 0.01,
      },
    },
  },
});
console.log(response);

const response1 = await client.index({
  index: "idx",
  id: 1,
  document: {
    f: 123,
  },
});
console.log(response1);</pre>
</div>
<a id="0e5db64154a722a5cbdb84b588ce2ce8"></a>
<a id="synthetic-source-scaled-float-example"></a><div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT idx
{
  "mappings": {
    "_source": { "mode": "synthetic" },
    "properties": {
      "f": { "type": "scaled_float", "scaling_factor": 0.01 }
    }
  }
}
PUT idx/_doc/1
{
  "f": 123
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/267.console"></div>
<p>Will become:</p>
<a id="ac632f8417164e97e3f2a7f67207d150"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "f": 100.0
}</pre>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="nested.html">« Nested field type</a>
</span>
<span class="next">
<a href="object.html">Object field type »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {"alternatives":{"console":{"php":{"hasAny":true},"python":{"hasAny":true},"ruby":{"hasAny":true},"go":{"hasAny":true},"js":{"hasAny":true}}}}</script>
  </body>
</html>
