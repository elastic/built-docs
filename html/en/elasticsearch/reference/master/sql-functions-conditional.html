<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Conditional Functions And Expressions
        | Elasticsearch Reference [master]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Elasticsearch Reference [master]" /><link rel="up" href="sql-functions.html" title="Functions and Operators" /><link rel="prev" href="sql-functions-geo.html" title="Geo Functions" /><link rel="next" href="sql-functions-system.html" title="System Functions" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="master" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-sql.html">SQL access</a></span> » <span class="breadcrumb-link"><a href="sql-functions.html">Functions and Operators</a></span> » <span class="breadcrumb-node">Conditional Functions And Expressions</span></div><div class="navheader"><span class="prev"><a href="sql-functions-geo.html">
              « 
              Geo Functions</a>
           
        </span><span class="next">
           
          <a href="sql-functions-system.html">System Functions
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="sql-functions-conditional"></a>Conditional Functions And Expressions<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>Functions that return one of their arguments by evaluating in an if-else manner.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sql-functions-conditional-case"></a><code class="literal">CASE</code><a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><strong>Synopsis: </strong>
</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">CASE WHEN condition THEN result
    [WHEN ...]
    [ELSE default_result]
END</pre></div><p>
</p><p><span class="strong strong"><strong>Input</strong></span>:</p><p>One or multiple <span class="emphasis"><em>WHEN <span class="strong strong"><strong>condition</strong></span> THEN <span class="strong strong"><strong>result</strong></span></em></span> clauses are used and the expression can optionally have
an <span class="emphasis"><em>ELSE <span class="strong strong"><strong>default_result</strong></span></em></span> clause. Every <span class="strong strong"><strong>condition</strong></span> should be a boolean expression.</p><p><span class="strong strong"><strong>Output</strong></span>: one of the <span class="strong strong"><strong>result</strong></span> expressions if the corresponding <span class="emphasis"><em>WHEN <span class="strong strong"><strong>condition</strong></span></em></span> evaluates to <code class="literal">true</code> or
the <span class="strong strong"><strong>default_result</strong></span> if all <span class="emphasis"><em>WHEN <span class="strong strong"><strong>condition</strong></span></em></span> clauses evaluate to <code class="literal">false</code>. If the optional <span class="emphasis"><em>ELSE <span class="strong strong"><strong>default_result</strong></span></em></span>
clause is missing and all <span class="emphasis"><em>WHEN <span class="strong strong"><strong>condition</strong></span></em></span> clauses evaluate to <code class="literal">false</code> then <code class="literal">null</code> is returned.</p><p><strong>Description. </strong>The CASE expression is a generic conditional expression which simulates if/else statements of other programming languages
If the condition’s result is true, the value of the result expression that follows the condition will be the returned
the subsequent when clauses will be skipped and not processed.</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT CASE WHEN 1 &gt; 2 THEN 'elastic'
            WHEN 2 &lt;= 3 THEN 'search'
       END AS "case";

    case
---------------
search</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT CASE WHEN 1 &gt; 2 THEN 'elastic'
            WHEN 2 &gt; 10 THEN 'search'
       END AS "case";

    case
---------------
null</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT CASE WHEN 1 &gt; 2 THEN 'elastic'
            WHEN 2 &gt; 10 THEN 'search'
            ELSE 'default'
       END AS "case";

    case
---------------
default</pre></div><p>As a variant, a case expression can be expressed with a syntax similar to <span class="strong strong"><strong>switch-case</strong></span> of other programming languages:</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">CASE expression
     WHEN value1 THEN result1
    [WHEN value2 THEN result2]
    [WHEN ...]
    [ELSE default_result]
END</pre></div><p>In this case it’s transformed internally to:</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">CASE WHEN expression = value1 THEN result1
    [WHEN expression = value2 THEN result2]
    [WHEN ...]
    [ELSE default_result]
END</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT CASE 5
            WHEN 1 THEN 'elastic'
            WHEN 2 THEN 'search'
            WHEN 5 THEN 'elasticsearch'
       END AS "case";

    case
---------------
elasticsearch</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT CASE 5
            WHEN 1 THEN 'elastic'
            WHEN 2 THEN 'search'
            WHEN 3 THEN 'elasticsearch'
            ELSE 'default'
       END AS "case";

    case
---------------
default</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>All result expressions must be of compatible data types. More specifically all result
expressions should have a compatible data type with the 1st <span class="emphasis"><em>non-null</em></span> result expression.
E.g.:</p><p>for the following query:</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">CASE WHEN a = 1 THEN null
     WHEN a &gt; 2 THEN 10
     WHEN a &gt; 5 THEN 'foo'
END</pre></div><p>an error message would be returned, mentioning that <span class="strong strong"><strong><span class="emphasis"><em>foo</em></span></strong></span> is of data type <span class="strong strong"><strong>keyword</strong></span>,
which does not match the expected data type <span class="strong strong"><strong>integer</strong></span> (based on result <span class="strong strong"><strong>10</strong></span>).</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sql-functions-conditional-case-groupby-custom-buckets"></a>Conditional bucketing<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4></div></div></div><p>CASE can be used as a GROUP BY key in a query to facilitate custom bucketing
and assign descriptive names to those buckets. If, for example, the values
for a key are too many or, simply, ranges of those values are more
interesting than every single value, CASE can create custom buckets as in the
following example:</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT count(*) AS count,
  CASE WHEN NVL(languages, 0) = 0 THEN 'zero'
    WHEN languages = 1 THEN 'one'
    WHEN languages = 2 THEN 'bilingual'
    WHEN languages = 3 THEN 'trilingual'
    ELSE 'multilingual'
  END as lang_skills
FROM employees
GROUP BY lang_skills
ORDER BY lang_skills;</pre></div><p>With this query, one can create normal grouping buckets for values <span class="emphasis"><em>0, 1, 2, 3</em></span> with
descriptive names, and every value <span class="emphasis"><em>&gt;= 4</em></span> falls into the <span class="emphasis"><em>multilingual</em></span> bucket.</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sql-functions-conditional-coalesce"></a><code class="literal">COALESCE</code><a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><strong>Synopsis: </strong>
</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">COALESCE(
    expression, <a id="CO440-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    expression, <a id="CO440-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    ...)</pre></div><p>
</p><p><span class="strong strong"><strong>Input</strong></span>:</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO440-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>1st expression</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO440-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>2nd expression</p></td></tr></table></div><p>…​</p><p><span class="strong strong"><strong>N</strong></span>th expression</p><p>COALESCE can take an arbitrary number of arguments.</p><p><span class="strong strong"><strong>Output</strong></span>: one of the expressions or <code class="literal">null</code></p><p><strong>Description. </strong>Returns the first of its arguments that is not null.
If all arguments are null, then it returns <code class="literal">null</code>.</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT COALESCE(null, 'elastic', 'search') AS "coalesce";

    coalesce
---------------
elastic</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT COALESCE(null, null, null, null) AS "coalesce";

    coalesce
---------------
null</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sql-functions-conditional-greatest"></a><code class="literal">GREATEST</code><a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><strong>Synopsis: </strong>
</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">GREATEST(
    expression, <a id="CO441-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    expression, <a id="CO441-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    ...)</pre></div><p>
</p><p><span class="strong strong"><strong>Input</strong></span>:</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO441-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>1st expression</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO441-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>2nd expression</p></td></tr></table></div><p>…​</p><p><span class="strong strong"><strong>N</strong></span>th expression</p><p>GREATEST can take an arbitrary number of arguments and
all of them must be of the same data type.</p><p><span class="strong strong"><strong>Output</strong></span>: one of the expressions or <code class="literal">null</code></p><p><strong>Description. </strong>Returns the argument that has the largest value which is not null.
If all arguments are null, then it returns <code class="literal">null</code>.</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT GREATEST(null, 1, 2) AS "greatest";

    greatest
---------------
2</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT GREATEST(null, null, null, null) AS "greatest";

    greatest
---------------
null</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sql-functions-conditional-ifnull"></a><code class="literal">IFNULL</code><a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><strong>Synopsis: </strong>
</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">IFNULL(
    expression, <a id="CO442-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    expression) <a id="CO442-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span></pre></div><p>
</p><p><span class="strong strong"><strong>Input</strong></span>:</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO442-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>1st expression</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO442-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>2nd expression</p></td></tr></table></div><p><span class="strong strong"><strong>Output</strong></span>: 2nd expression if 1st expression is null, otherwise 1st expression.</p><p><strong>Description. </strong>Variant of <a class="xref" href="sql-functions-conditional.html#sql-functions-conditional-coalesce" title="COALESCE"><code class="literal">COALESCE</code></a> with only two arguments.
Returns the first of its arguments that is not null.
If all arguments are null, then it returns <code class="literal">null</code>.</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT IFNULL('elastic', null) AS "ifnull";

    ifnull
---------------
elastic</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT IFNULL(null, 'search') AS "ifnull";

    ifnull
---------------
search</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sql-functions-conditional-iif"></a><code class="literal">IFF</code><a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><strong>Synopsis: </strong>
</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">IIF(
    expression,   <a id="CO443-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    expression,   <a id="CO443-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    [expression]) <a id="CO443-3"></a><span><img src="images/icons/callouts/3.png" alt="" /></span></pre></div><p>
</p><p><span class="strong strong"><strong>Input</strong></span>:</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO443-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>boolean condition to check</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO443-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>return value if the boolean condition evaluates to <code class="literal">true</code></p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO443-3"><span><img src="images/icons/callouts/3.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>return value if the boolean condition evaluates <code class="literal">false</code>; optional</p></td></tr></table></div><p><span class="strong strong"><strong>Output</strong></span>: 2nd expression if 1st expression (condition) evaluates to <code class="literal">true</code>. If it evaluates to <code class="literal">false</code>
return 3rd expression. If 3rd expression is not provided return <code class="literal">null</code>.</p><p><strong>Description. </strong>Conditional function that implements the standard <span class="emphasis"><em>IF &lt;condition&gt; THEN &lt;result1&gt; ELSE &lt;result2&gt;</em></span>
logic of programming languages. If the 3rd expression is not provided and the condition evaluates to <code class="literal">false</code>,
<code class="literal">null</code> is returned.</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT IIF(1 &lt; 2, 'TRUE', 'FALSE') AS result1, IIF(1 &gt; 2, 'TRUE', 'FALSE') AS result2;

    result1    |    result2
---------------+---------------
TRUE           |FALSE</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT IIF(1 &lt; 2, 'TRUE') AS result1, IIF(1 &gt; 2 , 'TRUE') AS result2;

    result1    |    result2
---------------+---------------
TRUE           |null</pre></div><div class="tip admon"><div class="icon"><img alt="Tip" src="images/icons/tip.png" /></div><div class="admon_content"><p><span class="strong strong"><strong>IIF</strong></span> functions can be combined to implement more complex logic simulating the <a class="xref" href="sql-functions-conditional.html#sql-functions-conditional-case" title="CASE"><code class="literal">CASE</code></a>
expression. E.g.:</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">IIF(a = 1, 'one', IIF(a = 2, 'two', IIF(a = 3, 'three', 'many')))</pre></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sql-functions-conditional-isnull"></a><code class="literal">ISNULL</code><a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><strong>Synopsis: </strong>
</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">ISNULL(
    expression, <a id="CO444-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    expression) <a id="CO444-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span></pre></div><p>
</p><p><span class="strong strong"><strong>Input</strong></span>:</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO444-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>1st expression</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO444-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>2nd expression</p></td></tr></table></div><p><span class="strong strong"><strong>Output</strong></span>: 2nd expression if 1st expression is null, otherwise 1st expression.</p><p><strong>Description. </strong>Variant of <a class="xref" href="sql-functions-conditional.html#sql-functions-conditional-coalesce" title="COALESCE"><code class="literal">COALESCE</code></a> with only two arguments.
Returns the first of its arguments that is not null.
If all arguments are null, then it returns <code class="literal">null</code>.</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT ISNULL('elastic', null) AS "isnull";

    isnull
---------------
elastic</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT ISNULL(null, 'search') AS "isnull";

    isnull
---------------
search</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sql-functions-conditional-least"></a><code class="literal">LEAST</code><a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><strong>Synopsis: </strong>
</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">LEAST(
    expression, <a id="CO445-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    expression, <a id="CO445-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span>
    ...)</pre></div><p>
</p><p><span class="strong strong"><strong>Input</strong></span>:</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO445-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>1st expression</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO445-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>2nd expression</p></td></tr></table></div><p>…​</p><p><span class="strong strong"><strong>N</strong></span>th expression</p><p>LEAST can take an arbitrary number of arguments and
all of them must be of the same data type.</p><p><span class="strong strong"><strong>Output</strong></span>: one of the expressions or <code class="literal">null</code></p><p><strong>Description. </strong>Returns the argument that has the smallest value which is not null.
If all arguments are null, then it returns <code class="literal">null</code>.</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT LEAST(null, 2, 1) AS "least";

    least
---------------
1</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT LEAST(null, null, null, null) AS "least";

    least
---------------
null</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sql-functions-conditional-nullif"></a><code class="literal">NULLIF</code><a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><strong>Synopsis: </strong>
</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">NULLIF(
    expression, <a id="CO446-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    expression) <a id="CO446-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span></pre></div><p>
</p><p><span class="strong strong"><strong>Input</strong></span>:</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO446-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>1st expression</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO446-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>2nd expression</p></td></tr></table></div><p><span class="strong strong"><strong>Output</strong></span>: <code class="literal">null</code> if the 2 expressions are equal, otherwise the 1st expression.</p><p><strong>Description. </strong>Returns <code class="literal">null</code> when the two input expressions are equal and
if not, it returns the 1st expression.</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT NULLIF('elastic', 'search') AS "nullif";
    nullif
---------------
elastic</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT NULLIF('elastic', 'elastic') AS "nullif";

    nullif:s
---------------
null</pre></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sql-functions-conditional-nvl"></a><code class="literal">NVL</code><a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/sql/functions/conditional.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p><strong>Synopsis: </strong>
</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">NVL(
    expression, <a id="CO447-1"></a><span><img src="images/icons/callouts/1.png" alt="" /></span>
    expression) <a id="CO447-2"></a><span><img src="images/icons/callouts/2.png" alt="" /></span></pre></div><p>
</p><p><span class="strong strong"><strong>Input</strong></span>:</p><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO447-1"><span><img src="images/icons/callouts/1.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>1st expression</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO447-2"><span><img src="images/icons/callouts/2.png" alt="" /></span></a> </p></td><td valign="top" align="left"><p>2nd expression</p></td></tr></table></div><p><span class="strong strong"><strong>Output</strong></span>: 2nd expression if 1st expression is null, otherwise 1st expression.</p><p><strong>Description. </strong>Variant of <a class="xref" href="sql-functions-conditional.html#sql-functions-conditional-coalesce" title="COALESCE"><code class="literal">COALESCE</code></a> with only two arguments.
Returns the first of its arguments that is not null.
If all arguments are null, then it returns <code class="literal">null</code>.</p><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT NVL('elastic', null) AS "nvl";

    nvl
---------------
elastic</pre></div><div class="pre_wrapper lang-sql"><pre class="programlisting prettyprint lang-sql">SELECT NVL(null, 'search') AS "nvl";

    nvl
---------------
search</pre></div></div></div><div class="navfooter"><span class="prev"><a href="sql-functions-geo.html">
              « 
              Geo Functions</a>
           
        </span><span class="next">
           
          <a href="sql-functions-system.html">System Functions
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>

  
            <script type="text/javascript" src="/guide/static/docs.js"></script>

            </body>
        
</html>
