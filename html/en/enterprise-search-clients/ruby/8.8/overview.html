<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Overview | Enterprise Search Ruby client [8.8] | Elastic</title>
<meta class="elastic" name="content" content="Overview | Enterprise Search Ruby client [8.8]">

<link rel="home" href="index.html" title="Enterprise Search Ruby client [8.8]"/>
<link rel="up" href="index.html" title="Enterprise Search Ruby client [8.8]"/>
<link rel="prev" href="index.html" title="Enterprise Search Ruby client [8.8]"/>
<link rel="next" href="installation.html" title="Installation"/>
<meta class="elastic" name="product_version" content="8.8"/>
<meta class="elastic" name="product_name" content="Enterprise Search Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search Clients/Ruby/8.8"/>
<meta name="DC.subject" content="Enterprise Search Clients"/>
<meta name="DC.identifier" content="8.8"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Enterprise Search Ruby client<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
</div>
<div class="navheader">
<span class="prev">
</span>
<span class="next">
<a href="installation.html">Installation »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="overview"></a>Overview<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/enterprise-search-ruby/edit/8.8/docs/guide/overview.asciidoc">edit</a></h1>
</div></div></div>
<p>This is the official Ruby client for Elastic Enterprise Search.</p>
<h3><a id="_compatibility"></a>Compatibility<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/enterprise-search-ruby/edit/8.8/docs/guide/overview.asciidoc">edit</a></h3>
<p>Current development happens in the main branch.</p>
<p>The library is compatible with all Elastic Enterprise Search versions since <code class="literal">7.x</code> but you <span class="strong strong"><strong>have to use a matching major version</strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For <span class="strong strong"><strong>Elastic Enterprise Search 7.0</strong></span> and later, use the major version 7 (<code class="literal">7.x.y</code>) of the library.
</li>
<li class="listitem">
For <span class="strong strong"><strong>Elastic Enterprise Search 8.0</strong></span> and later, use the major version 8 (<code class="literal">8.x.y</code>) of the library.
</li>
</ul>
</div>
<h3><a id="_http_library"></a>HTTP Library<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/enterprise-search-ruby/edit/8.8/docs/guide/overview.asciidoc">edit</a></h3>
<p>This library uses <a href="https://github.com/elastic/elastic-transport-ruby" class="ulink" target="_top">elastic-transport</a>, the low-level Ruby client for connecting to an Elastic cluster - also used in the official <a href="https://github.com/elastic/elasticsearch-ruby" class="ulink" target="_top">Elasticsearch Ruby Client</a>. It uses <a href="https://rubygems.org/gems/faraday" class="ulink" target="_top">Faraday</a>, which supports several <a href="https://lostisland.github.io/faraday/adapters/" class="ulink" target="_top">adapters</a> and will use <code class="literal">Net::HTTP</code> by default. For optimal performance with the Enterprise Search API, we suggest using an HTTP library which supports persistent ("keep-alive") connections. For the standard Ruby implementation, this could be <a href="https://github.com/drbrain/net-http-persistent" class="ulink" target="_top">Net::HTTP::Persistent</a>, <a href="https://github.com/toland/patron" class="ulink" target="_top">patron</a> or <a href="https://github.com/typhoeus/typhoeus" class="ulink" target="_top">Typhoeus</a>. For JRuby, <a href="https://github.com/cheald/manticore" class="ulink" target="_top">Manticore</a> is a great option as well. Require the library for the adapter in your code and then pass in the <code class="literal">:adapter</code> parameter to the client when you initialize it:</p>
<div class="pre_wrapper lang-ruby">
<pre class="programlisting prettyprint lang-ruby">require 'elastic-enterprise-search'
require 'faraday/net_http_persistent'

client = Elastic::EnterpriseSearch::Client.new(adapter: :net_http_persistent)</pre>
</div>
<p>All requests, if successful, will return an <code class="literal">Elastic::Transport::Transport::Response</code> instance. You can access the response <code class="literal">body</code>, <code class="literal">headers</code> and <code class="literal">status</code>.</p>
<p><code class="literal">elastic-transport</code> defines a <a href="https://github.com/elastic/elastic-transport-ruby/blob/main/lib/elastic/transport/transport/errors.rb" class="ulink" target="_top">number of exception classes</a> for various client and server errors, as well as unsuccessful HTTP responses, making it possible to rescue specific exceptions with desired granularity. More details <a href="https://github.com/elastic/elastic-transport-ruby#exception-handling" class="ulink" target="_top">here</a>. You can find the full documentation for <code class="literal">elastic-transport</code> at <a href="/guide/en/elasticsearch/client/ruby-api/current/transport.html" class="ulink" target="_top">our official documentation</a> and  <a href="https://rubydoc.info/gems/elastic-transport" class="ulink" target="_top">RubyDoc</a>.</p>
<p>The clients pass different options to transport, you can check them out <a href="https://rubydoc.info/github/elastic/enterprise-search-ruby/Elastic/EnterpriseSearch/Client" class="ulink" target="_top">on RubyDocs</a>.</p>
<h4><a id="_setting_the_host_and_port"></a>Setting the host and port<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/enterprise-search-ruby/edit/8.8/docs/guide/overview.asciidoc">edit</a></h4>
<p>If you don&#8217;t specify a host and port, the client will default to <code class="literal">http://localhost:3002</code>. Otherwise pass in the <code class="literal">:host</code> parameter as a String.</p>
<h3><a id="_logging"></a>Logging<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/enterprise-search-ruby/edit/8.8/docs/guide/overview.asciidoc">edit</a></h3>
<p>You can enable logging with the default logger by passing <code class="literal">log: true</code> as a parameter to the client&#8217;s initializer. You can also pass in a Logger object with the <code class="literal">:logger</code> parameter, any confoming logger implementation will work:</p>
<div class="pre_wrapper lang-rb">
<pre class="programlisting prettyprint lang-rb">logger = MyLogger.new
client = Elastic::EnterpriseSearch::Client.new(logger: logger)</pre>
</div>
<p>To trace requests and responses in the <em>Curl</em> format, set the <code class="literal">trace</code> argument:</p>
<div class="pre_wrapper lang-rb">
<pre class="programlisting prettyprint lang-rb">&gt; client = Elastic::EnterpriseSearch::Client.new(trace: true)
&gt; client.health
curl -X GET -H 'x-elastic-client-meta: ent=8.3.0,rb=3.1.2,t=8.0.1,fd=1.10.0,nh=0.2.0, User-Agent: elastic-transport-ruby/8.0.1 (RUBY_VERSION: 3.1.2; linux x86_64; Faraday v1.10.0), Content-Type: application/json
' 'http://localhost:9200/api/ent/v1/internal/health/?pretty'

# 2022-05-23T08:39:09+01:00 [200] (0.049s)
#
# {"name":"5b8067bf95fb", ...
 =&gt;
#&lt;Elastic::API::Response:0x00007f9096e15f90
 @response=
  #&lt;Elastic::Transport::Transport::Response:0x00007f9096e160a8
   @body=
    {"name"=&gt;"5b8067bf95fb",
    ...</pre>
</div>
<p>This will use the <code class="literal">elastic-transport</code> default logger. But you can pass in a custom logger with:</p>
<div class="pre_wrapper lang-rb">
<pre class="programlisting prettyprint lang-rb">client = Elastic::EnterpriseSearch::Client.new(tracer: my_tracer)</pre>
</div>
<h3><a id="_license"></a>License<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/enterprise-search-ruby/edit/8.8/docs/guide/overview.asciidoc">edit</a></h3>
<p>Licensed to Elasticsearch B.V. under one or more contributor
license agreements. See the NOTICE file distributed with
this work for additional information regarding copyright
ownership. Elasticsearch B.V. licenses this file to you under
the Apache License, Version 2.0 (the "License"); you may
not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0" class="ulink" target="_top">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.</p>
</div>
<div class="navfooter">
<span class="prev">
</span>
<span class="next">
<a href="installation.html">Installation »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
