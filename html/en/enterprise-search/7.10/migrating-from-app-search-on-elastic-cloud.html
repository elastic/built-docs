<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Migrating from App Search on Elastic Cloud | Elastic Enterprise Search Documentation [7.10] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Enterprise Search Documentation [7.10]"/>
<link rel="up" href="upgrading-and-migrating.html" title="Upgrading &amp; migrating"/>
<link rel="prev" href="upgrading-self-managed-deployments.html" title="Upgrading self-managed deployments"/>
<link rel="next" href="migrating-from-app-search-on-swiftype-com.html" title="Migrating from App Search on Swiftype.com"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/7.10"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="7.10"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Enterprise Search Documentation [7.10]</a></span>
»
<span class="breadcrumb-link"><a href="upgrading-and-migrating.html">Upgrading &amp; migrating</a></span>
»
<span class="breadcrumb-node">Migrating from App Search on Elastic Cloud</span>
</div>
<div class="navheader">
<span class="prev">
<a href="upgrading-self-managed-deployments.html">« Upgrading self-managed deployments</a>
</span>
<span class="next">
<a href="migrating-from-app-search-on-swiftype-com.html">Migrating from App Search on Swiftype.com »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="migrating-from-app-search-on-elastic-cloud"></a>Migrating from App Search on Elastic Cloud<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.10/enterprise-search-docs/migrating-from-app-search-on-elastic-cloud.asciidoc">edit</a></h2>
</div></div></div>
<p>From 7.7.0 onwards, App Search is distributed as Elastic Enterprise Search, a solution which
combines Elastic App Search and Elastic Workplace Search into a single package
(<a href="/blog/elastic-enterprise-search-now-available-on-elastic-cloud" class="ulink" target="_blank" rel="noopener">read the Elastic Cloud announcement</a>).
That transition means there is no direct upgrade path from App Search 7.6 to 7.7.
Rather, App Search 7.6 users must migrate to Enterprise Search.
The following document outlines the migration process.</p>
<p>As of 7.9.2, there is a known issue with the migration process, outlined below. Before going through the upgrade process, we recommend you familiarize yourself with the issue outlined below to see if it may apply to your deployment.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Always make sure you have the latest backups for your original App Search deployment and do not
switch production traffic to Enterprise Search until you have fully vetted its functionality.</p>
</div>
</div>
<h4><a id="migrating-from-elastic-cloud-app-search-migration-process-overview"></a>Migration process overview<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.10/enterprise-search-docs/migrating-from-app-search-on-elastic-cloud.asciidoc">edit</a></h4>
<p>There is an assistant to help you migrate your App Search deployment to Enterprise Search, available when you click on "Upgrade" in your Deployments page. A step-by-step guide to migrating is available:</p>
<p><a href="/guide/en/cloud/current/ec-upgrade-appsearch.html" class="ulink" target="_top">Upgrade App Search to Enterprise Search</a></p>
<h3><a id="app-search-to-ent-search-elastic-cloud-known-issues"></a>Known migration issues<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.10/enterprise-search-docs/migrating-from-app-search-on-elastic-cloud.asciidoc">edit</a></h3>
<p>As of 7.9.2, there is a known issue around the migration process:</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_failing_migrations_on_very_large_deployments"></a>Failing Migrations on Very Large Deployments<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.10/enterprise-search-docs/migrating-from-app-search-on-elastic-cloud.asciidoc">edit</a></h3>
</div></div></div>
<p>Currently, if you create an Enterprise Search deployment from an App Search snapshot or attempt a
migration using the provided Elastic Cloud upgrade process, the new deployment may fail to start
Enterprise Search instances.</p>
<p>It is a known issue related to the snapshot recovery process on very large deployments and the fact
that analytics indexes in App Search are recovered from the snapshot long before system indexes.
To help alleviate the issue, you can prepare your App Search deployment for a migration by changing
index recovery priorities on your App Search deployment to make sure system indexes are recovered
from snapshots before analytics and API logs.</p>
<p>This can be done by running the following Elasticsearch API command on your App Search deployment:</p>
<div class="pre_wrapper lang-javascript">
<pre class="programlisting prettyprint lang-javascript">PUT .app-search-*,-.app-search-*-logs-*/_settings
{
  "settings": {
    "index.priority": 101
  }
}</pre>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>After you perform this command, you will need to take a fresh snapshot before running the upgrade process.</p>
</div>
</div>
<p>If you still experience the issue, you have a few options:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Re-apply the deployment plan on your new Enterprise Search cluster by clicking "Edit" within
Elastic Cloud view of your deployment and then "Save" without making any changes. This will retry
the Enterprise Search instance provisioning process and should get your deployment into a healthy
state.
</li>
<li class="listitem">
Revert to your existing App Search deployment and contact support to assist you with the migration process.
</li>
</ol>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Always remember to disable the <a class="xref" href="read-only-mode.html" title="Read-only mode">read-only mode</a> if you are rolling back to
your original App Search deployment.</p>
</div>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="upgrading-self-managed-deployments.html">« Upgrading self-managed deployments</a>
</span>
<span class="next">
<a href="migrating-from-app-search-on-swiftype-com.html">Migrating from App Search on Swiftype.com »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
