<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Data streams | Fleet and Elastic Agent Guide [7.13] | Elastic</title>
<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [7.13]"/>
<link rel="up" href="index.html" title="Fleet and Elastic Agent Guide [7.13]"/>
<link rel="prev" href="secure-connections.html" title="Encrypt traffic in a self-managed cluster"/>
<link rel="next" href="elastic-agent-cmd-options.html" title="Command reference"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/7.13"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="7.13"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [7.13]</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="secure-connections.html">« Encrypt traffic in a self-managed cluster</a>
</span>
<span class="next">
<a href="elastic-agent-cmd-options.html">Command reference »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="data-streams"></a>Data streams<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/7.13/docs/en/ingest-management/data-streams.asciidoc">edit</a></h1>
</div></div></div>
<p>Elastic Agent uses data streams to store time series data across multiple indices
while giving you a single named resource for requests.
Data streams are well-suited for logs, metrics, traces, and other continuously generated data.
They offer a host of benefits over other indexing strategies:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Reduced number of fields per index</strong></span>: Indices only need to store a specific subset of your
data–meaning no more indices with hundreds of thousands of fields.
This leads to better space efficiency and faster queries.
As an added bonus, only relevant fields are shown in Discover.
</li>
<li class="listitem">
<span class="strong strong"><strong>More granular data control</strong></span>: For example, filesystem, load, cpu, network, and process metrics are sent
to different indices–each potentially with its own rollover, retention, and security permissions.
</li>
<li class="listitem">
<span class="strong strong"><strong>Flexible</strong></span>: Use the custom namespace component to divide and organize data in a way that
makes sense to your use case or company.
</li>
<li class="listitem">
<span class="strong strong"><strong>Fewer ingest permissions required</strong></span>: Data ingestion only requires permissions to append data.
</li>
</ul>
</div>
<h3><a id="data-streams-naming-scheme"></a>Data stream naming scheme<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/7.13/docs/en/ingest-management/data-streams.asciidoc">edit</a></h3>
<p>Elastic Agent uses the Elastic data stream naming scheme to name data streams.
The naming scheme splits data into different streams based on the following components:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">type</code>
</span>
</dt>
<dd>
A generic <code class="literal">type</code> describing the data, such as <code class="literal">logs</code>, <code class="literal">metrics</code>, <code class="literal">traces</code>, or <code class="literal">synthetics</code>.
</dd>
<dt>
<span class="term">
<code class="literal">dataset</code>
</span>
</dt>
<dd>
<p>
The <code class="literal">dataset</code> is defined by the integration and describes the ingested data and its structure for each index.
For example, you might have a dataset for process metrics with a field describing whether the process is running or not,
and another dataset for disk I/O metrics with a field describing the number of bytes read.
</p>
<p>For APM data, the <code class="literal">dataset</code> is the instrumented service&#8217;s <code class="literal">service.name</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">namespace</code>
</span>
</dt>
<dd>
A user-configurable arbitrary grouping, such as an environment (<code class="literal">dev</code>, <code class="literal">prod</code>, or <code class="literal">qa</code>),
a team, or a strategic business unit.
A <code class="literal">namespace</code> can be up to 100 bytes in length (multibyte characters will count toward this limit faster).
Using a namespace makes it easier to search the data from a given source by using index patterns, or to give users permissions to data by assigning an index pattern to user roles.
</dd>
</dl>
</div>
<p>The naming scheme separates each components with a <code class="literal">-</code> character:</p>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">&lt;type&gt;-&lt;dataset&gt;-&lt;namespace&gt;</pre>
</div>
<p>For example, if you&#8217;ve set up the Nginx integration with a namespace of <code class="literal">prod</code>,
Elastic Agent uses the <code class="literal">logs</code> type, <code class="literal">nginx.access</code> dataset, and <code class="literal">prod</code> namespace to store data in the following data stream:</p>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">logs-nginx.access-prod</pre>
</div>
<p>Alternatively, if you use the APM integration with a namespace of <code class="literal">dev</code>, and a <code class="literal">service.name</code> of <code class="literal">frontend</code>,
Elastic Agent stores data in the following data stream:</p>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">traces-apm.frontend-dev</pre>
</div>
<p>All data streams, and the pre-built dashboards that they ship with,
are viewable on the Fleet Data Streams page:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-datastreams.png" alt="Data streams page">
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you&#8217;re familiar with the concept of indices, you can think of each data stream as a separate index in Elasticsearch.
Under the hood though, things are a bit more complex.
All of the juicy details are available in <a href="/guide/en/elasticsearch/reference/7.13/data-streams.html" class="ulink" target="_top">Elasticsearch Data streams</a>.</p>
</div>
</div>
<h3><a id="data-streams-index-pattern"></a>Index patterns<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/7.13/docs/en/ingest-management/data-streams.asciidoc">edit</a></h3>
<p>When searching your data in Kibana, you can use an <a href="/guide/en/kibana/7.13/index-patterns.html" class="ulink" target="_top">index pattern</a>
to search across all or some of your data streams.</p>
<h3><a id="data-streams-index-templates"></a>Index templates<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/7.13/docs/en/ingest-management/data-streams.asciidoc">edit</a></h3>
<p>An index template is a way to tell Elasticsearch how to configure an index when it is created.
For data streams, the index template configures the stream&#8217;s backing indices as they are created.</p>
<p>Elasticsearch provides the following built-in, ECS based templates: <code class="literal">logs-*-*</code>, <code class="literal">metrics-*-*</code>, and <code class="literal">synthetics-*-*</code>.
Elastic Agent integrations can also provide dataset-specific index templates, like <code class="literal">logs-nginx.access-*</code>.
These templates are loaded when the integration is installed, and are used to configure the integration&#8217;s data streams.</p>
<h3><a id="data-streams-ilm"></a>Configure an index lifecycle management (ILM) policy<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/7.13/docs/en/ingest-management/data-streams.asciidoc">edit</a></h3>
<p>Use the <a href="/guide/en/elasticsearch/reference/7.13/getting-started-index-lifecycle-management.html" class="ulink" target="_top">index lifecycle
management</a> (ILM) feature in Elasticsearch to manage your Elastic Agent data stream indices as they age.
For example, create a new index after a certain period of time,
or delete stale indices to enforce data retention standards.</p>
<p>Elastic Agent uses ILM policies built-in to Elasticsearch to manage backing indices for its data streams.
See the <a href="/guide/en/elasticsearch/reference/7.13/example-using-index-lifecycle-policy.html" class="ulink" target="_top">Customize built-in ILM policies</a> tutorial
to learn how to customize these policies based on your performance, resilience, and retention requirements.</p>
<p>To instead create a new ILM policy, in Kibana,
go to <span class="strong strong"><strong>Stack Management</strong></span> &gt; <span class="strong strong"><strong>Index Lifecycle Policies</strong></span>. Click <span class="strong strong"><strong>Create policy</strong></span>.
Define data tiers for your data, and any associated actions,
like a rollover, freeze, or shrink.
See <a href="/guide/en/elasticsearch/reference/7.13/set-up-lifecycle-policy.html" class="ulink" target="_top">configure a lifecycle policy</a> for more information.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="secure-connections.html">« Encrypt traffic in a self-managed cluster</a>
</span>
<span class="next">
<a href="elastic-agent-cmd-options.html">Command reference »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
