<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Create a standalone Elastic Agent policy | Fleet and Elastic Agent Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Create a standalone Elastic Agent policy | Fleet and Elastic Agent Guide [master]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [master]"/>
<link rel="up" href="elastic-agent-configuration.html" title="Configure standalone Elastic Agents"/>
<link rel="prev" href="elastic-agent-configuration.html" title="Configure standalone Elastic Agents"/>
<link rel="next" href="structure-config-file.html" title="Structure of a config file"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/master"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="elastic-agent-configuration.html">« Configure standalone Elastic Agents</a>
</span>
<span class="next">
<a href="structure-config-file.html">Structure of a config file »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elastic-agent-configuration.html">Configure standalone Elastic Agents</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Create a standalone Elastic Agent policy</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/elastic-agent/configuration/create-standalone-agent-policy.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="create-standalone-agent-policy"></a>Create a standalone Elastic Agent policy<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/elastic-agent/configuration/create-standalone-agent-policy.asciidoc">edit</a></h2>
</div></div></div>
<p>To get started quickly, use Kibana to add integrations to an agent policy, then
download the policy to use as a starting point for your standalone Elastic Agent
policy. This approach saves time, is less error prone, and populates the
policy with a lot of details that are tedious to add manually. Also,
adding integrations in Kibana loads required assets, such as index templates,
and ingest pipelines, before you start your Elastic Agents.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you&#8217;re a Fleet user and already have an agent policy you want to
use in standalone mode, go to <span class="strong strong"><strong>Fleet &gt; Agents</strong></span> and click <span class="strong strong"><strong>Add agent</strong></span>. Follow
the steps under <span class="strong strong"><strong>Run standalone</strong></span> to download the policy file.</p>
</div>
</div>
<p>You don&#8217;t need Fleet to perform the following steps, but on self-managed
clusters, API keys must be enabled in the Elasticsearch configuration (set
<code class="literal">xpack.security.authc.api_key.enabled: true</code>).</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the main menu in Kibana, click <span class="strong strong"><strong>Add integrations</strong></span>, and search for the
Elastic Agent integration you want to use. Read the description to make sure the
integration works with Elastic Agent.
</li>
<li class="listitem">
<p>Click the integration to see more details about it, then click
<span class="strong strong"><strong>Add &lt;Integration&gt;</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-integration-standalone.png" alt="Add Nginx integration screen with agent policy selected">
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you&#8217;re adding your first integration and no Elastic Agents are installed,
Kibana may display a page that walks you through configuring the integration and
installing Elastic Agent. If you see this page, click <span class="strong strong"><strong>Install Elastic Agent</strong></span>, then click the
<span class="strong strong"><strong>standalone mode</strong></span> link. Follow the in-product instructions instead of the
steps described here.</p>
</div>
</div>
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Configure integration</strong></span>, enter a name and description for the integration.
</li>
<li class="listitem">
Click the down arrow next to enabled streams and make sure the settings are
correct for your host.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Apply to agent policy</strong></span>, select an existing policy, or click
<span class="strong strong"><strong>Create agent policy</strong></span> and create a new one.
</li>
<li class="listitem">
<p>When you’re done, save and continue.</p>
<p>A popup window gives you the option to add Elastic Agent to your hosts.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-agent-to-hosts.png" alt="Popup window showing the option to add Elastic Agent to your hosts">
</div>
</div>
</li>
<li class="listitem">
(Optional) To add more integrations to the agent policy, click <span class="strong strong"><strong>Add Elastic Agent
later</strong></span> and go back to the <span class="strong strong"><strong>Integrations</strong></span> page. Repeat the previous steps for each
integration.
</li>
<li class="listitem">
When you&#8217;re done adding integrations, in the popup window, click
<span class="strong strong"><strong>Add Elastic Agent to your hosts</strong></span> to open the <span class="strong strong"><strong>Add agent</strong></span> flyout.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Run standalone</strong></span> and follow the in-product instructions to download
Elastic Agent (if you haven&#8217;t already).
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Download Policy</strong></span> to download the policy file.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/download-agent-policy.png" alt="Add data screen with option to download the default agent policy">
</div>
</div>
</li>
</ol>
</div>
<p>The downloaded policy already contains a default Elasticsearch address and port for your
setup. You may need to change them if you use a proxy or load balancer. Modify
the policy, as required, making sure that you provide credentials for connecting
to Elasticsearch</p>
<p>If you need to add integrations to the policy <em>after</em> deploying
it, you&#8217;ll need to run through these steps again and re-deploy the
updated policy to the host where Elastic Agent is running.</p>
<p>For detailed information about starting the agent, including the permissions
needed for the Elasticsearch user, refer to <a class="xref" href="install-standalone-elastic-agent.html" title="Install standalone Elastic Agents">Install standalone Elastic Agents</a>.</p>
<h4><a id="update-standalone-policies"></a>Upgrade standalone agent policies after upgrading an integration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/elastic-agent/configuration/create-standalone-agent-policy.asciidoc">edit</a></h4>
<p>Because standalone agents are not managed by Fleet, they are unable to upgrade
to new integration package versions automatically. When you upgrade an
integration in Kibana (or it gets upgraded automatically), you&#8217;ll need to update
the standalone policy to use new features and capabilities.</p>
<p>You&#8217;ll also need to update the standalone policy if you want to add new
integrations.</p>
<p>To update your standalone policy, use the same steps you used to create and
download the original policy file:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Follow the steps under <a class="xref" href="create-standalone-agent-policy.html" title="Create a standalone Elastic Agent policy">Create a standalone Elastic Agent policy</a> to create and
download a new policy, then compare the new policy file to the old one.
</li>
<li class="listitem">
Either use the new policy and apply your customizations to it, or
update your old policy to include changes, such as field changes, added
by the upgrade.
</li>
</ol>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Make sure you update the standalone agent policy in the directory
where Elastic Agent is running, not the directory where you downloaded the
installation package. Refer to <a class="xref" href="installation-layout.html" title="Installation layout">Installation layout</a> for the location of
installed Elastic Agent files.</p>
</div>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="elastic-agent-configuration.html">« Configure standalone Elastic Agents</a>
</span>
<span class="next">
<a href="structure-config-file.html">Structure of a config file »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
