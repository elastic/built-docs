<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Tutorial: Transform data with custom ingest pipelines | Fleet and Elastic Agent Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Tutorial: Transform data with custom ingest pipelines | Fleet and Elastic Agent Guide [master]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [master]"/>
<link rel="up" href="data-streams.html" title="Data streams"/>
<link rel="prev" href="data-streams-ilm-tutorial.html" title="Tutorial: Customize data retention policies"/>
<link rel="next" href="data-streams-advanced-features.html" title="Enabling and disabling advanced indexing features for Fleet-managed data streams"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/master"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="data-streams-ilm-tutorial.html">« Tutorial: Customize data retention policies</a>
</span>
<span class="next">
<a href="data-streams-advanced-features.html">Enabling and disabling advanced indexing features for Fleet-managed data streams »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="integrations.html">Manage Elastic Agent integrations</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="data-streams.html">Data streams</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Tutorial: Transform data with custom ingest pipelines</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="data-streams-pipeline-tutorial"></a>Tutorial: Transform data with custom ingest pipelines<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h3>
</div></div></div>
<p>This tutorial explains how to add a custom ingest pipeline to an Elastic Integration.
Custom pipelines can be used to add custom data processing,
like adding fields, obfuscate sensitive information, and more.</p>
<p><span class="strong strong"><strong>Scenario:</strong></span> You have Elastic Agents collecting system metrics with the System integration.</p>
<p><span class="strong strong"><strong>Goal:</strong></span> Add a custom ingest pipeline that adds a new field to each Elasticsearch document before it is indexed.</p>
<h4><a id="data-streams-pipeline-one"></a>Step 1: Create a custom ingest pipeline<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h4>
<p>Create a custom ingest pipeline that will be called by the default integration pipeline.
In this tutorial, we&#8217;ll create a pipeline that adds a new field to our documents.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In Kibana, navigate to <span class="strong strong"><strong>Stack Management</strong></span> &#8594; <span class="strong strong"><strong>Ingest Pipelines</strong></span> &#8594; <span class="strong strong"><strong>Create pipeline</strong></span> &#8594; <span class="strong strong"><strong>New pipeline</strong></span>.
</li>
<li class="listitem">
Name your pipeline. We&#8217;ll call this one, <code class="literal">add_field</code>.
</li>
<li class="listitem">
<p>Select <span class="strong strong"><strong>Add a processor</strong></span>. Fill out the following information:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Processor: "Set"
</li>
<li class="listitem">
Field: <code class="literal">test</code>
</li>
<li class="listitem">
<p>Value: <code class="literal">true</code></p>
<p>The <a href="/guide/en/elasticsearch/reference/master/set-processor.html" class="ulink" target="_top">Set processor</a> sets a document field and associates it with the specified value.</p>
</li>
</ul>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create pipeline</strong></span>.
</li>
</ol>
</div>
<h4><a id="data-streams-pipeline-two"></a>Step 2: Apply your ingest pipeline<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h4>
<p>Add a custom pipeline to an integration by calling it from the default ingest pipeline.
The custom pipeline will run after the default pipeline but before the final pipeline.</p>
<h5><a id="_edit_integration"></a>Edit integration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h5>
<p>Add a custom pipeline to an integration from the <span class="strong strong"><strong>Edit integration</strong></span> workflow.
The integration must already be configured and installed before a custom pipeline can be added.
To enter this workflow, do the following:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Navigate to <span class="strong strong"><strong>Fleet</strong></span>
</li>
<li class="listitem">
Select the relevant Elastic Agent policy
</li>
<li class="listitem">
Search for the integration you want to edit
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Actions</strong></span> &#8594; <span class="strong strong"><strong>Edit integration</strong></span>
</li>
</ol>
</div>
<h5><a id="_select_a_data_stream"></a>Select a data stream<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h5>
<p>Most integrations write to multiple data streams.
You&#8217;ll need to add the custom pipeline to each data stream individually.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Find the first data stream you wish to edit and select <span class="strong strong"><strong>Change defaults</strong></span>.
For this tutorial, find the data stream configuration titled, <span class="strong strong"><strong>Collect metrics from System instances</strong></span>.
</li>
<li class="listitem">
<p>Scroll to <span class="strong strong"><strong>System CPU metrics</strong></span> and under <span class="strong strong"><strong>Advanced options</strong></span> select <span class="strong strong"><strong>Add custom pipeline</strong></span>.</p>
<p>This will take you to the <span class="strong strong"><strong>Create pipeline</strong></span> workflow in <span class="strong strong"><strong>Stack management</strong></span>.</p>
</li>
</ol>
</div>
<h5><a id="_add_the_pipeline"></a>Add the pipeline<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h5>
<p>Add the pipeline you created in step one.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Select <span class="strong strong"><strong>Add a processor</strong></span>. Fill out the following information:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Processor: "Pipeline"
</li>
<li class="listitem">
Pipeline name: "add_field"
</li>
<li class="listitem">
Value: <code class="literal">true</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create pipeline</strong></span> to return to the <span class="strong strong"><strong>Edit integration</strong></span> page.
</li>
</ol>
</div>
<h5><a id="_roll_over_the_data_stream_optional"></a>Roll over the data stream (optional)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h5>
<p>For pipeline changes to take effect immediately, you must roll over the data stream.
If you do not, the changes will not take effect until the next scheduled roll over.
Select <span class="strong strong"><strong>Apply now and rollover</strong></span>.</p>
<p>After the data stream rolls over, note the name of the custom ingest pipeline.
In this tutorial, it&#8217;s <code class="literal">metrics-system.cpu@custom</code>.
The name follows the pattern <code class="literal">&lt;type&gt;-&lt;dataset&gt;@custom</code>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
type: <code class="literal">metrics</code>
</li>
<li class="listitem">
dataset: <code class="literal">system.cpu</code>
</li>
<li class="listitem">
Custom ingest pipeline designation: <code class="literal">@custom</code>
</li>
</ul>
</div>
<h5><a id="_repeat"></a>Repeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h5>
<p>Add the custom ingest pipeline to any other data streams you wish to update.</p>
<h4><a id="data-streams-pipeline-three"></a>Step 3: Test the ingest pipeline (optional)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h4>
<p>Allow time for new data to be ingested before testing your pipeline.
In a new window, open Kibana and navigate to <span class="strong strong"><strong>Kibana Dev tools</strong></span>.</p>
<p>Use an <a href="/guide/en/elasticsearch/reference/master/query-dsl-exists-query.html" class="ulink" target="_top">exists query</a> to ensure that the
new field, "test" is being applied to documents.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">GET metrics-system.cpu-default/_search <a id="CO29-1"></a><i class="conum" data-value="1"></i>
{
  "query": {
    "exists": {
      "field": "test" <a id="CO29-2"></a><i class="conum" data-value="2"></i>
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/5.console"></div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO29-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The data stream to search. In this tutorial, we&#8217;ve edited the <code class="literal">metrics-system.cpu</code> type and dataset.
<code class="literal">default</code> is the default namespace.
Combining all three of these gives us a data stream name of <code class="literal">metrics-system.cpu-default</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO29-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The name of the field set in step one.</p>
</td>
</tr>
</table>
</div>
<p>If your custom pipeline is working correctly, this query will return at least one document.</p>
<h4><a id="data-streams-pipeline-four"></a>Step 4: Add custom mappings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h4>
<p>Now that a new field is being set in your Elasticsearch documents, you&#8217;ll want to assign a new mapping for that field.
Use the <code class="literal">@custom</code> component template to apply custom mappings to an integration data stream.</p>
<p>In the <span class="strong strong"><strong>Edit integration</strong></span> workflow, do the following:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Under <span class="strong strong"><strong>Advanced options</strong></span> select the pencil icon to edit the <code class="literal">@custom</code> component template.
</li>
<li class="listitem">
<p>Define the new field for your indexed documents. Select <span class="strong strong"><strong>Add field</strong></span> and add the following information:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Field name: <code class="literal">test</code>
</li>
<li class="listitem">
Field type: <code class="literal">Boolean</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add field</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Review</strong></span> to fast-forward to the review step and click <span class="strong strong"><strong>Save component template</strong></span> to return to the <span class="strong strong"><strong>Edit integration</strong></span> workflow.
</li>
<li class="listitem">
For changes to take effect immediately, select <span class="strong strong"><strong>Apply now and rollover</strong></span>.
</li>
</ol>
</div>
<h4><a id="data-streams-pipeline-five"></a>Step 5: Test the custom mappings (optional)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h4>
<p>Allow time for new data to be ingested before testing your mappings.
In a new window, open Kibana and navigate to <span class="strong strong"><strong>Kibana Dev tools</strong></span>.</p>
<p>Use the <a href="/guide/en/elasticsearch/reference/master/indices-get-field-mapping.html" class="ulink" target="_top">Get field mapping API</a> to ensure that the
custom mapping has been applied.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">GET metrics-system.cpu-default/_mapping/field/test <a id="CO30-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="console_widget" data-snippet="snippets/6.console"></div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO30-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The data stream to search. In this tutorial, we&#8217;ve edited the <code class="literal">metrics-system.cpu</code> type and dataset.
<code class="literal">default</code> is the default namespace.
Combining all three of these gives us a data stream name of <code class="literal">metrics-system.cpu-default</code>.</p>
</td>
</tr>
</table>
</div>
<p>The result should include <code class="literal">type: "boolean"</code> for the specified field.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">".ds-metrics-system.cpu-default-2022.08.10-000002": {
  "mappings": {
    "test": {
      "full_name": "test",
      "mapping": {
        "test": {
          "type": "boolean"
        }
      }
    }
  }
}</pre>
</div>
<h4><a id="data-streams-pipeline-six"></a>Step 6: Add an ingest pipeline for a data type<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/data-streams.asciidoc">edit</a></h4>
<p>The previous steps demonstrated how to create a custom ingest pipeline that adds a new field to each Elasticsearch document generated for the Systems integration CPU metrics (<code class="literal">system.cpu</code>) dataset.</p>
<p>You can create an ingest pipeline to process data at various levels of customization.
An ingest pipeline processor can be applied:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Globally to all events
</li>
<li class="listitem">
To all events of a certain type (for example <code class="literal">logs</code> or <code class="literal">metrics</code>)
</li>
<li class="listitem">
To all events of a certain type in an integration
</li>
<li class="listitem">
To all events in a specific dataset
</li>
</ul>
</div>
<p>Let&#8217;s create a new custom ingest pipeline <code class="literal">logs@custom</code> that processes all log events.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open Kibana and navigate to <span class="strong strong"><strong>Kibana Dev tools</strong></span>.
</li>
<li class="listitem">
<p>Run a <a href="/guide/en/elasticsearch/reference/master/put-pipeline-api.html" class="ulink" target="_top">pipeline API</a> request to add a new field <code class="literal">my-logs-field</code>:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT _ingest/pipeline/logs@custom
{
  "processors": [
    {
      "set": {
        "description": "Custom field for all log events",
        "field": "my-logs-field",
        "value": "true"
      }
    }
  ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/7.console"></div>
</li>
<li class="listitem">
<p>Allow some time for new data to be ingested, and then use a new <a href="/guide/en/elasticsearch/reference/master/query-dsl-exists-query.html" class="ulink" target="_top">exists query</a> to confirm that the
new field "my-logs-field" is being applied to log event documents.</p>
<p>For this example, we&#8217;ll check the System integration <code class="literal">system.syslog</code> dataset:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">GET /logs-system.syslog-default/_search?pretty
{
  "query": {
    "exists": {
      "field": "my-logs-field"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/8.console"></div>
</li>
</ol>
</div>
<p>With the new pipeline applied, this query should return at least one document.</p>
<p>You can modify your pipeline API request as needed to apply custom processing at various levels.
Refer to <a class="xref" href="data-streams.html#data-streams-pipelines" title="Ingest pipelines">Ingest pipelines</a> to learn more.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="data-streams-ilm-tutorial.html">« Tutorial: Customize data retention policies</a>
</span>
<span class="next">
<a href="data-streams-advanced-features.html">Enabling and disabling advanced indexing features for Fleet-managed data streams »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
