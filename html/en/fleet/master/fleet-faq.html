<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Frequently asked questions | Fleet and Elastic Agent Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Frequently asked questions | Fleet and Elastic Agent Guide [master]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [master]"/>
<link rel="up" href="troubleshooting-intro.html" title="Troubleshoot"/>
<link rel="prev" href="fleet-troubleshooting.html" title="Troubleshoot common problems"/>
<link rel="next" href="release-notes.html" title="Release notes"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/master"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="fleet-troubleshooting.html">« Troubleshoot common problems</a>
</span>
<span class="next">
<a href="release-notes.html">Release notes »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="troubleshooting-intro.html">Troubleshoot</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Frequently asked questions</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="fleet-faq"></a>Frequently asked questions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h2>
</div></div></div>
<p>We have collected the most frequently asked questions here. If your question
isn&#8217;t answered here, contact us in the <a href="https://discuss.elastic.co/" class="ulink" target="_top">discuss forum</a>. Your feedback
is very valuable to us.</p>
<p>Also read <a class="xref" href="fleet-troubleshooting.html" title="Troubleshoot common problems">Troubleshoot common problems</a>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="fleet-faq.html#enrolled-agent-not-showing-up" title="Why doesn&#8217;t my enrolled agent show up in the Fleet app?">Why doesn&#8217;t my enrolled agent show up in the Fleet app?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#where-are-the-agent-logs" title="Where does Elastic Agent store logs after startup?">Where does Elastic Agent store logs after startup?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#what-is-my-agent-config" title="What policy is the Elastic Agent running?">What policy is the Elastic Agent running?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#where-is-the-data-agent-is-sending" title="Why can&#8217;t I see the data Elastic Agent is sending?">Why can&#8217;t I see the data Elastic Agent is sending?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#i-deleted-my-agent" title="How do I restore an Elastic Agent that I deleted from Fleet?">How do I restore an Elastic Agent that I deleted from Fleet?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#i-rebooted-my-host" title="How do I restart Elastic Agent after rebooting my host?">How do I restart Elastic Agent after rebooting my host?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#does-agent-download-packages" title="Does Elastic Agent or Kibana download integration packages?">Does Elastic Agent or Kibana download integration packages?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#does-agent-download-anything-from-internet" title="Does Elastic Agent download anything from the Internet?">Does Elastic Agent download anything from the Internet?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#do-i-need-to-setup-elastic-agent" title="Do I need to set up the Beats managed by Elastic Agent?">Do I need to set up the Beats managed by Elastic Agent?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#what-is-the-endpoint-package" title="What is the Elastic Defend integration in Fleet?">What is the Elastic Defend integration in Fleet?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#how-are-security-to-agent-communications-secured" title="How are communications secured between Elastic Security and Elastic Agent?">How are communications secured between Elastic Security and Elastic Agent?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#how-are-secrets-secured" title="How are secrets secured when entered into integration policies or agent policies in Kibana?">How are secrets secured when entered into integration policies or agent policies in Kibana?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#which-es-kibana-ports-are-needed" title="Which Elasticsearch and Kibana ports need to be accessible?">Which Elasticsearch and Kibana ports need to be accessible?</a>
</li>
<li class="listitem">
<a class="xref" href="fleet-faq.html#how-do-i-reinstall-a-missing-dashboard-asset" title="If I delete an integration dashboard asset from Kibana, how do I get it back?">If I delete an integration dashboard asset from Kibana, how do I get it back?</a>
</li>
</ul>
</div>
<h4><a id="enrolled-agent-not-showing-up"></a>Why doesn&#8217;t my enrolled agent show up in the Fleet app?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>If Elastic Agent was successfully enrolled, but doesn&#8217;t show up in the <span class="strong strong"><strong>Agents</strong></span> list,
it might not be started. Make sure the <code class="literal">elastic-agent</code> process is running on
the host. If it&#8217;s not running, use the <a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-run-command" title="elastic-agent run"><code class="literal">run</code></a>
command to start it.  The most common way to deploy an Elastic Agent is by using
the <code class="literal">install</code> command. This command starts the Elastic Agent for you.</p>
<h4><a id="where-are-the-agent-logs"></a>Where does Elastic Agent store logs after startup?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>The location of Elastic Agent logs varies by platform. In general, Elastic Agent stores
logs under the <code class="literal">data</code> directory where Elastic Agent was started. For example, on
macOS, you&#8217;ll find logs for the running Elastic Agent under path similar to:</p>
<p><code class="literal">/Library/Elastic/Agent/data/elastic-agent-08e204/logs/elastic-agent-20220105.ndjson</code></p>
<p>You&#8217;ll find logs for the Beats shippers, such as Metricbeat, under paths
like:</p>
<p><code class="literal">/Library/Elastic/Agent/data/elastic-agent-08e204/logs/default/metricbeat-20220105.ndjson</code></p>
<p>If the log path does not exist, Elastic Agent was unable to start Metricbeat, which
is a higher level problem to triage. Usually you can see these logs in the
Fleet UI, unless there are problems severe enough that the Elastic Agent or its
related  processes cannot send data to Elasticsearch.</p>
<p>See <a class="xref" href="installation-layout.html" title="Installation layout">Installation layout</a> to find out the exact paths for each platform.</p>
<h4><a id="what-is-my-agent-config"></a>What policy is the Elastic Agent running?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>To find the policy file, inspect the <code class="literal">elastic-agent.yml</code> file in the
directory where Elastic Agent is running. Not sure where the agent is running? See
<a class="xref" href="installation-layout.html" title="Installation layout">Installation layout</a>.</p>
<p>If the agent is running in Fleet mode, this file contains the following
citation:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">fleet:
  enabled: true</pre>
</div>
<p>The <code class="literal">state.yml</code> file (located under <code class="literal">data/elastic-agent-*</code>) contains the
entire, unencrypted policy.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>To see the Elasticsearch location, look at the <code class="literal">hosts</code> setting under <code class="literal">outputs</code>. For
example:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">outputs:
  default:
    api_key: Aq-mPpcBDA7TmnriKCSD:Np6NAleNQ1mMpgN_JPYazw
    hosts:
    - https://3m63533c175a4036b3d8bbe7bd462fa3.us-east-1.aws.found.io:443
    type: elasticsearch</pre>
</div>
<p>This file also shows the version of all packages used by the current
policy.</p>
</li>
<li class="listitem">
<p>To see the Elastic Agent version, run:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">elastic-agent version</pre>
</div>
</li>
</ul>
</div>
<h4><a id="where-is-the-data-agent-is-sending"></a>Why can&#8217;t I see the data Elastic Agent is sending?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>If Elastic Agent is set up and running, but you don&#8217;t see data in Kibana:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Go to <span class="strong strong"><strong>Management &gt; Dev Tools</strong></span> in Kibana, and in the Console, search your
index for data. For example:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">GET metrics-*/_search</pre>
</div>
<div class="console_widget" data-snippet="snippets/9.console"></div>
<p>Or if you prefer, go to the <span class="strong strong"><strong>Discover</strong></span> app.</p>
</li>
<li class="listitem">
Look at the data that Elastic Agent has sent and see if the <code class="literal">name.host</code>
field contains your host machine name.
</li>
</ol>
</div>
<p>If you don&#8217;t see data for your host, it&#8217;s possible that the data is blocked
in the network, or that a firewall or security problem is preventing the Elastic Agent
from sending the data.</p>
<p>Although it&#8217;s redundant to install stand-alone Metricbeat, you might want to
try installing it to see if it&#8217;s able to send data successfully to Elasticsearch. For
more information, see
<a href="/guide/en/beats/metricbeat/master/metricbeat-installation-configuration.html" class="ulink" target="_top">Metricbeat quick start</a>.</p>
<p>If Metricbeat is able to send data to Elasticsearch, there is possibly a bug or
problem with Elastic Agent, and you should report it.</p>
<h4><a id="i-deleted-my-agent"></a>How do I restore an Elastic Agent that I deleted from Fleet?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>It&#8217;s okay, we&#8217;ve got your back! The data is still in Elasticsearch. To add Elastic Agent
to Fleet again, <a class="xref" href="start-stop-elastic-agent.html#stop-elastic-agent-service" title="Stop Elastic Agent">Stop Elastic Agent</a>, re-enroll it on the host, then
run Elastic Agent.</p>
<h4><a id="i-rebooted-my-host"></a>How do I restart Elastic Agent after rebooting my host?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>Elastic Agent should restart automatically when you reboot your host. If it doesn&#8217;t,
you can start it manually by running:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">elastic-agent run</pre>
</div>
<p>If the process is already running, you can restart it by running:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">elastic-agent restart</pre>
</div>
<h4><a id="does-agent-download-packages"></a>Does Elastic Agent or Kibana download integration packages?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>Elastic Agent does not download integration packages. When you add an integration in
Fleet, Kibana connects to the Elastic Package Registry at <code class="literal">epr.elastic.co</code>,
downloads the integration package, and stores its assets in Elasticsearch. This means
that you no longer have to run a manual setup command to load integrations as
you did previously with Beats modules.</p>
<p>By default, Kibana requires an internet connection to download integration
packages from the Elastic Package Registry. If network restrictions prevent
Kibana from reaching the public Elastic Package Registry, you can use a proxy
server or host your own Elastic Package Registry. To learn more, refer to
<a class="xref" href="air-gapped.html" title="Air-gapped environments">Air-gapped environments</a>.</p>
<h4><a id="does-agent-download-anything-from-internet"></a>Does Elastic Agent download anything from the Internet?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
In version 7.10 and later, a fully capable artifact can be installed with no
connection to the Elastic download site. However, if it is in use, the
Elastic Defend process is instructed to attempt to download
newer released versions of the integration-specific artifacts it uses. Some of
those are, for example, the malware model, trusted applications artifact,
exceptions list artifact, and others. Elastic Endpoint will continue to
protect the host even if it&#8217;s unable to download updates. However, it won&#8217;t
receive updates to protections until Elastic Agent is upgraded to a new version.
For more information, refer to the
<a href="/guide/en/security/master/index.html" class="ulink" target="_top">Elastic Security documentation</a>.
</li>
<li class="listitem">
Elastic Agent requires internet access to download artifacts for binary upgrades.
In air-gapped environments, you can host your own artifact registry. For
more information, refer to <a class="xref" href="air-gapped.html" title="Air-gapped environments">Air-gapped environments</a>.
</li>
</ul>
</div>
<h4><a id="do-i-need-to-setup-elastic-agent"></a>Do I need to set up the Beats managed by Elastic Agent?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>You might have noticed that Elastic Agent runs Beats under the hood. But note that
the Beats managed by Elastic Agent are set up and run differently from standalone
Beats.</p>
<p>For example, standalone Beats use modules and require you to run a setup
command on the host to load assets, such as ingest pipelines and dashboards. In
contrast, Beats managed by Elastic Agent use integration packages that Kibana
downloads from the Elastic Package Registry at <code class="literal">epr.elastic.co</code>. This means that
Elastic Agent does not need extra privileges to set up assets because
Fleet manages the assets.</p>
<h4><a id="what-is-the-endpoint-package"></a>What is the Elastic Defend integration in Fleet?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>The Elastic Defend integration provides protection on your Elastic Agent
controlled host. The integration monitors your host for security-related events,
allowing for investigation of security data through the Elastic Security app in Kibana.
The Elastic Defend integration is managed by Elastic Agent in the
same way as other integrations. Try it out! For more information, refer to the
<a href="/guide/en/security/master/index.html" class="ulink" target="_top">Elastic Security documentation</a>.</p>
<h4><a id="how-are-security-to-agent-communications-secured"></a>How are communications secured between Elastic Security and Elastic Agent?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>Elastic Security connects to the agent over loopback TLS on port 6788.
Elastic Security validates that the agent has root (Linux and macOS) or SYSTEM
(Windows) permissions.</p>
<h4><a id="how-are-secrets-secured"></a>How are secrets secured when entered into integration policies or agent policies in Kibana?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>Credentials that you provide for an agent or integration policy are stored in
Elasticsearch. They can be read by any user who has read permissions to the <code class="literal">.fleet-*</code>
and <code class="literal">.kibana*</code> indices in Elasticsearch. By default these are the superuser,
<code class="literal">fleet-server</code> service account tokens, and the <code class="literal">kibana_system</code> user. These
secrets are also included in agent policies and shared with agents via Fleet
through TLS. When you use the Elastic Agent installer and enroll agents in Fleet,
the policies are stored on the host file system and, by default, can only be
read by root.</p>
<h4><a id="which-es-kibana-ports-are-needed"></a>Which Elasticsearch and Kibana ports need to be accessible?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>The policy generated by Fleet already contains the correct Elasticsearch address
and port for your setup. If you run everything locally, the address is
<code class="literal">127.0.0.1:9200</code>. If you use our
<a href="/cloud/elasticsearch-service?page=docs&amp;placement=docs-body" class="ulink" target="_top">hosted Elasticsearch Service</a> on Elastic Cloud,
you can copy the Elasticsearch endpoint URL from the overview page of your deployment.
If you&#8217;re not running in Elastic Cloud, make sure the Kibana and Elasticsearch HTTPS ports
are both accessible; by default these are <code class="literal">5601</code> and <code class="literal">9200</code> respectively.</p>
<h4><a id="how-do-i-reinstall-a-missing-dashboard-asset"></a>If I delete an integration dashboard asset from Kibana, how do I get it back?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/troubleshooting/faq.asciidoc">edit</a></h4>
<p>To reinstall the assets for a specific integration, you can use the Fleet UI.
For more information, see <a class="xref" href="install-uninstall-integration-assets.html#reinstall-integration-assets" title="Reinstall integration assets">Reinstall integration assets</a>.</p>
<p>Alternatively, you can use the Fleet API using the package name and version.
This needs to be run against the Kibana API and not the Elasticsearch API to be
successful. To reinstall package assets, execute the following call with the
<code class="literal">force</code> parameter in the body:</p>
<div class="pre_wrapper lang-kibana">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-kibana">POST api/fleet/epm/packages/[package name]/[package version]
{ "force": true }</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/10.kibana"></div>
<p>So, for example, to reinstall the system v1.0.0 package, POST:</p>
<div class="pre_wrapper lang-kibana">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-kibana">POST api/fleet/epm/packages/system/1.0.0
{ "force": true }</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/11.kibana"></div>
<p>The package version is shown in the Integrations view in Kibana.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="fleet-troubleshooting.html">« Troubleshoot common problems</a>
</span>
<span class="next">
<a href="release-notes.html">Release notes »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
