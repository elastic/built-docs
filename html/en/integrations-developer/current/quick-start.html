<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Quick start: Sample integration | Integrations Developer Guide | Elastic</title>
<meta class="elastic" name="content" content="Quick start: Sample integration | Integrations Developer Guide">

<link rel="home" href="index.html" title="Integrations Developer Guide"/>
<link rel="up" href="index.html" title="Integrations Developer Guide"/>
<link rel="prev" href="integration-definitions.html" title="Definitions"/>
<link rel="next" href="build-a-new-integration.html" title="Build an integration"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Integrations"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Integrations/Developer"/>
<meta name="DC.subject" content="Integrations"/>
<meta name="DC.identifier" content="master"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="integration-definitions.html">« Definitions</a>
</span>
<span class="next">
<a href="build-a-new-integration.html">Build an integration »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Integrations Developer Guide</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Quick start: Sample integration</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/quick-start.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="quick-start"></a>Quick start: Sample integration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/quick-start.asciidoc">edit</a></h2>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This quick start is designed for users familiar with the Elastic Stack. If you&#8217;re new to Elastic, <a class="xref" href="build-a-new-integration.html" title="Build an integration"><em>Build an integration</em></a> provides an in-depth look at creating a new integration.</p>
</div>
</div>
<p>This is a quick guide on how you can build your own integration package and upload it to Kibana.</p>
<p>Follow these steps to create an integration package named <code class="literal">sample</code> and then add a <code class="literal">logs</code> dataset. The same procedure can be used for a <code class="literal">metrics</code> dataset, however for your first integration package <code class="literal">logs</code> is a bit simpler because a custom input is not required.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="quick-start.html#qs-prereqs" title="Prerequisites">Prerequisites</a>
</li>
<li class="listitem">
<a class="xref" href="quick-start.html#qs-create-package" title="Step 1: Create the package">Step 1: Create the package</a>
</li>
<li class="listitem">
<a class="xref" href="quick-start.html#qs-test-upload" title="Step 2: Upload the package to Kibana">Step 2: Upload the package to Kibana</a>
</li>
<li class="listitem">
<a class="xref" href="quick-start.html#qs-create-dataset" title="Step 3: Create a dataset">Step 3: Create a dataset</a>
</li>
<li class="listitem">
<a class="xref" href="quick-start.html#qs-add-processing" title="Step 4: Add processing">Step 4: Add processing</a>
</li>
<li class="listitem">
<a class="xref" href="quick-start.html#qs-release-new-version" title="Step 5: Release a new version">Step 5: Release a new version</a>
</li>
<li class="listitem">
<a class="xref" href="quick-start.html#qs-ingest-data" title="Step 6: Ingest data">Step 6: Ingest data</a>
</li>
<li class="listitem">
<a class="xref" href="quick-start.html#qs-whats-next" title="What&#8217;s next?">What&#8217;s next?</a>
</li>
</ul>
</div>
<h3><a id="qs-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/quick-start.asciidoc">edit</a></h3>
<p>You&#8217;ll need to have a few requirements in place to run this tutorial:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/elastic-package" class="ulink" target="_top">elastic-package</a> installed on your machine. This is a command line tool, written in Go, used for developing Elastic packages. It can help you lint, format, test, build, and promote your packages. Setup instructions can be found in the elastic-package repository readme.
</li>
<li class="listitem">
A <a href="https://github.com/" class="ulink" target="_top">GitHub repository</a> where you can upload your integration package.
</li>
<li class="listitem">
<a href="https://www.docker.com/" class="ulink" target="_top">Docker</a> set up and running on your machine.
</li>
</ul>
</div>
<h3><a id="qs-create-package"></a>Step 1: Create the package<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/quick-start.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>To start, from inside a Git repository, run the <code class="literal">elastic-package create package</code> command. This will launch a wizard that will prompt you for some details, and will then build an empty package with all the necessary parts:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">elastic-package create package</pre>
</div>
<div class="console_widget" data-snippet="snippets/1.console"></div>
</li>
<li class="listitem">
<p>Respond to prompts as follows:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Package type: <code class="literal">integration</code>
</li>
<li class="listitem">
Package name: <code class="literal">sample</code>
</li>
<li class="listitem">
Version: <code class="literal">0.0.1</code>
</li>
<li class="listitem">
License: <code class="literal">Elastic-2.0</code>
</li>
<li class="listitem">
Package title: <code class="literal">My sample package</code>
</li>
<li class="listitem">
Description: <code class="literal">My first integrations package to collect logs</code>
</li>
<li class="listitem">
Categories: <code class="literal">custom</code>
</li>
<li class="listitem">
Kibana version constraint: <code class="literal">^8.12.2</code>
</li>
<li class="listitem">
Required Elastic subscription: <code class="literal">basic</code>
</li>
<li class="listitem">
Github owner: <code class="literal">&lt;your github name&gt;</code>
</li>
<li class="listitem">
Owner type: <code class="literal">elastic</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
After entering the details, the command should return a confirmation that your package has been created.
</li>
<li class="listitem">
<p>Change into the new <code class="literal">sample</code> package directory.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">cd sample</pre>
</div>
<div class="console_widget" data-snippet="snippets/2.console"></div>
</li>
<li class="listitem">
<p>Validate that the new integration package was created correctly.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Check the linting rules for the package</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">elastic-package lint</pre>
</div>
<div class="console_widget" data-snippet="snippets/3.console"></div>
</li>
<li class="listitem">
<p>Format the package to fix linting</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">elastic-package format</pre>
</div>
<div class="console_widget" data-snippet="snippets/4.console"></div>
</li>
<li class="listitem">
<p>Build a <code class="literal">.zip</code> file out of the package assets</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">elastic-package build</pre>
</div>
<div class="console_widget" data-snippet="snippets/5.console"></div>
</li>
<li class="listitem">
<p>If you prefer, you can also run the three previous commands as a single batch:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">elastic-package check</pre>
</div>
<div class="console_widget" data-snippet="snippets/6.console"></div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<h3><a id="qs-test-upload"></a>Step 2: Upload the package to Kibana<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/quick-start.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>To test that your package can be installed into Kibana, a cluster needs to spin up. For this step you to have a running Docker setup. Run the following command:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">elastic-package stack up --version=8.12.2 -v</pre>
</div>
<div class="console_widget" data-snippet="snippets/7.console"></div>
<p>This spins up a cluster with the version 8.12.2 of the Elastic Stack. The cluster can be accessed in your browser at <a href="https://localhost:5601" class="ulink" target="_top">https://localhost:5601</a> with username <code class="literal">elastic</code> and password <code class="literal">changeme</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If you want to update to the latest Elastic Stack version, run <code class="literal">elastic-package stack update --version=8.12.2 -v</code>.
</li>
<li class="listitem">
You can also install the package directly into an existing cluster for testing. Steps and customization options for the <code class="literal">install</code> command are described in this <a href="https://github.com/elastic/elastic-package/blob/main/docs/howto/install_package.md" class="ulink" target="_top">How To guide</a> in the <code class="literal">elastic-package</code> repository.
</li>
</ul>
</div>
</div>
</div>
</li>
<li class="listitem">
<p>After the cluster has finished setting up, open a second terminal window and run the following command to install your package:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">elastic-package install</pre>
</div>
<div class="console_widget" data-snippet="snippets/8.console"></div>
</li>
<li class="listitem">
<p>After the command runs, check that your new package appears in Kibana under <span class="strong strong"><strong>Management &gt; Integrations &gt; Installed integrations</strong></span>.</p>
<div class="imageblock">
<div class="content">
<img src="images/package-installed.png" alt="Kibana installed integrations tab with a card for my sample package">
</div>
</div>
</li>
</ol>
</div>
<h3><a id="qs-create-dataset"></a>Step 3: Create a dataset<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/quick-start.asciidoc">edit</a></h3>
<p>You&#8217;ve now built an integration package, but it does not contain any assets. For the goal of starting to collect logs, you need to create a dataset, and for it the Elasticsearch mappings and ingest pipelines. If you want to be able to collect data through a managed Elastic Agent, you also need to add an agent policy template.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Create a new dataset:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">elastic-package create data-stream</pre>
</div>
<div class="console_widget" data-snippet="snippets/9.console"></div>
</li>
<li class="listitem">
<p>When prompted, provide the following details:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Data stream name: log
</li>
<li class="listitem">
Data stream title: My log lines
</li>
<li class="listitem">
<p>Type: logs</p>
<p>The command creates the required data in the <code class="literal">/data_stream/log</code> directory. If you pick <code class="literal">log</code> as data stream name, the dataset is called <code class="literal">sample.log</code> and the final data stream created will be <code class="literal">logs-sample.log-default</code> as an example.</p>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>To not have to worry about mappings, you can pull in all <a href="/guide/en/ecs/8.11" class="ulink" target="_top">Elastic Common Schema (ECS) fields</a>. To do this, create the file <code class="literal">_dev/build/build.yml</code> under the root directory and add the following content:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">dependencies:
  ecs:
    reference: git@v8.6.0
    import_mappings: true</pre>
</div>
</li>
<li class="listitem">
<p>It&#8217;s always a good idea to re-check to make sure that your package still builds and works as expected.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">elastic-package check</pre>
</div>
<div class="console_widget" data-snippet="snippets/10.console"></div>
</li>
<li class="listitem">
<p>Re-install your package.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">elastic-package install</pre>
</div>
<div class="console_widget" data-snippet="snippets/11.console"></div>
<p>This reinstalls the package and create mapping templates for <code class="literal">logs-sample.log-*</code>. You can also add your own mappings under <code class="literal">data_stream/log/fields/fields.yml</code> if needed.</p>
</li>
</ol>
</div>
<h3><a id="qs-add-processing"></a>Step 4: Add processing<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/quick-start.asciidoc">edit</a></h3>
<p>You can now already ship log files to <code class="literal">logs-sample.log-default</code> but no processing will happen. So, let&#8217;s create a sample log file.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Create a file <code class="literal">test-sample.log</code> with the following contents, and save it anywhere on your local machine.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">2024-04-21T13:44:56.657+0100 INFO Hello world
2024-04-21T13:45:56.657+0100 INFO This is a nice day
2024-04-21T13:46:56.657+0100 INFO I am working on stuff</pre>
</div>
<div class="console_widget" data-snippet="snippets/12.console"></div>
<p>Each line of the log file will be shipped by Elastic Agent as a document with the message field containing the log line. You will set up the dissect processor to take the log line apart into <code class="literal">@timestamp</code>, <code class="literal">log.level</code>, and <code class="literal">message</code>.</p>
</li>
<li class="listitem">
<p>Next, test your ingest pipeline. In Kibana navigate to <span class="strong strong"><strong>Management &gt; Dev Tools</strong></span> and run the <a href="/guide/en/elasticsearch/reference/master/simulate-pipeline-api.html" class="ulink" target="_top">Simulate pipeline API</a>:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">POST /_ingest/pipeline/_simulate
{
  "pipeline" :
  {
    "description": "logs-sample.log",
    "processors": [
      {
        "dissect" : {
          "field" : "message",
          "pattern" : "%{@timestamp} %{log.level} %{message}"
        }
      }
    ]
  },
  "docs": [
    {
      "_index": "index",
      "_id": "id",
      "_source": {
        "message": "2023-02-21T13:46:56.657+0100 INFO I am working on stuff"
      }
    }
  ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/13.console"></div>
<p>This returns:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">{
  "docs": [
    {
      "doc": {
        "_index": "index",
        "_version": "-3",
        "_id": "id",
        "_source": {
          "@timestamp": "2023-02-21T13:46:56.657+0100",
          "message": "I am working on stuff",
          "log": {
            "level": "INFO"
          }
        },
        "_ingest": {
          "timestamp": "2024-04-30T17:51:22.16442471Z"
        }
      }
    }
  ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/14.console"></div>
</li>
<li class="listitem">
<p>Now that you&#8217;ve confirmed that the ingest pipeline is working, add it to your dataset by modifying <code class="literal">data_stream/log/elasticsearch/ingest_pipline/default.yml</code> to:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">description: Pipeline for processing sample logs
processors:
- dissect:
    field: message
    pattern: "%{@timestamp} %{log.level} %{message}"
on_failure:
- set:
    field: error.message
    value: '{{ _ingest.on_failure_message }}'</pre>
</div>
<div class="console_widget" data-snippet="snippets/15.console"></div>
</li>
<li class="listitem">
Now run <code class="literal">elastic-package check</code> again and then re-upload the package with <code class="literal">elastic-package install</code>. This installs your new ingest pipeline.
</li>
<li class="listitem">
<p>Do a quick test run to test the new pipeline. In the <span class="strong strong"><strong>Dev tools</strong></span> console, run:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">POST logs-sample.log-default/_doc
{
  "message": "2023-02-21T13:46:56.657+0100 INFO I am working on stuff"
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/16.console"></div>
<p>The response is:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">{
  "_index": ".ds-logs-sample.log-default-2024.04.30-000001",
  "_id": "BsUtMI8BQEniT9Md_TYh",
  "_version": 1,
  "result": "created",
  "_shards": {
    "total": 2,
    "successful": 1,
    "failed": 0
  },
  "_seq_no": 0,
  "_primary_term": 1
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/17.console"></div>
</li>
<li class="listitem">
<p>Now run:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">GET logs-sample.log-default/_search</pre>
</div>
<div class="console_widget" data-snippet="snippets/18.console"></div>
<p>The response is:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">{
  "took": 1,
  "timed_out": false,
  "_shards": {
    "total": 1,
    "successful": 1,
    "skipped": 0,
    "failed": 0
  },
  "hits": {
    "total": {
      "value": 1,
      "relation": "eq"
    },
    "max_score": 1,
    "hits": [
      {
        "_index": ".ds-logs-sample.log-default-2024.04.30-000001",
        "_id": "BsUtMI8BQEniT9Md_TYh",
        "_score": 1,
        "_source": {
          "@timestamp": "2023-02-21T13:46:56.657+0100",
          "message": "I am working on stuff",
          "event": {
            "agent_id_status": "missing",
            "ingested": "2024-04-30T18:04:31Z"
          },
          "log": {
            "level": "INFO"
          }
        }
      }
    ]
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/19.console"></div>
</li>
</ol>
</div>
<p>Now that you can see the dissected message documented, you&#8217;re ready to ingest data.</p>
<h3><a id="qs-release-new-version"></a>Step 5: Release a new version<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/quick-start.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Since your initial <code class="literal">0.0.1</code> version of the package, many modifications have been made. To build a new package version, open the <code class="literal">sample/manifest.yml</code> file and change the package version to <code class="literal">0.2.0</code>:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">format_version: 3.1.3
name: sample
title: "My sample package"
version: 0.2.0</pre>
</div>
<div class="console_widget" data-snippet="snippets/20.console"></div>
</li>
<li class="listitem">
<p>You also need to add an entry to your <code class="literal">sample/changelog.yml</code> file. Make sure to add the new entry at the top of the file:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">- version: "0.2.0"
  changes:
    - description: Added sample log processing pipeline
      type: enhancement
      link: http://fake-link</pre>
</div>
<div class="console_widget" data-snippet="snippets/21.console"></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can also update the changelog file automatically using the <a href="https://github.com/elastic/elastic-package?tab=readme-ov-file#elastic-package-changelog" class="ulink" target="_top"><code class="literal">elastic-package changelog</code></a> command.</p>
</div>
</div>
</li>
<li class="listitem">
<p>Run <code class="literal">elastic-package check</code> again and then the <code class="literal">elastic-package install</code> command.</p>
<p>The <code class="literal">0.1.0</code> version of the package is updated to version <code class="literal">0.2.0</code>. Only one version of a package can be installed at a time, but, following these steps, different versions of a package can be rolled out over time.</p>
</li>
</ol>
</div>
<p>When developing integrations the following versioning guidelines should be used:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Patch release (x.y.<span class="strong strong"><strong>Z</strong></span>): For backward-compatible bug fixes
</li>
<li class="listitem">
Minor release (x.<span class="strong strong"><strong>Y</strong></span>.z): For backward-compatible new features
</li>
<li class="listitem">
Major release (<span class="strong strong"><strong>X</strong></span>.y.z): For changes that break backward compatibility
</li>
</ul>
</div>
<h3><a id="qs-ingest-data"></a>Step 6: Ingest data<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/quick-start.asciidoc">edit</a></h3>
<p>There are two different ways that you can ingest data, using either standalone Elastic Agent or Elastic Agent managed by Fleet. For this example, you can use standalone Elastic Agent since that won&#8217;t require any additional changes to the integration package.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>To run these steps using Fleet-managed Elastic Agent, you just need to update the files <code class="literal">data_stream/log/agent/stream/stream.yml.hbs</code> and <code class="literal">data_stream/log/manifest.yml</code> to provide the correct configuration, which you can find in the Fleet UI.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a href="/downloads/elastic-agent" class="ulink" target="_top">Download the Elastic Agent install package</a> to your machine.
</li>
<li class="listitem">
<p>Download the Elastic Agent package, extract it, and change into the package directory. You can find the steps for each available platform in <a href="/guide/en/fleet/master/install-standalone-elastic-agent.html" class="ulink" target="_top">Install standalone Elastic Agents</a>.</p>
<p>You can also download a package directly from the <a href="/downloads/elastic-agent" class="ulink" target="_top">Elastic Agent download site</a>.</p>
</li>
<li class="listitem">
In the Elastic Agent package directory, open the <code class="literal">elastic-agent.yml</code> configuration file for editing.
</li>
<li class="listitem">
<p>Replace the contents of <code class="literal">elastic-agent.yml</code> with the following:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">inputs:
  - type: logfile
    streams:
      - data_stream:
          # This must be aligned with the dataset name given
          dataset: test-sample.log
        paths:
          # Path to your log file
          - /&lt;PATH-TO-LOG-FILE&gt;/test-sample.log

outputs:
  default:
    type: elasticsearch
    hosts: ["https://127.0.0.1:9200"]
    username: "elastic"
    password: "changeme"
    ssl.verification_mode: none</pre>
</div>
<div class="console_widget" data-snippet="snippets/22.console"></div>
<p>Where:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">dataset</code> is set to match the <code class="literal">test-sample.log</code> file that you created.
</li>
<li class="listitem">
&lt;PATH-TO-LOG-FILE&gt; is the full path the <code class="literal">test-sample.log</code> file that you created.
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Run Elastic Agent:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">sudo ./elastic-agent -e</pre>
</div>
<div class="console_widget" data-snippet="snippets/23.console"></div>
<p>This will pick up the log file, ship it to Elasticsearch, and process it with the ingest pipeline.</p>
</li>
<li class="listitem">
<p>Confirm that your log file is being ingested as expected:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In Kibana, open <span class="strong strong"><strong>Discover</strong></span>.
</li>
<li class="listitem">
In the search field, enter <code class="literal">log.file.path.text : *</code>. The search should return a couple of log entries.
</li>
<li class="listitem">
<p>Hover over an entry and click <code class="literal">Enter</code> to view the cell contents.</p>
<div class="imageblock">
<div class="content">
<img src="images/datastream-log-message.png" alt="Data stream showing log message: &quot;this is a nice day&quot;">
</div>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
<h3><a id="qs-whats-next"></a>What&#8217;s next?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/quick-start.asciidoc">edit</a></h3>
<p>You now have your own integration package that you can update with new features and ship to an Elastic Stack or share with others.</p>
<p>In the integrations <a href="https://github.com/elastic/integrations/blob/main/CONTRIBUTING.md" class="ulink" target="_top">Contributing Guide</a> you can find instructions for adding additional assets to your integrations, such as Kibana dashboards.</p>
<p>Let others know about your new integration:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Promote your Integration with Elastic in the <a href="/community/" class="ulink" target="_top">Elastic Community</a>.
</li>
<li class="listitem">
Register on <a href="https://partners.elastic.co/English/register_email.aspx" class="ulink" target="_top">Elastic&#8217;s Partner Portal</a> as a Technology Partner.
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="integration-definitions.html">« Definitions</a>
</span>
<span class="next">
<a href="build-a-new-integration.html">Build an integration »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
