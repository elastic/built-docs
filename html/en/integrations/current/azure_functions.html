<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Azure Functions | Elastic integrations | Elastic</title>
<meta class="elastic" name="content" content="Azure Functions | Elastic integrations">

<link rel="home" href="index.html" title="Elastic integrations"/>
<link rel="up" href="azure.html" title="Azure Logs Integration"/>
<link rel="prev" href="azure_frontdoor.html" title="Azure Frontdoor Logs Integration"/>
<link rel="next" href="azure-adlogs.html" title="Microsoft Entra ID Logs"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Integrations"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Integrations/Reference"/>
<meta name="DC.subject" content="Integrations"/>
<meta name="DC.identifier" content="main"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="azure_frontdoor.html">« Azure Frontdoor Logs Integration</a>
</span>
<span class="next">
<a href="azure-adlogs.html">Microsoft Entra ID Logs »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic integrations</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="azure.html">Azure Logs Integration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Azure Functions</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="azure_functions"></a>Azure Functions</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
</div></div></div>

<div class="condensed-table">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Version</strong></span></p></td>
<td align="left" valign="top"><p>0.8.0 <span class="Admonishment Admonishment--beta">
[<span class="Admonishment-title u-mono">beta</span>]
<span class="Admonishment-detail">
This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.
</span>
</span> (<a class="xref" href="azure_functions.html#azure_functions-changelog" title="Changelog">View all</a>)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Compatible Kibana version(s)</strong></span></p></td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Supported Serverless project types</strong></span><br>
 <a class="xref" href="serverless-support.html" title="Supported Serverless project types"><span class="small">What&#8217;s this?</span></a></p></td>
<td align="left" valign="top"><p>Security<br>
Observability</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Subscription level</strong></span><br>
<a href="/subscriptions" class="ulink" target="_top"><span class="small">What&#8217;s this?</span></a></p></td>
<td align="left" valign="top"><p>Basic</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Level of support</strong></span><br>
<a class="xref" href="support.html" title="Level of support"><span class="small">What&#8217;s this?</span></a></p></td>
<td align="left" valign="top"><p>Elastic</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The Azure Functions integration allows you to monitor Azure Functions. Azure Functions is an event-driven, serverless compute platform that helps you develop more efficiently using the programming language of your choice. Triggers cause a function to run. A trigger defines how a function is invoked and a function must have exactly one trigger.</p>
<p>Use Azure Functions to build web APIs, respond to database changes, process IoT streams, manage message queues, and more. Refer common <a href="https://learn.microsoft.com/en-us/azure/azure-functions/functions-scenarios?pivots=programming-language-csharp" class="ulink" target="_top">Azure Functions scenarios</a> for more information.</p>
<div class="position-relative"><h4><a id="azure_functions-hosting-plans-and-metrics"></a>Hosting plans and metrics</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p>Each Azure Functions app requires a hosting plan: Consumption plan, Flex Consumption plan, Premium plan, Dedicated plan, or Container Apps. For more details on the various plans, check the <a href="https://learn.microsoft.com/en-us/azure/azure-functions/functions-scale?WT.mc%5Fid=Portal-WebsitesExtension" class="ulink" target="_top">Azure Functions hosting options</a>.</p>
<p>These plans differ from eachother in the number of metrics they generate, which are then exported outside of Azure for other monitoring solutions like Elastic Observability. For example, metrics specific to Azure Function Apps, such as <em>FunctionExecutionCount</em> and <em>FunctionExecutionUnits</em>, are only available for function apps operating on a Consumption (serverless) plan and are not observed in other plans. On the other hand, all other metrics are generated exclusively for Premium and Dedicated plans and are not available for the Consumption plan.</p>
<div class="position-relative"><h4><a id="azure_functions-data-streams"></a>Data streams</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p>The Azure Functions integration contains two data streams: <a class="xref" href="azure_functions.html#azure_functions-logs" title="Logs">Function App Logs</a> and <a class="xref" href="azure_functions.html#azure_functions-metrics" title="Metrics">Metrics</a></p>
<div class="position-relative"><h5><a id="azure_functions-logs"></a>Logs</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p>Supported log categories:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Log Category</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Functionapplogs</p></td>
<td align="left" valign="top"><p>Function app logs.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="position-relative"><h6><a id="azure_functions-requirements-and-setup"></a>Requirements and setup</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p>Refer to the <a href="https://docs.elastic.co/integrations/azure" class="ulink" target="_top">Azure Logs</a> page for more information about setting up and using this integration.</p>
<div class="position-relative"><h6><a id="azure_functions-configuration-options"></a>Configuration options</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p><code class="literal">eventhub</code> :
<em>string</em>
An Event Hub is a fully managed, real-time data ingestion service. Elastic recommends using only letters, numbers, and the hyphen (-) character for Event Hub names to maximize compatibility. You can use existing Event Hubs having underscores (_) in the Event Hub name; in this case, the integration will replace underscores with hyphens (-) when it uses the Event Hub name to create dependent Azure resources behind the scenes (e.g., the storage account container to store Event Hub consumer offsets). Elastic also recommends using a separate event hub for each log type as the field mappings of each log type differ.
Default value <code class="literal">insights-operational-logs</code>.</p>
<p><code class="literal">consumer_group</code> :
<em>string</em>
The publish/subscribe mechanism of Event Hubs is enabled through consumer groups. A consumer group is a view (state, position, or offset) of an entire event hub. Consumer groups enable multiple consuming applications to each have a separate view of the event stream, and to read the stream independently at their own pace and with their own offsets.
Default value: <code class="literal">$Default</code></p>
<p><code class="literal">connection_string</code> :
<em>string</em>
The connection string is required to communicate with Event Hubs, see steps <a href="https://docs.microsoft.com/en-us/azure/event-hubs/event-hubs-get-connection-string" class="ulink" target="_top">here</a>.</p>
<p>A Blob Storage account is required in order to store/retrieve/update the offset or state of the eventhub messages. This means that after stopping the Azure logs package it can start back up at the spot that it stopped processing messages.</p>
<p><code class="literal">storage_account</code> :
<em>string</em>
The name of the storage account where the state/offsets will be stored and updated.</p>
<p><code class="literal">storage_account_key</code> :
<em>string</em>
The storage account key, this key will be used to authorize access to data in your storage account.</p>
<p><code class="literal">storage_account_container</code> :
<em>string</em>
The storage account container where the integration stores the checkpoint data for the consumer group. It is an advanced option to use with extreme care. You MUST use a dedicated storage account container for each Azure log type (activity, sign-in, audit logs, and others). DO NOT REUSE the same container name for more than one Azure log type. See <a href="https://docs.microsoft.com/en-us/rest/api/storageservices/naming-and-referencing-containers&#8212;&#8203;blobs&#8212;&#8203;and-metadata#container-names" class="ulink" target="_top">Container Names</a> for details on naming rules from Microsoft. The integration generates a default container name if not specified.</p>
<p><code class="literal">resource_manager_endpoint</code> :
<em>string</em>
Optional, by default we are using the Azure public environment, to override, users can provide a specific resource manager endpoint in order to use a different Azure environment.</p>
<p>Resource manager endpoints:</p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text"># Azure ChinaCloud
https://management.chinacloudapi.cn/

# Azure GermanCloud
https://management.microsoftazure.de/

# Azure PublicCloud
https://management.azure.com/

# Azure USGovernmentCloud
https://management.usgovcloudapi.net/</pre>
</div>
<details>
<summary class="title"><span class="strong strong"><strong>Example</strong></span></summary>
<div class="content">
<p>An example event for <code class="literal">functionapplogs</code> looks as following:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
    "@timestamp": "2023-05-23T20:11:59.000Z",
    "azure": {
        "category": "FunctionAppLogs",
        "function": {
            "app_name": "test-function",
            "category": "Function.hello",
            "event_name": "FunctionStarted",
            "host_instance_id": "bb84c437-4c26-4d0b-a06d-7fc2f16976e3",
            "host_version": "4.19.2.2",
            "invocation_id": "d878e365-b3d6-4796-9292-7500acd0c677",
            "level": "Information",
            "level_id": 2,
            "message": "Executing Functions.hello (Reason=This function was programmatically called via the host APIs., Id=d878e365-b3d6-4796-9292-7500acd0c677)",
            "name": "Functions.hello",
            "process_id": 67,
            "role_instance": "54108609-638204200593759681"
        },
        "operation_name": "Microsoft.Web/sites/functions/log",
        "resource": {
            "group": "TEST-RG",
            "id": "/SUBSCRIPTIONS/12CABCB4-86E8-404F-A3D2-1DC9982F45CA/RESOURCEGROUPS/TEST-RG/PROVIDERS/MICROSOFT.WEB/SITES/TEST-FUNCTION",
            "name": "TEST-FUNCTION",
            "provider": "MICROSOFT.WEB/SITES"
        },
        "subscription_id": "12CABCB4-86E8-404F-A3D2-1DC9982F45CA"
    },
    "cloud": {
        "account": {
            "id": "12CABCB4-86E8-404F-A3D2-1DC9982F45CA"
        },
        "provider": "azure"
    },
    "ecs": {
        "version": "8.11.0"
    },
    "event": {
        "original": "{\"time\":\"2023-05-23T20:11:59Z\",\"resourceId\":\"/SUBSCRIPTIONS/12CABCB4-86E8-404F-A3D2-1DC9982F45CA/RESOURCEGROUPS/TEST-RG/PROVIDERS/MICROSOFT.WEB/SITES/TEST-FUNCTION\",\"category\":\"FunctionAppLogs\",\"operationName\":\"Microsoft.Web/sites/functions/log\",\"level\":\"Informational\",\"location\":\"East US\",\"properties\":{\"appName\":\"test-function\",\"roleInstance\":\"54108609-638204200593759681\",\"message\":\"Executing Functions.hello (Reason=This function was programmatically called via the host APIs., Id=d878e365-b3d6-4796-9292-7500acd0c677)\",\"category\":\"Function.hello\",\"hostVersion\":\"4.19.2.2\",\"functionInvocationId\":\"d878e365-b3d6-4796-9292-7500acd0c677\",\"functionName\":\"Functions.hello\",\"hostInstanceId\":\"bb84c437-4c26-4d0b-a06d-7fc2f16976e3\",\"level\":\"Information\",\"levelId\":2,\"processId\":67,\"eventId\":1,\"eventName\":\"FunctionStarted\"}}"
    },
    "observer": {
        "product": "Azure Functions",
        "type": "functions",
        "vendor": "Azure"
    },
    "tags": [
        "preserve_original_event"
    ]
}</pre>
</div>
</div>
</details>
<p><span class="strong strong"><strong>ECS Field Reference</strong></span></p>
<p>Please refer to the following <a href="/guide/en/ecs/current/ecs-field-reference.html" class="ulink" target="_top">document</a> for detailed information on ECS fields.</p>
<details>
<summary class="title"><span class="strong strong"><strong>Exported fields</strong></span></summary>
<div class="content">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>@timestamp</p></td>
<td align="left" valign="top"><p>Event timestamp.</p></td>
<td align="left" valign="top"><p>date</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.category</p></td>
<td align="left" valign="top"><p>The log category name.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.app_name</p></td>
<td align="left" valign="top"><p>The Function application name.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.category</p></td>
<td align="left" valign="top"><p>The category of the operation.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.event_id</p></td>
<td align="left" valign="top"><p>The event ID.</p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.event_name</p></td>
<td align="left" valign="top"><p>The event name.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.exception_details</p></td>
<td align="left" valign="top"><p>The exception details. This includes the exception type, message, and stack trace.</p></td>
<td align="left" valign="top"><p>match_only_text</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.exception_message</p></td>
<td align="left" valign="top"><p>The exception message.</p></td>
<td align="left" valign="top"><p>match_only_text</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.exception_type</p></td>
<td align="left" valign="top"><p>The exception type.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.host_instance_id</p></td>
<td align="left" valign="top"><p>The host instance ID.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.host_version</p></td>
<td align="left" valign="top"><p>The Functions host version.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.invocation_id</p></td>
<td align="left" valign="top"><p>The invocation ID that logged the message.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.level</p></td>
<td align="left" valign="top"><p>The log level. Valid values are Trace, Debug, Information, Warning, Error, or Critical.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.level_id</p></td>
<td align="left" valign="top"><p>The integer value of the log level. Valid values are 0 (Trace), 1 (Debug), 2 (Information), 3 (Warning), 4 (Error), or 5 (Critical).</p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.message</p></td>
<td align="left" valign="top"><p>The log message.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.name</p></td>
<td align="left" valign="top"><p>The name of the function that logged the message.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.process_id</p></td>
<td align="left" valign="top"><p>The process ID.</p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.function.role_instance</p></td>
<td align="left" valign="top"><p>The role instance ID.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.operation_name</p></td>
<td align="left" valign="top"><p>The operation name.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.resource.group</p></td>
<td align="left" valign="top"><p>Azure Resource group</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.resource.id</p></td>
<td align="left" valign="top"><p>Resource ID</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.resource.name</p></td>
<td align="left" valign="top"><p>Name</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.resource.provider</p></td>
<td align="left" valign="top"><p>Resource type/namespace</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.subscription_id</p></td>
<td align="left" valign="top"><p>Azure subscription ID</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.tenant_id</p></td>
<td align="left" valign="top"><p>tenant ID</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.dataset</p></td>
<td align="left" valign="top"><p>Data stream dataset name.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.namespace</p></td>
<td align="left" valign="top"><p>Data stream namespace.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.type</p></td>
<td align="left" valign="top"><p>Data stream type.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>dataset.name</p></td>
<td align="left" valign="top"><p>Dataset name.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>dataset.namespace</p></td>
<td align="left" valign="top"><p>Dataset namespace.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>dataset.type</p></td>
<td align="left" valign="top"><p>Dataset type.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</details>
<div class="position-relative"><h5><a id="azure_functions-metrics"></a>Metrics</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p><span class="strong strong"><strong>Metrics</strong></span> give you insight into the performance of your Azure Function Apps. The integration includes an out-of-the-box dashboard for visualising the monitoring data generated by apps hosted in Azure Functions.</p>
<div class="position-relative"><h6><a id="azure_functions-requirements"></a>Requirements</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p>To use this integration you will need:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Azure App Registration</strong></span>: You need to set up an Azure App Registration to allow the Agent to access the Azure APIs. The App Registration requires the Monitoring Reader role to access to be able to collect metrics from Function Apps. See more details in the Setup section.
</li>
<li class="listitem">
<span class="strong strong"><strong>Elasticsearch and Kibana</strong></span>: You need Elasticsearch to store and search your data and Kibana to visualize and manage it. You can use our hosted Elasticsearch Service on Elastic Cloud, which is recommended, the <a href="https://azuremarketplace.microsoft.com/en-us/marketplace/apps/elastic.elasticsearch?tab=Overview" class="ulink" target="_top">Native Azure Integration</a>, or self-manage the Elastic Stack on your hardware.
</li>
</ul>
</div>
<div class="position-relative"><h6><a id="azure_functions-setup"></a>Setup</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">         ┌────────────────────┐       ┌─────────┐       ┌─-─────────────────────┐
         │                    │       │         │       │    azure.functions    │
         │     Azure APIs     │──────▶│  Agent  │──────▶│    &lt;&lt;data stream&gt;&gt;    │
         │                    │       │         │       │                       │
         └────────────────────┘       └─────────┘       └───-───────────────────┘</pre>
</div>
<p>Elastic Agent needs an App Registration to access Azure on your behalf to collect data using the Azure REST APIs. App Registrations are required to access Azure APIs programmatically.</p>
<p>To start collecting data with this integration, you need to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set up a new Azure app registration by registering an app, adding credentials, and assigning an appropriate role.
</li>
<li class="listitem">
Specify integration <a class="xref" href="azure_functions.html#azure_functions-main-options" title="Main options">settings</a> in Kibana, which will determine how the integration will access the Azure APIs.
</li>
</ul>
</div>
<div class="position-relative"><h6><a id="azure_functions-register-a-new-app"></a>Register a new app</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p>To create a new app registration:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Sign in to the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure Portal</a>.
</li>
<li class="listitem">
Search for and select <span class="strong strong"><strong>Microsoft Entra ID</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Manage</strong></span>, select <span class="strong strong"><strong>App registrations</strong></span> &gt; <span class="strong strong"><strong>New registration</strong></span>.
</li>
<li class="listitem">
Enter a display <em>Name</em> for your application (for example, "elastic-agent").
</li>
<li class="listitem">
Specify who can use the application.
</li>
<li class="listitem">
Don&#8217;t enter anything for <em>Redirect URI</em>. This is optional and the agent doesn&#8217;t use it.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Register</strong></span> to complete the initial app registration.
</li>
</ol>
</div>
<p>Take note of the <span class="strong strong"><strong>Application (client) ID</strong></span>, which you will use later when specifying the <span class="strong strong"><strong>Client ID</strong></span> in the integration settings.</p>
<div class="position-relative"><h6><a id="azure_functions-add-credentials"></a>Add credentials</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p>Credentials allow your application to access Azure APIs and authenticate itself, requiring no interaction from a user at runtime.</p>
<p>This integration uses Client Secrets to prove its identity.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure Portal</a>, select the application you created in the previous section.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Certificates &amp; secrets</strong></span> &gt; <span class="strong strong"><strong>Client secrets</strong></span> &gt; <span class="strong strong"><strong>New client secret</strong></span>.
</li>
<li class="listitem">
Add a description (for example, "Elastic Agent client secrets").
</li>
<li class="listitem">
Select an expiration for the secret or specify a custom lifetime.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Add</strong></span>.
</li>
</ol>
</div>
<p>Take note of the content in the <span class="strong strong"><strong>Value</strong></span> column in the <span class="strong strong"><strong>Client secrets</strong></span> table, which you will use later when specifying a <span class="strong strong"><strong>Client Secret</strong></span> in the integration settings. <span class="strong strong"><strong>This secret value is never displayed again after you leave this page.</strong></span> Record the secret&#8217;s value in a safe place.</p>
<div class="position-relative"><h6><a id="azure_functions-assign-role"></a>Assign role</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure Portal</a>, search for and select <span class="strong strong"><strong>Subscriptions</strong></span>.
</li>
<li class="listitem">
Select the subscription to assign the application.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Access control (IAM)</strong></span>.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Add</strong></span> &gt; <span class="strong strong"><strong>Add role assignment</strong></span> to open the <em>Add role assignment page</em>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Role</strong></span> tab, search and select the role <span class="strong strong"><strong>Monitoring Reader</strong></span>.
</li>
<li class="listitem">
Select the <span class="strong strong"><strong>Next</strong></span> button to move to the <span class="strong strong"><strong>Members</strong></span> tab.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Assign access to</strong></span> &gt; <span class="strong strong"><strong>User, group, or service principal</strong></span>, and select <span class="strong strong"><strong>Select members</strong></span>. This page does not display Azure AD applications in the available options by default.
</li>
<li class="listitem">
To find your application, search by name (for example, "elastic-agent") and select it from the list.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Select</strong></span> button.
</li>
<li class="listitem">
Then click the <span class="strong strong"><strong>Review + assign</strong></span> button.
</li>
</ol>
</div>
<p>Take note of the following values, which you will use later when specifying settings.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">Subscription ID</code>: use the content of the "Subscription ID" you selected.
</li>
<li class="listitem">
<code class="literal">Tenant ID</code>: use the "Tenant ID" from the Azure Active Directory you use.
</li>
</ul>
</div>
<p>Your App Registration is now ready to be used with the Elastic Agent.</p>
<div class="position-relative"><h6><a id="azure_functions-additional-resources"></a>Additional Resources</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p>If you want to learn more about this process, you can read these two general guides from Microsoft:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/quickstart-register-app" class="ulink" target="_top">Quickstart: Register an application with the Microsoft identity platform</a>
</li>
<li class="listitem">
<a href="https://docs.microsoft.com/en-us/azure/active-directory/develop/howto-create-service-principal-portal" class="ulink" target="_top">Use the portal to create an Azure AD application and service principal that can access resources</a>
</li>
</ul>
</div>
<div class="position-relative"><h6><a id="azure_functions-main-options"></a>Main options</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p>The settings' main section contains all the options needed to access the Azure APIs and collect the Azure Functions metrics data. You will now use all the values from <a class="xref" href="azure_functions.html#azure_functions-register-a-new-app" title="Register a new app">App registration</a> including:</p>
<p><code class="literal">Client ID</code> <em>string</em>
: The unique identifier of the App Registration (sometimes referred to as Application ID).</p>
<p><code class="literal">Client Secret</code> <em>string</em>
: The client secret for authentication.</p>
<p><code class="literal">Subscription ID</code> <em>string</em>
: The unique identifier for the Azure subscription. You can provide just one subscription ID. The Agent uses this ID to access Azure APIs.</p>
<p><code class="literal">Tenant ID</code> <em>string</em>
: The unique identifier of the Azure Active Directory&#8217;s Tenant ID.</p>
<div class="position-relative"><h6><a id="azure_functions-advanced-options"></a>Advanced options</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<p>There are two additional advanced options:</p>
<p><code class="literal">Resource Manager Endpoint</code> <em>string</em>
: Optional. By default, the integration uses the Azure public environment. To override, users can provide a specific resource manager endpoint to use a different Azure environment.</p>
<p>Examples:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">https://management.chinacloudapi.cn</code> for Azure ChinaCloud
</li>
<li class="listitem">
<code class="literal">https://management.microsoftazure.de</code> for Azure GermanCloud
</li>
<li class="listitem">
<code class="literal">https://management.azure.com</code> for Azure PublicCloud
</li>
<li class="listitem">
<code class="literal">https://management.usgovcloudapi.net</code> for Azure USGovernmentCloud
</li>
</ul>
</div>
<p><code class="literal">Active Directory Endpoint</code>  <em>string</em>
: Optional. By default, the integration uses the associated Active Directory Endpoint. To override, users can provide a specific active directory endpoint to use a different Azure environment.</p>
<p>Examples:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">https://login.chinacloudapi.cn</code> for Azure ChinaCloud
</li>
<li class="listitem">
<code class="literal">https://login.microsoftonline.de</code> for Azure GermanCloud
</li>
<li class="listitem">
<code class="literal">https://login.microsoftonline.com</code> for Azure PublicCloud
</li>
<li class="listitem">
<code class="literal">https://login.microsoftonline.us</code> for Azure USGovernmentCloud
</li>
</ul>
</div>
<div class="position-relative"><h6><a id="azure_functions-metrics-reference"></a>Metrics Reference</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<details>
<summary class="title"><span class="strong strong"><strong>Example</strong></span></summary>
<div class="content">
<p>An example event for <code class="literal">metrics</code> looks as following:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
    "@timestamp": "2023-08-23T12:20:00.000Z",
    "agent": {
        "ephemeral_id": "7511408f-f109-4e34-a405-98ad479fc097",
        "id": "ae16c4cf-2550-452a-860d-cef5e5182e94",
        "name": "docker-fleet-agent",
        "type": "metricbeat",
        "version": "8.7.1"
    },
    "azure": {
        "functions": {
            "app_connections": {
                "avg": 0
            },
            "average_memory_working_set": {
                "avg": 328533059.5
            },
            "bytes_received": {
                "total": 28804
            },
            "bytes_sent": {
                "total": 8192
            },
            "function_execution_count": {
                "total": 0
            },
            "function_execution_units": {
                "total": 0
            },
            "handles": {
                "avg": 0
            },
            "http2xx": {
                "total": 16
            },
            "http3xx": {
                "total": 0
            },
            "http4xx": {
                "total": 0
            },
            "http5xx": {
                "total": 16
            },
            "http_response_time": {
                "avg": 0.02796875
            },
            "io_other_bytes_per_second": {
                "total": 0
            },
            "io_other_operations_per_second": {
                "total": 0
            },
            "io_read_bytes_per_second": {
                "total": 31879
            },
            "io_read_operations_per_second": {
                "total": 0
            },
            "io_write_bytes_per_second": {
                "total": 0
            },
            "io_write_operations_per_second": {
                "total": 0
            },
            "memory_working_set": {
                "avg": 328533059.5
            },
            "requests": {
                "total": 32
            },
            "requests_inapplication_queue": {
                "avg": 0
            },
            "total_app_domains": {
                "avg": 0
            },
            "total_app_domains_unloaded": {
                "avg": 0
            }
        },
        "namespace": "Microsoft.Web/sites",
        "resource": {
            "group": "test-rg",
            "id": "/subscriptions/12hjkls-78tyu-404f-a3d2-1dc9982f45ds/resourceGroups/test-rg/providers/Microsoft.Web/sites/return-of-the-jedi",
            "name": "return-of-the-jedi",
            "tags": {
                "hidden-link: /app-insights-resource-id": "/subscriptions/12hjkls-78tyu-404f-a3d2-1dc9982f45ds/resourceGroups/test-rg/providers/Microsoft.Insights/components/return-of-the-jedi"
            },
            "type": "Microsoft.Web/sites"
        },
        "subscription_id": "12hjkls-78tyu-404f-a3d2-1dc9982f45ds",
        "timegrain": "PT5M"
    },
    "data_stream": {
        "dataset": "azure.function",
        "namespace": "default",
        "type": "metrics"
    },
    "ecs": {
        "version": "8.11.0"
    },
    "elastic_agent": {
        "id": "ae16c4cf-2550-452a-860d-cef5e5182e94",
        "snapshot": false,
        "version": "8.7.1"
    },
    "event": {
        "agent_id_status": "verified",
        "dataset": "azure.function",
        "duration": 42827917228,
        "ingested": "2023-08-23T12:25:34Z",
        "module": "azure"
    },
    "host": {
        "architecture": "x86_64",
        "containerized": false,
        "hostname": "docker-fleet-agent",
        "id": "fd2c4b0943e444508c12855a04d117c7",
        "ip": [
            "172.19.0.9"
        ],
        "mac": [
            "02-42-AC-13-00-09"
        ],
        "name": "docker-fleet-agent",
        "os": {
            "codename": "focal",
            "family": "debian",
            "kernel": "5.15.49-linuxkit",
            "name": "Ubuntu",
            "platform": "ubuntu",
            "type": "linux",
            "version": "20.04.6 LTS (Focal Fossa)"
        }
    },
    "metricset": {
        "name": "monitor",
        "period": 300000
    },
    "service": {
        "type": "azure"
    }
}</pre>
</div>
</div>
</details>
<p><span class="strong strong"><strong>ECS Field Reference</strong></span></p>
<p>Please refer to the following <a href="/guide/en/ecs/current/ecs-field-reference.html" class="ulink" target="_top">document</a> for detailed information on ECS fields.</p>
<details>
<summary class="title"><span class="strong strong"><strong>Exported fields</strong></span></summary>
<div class="content">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
<col class="col_5"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Unit</th>
<th align="left" valign="top">Metric Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>@timestamp</p></td>
<td align="left" valign="top"><p>Event timestamp.</p></td>
<td align="left" valign="top"><p>date</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.application_id</p></td>
<td align="left" valign="top"><p>The application ID</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.dimensions.*</p></td>
<td align="left" valign="top"><p>Azure metric dimensions.</p></td>
<td align="left" valign="top"><p>object</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.app_connections.avg</p></td>
<td align="left" valign="top"><p>The number of bound sockets existing in the sandbox (w3wp.exe and its child processes). A bound socket is created by calling bind()/connect() APIs and remains until said socket is closed with CloseHandle()/closesocket(). For WebApps and FunctionApps..</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.average_memory_working_set.avg</p></td>
<td align="left" valign="top"><p>The average amount of memory used by the app, in MiB. For WebApps and FunctionApps.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>byte</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.bytes_received.total</p></td>
<td align="left" valign="top"><p>The amount of incoming bandwidth consumed by the app, in MiB.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>byte</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.bytes_sent.total</p></td>
<td align="left" valign="top"><p>The amount of outgoing bandwidth consumed by the app, in MiB.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>byte</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.current_assemblies.avg</p></td>
<td align="left" valign="top"><p>The current number of Assemblies loaded across all AppDomains in this application.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.file_system_usage.avg</p></td>
<td align="left" valign="top"><p>Percentage of filesystem quota consumed by the app.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>byte</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.function_execution_count.total</p></td>
<td align="left" valign="top"><p>Function Execution Count. For FunctionApps only.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.function_execution_units.total</p></td>
<td align="left" valign="top"><p>Function Execution Units. For FunctionApps only.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.gen_0_collections.total</p></td>
<td align="left" valign="top"><p>The number of times the generation 0 objects are garbage collected since the start of the app process. Higher generation GCs include all lower generation GCs.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.gen_1_collections.total</p></td>
<td align="left" valign="top"><p>The number of times the generation 1 objects are garbage collected since the start of the app process. Higher generation GCs include all lower generation GCs.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.gen_2_collections.total</p></td>
<td align="left" valign="top"><p>The number of times the generation 2 objects are garbage collected since the start of the app process. Higher generation GCs include all lower generation GCs.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.handles.avg</p></td>
<td align="left" valign="top"><p>The total number of handles currently open by the app process.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.health_check_status.avg</p></td>
<td align="left" valign="top"><p>Health check status.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.http2xx.total</p></td>
<td align="left" valign="top"><p>The count of requests resulting in an HTTP status code &gt;= 200 but &lt; 300.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.http3xx.total</p></td>
<td align="left" valign="top"><p>The count of requests resulting in an HTTP status code &gt;= 300 but &lt; 400.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.http4xx.total</p></td>
<td align="left" valign="top"><p>The count of requests resulting in an HTTP status code &gt;= 400 but &lt; 500.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.http5xx.total</p></td>
<td align="left" valign="top"><p>The count of requests resulting in an HTTP status code &gt;= 500 but &lt; 600.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.http_response_time.avg</p></td>
<td align="left" valign="top"><p>The time taken for the app to serve requests, in seconds.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>s</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.io_other_bytes_per_second.total</p></td>
<td align="left" valign="top"><p>The rate at which the app process is issuing bytes to I/O operations that don&#8217;t involve data, such as control operations. Shown as bytespersecond.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.io_other_operations_per_second.total</p></td>
<td align="left" valign="top"><p>The rate at which the app process is issuing I/O operations that aren&#8217;t read or write operations. Shown as bytespersecond.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.io_read_bytes_per_second.total</p></td>
<td align="left" valign="top"><p>The rate at which the app process is reading bytes from I/O operations. Shown as bytespersecond.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.io_read_operations_per_second.total</p></td>
<td align="left" valign="top"><p>The rate at which the app process is issuing read I/O operations. Shown as bytespersecond.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.io_write_bytes_per_second.total</p></td>
<td align="left" valign="top"><p>The rate at which the app process is writing bytes to I/O operations. Shown as bytespersecond.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.io_write_operations_per_second.total</p></td>
<td align="left" valign="top"><p>The rate at which the app process is issuing write I/O operations. Shown as bytespersecond.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.memory_working_set.avg</p></td>
<td align="left" valign="top"><p>The current amount of memory used by the app, in MiB.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>byte</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.private_bytes.avg</p></td>
<td align="left" valign="top"><p>Private Bytes is the current size, in bytes, of memory that the app process has allocated that can&#8217;t be shared with other processes.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>byte</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.requests.total</p></td>
<td align="left" valign="top"><p>The total number of requests regardless of their resulting HTTP status code.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.requests_inapplication_queue.avg</p></td>
<td align="left" valign="top"><p>The number of requests in the application request queue.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.threads.avg</p></td>
<td align="left" valign="top"><p>The number of threads currently active in the app process.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.total_app_domains.avg</p></td>
<td align="left" valign="top"><p>The current number of AppDomains loaded in this application.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.functions.total_app_domains_unloaded.avg</p></td>
<td align="left" valign="top"><p>The total number of AppDomains unloaded since the start of the application.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.namespace</p></td>
<td align="left" valign="top"><p>The namespace selected</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.resource.group</p></td>
<td align="left" valign="top"><p>The resource group</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.resource.id</p></td>
<td align="left" valign="top"><p>The id of the resource</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.resource.name</p></td>
<td align="left" valign="top"><p>The name of the resource</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.resource.tags.*</p></td>
<td align="left" valign="top"><p>Azure resource tags.</p></td>
<td align="left" valign="top"><p>object</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.resource.type</p></td>
<td align="left" valign="top"><p>The type of the resource</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.subscription_id</p></td>
<td align="left" valign="top"><p>The subscription ID</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>azure.timegrain</p></td>
<td align="left" valign="top"><p>The Azure metric timegrain</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>cloud.image.id</p></td>
<td align="left" valign="top"><p>Image ID for the cloud instance.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.dataset</p></td>
<td align="left" valign="top"><p>Data stream dataset name.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.namespace</p></td>
<td align="left" valign="top"><p>Data stream namespace.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.type</p></td>
<td align="left" valign="top"><p>Data stream type.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>dataset.name</p></td>
<td align="left" valign="top"><p>Dataset name.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>dataset.namespace</p></td>
<td align="left" valign="top"><p>Dataset namespace.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>dataset.type</p></td>
<td align="left" valign="top"><p>Dataset type.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>host.containerized</p></td>
<td align="left" valign="top"><p>If the host is a container.</p></td>
<td align="left" valign="top"><p>boolean</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>host.os.build</p></td>
<td align="left" valign="top"><p>OS build information.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>host.os.codename</p></td>
<td align="left" valign="top"><p>OS codename, if any.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</details>
<div class="position-relative"><h4><a id="azure_functions-changelog"></a>Changelog</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/azure_functions/index.asciidoc">edit</a></div>
<details>
<summary class="title"><span class="strong strong"><strong>Changelog</strong></span></summary>
<div class="content">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Version</th>
<th align="left" valign="top">Details</th>
<th align="left" valign="top">Kibana version(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.8.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10888" class="ulink" target="_top">View pull request</a>)<br>
Allow @custom pipeline access to event.original without setting preserve_original_event.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.7.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10409" class="ulink" target="_top">View pull request</a>)<br>
Add processor support for metrics data stream.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.6.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10162" class="ulink" target="_top">View pull request</a>)<br>
ECS version updated to 8.11.0. Update the kibana constraint to ^8.13.0. Modified the field definitions to remove ECS fields made redundant by the ecs@mappings component template.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.5.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10075" class="ulink" target="_top">View pull request</a>)<br>
Add global filter for dashboards to improve performance.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.4.2</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10142" class="ulink" target="_top">View pull request</a>)<br>
Replace Azure AD with Microsoft Entra ID.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.4.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/9790" class="ulink" target="_top">View pull request</a>)<br>
Remove Add Cloud Metadata flag from agent config.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.4.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/9321" class="ulink" target="_top">View pull request</a>)<br>
Enable secrets for sensitive fields. For more details, refer <a href="/guide/en/fleet/current/agent-policy.html#agent-policy-secret-values" class="ulink" target="_top">https://www.elastic.co/guide/en/fleet/current/agent-policy.html#agent-policy-secret-values</a></p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.3.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/9279" class="ulink" target="_top">View pull request</a>)<br>
Disable secrets for older stack versions due to errors.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.3.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/9009" class="ulink" target="_top">View pull request</a>)<br>
Enable <em>secret</em> for the sensitive fields, supported from 8.12.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.2.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/8423" class="ulink" target="_top">View pull request</a>)<br>
Inline "by reference" visualizations</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.2.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/8170" class="ulink" target="_top">View pull request</a>)<br>
Update the package format_version to 3.0.0.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.1.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/7130" class="ulink" target="_top">View pull request</a>)<br>
Add Azure Functions metrics data stream</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.0.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6417" class="ulink" target="_top">View pull request</a>)<br>
Add Azure Functions logs data stream</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="azure_frontdoor.html">« Azure Frontdoor Logs Integration</a>
</span>
<span class="next">
<a href="azure-adlogs.html">Microsoft Entra ID Logs »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
