<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Microsoft Exchange Online Message Trace | Elastic integrations | Elastic</title>
<meta class="elastic" name="content" content="Microsoft Exchange Online Message Trace | Elastic integrations">

<link rel="home" href="index.html" title="Elastic integrations"/>
<link rel="up" href="microsoft-intro.html" title="Microsoft"/>
<link rel="prev" href="entityanalytics_entra_id.html" title="Microsoft Entra ID Entity Analytics"/>
<link rel="next" href="microsoft_exchange_server.html" title="Microsoft Exchange Server"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Integrations"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Integrations/Reference"/>
<meta name="DC.subject" content="Integrations"/>
<meta name="DC.identifier" content="main"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="entityanalytics_entra_id.html">« Microsoft Entra ID Entity Analytics</a>
</span>
<span class="next">
<a href="microsoft_exchange_server.html">Microsoft Exchange Server »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic integrations</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="microsoft-intro.html">Microsoft</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Microsoft Exchange Online Message Trace</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/microsoft_exchange_online_message_trace/index.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="microsoft_exchange_online_message_trace"></a>Microsoft Exchange Online Message Trace</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/microsoft_exchange_online_message_trace/index.asciidoc">edit</a></div>
</div></div></div>

<div class="condensed-table">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Version</strong></span></p></td>
<td align="left" valign="top"><p>1.26.1 (<a class="xref" href="microsoft_exchange_online_message_trace.html#microsoft_exchange_online_message_trace-changelog" title="Changelog">View all</a>)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Compatible Kibana version(s)</strong></span></p></td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Supported Serverless project types</strong></span><br>
 <a class="xref" href="serverless-support.html" title="Supported Serverless project types"><span class="small">What&#8217;s this?</span></a></p></td>
<td align="left" valign="top"><p>Security<br>
Observability</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Subscription level</strong></span><br>
<a href="/subscriptions" class="ulink" target="_top"><span class="small">What&#8217;s this?</span></a></p></td>
<td align="left" valign="top"><p>Basic</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Level of support</strong></span><br>
<a class="xref" href="support.html" title="Level of support"><span class="small">What&#8217;s this?</span></a></p></td>
<td align="left" valign="top"><p>Elastic</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<p>This integration is for Microsoft Exchange Online Message Trace logs. It includes the following
datasets for receiving logs over the Microsoft Exchange Online Message Trace API or read from a file:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">log</code> dataset: supports Microsoft Exchange Online Message Trace logs.
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="microsoft_exchange_online_message_trace-basic-auth-deprecation-notification"></a>Basic Auth Deprecation notification</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/microsoft_exchange_online_message_trace/index.asciidoc">edit</a></div>
<p>The basic authentication configuration fields have been removed from this integration as Microsoft has deprecated and disabled basic authentication for Exchange Online. See the <a href="https://learn.microsoft.com/en-us/exchange/clients-and-mobile-in-exchange-online/deprecation-of-basic-authentication-exchange-online" class="ulink" target="_top">deprecation notification</a> for details.</p>
<div class="position-relative"><h4><a id="microsoft_exchange_online_message_trace-office-365-account-requirements"></a>Office 365 Account Requirements</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/microsoft_exchange_online_message_trace/index.asciidoc">edit</a></div>
<p>At a minimum, your Office 365 service account should include a role with Message Tracking and View‑Only Recipients permissions, assigned to the Office 365 user account
that will be used for the integration. Assign these permissions using the <a href="https://admin.exchange.microsoft.com" class="ulink" target="_top">Exchange admin center</a>.</p>
<div class="position-relative"><h4><a id="microsoft_exchange_online_message_trace-logs"></a>Logs</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/microsoft_exchange_online_message_trace/index.asciidoc">edit</a></div>
<p>Logs are either gathered via the rest API or via a logfile. <a href="https://docs.microsoft.com/en-us/previous-versions/office/developer/o365-enterprise-developers/jj984335(v=office.15)" class="ulink" target="_top">Log Documentation</a></p>
<div class="position-relative"><h4><a id="microsoft_exchange_online_message_trace-microsoft-exchange-online-message-trace-api"></a>Microsoft Exchange Online Message Trace API</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/microsoft_exchange_online_message_trace/index.asciidoc">edit</a></div>
<p>The <code class="literal">log</code> dataset collects the Microsoft Exchange Online Message Trace logs. To search for ingested logs in Elasticsearch you need to query using <code class="literal">datastream.dataset: microsoft_exchange_online_message_trace.log</code>. This integration will poll the Microsoft Exchange Online Message Trace legacy API (<a href="https://reports.office365.com/ecp/reportingwebservice/reporting.svc/MessageTrace" class="ulink" target="_top">https://reports.office365.com/ecp/reportingwebservice/reporting.svc/MessageTrace</a>) to pull Message Trace logs and ingest them via the ingest pipelines.</p>
<div class="position-relative"><h4><a id="microsoft_exchange_online_message_trace-configuring-with-oauth2"></a>Configuring with OAuth2</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/microsoft_exchange_online_message_trace/index.asciidoc">edit</a></div>
<p>In order to continue using the Microsoft Exchange Online Message Trace you will need to enable and configure OAuth2 authentication via your service app.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>[discrete]
=== Service App Configuration</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure portal</a>, create a Microsoft Entra App (service app) Registration. For details please refer to the official <a href="https://learn.microsoft.com/en-us/entra/identity-platform/howto-create-service-principal-portal" class="ulink" target="_top">Microsoft Documentation</a>.
</li>
<li class="listitem">
In most cases under the <code class="literal">Redirect URI</code> section, you would want to configure the value <code class="literal">Web</code> for the <code class="literal">app type</code> and <code class="literal">http://localhost</code> for the <code class="literal">Redirect URI</code>, unless there are some specific requirements on your end.
</li>
<li class="listitem">
<p>Assign the application at least one Microsoft Entra (Azure AD) role that will enable it to access the Reporting Web Service:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Security Reader
</li>
<li class="listitem">
Global Reader
</li>
</ul>
</div>
</li>
<li class="listitem">
The App Registration should contain the following API permissions: Office 365 Exchange Online &gt; <code class="literal">ReportingWebService.Read.All</code> (application). See <a href="https://learn.microsoft.com/en-gb/previous-versions/office/developer/o365-enterprise-developers/jj984325(v=office.15)#specify-the-permissions-your-app-requires-to-access-the-reporting-web-service" class="ulink" target="_top">Specify the permissions your app requires to access the Reporting Web Service</a>.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>[discrete]
=== Configuring OAuth2 Credentials</p>
<p>Once you have your service app registered and configured, you can now configure your OAuth2 credentials as follows:-</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Generate a client secret for your registered service app. Copy and store the <code class="literal">client secret value</code> with you as this will be required for your OAuth2 credentials.
</li>
<li class="listitem">
<p>Fill in the following fields with the appropriate values from your <code class="literal">configured service app</code>:-</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Client ID</strong></span>: The <code class="literal">client_id</code> of your <code class="literal">service app</code> to pass in the OAuth request parameter.
</li>
<li class="listitem">
<span class="strong strong"><strong>Client secret</strong></span>:  The <code class="literal">client_secret</code>  of your <code class="literal">service app</code> that you generated earlier, to pass in the OAuth request parameter.
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Tenant ID</strong></span>: The Directory ID (tenant identifier) of your <code class="literal">service app</code> in your Microsoft Entra ID(Azure Active Directory).</p>
<p>With these values now configured, the OAuth2 configuration for the integration should be ideally complete. For more details, please check the
official doc for <a href="https://learn.microsoft.com/en-gb/previous-versions/office/developer/o365-enterprise-developers/jj984325(v=office.15)#get-started-with-reporting-web-service" class="ulink" target="_top">Getting Started with Reporting Web Service</a>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="microsoft_exchange_online_message_trace-note"></a>NOTE</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/microsoft_exchange_online_message_trace/index.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For configuring <code class="literal">Local Domains</code> you can check your <a href="https://admin.exchange.microsoft.com/" class="ulink" target="_top">Microsoft Admin Exchange Center</a> for the domains
available in your organization. They are usually under the sections <a href="https://admin.exchange.microsoft.com/" class="ulink" target="_top">https://admin.exchange.microsoft.com/</a><mark>/accepteddomains[Accepted Domains] and <a href="https://admin.exchange.microsoft.com/" class="ulink" target="_top">https://admin.exchange.microsoft.com/</a></mark>/remotedomains[Remote Domains].
</li>
<li class="listitem">
The default <code class="literal">Interval</code> is configured to <code class="literal">1h</code> and <code class="literal">Initial Interval</code> to <code class="literal">48h</code>, you can however change these to your required values. The look-back
value of <code class="literal">Initial Interval</code> should not exceed <code class="literal">200 hours</code> as this might cause unexpected errors with the API.
</li>
<li class="listitem">
The default <code class="literal">Minimum Age</code> is configured to <code class="literal">1h</code>, you can however change these to your required values. The <code class="literal">Minimum Age</code> was introduced to allow a sliding
window to exist in combination with the <code class="literal">Initial Interval</code>. If you do not require a sliding window you can set this to <code class="literal">0s</code> which will cause the <code class="literal">Minimum Age</code> to
always default to the <code class="literal">current time (now)</code>.
</li>
<li class="listitem">
<p>The default <code class="literal">Additional Look-back Time</code> value is configured for <code class="literal">1h</code>.
This is intended to capture events that may not have been initially present due to eventual consistency.
This value does not need to exceed <a href="https://learn.microsoft.com/en-us/previous-versions/office/developer/o365-enterprise-developers/jj984335(v=office.15)#data-granularity-persistence-and-availability" class="ulink" target="_top"><code class="literal">24h</code></a>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
NOTE: The larger this value is, the less likely events will be missed, however, this will cause the integration to take longer to pull all events, making newer events take longer to become present.
</li>
</ul>
</div>
</li>
<li class="listitem">
The default value of <code class="literal">Batch Size</code> is set to 1000. This means for every request Httpjson will paginate with a value of 1000 results per page. The
maximum page size supported by the Message Trace API is <code class="literal">2000</code>. The API will return an empty <code class="literal">value</code> array when there are no more logs to pull and the
pagination will terminate with an error that can be ignored.
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="microsoft_exchange_online_message_trace-logfile-collection"></a>Logfile collection</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/microsoft_exchange_online_message_trace/index.asciidoc">edit</a></div>
<p><span class="strong strong"><strong>Disclaimer:</strong></span>  With basic authentication support now disabled, the PowerShell script provided below will not work as is. However, you can
see the <a href="https://learn.microsoft.com/en-us/powershell/exchange/connect-to-exchange-online-powershell?view=exchange-ps" class="ulink" target="_top">guides here</a> on how
to connect to PowerShell using different authentication techniques using the EXO V2 and V3 modules. With a combination of the script below
and the alternate authentication methods mentioned in the guide, you can possibly perform the logfile collection as usual.</p>
<p>The following sample Powershell script may be used to get the logs and put them into a JSON file that can then be
consumed by the logfile input:</p>
<p>Prerequisites:</p>
<p>Install the Exchange Online Management module by running the following command:</p>
<div class="pre_wrapper lang-powershell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-powershell">Install-Module -Name ExchangeOnlineManagement</pre>
</div>
<p>Import the Exchange Online Management module by running the following command:</p>
<div class="pre_wrapper lang-powershell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-powershell">Import-Module -Name ExchangeOnlineManagement</pre>
</div>
<p>This script would have to be triggered at a certain interval, in accordance with the look-back interval specified.
In this example script, the look back would be 24 hours, so the interval would need to be daily.
According to the <a href="https://learn.microsoft.com/en-us/powershell/module/exchange/get-messagetrace?view=exchange-ps" class="ulink" target="_top">Documentation</a>,
it is only possible to get up to 1k pages. If this should be an issue, try reducing the <code class="literal">$looback</code> or increasing <code class="literal">$pageSize</code>.</p>
<div class="pre_wrapper lang-powershell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-powershell"># Username and Password
$username = "USERNAME@DOMAIN.TLD"
$password = "PASSWORD"
# Lookback in Hours
$lookback = "-24"
# Page Size, should be no problem with 1k
$pageSize = "1000"
# Output of the json file
# This would then be ingested via the integration
$output_location = "C:\temp\messageTrace.json"

$password = ConvertTo-SecureString $password -AsPlainText -Force
$Credential = New-Object System.Management.Automation.PSCredential ($username, $password)
$startDate = (Get-Date).AddHours($lookback)
$endDate = Get-Date

Connect-ExchangeOnline -Credential $Credential
$paginate = 1
$page = 1
$output = @()
while ($paginate -eq 1)
{
    $messageTrace = Get-MessageTrace -PageSize $pageSize -StartDate $startDate -EndDate $endDate -Page $page
    $page
    if (!$messageTrace)
    {
        $paginate = 0
    }
    else
    {
        $page++
        $output = $output + $messageTrace
    }
}
if (Test-Path $output_location)
{
    Remove-Item $output_location
}
foreach ($event in $output)
{
    $event.StartDate = [Xml.XmlConvert]::ToString(($event.StartDate), [Xml.XmlDateTimeSerializationMode]::Utc)
    $event.EndDate = [Xml.XmlConvert]::ToString(($event.EndDate), [Xml.XmlDateTimeSerializationMode]::Utc)
    $event.Received = [Xml.XmlConvert]::ToString(($event.Received), [Xml.XmlDateTimeSerializationMode]::Utc)
    $event = $event | ConvertTo-Json -Compress
    Add-Content $output_location $event -Encoding UTF8
}</pre>
</div>
<details>
<summary class="title"><span class="strong strong"><strong>Example</strong></span></summary>
<div class="content">
<p>An example event for <code class="literal">log</code> looks as following:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
    "@timestamp": "2022-10-21T17:25:30.600Z",
    "agent": {
        "ephemeral_id": "1928ec83-7c3a-4ad0-9066-63dae084a2e1",
        "id": "bd32c689-9c8b-44ea-ae34-b04c1bf3fd7d",
        "name": "elastic-agent-75168",
        "type": "filebeat",
        "version": "8.15.3"
    },
    "data_stream": {
        "dataset": "microsoft_exchange_online_message_trace.log",
        "namespace": "89156",
        "type": "logs"
    },
    "destination": {
        "domain": "contoso.com",
        "registered_domain": "contoso.com",
        "top_level_domain": "com",
        "user": {
            "domain": "contoso.com",
            "email": "linus@contoso.com",
            "id": "linus@contoso.com",
            "name": "linus"
        }
    },
    "ecs": {
        "version": "8.11.0"
    },
    "elastic_agent": {
        "id": "bd32c689-9c8b-44ea-ae34-b04c1bf3fd7d",
        "snapshot": false,
        "version": "8.15.3"
    },
    "email": {
        "attachments": {
            "file": {
                "size": 22704
            }
        },
        "delivery_timestamp": "2022-10-21T17:25:30.6006882Z",
        "from": {
            "address": [
                "noreply@azure.microsoft.com"
            ]
        },
        "local_id": "a6f62809-5cda-4454-0962-08dab38940d6",
        "message_id": "&lt;GVAP278MB037518E76F4082DFE9B607B3DA2D9@GVAP278MB0375.CHEP278.PROD.OUTLOOK.COM&gt;",
        "subject": "testmail 1",
        "to": {
            "address": [
                "linus@contoso.com"
            ]
        }
    },
    "event": {
        "agent_id_status": "verified",
        "category": [
            "email"
        ],
        "created": "2024-11-04T20:39:54.654Z",
        "dataset": "microsoft_exchange_online_message_trace.log",
        "ingested": "2024-11-04T20:39:57Z",
        "original": "{\"EndDate\":\"2022-10-22T09:40:10Z\",\"FromIP\":\"40.107.23.81\",\"Index\":1,\"MessageId\":\"\\u003cGVAP278MB037518E76F4082DFE9B607B3DA2D9@GVAP278MB0375.CHEP278.PROD.OUTLOOK.COM\\u003e\",\"MessageTraceId\":\"a6f62809-5cda-4454-0962-08dab38940d6\",\"Organization\":\"contoso.com\",\"Received\":\"2022-10-21T17:25:30.6006882Z\",\"RecipientAddress\":\"linus@contoso.com\",\"SenderAddress\":\"noreply@azure.microsoft.com\",\"Size\":22704,\"StartDate\":\"2022-10-21T09:40:10Z\",\"Status\":\"Delivered\",\"Subject\":\"testmail 1\",\"ToIP\":null}",
        "outcome": "success",
        "type": [
            "info"
        ]
    },
    "input": {
        "type": "httpjson"
    },
    "microsoft": {
        "online_message_trace": {
            "EndDate": "2022-10-22T09:40:10Z",
            "FromIP": "40.107.23.81",
            "Index": 1,
            "MessageId": "&lt;GVAP278MB037518E76F4082DFE9B607B3DA2D9@GVAP278MB0375.CHEP278.PROD.OUTLOOK.COM&gt;",
            "MessageTraceId": "a6f62809-5cda-4454-0962-08dab38940d6",
            "Organization": "contoso.com",
            "Received": "2022-10-21T17:25:30.6006882Z",
            "RecipientAddress": "linus@contoso.com",
            "SenderAddress": "noreply@azure.microsoft.com",
            "Size": 22704,
            "StartDate": "2022-10-21T09:40:10Z",
            "Status": "Delivered",
            "Subject": "testmail 1"
        }
    },
    "related": {
        "user": [
            "linus@contoso.com",
            "noreply@azure.microsoft.com",
            "linus",
            "noreply"
        ]
    },
    "source": {
        "domain": "azure.microsoft.com",
        "ip": "40.107.23.81",
        "registered_domain": "microsoft.com",
        "subdomain": "azure",
        "top_level_domain": "com",
        "user": {
            "domain": "azure.microsoft.com",
            "email": "noreply@azure.microsoft.com",
            "id": "noreply@azure.microsoft.com",
            "name": "noreply"
        }
    },
    "tags": [
        "preserve_original_event",
        "forwarded"
    ]
}</pre>
</div>
</div>
</details>
<details>
<summary class="title"><span class="strong strong"><strong>Exported fields</strong></span></summary>
<div class="content">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>@timestamp</p></td>
<td align="left" valign="top"><p>Date/time when the event originated. This is the date/time extracted from the event, typically representing when the event was generated by the source. If the event source has no original timestamp, this value is typically populated by the first time the event was received by the pipeline. Required field for all events.</p></td>
<td align="left" valign="top"><p>date</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.dataset</p></td>
<td align="left" valign="top"><p>The field can contain anything that makes sense to signify the source of the data. Examples include <code class="literal">nginx.access</code>, <code class="literal">prometheus</code>, <code class="literal">endpoint</code> etc. For data streams that otherwise fit, but that do not have dataset set we use the value "generic" for the dataset value. <code class="literal">event.dataset</code> should have the same value as <code class="literal">data_stream.dataset</code>. Beyond the Elasticsearch data stream naming criteria noted above, the <code class="literal">dataset</code> value has additional restrictions:   * Must not contain <code class="literal">-</code>   * No longer than 100 characters</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.namespace</p></td>
<td align="left" valign="top"><p>A user defined namespace. Namespaces are useful to allow grouping of data. Many users already organize their indices this way, and the data stream naming scheme now provides this best practice as a default. Many users will populate this field with <code class="literal">default</code>. If no value is used, it falls back to <code class="literal">default</code>. Beyond the Elasticsearch index naming criteria noted above, <code class="literal">namespace</code> value has the additional restrictions:   * Must not contain <code class="literal">-</code>   * No longer than 100 characters</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.type</p></td>
<td align="left" valign="top"><p>An overarching type for the data stream. Currently allowed values are "logs" and "metrics". We expect to also add "traces" and "synthetics" in the near future.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>event.dataset</p></td>
<td align="left" valign="top"><p>Event dataset</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>input.type</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>log.offset</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.EndDate</p></td>
<td align="left" valign="top"><p>This field is used to limit the report period. Use this field in a $filter query option to set the end date and time of the reporting period. If you supply EndDate in the $filter option, you must also supply StartDate. In this report, this field corresponds to the date and time of the last processing step recorded for the message.</p></td>
<td align="left" valign="top"><p>date_nanos</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.FromIP</p></td>
<td align="left" valign="top"><p>The IPv4 or IPv6 address that transmitted the message to the Office 365 email system.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.Index</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.MessageId</p></td>
<td align="left" valign="top"><p>The Internet MessageID header of the message, if one was supplied. This value can also be explicitly null.&lt;/p&gt;&lt;/td&gt;</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.MessageTraceId</p></td>
<td align="left" valign="top"><p>An identifier used to get the detailed message transfer trace information.&lt;/p&gt;&lt;/td&gt;</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.Organization</p></td>
<td align="left" valign="top"><p>The fully qualified domain name that was processing the email.&lt;/p&gt;&lt;/td&gt;</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.Received</p></td>
<td align="left" valign="top"><p>The date and time when the email was received by the Office 365 email system. This corresponds to the Date field of the first message trace detail entry.&lt;/p&gt;&lt;/td&gt;</p></td>
<td align="left" valign="top"><p>date_nanos</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.RecipientAddress</p></td>
<td align="left" valign="top"><p>The SMTP email address of the user that the message was addressed to.&lt;/p&gt;&lt;/td&gt;</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.SenderAddress</p></td>
<td align="left" valign="top"><p>The SMTP email address of the user the message was purportedly from. Because sender addresses are commonly spoofed in spam email, they are not considered completely reliable.&lt;/p&gt;&lt;/td&gt;</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.Size</p></td>
<td align="left" valign="top"><p>The size of the message, in bytes.</p></td>
<td align="left" valign="top"><p>long</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.StartDate</p></td>
<td align="left" valign="top"><p>This field is used to limit the report period. Use this field in a $filter query option to set the start date and time of the reporting period. If you provide a StartDate in the $filter option, you must also specify an EndDate. In this report, this field corresponds to the date and time of the first processing step recorded for the message.&lt;/p&gt;&lt;/td&gt;</p></td>
<td align="left" valign="top"><p>date_nanos</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.Status</p></td>
<td align="left" valign="top"><p>The status of the message in the Office 365 email system. This corresponds to the Detail field of the last processing step recorded for the message.&lt;/p&gt;&lt;/td&gt;</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.Subject</p></td>
<td align="left" valign="top"><p>The subject line of the message, if one was present for the message.&lt;/p&gt;&lt;/td&gt;</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>microsoft.online_message_trace.ToIP</p></td>
<td align="left" valign="top"><p>The IPv4 or IPv6 address that the Office 365 email system sent the message to.&lt;/p&gt;&lt;/td&gt;</p></td>
<td align="left" valign="top"><p>keyword</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</details>
<div class="position-relative"><h4><a id="microsoft_exchange_online_message_trace-changelog"></a>Changelog</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/microsoft_exchange_online_message_trace/index.asciidoc">edit</a></div>
<details>
<summary class="title"><span class="strong strong"><strong>Changelog</strong></span></summary>
<div class="content">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Version</th>
<th align="left" valign="top">Details</th>
<th align="left" valign="top">Kibana version(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.26.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/12781" class="ulink" target="_top">View pull request</a>)<br>
Updated SSL description in package manifest.yml to be uniform and to include links to documentation.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.26.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/12503" class="ulink" target="_top">View pull request</a>)<br>
Allow the usage of deprecated log input and support for stack 9.0</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.25.3</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/12446" class="ulink" target="_top">View pull request</a>)<br>
Remove incorrect use of <code class="literal">event.start</code>, <code class="literal">event.end</code>.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.25.2</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/12292" class="ulink" target="_top">View pull request</a>)<br>
Fix handling of SenderAddress where the value is <em>&lt;&gt;</em>.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.25.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/12239" class="ulink" target="_top">View pull request</a>)<br>
Added the <em>end_interval</em> input parameter to support sliding window logic with updates to some default values.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.25.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/12076" class="ulink" target="_top">View pull request</a>)<br>
Do not remove <code class="literal">event.original</code> in main ingest pipeline.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.24.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/12046" class="ulink" target="_top">View pull request</a>)<br>
Add "preserve_original_event" tag to documents with <code class="literal">event.kind</code> set to "pipeline_error".</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.23.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/11956" class="ulink" target="_top">View pull request</a>)<br>
Improve document fingerprinting resolution.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.23.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10684" class="ulink" target="_top">View pull request</a>)<br>
Add <code class="literal">event.category</code> and <code class="literal">event.type</code> to all events.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.22.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/10547" class="ulink" target="_top">View pull request</a>)<br>
Clarify configuration documentation.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.22.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10135" class="ulink" target="_top">View pull request</a>)<br>
Update the kibana constraint to ^8.13.0. Modified the field definitions to remove ECS fields made redundant by the ecs@mappings component template.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.21.2</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/10172" class="ulink" target="_top">View pull request</a>)<br>
Fix template to not fail without local domains.</p>
</td>
<td align="left" valign="top"><p>8.12.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.21.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/10136" class="ulink" target="_top">View pull request</a>)<br>
Fix sample event.</p>
</td>
<td align="left" valign="top"><p>8.12.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.21.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10120" class="ulink" target="_top">View pull request</a>)<br>
Make <code class="literal">event.outcome</code> field conform to ECS field definition.</p>
</td>
<td align="left" valign="top"><p>8.12.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.20.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/9974" class="ulink" target="_top">View pull request</a>)<br>
Improve handling of empty responses.</p>
</td>
<td align="left" valign="top"><p>8.12.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.19.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/9127" class="ulink" target="_top">View pull request</a>)<br>
Set sensitive values as secret.</p>
</td>
<td align="left" valign="top"><p>8.12.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.18.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/8943" class="ulink" target="_top">View pull request</a>)<br>
Changed owners</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.18.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/8717" class="ulink" target="_top">View pull request</a>)<br>
Add ability to configure addition look-back time.</p>
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/8717" class="ulink" target="_top">View pull request</a>)<br>
Fix issue with cursor potentially causing data gaps.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.17.2</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/8635" class="ulink" target="_top">View pull request</a>)<br>
Fix exclude_files pattern.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.17.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/8657" class="ulink" target="_top">View pull request</a>)<br>
Updated httpjson template to fix a breaking issue due to an extra <em>]</em> present. Updated tests parameters to suit the change.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.17.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/8550" class="ulink" target="_top">View pull request</a>)<br>
Updated httpjson template to parse data correctly, reworked the documentation and updated the default template values.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.16.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/8489" class="ulink" target="_top">View pull request</a>)<br>
Limit request tracer log count to five.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.15.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/8434" class="ulink" target="_top">View pull request</a>)<br>
ECS version updated to 8.11.0.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.14.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/8269" class="ulink" target="_top">View pull request</a>)<br>
Improve <em>event.original</em> check to avoid errors if set.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.13.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/8130" class="ulink" target="_top">View pull request</a>)<br>
Cleaned up documentation and fixed the default values for scope &amp; login_url.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.13.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/7919" class="ulink" target="_top">View pull request</a>)<br>
ECS version updated to 8.10.0.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.12.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/7883" class="ulink" target="_top">View pull request</a>)<br>
The format_version in the package manifest changed from 2.11.0 to 3.0.0. Removed dotted YAML keys from package manifest. Added <em>owner.type: elastic</em> to package manifest.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.11.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/7789" class="ulink" target="_top">View pull request</a>)<br>
Add tags.yml file so that integration&#8217;s dashboards and saved searches are tagged with "Security Solution" and displayed in the Security Solution UI.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.10.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/7110" class="ulink" target="_top">View pull request</a>)<br>
Update package to ECS 8.9.0.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.9.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6992" class="ulink" target="_top">View pull request</a>)<br>
Document duration units.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.8.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/7128" class="ulink" target="_top">View pull request</a>)<br>
Update package-spec to 2.9.0.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.7.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6931" class="ulink" target="_top">View pull request</a>)<br>
Convert dashboards to Lens.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.6.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6706" class="ulink" target="_top">View pull request</a>)<br>
Document valid duration units.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.5.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6661" class="ulink" target="_top">View pull request</a>)<br>
Ensure event.kind is correctly set for pipeline errors.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.4.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6327" class="ulink" target="_top">View pull request</a>)<br>
Update package to ECS 8.8.0.</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.3.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6115" class="ulink" target="_top">View pull request</a>)<br>
Add a new flag to enable request tracing</p>
</td>
<td align="left" valign="top"><p>8.7.1 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.2.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/5765" class="ulink" target="_top">View pull request</a>)<br>
Update package to ECS 8.7.0.</p>
</td>
<td align="left" valign="top"><p>8.0.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.1.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/5775" class="ulink" target="_top">View pull request</a>)<br>
Deprecated basic auth fields and added support for OAuth2.</p>
</td>
<td align="left" valign="top"><p>8.0.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.0.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/5677" class="ulink" target="_top">View pull request</a>)<br>
Release Microsoft Exchange Online Message Trace as GA.</p>
</td>
<td align="left" valign="top"><p>8.0.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.4.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/5123" class="ulink" target="_top">View pull request</a>)<br>
Added categories and/or subcategories.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.4.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/5318" class="ulink" target="_top">View pull request</a>)<br>
Added the ability to configure request.timeout</p>
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/5318" class="ulink" target="_top">View pull request</a>)<br>
Add Missing event.created and event.start ECS mappings</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.3.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/5159" class="ulink" target="_top">View pull request</a>)<br>
Retain original data in structured format.</p>
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/5159" class="ulink" target="_top">View pull request</a>)<br>
Map fields to ECS.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.2.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/4576" class="ulink" target="_top">View pull request</a>)<br>
Update package to ECS 8.6.0.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.1.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/4285" class="ulink" target="_top">View pull request</a>)<br>
Update package to ECS 8.5.0.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.0.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/4135" class="ulink" target="_top">View pull request</a>)<br>
Initial draft of the package for Microsoft Exchange Online Message Trace logs</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="entityanalytics_entra_id.html">« Microsoft Entra ID Entity Analytics</a>
</span>
<span class="next">
<a href="microsoft_exchange_server.html">Microsoft Exchange Server »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
