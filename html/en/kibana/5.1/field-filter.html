<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Filtering by Field | Kibana User Guide [5.1] | Elastic</title>
<link rel="home" href="index.html" title="Kibana User Guide [5.1]"/>
<link rel="up" href="discover.html" title="Discover"/>
<link rel="prev" href="search.html" title="Searching Your Data"/>
<link rel="next" href="document-data.html" title="Viewing Document Data"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/5.1"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="5.1"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.1 of Kibana has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Kibana User Guide [5.1]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="discover.html">Discover</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="search.html">« Searching Your Data</a>
</span>
<span class="next">
<a href="document-data.html">Viewing Document Data »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="field-filter"></a>Filtering by Field<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/5.1/docs/discover/field-filter.asciidoc">edit</a></h2>
</div></div></div>
<p>You can filter the search results to display only those documents that contain
a particular value in a field. You can also create negative filters that
exclude documents that contain the specified field value.</p>
<p>You add field filters from the Fields list or the Documents table. In addition
to creating positive and negative filters, the Documents table enables you to
filter on whether or not a field is present. The applied
filters are shown below the Query bar. Negative filters are shown in red.</p>
<p>To add a filter from the Fields list:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Click the name of the field you want to filter on. This displays the top
five values for that field.</p>
<div class="imageblock">
<div class="content">
<img src="images/filter-field.jpg" alt="filter field">
</div>
</div>
</li>
<li class="listitem">
To add a positive filter, click the <span class="strong strong"><strong>Positive Filter</strong></span> button
<span class="image"><img src="images/PositiveFilter.jpg" alt="Positive Filter"></span>.
This includes only those documents that contain that value in the field.
</li>
<li class="listitem">
To add a negative filter, click the <span class="strong strong"><strong>Negative Filter</strong></span> button
<span class="image"><img src="images/NegativeFilter.jpg" alt="Negative Filter"></span>.
This excludes documents that contain that value in the field.
</li>
</ol>
</div>
<p>To add a filter from the Documents table:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Expand a document in the Documents table by clicking the <span class="strong strong"><strong>Expand</strong></span> button
<span class="image"><img src="images/ExpandButton.jpg" alt="Expand Button"></span> to the left of the document&#8217;s
table entry.</p>
<div class="imageblock">
<div class="content">
<img src="images/Expanded-Document.png" alt="Expanded Document">
</div>
</div>
</li>
<li class="listitem">
To add a positive filter, click the <span class="strong strong"><strong>Positive Filter</strong></span> button
<span class="image"><img src="images/PositiveFilter.jpg" alt="Positive Filter Button"></span> to the right of the
field name. This includes only those documents that contain that value in the
field.
</li>
<li class="listitem">
To add a negative filter, click the <span class="strong strong"><strong>Negative Filter</strong></span> button
<span class="image"><img src="images/NegativeFilter.jpg" alt="Negative Filter Button"></span> to the right of the
field name. This excludes documents that contain that value in the field.
</li>
<li class="listitem">
To filter on whether or not documents contain the field, click the
<span class="strong strong"><strong>Exists</strong></span> button <span class="image"><img src="images/ExistsButton.jpg" alt="Exists Button"></span> to the right of the
field name. This includes only those documents that contain the field.
</li>
</ol>
</div>
<h3><a id="filter-pinning"></a>Managing Filters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/5.1/docs/discover/field-filter.asciidoc">edit</a></h3>
<p>To modify a filter, hover over it and click one of the action buttons.</p>
<div class="imageblock">
<div class="content">
<img src="images/filter-allbuttons.png" alt="filter allbuttons">
</div>
</div>
<p>&nbsp;</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="image"><img src="images/filter-enable.png" alt="filter enable"></span> Enable Filter
</span>
</dt>
<dd>
Disable the filter without
removing it. Click again to reenable the filter. Diagonal stripes indicate
that a filter is disabled.
</dd>
<dt>
<span class="term">
<span class="image"><img src="images/filter-pin.png" alt="filter pin"></span> Pin Filter
</span>
</dt>
<dd>
Pin the filter. Pinned filters
persist when you switch contexts in Kibana. For example, you can pin a filter
in Discover and it remains in place when you switch to Visualize.
Note that a filter is based on a particular index field&#8212;&#8203;if the indices being
searched don&#8217;t contain the field in a pinned filter, it has no effect.
</dd>
<dt>
<span class="term">
<span class="image"><img src="images/filter-toggle.png" alt="filter toggle"></span> Toggle Filter
</span>
</dt>
<dd>
Switch from a positive
filter to a negative filter and vice-versa.
</dd>
<dt>
<span class="term">
<span class="image"><img src="images/filter-delete.png" alt="filter delete"></span> Remove Filter
</span>
</dt>
<dd>
Remove the filter.
</dd>
<dt>
<span class="term">
<span class="image"><img src="images/filter-custom.png" alt="filter custom"></span> Edit Filter
</span>
</dt>
<dd>
<a class="xref" href="field-filter.html#filter-edit" title="Editing a Filter">Edit the
filter</a> definition.  Enables you to manually update the filter query and
specify a label for the filter.
</dd>
</dl>
</div>
<p>To apply a filter action to all of the applied filters,
click <span class="strong strong"><strong>Actions</strong></span> and select the action.</p>
<h3><a id="filter-edit"></a>Editing a Filter<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/5.1/docs/discover/field-filter.asciidoc">edit</a></h3>
<p>You can edit a filter to directly modify the filter query that is performed
to filter your search results. This enables you to create more complex
filters that are based on multiple fields.</p>
<div class="imageblock">
<div class="content">
<img src="images/filter-custom-json.png" alt="filter custom json">
</div>
</div>
<p>&nbsp;</p>
<p>For example, you could use a <a href="/guide/en/elasticsearch/reference/5.1//query-dsl-bool-query.html" class="ulink" target="_top">bool query</a>
to create a filter for the sample log data that displays the hits that
originated from Canada or China that resulted in a 404 error:</p>
<div class="exampleblock">
<div class="content">
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "bool": {
    "should": [
      {
        "term": {
          "geoip.country_name.raw": "Canada"
        }
      },
      {
        "term": {
          "geoip.country_name.raw": "China"
        }
      }
    ],
    "must": [
      {
        "term": {
          "response": "404"
        }
      }
    ]
  }
}</pre>
</div>
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="search.html">« Searching Your Data</a>
</span>
<span class="next">
<a href="document-data.html">Viewing Document Data »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
