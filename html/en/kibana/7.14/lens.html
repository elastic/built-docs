<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<meta name="description" content="Consider the production components that are used to generate reports.">
<meta name="keywords" content="administrator, analyst, concept, setup, reporting">
<title>Lens | Kibana Guide [7.14] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.14]"/>
<link rel="up" href="aggregation-reference.html" title="Create panels with editors"/>
<link rel="prev" href="aggregation-reference.html" title="Create panels with editors"/>
<link rel="next" href="tsvb.html" title="TSVB"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.14"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.14"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="dashboard.html">Dashboard</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="aggregation-reference.html">Create panels with editors</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="aggregation-reference.html">« Create panels with editors</a>
</span>
<span class="next">
<a href="tsvb.html">TSVB »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="lens"></a>Lens<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.14/docs/user/dashboard/lens.asciidoc">edit</a></h2>
</div></div></div>
<p>To create visualization panels with <span class="strong strong"><strong>Lens</strong></span>, you drag the data fields you want to visualize to the workspace, then <span class="strong strong"><strong>Lens</strong></span> uses heuristics to apply each field and create a visualization for you.</p>
<p>With <span class="strong strong"><strong>Lens</strong></span>, you can:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Create area, line, and bar charts with multiple layers, indices, and visualization types.
</li>
<li class="listitem">
Change the aggregation function and labels to customize the data.
</li>
<li class="listitem">
Perform math on aggregations using <span class="strong strong"><strong>Formula</strong></span>.
</li>
<li class="listitem">
Use time shifts to compare data for two time intervals, such as month over month.
</li>
</ul>
</div>
<script type="text/javascript" async
src="https://play.vidyard.com/embed/v4.js"></script>
<img
style="width: 100%; margin: auto; display: block;"
class="vidyard-player-embed"
src="https://play.vidyard.com/vVJ69WCgUwGNJSDqjPZbaV.jpg"
data-uuid="vVJ69WCgUwGNJSDqjPZbaV"
data-v="4"
data-type="inline"
/>
</br>
<h4><a id="create-the-visualization-panel"></a>Create visualizations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.14/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>If you&#8217;re unsure about the visualization type you want to use, or how you want to display the data, drag the fields you want to visualize onto the workspace, then let <span class="strong strong"><strong>Lens</strong></span> choose for you.</p>
<p>If you already know the visualization type you want to use, and how you want to display the data, use the following process:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Choose the visualization type.</strong></span> Open the <span class="strong strong"><strong>Chart type</strong></span> dropdown, then select the visualization type before you drag any fields.</p>
<p>To view more visualizations that <span class="strong strong"><strong>Lens</strong></span> automatically created for the fields, click the <span class="strong strong"><strong>Suggestions</strong></span>. If one of the <span class="strong strong"><strong>Suggestions</strong></span> meets your visualization needs, click <span class="strong strong"><strong>Save and return</strong></span> to add it to the dashboard.</p>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Choose the data you want to visualize.</strong></span> Drag the fields directly to the layer pane. <span class="strong strong"><strong>Lens</strong></span> automatically selects the aggregation function.</p>
<p>If you want to learn more about the data a field contains, click <span class="strong strong"><strong>i</strong></span> next to the field.</p>
</li>
<li class="listitem">
<span class="strong strong"><strong>Edit and delete.</strong></span> To change the <span class="strong strong"><strong>Quick function</strong></span> and display options, click the field in the layer pane. To delete a field, close the configuration options, then click <span class="strong strong"><strong>X</strong></span> next to the field.
</li>
</ul>
</div>
<h4><a id="change-the-fields"></a>Change the fields list<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.14/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Change the fields list to display a different index pattern, different time range, or add your own fields.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To create a visualization with fields in a different index pattern, open the <span class="strong strong"><strong>Change index pattern</strong></span> dropdown, then select the index pattern.
</li>
<li class="listitem">
If the fields list is empty, change the <a class="xref" href="set-time-filter.html" title="Set the time range">time filter</a>.
</li>
<li class="listitem">
<p>To add fields, open the action menu (<span class="strong strong"><strong>&#8230;&#8203;</strong></span>) next to the <span class="strong strong"><strong>Change index pattern</strong></span> dropdown, then select <span class="strong strong"><strong>Add field to index pattern</strong></span>.</p>
<p class="screenshot"><span class="image"><img src="images/runtime-field-menu.png" alt="Dropdown menu located next to index pattern field with items for adding and managing fields" width="50%"></span></p>
<p>For more information about adding fields to index patterns and examples, refer to <a class="xref" href="managing-index-patterns.html#runtime-fields" title="Explore your data with runtime fields">Explore your data with runtime fields</a>.</p>
</li>
</ul>
</div>
<h4><a id="lens-formulas"></a>Use formulas to perform math<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.14/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Formulas allow you to perform math on aggregated data. The most common formulas divide two values to produce a percent.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click a field.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Formula</strong></span>, then enter the formula.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Filter ratio example
</span>
</dt>
<dd>
<p>
Use <code class="literal">kql=''</code> to filter one set of documents, then compare the document set to other documents within the same grouping:
</p>
<p>See how the error rate changes over time:</p>
<pre class="screen">count(kql='response.status_code &gt; 400') / count()</pre>
</dd>
<dt>
<span class="term">
Week over week example
</span>
</dt>
<dd>
<p>
Use <code class="literal">shift='1w'</code> to get the value of each grouping from the previous week. Time shift should not be used with the <span class="strong strong"><strong>Top values</strong></span> function.
</p>
<pre class="screen">percentile(system.network.in.bytes, percentile=99) /
percentile(system.network.in.bytes, percentile=99, shift='1w')</pre>
</dd>
<dt>
<span class="term">
Percent of total example
</span>
</dt>
<dd>
<p>
Formulas can calculate <code class="literal">overall_sum</code> for all the groupings,
which lets you convert each grouping into a percent of total:
</p>
<pre class="screen">sum(products.base_price) / overall_sum(sum(products.base_price))</pre>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>For detailed information on formulas, click <span class="image"><img src="dashboard/images/formula_reference.png" alt="Formula reference icon"></span>.</p>
</div>
</div>
</dd>
</dl>
</div>
</li>
<li class="listitem">
To accurately display the formula, select <span class="strong strong"><strong>Percent</strong></span> from the <span class="strong strong"><strong>Value format</strong></span> dropdown.
</li>
</ol>
</div>
<h4><a id="compare-data-with-time-offsets"></a>Compare differences over time<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.14/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Compare your real-time data set to the results that are offset by a time increment. For example, you can compare the real-time percentage of a user CPU time spent to the results offset by one hour.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click the field you want to offset.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Add advanced options</strong></span> dropdown, select <span class="strong strong"><strong>Time shift</strong></span>.
</li>
<li class="listitem">
Select the time offset increment.
</li>
</ol>
</div>
<p>For a time shift example, refer to <a class="xref" href="create-a-dashboard-of-panels-with-ecommerce-data.html#compare-time-ranges" title="Compare time ranges">Compare time ranges</a>.</p>
<h4><a id="create-custom-tables"></a>Create custom tables<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.14/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p><span class="strong strong"><strong>Lens</strong></span> tables are highly customizable, and provide you with text alignment, value formatting, coloring options, and more.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the <span class="strong strong"><strong>Chart type</strong></span> dropdown, select <span class="strong strong"><strong>Table</strong></span>.
</li>
<li class="listitem">
Drag the fields you want to visualize to the workspace.
</li>
<li class="listitem">
<p>To sort or hide the columns, click the arrow next to the column heading, then select an option.</p>
<p>All columns that belong to the same layer pane group are sorted in the table.</p>
</li>
<li class="listitem">
<p>To change the display options, click a <span class="strong strong"><strong>Metrics</strong></span> field, then configure the following options:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Display name</strong></span> &mdash; Specifies the field display name.
</li>
<li class="listitem">
<span class="strong strong"><strong>Value format</strong></span> &mdash; Specifies how the field value displays in the table.
</li>
<li class="listitem">
<span class="strong strong"><strong>Text alignment</strong></span> &mdash; Aligns the values in the cell to the <span class="strong strong"><strong>Left</strong></span>, <span class="strong strong"><strong>Center</strong></span>, or <span class="strong strong"><strong>Right</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Hide column</strong></span> &mdash; Hides the column for the field.
</li>
<li class="listitem">
<span class="strong strong"><strong>Summary row</strong></span> &mdash; Adds a row that displays the summary value. When specified, allows you to enter a <span class="strong strong"><strong>Summary label</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Color by value</strong></span> &mdash; Applies color to the cell or text values. To change the color, click <span class="strong strong"><strong>Edit</strong></span>.
</li>
</ul>
</div>
</li>
</ol>
</div>
<h4><a id="drag-and-drop-keyboard-navigation"></a>Create visualizations with keyboard navigation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.14/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>To use a keyboard instead of a mouse, use the <span class="strong strong"><strong>Lens</strong></span> fully accessible and continuously improved drag system.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_drag_drop_1.gif" alt="Presented Lens drag and drop">
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Select the field in the fields list or layer pane. Most fields have an inner and outer select state. The inner state opens a panel with detailed information or options.
The outer state allows you to drag the field. Tab through the fields until you get the outer state on the field.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_drag_drop_2.png" alt="Lens drag and drop focus state">
</div>
</div>
</li>
<li class="listitem">
<p>Complete the following actions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To select a field, press Space bar.
</li>
<li class="listitem">
To select where you want to drop the field, use the Left and Right arrows.
</li>
<li class="listitem">
To reorder the fields on the layer pane, use the Up and Down arrows.
</li>
<li class="listitem">
<p>To duplicate an action, use the Left and Right arrows, then select the <span class="strong strong"><strong>Drop a field or click to add</strong></span> field you want to use.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_drag_drop_3.gif" alt="Using drag and drop to reorder">
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="listitem">
To confirm the action, press Space bar. To cancel, press Esc.
</li>
</ol>
</div>
<h4><a id="configure-the-visualization-components"></a>Configure the visualization components<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.14/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Each visualiztion type comes with a set of components that you can configure, such as data labels, legend, axes, and more.</p>
<p>For example, to add data labels to bar and horizontal bar charts, use the <span class="strong strong"><strong>Values</strong></span> menu.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_value_labels_xychart_toggle.png" alt="Lens Bar chart value labels menu">
</div>
</div>
<p>To add data labels to pie charts, donut charts, or treemaps, use the <span class="strong strong"><strong>Labels</strong></span> menu.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_value_labels_partition_toggle.png" alt="Lens Pie chart value labels menu">
</div>
</div>
<h4><a id="filter-the-data"></a>Filter the data<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.14/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Apply filters to visualizations directly from the values in the legend. Only <span class="strong strong"><strong>Bar</strong></span>, <span class="strong strong"><strong>Line and area</strong></span>, and <span class="strong strong"><strong>Proportion</strong></span> visualizations support legend filters.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the legend, click the field.
</li>
<li class="listitem">
<p>Choose one of the following options:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Filter for value</strong></span> &mdash; Applies a filter that displays only the field data in the visualization.
</li>
<li class="listitem">
<span class="strong strong"><strong>Filter out value</strong></span> &mdash; Applies a filter that removes the field data from the visualization.
</li>
</ul>
</div>
</li>
</ol>
</div>
<h4><a id="lens-faq"></a>Frequently asked questions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.14/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>For answers to common <span class="strong strong"><strong>Lens</strong></span> questions, review the following.</p>
<details id="kql">
<summary class="title"><span class="strong strong"><strong>When should I use KQL filters, the Filters function, or the Filter by option?</strong></span></summary>
<div class="content">
<p>Use the <a class="xref" href="kibana-concepts-analysts.html#semi-structured-search" title="Semi-structured search">KQL <span class="strong strong"><strong>Search</strong></span></a> field to focus on a known set of data for the entire visualization. You can combine KQL filters with other filters using AND logic.</p>
<p>Use the <span class="strong strong"><strong>Filters</strong></span> function to apply:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
More than one KQL filter.
</li>
<li class="listitem">
The KQL filter to a single layer, which allows you to visualize filtered and unfiltered data.
</li>
</ul>
</div>
<p>Use the <span class="strong strong"><strong>Filter by</strong></span> advanced option to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Assign a custom color to each filter group in a bar, line, or area chart.
</li>
<li class="listitem">
Build a complex table. For example, to display the failure rate and overall data.
</li>
</ul>
</div>
</div>
</details>
<details id="when-should-i-normalize-the-data-by-unit-or-use-a-custom-interval">
<summary class="title"><span class="strong strong"><strong>When should I normalize the data by unit or use a custom interval?</strong></span></summary>
<div class="content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Normalize by unit</strong></span> &mdash; Calculates the average for the interval. When you normalize the data by unit, the data appears less granular, but <span class="strong strong"><strong>Lens</strong></span> is able to calculate the data faster.
</li>
<li class="listitem">
<span class="strong strong"><strong>Customize time interval</strong></span> &mdash; Creates a bucket for each interval. When you customize the time interval, you can use a large time range, but <span class="strong strong"><strong>Lens</strong></span> calculates the data slower.
</li>
</ul>
</div>
<p>To normalize the interval:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click a field.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add advanced options &gt; Normalize by unit</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Normalize by unit</strong></span> dropdown, select an option, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
<p>To create a custom interval:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click a field.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Customize time interval</strong></span>.
</li>
<li class="listitem">
Change the <span class="strong strong"><strong>Minimum interval</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</div>
</details>
<details id="what-is-the-other-category">
<summary class="title"><span class="strong strong"><strong>What data is categorized as Other?</strong></span></summary>
<div class="content">
<p>The <span class="strong strong"><strong>Other</strong></span> category contains all of the documents that do not match the specified criteria or filters.
Use <span class="strong strong"><strong>Other</strong></span> when you want to compare a value, or multiple values, to a whole.</p>
<p>By default, <span class="strong strong"><strong>Group other values as "Other"</strong></span> is enabled when you use the <span class="strong strong"><strong>Top values</strong></span> function.</p>
<p>To disable <span class="strong strong"><strong>Group other values as "Other"</strong></span>, click a field in the layer pane, click <span class="strong strong"><strong>Advanced</strong></span>, then deselect <span class="strong strong"><strong>Group other values as "Other"</strong></span>.</p>
</div>
</details>
<details id="how-can-i-include-documents-without-the-field-in-the-operation">
<summary class="title"><span class="strong strong"><strong>How do I add documents without a field?</strong></span></summary>
<div class="content">
<p>By default, <span class="strong strong"><strong>Lens</strong></span> retrieves only the documents from the fields.
For bucket aggregations, such as <span class="strong strong"><strong>Top values</strong></span>, you can add documents that do not contain the fields,
which is helpful when you want to make a comparison to the whole documentation set.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click a field.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Advanced</strong></span>, then select <span class="strong strong"><strong>Include documents without this field</strong></span>.
</li>
</ol>
</div>
</div>
</details>
<details id="when-do-i-use-runtime-fields-vs-formula">
<summary class="title"><span class="strong strong"><strong>When do I use runtime fields vs. formula?</strong></span></summary>
<div class="content">
<p>Use runtime fields to format, concatenate, and extract document-level fields. Runtime fields work across all of Kibana and are best used for smaller computations without compromising performance.</p>
<p>Use formulas to compare multiple Elasticsearch aggregations that can be filtered or shifted in time. Formulas apply only to <span class="strong strong"><strong>Lens</strong></span> panels and are computationally intensive.</p>
</div>
</details>
<details id="is-it-possible-to-have-more-than-one-Y-axis-scale">
<summary class="title"><span class="strong strong"><strong>Can I add more than one y-axis scale to a visualization?</strong></span></summary>
<div class="content">
<p>For each y-axis, you can select <span class="strong strong"><strong>Left</strong></span> and <span class="strong strong"><strong>Right</strong></span>, and configure a different scale.</p>
</div>
</details>
<details id="why-is-my-value-with-the-right-color-using-value-based-coloring">
<summary class="title"><span class="strong strong"><strong>Why is my value the incorrect color when I use value-based coloring?</strong></span></summary>
<div class="content">
<p>Here&#8217;s a short list of few different aspects to check:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make sure the value falls within the desired color stop value defined in the panel. Color stop values are "inclusive".
</li>
<li class="listitem">
Make sure you have the correct value precision setup. Value formatters could round the numeric values up or down.
</li>
<li class="listitem">
Make sure the correct color continuity option is selected. If the number is below the first color stop value, a continuity of type <code class="literal">Below</code> or <code class="literal">Above and below range</code> is required.
</li>
<li class="listitem">
<p>The default values set by the Value type are based on the current data range displayed in the data table.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If a custom <code class="literal">Number</code> configuration is used, check that the color stop values are covering the current data range.
</li>
<li class="listitem">
If a <code class="literal">Percent</code> configuration is used, and the data range changes, the colors displayed are affected.
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</details>
<details id="can-i-sort-by-multiple-columns">
<summary class="title"><span class="strong strong"><strong>How do I sort by multiple columns?</strong></span></summary>
<div class="content">
<p>Multiple column sorting is unsupported, but is supported in <span class="strong strong"><strong>Discover</strong></span>. For information on how to sort multiple columns in <span class="strong strong"><strong>Discover</strong></span>,
refer to <a class="xref" href="discover.html#explore-fields-in-your-data" title="Explore the fields in your data">Explore the fields in your data</a>.</p>
</div>
</details>
<details id="why-my-field-is-missing-from-the-fields-list">
<summary class="title"><span class="strong strong"><strong>Why is my field missing from the fields list?</strong></span></summary>
<div class="content">
<p>Fields do not appear in the <span class="strong strong"><strong>Available fields</strong></span> in the following scenarios:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The field is a full-text field.
</li>
<li class="listitem">
The field is a <code class="literal">geo_point</code> field
</li>
<li class="listitem">
The field is a <code class="literal">flattened</code> field.
</li>
<li class="listitem">
The field is a <code class="literal">object</code> field.
</li>
</ul>
</div>
<p>Verify if the field appears in the <span class="strong strong"><strong>Empty fields</strong></span> list. <span class="strong strong"><strong>Lens</strong></span> uses heuristics to determine if the fields contain values. For sparse data sets, the heuristics are less precise.</p>
</div>
</details>
<details id="how-to-handle-gaps-in-time-series-visualizations">
<summary class="title"><span class="strong strong"><strong>What do I do with gaps in time series visualizations?</strong></span></summary>
<div class="content">
<p>When you create <span class="strong strong"><strong>Area</strong></span> and <span class="strong strong"><strong>Line</strong></span> charts with sparse time series data, open <span class="strong strong"><strong>Visual options</strong></span> in the editor toolbar, then select a <span class="strong strong"><strong>Missing values</strong></span> option.</p>
</div>
</details>
<details id="is-it-possible-to-change-the-scale-of-Y-axis">
<summary class="title"><span class="strong strong"><strong>Can I statically define the y-axis scale?</strong></span></summary>
<div class="content">
<p>You can set the scale, or <em>bounds</em>, for area, bar, and line charts. You can configure the bounds for all functions, except <span class="strong strong"><strong>Percentile</strong></span>. Logarithmic scales are unsupported.</p>
<p>To configure the bounds, use the menus in the editor toolbar. Bar and area charts required 0 in the scale between <span class="strong strong"><strong>Lower bound</strong></span> and <span class="strong strong"><strong>Upper bound</strong></span>.</p>
</div>
</details>
<details id="is-it-possible-to-show-icons-in-datatable">
<summary class="title"><span class="strong strong"><strong>Is it possible to display icons in data tables?</strong></span></summary>
<div class="content">
<p>You can display icons with <a class="xref" href="managing-index-patterns.html" title="Manage index pattern data fields">field formatter</a> in data tables.</p>
</div>
</details>
<details id="is-it-possible-to-use-saved-serches-in-lens">
<summary class="title"><span class="strong strong"><strong>How do I visualize saved searches?</strong></span></summary>
<div class="content">
<p>Visualizing saved searches in unsupported.</p>
</div>
</details>
<details id="is-it-possible-to-decrease-or-increase-the-number-of-suggestions">
<summary class="title"><span class="strong strong"><strong>How do I change the number of suggestions?</strong></span></summary>
<div class="content">
<p>Configuring the <span class="strong strong"><strong>Suggestions</strong></span> is unsupported.</p>
</div>
</details>
<details id="is-it-possible-to-have-pagination-for-datatable">
<summary class="title"><span class="strong strong"><strong>Is it possible to have pagination in a data table?</strong></span></summary>
<div class="content">
<p>Pagination in a data table is unsupported. To use pagination in data tables, create an <a class="xref" href="add-aggregation-based-visualization-panels.html#types-of-visualizations" title="Types of aggregation-based visualizations">aggregation-based data table</a>.</p>
</div>
</details>
<details id="is-it-possible-to-select-color-for-specific-bar-or-point">
<summary class="title"><span class="strong strong"><strong>How do I change the color for a single data point?</strong></span></summary>
<div class="content">
<p>Specifying the color for a single data point, such as a single bar or line, is unsupported.</p>
</div>
</details>
</div>
<div class="navfooter">
<span class="prev">
<a href="aggregation-reference.html">« Create panels with editors</a>
</span>
<span class="next">
<a href="tsvb.html">TSVB »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
