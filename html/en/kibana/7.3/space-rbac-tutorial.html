<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Tutorial: Use role-based access control to customize Kibana spaces | Kibana Guide [7.3] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.3]"/>
<link rel="up" href="xpack-security.html" title="Security"/>
<link rel="prev" href="kibana-privileges.html" title="Kibana privileges"/>
<link rel="next" href="watcher-ui.html" title="Watcher"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.3"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.3"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.3]</a></span>
»
<span class="breadcrumb-link"><a href="management.html">Management</a></span>
»
<span class="breadcrumb-link"><a href="xpack-security.html">Security</a></span>
»
<span class="breadcrumb-node">Tutorial:  Use role-based access control to customize Kibana spaces</span>
</div>
<div class="navheader">
<span class="prev">
<a href="kibana-privileges.html">« Kibana privileges</a>
</span>
<span class="next">
<a href="watcher-ui.html">Watcher »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="space-rbac-tutorial"></a>Tutorial:  Use role-based access control to customize Kibana spaces<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.3/docs/user/security/rbac_tutorial.asciidoc">edit</a></h2>
</div></div></div>
<p>With role-based access control (RBAC), you can provide users access to data, tools,
and Kibana spaces.  In this tutorial, you will learn how to configure roles
that provide the right users with the right access to the data, tools, and
Kibana spaces.</p>
<h4><a id="_scenario"></a>Scenario<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.3/docs/user/security/rbac_tutorial.asciidoc">edit</a></h4>
<p>Our user is a web developer working on a bank&#8217;s
online mortgage service.  The web developer has these
three requirements:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Have access to the data for that service
</li>
<li class="listitem">
Build visualizations and dashboards
</li>
<li class="listitem">
Monitor the performance of the system
</li>
</ul>
</div>
<p>You&#8217;ll provide the web developer with the access and privileges to get the job done.</p>
<h4><a id="_prerequisites_2"></a>Prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.3/docs/user/security/rbac_tutorial.asciidoc">edit</a></h4>
<p>To complete this tutorial, you&#8217;ll need the following:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Administrative privileges</strong></span>: You must have a role that grants privileges to create a space, role, and user. This is any role which grants the <code class="literal">manage_security</code> cluster privilege. By default, the <code class="literal">superuser</code> role provides this access. See the <a href="/guide/en/elasticsearch/reference/7.3/built-in-roles.html" class="ulink" target="_top">built-in</a> roles.
</li>
<li class="listitem">
<span class="strong strong"><strong>A space</strong></span>: In this tutorial, use <code class="literal">Dev Mortgage</code> as the space
name. See <a class="xref" href="xpack-spaces.html#spaces-managing" title="View, create, and delete spaces">spaces management</a> for
details on creating a space.
</li>
<li class="listitem">
<span class="strong strong"><strong>Data</strong></span>:  You can use <a class="xref" href="tutorial-sample-data.html" title="Explore Kibana using sample data">sample data</a> or
live data.  In the following steps, Filebeat and Metricbeat data are used.
</li>
</ul>
</div>
<h4><a id="_steps"></a>Steps<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.3/docs/user/security/rbac_tutorial.asciidoc">edit</a></h4>
<p>With the requirements in mind, here are the steps that you will work
through in this tutorial:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Create a role named <code class="literal">mortgage-developer</code>
</li>
<li class="listitem">
Give the role permission to access the data in the relevant indices
</li>
<li class="listitem">
Give the role permission to create visualizations and dashboards
</li>
<li class="listitem">
Create the web developer&#8217;s user account with the proper roles
</li>
</ul>
</div>
<h4><a id="_create_a_role"></a>Create a role<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.3/docs/user/security/rbac_tutorial.asciidoc">edit</a></h4>
<p>Go to <span class="strong strong"><strong>Management &gt; Roles</strong></span>
for an overview of your roles.  This view provides actions
for you to create, edit, and delete roles.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="security/images/role-management.png" alt="Role management">
</div>
</div>
<p>You can create as many roles as you like. Click <span class="strong strong"><strong>Create role</strong></span> and
provide a name. Use <code class="literal">dev-mortgage</code> because this role is for a developer
working on the bank&#8217;s mortgage application.</p>
<h4><a id="_give_the_role_permission_to_access_the_data"></a>Give the role permission to access the data<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.3/docs/user/security/rbac_tutorial.asciidoc">edit</a></h4>
<p>Access to data in indices is an index-level privilege, so in
<span class="strong strong"><strong>Index privileges</strong></span>, add lines for the indices that contain the
data for this role.  Two privileges are required: <code class="literal">read</code> and
<code class="literal">view_index_metadata</code>.  All privileges are detailed in the
<a href="/guide/en/elasticsearch/reference/current/security-privileges.html" class="ulink" target="_top">security privileges</a> documentation.</p>
<p>In the screenshots, Filebeat and Metricbeat data is used, but you
should use the index patterns for your indices.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="security/images/role-index-privilege.png" alt="Index privilege">
</div>
</div>
<h4><a id="_give_the_role_permission_to_create_visualizations_and_dashboards"></a>Give the role permission to create visualizations and dashboards<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.3/docs/user/security/rbac_tutorial.asciidoc">edit</a></h4>
<p>By default, roles do not give Kibana privileges.  Click <span class="strong strong"><strong>Add space
privilege</strong></span> and associate this role with the <code class="literal">Dev Mortgage</code> space.</p>
<p>To enable users with the <code class="literal">dev-mortgage</code> role to create visualizations
and dashboards, click <span class="strong strong"><strong>All</strong></span> for <span class="strong strong"><strong>Visualize</strong></span> and <span class="strong strong"><strong>Dashboard</strong></span>. Also
assign <span class="strong strong"><strong>All</strong></span> for <span class="strong strong"><strong>Discover</strong></span> because it is common for developers
to create saved searches while designing visualizations.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="security/images/role-space-visualization.png" alt="Associate space">
</div>
</div>
<h4><a id="_create_the_developers_user_account_with_the_proper_roles"></a>Create the developer&#8217;s user account with the proper roles<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.3/docs/user/security/rbac_tutorial.asciidoc">edit</a></h4>
<p>Go to <span class="strong strong"><strong>Management &gt; Users</strong></span> and click on <span class="strong strong"><strong>Create user</strong></span> to create a
user.  Give the user the <code class="literal">dev-mortgage</code> role
and the <code class="literal">monitoring-user</code> role, which is required for users of <span class="strong strong"><strong>Stack Monitoring</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="security/images/role-new-user.png" alt="Developer user">
</div>
</div>
<p>Finally, have the developer log in and access the Dev Mortgage space
and create a new visualization.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If the user is assigned to only one space, they will automatically enter that space on login.</p>
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="kibana-privileges.html">« Kibana privileges</a>
</span>
<span class="next">
<a href="watcher-ui.html">Watcher »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
