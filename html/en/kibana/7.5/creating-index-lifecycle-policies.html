<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Creating an index lifecycle policy | Kibana Guide [7.5] | Elastic</title>
<meta class="elastic" name="content" content="Creating an index lifecycle policy | Kibana Guide [7.5]">

<link rel="home" href="index.html" title="Kibana Guide [7.5]"/>
<link rel="up" href="index-lifecycle-policies.html" title="Index lifecycle policies"/>
<link rel="prev" href="index-lifecycle-policies.html" title="Index lifecycle policies"/>
<link rel="next" href="managing-index-lifecycle-policies.html" title="Managing index lifecycle policies"/>
<meta class="elastic" name="product_version" content="7.5"/>
<meta class="elastic" name="product_name" content="Kibana"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.5"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.5"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="index-lifecycle-policies.html">« Index lifecycle policies</a>
</span>
<span class="next">
<a href="managing-index-lifecycle-policies.html">Managing index lifecycle policies »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.5]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="management.html">Management</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index-lifecycle-policies.html">Index lifecycle policies</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Creating an index lifecycle policy</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.5/docs/management/index-lifecycle-policies/create-policy.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="creating-index-lifecycle-policies"></a>Creating an index lifecycle policy<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.5/docs/management/index-lifecycle-policies/create-policy.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<p>An index lifecycle policy enables you to define rules over when to perform
certain actions, such as a rollover or force merge, on an index. Index lifecycle
management automates execution of those actions at the right time.</p>
<p>When you create an index lifecycle policy, consider the tradeoffs between
performance and availability. As you move your index through the lifecycle,
you’re likely moving your data to less performant hardware and reducing the
number of shards and replicas.  It’s important to ensure that the index
continues to have enough replicas to prevent data loss in the event of failures.</p>
<p><span class="strong strong"><strong>Index Lifecycle Policies</strong></span> is automatically enabled in Kibana. Go to
<span class="strong strong"><strong>Management &gt; Elasticsearch &gt; Index Lifecycle Policies</strong></span>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you don’t want to use this feature, you can disable it by setting
<code class="literal">xpack.ilm.enabled</code> to false in your <code class="literal">kibana.yml</code> configuration file. If you
disable <span class="strong strong"><strong>Index Management</strong></span>, then <span class="strong strong"><strong>Index Lifecycle Policies</strong></span> is also disabled.</p>
</div>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/index-lifecycle-policies-create.png" alt="][UI for creating an index lifecycle policy">
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_defining_the_phases_of_the_index_lifecycle"></a>Defining the phases of the index lifecycle<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.5/docs/management/index-lifecycle-policies/create-policy.asciidoc">edit</a></h3>
</div></div></div>
<p>You can define up to four phases in the index lifecycle. For each phase, you
can enable actions to optimize performance for that phase.</p>
<p>The four phases in the index lifecycle are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Hot.</strong></span> The index is actively being queried and written to. You can
roll over to a new index when the
original index reaches a specified size, document count, or age.  When a rollover occurs, a new
index is created, added to the index alias, and designated as the new “hot”
index. You can still query the previous indices, but you only ever write to
the “hot” index. See <a class="xref" href="creating-index-lifecycle-policies.html#setting-a-rollover-action" title="Setting a rollover action">Setting a rollover action</a>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Warm.</strong></span> The index is typically searched at a lower rate than when the data is
hot. The index is not used for storing new data, but might occasionally add
late-arriving data, for example, from a Beat with a network problem that&#8217;s now fixed.
You can optionally shrink the number replicas and move the shards to a
different set of nodes with smaller or less performant hardware. You can also
reduce the number of primary shards and force merge the index into
smaller <a href="/guide/en/elasticsearch/reference/7.5/indices-segments.html" class="ulink" target="_top">segments</a>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Cold.</strong></span> The index is no longer being updated and is seldom queried, but is
still searchable. If you have a big deployment, you can move it to even
less performant hardware. You might also reduce the number of replicas because
you expect the data to be queried less frequently. To keep the index searchable
for a longer period, and reduce the hardware requirements, you can use the
<a href="/guide/en/elasticsearch/reference/7.5/frozen-indices.html" class="ulink" target="_top">freeze action</a>. Queries are slower on a frozen index because the index is
reloaded from the disk to RAM on demand.
</li>
<li class="listitem">
<span class="strong strong"><strong>Delete.</strong></span> The index is no longer relevant. You can define when it is safe to
delete it.
</li>
</ul>
</div>
<p>The index lifecycle always includes an active hot phase. The warm, cold, and
delete phases are optional. For example, you might define all four phases for
one policy and only a hot and delete phase for another.  See <a href="/guide/en/elasticsearch/reference/7.5/_actions.html" class="ulink" target="_top">Actions</a>
for more information on the actions available in each phase.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="setting-a-rollover-action"></a>Setting a rollover action<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.5/docs/management/index-lifecycle-policies/create-policy.asciidoc">edit</a></h3>
</div></div></div>
<p>The <a href="/guide/en/elasticsearch/reference/7.5/indices-rollover-index.html" class="ulink" target="_top">rollover</a> action enables you to automatically roll over to a new index based
on the index size, document count, or age. Rolling over to a new index based on
these criteria is preferable to time-based rollovers. Rolling over at an arbitrary
time often results in many small indices, which can have a negative impact on performance and resource usage.</p>
<p>When you create an index lifecycle policy, the rollover action is enabled
by default.  The default size for triggering the rollover is 50 gigabytes, and
the default age is 30 days. The rollover occurs when any of the criteria are met.</p>
<p>With the rollover action enabled, you can move to the warm phase on rollover or you can
time the move for a specified number of hours or days after the rollover. The
move to the cold and delete phases is based on the time from the rollover.</p>
<p>If you are using daily indices (created by Logstash or another client) and you
want to use the index lifecycle policy to manage aging data, you can
disable the rollover action in the hot phase. You can then
transition to the warm, cold, and delete phases based on the time of index creation.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_setting_the_index_priority"></a>Setting the index priority<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.5/docs/management/index-lifecycle-policies/create-policy.asciidoc">edit</a></h3>
</div></div></div>
<p>For the hot, warm, and cold phases, you can set a priority for recovering
indices after a node restart. Indices with higher priorities are recovered
before indices with lower priorities. By default, the index priority is set to
100 in the hot phase, 50 in the warm phase, and 0 in the cold phase.
If the cold phase of one index has data that
is more important than the data in the hot phase of another, you might increase
the index priority in the cold phase.  See
<a href="/guide/en/elasticsearch/reference/7.5/recovery-prioritization.html" class="ulink" target="_top">Index recovery prioritization</a>.</p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="index-lifecycle-policies.html">« Index lifecycle policies</a>
</span>
<span class="next">
<a href="managing-index-lifecycle-policies.html">Managing index lifecycle policies »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
