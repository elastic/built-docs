<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Standard upgrade | Kibana Guide [7.8] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.8]"/>
<link rel="up" href="upgrade.html" title="Upgrade Kibana"/>
<link rel="prev" href="upgrade.html" title="Upgrade Kibana"/>
<link rel="next" href="upgrade-migrations.html" title="Upgrade migrations"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.8"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.8"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.8]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="setup.html">Set up Kibana</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="upgrade.html">Upgrade Kibana</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="upgrade.html">« Upgrade Kibana</a>
</span>
<span class="next">
<a href="upgrade-migrations.html">Upgrade migrations »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="upgrade-standard"></a>Standard upgrade<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.8/docs/setup/upgrade/upgrade-standard.asciidoc">edit</a></h2>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>6.7 includes an <a href="/guide/en/kibana/6.7/upgrade-assistant.html" class="ulink" target="_top">Upgrade Assistant</a>
to help you prepare for your upgrade to 7.0. To access the assistant, go to <span class="strong strong"><strong>Management &gt; 7.0 Upgrade Assistant</strong></span>.</p>
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you&#8217;ve saved and/or exported objects in Kibana that rely on the
<a class="xref" href="search.html" title="Search data">Elasticsearch Query DSL</a>, make sure to check the Elasticsearch
<a href="/guide/en/elasticsearch/reference/7.8/breaking-changes.html" class="ulink" target="_top">breaking changes</a> documentation and take the
necessary remediation steps as per those instructions.</p>
</div>
</div>
<h4><a id="_upgrading_multiple_kibana_instances"></a>Upgrading multiple Kibana instances<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.8/docs/setup/upgrade/upgrade-standard.asciidoc">edit</a></h4>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Kibana does not support rolling upgrades. If you&#8217;re running multiple Kibana instances, all instances should be stopped before upgrading.</p>
</div>
</div>
<p>Different versions of Kibana running against the same Elasticsearch index, such as during a rolling upgrade, can cause upgrade migration failures and data loss. This is because acknowledged writes from the older instances could be written into the <em>old</em> index while the migration is in progress. To prevent this from happening ensure that all old Kibana instances are shutdown before starting up instances on a newer version.</p>
<p>The first instance that triggers saved object migrations will run the entire process. Any other instances started up while a migration is running will log a message and then wait until saved object migrations has completed before they start serving HTTP traffic.</p>
<h4><a id="_upgrade_using_a_deb_or_rpm_package"></a>Upgrade using a <code class="literal">deb</code> or <code class="literal">rpm</code> package<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.8/docs/setup/upgrade/upgrade-standard.asciidoc">edit</a></h4>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Stop the existing Kibana process using the appropriate command for your
system. If you have multiple Kibana instances connecting to the same Elasticsearch cluster ensure that all instances are stopped before proceeding to the next step to avoid data loss.
</li>
<li class="listitem">
<p>Use <code class="literal">rpm</code> or <code class="literal">dpkg</code> to install the new package. All files should be placed in
their proper locations and config files should not be overwritten.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Kibana 4.x used a different config location than 5.0+, so if you&#8217;re upgrading
from 4.x, you will need to copy the configurations from your old config
(<code class="literal">/opt/kibana/config/kibana.yml</code>) to your new config
(<code class="literal">/etc/kibana/kibana.yml</code>).</p>
<p>Make sure you remove or update any configurations
that are indicated in the <a class="xref" href="breaking-changes.html" title="Breaking Changes">breaking changes</a> documentation
otherwise Kibana will fail to start.</p>
</div>
</div>
</li>
<li class="listitem">
Upgrade any plugins by removing the existing plugin and reinstalling the
appropriate version using the <code class="literal">kibana-plugin</code> script. Check out the
<a class="xref" href="kibana-plugins.html" title="Kibana plugins">plugins</a> documentation for more information.
</li>
<li class="listitem">
Start the new Kibana process using the appropriate command for your system.
</li>
</ol>
</div>
<h4><a id="_upgrade_using_a_zip_or_tar_gz_archive"></a>Upgrade using a <code class="literal">zip</code> or <code class="literal">tar.gz</code> archive<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.8/docs/setup/upgrade/upgrade-standard.asciidoc">edit</a></h4>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Extract the <code class="literal">zip</code> or <code class="literal">tar.gz</code> archive to a new directory to be sure that you
don&#8217;t overwrite the <code class="literal">config</code> or <code class="literal">data</code> directories.<br></p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use monitoring features, you must re-use the data directory when you upgrade Kibana. Otherwise, the Kibana instance is assigned a new persistent UUID
and becomes a new instance in the monitoring data.</p>
</div>
</div>
</li>
<li class="listitem">
Copy the files from the <code class="literal">config</code> directory from your old installation to your
new installation. Make sure you remove or update any configurations that are
indicated in the <a class="xref" href="breaking-changes.html" title="Breaking Changes">breaking changes</a> documentation
otherwise Kibana will fail to start.
</li>
<li class="listitem">
Copy the files from the <code class="literal">data</code> directory from your old installation to your
new installation.
</li>
<li class="listitem">
Install the appropriate versions of all your plugins for your new
installation using the <code class="literal">kibana-plugin</code> script. Check out the
<a class="xref" href="kibana-plugins.html" title="Kibana plugins">plugins</a> documentation for more information.
</li>
<li class="listitem">
Stop the old Kibana process. If you have multiple Kibana instances connecting to the same Elasticsearch cluster ensure that all instances are stopped before proceeding to the next step to avoid data loss.
</li>
<li class="listitem">
Start the new Kibana process.
</li>
</ol>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="upgrade.html">« Upgrade Kibana</a>
</span>
<span class="next">
<a href="upgrade-migrations.html">Upgrade migrations »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
