<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Create aggregation-based visualization panels | Kibana Guide [7.11] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.11]"/>
<link rel="up" href="dashboard.html" title="Dashboard"/>
<link rel="prev" href="create-panels-with-timelion.html" title="Timelion"/>
<link rel="next" href="enhance-dashboards.html" title="Enhance dashboards"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.11"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.11"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.11]</a></span>
»
<span class="breadcrumb-link"><a href="dashboard.html">Dashboard</a></span>
»
<span class="breadcrumb-node">Create aggregation-based visualization panels</span>
</div>
<div class="navheader">
<span class="prev">
<a href="create-panels-with-timelion.html">« Timelion</a>
</span>
<span class="next">
<a href="enhance-dashboards.html">Enhance dashboards »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="add-aggregation-based-visualization-panels"></a>Create aggregation-based visualization panels<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/aggregation-based.asciidoc">edit</a></h2>
</div></div></div>
<p>Aggregation-based visualizations are the core Kibana panels, and are not optimized
for a specific use case. If you are new to Kibana, <a class="xref" href="dashboard.html#create-panels-with-lens" title="Create panels">Lens</a> is recommended as a
simpler way to get started.</p>
<p>The main features that these panel types have compared to other Kibana panel types are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support for heat map, tag cloud, gauge, and goal chart types
</li>
<li class="listitem">
Support for split charts at up to 3 levels of aggregation, more than <span class="strong strong"><strong>Lens</strong></span> and <span class="strong strong"><strong>TSVB</strong></span>
</li>
<li class="listitem">
Time series data is not required
</li>
<li class="listitem">
Ability to use a <a class="xref" href="save-open-search.html" title="Save a search">saved search</a> as an input
</li>
<li class="listitem">
Data table can be sorted, also supports summary row and percentage column features
</li>
<li class="listitem">
Can assign specific colors to series
</li>
<li class="listitem">
Ability for plugin authors to extend the features
</li>
</ul>
</div>
<p>These panel types also have some limitations:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Not as simple as <span class="strong strong"><strong>Lens</strong></span>
</li>
<li class="listitem">
Limited styling options
</li>
<li class="listitem">
No support for math
</li>
<li class="listitem">
No support for multiple indices
</li>
</ul>
</div>
<h3><a id="types-of-visualization-panels"></a>Types of aggregation-based panels<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/aggregation-based.asciidoc">edit</a></h3>
<p>Kibana supports the following types of aggregation-based panels.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Area</strong></span></p>
<p>Displays data points, connected by a line, where the area between the line and axes are shaded.
Use area charts to compare two or more categories over time, and display the magnitude of trends.</p>
</td>
<td align="left" valign="top"><p><span class="image"><img src="images/area.png" alt="Area chart"></span></p></td>
</tr>
<tr>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Data table</strong></span></p>
<p>Displays your aggregation results in a tabular format. Use data tables to display server configuration details, track counts, min,
or max values for a specific field, and monitor the status of key services.</p>
</td>
<td align="left" valign="top"><p><span class="image"><img src="images/data_table.png" alt="Data table"></span></p></td>
</tr>
<tr>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Gauge</strong></span></p>
<p>Displays your data along a scale that changes color according to where your data falls on the expected scale. Use the gauge to show how metric
values relate to reference threshold values, or determine how a specified field is performing versus how it is expected to perform.</p>
</td>
<td align="left" valign="top"><p><span class="image"><img src="images/gauge.png" alt="Gauge"></span></p></td>
</tr>
<tr>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Goal</strong></span></p>
<p>Displays how your metric progresses toward a fixed goal. Use the goal to display an easy to read visual of the status of your goal progression.</p>
</td>
<td align="left" valign="top"><p><span class="image"><img src="images/goal.png" alt="Goal"></span></p></td>
</tr>
<tr>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Heat map</strong></span></p>
<p>Displays graphical representations of data where the individual values are represented by colors. Use heat maps when your data set includes
categorical data. For example, use a heat map to see the flights of origin countries compared to destination countries using the sample flight data.</p>
</td>
<td align="left" valign="top"><p><span class="image"><img src="images/heat_map.png" alt="Heat map"></span></p></td>
</tr>
<tr>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Horizontal Bar</strong></span></p>
<p>Displays bars side-by-side where each bar represents a category. Use bar charts to compare data across a
large number of categories, display data that includes categories with negative values, and easily identify
the categories that represent the highest and lowest values. Kibana also supports vertical bar charts.</p>
</td>
<td align="left" valign="top"><p><span class="image"><img src="images/bar.png" alt="Bar chart"></span></p></td>
</tr>
<tr>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Line</strong></span></p>
<p>Displays data points that are connected by a line. Use line charts to visualize a sequence of values, discover
trends over time, and forecast future values.</p>
</td>
<td align="left" valign="top"><p><span class="image"><img src="images/line.png" alt="Line chart"></span></p></td>
</tr>
<tr>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Metric</strong></span></p>
<p>Displays a single numeric value for an aggregation. Use the metric visualization when you have a numeric value that is powerful enough to tell
a story about your data.</p>
</td>
<td align="left" valign="top"><p><span class="image"><img src="images/metric.png" alt="Metric"></span></p></td>
</tr>
<tr>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Pie</strong></span></p>
<p>Displays slices that represent a data category, where the slice size is proportional to the quantity it represents.
Use pie charts to show comparisons between multiple categories, illustrate the dominance of one category over others,
and show percentage or proportional data.</p>
</td>
<td align="left" valign="top"><p><span class="image"><img src="images/pie.png" alt="Pie chart"></span></p></td>
</tr>
<tr>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Tag cloud</strong></span></p>
<p>Graphical representations of how frequently a word appears in the source text. Use tag clouds to easily produce a summary of large documents and
create visual art for a specific topic.</p>
</td>
<td align="left" valign="top"><p><span class="image"><img src="images/tag_cloud.png" alt="Tag cloud"></span></p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="create-aggregation-based-panel"></a>Create an aggregation-based panel<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/aggregation-based.asciidoc">edit</a></h3>
<p>Choose the type of panel you want to create, then use the editor to configure the options. Each panel type supports different options.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>From the dashboard, click <span class="strong strong"><strong>Create panel</strong></span>, then click <span class="strong strong"><strong>Aggregation based</strong></span> on the <span class="strong strong"><strong>New visualization</strong></span> window.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click the type of panel you want to create.
</li>
<li class="listitem">
Click the data source you want to visualize.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>From the editor, add the <a class="xref" href="aggregation-reference.html" title="Supported features by panel type">aggregations</a> you want to visualize, then click <span class="strong strong"><strong>Update</strong></span>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>For the <span class="strong strong"><strong>Date Histogram</strong></span> to use an <span class="strong strong"><strong>auto interval</strong></span>, the date field must match the primary time field of the index pattern.</p>
</div>
</div>
</li>
<li class="listitem">
<p>To change the order, drag the aggregations along the editor.</p>
<p class="screenshot"><span class="image"><img src="images/bar-chart-tutorial-3.png" alt="Option to change the order of aggregations"></span></p>
</li>
<li class="listitem">
<p>To customize the series colors, click the series in the legend, then select the color you want to use.</p>
<p class="screenshot"><span class="image"><img src="images/aggregation-based-color-picker.png" alt="Color picker"></span></p>
</li>
</ol>
</div>
<h3><a id="try-it-aggregation-based-panel"></a>Try it: Create an aggregation-based bar chart<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/aggregation-based.asciidoc">edit</a></h3>
<p>You collected data from your web server, and you want to visualize and analyze the data on a dashboard. To create a dashboard panel of the data, create
a bar chart that displays the top five log traffic sources for every three hours.</p>
<h4><a id="_add_the_data_and_create_the_dashboard_2"></a>Add the data and create the dashboard<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/aggregation-based.asciidoc">edit</a></h4>
<p>Add the sample web logs data that you&#8217;ll use to create the bar chart, then create the dashboard.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the <span class="strong strong"><strong>Home</strong></span> page, click <span class="strong strong"><strong>Try our sample data</strong></span>.
</li>
<li class="listitem">
From <span class="strong strong"><strong>Sample web logs</strong></span>, click <span class="strong strong"><strong>Add data</strong></span>.
</li>
<li class="listitem">
Open the main menu, then click <span class="strong strong"><strong>Dashboard</strong></span>.
</li>
<li class="listitem">
On the <span class="strong strong"><strong>Dashboards</strong></span> page, click <span class="strong strong"><strong>Create dashboard</strong></span>.
</li>
</ol>
</div>
<h4><a id="_open_and_set_up_the_aggregation_based_bar_chart"></a>Open and set up the aggregation-based bar chart<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/aggregation-based.asciidoc">edit</a></h4>
<p>Open the bar chart visualization builder and change the time range.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the dashboard, click <span class="strong strong"><strong>Create panel</strong></span>.
</li>
<li class="listitem">
On the <span class="strong strong"><strong>New visualization</strong></span> window, click <span class="strong strong"><strong>Aggregation based &gt; Vertical bar</strong></span>.
</li>
<li class="listitem">
On the <span class="strong strong"><strong>Choose a source</strong></span> window, click <span class="strong strong"><strong>kibana_sample_data_logs</strong></span>.
</li>
<li class="listitem">
Change the <a class="xref" href="set-time-filter.html" title="Set the time filter">time filter</a>&gt; to <span class="strong strong"><strong>Last 7 days</strong></span>.
</li>
</ol>
</div>
<h4><a id="tutorial-configure-the-bar-chart"></a>Create the bar chart<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/aggregation-based.asciidoc">edit</a></h4>
<p>To create the bar chart, add a <a class="xref" href="aggregation-reference.html#bucket-aggregations" title="Bucket aggregations">bucket aggregation</a>, then add the terms sub-aggregation to display the top values.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Add a <span class="strong strong"><strong>Buckets</strong></span> aggregation.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>Add</strong></span>, then select <span class="strong strong"><strong>X-axis</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Aggregation</strong></span> dropdown, select <span class="strong strong"><strong>Date Histogram</strong></span>.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Update</strong></span>.</p>
<p class="screenshot"><span class="image"><img src="images/bar-chart-tutorial-1.png" alt="Bar chart with sample logs data"></span></p>
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>To show the top five log traffic sources, add a sub-bucket aggregation.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Click <span class="strong strong"><strong>Add</strong></span>, then select <span class="strong strong"><strong>Split series</strong></span>.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Aggregation-based panels support a maximum of three <span class="strong strong"><strong>Split series</strong></span>.</p>
</div>
</div>
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Sub aggregation</strong></span> dropdown, select <span class="strong strong"><strong>Terms</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Field</strong></span> dropdown, select <span class="strong strong"><strong>geo.src</strong></span>.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Update</strong></span>.</p>
<p class="screenshot"><span class="image"><img src="images/bar-chart-tutorial-2.png" alt="Bar chart with sample logs data"></span></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<h4><a id="_save_the_panel_4"></a>Save the panel<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/aggregation-based.asciidoc">edit</a></h4>
<p>Save and add the visualization panel to the dashboard.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the toolbar, click <span class="strong strong"><strong>Save</strong></span>.
</li>
<li class="listitem">
Enter the <span class="strong strong"><strong>Title</strong></span> and optional <span class="strong strong"><strong>Description</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Tags</strong></span> drop down, select any applicable tags.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Add to Dashboard after saving</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
</ol>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="create-panels-with-timelion.html">« Timelion</a>
</span>
<span class="next">
<a href="enhance-dashboards.html">Enhance dashboards »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
