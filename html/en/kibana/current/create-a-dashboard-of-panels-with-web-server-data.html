<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Tutorial: Create a dashboard of panels with web server data | Kibana Guide [7.11] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.11]"/>
<link rel="up" href="dashboard.html" title="Dashboard"/>
<link rel="prev" href="dashboard.html" title="Dashboard"/>
<link rel="next" href="add-panels-with-advanced-editors.html" title="Create panels with the advanced editors"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.11"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.11"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.11]</a></span>
»
<span class="breadcrumb-link"><a href="dashboard.html">Dashboard</a></span>
»
<span class="breadcrumb-node">Tutorial: Create a dashboard of panels with web server data</span>
</div>
<div class="navheader">
<span class="prev">
<a href="dashboard.html">« Dashboard</a>
</span>
<span class="next">
<a href="add-panels-with-advanced-editors.html">Create panels with the advanced editors »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="create-a-dashboard-of-panels-with-web-server-data"></a>Tutorial: Create a dashboard of panels with web server data<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h2>
</div></div></div>
<p>You collected data from your web server, and you want to visualize and analyze the data on a dashboard. To create dashboard panels of the data, open the <span class="strong strong"><strong>Lens</strong></span> visualization builder, then
create the visualization panels that best display the data.</p>
<h3><a id="add-the-data-and-create-the-dashboard"></a>Add the data and create the dashboard<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>To create visualizations of the data from the web server, add the data set, then create the dashboard.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the Kibana <span class="strong strong"><strong>Home</strong></span> page, click <span class="strong strong"><strong>Try our sample data</strong></span>.
</li>
<li class="listitem">
From <span class="strong strong"><strong>Sample web logs</strong></span>, click <span class="strong strong"><strong>Add data</strong></span>.
</li>
<li class="listitem">
Open the main menu, click <span class="strong strong"><strong>Dashboard</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create dashboard</strong></span>.
</li>
</ol>
</div>
<h3><a id="open-and-set-up-lens"></a>Open and set up Lens<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>With <span class="strong strong"><strong>Lens</strong></span>, you identify the data fields you want to visualize, drag and drop the fields, then watch as
<span class="strong strong"><strong>Lens</strong></span> uses heuristics to apply the fields and create a visualization for you.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the dashboard, click <span class="strong strong"><strong>Create panel</strong></span>.
</li>
<li class="listitem">
<p>On the <span class="strong strong"><strong>New visualization</strong></span> window, click <span class="strong strong"><strong>Lens</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_1_1.png" alt="New visualization popover">
</div>
</div>
</li>
<li class="listitem">
<p>Make sure the <span class="strong strong"><strong>kibana_sample_data_logs</strong></span> index appears.</p>
<p>The list of fields are dependent on the <a class="xref" href="index-patterns.html" title="Create an index pattern">index pattern</a>, <a class="xref" href="set-time-filter.html" title="Set the time filter">time filter</a>, and field filters.</p>
</li>
</ol>
</div>
<h3><a id="view-the-data-summaries"></a>View the data summaries<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>For each field, <span class="strong strong"><strong>Lens</strong></span> shows a summary depending on the type of data. Date fields show the time distribution, string fields show the top 10 values,
and numeric fields show a detailed summary with the top 10 values and a value distribution.</p>
<p>To view the data summary for a field, click <span class="strong strong"><strong>i</strong></span> next to the field.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_data_info_documents.png" alt="Data summary analyzed documents">
</div>
</div>
<p><span class="strong strong"><strong>Lens</strong></span> uses a sample of 5,000 documents to perform the field analysis. The bottom line of the summary shows the percentage of sampled documents over all available documents.</p>
<p>When <span class="strong strong"><strong>Lens</strong></span> presents the top 10 values distribution, it also shows the percentage of <span class="strong strong"><strong>Other</strong></span> values. For array value fields, the percentage distribution considers each value in the array as separate.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_data_info.png" alt="Data summary window with Other">
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The sum of all the <span class="strong strong"><strong>Other</strong></span> fields can equal more than 100% by a small amount.</p>
</div>
</div>
<h3><a id="view-the-number-of-website-visitors"></a>View the number of website visitors<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>To determine how many users have visited your website within the last 90 days, create a metric visualization, then add it to the dashboard.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Set the <a class="xref" href="set-time-filter.html" title="Set the time filter">time filter</a> to <span class="strong strong"><strong>Last 90 days</strong></span>.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Chart Type</strong></span> dropdown, select <span class="strong strong"><strong>Metric</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_1_2_1.png" alt="Chart Type dropdown with Metric selected">
</div>
</div>
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop <span class="strong strong"><strong>clientip</strong></span> to the visualization builder.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_1_3.png" alt="Changed type and dropped clientip field">
</div>
</div>
</li>
<li class="listitem">
<p>From the editor, click <span class="strong strong"><strong>Unique count of clientip</strong></span>.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the <span class="strong strong"><strong>Display name</strong></span> field, enter <code class="literal">Unique visitors</code>.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Close</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_1_4.png" alt="Flyout config open">
</div>
</div>
</li>
</ol>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>Save</strong></span> the panel, enter <code class="literal">Unique visitors</code> in the <span class="strong strong"><strong>Title</strong></span> field, then add the panel to the dashboard.
</li>
</ol>
</div>
<h3><a id="view-the-distribution-of-visitors-by-operating-system"></a>View the distribution of visitors by operating system<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>To determine the operating systems you should continue to support, and the importance of mobile traffic from iOS devices,
create a donut chart that displays the top operating systems that your visitors used to access your website within the last 90 days.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open <span class="strong strong"><strong>Lens</strong></span>, then set the <a class="xref" href="set-time-filter.html" title="Set the time filter">time filter</a> to <span class="strong strong"><strong>Last 90 days</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Chart Type</strong></span> dropdown, select <span class="strong strong"><strong>Donut</strong></span>.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop the data fields to the <span class="strong strong"><strong>Drop a field or click to add</strong></span> fields in the editor.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Drag and drop <span class="strong strong"><strong>clientip</strong></span> to the <span class="strong strong"><strong>Size by</strong></span> field.
</li>
<li class="listitem">
<p>Drag and drop <span class="strong strong"><strong>machine.os.keyword</strong></span> to the <span class="strong strong"><strong>Slice by</strong></span> field.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_2_1_1.png" alt="Donut chart with clientip and machine.os.keyword fields">
</div>
</div>
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Change the color palette.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the editor, click <span class="strong strong"><strong>Top values of machine.os.keyword</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Color palette</strong></span> dropdown, select <span class="strong strong"><strong>Compatibility</strong></span>.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Close</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_2_1.png" alt="Donut chart with open config panel">
</div>
</div>
</li>
</ol>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>Save</strong></span> the panel, enter <code class="literal">Visitors by OS</code> in the <span class="strong strong"><strong>Title</strong></span> field, then add the panel to the dashboard.
</li>
</ol>
</div>
<h3><a id="mixed-multiaxis"></a>View the average of bytes transfer per day<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>To prevent potential server failures, and optimize the cost of website maintenance, create an area chart that displays the average of bytes transfer. To compare
the data to the number of visitors to your website, add a line chart layer.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open <span class="strong strong"><strong>Lens</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop <span class="strong strong"><strong>bytes</strong></span> to the visualization builder.
</li>
<li class="listitem">
<p>To zoom in on the data you want to view, click and drag your cursor across the bars.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_3_1_1.gif" alt="Zoom in on the data">
</div>
</div>
</li>
<li class="listitem">
<p>Change the <span class="strong strong"><strong>timestamp</strong></span> interval.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the editor, click <span class="strong strong"><strong>timestamp</strong></span>.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Customize time interval</strong></span>.
</li>
<li class="listitem">
<p>Change the <span class="strong strong"><strong>Minimum interval</strong></span> to <code class="literal">1 days</code>, then click <span class="strong strong"><strong>Close</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_3_1.png" alt="Customize time interval">
</div>
</div>
</li>
</ol>
</div>
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Chart Type</strong></span> dropdown, select <span class="strong strong"><strong>Area</strong></span>.
</li>
</ol>
</div>
<h4><a id="add-a-data-layer"></a>Add the line chart layer<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>To compare the average of bytes transfer to the number of users that visit your website, add a line chart layer.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>From the editor, click <span class="strong strong"><strong>+</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_3_2.png" alt="Add new layer button">
</div>
</div>
</li>
<li class="listitem">
<p>From the new layer editor, click the <span class="strong strong"><strong>Chart type</strong></span> dropdown, then click the line chart.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_3_3.png" alt="Change layer type">
</div>
</div>
<p>The chart type for the visualization changes to <span class="strong strong"><strong>Mixed XY</strong></span>.</p>
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop the data fields to the <span class="strong strong"><strong>Drop a field or click to add</strong></span> fields in the editor.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Drag and drop <span class="strong strong"><strong>timestamp</strong></span> to the <span class="strong strong"><strong>Horizontal axis</strong></span> field.
</li>
<li class="listitem">
Drag and drop <span class="strong strong"><strong>clientip</strong></span> to the <span class="strong strong"><strong>Vertical axis</strong></span> field.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Change the <span class="strong strong"><strong>timestamp</strong></span> interval.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the editor, click <span class="strong strong"><strong>timestamp</strong></span> in the line chart layer.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Customize time interval</strong></span>.
</li>
<li class="listitem">
Change the <span class="strong strong"><strong>Minimum interval</strong></span> to <code class="literal">1 days</code>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Change the <span class="strong strong"><strong>Unique count of clientip</strong></span> label and color.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the editor, click <span class="strong strong"><strong>Unique count of clientip</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Display name</strong></span> field, enter <code class="literal">Unique visitors</code> in the line chart layer.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Series color</strong></span> field, enter <span class="strong strong"><strong>#CA8EAE</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</li>
</ol>
</div>
<h4><a id="configure-the-multiaxis-chart"></a>Configure the y-axes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>There is a significant difference between the <span class="strong strong"><strong>timestamp per day</strong></span> and <span class="strong strong"><strong>Unique visitors</strong></span> data, which makes the <span class="strong strong"><strong>Unique visitors</strong></span> data difficult to read. To improve the readability,
display the <span class="strong strong"><strong>Unique visitors</strong></span> data along a second y-axis, then change the formatting. When functions contain multiple formats, separate axes are created by default.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the editor, click <span class="strong strong"><strong>Unique visitors</strong></span> in the line chart layer.
</li>
<li class="listitem">
For <span class="strong strong"><strong>Axis side</strong></span>, click <span class="strong strong"><strong>Right</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
<h4><a id="change-the-visualization-type"></a>Change the visualization type<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the editor, click <span class="strong strong"><strong>Average of bytes</strong></span> in the area chart layer.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Value format</strong></span> dropdown, select <span class="strong strong"><strong>Bytes (1024)</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_3_4.png" alt="Multiaxis chart">
</div>
</div>
</li>
</ol>
</div>
<h4><a id="lens-legend-position"></a>Change the legend position<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>The visualization is done, but the legend uses a lot of space. Change the legend position to the top of the chart.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>From the <span class="strong strong"><strong>Legend</strong></span> dropdown, select the top position.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_3_5.png" alt="legend position">
</div>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>Save</strong></span> the panel, enter <code class="literal">Average Bytes vs. Unique Visitors</code> in the <span class="strong strong"><strong>Title</strong></span> field, then add the panel to the dashboard.
</li>
</ol>
</div>
<h3><a id="percentage-stacked-area"></a>View the health of your website<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>To detect unusual traffic, bad website links, and server errors, create a percentage stacked area chart that displays the associated response codes.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open <span class="strong strong"><strong>Lens</strong></span>.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop the data fields to the <span class="strong strong"><strong>Drop a field or click to add</strong></span> fields in the editor.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Drag and drop <span class="strong strong"><strong>Records</strong></span> to the <span class="strong strong"><strong>Vertical axis</strong></span> field.
</li>
<li class="listitem">
Drag and drop <span class="strong strong"><strong>@timestamp</strong></span> to the <span class="strong strong"><strong>Horizontal axis</strong></span> field.
</li>
</ol>
</div>
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Chart Type</strong></span> dropdown, select <span class="strong strong"><strong>Percentage bar</strong></span>.
</li>
<li class="listitem">
<p>To remove the vertical axis label, click <span class="strong strong"><strong>Left axis</strong></span>, then deselect <span class="strong strong"><strong>Show</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_4_3.png" alt="Turn off axis name">
</div>
</div>
</li>
</ol>
</div>
<h4><a id="add-the-response-code-filters"></a>Add the response code filters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>For each response code that you want to display, create a filter.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the editor, click the <span class="strong strong"><strong>Drop a field or click to add</strong></span> field for <span class="strong strong"><strong>Break down by</strong></span>.
</li>
<li class="listitem">
From <span class="strong strong"><strong>Select a function</strong></span>, click <span class="strong strong"><strong>Filters</strong></span>.
</li>
<li class="listitem">
<p>Add the filter for the successful response codes.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>All records</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>KQL</strong></span> field, enter <code class="literal">response.keyword&gt;=200 AND response.keyword&lt;300</code>.
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Label</strong></span> field, enter <code class="literal">2XX</code>, then press Return.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_4_1.png" alt="First filter in filters aggregation">
</div>
</div>
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Add the filter for the redirect codes.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>Add a filter</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>KQL</strong></span> field, enter <code class="literal">response.keyword&gt;=300 AND response.keyword&lt;400</code>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Label</strong></span> field, enter <code class="literal">3XX</code>, then press Return.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Add the filter for the client error codes.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>Add a filter</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>KQL</strong></span> field, enter <code class="literal">response.keyword&gt;=400 AND response.keyword&lt;500</code>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Label</strong></span> field, enter <code class="literal">4XX</code>, then press Return.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Add the filter for the server error codes.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>Add a filter</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>KQL</strong></span> field, enter <code class="literal">response.keyword&gt;=500 AND response.keyword&lt;600</code>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Label</strong></span> field, enter <code class="literal">5XX</code>, then press Return.
</li>
</ol>
</div>
</li>
<li class="listitem">
To change the color palette, select <span class="strong strong"><strong>Status</strong></span> from the <span class="strong strong"><strong>Color palette</strong></span> dropdown, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Save</strong></span> the panel, enter <code class="literal">Response Codes Over Time</code> in the <span class="strong strong"><strong>Title</strong></span> field, then add the panel to the dashboard.
</li>
</ol>
</div>
<h3><a id="histogram"></a>View the traffic for your website by the hour<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>To find the best time to shut down your website for maintenance, create a histogram that displays the traffic for your website by the hour.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open <span class="strong strong"><strong>Lens</strong></span>.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop <span class="strong strong"><strong>bytes</strong></span> to <span class="strong strong"><strong>Vertical axis</strong></span> in the editor, then configure the options.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>Average of bytes</strong></span>.
</li>
<li class="listitem">
From <span class="strong strong"><strong>Select a function</strong></span>, click <span class="strong strong"><strong>Sum</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Display name</strong></span> field, enter <code class="literal">Transferred bytes</code>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Value format</strong></span> dropdown, select <code class="literal">Bytes (1024)</code>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop <span class="strong strong"><strong>hour_of_day</strong></span> to <span class="strong strong"><strong>Horizontal axis</strong></span> in the editor, then configure the options.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>hour_of_day</strong></span>.
</li>
<li class="listitem">
<p>Click and slide the <span class="strong strong"><strong>Intervals granularity</strong></span> slider until the horizontal axis displays hourly intervals.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_5_2.png" alt="Create custom ranges">
</div>
</div>
</li>
</ol>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>Save</strong></span> the panel, enter <code class="literal">Hourly Traffic Distribution</code> in the <span class="strong strong"><strong>Title</strong></span> field, then add the panel to the dashboard.
</li>
</ol>
</div>
<h3><a id="custom-ranges"></a>View the percent of small versus large transferred files<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>To determine if your users transfer more small files versus large files, create a pie chart that displays the percentage of each size.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open <span class="strong strong"><strong>Lens</strong></span>.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop <span class="strong strong"><strong>bytes</strong></span> to <span class="strong strong"><strong>Vertical axis</strong></span> in the editor, then configure the options.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>Average of bytes</strong></span>.
</li>
<li class="listitem">
From <span class="strong strong"><strong>Select a function</strong></span>, click <span class="strong strong"><strong>Sum</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop <span class="strong strong"><strong>bytes</strong></span> to <span class="strong strong"><strong>Break down by</strong></span> in the editor, then specify the file size ranges.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>bytes</strong></span>.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Create custom ranges</strong></span>, enter the following, then press Return:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Ranges</strong></span> &mdash; <code class="literal">0</code> &#8594; <code class="literal">10240</code>
</li>
<li class="listitem">
<span class="strong strong"><strong>Label</strong></span> &mdash; <code class="literal">Below 10KB</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Add range</strong></span>, enter the following, then press Return:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Ranges</strong></span> &mdash; <code class="literal">10240</code> &#8594; <code class="literal">+∞</code>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Label</strong></span> &mdash; <code class="literal">Above 10KB</code></p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_6_1.png" alt="Custom ranges configuration">
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Value format</strong></span> dropdown, select <span class="strong strong"><strong>Bytes (1024)</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Chart Type</strong></span> dropdown, select <span class="strong strong"><strong>Pie</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_6_2.png" alt="Files size distribution">
</div>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>Save</strong></span> the panel, enter <code class="literal">File size distribution</code> in the <span class="strong strong"><strong>Title</strong></span> field, then add the panel to the dashboard.
</li>
</ol>
</div>
<h3><a id="treemap"></a>View the top sources of website traffic<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>To determine how users find out about your website and where your users are located, create a treemap that displays the percentage of users that
enter your website from specific social media websites, and the top countries where users are located.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open <span class="strong strong"><strong>Lens</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Chart Type</strong></span> dropdown, select <span class="strong strong"><strong>Treemap</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop <span class="strong strong"><strong>Records</strong></span> to the <span class="strong strong"><strong>Size by</strong></span> field in the editor.
</li>
<li class="listitem">
<p>From the editor, click the <span class="strong strong"><strong>Drop a field or click to add</strong></span> field for <span class="strong strong"><strong>Group by</strong></span>, then create a filter for each website traffic source.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From <span class="strong strong"><strong>Select a function</strong></span>, click <span class="strong strong"><strong>Filters</strong></span>.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>All records</strong></span>, enter the following, then press Return:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>KQL</strong></span> &mdash; <code class="literal">referer : *facebook.com*</code>
</li>
<li class="listitem">
<span class="strong strong"><strong>Label</strong></span> &mdash; <code class="literal">Facebook</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Add a filter</strong></span>, enter the following, then press Return:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>KQL</strong></span> &mdash; <code class="literal">referer : *twitter.com*</code>
</li>
<li class="listitem">
<span class="strong strong"><strong>Label</strong></span> &mdash; <code class="literal">Twitter</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Add a filter</strong></span>, enter the following, then press Return:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>KQL</strong></span> &mdash; <code class="literal">NOT referer : *twitter* OR NOT referer: *facebook.com*</code>
</li>
<li class="listitem">
<span class="strong strong"><strong>Label</strong></span> &mdash; <code class="literal">Other</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</li>
</ol>
</div>
<h4><a id="add-the-countries"></a>Add the geographic data<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>To determine the top countries where users are located, add the geographic data.</p>
<p>Compare the top sources of website traffic data to the top three countries.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the <span class="strong strong"><strong>Available fields</strong></span> list, drag and drop <span class="strong strong"><strong>geo.src</strong></span> to the visualization builder.
</li>
<li class="listitem">
<p>To change the <span class="strong strong"><strong>Group by</strong></span> order, click and drag <span class="strong strong"><strong>Top values of geo.src</strong></span> so that it appears first in the editor.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_7_2.png" alt="Treemap vis">
</div>
</div>
</li>
<li class="listitem">
<p>To view only the Facebook and Twitter data, remove the <span class="strong strong"><strong>Other</strong></span> category.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the editor, click <span class="strong strong"><strong>Top values of geo.src</strong></span>.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Advanced</strong></span> dropdown, deselect <span class="strong strong"><strong>Group other values as "Other"</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_7_3.png" alt="Group other values as Other">
</div>
</div>
</li>
</ol>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>Save</strong></span> the panel, enter <code class="literal">Traffic Source For Top 3 Countries</code> in the <span class="strong strong"><strong>Title</strong></span> field, then add the panel to the dashboard.
</li>
</ol>
</div>
<h2><a id="_whats_next_3"></a>What&#8217;s next?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.11/docs/user/dashboard/lens.asciidoc">edit</a></h2>
<p>Your dashboard is complete and provides you with an overall picture of the data from your web server.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_end_to_end_dashboard.png" alt="Final dashboard vis">
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="dashboard.html">« Dashboard</a>
</span>
<span class="next">
<a href="add-panels-with-advanced-editors.html">Create panels with the advanced editors »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
