<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>kafka | Logstash Reference [2.1] | Elastic</title>
<meta class="elastic" name="content" content="kafka | Logstash Reference [2.1]">

<link rel="home" href="index.html" title="Logstash Reference [2.1]"/>
<link rel="up" href="input-plugins.html" title="Input plugins"/>
<link rel="prev" href="plugins-inputs-jmx.html" title="jmx"/>
<link rel="next" href="plugins-inputs-log4j.html" title="log4j"/>
<meta class="elastic" name="product_version" content="2.1"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/2.1"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="2.1"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [2.1]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="logstash-reference.html">Logstash Reference</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="input-plugins.html">Input plugins</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="plugins-inputs-jmx.html">« jmx</a>
</span>
<span class="next">
<a href="plugins-inputs-log4j.html">log4j »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="plugins-inputs-kafka"></a>kafka<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h2>
</div></div></div>
<p>This input will read events from a Kafka topic. It uses the high level consumer API provided
by Kafka to read messages from the broker. It also maintains the state of what has been
consumed using Zookeeper. The default input codec is json</p>
<p>You must configure <code class="literal">topic_id</code>, <code class="literal">white_list</code> or <code class="literal">black_list</code>. By default it will connect to a
Zookeeper running on localhost. All the broker information is read from Zookeeper state</p>
<p>Ideally you should have as many threads as the number of partitions for a perfect balance&#8201;&#8212;&#8201;more threads than partitions means that some threads will be idle</p>
<p>For more information see <a href="http://kafka.apache.org/documentation.html#theconsumer" class="ulink" target="_top">http://kafka.apache.org/documentation.html#theconsumer</a></p>
<p>Kafka consumer configuration: <a href="http://kafka.apache.org/documentation.html#consumerconfigs" class="ulink" target="_top">http://kafka.apache.org/documentation.html#consumerconfigs</a></p>
<p>&nbsp;</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_synopsis_21"></a>Synopsis<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h3>
</div></div></div>
<p>This plugin supports the following configuration options:</p>
<p>Required configuration options:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">kafka {
}</pre>
</div>
<p>Available configuration options:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Setting</th>
<th align="left" valign="top">Input type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-add_field" title="add_field"><code class="literal">add_field</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">{}</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-auto_offset_reset" title="auto_offset_reset"><code class="literal">auto_offset_reset</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["largest", "smallest"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"largest"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-black_list" title="black_list"><code class="literal">black_list</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">nil</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-codec" title="codec"><code class="literal">codec</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#codec" title="Codec">codec</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"json"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-consumer_id" title="consumer_id"><code class="literal">consumer_id</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">nil</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-consumer_restart_on_error" title="consumer_restart_on_error"><code class="literal">consumer_restart_on_error</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">true</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-consumer_restart_sleep_ms" title="consumer_restart_sleep_ms"><code class="literal">consumer_restart_sleep_ms</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">0</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-consumer_threads" title="consumer_threads"><code class="literal">consumer_threads</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">1</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-consumer_timeout_ms" title="consumer_timeout_ms"><code class="literal">consumer_timeout_ms</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">-1</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-decoder_class" title="decoder_class"><code class="literal">decoder_class</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"kafka.serializer.DefaultDecoder"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-decorate_events" title="decorate_events"><code class="literal">decorate_events</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">false</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-fetch_message_max_bytes" title="fetch_message_max_bytes"><code class="literal">fetch_message_max_bytes</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">1048576</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-group_id" title="group_id"><code class="literal">group_id</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"logstash"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-key_decoder_class" title="key_decoder_class"><code class="literal">key_decoder_class</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"kafka.serializer.DefaultDecoder"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-queue_size" title="queue_size"><code class="literal">queue_size</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">20</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-rebalance_backoff_ms" title="rebalance_backoff_ms"><code class="literal">rebalance_backoff_ms</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">2000</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-rebalance_max_retries" title="rebalance_max_retries"><code class="literal">rebalance_max_retries</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">4</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-reset_beginning" title="reset_beginning"><code class="literal">reset_beginning</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">false</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-tags" title="tags"><code class="literal">tags</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#array" title="Array">array</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-topic_id" title="topic_id"><code class="literal">topic_id</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">nil</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-type" title="type"><code class="literal">type</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-white_list" title="white_list"><code class="literal">white_list</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">nil</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-kafka.html#plugins-inputs-kafka-zk_connect" title="zk_connect"><code class="literal">zk_connect</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"localhost:2181"</code></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_details_21"></a>Details<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h3>
</div></div></div>
<p>&nbsp;</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-add_field"></a><code class="literal">add_field</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a>
</li>
<li class="listitem">
Default value is <code class="literal">{}</code>
</li>
</ul>
</div>
<p>Add a field to an event</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-auto_offset_reset"></a><code class="literal">auto_offset_reset</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">largest</code>, <code class="literal">smallest</code>
</li>
<li class="listitem">
Default value is <code class="literal">"largest"</code>
</li>
</ul>
</div>
<p><code class="literal">smallest</code> or <code class="literal">largest</code> - (optional, default <code class="literal">largest</code>) If the consumer does not already
have an established offset or offset is invalid, start with the earliest message present in the
log (<code class="literal">smallest</code>) or after the last message in the log (<code class="literal">largest</code>).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-black_list"></a><code class="literal">black_list</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">nil</code>
</li>
</ul>
</div>
<p>Blacklist of topics to exclude from consumption.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-codec"></a><code class="literal">codec</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#codec" title="Codec">codec</a>
</li>
<li class="listitem">
Default value is <code class="literal">"json"</code>
</li>
</ul>
</div>
<p>The codec used for input data. Input codecs are a convenient method for decoding your data before it enters the input, without needing a separate filter in your Logstash pipeline.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-consumer_id"></a><code class="literal">consumer_id</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">nil</code>
</li>
</ul>
</div>
<p>A unique id for the consumer; generated automatically if not set.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-consumer_restart_on_error"></a><code class="literal">consumer_restart_on_error</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>
</li>
</ul>
</div>
<p>Option to restart the consumer loop on error</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-consumer_restart_sleep_ms"></a><code class="literal">consumer_restart_sleep_ms</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">0</code>
</li>
</ul>
</div>
<p>Time in millis to wait for consumer to restart after an error</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-consumer_threads"></a><code class="literal">consumer_threads</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">1</code>
</li>
</ul>
</div>
<p>Number of threads to read from the partitions. Ideally you should have as many threads as the
number of partitions for a perfect balance. More threads than partitions means that some
threads will be idle. Less threads means a single thread could be consuming from more than
one partition</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-consumer_timeout_ms"></a><code class="literal">consumer_timeout_ms</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">-1</code>
</li>
</ul>
</div>
<p>Throw a timeout exception to the consumer if no message is available for consumption after
the specified interval</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-decoder_class"></a><code class="literal">decoder_class</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">"kafka.serializer.DefaultDecoder"</code>
</li>
</ul>
</div>
<p>The serializer class for messages. The default decoder takes a byte[] and returns the same byte[]</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-decorate_events"></a><code class="literal">decorate_events</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>Option to add Kafka metadata like topic, message size to the event.
This will add a field named <code class="literal">kafka</code> to the logstash event containing the following attributes:
  <code class="literal">msg_size</code>: The complete serialized size of this message in bytes (including crc, header attributes, etc)
  <code class="literal">topic</code>: The topic this message is associated with
  <code class="literal">consumer_group</code>: The consumer group used to read in this event
  <code class="literal">partition</code>: The partition this message is associated with
  <code class="literal">key</code>: A ByteBuffer containing the message key</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-fetch_message_max_bytes"></a><code class="literal">fetch_message_max_bytes</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">1048576</code>
</li>
</ul>
</div>
<p>The number of byes of messages to attempt to fetch for each topic-partition in each fetch
request. These bytes will be read into memory for each partition, so this helps control
the memory used by the consumer. The fetch request size must be at least as large as the
maximum message size the server allows or else it is possible for the producer to send
messages larger than the consumer can fetch.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-group_id"></a><code class="literal">group_id</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">"logstash"</code>
</li>
</ul>
</div>
<p>A string that uniquely identifies the group of consumer processes to which this consumer
belongs. By setting the same group id multiple processes indicate that they are all part of
the same consumer group.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-key_decoder_class"></a><code class="literal">key_decoder_class</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">"kafka.serializer.DefaultDecoder"</code>
</li>
</ul>
</div>
<p>The serializer class for keys (defaults to the same default as for messages)</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-queue_size"></a><code class="literal">queue_size</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">20</code>
</li>
</ul>
</div>
<p>Internal Logstash queue size used to hold events in memory after it has been read from Kafka</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-rebalance_backoff_ms"></a><code class="literal">rebalance_backoff_ms</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">2000</code>
</li>
</ul>
</div>
<p>Backoff time between retries during rebalance.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-rebalance_max_retries"></a><code class="literal">rebalance_max_retries</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">4</code>
</li>
</ul>
</div>
<p>When a new consumer joins a consumer group the set of consumers attempt to "rebalance" the
load to assign partitions to each consumer. If the set of consumers changes while this
assignment is taking place the rebalance will fail and retry. This setting controls the
maximum number of attempts before giving up.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-reset_beginning"></a><code class="literal">reset_beginning</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>Reset the consumer group to start at the earliest message present in the log by clearing any
offsets for the group stored in Zookeeper. This is destructive! Must be used in conjunction
with auto_offset_reset &#8658; <em>smallest</em></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-tags"></a><code class="literal">tags</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#array" title="Array">array</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Add any number of arbitrary tags to your event.</p>
<p>This can help with processing later.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-topic_id"></a><code class="literal">topic_id</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">nil</code>
</li>
</ul>
</div>
<p>The topic to consume messages from</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-type"></a><code class="literal">type</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Add a <code class="literal">type</code> field to all events handled by this input.</p>
<p>Types are used mainly for filter activation.</p>
<p>The type is stored as part of the event itself, so you can
also use the type to search for it in Kibana.</p>
<p>If you try to set a type on an event that already has one (for
example when you send an event from a shipper to an indexer) then
a new input will not override the existing type. A type set at
the shipper stays with that event for its life even
when sent to another Logstash server.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-white_list"></a><code class="literal">white_list</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">nil</code>
</li>
</ul>
</div>
<p>Whitelist of topics to include for consumption.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-kafka-zk_connect"></a><code class="literal">zk_connect</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-kafka/edit/master/lib/logstash/inputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">"localhost:2181"</code>
</li>
</ul>
</div>
<p>Specifies the ZooKeeper connection string in the form hostname:port where host and port are
the host and port of a ZooKeeper server. You can also specify multiple hosts in the form
<code class="literal">hostname1:port1,hostname2:port2,hostname3:port3</code>.</p>
<p>The server may also have a ZooKeeper chroot path as part of it&#8217;s ZooKeeper connection string
which puts its data under some path in the global ZooKeeper namespace. If so the consumer
should use the same chroot path in its connection string. For example to give a chroot path of
<code class="literal">/chroot/path</code> you would give the connection string as
<code class="literal">hostname1:port1,hostname2:port2,hostname3:port3/chroot/path</code>.</p>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="plugins-inputs-jmx.html">« jmx</a>
</span>
<span class="next">
<a href="plugins-inputs-log4j.html">log4j »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
