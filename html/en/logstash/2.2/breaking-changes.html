<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Breaking changes | Logstash Reference [2.2] | Elastic</title>
<meta class="elastic" name="content" content="Breaking changes | Logstash Reference [2.2]">

<link rel="home" href="index.html" title="Logstash Reference [2.2]"/>
<link rel="up" href="logstash-reference.html" title="Logstash Reference"/>
<link rel="prev" href="package-repositories.html" title="Package Repositories"/>
<link rel="next" href="upgrading-logstash.html" title="Upgrading Logstash"/>
<meta class="elastic" name="product_version" content="2.2"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/2.2"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="2.2"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="package-repositories.html">« Package Repositories</a>
</span>
<span class="next">
<a href="upgrading-logstash.html">Upgrading Logstash »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [2.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="logstash-reference.html">Logstash Reference</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Breaking changes</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/guide/en/logstash/8.18/breaking-changes.html">latest documentation</a>.
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="breaking-changes"></a>Breaking changes</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc">edit</a></div>
</div></div></div>
<p><span class="strong strong"><strong>Breaking changes in 2.2</strong></span>
Although 2.2 is fully compatible with configurations from older versions, there are some architectural
changes to the pipeline that users need to take into consideration before deploying in production.
These changes are not strictly "breaking" in the semantic versioning sense, but they make Logstash behave differently
in runtime, and can also affect performance. We have compiled such a list in the <a class="xref" href="upgrading-logstash-2.2.html" title="Upgrading Logstash to 2.2">Upgrading Logstash to 2.2</a> section.
Please review it before deploying 2.2 version.</p>
<p><span class="strong strong"><strong>Changes in 2.0</strong></span></p>
<p>Version 2.0 of Logstash has some changes that are incompatible with previous versions of Logstash. This section discusses
what you need to be aware of when migrating to this version.</p>
<div class="position-relative"><h2><a id="_elasticsearch_output_default"></a>Elasticsearch Output Default</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc">edit</a></div>
<p>Starting with the 2.0 release of Logstash, the default Logstash output for Elasticsearch is HTTP. To use the <code class="literal">node</code> or
<code class="literal">transport</code> protocols, download the <a href="/guide/en/logstash/2.0/plugins-outputs-elasticsearch_java.html" class="ulink" target="_top">Elasticsearch Java plugin</a>. The
Logstash HTTP output to Elasticsearch now supports sniffing.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">elasticsearch_java</code> plugin has two versions specific to the version of the underlying Elasticsearch cluster.
Be sure to specify the correct value for the <code class="literal">--version</code> option during installation:
* For Elasticsearch versions before 2.0, use the command
<code class="literal">bin/plugin install --version 1.5.x logstash-output-elasticsearch_java</code>
* For Elasticsearch versions 2.0 and after, use the command
<code class="literal">bin/plugin install --version 2.0.0 logstash-output-elasticsearch_java</code></p>
</div>
</div>
<div class="position-relative"><h3><a id="_configuration_changes"></a>Configuration Changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc">edit</a></div>
<p>The Elasticsearch output plugin configuration has the following changes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">host</code> configuration option is now <code class="literal">hosts</code>, allowing you to specify multiple hosts and associated ports in the
<code class="literal">myhost:9200</code> format
</li>
<li class="listitem">
New options: <code class="literal">bind_host</code>, <code class="literal">bind_port</code>, <code class="literal">cluster</code>, <code class="literal">embedded</code>, <code class="literal">embedded_http_port</code>, <code class="literal">port</code>, <code class="literal">sniffing_delay</code>
</li>
<li class="listitem">
The <code class="literal">max_inflight_requests</code> option, which was deprecated in the 1.5 release, is now removed
</li>
<li class="listitem">
Since the <code class="literal">hosts</code> option allows specification of ports for the hosts, the redundant <code class="literal">port</code> option is now removed
</li>
<li class="listitem">
The <code class="literal">node_name</code> and <code class="literal">protocol</code> options have been moved to the <code class="literal">elasticsearch_java</code> plugin
</li>
</ul>
</div>
<p>The following deprecated configuration settings are removed in this release:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
input plugin configuration settings: <code class="literal">debug</code>, <code class="literal">format</code>, <code class="literal">charset</code>, <code class="literal">message_format</code>
</li>
<li class="listitem">
output plugin configuration settings: <code class="literal">type</code>, <code class="literal">tags</code>, <code class="literal">exclude_tags</code>.
</li>
<li class="listitem">
filter plugin configuration settings: <code class="literal">type</code>, <code class="literal">tags</code>, <code class="literal">exclude_tags</code>.
</li>
</ul>
</div>
<p>Configuration files with these settings present are invalid and prevent Logstash from starting.</p>
<div class="position-relative"><h3><a id="_kafka_output_configuration_changes"></a>Kafka Output Configuration Changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc">edit</a></div>
<p>The 2.0 release of Logstash includes a new version of the Kafka output plugin with significant configuration changes.
Please compare the documentation pages for the
<a href="/guide/en/logstash/1.5/plugins-outputs-kafka.html" class="ulink" target="_top">Logstash 1.5</a> and
<a href="/guide/en/logstash/2.0/plugins-outputs-kafka.html" class="ulink" target="_top">Logstash 2.0</a> versions of the Kafka output plugin
and update your configuration files accordingly.</p>
<div class="position-relative"><h3><a id="_metrics_filter_changes"></a>Metrics Filter Changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc">edit</a></div>
<p>Prior implementations of the metrics filter plugin used dotted field names. Elasticsearch does not allow field names to
have dots, beginning with version 2.0, so a change was made to use sub-fields instead of dots in this plugin. Please note
that these changes make version 3.0.0 of the metrics filter plugin incompatible with previous releases.</p>
<div class="position-relative"><h3><a id="_filter_worker_default_change"></a>Filter Worker Default Change</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/master/docs/static/breaking-changes.asciidoc">edit</a></div>
<p>Starting with the 2.0 release of Logstash, the default value of the <code class="literal">filter_workers</code> configuration option for filter
plugins is half of the available CPU cores, instead of 1. This change increases parallelism in filter execution for
resource-intensive filtering operations. You can continue to use the <code class="literal">-w</code> flag to manually set the value for this option,
as in previous releases.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="package-repositories.html">« Package Repositories</a>
</span>
<span class="next">
<a href="upgrading-logstash.html">Upgrading Logstash »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
