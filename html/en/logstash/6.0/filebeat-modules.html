<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Working with Filebeat Modules | Logstash Reference [6.0] | Elastic</title>
<meta class="elastic" name="content" content="Working with Filebeat Modules | Logstash Reference [6.0]">

<link rel="home" href="index.html" title="Logstash Reference [6.0]"/>
<link rel="up" href="index.html" title="Logstash Reference [6.0]"/>
<link rel="prev" href="netflow-module.html" title="Logstash Netflow Module"/>
<link rel="next" href="logstash-config-for-filebeat-modules.html" title="Configuration Examples"/>
<meta class="elastic" name="product_version" content="6.0"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/6.0"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="6.0"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="icon" href="/favicon.ico" sizes="32x32"/>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml"/>
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180"/>
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="netflow-module.html">« Logstash Netflow Module</a>
</span>
<span class="next">
<a href="logstash-config-for-filebeat-modules.html">Configuration Examples »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [6.0]</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Working with Filebeat Modules</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/6.0/docs/static/filebeat-modules.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/reference/logstash/working-with-filebeat-modules">latest documentation</a>.
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="filebeat-modules"></a>Working with Filebeat Modules</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/6.0/docs/static/filebeat-modules.asciidoc">edit</a></div>
</div></div></div>
<p>Filebeat comes packaged with pre-built  Filebeatfilebeat-modules.html[modules]
that contain the configurations needed to collect, parse, enrich, and visualize
data from various log file formats. Each Filebeat module consists of one or more
filesets that contain ingest node pipelines, Elasticsearch templates, Filebeat
prospector configurations, and Kibana dashboards.</p>
<p>Filebeat modules are a great way to get started, but you might find that ingest
pipelines don&#8217;t offer the processing power that you require. If that&#8217;s the case,
you&#8217;ll need to use Logstash.</p>
<div class="position-relative"><h3><a id="graduating-to-Logstash"></a>Using Logstash instead of Ingest Node</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/6.0/docs/static/filebeat-modules.asciidoc">edit</a></div>
<p>Logstash provides an <a class="xref" href="ingest-converter.html" title="Converting Ingest Node Pipelines">ingest pipeline conversion tool</a>
to help you migrate ingest pipeline definitions to Logstash configs. However,
the tool does not currently support all the processors that are available for
ingest node.</p>
<p>You can follow the steps in this section to build and run Logstash
configurations that parse the data collected by Filebeat modules. Then you&#8217;ll be
able to use the same dashboards available with Filebeat to visualize your data
in Kibana.</p>
<div class="position-relative"><h4><a id="_create_and_start_the_logstash_pipeline"></a>Create and start the Logstash pipeline</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/6.0/docs/static/filebeat-modules.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Create a Logstash pipeline configuration that reads from the Beats input and
parses the events.</p>
<p>See <a class="xref" href="logstash-config-for-filebeat-modules.html" title="Configuration Examples">Configuration Examples</a> for detailed examples.</p>
</li>
<li class="listitem">
<p>Start Logstash, passing in the pipeline configuration file that parses the
log. For example:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">bin/logstash -f mypipeline.conf</pre>
</div>
<p>You&#8217;ll see the following message when Logstash is running and listening for
input from Beats:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">[2017-10-13T00:01:15,413][INFO ][logstash.inputs.beats    ] Beats inputs: Starting input listener {:address=&gt;"127.0.0.1:5044"}
[2017-10-13T00:01:15,443][INFO ][logstash.pipeline        ] Pipeline started {"pipeline.id"=&gt;"main"}</pre>
</div>
</li>
</ol>
</div>
<p>The Logstash pipeline is now ready to receive events from Filebeat. Next, you
set up and run Filebeat.</p>
<div class="position-relative"><h4><a id="_set_up_and_run_filebeat"></a>Set up and run Filebeat</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/6.0/docs/static/filebeat-modules.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>If you haven&#8217;t already set up the Filebeat index template and sample Kibana
dashboards, run the Filebeat <code class="literal">setup</code> command to do that now:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">./filebeat -e setup</pre>
</div>
<p>The <code class="literal">-e</code> flag is optional and sends output to standard error instead of syslog.</p>
<p>A connection to Elasticsearch and Kibana is required for this one-time setup
step because Filebeat needs to create the index template in Elasticsearch and
load the sample dashboards into Kibana.</p>
<p>After the template and dashboards are loaded, you&#8217;ll see the message <code class="literal">INFO
Kibana dashboards successfully loaded. Loaded dashboards</code>.</p>
</li>
<li class="listitem">
<p>Configure Filebeat to send log lines to Logstash. To do this, in the
<code class="literal">filebeat.yml</code> config file, disable the Elasticsearch output, and enable the
Logstash output. For example:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">#output.elasticsearch:
  #hosts: ["localhost:9200"]
output.logstash:
  hosts: ["localhost:5044"]</pre>
</div>
</li>
<li class="listitem">
<p>Run the <code class="literal">modules enable</code> command to enable the modules that you want to run.
For example:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">./filebeat modules enable nginx</pre>
</div>
<p>You can further configure the module by editing the config file under the
Filebeat <code class="literal">modules.d</code> directory. For example, if the log files are not in the
location expected by the module, you can set the <code class="literal">var.paths</code> option.</p>
</li>
<li class="listitem">
<p>Start Filebeat. For example, to start Filebeat in the foreground, use:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">./filebeat -e</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Depending on how you&#8217;ve installed Filebeat, you might see errors
related to file ownership or permissions when you try to run Filebeat modules.
See <a href="/guide/en/beats/libbeat/6.0//config-file-permissions.html" class="ulink" target="_top">Config File Ownership and Permissions</a>
in the <em>Beats Platform Reference</em> if you encounter errors related to file
ownership or permissions.</p>
</div>
</div>
<p>See Filebeat/filebeat-starting.html[Starting Filebeat] for more info.</p>
</li>
</ol>
</div>
<div class="position-relative"><h4><a id="_visualize_the_data"></a>Visualize the data</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/6.0/docs/static/filebeat-modules.asciidoc">edit</a></div>
<p>To visualize the data in Kibana, launch the Kibana web interface by pointing
your browser to port 5601. For example,
<a href="http://127.0.0.1:5601" class="ulink" target="_top">http://127.0.0.1:5601</a>.</p>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="netflow-module.html">« Logstash Netflow Module</a>
</span>
<span class="next">
<a href="logstash-config-for-filebeat-modules.html">Configuration Examples »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
