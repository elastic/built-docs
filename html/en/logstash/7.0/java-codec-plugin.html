<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>How to write a Java codec plugin
        | Logstash Reference [7.0]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Logstash Reference [7.0]" /><link rel="up" href="contributing-java-plugin.html" title="Contributing a Java Plugin" /><link rel="prev" href="java-input-plugin.html" title="How to write a Java input plugin" /><link rel="next" href="java-filter-plugin.html" title="How to write a Java filter plugin" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Logstash/Reference/7.0" /><meta name="DC.subject" content="Logstash" /><meta name="DC.identifier" content="7.0" />
    

    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
<meta name="apple-mobile-web-app-title" content="Elastic">
<meta name="application-name" content="Elastic">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<meta name="theme-color" content="#ffffff">
<meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
<meta name="yandex-verification" content="d8a47e95d0972434" />
<!-- DC tags section -->
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
<link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >



	



<!-- end DC tags -->


	<meta name="description" content="" />



	<meta name="localized" content="true" />


















		
			<meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
		

		

    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">

	 

    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    
    

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  <script type="text/javascript">
  // -------------------- set language based on browser language --------------------
  var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

  if($.cookie("is_lang_detected") == undefined){
    if(locales[lang] != undefined && locales[lang] != currentlocale){
      locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
      $.cookie("is_lang_detected",true ,{ path: '/'}); 
      window.location = locale_lang_url;
    } 
  }
        
  // --------------------- end of set language based on browser language -----------------
  </script>

  

	
	<link type="text/css" rel="stylesheet" href="/static/css/guide.css" />


  
<link rel="stylesheet" type="text/css" href="styles.css" />

</head>
  <body >
  	<!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5"
                              height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
<script src="/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>


<script type="text/javascript">
  var active;
  
  active = Math.random() < 1 //0.9 
  
  elasticApm.init({
    active: active,
    serviceName: "elastic-co-frontend",
    serverUrl: "https://elastic-co-apm-server.app.elstc.co"
  })

  var pageLoadName
  var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
  var parts = pathname.split('/');

  if (parts.length && parts[1] === 'blog') {
    if (parts.length === 2) {
      pageLoadName =  '/blog';
    }
    else if (parts[2] === 'category') {
      pageLoadName =  '/blog/category';
    }
    else if (parts[2] === 'archive') {
      pageLoadName =  '/blog/archive';
    }
    else {
      pageLoadName =  '/blog/detail';
    }
  }
  else if (parts.length && parts[1] === 'elasticon') {
    if (parts.length === 2) {
      pageLoadName =  '/elasticon';
    }
    else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/overview';
    }
    else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
      pageLoadName =  '/elasticon/video';
    }
  }
  else if (parts.length && parts[1] === 'guide') {
    pageLoadName =  '/guide';
  }
  else if (parts.length === 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos';
  }
  else if (parts.length > 2 && parts[1] === 'videos') {
    pageLoadName =  '/videos/detail';
  }
  else if (parts.length > 2 && parts[1] === 'webinars') {
    pageLoadName =  '/webinars/detail';
  }
  else {
    pageLoadName =  window.location.pathname;
  }

  console.log('apm pageLoadName:', pageLoadName, parts)
  elasticApm.setTags({env:"production"});
  elasticApm.setInitialPageLoadName(pageLoadName);
</script>

<!-- Elastic APM -->


    <!-- Header Section -->
    
<header class="header-wrapper">
  



  




<div class="navigation-wrapper">
  <div class="container">
    <nav class="navbar">
    <!-- Brand and toggle get grouped for better mobile display -->

    <div class="navbar-mobile-header navbar-header mr-20 mr-xs-0">
      <div class="row hidden-sm hidden-md hidden-lg">
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg">
          <div class="navbar-mobile-header-icon navbar-mobile-header-icon-out">
            <span></span>
            <span></span>
            <span></span>
          </div>
          
        </div>
        <div class="col-xs-2 text-center">
          <div class="navbar-brand" id="elastic">
            <div id="logo">
              <a class="logo-m hidden-sm hidden-md hidden-lg" href="/">
                <img src="/assets/blta09706b1c5cc1e99/elastic-logo-mobile.svg" alt="elastic-logo-mobile">
              </a>
            </div>
          </div>
        </div>
        <div class="col-xs-5 hidden-sm hidden-md hidden-lg text-right">
          <ul class="menu-m hidden-sm hidden-md hidden-lg">
            <li class=""><a class="icon-contact" href="/contact"></a></li>

            <li id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>
            <li class="lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              <ul class="language-list">
                
                  
                    
                  
                  
                  <li><a href="/de/" data-value="/de/" id="locale-select">Deutsch</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="#" data-value="/" id="locale-select">English</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/es/" data-value="/es/" id="locale-select">Español</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/fr/" data-value="/fr/" id="locale-select">Français</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/jp/" data-value="/jp/" id="locale-select">日本語</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/kr/" data-value="/kr/" id="locale-select">한국어</a></li>
                  
                
                  
                    
                  
                  
                  <li><a href="/cn/" data-value="/cn/" id="locale-select">简体中文</a></li>
                  
                
              </ul>
            </li>
          </ul>
        </div>
      </div>

      <div class="navbar-brand hidden-xs" id="elastic">
        <div id="logo">
          <a class="hidden-xs" id="elastic-logo" href="/">
            <img src="/assets/blt244a845f141977c3/elastic-logo.svg" alt="elastic-logo">
          </a>
        </div>
      </div>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse mobile-inner-nav">
      <nav class="nav navbar-nav primary-nav-hover" id="nav">
        <ul>
        
          
            
              
            
            <li>
              <a class=" " href="/products">Products</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/cloud">Cloud</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/services">Services</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/use-cases">Customers</a>
            </li>
          
        
          
            
              
            
            <li>
              <a class=" " href="/learn">Learn</a>
            </li>
          
        
          
        
        </ul>
      </nav>
      <nav class="nav navbar-nav navbar-right hidden-xs">
        <ul>
          <li class="hidden-xs hidden-sm"><a href="/downloads">downloads</a></li>
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-download" href="/downloads"></a></li>
          <!-- To set parameters to contact button -->
          
           
            
          

          
            
            
          
          <li class="hidden-xs hidden-sm"><a class="btn btn-secondary btn-contact" href="/contact?storm=global-header-en">contact</a></li>
          <!-- ////////////////ends here///////////////-->          
          <li class="hidden-xs hidden-md hidden-lg"><a class="icon-contact" href="/contact?storm=global-header-en"></a></li>
          <li class="hidden-xs" id="searchbar"><a class="button icon" href="#" alt="Search"></a></li>

          <li class="hidden-xs lang global-language">
                
                  
                
                  
                    <a href="#">EN</a>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
               <ul class="language-list">
              
                
                  
                
              
              <li><a class="" href="/de/" data-value="/de/">Deutsch</a></li>
              
              
                
                  
                
              
              <li><a class="" href="#" data-value="/">English</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/es/" data-value="/es/">Español</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/fr/" data-value="/fr/">Français</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/jp/" data-value="/jp/">日本語</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/kr/" data-value="/kr/">한국어</a></li>
              
              
                
                  
                
              
              <li><a class="" href="/cn/" data-value="/cn/">简体中文</a></li>
              
              
            </ul>
          </li>
        </ul>
      </nav>
    </div><!-- /.navbar-collapse -->
  </nav>
  </div>
</div>

<div class="header-search-wrapper open-search"> 
  <div class="container">
    <div class="big-search">
      <i class="big-search-icon"></i>
      <form id="searchfrm" name="searchForm" autocomplete="on" action="/search" method="get">
        <ul class="tags-wrapper">
          <li class="search-field"><input type="text" name="q" id="autocomplete" class="form-control global-input" autocomplete="off"></li>
        </ul>
      </form>
      <a class="header-search-cancel" href="#"></a>
    </div>
    <div class="nav-auto-complete"></div>
  </div>
</div>
</header>
<link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">
<style> 
    
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    
    
</style>
<script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>
<script type="text/javascript">
  $(document).ready( function(){
    // if($('#scrollable-pane li').length > 3){
      $('.horizon-swiper').horizonSwiper({
        showItems: 3,
        arrows: true
      }); 
    // }
    
    $('.navbar-toggle').on('click', function(){
      $('.mobile-navigation, .menu-open').hide();
      $('.navigation-wrapper').addClass('mobile-navigation');
      $('.navbar').addClass('menu-open');
      $('.menu-close').show();
    });
    $('.menu-close').on('click', function(){
      $('.navigation-wrapper').removeClass('mobile-navigation');
      $('.navbar').removeClass('menu-open');
      $('.menu-close').hide();
    });

    var active_url = "";

    $(".navbar-mobile-header-icon").click(function(index){
      $('.navigation-wrapper').toggleClass('menu-overlay');
      $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
      $(".mobile-inner-nav").slideToggle(500);
      $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
        $(this).css({'animation-delay': (index/25)+'0.4s'});
      });
    });

    $('.dropdown-btn').on('click', function(e){
      e.preventDefault();
      setDropdown();
    });
    
    function setDropdown() {
      $('#myDropdown').slideToggle();
    }

    $('body').on('click', function(event){
      if (!event.target.matches('.dropdown-btn')) {

        var dropdowns = $(".dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    });

    // if($(window).width() < 769){
    //   var $item = $('.scrollable-panel li'), 
    //       visible = 3, //Set the number of items that will be visible
    //       index = 0, //Starting index
    //       endIndex = ( $item.length / visible ) - 1; //End index (NOTE:: Requires visible to be a factor of $item.length... You can improve this by rounding...)

    //   $('#right-arrow').click(function(){
    //     if(index < endIndex ){
    //       index++;
    //       $item.animate({'left':'-=300px'});
    //     }
    //   });

    //   $('#left-arrow').click(function(){
    //     if(index > 0){
    //       index--;            
    //       $item.animate({'left':'+=300px'});
    //     }
    //   });
    // }
  });
  $(window).resize(function () {
    $('.horizon-swiper').horizonSwiper({
      showItems: 3,
      arrows: true
    });
  });
</script>
    
      


  





  
  
  
  
    <div class="tertiary-nav bdr-btm-e0e0e0">
      <div class="container">
        <div class="p-t-b-15 clearfix">
          <div class="breadcrum-wrapper pull-left text-left">
          
            <a href="/guide">Docs</a> 
          
          </div>
          
          
          
        </div>
      </div>
    </div>

    <div class="nav-mobile-dropdown hidden-sm hidden-md hidden-lg bdr-btm-e0e0e0 clearfix">
      <div class="container text-right">
        <div class="breadcrum-wrapper pull-left text-left">
          
              <a href="/guide">Docs</a>
          
        </div>
        
        
      </div>
    </div>
  


<style type="text/css">

  
</style>
    
    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   
          
            
        			<!-- <div class="pageheader">
	<div class="common-container">
		
			<h2 class="page-title">Guide template</h2>
		
	</div>
</div> -->


        		
          

          
	<section id="guide" lang="en">
		<div class="container">
			<div class="row">
			  <!-- start body -->
				
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Logstash Reference
      [7.0]
    </a></span> » <span class="breadcrumb-link"><a href="contributing-java-plugin.html">Contributing a Java Plugin</a></span> » <span class="breadcrumb-node">How to write a Java codec plugin</span></div><div class="navheader"><span class="prev"><a href="java-input-plugin.html">
              « 
              How to write a Java input plugin</a>
           
        </span><span class="next">
           
          <a href="java-filter-plugin.html">How to write a Java filter plugin
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="java-codec-plugin"></a>How to write a Java codec plugin<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><div class="warning admon"><div class="icon"><img alt="Warning" src="images/icons/warning.png" /></div><div class="admon_content"><p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p></div></div><p>To develop a new Java codec for Logstash, you write a new Java class that
conforms to the Logstash Java Codecs API, package it, and install it with the
logstash-plugin utility. We’ll go through each of those steps.</p><h3><a id="_set_up_your_environment_2"></a>Set up your environment<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><h4><a id="_copy_the_example_repo_2"></a>Copy the example repo<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Start by copying the <a class="ulink" href="https://github.com/logstash-plugins/logstash-codec-java_codec_example" target="_top">example codec plugin</a>. The plugin API is currently part of the
Logstash codebase so you must have a local copy of that available. You can
obtain a copy of the Logstash codebase with the following <code class="literal">git</code> command:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-shell">git clone --branch &lt;branch_name&gt; --single-branch https://github.com/elastic/logstash.git &lt;target_folder&gt;</pre></div><p>The <code class="literal">branch_name</code> should correspond to the version of Logstash containing the
preferred revision of the Java plugin API.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The beta version of the Java plugin API is available in the <code class="literal">6.7</code>
branch of the Logstash codebase.</p></div></div><p>Specify the <code class="literal">target_folder</code> for your local copy of the Logstash codebase. If you
do not specify <code class="literal">target_folder</code>, it defaults to a new folder called <code class="literal">logstash</code>
under your current folder.</p><h4><a id="_generate_the_jar_file_2"></a>Generate the .jar file<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>After you have obtained a copy of the appropriate revision of the Logstash
codebase, you need to compile it to generate the .jar file containing the Java
plugin API. From the root directory of your Logstash codebase ($LS_HOME), you
can compile it with <code class="literal">./gradlew assemble</code> (or <code class="literal">gradlew.bat assemble</code> if you’re
running on Windows). This should produce the
<code class="literal">$LS_HOME/logstash-core/build/libs/logstash-core-x.y.z.jar</code> where <code class="literal">x</code>, <code class="literal">y</code>, and
<code class="literal">z</code> refer to the version of Logstash.</p><p>After you have successfully compiled Logstash, you need to tell your Java plugin
where to find the <code class="literal">logstash-core-x.y.z.jar</code> file. Create a new file named
<code class="literal">gradle.properties</code> in the root folder of your plugin project. That file should
have a single line:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-txt">LOGSTASH_CORE_PATH=&lt;target_folder&gt;/logstash-core</pre></div><p>where <code class="literal">target_folder</code> is the root folder of your local copy of the Logstash codebase.</p><h3><a id="_code_the_plugin_2"></a>Code the plugin<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The example codec plugin decodes messages separated by a configurable delimiter
and encodes messages by writing their string  representation separated by a
delimiter. For example, if the codec were configured with <code class="literal">/</code> as the delimiter,
the input text <code class="literal">event1/event2/</code> would be decoded into two separate events with
<code class="literal">message</code> fields of <code class="literal">event1</code> and <code class="literal">event2</code>,  respectively. Note that this is only
an example codec and does not cover all the edge cases that a production-grade
codec should cover.</p><p>Let’s look at the main class in that codec filter:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">@LogstashPlugin(name="java_codec_example")
public class JavaCodecExample implements Codec {

    public static final PluginConfigSpec&lt;String&gt; DELIMITER_CONFIG =
            PluginConfigSpec.stringSetting("delimiter", ",");

    private final String id;
    private final String delimiter;
    private final CharsetEncoder encoder;
    private Event currentEncodedEvent;
    private CharBuffer currentEncoding;

    public JavaCodecExample(final Configuration config, final Context context) {
        this(config.get(DELIMITER_CONFIG));
    }

    private JavaCodecExample(String delimiter) {
        this.id = UUID.randomUUID().toString();
        this.delimiter = delimiter;
        this.encoder = Charset.defaultCharset().newEncoder();
    }

    @Override
    public void decode(ByteBuffer byteBuffer, Consumer&lt;Map&lt;String, Object&gt;&gt; consumer) {
        // a not-production-grade delimiter decoder
        byte[] byteInput = new byte[byteBuffer.remaining()];
        byteBuffer.get(byteInput);
        if (byteInput.length &gt; 0) {
            String input = new String(byteInput);
            String[] split = input.split(delimiter);
            for (String s : split) {
                Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
                map.put("message", s);
                consumer.accept(map);
            }
        }
    }

    @Override
    public void flush(ByteBuffer byteBuffer, Consumer&lt;Map&lt;String, Object&gt;&gt; consumer) {
        // if the codec maintains any internal state such as partially-decoded input, this
        // method should flush that state along with any additional input supplied in
        // the ByteBuffer

        decode(byteBuffer, consumer); // this is a simplistic implementation
    }

    @Override
    public boolean encode(Event event, ByteBuffer buffer) throws EncodeException {
        try {
            if (currentEncodedEvent != null &amp;&amp; event != currentEncodedEvent) {
                throw new EncodeException("New event supplied before encoding of previous event was completed");
            } else if (currentEncodedEvent == null) {
                currentEncoding = CharBuffer.wrap(event.toString() + delimiter);
            }

            CoderResult result = encoder.encode(currentEncoding, buffer, true);
            buffer.flip();
            if (result.isError()) {
                result.throwException();
            }

            if (result.isOverflow()) {
                currentEncodedEvent = event;
                return false;
            } else {
                currentEncodedEvent = null;
                return true;
            }
        } catch (IOException e) {
            throw new IllegalStateException(e);
        }
    }

    @Override
    public Collection&lt;PluginConfigSpec&lt;?&gt;&gt; configSchema() {
        // should return a list of all configuration options for this plugin
        return Collections.singletonList(DELIMITER_CONFIG);
    }

    @Override
    public Codec cloneCodec() {
        return new JavaCodecExample(this.delimiter);
    }

    @Override
    public String getId() {
        return this.id;
    }
}</pre></div><p>Let’s step through and examine each part of that class.</p><h4><a id="_class_declaration_2"></a>Class declaration<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">@LogstashPlugin(name="java_codec_example")
public class JavaCodecExample implements Codec {</pre></div><p>Notes about the class declaration:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
All Java plugins must be annotated with the <code class="literal">@LogstashPlugin</code> annotation. Additionally:
</p><div class="itemizedlist"><ul class="itemizedlist" type="circle"><li class="listitem">
The <code class="literal">name</code> property of the annotation must be supplied and defines the name of the plugin as it will be used
   in the Logstash pipeline definition. For example, this codec would be referenced in the codec section of the
   an appropriate input or output in the Logstash pipeline defintion as <code class="literal">codec =&gt; java_codec_example { }</code>
</li><li class="listitem">
The value of the <code class="literal">name</code> property must match the name of the class excluding casing and underscores.
</li></ul></div></li><li class="listitem">
The class must implement the <code class="literal">co.elastic.logstash.api.Codec</code> interface.
</li></ul></div><h5><a id="_plugin_settings_2"></a>Plugin settings<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><p>The snippet below contains both the setting definition and the method referencing it:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">public static final PluginConfigSpec&lt;String&gt; DELIMITER_CONFIG =
        PluginConfigSpec.stringSetting("delimiter", ",");

@Override
public Collection&lt;PluginConfigSpec&lt;?&gt;&gt; configSchema() {
    return Collections.singletonList(DELIMITER_CONFIG);
}</pre></div><p>The <code class="literal">PluginConfigSpec</code> class allows developers to specify the settings that a
plugin supports complete with setting  name, data type, deprecation status,
required status, and default value. In this example, the <code class="literal">delimiter</code> setting
defines the delimiter on which the codec will split events. It is not a required
setting and if it is not explicitly  set, its default value will be <code class="literal">,</code>.</p><p>The <code class="literal">configSchema</code> method must return a list of all settings that the plugin
supports. The Logstash execution engine  will validate that all required
settings are present and that no unsupported settings are present.</p><h5><a id="_constructor_and_initialization_2"></a>Constructor and initialization<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h5><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">private final String id;
private final String delimiter;
private final CharsetEncoder encoder;

public JavaCodecExample(final Configuration config, final Context context) {
    this(config.get(DELIMITER_CONFIG));
}

private JavaCodecExample(String delimiter) {
    this.id = UUID.randomUUID().toString();
    this.delimiter = delimiter;
    this.encoder = Charset.defaultCharset().newEncoder();
}</pre></div><p>All Java codec plugins must have a constructor taking a <code class="literal">Configuration</code> and
<code class="literal">Context</code> argument. This is the  constructor that will be used to instantiate
them at runtime. The retrieval and validation of all plugin settings  should
occur in this constructor. In this example, the delimiter to be used for
delimiting events is retrieved from  its setting and stored in a local variable
so that it can be used later in the <code class="literal">decode</code> and <code class="literal">encode</code> methods. The codec’s
ID is initialized to a random UUID (as should be done for most codecs), and a
local <code class="literal">encoder</code> variable is initialized to encode and decode with a specified
character set.</p><p>Any additional initialization may occur in the constructor as well. If there are
any unrecoverable errors encountered in the configuration or initialization of
the codec plugin, a descriptive exception should be thrown. The exception will
be logged and will prevent Logstash from starting.</p><h4><a id="_codec_methods"></a>Codec methods<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">@Override
public void decode(ByteBuffer byteBuffer, Consumer&lt;Map&lt;String, Object&gt;&gt; consumer) {
    // a not-production-grade delimiter decoder
    byte[] byteInput = new byte[byteBuffer.remaining()];
    byteBuffer.get(byteInput);
    if (byteInput.length &gt; 0) {
        String input = new String(byteInput);
        String[] split = input.split(delimiter);
        for (String s : split) {
            Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();
            map.put("message", s);
            consumer.accept(map);
        }
    }
}

@Override
public void flush(ByteBuffer byteBuffer, Consumer&lt;Map&lt;String, Object&gt;&gt; consumer) {
    decode(byteBuffer, consumer); // this is a simplistic implementation
}

@Override
public boolean encode(Event event, ByteBuffer buffer) throws EncodeException {
    try {
        if (currentEncodedEvent != null &amp;&amp; event != currentEncodedEvent) {
            throw new EncodeException("New event supplied before encoding of previous event was completed");
        } else if (currentEncodedEvent == null) {
            currentEncoding = CharBuffer.wrap(event.toString() + delimiter);
        }

        CoderResult result = encoder.encode(currentEncoding, buffer, true);
        buffer.flip();
        if (result.isError()) {
            result.throwException();
        }

        if (result.isOverflow()) {
            currentEncodedEvent = event;
            return false;
        } else {
            currentEncodedEvent = null;
            return true;
        }
    } catch (IOException e) {
        throw new IllegalStateException(e);
    }
}</pre></div><p>The <code class="literal">decode</code>, <code class="literal">flush</code>, and <code class="literal">encode</code> methods provide the core functionality of
the codec. Codecs may be used by inputs to decode a sequence or stream of bytes
into events or by outputs to encode events into a sequence of bytes.</p><p>The <code class="literal">decode</code> method decodes events from the specified <code class="literal">ByteBuffer</code> and passes
them to the provided <code class="literal">Consumer</code>. The  input must provide a <code class="literal">ByteBuffer</code> that is
ready for reading with <code class="literal">byteBuffer.position()</code> indicating the next position to
read and <code class="literal">byteBuffer.limit()</code> indicating the first byte in the buffer that is
not safe to read. Codecs must ensure that <code class="literal">byteBuffer.position()</code> reflects the
last-read position before returning control to the input. The input is then
responsible for returning the buffer to write mode via either
<code class="literal">byteBuffer.clear()</code> or <code class="literal">byteBuffer.compact()</code> before resuming writes. In the
example above, the <code class="literal">decode</code> method simply splits the incoming byte stream on the
specified delimiter. A production-grade codec such as
<a class="ulink" href="https://github.com/elastic/logstash/blob/6.7/logstash-core/src/main/java/org/logstash/plugins/codecs/Line.java" target="_top"><code class="literal">java-line</code></a>
would not make the simplifying assumption that the end of the supplied byte
stream corresponded with the end of an  event.</p><p>The <code class="literal">flush</code> method works in coordination with the <code class="literal">decode</code> method to decode all
remaining events from the specified  <code class="literal">ByteBuffer</code> along with any internal state
that may remain after previous calls to the <code class="literal">decode</code> method. As an example of
internal state that a codec might maintain, consider an input stream of bytes
<code class="literal">event1/event2/event3</code> with a  delimiter of <code class="literal">/</code>. Due to buffering or other
reasons, the input might supply a partial stream of bytes such as  <code class="literal">event1/eve</code>
to the codec’s <code class="literal">decode</code> method. In this case, the codec could save the beginning
three characters <code class="literal">eve</code>  of the second event rather than assuming that the
supplied byte stream ends on an event boundary. If the next call to <code class="literal">decode</code>
supplied the <code class="literal">nt2/ev</code> bytes, the codec would prepend the saved <code class="literal">eve</code> bytes to
produce the full <code class="literal">event2</code> event and then save the remaining <code class="literal">ev</code> bytes for
decoding when the remainder of the bytes for that event were supplied. A call to
<code class="literal">flush</code> signals the codec that the supplied bytes represent the end of an event
stream and all remaining bytes should be decoded to events. The <code class="literal">flush</code> example
above is a simplistic implementation that does not maintain any state about
partially-supplied byte streams across calls to <code class="literal">decode</code>.</p><p>The <code class="literal">encode</code> method encodes an event into a sequence of bytes and writes it into
the specified <code class="literal">ByteBuffer</code>. Under  ideal circumstances, the entirety of the
event’s encoding will fit into the supplied buffer. In cases where the buffer
has insufficient space to hold the event’s encoding, the codec must fill the
buffer with as much of the event’s encoding as possible, the <code class="literal">encode</code> must
return <code class="literal">false</code>, and the output must call the <code class="literal">encode</code> method with the same event
and a buffer that has more <code class="literal">buffer.remaining()</code> bytes. The output typically does
that by draining the partial encoding from the supplied buffer. This process
must be repeated until the event’s entire encoding is written to the buffer at
which point the <code class="literal">encode</code> method will return <code class="literal">true</code>. Attempting to call this
method with a new event before the entirety of the previous event’s encoding has
been written to a buffer must result in an <code class="literal">EncodeException</code>. As the coneptual
inverse of the <code class="literal">decode</code> method, the <code class="literal">encode</code> method must return the buffer in a
state from which it can be read, typically by calling <code class="literal">buffer.flip()</code> before
returning. In the example above, the <code class="literal">encode</code> method attempts to write the
event’s encoding to the supplied buffer. If the buffer contains sufficient free
space, the entirety of the event is written and <code class="literal">true</code> is returned. Otherwise,
the method writes as much of the event’s encoding to the buffer as possible,
returns <code class="literal">false</code>, and stores the remainder to be written to the buffer in the
next call to the <code class="literal">encode</code> method.</p><h4><a id="_clonecodec_method"></a>cloneCodec method<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">@Override
public Codec cloneCodec() {
    return new JavaCodecExample(this.delimiter);
}</pre></div><p>The <code class="literal">cloneCodec</code> method should return an identical instance of the codec with the exception of its ID. Because codecs
may be stateful, a separate instance of each codec must be supplied to each worker thread in a pipeline. For all
pipelines with more than one worker, the <code class="literal">cloneCodec</code> method is called by the Logstash execution engine to create all
codec instances beyond the first. In the example above, the codec is cloned with the same delimiter but a different ID.</p><h4><a id="_getid_method_2"></a>getId method<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">@Override
public String getId() {
    return id;
}</pre></div><p>For codec plugins, the <code class="literal">getId</code> method should always return the id that was set at instantiation time. This is typically
an UUID.</p><h4><a id="_unit_tests_2"></a>Unit tests<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Lastly, but certainly not least importantly, unit tests are strongly encouraged.
The example codec plugin includes an
<a class="ulink" href="https://github.com/logstash-plugins/logstash-codec-java_codec_example/blob/master/src/test/java/org/logstash/javaapi/JavaCodecExampleTest.java" target="_top">example unit
test</a> that you can use as a template for your own.</p><h3><a id="_package_and_deploy_2"></a>Package and deploy<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>Java plugins are packaged as Ruby gems for dependency management and
interoperability with Ruby plugins.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>One of the goals for Java plugin support is to eliminate the need for any
knowledge of Ruby or its toolchain for Java plugin development. Future phases of
the Java plugin project will automate the packaging of Java plugins as Ruby gems
so no direct knowledge of or interaction with Ruby will be required. In the
current phase, Java plugins must still be manually packaged as Ruby gems
and installed with the <code class="literal">logstash-plugin</code> utility.</p></div></div><h4><a id="_compile_to_jar_file_2"></a>Compile to JAR file<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The Java plugin should be compiled and assembled into a fat jar with the
<code class="literal">vendor</code> task in the Gradle build file. This will package all Java dependencies
into a single jar and write it to the correct folder for later packaging into a
Ruby gem.</p><h4><a id="_manually_package_as_ruby_gem_2"></a>Manually package as Ruby gem<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>Several Ruby source files are required to package the jar file as a
Ruby gem. These Ruby files are used only at Logstash startup time to identify
the Java plugin and are not used during runtime event processing.</p><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>These Ruby source files will be automatically generated in a future release.</p></div></div><p><span class="strong strong"><strong><code class="literal">logstash-codec-&lt;codec-name&gt;.gemspec</code></strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-txt">Gem::Specification.new do |s|
  s.name            = 'logstash-codec-java_codec_example'
  s.version         = PLUGIN_VERSION
  s.licenses        = ['Apache-2.0']
  s.summary         = "Example codec using Java plugin API"
  s.description     = ""
  s.authors         = ['Elasticsearch']
  s.email           = 'info@elastic.co'
  s.homepage        = "http://www.elastic.co/guide/en/logstash/current/index.html"
  s.require_paths = ['lib', 'vendor/jar-dependencies']

  # Files
  s.files = Dir["lib/**/*","spec/**/*","*.gemspec","*.md","CONTRIBUTORS","Gemfile","LICENSE","NOTICE.TXT", "vendor/jar-dependencies/**/*.jar", "vendor/jar-dependencies/**/*.rb", "VERSION", "docs/**/*"]

  # Special flag to let us know this is actually a logstash plugin
  s.metadata = { 'logstash_plugin' =&gt; 'true', 'logstash_group' =&gt; 'codec'}

  # Gem dependencies
  s.add_runtime_dependency "logstash-core-plugin-api", "&gt;= 1.60", "&lt;= 2.99"
  s.add_runtime_dependency 'jar-dependencies'

  s.add_development_dependency 'logstash-devutils'
end</pre></div><p>You can use this file with the following modifications:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<code class="literal">s.name</code> must follow the <code class="literal">logstash-codec-&lt;codec-name&gt;</code> pattern
</li><li class="listitem">
<code class="literal">s.version</code> must match the <code class="literal">project.version</code> specified in the <code class="literal">build.gradle</code> file.
Both versions should be set to be read from the <code class="literal">VERSION</code> file in this example.
</li></ul></div><p><span class="strong strong"><strong><code class="literal">lib/logstash/codecs/&lt;codec-name&gt;.rb</code></strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-ruby"># encoding: utf-8
require "logstash/codecs/base"
require "logstash/namespace"
require "logstash-codec-java_codec_example_jars"
require "java"

class LogStash::codecs::JavaCodecExample &lt; LogStash::Codecs::Base
  config_name "java_codec_example"

  def self.javaClass() org.logstash.javaapi.JavaCodecExample.java_class; end
end</pre></div><p>Modify these items in the file above:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Change the name to correspond with the codec name.
</li><li class="listitem">
Change <code class="literal">require "logstash-codec-java_codec_example_jars"</code> to reference the appropriate "jars" file
as described below.
</li><li class="listitem">
Change <code class="literal">class LogStash::Codecs::JavaCodecExample &lt; LogStash::Codecs::Base</code> to provide a unique and
descriptive Ruby class name.
</li><li class="listitem">
Change <code class="literal">config_name "java_codec_example"</code> to match the name of the plugin as specified in the <code class="literal">name</code> property of
the <code class="literal">@LogstashPlugin</code> annotation.
</li><li class="listitem">
Change <code class="literal">def self.javaClass() org.logstash.javaapi.JavaCodecExample.java_class; end</code> to return the
class of the Java codec.
</li></ul></div><p><span class="strong strong"><strong><code class="literal">lib/logstash-codec-&lt;codec-name&gt;_jars.rb</code></strong></span></p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-txt">require 'jar_dependencies'
require_jar('org.logstash.javaapi', 'logstash-codec-java_codec_example', '0.2.0')</pre></div><p>In the file above:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Rename the file to correspond to the codec name.
</li><li class="listitem">
Change the <code class="literal">require_jar</code> directive to correspond to the <code class="literal">group</code> specified in the
Gradle build file, the name of the codec JAR file, and the version as
specified in both the gemspec and Gradle build file.
</li></ul></div><p>After you have created the previous files and the plugin JAR file, build the gem using the
following command:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-shell">gem build logstash-codec-&lt;codec-name&gt;.gemspec</pre></div><h4><a id="_installing_the_java_plugin_in_logstash_2"></a>Installing the Java plugin in Logstash<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>After you have packaged your Java plugin as a Ruby gem, you can install it in
Logstash with this command:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-shell">bin/logstash-plugin install --no-verify --local /path/to/javaPlugin.gem</pre></div><p>For Windows platforms: Substitute backslashes for forward slashes as appropriate in the command.</p><h3><a id="_run_logstash_with_the_java_codec_plugin"></a>Run Logstash with the Java codec plugin<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>To test the plugin, start Logstash with:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-java">echo "foo,bar" | bin/logstash --java-execution -e 'input { java_stdin { codec =&gt; java_codec_example } } }'</pre></div><div class="note admon"><div class="icon"><img alt="Note" src="images/icons/note.png" /></div><div class="admon_content"><p>The <code class="literal">--java-execution</code> flag to enable the Java execution engine is required as Java plugins are not supported
in the Ruby execution engine.</p></div></div><p>The expected Logstash output (excluding initialization) with the configuration above is:</p><div class="pre_wrapper"><pre class="programlisting prettyprint lang-txt">{
      "@version" =&gt; "1",
       "message" =&gt; "foo",
    "@timestamp" =&gt; yyyy-MM-ddThh:mm:ss.SSSZ,
          "host" =&gt; "&lt;yourHostName&gt;"
}
{
      "@version" =&gt; "1",
       "message" =&gt; "bar\n",
    "@timestamp" =&gt; yyyy-MM-ddThh:mm:ss.SSSZ,
          "host" =&gt; "&lt;yourHostName&gt;"
}</pre></div><h3><a id="_feedback_2"></a>Feedback<a href="https://github.com/elastic/logstash/edit/7.0/docs/static/contributing-java-plugin.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>If you have any feedback on Java plugin support in Logstash, please comment on our
<a class="ulink" href="https://github.com/elastic/logstash/issues/9215" target="_top">main Github issue</a> or post in the
<a class="ulink" href="https://discuss.elastic.co/c/logstash" target="_top">Logstash forum</a>.</p></div><div class="navfooter"><span class="prev"><a href="java-input-plugin.html">
              « 
              How to write a Java input plugin</a>
           
        </span><span class="next">
           
          <a href="java-filter-plugin.html">How to write a Java filter plugin
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
					<div id="rtpcontainer" style="display: block;">
						<div class="mktg-promo">
						<h3>Getting Started Videos</h3>
						<ul class="icons">
							<li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
							<li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
							<li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
						</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

        </div>
      	


<div id="footer-subscribe" class="home-footer-subscribe">
  <div class="subscribe-wrapper">
    <div class="container">
      <div class="subscribe-form-container">
        <div class="subscribe-title col-md-12 col-lg-6">
            <h5>Be in the know with the latest and greatest from Elastic.</h5>
        </div>
        <div class="subscribe-form col-md-12 col-lg-6">
          <form class="mktoForm sb-form"></form>
        </div>
      </div>
      <div class="form_thanks hide">
        
          <p>Thanks for subscribing! We'll keep you updated with new releases.</p>
        
      </div>
    </div>
  </div>
</div>
<!--subscribe newsletter end-->

<!-- Footer Section -->
<footer class="footer-wrapper">
  <div class="container">
    <div class="row footer-content">
        
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/products">Products ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/products/elasticsearch">Elasticsearch</a></li>
                  
                
              
                
                  
                    <li><a href="/products/kibana">Kibana</a></li>
                  
                
              
                
                  
                    <li><a href="/products/beats">Beats</a></li>
                  
                
              
                
                  
                    <li><a href="/products/logstash">Logstash</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack">Stack Features (formerly X-Pack)</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/security">Security</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/alerting">Alerting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/canvas">Canvas</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/monitoring">Monitoring</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/graph">Graph</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/reporting">Reporting</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/machine-learning">Machine Learning</a></li>
                  
                
              
                
                  
                    <li><a href="/products/stack/elasticsearch-sql">Elasticsearch SQL</a></li>
                  
                
              
                
                  
                    <li><a href="/products/hadoop">Elasticsearch-Hadoop</a></li>
                  
                
              
                
                  
                    <li><a href="/products/ece">Elastic Cloud Enterprise</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/solutions">Solutions ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/solutions/logging">Logging</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/metrics">Metrics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/site-search">Site Search</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/security-analytics">Security Analytics</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/apm">APM</a></li>
                  
                
              
                
                  
                    <li><a href="/solutions/app-search">App Search</a></li>
                  
                
              
                
                  
                    <li><a href="/google-site-search-alternative">Google Site Search Alternative</a></li>
                  
                
              
              </ul>
              
                <h3><a href="/cloud">Elastic Cloud ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/cloud/elasticsearch-service">Elasticsearch Service</a></li>
                  
                
              
                
                  
                    <li><a href="/aws-elasticsearch-service">AWS Elasticsearch Service Comparison</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/app-search-service">Elastic App Search Service</a></li>
                  
                
              
                
                  
                    <li><a href="/cloud/site-search-service">Elastic Site Search Service</a></li>
                  
                
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3>Resources</h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/blog">Blog</a></li>
                  
                
              
                
                  
                    <li><a href="https://cloud-status.elastic.co">Cloud Status</a></li>
                  
                
              
                
                  
                    <li><a href="/community">Community</a></li>
                  
                
              
                
                  
                    <li><a href="/use-cases">Customers & Use Cases</a></li>
                  
                
              
                
                  
                    <li><a href="/guide">Documentation</a></li>
                  
                
              
                
                  
                    <li><a href="/elasticon">Elastic{ON} Events</a></li>
                  
                
              
                
                  
                    <li><a href="https://discuss.elastic.co/">Forums</a></li>
                  
                
              
                
                  
                    <li><a href="/community/meetups">Meetups</a></li>
                  
                
              
                
                  
                    <li><a href="/subscriptions">Subscriptions</a></li>
                  
                
              
                
                  
                    <li><a href="https://support.elastic.co">Support Portal</a></li>
                  
                
              
                
                  
                    <li><a href="/videos">Videos & Webinars</a></li>
                  
                
              
                
                  
                    <li><a href="/training">Training</a></li>
                  
                
              
              </ul>
              
                <h3></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
      
          <div class="col-xs-6 col-sm-3 col-md-3">
              
                <h3><a href="/about">About ></a></h3>
              
              
              
              <ul class="">
              
                
                  
                    <li><a href="/about/careers">Careers/Jobs</a></li>
                  
                
              
                
                  
                    <li><a href="/about/our-source-code">Our Source Code</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams">Teams</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/board">Board of Directors</a></li>
                  
                
              
                
                  
                    <li><a href="/about/teams/leadership">Leadership</a></li>
                  
                
              
                
                  
                    <li><a href="/contact">Contact</a></li>
                  
                
              
                
                  
                    <li><a href="/about/history-of-elasticsearch">Our Story</a></li>
                  
                
              
                
                  
                    <li><a href="/about/why-open-source">Why Open Source</a></li>
                  
                
              
                
                  
                    <li><a href="/about/distributed">Distributed by Intention</a></li>
                  
                
              
                
                  
                    <li><a href="/about/partners">Partners</a></li>
                  
                
              
                
                  
                    <li><a href="/about/press">Media</a></li>
                  
                
              
                
                  
                    <li><a href="https://ir.elastic.co">Investor Relations</a></li>
                  
                
              
                
                  
                    <li><a href="https://www.elastic.shop">Elastic Store</a></li>
                  
                
              
              </ul>
              
                <h3><a href=""></a></h3>
              
              
              
              <ul class="">
              
              </ul>
          </div>    
       
    </div>
     <!-- Social Media Section -->
    <div class="row social-icon">
      <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3">
	    <div class="row">
		     <div class="follow-us col-xs-12 col-sm-12 col-md-12">
			    <div class="social-label">FOLLOW US</div>
			    <ul class="social-icon-list">
          
          		 	<li class="Facebook"><a id="footer_facebook" href="https://www.facebook.com/elastic.co">Facebook</a></li>
          
          		 	<li class="Twitter"><a id="footer_twitter" href="https://www.twitter.com/elastic">Twitter</a></li>
          
          		 	<li class="LinkedIn"><a id="footer_linkedin" href="https://www.linkedin.com/company/elastic-co">LinkedIn</a></li>
          
          		 	<li class="Xing"><a id="footer_xing" href="https://www.xing.com/companies/elastic.co">Xing</a></li>
          
          		 	<li class="YouTube"><a id="footer_youtube" href="https://www.youtube.com/user/elasticsearch">YouTube</a></li>
          
		  		</ul>
		     </div>
	    </div>
      </div>
    </div>
    <!-- Social Media Section end-->
    <div class="row">
	<div class="col-xs-12 col-sm-12 col-md-11">
		<div class="copyright">
			<ul>
				<li><a href="/legal/trademarks">Trademarks</a></li>
				<li><a href="/legal/terms-of-use">Terms of Use</a></li>
				<li><a href="/legal/privacy-statement">Privacy</a></li>
				<li><a href="/brand">Brand</a></li>
			</ul>
			<div class="copyright-content">
				<div class="footer-text">
					<p>© 2019. Elasticsearch B.V. All Rights Reserved
					</p>
					<p>Elasticsearch is a trademark of Elasticsearch B.V., registered in the U.S. and in other countries.
					</p>
					<p>Apache, Apache Lucene, Apache Hadoop, Hadoop, HDFS and the yellow elephant logo are trademarks of the <a href="http://www.apache.org/">Apache Software Foundation</a> in the United States and/or other countries.
					</p>
				</div>
			</div>
		</div>
	</div>
	<div class="col-xs-2 col-xs-offset-5 col-sm-1 col-sm-offset-5 col-md-1 col-md-offset-0">
		<div class="footer-logo"><a href="/"><img src="/static/images/svg/logo-elastic-footer-stacked-999.svg" class="img-responsive"></a>
		</div>
	</div>
</div>
  </div>
</footer>
<!-- Footer Section end-->

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>
 
     
<script type="text/javascript">
$(document).ready(function(){
	if (window.location.hash.length) {
	      var target = $(window.location.hash);
	      target = target.length ? target : $(window.location.hash);
	      if (target.length) {
	        setTimeout(function(){ $(window).scrollTop(target.offset().top - 60); }, 1200);        
	      }
	}
	$('#guide').on('click','a[href*=#]:not([href=#])',function(e) {
			var flag=true;
		      if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
		          var target = $(this.hash);
		          target = target.length ? target :$(this.hash);
		          if (target.length) {
		            if(flag){
		              flag=false;
		              var heightScroll=($('.tertiary-nav.navbar-fixed-top').height())?60:110;
		              $('html,body').animate({
		                  scrollTop: target.offset().top - heightScroll
		                }, 2000, function(){
		                  flag=true;
		                });
		            }                    
		          }
		      }
		    
	});

})

</script>

     <style></style>
     
  
            <script type="text/javascript" src="docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
