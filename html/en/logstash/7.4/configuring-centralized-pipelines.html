<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Configuring Centralized Pipeline Management | Logstash Reference [7.4] | Elastic</title>
<link rel="home" href="index.html" title="Logstash Reference [7.4]"/>
<link rel="up" href="configuration-advanced.html" title="Advanced Logstash Configurations"/>
<link rel="prev" href="ls-to-ls.html" title="Logstash-to-Logstash Communication"/>
<link rel="next" href="field-references-deepdive.html" title="Field References Deep Dive"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/7.4"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="7.4"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Logstash Reference [7.4]</a></span>
»
<span class="breadcrumb-link"><a href="configuration-advanced.html">Advanced Logstash Configurations</a></span>
»
<span class="breadcrumb-node">Configuring Centralized Pipeline Management</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ls-to-ls.html">« Logstash-to-Logstash Communication</a>
</span>
<span class="next">
<a href="field-references-deepdive.html">Field References Deep Dive »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="configuring-centralized-pipelines"></a>Configuring Centralized Pipeline Management<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/7.4/docs/static/management/configuring-centralized-pipelines.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>To configure
<a href="/guide/en/logstash/7.4/logstash-centralized-pipeline-management.html" class="ulink" target="_top">centralized pipeline management</a>:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Verify that you are using a license that includes the pipeline management
feature.</p>
<p>For more information, see <a href="/subscriptions" class="ulink" target="_top">https://www.elastic.co/subscriptions</a> and
<a href="/guide/en/elastic-stack-overview/7.4/license-management.html" class="ulink" target="_top">License management</a>.</p>
</li>
<li class="listitem">
<p>Specify
<a class="xref" href="configuring-centralized-pipelines.html#configuration-management-settings" title="Configuration Management Settings in Logstash">configuration management settings</a> in the
<code class="literal">logstash.yml</code> file. At a
minimum, set:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">xpack.management.enabled: true</code> to enable centralized configuration
management.
</li>
<li class="listitem">
<code class="literal">xpack.management.elasticsearch.hosts</code> to specify the Elasticsearch
instance that will store the Logstash pipeline configurations and metadata.
</li>
<li class="listitem">
<code class="literal">xpack.management.pipeline.id</code> to register the pipelines that you want to
centrally manage.
</li>
</ul>
</div>
</li>
<li class="listitem">
Restart Logstash.
</li>
<li class="listitem">
If your Elasticsearch cluster is protected with basic authentication, assign
the <code class="literal">logstash_admin</code> role to any users who will use centralized pipeline
management. See <a class="xref" href="ls-security.html" title="Configuring Security in Logstash">X-Pack security</a>.
</li>
</ol>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Centralized management is disabled until you configure and enable
X-Pack security.</p>
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>After you&#8217;ve configured Logstash to use centralized pipeline
management, you can no longer specify local pipeline configurations. This means
that the <code class="literal">pipelines.yml</code> file and settings like <code class="literal">path.config</code> and
<code class="literal">config.string</code> are inactive when this feature is enabled.</p>
</div>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="configuration-management-settings"></a>Configuration Management Settings in Logstash<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/7.4/docs/static/settings/configuration-management-settings.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>

<p>You can set the following <code class="literal">xpack.management</code> settings in <code class="literal">logstash.yml</code> to
enable
<a class="xref" href="logstash-centralized-pipeline-management.html" title="Centralized Pipeline Management">centralized pipeline management</a>.
For more information about configuring Logstash, see <a class="xref" href="logstash-settings-file.html" title="logstash.yml">logstash.yml</a>.</p>
<p>The following example shows basic settings that assume Elasticsearch and Kibana are
installed on the localhost with basic AUTH enabled, but no SSL. If you&#8217;re using
SSL, you need to specify additional SSL settings.</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">xpack.management.enabled: true
xpack.management.elasticsearch.hosts: "http://localhost:9200/"
xpack.management.elasticsearch.username: logstash_admin_user
xpack.management.elasticsearch.password: t0p.s3cr3t
xpack.management.logstash.poll_interval: 5s
xpack.management.pipeline.id: ["apache", "cloudwatch_logs"]</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.management.enabled</code>
</span>
</dt>
<dd>
Set to <code class="literal">true</code> to enable X-Pack centralized configuration management for
Logstash.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.management.logstash.poll_interval</code>
</span>
</dt>
<dd>
How often the Logstash instance polls for pipeline changes from Elasticsearch.
The default is 5s.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.management.pipeline.id</code>
</span>
</dt>
<dd>
Specify a comma-separated list of pipeline IDs to register for centralized
pipeline management. After changing this setting, you need to restart Logstash
to pick up changes.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.management.elasticsearch.hosts</code>
</span>
</dt>
<dd>
The Elasticsearch instance that will store the Logstash pipeline configurations and
metadata. This might be the same Elasticsearch instance specified in the <code class="literal">outputs</code>
section in your Logstash configuration, or a different one. Defaults to
<code class="literal">http://localhost:9200</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.management.elasticsearch.username</code> and <code class="literal">xpack.management.elasticsearch.password</code>
</span>
</dt>
<dd>
If your Elasticsearch cluster is protected with basic authentication, these settings
provide the username and password that the Logstash instance uses to
authenticate for accessing the configuration data. The username you specify here
should have the <code class="literal">logstash_admin</code> role, which provides access to <code class="literal">.logstash-*</code>
indices for managing configurations.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.management.elasticsearch.ssl.certificate_authority</code>
</span>
</dt>
<dd>
Optional setting that enables you to specify a path to the <code class="literal">.pem</code> file for the
certificate authority for your Elasticsearch instance.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.management.elasticsearch.ssl.truststore.path</code>
</span>
</dt>
<dd>
Optional setting that provides the path to the Java keystore (JKS) to validate
the server’s certificate.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.management.elasticsearch.ssl.truststore.password</code>
</span>
</dt>
<dd>
Optional setting that provides the password to the truststore.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.management.elasticsearch.ssl.keystore.path</code>
</span>
</dt>
<dd>
Optional setting that provides the path to the Java keystore (JKS) to validate
the client’s certificate.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.management.elasticsearch.ssl.keystore.password</code>
</span>
</dt>
<dd>
Optional setting that provides the password to the keystore.
</dd>
</dl>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="ls-to-ls.html">« Logstash-to-Logstash Communication</a>
</span>
<span class="next">
<a href="field-references-deepdive.html">Field References Deep Dive »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
