<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>SNMP Integration Plugin | Logstash Reference [8.13] | Elastic</title>
<meta class="elastic" name="content" content="SNMP Integration Plugin | Logstash Reference [8.13]">

<link rel="home" href="index.html" title="Logstash Reference [8.13]"/>
<link rel="up" href="plugin-integrations.html" title="Integration plugins"/>
<link rel="prev" href="plugins-integrations-rabbitmq.html" title="Rabbitmq Integration Plugin"/>
<link rel="next" href="input-plugins.html" title="Input plugins"/>
<meta class="elastic" name="product_version" content="8.13"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/8.13"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="8.13"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="plugins-integrations-rabbitmq.html">« Rabbitmq Integration Plugin</a>
</span>
<span class="next">
<a href="input-plugins.html">Input plugins »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [8.13]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="plugin-integrations.html">Integration plugins</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>SNMP Integration Plugin</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-integration-snmp/edit/main/docs/index.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="plugins-integrations-snmp"></a>SNMP Integration Plugin</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-integration-snmp/edit/main/docs/index.asciidoc">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Plugin version: v4.0.0
</li>
<li class="listitem">
Released on: 2024-05-03
</li>
<li class="listitem">
<a href="https://github.com/logstash-plugins/logstash-integration-snmp/blob/main/CHANGELOG.md" class="ulink" target="_top">Changelog</a>
</li>
</ul>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.</p>
</div>
</div>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Technical Preview</strong></p>
</div></div></div>
<p>The new <code class="literal">integration-snmp</code> plugin, and its component plugins--<code class="literal">input-snmp</code> and <code class="literal">input-snmptrap</code>--are available in <em>Technical Preview</em> and can be installed on the latest Logstash 7.x and 8.x versions.</p>
<p>Current 1.x versions of the <code class="literal">input-snmp</code> plugin are bundled with Logstash by default, and will soon be replaced by the snmp input plugin contained in this integration.
(If you want to opt into the Technical Preview for the <code class="literal">integration-snmp</code> plugin, run <code class="literal">bin/logstash-plugin install logstash-integration-snmp</code>.)</p>
<p>Be aware of behavioral and mapping differences between current stand-alone plugins and the new versions included in the <code class="literal">integration-snmp</code>.
The information in this topic can help.</p>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_description_7"></a>Description</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-integration-snmp/edit/main/docs/index.asciidoc">edit</a></div>
</div></div></div>
<p>The SNMP integration plugin includes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
SNMP input plugin
</li>
<li class="listitem">
SNMPtrap input plugin
</li>
</ul>
</div>
<p>The new <code class="literal">logstash-integration-snmp</code> plugin combines the
<code class="literal">logstash-input-snmp</code> and <code class="literal">logstash-input-snmptrap</code> plugins into a single Ruby gem.
This integrated plugin package provides better alignment in SNMP processing behavior, improved resource management, easier package maintenance, and a smaller installation footprint.
The individual plugins now share the same code base and have been refactored to leverage the latest version of <a href="https://www.snmp4j.org/" class="ulink" target="_top">SNMP4j</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="plugins-integrations-snmp-migration"></a>Migrating to <code class="literal">logstash-integration-snmp</code> from individual plugins</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-integration-snmp/edit/main/docs/index.asciidoc">edit</a></div>
</div></div></div>
<p>You&#8217;ll retain the functionality of existing stand-alone plugins, but with a more consistent experience and expanded features.
In this section, we&#8217;ll note mapping and behavioral changes, and explain how to preserve current behavior if needed.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-integrations-snmp-migration-input-snmp"></a>Migration notes: <code class="literal">logstash-input-snmp</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-integration-snmp/edit/main/docs/index.asciidoc">edit</a></div>
</div></div></div>
<p>As a component of the new <code class="literal">logstash-integration-snmp</code> plugin, the <code class="literal">logstash-input-snmp</code> plugin offers the same
capabilities as the stand-alone <a href="https://github.com/logstash-plugins/logstash-input-snmp" class="ulink" target="_top">logstash-input-snmp</a>.</p>
<p>Given the underlying code refactor to better align snmp and snmptrap plugin behavior, you might need to address some changes depending on your use case and how the ingested data is being handled through the pipeline.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h5 class="title"><a id="plugins-integrations-snmp-input-snmp-mapping"></a>Changes to mapping and error logging: <code class="literal">logstash-input-snmp</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-integration-snmp/edit/main/docs/index.asciidoc">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>No such instance errors</strong></span> are mapped as <code class="literal">error: no such instance currently exists at this OID string</code> instead of <code class="literal">noSuchInstance</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong>No such object errors</strong></span> are mapped as <code class="literal">error: no such object currently exists at this OID string</code> instead of <code class="literal">noSuchObject</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong>End of MIB view errors</strong></span> are mapped as <code class="literal">error: end of MIB view</code> instead of <code class="literal">endOfMibView</code>.
</li>
<li class="listitem">
An <span class="strong strong"><strong>unknown variable type</strong></span> falls back to the <code class="literal">string</code> representation instead of logging an error as it did in with the stand-alone <code class="literal">logstash-input-snmp</code>.
This change should not affect existing pipelines, unless they have custom error handlers that rely on specific error messages.
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-integrations-snmp-migration-input-snmptrap"></a>Migration notes: <code class="literal">logstash-input-snmptrap</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-integration-snmp/edit/main/docs/index.asciidoc">edit</a></div>
</div></div></div>
<p>As a component of the new <code class="literal">logstash-integration-snmp</code> plugin, the <code class="literal">logstash-input-snmptrap</code> plugin offers <em>almost the same
capabilities</em> as the stand-alone <a href="https://github.com/logstash-plugins/logstash-input-snmp" class="ulink" target="_top">logstash-input-snmp</a> plugin.</p>
<p>You might need to address some behavior changes depending on your use case and how the ingested data is being handled through the pipeline.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h5 class="title"><a id="plugins-integrations-snmp-input-snmptrap-mapping"></a>Changes to mapping and error logging: <code class="literal">logstash-input-snmptrap</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-integration-snmp/edit/main/docs/index.asciidoc">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <span class="strong strong"><strong>PDU variable bindings</strong></span> are mapped into the Logstash event using the defined data type.
By default, the stand-alone <code class="literal">logstash-input-snmptrap</code> plugin converts all of the data to <code class="literal">string</code>, ignoring the original type.
If this behavior is not what you want, you can use a filter to retain the original type.
</li>
<li class="listitem">
<span class="strong strong"><strong>SNMP <code class="literal">TimeTicks</code> variables</strong></span> are mapped as <code class="literal">Long</code> timestamps instead of formatted date string (<code class="literal">%d days, %02d:%02d:%02d.%02d</code>).
</li>
<li class="listitem">
<span class="strong strong"><strong><code class="literal">null</code> variables values</strong></span> are mapped using the string <code class="literal">null</code> instead of <code class="literal">Null</code> (upper-case N).
</li>
<li class="listitem">
<span class="strong strong"><strong>No such instance errors</strong></span> are mapped as <code class="literal">error: no such instance currently exists at this OID string</code> instead of <code class="literal">noSuchInstance</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong>No such object errors</strong></span> are mapped as <code class="literal">error: no such object currently exists at this OID string</code> instead of <code class="literal">noSuchObject</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong>End of MIB view errors</strong></span> are mapped as <code class="literal">error: end of MIB view</code> instead of <code class="literal">endOfMibView</code>.
</li>
<li class="listitem">
<p>The previous generation (stand-alone) input-snmptrap plugin formatted the <span class="strong strong"><strong><code class="literal">message</code> field</strong></span> as
a ruby-snmp <code class="literal">SNMP::SNMPv1_Trap</code> object representation.</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">&lt;SNMP::SNMPv1_Trap:0x6f1a7a4 @varbind_list=[#&lt;SNMP::VarBind:0x2d7bcd8f @value="teststring", @name=[1.11.12.13.14.15]&gt;], @timestamp=#&lt;SNMP::TimeTicks:0x1af47e9d @value=55&gt;, @generic_trap=6,  @enterprise=[1.2.3.4.5.6], @source_ip="127.0.0.1", @agent_addr=#&lt;SNMP::IpAddress:0x29a4833e @value="test"&gt;, @specific_trap=99&gt;</pre>
</div>
<p>The new integrated <code class="literal">input-snmptrap</code> plugin uses JSON to format <span class="strong strong"><strong><code class="literal">message</code> field</strong></span>.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{"error_index":0, "variable_bindings":{"1.3.6.1.6.3.1.1.4.1.0":"SNMPv2-MIB::coldStart", "1.3.6.1.2.1.1.3.0":0}, "error_status":0, "type":"TRAP", "error_status_text":"Success", "community":"public", "version":"2c", "request_id":1436216872}</pre>
</div>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h5 class="title"><a id="plugins-integrations-snmp-input-snmptrap-compat"></a>Maintain maximum compatibility with previous implementation</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-integration-snmp/edit/main/docs/index.asciidoc">edit</a></div>
</div></div></div>
<p>If needed, you can configure the new <code class="literal">logstash-integration-snmp</code> plugin to maintain maximum compatibility with the previous (stand-alone)
version of the <a href="https://github.com/logstash-plugins/logstash-input-snmp" class="ulink" target="_top">input-snmp</a> plugin.</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">input {
   snmptrap {
    use_provided_mibs =&gt; false
    oid_mapping_format =&gt; 'ruby_snmp'
    oid_map_field_values =&gt; true
   }
}</pre>
</div>
</div>

</div>

</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="plugins-integrations-rabbitmq.html">« Rabbitmq Integration Plugin</a>
</span>
<span class="next">
<a href="input-plugins.html">Input plugins »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
