<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Jdbc input plugin | Logstash Reference [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Jdbc input plugin | Logstash Reference [8.15]">

<link rel="home" href="index.html" title="Logstash Reference [8.15]"/>
<link rel="up" href="input-plugins.html" title="Input plugins"/>
<link rel="prev" href="plugins-inputs-java_stdin.html" title="Java_stdin input plugin"/>
<link rel="next" href="plugins-inputs-jms.html" title="Jms input plugin"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/8.15"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="8.15"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="plugins-inputs-java_stdin.html">« Java_stdin input plugin</a>
</span>
<span class="next">
<a href="plugins-inputs-jms.html">Jms input plugin »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="input-plugins.html">Input plugins</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Jdbc input plugin</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="plugins-inputs-jdbc"></a>Jdbc input plugin<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h2>
</div></div></div>

<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A component of the <a class="xref" href="plugins-integrations-jdbc.html" title="JDBC Integration Plugin">jdbc integration plugin</a>
</li>
<li class="listitem">
Integration version: v5.4.11
</li>
<li class="listitem">
Released on: 2024-05-23
</li>
<li class="listitem">
<a href="https://github.com/logstash-plugins/logstash-integration-jdbc/blob/v5.4.11/CHANGELOG.md" class="ulink" target="_top">Changelog</a>
</li>
</ul>
</div>
<p>For other versions, see the
<a href="/guide/en/logstash-versioned-plugins/current/input-jdbc-index.html" class="ulink" target="_top">Versioned plugin docs</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_getting_help_32"></a>Getting Help<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>For questions about the plugin, open a topic in the <a href="http://discuss.elastic.co" class="ulink" target="_top">Discuss</a> forums.
For bugs or feature requests, open an issue in <a href="https://github.com/logstash-plugins/logstash-integration-jdbc" class="ulink" target="_top">Github</a>.
For the list of Elastic supported plugins, please consult the <a href="/support/matrix#logstash_plugins" class="ulink" target="_top">Elastic Support Matrix</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_description_31"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>This plugin was created as a way to ingest data in any database
with a JDBC interface into Logstash. You can periodically schedule ingestion
using a cron syntax (see <code class="literal">schedule</code> setting) or run the query one time to load
data into Logstash. Each row in the resultset becomes a single event.
Columns in the resultset are converted into fields in the event.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_drivers"></a>Drivers<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>This plugin does not come packaged with JDBC driver libraries. The desired
jdbc driver library must be explicitly passed in to the plugin using the
<code class="literal">jdbc_driver_library</code> configuration option.</p>
<p>See the <a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_driver_library" title="jdbc_driver_library"><code class="literal">jdbc_driver_library</code></a> and <a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_driver_class" title="jdbc_driver_class"><code class="literal">jdbc_driver_class</code></a>
options for more info.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_scheduling_2"></a>Scheduling<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>Input from this plugin can be scheduled to run periodically according to a specific
schedule. This scheduling syntax is powered by <a href="https://github.com/jmettraux/rufus-scheduler" class="ulink" target="_top">rufus-scheduler</a>.
The syntax is cron-like with some extensions specific to Rufus (e.g. timezone support ).</p>
<p>Examples:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">* 5 * 1-3 *</code></p></td>
<td align="left" valign="top"><p>will execute every minute of 5am every day of January through March.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">0 * * * *</code></p></td>
<td align="left" valign="top"><p>will execute on the 0th minute of every hour every day.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">0 6 * * * America/Chicago</code></p></td>
<td align="left" valign="top"><p>will execute at 6:00am (UTC/GMT -5) every day.</p></td>
</tr>
</tbody>
</table>
</div>
<p>Further documentation describing this syntax can be found <a href="https://github.com/jmettraux/rufus-scheduler#parsing-cronlines-and-time-strings" class="ulink" target="_top">here</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_state"></a>State<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>The plugin will persist the <code class="literal">sql_last_value</code> parameter in the form of a
metadata file stored in the configured <code class="literal">last_run_metadata_path</code>. Upon query execution,
this file will be updated with the current value of <code class="literal">sql_last_value</code>. Next time
the pipeline starts up, this value will be updated by reading from the file. If
<code class="literal">clean_run</code> is set to true, this value will be ignored and <code class="literal">sql_last_value</code> will be
set to Jan 1, 1970, or 0 if <code class="literal">use_column_value</code> is true, as if no query has ever been executed.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_dealing_with_large_result_sets"></a>Dealing With Large Result-sets<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>Many JDBC drivers use the <code class="literal">fetch_size</code> parameter to limit how many
results are pre-fetched at a time from the cursor into the client&#8217;s cache
before retrieving more results from the result-set. This is configured in
this plugin using the <code class="literal">jdbc_fetch_size</code> configuration option. No fetch size
is set by default in this plugin, so the specific driver&#8217;s default size will
be used.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_usage"></a>Usage:<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>Here is an example of setting up the plugin to fetch data from a MySQL database.
First, we place the appropriate JDBC driver library in our current
path (this can be placed anywhere on your filesystem). In this example, we connect to
the <em>mydb</em> database using the user: <em>mysql</em> and wish to input all rows in the <em>songs</em>
table that match a specific artist. The following examples demonstrates a possible
Logstash configuration for this. The <code class="literal">schedule</code> option in this example will
instruct the plugin to execute this input statement on the minute, every minute.</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">input {
  jdbc {
    jdbc_driver_library =&gt; "mysql-connector-java-5.1.36-bin.jar"
    jdbc_driver_class =&gt; "com.mysql.jdbc.Driver"
    jdbc_connection_string =&gt; "jdbc:mysql://localhost:3306/mydb"
    jdbc_user =&gt; "mysql"
    parameters =&gt; { "favorite_artist" =&gt; "Beethoven" }
    schedule =&gt; "* * * * *"
    statement =&gt; "SELECT * from songs where artist = :favorite_artist"
  }
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_configuring_sql_statement"></a>Configuring SQL statement<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>A sql statement is required for this input. This can be passed-in via a
statement option in the form of a string, or read from a file (<code class="literal">statement_filepath</code>). File
option is typically used when the SQL statement is large or cumbersome to supply in the config.
The file option only supports one SQL statement. The plugin will only accept one of the options.
It cannot read a statement from a file as well as from the <code class="literal">statement</code> configuration parameter.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_configuring_multiple_sql_statements"></a>Configuring multiple SQL statements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>Configuring multiple SQL statements is useful when there is a need to query and ingest data
from different database tables or views. It is possible to define separate Logstash
configuration files for each statement or to define multiple statements in a single configuration
file. When using multiple statements in a single Logstash configuration file, each statement
has to be defined as a separate jdbc input (including jdbc driver, connection string and other
required parameters).</p>
<p>Please note that if any of the statements use the <code class="literal">sql_last_value</code> parameter (e.g. for
ingesting only data changed since last run), each input should define its own
<code class="literal">last_run_metadata_path</code> parameter. Failure to do so will result in undesired behaviour, as
all inputs will store their state to the same (default) metadata file, effectively
overwriting each other&#8217;s <code class="literal">sql_last_value</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_predefined_parameters"></a>Predefined Parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>Some parameters are built-in and can be used from within your queries.
Here is the list:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>sql_last_value</p></td>
<td align="left" valign="top"><p>The value used to calculate which rows to query. Before any query is run,
this is set to Thursday, 1 January 1970, or 0 if <code class="literal">use_column_value</code> is true and
<code class="literal">tracking_column</code> is set. It is updated accordingly after subsequent queries are run.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>offset, size</p></td>
<td align="left" valign="top"><p>Values used with manual paging mode to explicitly implement the paging.
Supported only if <a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_paging_enabled" title="jdbc_paging_enabled"><code class="literal">jdbc_paging_enabled</code></a> is enabled and
<a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_paging_mode" title="jdbc_paging_mode"><code class="literal">jdbc_paging_mode</code></a> has the <code class="literal">explicit</code> value.</p></td>
</tr>
</tbody>
</table>
</div>
<p>Example:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">input {
  jdbc {
    statement =&gt; "SELECT id, mycolumn1, mycolumn2 FROM my_table WHERE id &gt; :sql_last_value"
    use_column_value =&gt; true
    tracking_column =&gt; "id"
    # ... other configuration bits
  }
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_prepared_statements"></a>Prepared Statements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>Using server side prepared statements can speed up execution times as the server optimises the query plan and execution.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Not all JDBC accessible technologies will support prepared statements.</p>
</div>
</div>
<p>With the introduction of Prepared Statement support comes a different code execution path and some new settings. Most of the existing settings are still useful but there are several new settings for Prepared Statements to read up on.
Use the boolean setting <code class="literal">use_prepared_statements</code> to enable this execution mode. Use the <code class="literal">prepared_statement_name</code> setting to specify a name for the Prepared Statement, this identifies the prepared statement locally and remotely and it should be unique in your config and on the database. Use the <code class="literal">prepared_statement_bind_values</code> array setting to specify the bind values, use the exact string <code class="literal">:sql_last_value</code> (multiple times if necessary) for the predefined parameter mentioned before. The <code class="literal">statement</code> (or <code class="literal">statement_path</code>) setting still holds the SQL statement but to use bind variables you must use the <code class="literal">?</code> character as a placeholder in the exact order found in the <code class="literal">prepared_statement_bind_values</code> array.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Building count queries around a prepared statement is not supported at this time. Because jdbc paging uses count queries when <code class="literal">jdbc_paging_mode</code> has value <code class="literal">auto</code>，jdbc paging is not supported with prepared statements at this time either. Therefore, <code class="literal">jdbc_paging_enabled</code>, <code class="literal">jdbc_page_size</code> settings are ignored when using prepared statements.</p>
</div>
</div>
<p>Example:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">input {
  jdbc {
    statement =&gt; "SELECT * FROM mgd.seq_sequence WHERE _sequence_key &gt; ? AND _sequence_key &lt; ? + ? ORDER BY _sequence_key ASC"
    prepared_statement_bind_values =&gt; [":sql_last_value", ":sql_last_value", 4]
    prepared_statement_name =&gt; "foobar"
    use_prepared_statements =&gt; true
    use_column_value =&gt; true
    tracking_column_type =&gt; "numeric"
    tracking_column =&gt; "_sequence_key"
    last_run_metadata_path =&gt; "/elastic/tmp/testing/confs/test-jdbc-int-sql_last_value.yml"
    # ... other configuration bits
  }
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_database_specific_considerations"></a>Database-specific considerations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>The JDBC input plugin leverages the <a href="https://github.com/jeremyevans/sequel" class="ulink" target="_top">sequel</a> library to query databases through their JDBC drivers.
The implementation of drivers will vary, however, potentially leading to unexpected behavior.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_unable_to_reuse_connections"></a>Unable to reuse connections<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<p>Some databases - such as Sybase or SQL Anywhere - may have issues with stale connections, timing out between scheduled runs and never reconnecting.</p>
<p>To ensure connections are valid before queries are executed, enable <a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_validate_connection" title="jdbc_validate_connection"><code class="literal">jdbc_validate_connection</code></a> and set <a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_validation_timeout" title="jdbc_validation_timeout"><code class="literal">jdbc_validation_timeout</code></a> to a shorter interval than the <a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-schedule" title="schedule"><code class="literal">schedule</code></a>.</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">input {
  jdbc {
    schedule =&gt; "* * * * *"       # run every minute
    jdbc_validate_connection =&gt; true
    jdbc_validation_timeout =&gt; 50 # 50 seconds
  }
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-inputs-jdbc-options"></a>Jdbc Input Configuration Options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>This plugin supports the following configuration options plus the <a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-common-options" title="Common Options">Common Options</a> described later.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Setting</th>
<th align="left" valign="top">Input type</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-clean_run" title="clean_run"><code class="literal">clean_run</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-columns_charset" title="columns_charset"><code class="literal">columns_charset</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-connection_retry_attempts" title="connection_retry_attempts"><code class="literal">connection_retry_attempts</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-connection_retry_attempts_wait_time" title="connection_retry_attempts_wait_time"><code class="literal">connection_retry_attempts_wait_time</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_connection_string" title="jdbc_connection_string"><code class="literal">jdbc_connection_string</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_default_timezone" title="jdbc_default_timezone"><code class="literal">jdbc_default_timezone</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_driver_class" title="jdbc_driver_class"><code class="literal">jdbc_driver_class</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_driver_library" title="jdbc_driver_library"><code class="literal">jdbc_driver_library</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_fetch_size" title="jdbc_fetch_size"><code class="literal">jdbc_fetch_size</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_page_size" title="jdbc_page_size"><code class="literal">jdbc_page_size</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_paging_enabled" title="jdbc_paging_enabled"><code class="literal">jdbc_paging_enabled</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_paging_mode" title="jdbc_paging_mode"><code class="literal">jdbc_paging_mode</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["auto", "explicit"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_password" title="jdbc_password"><code class="literal">jdbc_password</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#password" title="Password">password</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_password_filepath" title="jdbc_password_filepath"><code class="literal">jdbc_password_filepath</code></a></p></td>
<td align="left" valign="top"><p>a valid filesystem path</p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_pool_timeout" title="jdbc_pool_timeout"><code class="literal">jdbc_pool_timeout</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_user" title="jdbc_user"><code class="literal">jdbc_user</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>Yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_validate_connection" title="jdbc_validate_connection"><code class="literal">jdbc_validate_connection</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_validation_timeout" title="jdbc_validation_timeout"><code class="literal">jdbc_validation_timeout</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-last_run_metadata_path" title="last_run_metadata_path"><code class="literal">last_run_metadata_path</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-lowercase_column_names" title="lowercase_column_names"><code class="literal">lowercase_column_names</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-parameters" title="parameters"><code class="literal">parameters</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-plugin_timezone" title="plugin_timezone"><code class="literal">plugin_timezone</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["local", "utc"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-prepared_statement_bind_values" title="prepared_statement_bind_values"><code class="literal">prepared_statement_bind_values</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#array" title="Array">array</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-prepared_statement_name" title="prepared_statement_name"><code class="literal">prepared_statement_name</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-record_last_run" title="record_last_run"><code class="literal">record_last_run</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-schedule" title="schedule"><code class="literal">schedule</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-sequel_opts" title="sequel_opts"><code class="literal">sequel_opts</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-sql_log_level" title="sql_log_level"><code class="literal">sql_log_level</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["fatal", "error", "warn", "info", "debug"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-statement" title="statement"><code class="literal">statement</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-statement_filepath" title="statement_filepath"><code class="literal">statement_filepath</code></a></p></td>
<td align="left" valign="top"><p>a valid filesystem path</p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-target" title="target"><code class="literal">target</code></a></p></td>
<td align="left" valign="top"><p><a href="/guide/en/logstash/8.15/field-references-deepdive.html" class="ulink" target="_top">field reference</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-tracking_column" title="tracking_column"><code class="literal">tracking_column</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-tracking_column_type" title="tracking_column_type"><code class="literal">tracking_column_type</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["numeric", "timestamp"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-use_column_value" title="use_column_value"><code class="literal">use_column_value</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-use_prepared_statements" title="use_prepared_statements"><code class="literal">use_prepared_statements</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
</tbody>
</table>
</div>
<p>Also see <a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-common-options" title="Common Options">Common Options</a> for a list of options supported by all
input plugins.</p>
<p>&nbsp;</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-clean_run"></a><code class="literal">clean_run</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>Whether the previous run state should be preserved</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-columns_charset"></a><code class="literal">columns_charset</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a>
</li>
<li class="listitem">
Default value is <code class="literal">{}</code>
</li>
</ul>
</div>
<p>The character encoding for specific columns. This option will override the <code class="literal">:charset</code> option
for the specified columns.</p>
<p>Example:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">input {
  jdbc {
    ...
    columns_charset =&gt; { "column0" =&gt; "ISO-8859-1" }
    ...
  }
}</pre>
</div>
<p>this will only convert column0 that has ISO-8859-1 as an original encoding.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-connection_retry_attempts"></a><code class="literal">connection_retry_attempts</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">1</code>
</li>
</ul>
</div>
<p>Maximum number of times to try connecting to database</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-connection_retry_attempts_wait_time"></a><code class="literal">connection_retry_attempts_wait_time</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">0.5</code>
</li>
</ul>
</div>
<p>Number of seconds to sleep between connection attempts</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_connection_string"></a><code class="literal">jdbc_connection_string</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
This is a required setting.
</li>
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC connection string</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_default_timezone"></a><code class="literal">jdbc_default_timezone</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value should be a canonical timezone or offset, such as <code class="literal">Europe/Paris</code> or <code class="literal">Etc/GMT+3</code>
</li>
<li class="listitem">
Value <em>may</em> include square-bracketed extensions, such as <code class="literal">America/Denver[dst_enabled_on_overlap:true]</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="plugins-inputs-jdbc-jdbc_timezone_conv"></a>Timezone conversion<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h5>
</div></div></div>
<p>Logstash and Elasticsearch expect timestamps to be expressed in UTC terms.
If your database has recorded timestamps that are relative to another timezone,
the database timezone if you will, then set this setting to be the timezone that
the database is using. However, as SQL does not allow for timezone data in
timestamp fields we can&#8217;t figure this out on a record by record basis.  This plugin
will automatically convert your SQL timestamp fields to Logstash timestamps,
in relative UTC time in ISO8601 format.</p>
<p>Using this setting will manually assign a specified timezone offset, instead
of using the timezone setting of the local machine.  You must use a canonical
timezone, <code class="literal">America/Denver</code>, for example.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_ambiguous_timestamps"></a>Ambiguous timestamps<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<p>While it is common to store local times in SQL&#8217;s timestamp column type, many timezones change their offset during the course of a calendar year and therefore cannot be used with SQL&#8217;s timestamp type to represent an ordered, continuous timeline.
For example in the <code class="literal">America/Chicago</code> zone when daylight saving time (DST) ends in the autumn, the clock rolls from <code class="literal">01:59:59</code> back to <code class="literal">01:00:00</code>, making any timestamp in the 2-hour period between <code class="literal">01:00:00CDT</code> and <code class="literal">02:00:00CST</code> on that day ambiguous.</p>
<p>When encountering an ambiguous timestamp caused by a DST transition, the query will fail unless the timezone specified here includes a square-bracketed instruction for how to handle overlapping periods (such as: <code class="literal">America/Chicago[dst_enabled_on_overlap:true]</code> or <code class="literal">Australia/Melbourne[dst_enabled_on_overlap:false]</code>).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-plugin_timezone"></a><code class="literal">plugin_timezone</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">utc</code>, <code class="literal">local</code>
</li>
<li class="listitem">
Default value is <code class="literal">"utc"</code>
</li>
</ul>
</div>
<p>If you want this plugin to offset timestamps to a timezone other than UTC, you
can set this setting to <code class="literal">local</code> and the plugin will use the OS timezone for offset
adjustments.</p>
<p>Note: when specifying <code class="literal">plugin_timezone</code> and/or <code class="literal">jdbc_default_timezone</code>, offset
adjustments are made in two places, if <code class="literal">sql_last_value</code> is a timestamp and it
is used as a parameter in the statement then offset adjustment is done from the
plugin timezone into the data timezone and while records are processed, timestamps
are offset adjusted from the database timezone to the plugin timezone. If your
database timezone is UTC then you do not need to set either of these settings.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_driver_class"></a><code class="literal">jdbc_driver_class</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
This is a required setting.
</li>
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC driver class to load, for example, "org.apache.derby.jdbc.ClientDriver"</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Per <a href="https://github.com/logstash-plugins/logstash-input-jdbc/issues/43" class="ulink" target="_top">https://github.com/logstash-plugins/logstash-input-jdbc/issues/43</a>, prepending <code class="literal">Java::</code> to the driver class
 may be required if it appears that the driver is not being loaded correctly despite relevant jar(s) being provided by
 either via the <code class="literal">jdbc_driver_library</code> setting or being placed in the Logstash  Java classpath. This is known to be the
 case for the Oracle JDBC driver (ojdbc6.jar), where the correct <code class="literal">jdbc_driver_class</code> is
 <code class="literal">"Java::oracle.jdbc.driver.OracleDriver"</code>, and may also be the case for other JDBC drivers.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_driver_library"></a><code class="literal">jdbc_driver_library</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC driver library path to third party driver library. In case of multiple libraries being
required you can pass them separated by a comma.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If not provided, Plugin will look for the driver class in the Logstash Java classpath. Additionally, if the library
 does not appear to be being loaded correctly via this setting, placing the relevant jar(s) in the Logstash Java
 classpath rather than via this setting may help.
 Please also make sure the path is readable by the Logstash process (e.g. <code class="literal">logstash</code> user when running as a service).</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_fetch_size"></a><code class="literal">jdbc_fetch_size</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC fetch size. if not provided, respective driver&#8217;s default will be used</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_page_size"></a><code class="literal">jdbc_page_size</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">100000</code>
</li>
</ul>
</div>
<p>JDBC page size</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_paging_enabled"></a><code class="literal">jdbc_paging_enabled</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>JDBC enable paging</p>
<p>This will cause a sql statement to be broken up into multiple queries.
Each query will use limits and offsets to collectively retrieve the full
result-set. The limit size is set with <code class="literal">jdbc_page_size</code>.</p>
<p>Be aware that ordering is not guaranteed between queries.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_paging_mode"></a><code class="literal">jdbc_paging_mode</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">auto</code>, <code class="literal">explicit</code>
</li>
<li class="listitem">
Default value is <code class="literal">"auto"</code>
</li>
</ul>
</div>
<p>Whether to use <code class="literal">explicit</code> or <code class="literal">auto</code> mode during the JDBC paging</p>
<p>If <code class="literal">auto</code>, your statement will be automatically surrounded by a count query and subsequent multiple paged queries (with <code class="literal">LIMIT</code> statement, etc.).</p>
<p>If <code class="literal">explicit</code>, multiple queries (without a count query ahead) will be performed with your statement, until no more rows are retrieved.
You have to write your own paging conditions in your statement configuration.
The <code class="literal">offset</code> and <code class="literal">size</code> parameters can be used in your statement (<code class="literal">size</code> equal to <code class="literal">jdbc_page_size</code>, and <code class="literal">offset</code> incremented by <code class="literal">size</code> for each query).
When the number of rows returned by the query is not equal to <code class="literal">size</code>, SQL paging will be ended.
Example:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">input {
  jdbc {
    statement =&gt; "SELECT id, mycolumn1, mycolumn2 FROM my_table WHERE id &gt; :sql_last_value LIMIT :size OFFSET :offset",
    jdbc_paging_enabled =&gt; true,
    jdbc_paging_mode =&gt; "explicit",
    jdbc_page_size =&gt; 100000
  }
}</pre>
</div>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">input {
  jdbc {
    statement =&gt; "CALL fetch_my_data(:sql_last_value, :offset, :size)",
    jdbc_paging_enabled =&gt; true,
    jdbc_paging_mode =&gt; "explicit",
    jdbc_page_size =&gt; 100000
  }
}</pre>
</div>
<p>This mode can be considered in the following situations:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Performance issues encountered in default paging mode.
</li>
<li class="listitem">
Your SQL statement is complex, so simply surrounding it with paging statements is not what you want.
</li>
<li class="listitem">
Your statement is a stored procedure, and the actual paging statement is inside it.
</li>
</ol>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_password"></a><code class="literal">jdbc_password</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#password" title="Password">password</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC password</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_password_filepath"></a><code class="literal">jdbc_password_filepath</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC password filename</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_pool_timeout"></a><code class="literal">jdbc_pool_timeout</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">5</code>
</li>
</ul>
</div>
<p>Connection pool configuration.
The amount of seconds to wait to acquire a connection before raising a PoolTimeoutError (default 5)</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_user"></a><code class="literal">jdbc_user</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
This is a required setting.
</li>
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC user</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_validate_connection"></a><code class="literal">jdbc_validate_connection</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>Connection pool configuration.
Validate connection before use.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-jdbc_validation_timeout"></a><code class="literal">jdbc_validation_timeout</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">3600</code>
</li>
</ul>
</div>
<p>Connection pool configuration.
How often to validate a connection (in seconds)</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-last_run_metadata_path"></a><code class="literal">last_run_metadata_path</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">"&lt;path.data&gt;/plugins/inputs/jdbc/logstash_jdbc_last_run"</code>
</li>
</ul>
</div>
<p>Path to file with last run time</p>
<p>In versions prior to 5.2.6 the metadata file was written to <code class="literal">$HOME/.logstash_jdbc_last_run</code>. If during a Logstash upgrade the file is found in "$HOME" it will be moved to the default location under "path.data". If the path is defined by the user then no automatic move is performed.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-lowercase_column_names"></a><code class="literal">lowercase_column_names</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>
</li>
</ul>
</div>
<p>Whether to force the lowercasing of identifier fields</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-parameters"></a><code class="literal">parameters</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a>
</li>
<li class="listitem">
Default value is <code class="literal">{}</code>
</li>
</ul>
</div>
<p>Hash of query parameter, for example <code class="literal">{ "target_id" =&gt; "321" }</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-prepared_statement_bind_values"></a><code class="literal">prepared_statement_bind_values</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#array" title="Array">array</a>
</li>
<li class="listitem">
Default value is <code class="literal">[]</code>
</li>
</ul>
</div>
<p>Array of bind values for the prepared statement. <code class="literal">:sql_last_value</code> is a reserved predefined string</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-prepared_statement_name"></a><code class="literal">prepared_statement_name</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">""</code>
</li>
</ul>
</div>
<p>Name given to the prepared statement. It must be unique in your config and in the database</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-record_last_run"></a><code class="literal">record_last_run</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>
</li>
</ul>
</div>
<p>Whether to save state or not in <a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-last_run_metadata_path" title="last_run_metadata_path"><code class="literal">last_run_metadata_path</code></a></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-schedule"></a><code class="literal">schedule</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Schedule of when to periodically run statement, in Cron format
for example: "* * * * *" (execute query every minute, on the minute)</p>
<p>There is no schedule by default. If no schedule is given, then the statement is run
exactly once.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-sequel_opts"></a><code class="literal">sequel_opts</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a>
</li>
<li class="listitem">
Default value is <code class="literal">{}</code>
</li>
</ul>
</div>
<p>General/Vendor-specific Sequel configuration options.</p>
<p>An example of an optional connection pool configuration
   max_connections - The maximum number of connections the connection pool</p>
<p>examples of vendor-specific options can be found in this
documentation page: <a href="https://github.com/jeremyevans/sequel/blob/master/doc/opening_databases.rdoc" class="ulink" target="_top">https://github.com/jeremyevans/sequel/blob/master/doc/opening_databases.rdoc</a></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-sql_log_level"></a><code class="literal">sql_log_level</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">fatal</code>, <code class="literal">error</code>, <code class="literal">warn</code>, <code class="literal">info</code>, <code class="literal">debug</code>
</li>
<li class="listitem">
Default value is <code class="literal">"info"</code>
</li>
</ul>
</div>
<p>Log level at which to log SQL queries, the accepted values are the common ones fatal, error, warn,
info and debug. The default value is info.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-statement"></a><code class="literal">statement</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>If undefined, Logstash will complain, even if codec is unused.
Statement to execute</p>
<p>To use parameters, use named parameter syntax.
For example:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">"SELECT * FROM MYTABLE WHERE id = :target_id"</pre>
</div>
<p>here, ":target_id" is a named parameter. You can configure named parameters
with the <code class="literal">parameters</code> setting.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-statement_filepath"></a><code class="literal">statement_filepath</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Path of file containing statement to execute</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-target"></a><code class="literal">target</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a href="/guide/en/logstash/8.15/field-references-deepdive.html" class="ulink" target="_top">field reference</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Without a <code class="literal">target</code>, events are created from each row column at the root level.
When the <code class="literal">target</code> is set to a field reference, the column of each row is placed in the target field instead.</p>
<p>This option can be useful to avoid populating unknown fields when a downstream schema such as ECS is enforced.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-tracking_column"></a><code class="literal">tracking_column</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The column whose value is to be tracked if <code class="literal">use_column_value</code> is set to <code class="literal">true</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-tracking_column_type"></a><code class="literal">tracking_column_type</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">numeric</code>, <code class="literal">timestamp</code>
</li>
<li class="listitem">
Default value is <code class="literal">"numeric"</code>
</li>
</ul>
</div>
<p>Type of tracking column. Currently only "numeric" and "timestamp"</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-use_column_value"></a><code class="literal">use_column_value</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>When set to <code class="literal">true</code>, uses the defined
<a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-tracking_column" title="tracking_column"><code class="literal">tracking_column</code></a> value as the <code class="literal">:sql_last_value</code>. When set
to <code class="literal">false</code>, <code class="literal">:sql_last_value</code> reflects the last time the query was executed.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-use_prepared_statements"></a><code class="literal">use_prepared_statements</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>When set to <code class="literal">true</code>, enables prepare statement usage</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-inputs-jdbc-common-options"></a>Common Options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>The following configuration options are supported by all input plugins:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Setting</th>
<th align="left" valign="top">Input type</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-add_field" title="add_field"><code class="literal">add_field</code></a></p></td>
<td align="left" valign="top"><p><a href="/guide/en/logstash/8.15/configuration-file-structure.html#hash" class="ulink" target="_top">hash</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-codec" title="codec"><code class="literal">codec</code></a></p></td>
<td align="left" valign="top"><p><a href="/guide/en/logstash/8.15/configuration-file-structure.html#codec" class="ulink" target="_top">codec</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-enable_metric" title="enable_metric"><code class="literal">enable_metric</code></a></p></td>
<td align="left" valign="top"><p><a href="/guide/en/logstash/8.15/configuration-file-structure.html#boolean" class="ulink" target="_top">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-id" title="id"><code class="literal">id</code></a></p></td>
<td align="left" valign="top"><p><a href="/guide/en/logstash/8.15/configuration-file-structure.html#string" class="ulink" target="_top">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-tags" title="tags"><code class="literal">tags</code></a></p></td>
<td align="left" valign="top"><p><a href="/guide/en/logstash/8.15/configuration-file-structure.html#array" class="ulink" target="_top">array</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-type" title="type"><code class="literal">type</code></a></p></td>
<td align="left" valign="top"><p><a href="/guide/en/logstash/8.15/configuration-file-structure.html#string" class="ulink" target="_top">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_details_25"></a>Details<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h3>
</div></div></div>
<p>&nbsp;</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-add_field"></a><code class="literal">add_field</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a href="/guide/en/logstash/8.15/configuration-file-structure.html#hash" class="ulink" target="_top">hash</a>
</li>
<li class="listitem">
Default value is <code class="literal">{}</code>
</li>
</ul>
</div>
<p>Add a field to an event</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-codec"></a><code class="literal">codec</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a href="/guide/en/logstash/8.15/configuration-file-structure.html#codec" class="ulink" target="_top">codec</a>
</li>
<li class="listitem">
Default value is <code class="literal">"plain"</code>
</li>
</ul>
</div>
<p>The codec used for input data. Input codecs are a convenient method for decoding your data before it enters the input, without needing a separate filter in your Logstash pipeline.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-enable_metric"></a><code class="literal">enable_metric</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a href="/guide/en/logstash/8.15/configuration-file-structure.html#boolean" class="ulink" target="_top">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>
</li>
</ul>
</div>
<p>Disable or enable metric logging for this specific plugin instance
by default we record all the metrics we can, but you can disable metrics collection
for a specific plugin.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-id"></a><code class="literal">id</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a href="/guide/en/logstash/8.15/configuration-file-structure.html#string" class="ulink" target="_top">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Add a unique <code class="literal">ID</code> to the plugin configuration. If no ID is specified, Logstash will generate one.
It is strongly recommended to set this ID in your configuration. This is particularly useful
when you have two or more plugins of the same type, for example, if you have 2 jdbc inputs.
Adding a named ID in this case will help in monitoring Logstash when using the monitoring APIs.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">input {
  jdbc {
    id =&gt; "my_plugin_id"
  }
}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Variable substitution in the <code class="literal">id</code> field only supports environment variables
      and does not support the use of values from the secret store.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-tags"></a><code class="literal">tags</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a href="/guide/en/logstash/8.15/configuration-file-structure.html#array" class="ulink" target="_top">array</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Add any number of arbitrary tags to your event.</p>
<p>This can help with processing later.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-inputs-jdbc-type"></a><code class="literal">type</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/logstash-plugins/logstash-integration-jdbc/edit/main/docs/input-jdbc.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a href="/guide/en/logstash/8.15/configuration-file-structure.html#string" class="ulink" target="_top">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Add a <code class="literal">type</code> field to all events handled by this input.</p>
<p>Types are used mainly for filter activation.</p>
<p>The type is stored as part of the event itself, so you can
also use the type to search for it in Kibana.</p>
<p>If you try to set a type on an event that already has one (for
example when you send an event from a shipper to an indexer) then
a new input will not override the existing type. A type set at
the shipper stays with that event for its life even
when sent to another Logstash server.</p>
</div>

</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="plugins-inputs-java_stdin.html">« Java_stdin input plugin</a>
</span>
<span class="next">
<a href="plugins-inputs-jms.html">Jms input plugin »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
