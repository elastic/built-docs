<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Ingest logs, metrics, and uptime data with Elastic Agent | Observability Guide [7.17] | Elastic</title>
<meta class="elastic" name="content" content="Ingest logs, metrics, and uptime data with Elastic Agent | Observability Guide [7.17]">

<link rel="home" href="index.html" title="Observability Guide [7.17]"/>
<link rel="up" href="deploy-agent-to-send-data.html" title="Deploy Elastic Agent to send data"/>
<link rel="prev" href="deploy-agent-to-send-data.html" title="Deploy Elastic Agent to send data"/>
<link rel="next" href="ingest-traces.html" title="Ingest application traces with Elastic Agent"/>
<meta class="elastic" name="product_version" content="7.17"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/7.17"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="7.17"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Observability Guide [7.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="add-observability-data.html">Send data to Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="deploy-agent-to-send-data.html">Deploy Elastic Agent to send data</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="deploy-agent-to-send-data.html">« Deploy Elastic Agent to send data</a>
</span>
<span class="next">
<a href="ingest-traces.html">Ingest application traces with Elastic Agent »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ingest-logs-metrics-uptime"></a>Ingest logs, metrics, and uptime data with Elastic Agent<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.17/docs/en/observability/ingest-logs-metrics-uptime.asciidoc">edit</a></h3>
</div></div></div>

<p>This guide describes how to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set up Fleet
</li>
<li class="listitem">
Send data to the Elastic Stack using Elastic Agent
</li>
<li class="listitem">
Monitor logs and metrics from systems and services across your organization
</li>
<li class="listitem">
Monitor the availability of your HTTP, TCP, and ICMP services using the Synthetics integration
</li>
<li class="listitem">
Monitor Nginx logs and metrics using the Nginx integration
</li>
</ul>
</div>
<p>For feedback and questions, please contact us in the <a href="https://discuss.elastic.co/" class="ulink" target="_top">discuss forum</a>.</p>
<h5><a id="fleet-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.17/docs/en/observability/ingest-logs-metrics-uptime.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>You need Elasticsearch for storing and searching your data, and Kibana for visualizing and
managing it. You can use our
<a href="/cloud/elasticsearch-service?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">hosted Elasticsearch Service</a>
on Elastic Cloud (recommended), or self-manage the Elastic Stack on your own hardware.</p>
<p>Here&#8217;s what you need for each deployment type:</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Prerequisites">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-prereqs"
            id="cloud-prereqs">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-prereqs"
            id="self-managed-prereqs"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-prereqs"
       aria-labelledby="cloud-prereqs">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Access to a deployment of our <a href="/cloud/elasticsearch-service?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">hosted Elasticsearch Service</a>
on Elastic Cloud. The Elasticsearch Service is available on AWS, GCP, and Azure. <a href="/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">Try it out for free</a>.
This deployment must include an APM &amp; Fleet node.
</li>
<li class="listitem">
User with the superuser role. See <a href="/guide/en/elasticsearch/reference/7.17/built-in-roles.html" class="ulink" target="_top">Built-in roles</a>.
</li>
</ul>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-prereqs"
       aria-labelledby="self-managed-prereqs"
       hidden="">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Access to an Elasticsearch cluster and Kibana (version 7.17) with a basic
license. <a href="/guide/en/elastic-stack-get-started/7.17/get-started-elastic-stack.html" class="ulink" target="_top">Learn how to install the
Elastic Stack on your own hardware</a>.
</li>
<li class="listitem">
Secure, encrypted connection between Kibana and Elasticsearch. For more information,
see <a href="/guide/en/elasticsearch/reference/7.17/configuring-stack-security.html" class="ulink" target="_top">Configure security for the Elastic Stack</a>.
</li>
<li class="listitem">
User with the superuser role. See <a href="/guide/en/elasticsearch/reference/7.17/built-in-roles.html" class="ulink" target="_top">Built-in roles</a>.
</li>
<li class="listitem">
In the Elasticsearch configuration, the
<a href="/guide/en/elasticsearch/reference/7.17/security-settings.html#api-key-service-settings" class="ulink" target="_top">built-in API key
service</a> must be enabled.
(<code class="literal">xpack.security.authc.api_key.enabled: true</code>)
</li>
<li class="listitem">
In the Kibana configuration, the saved objects encryption key
must be set. Fleet requires this setting in order to save API keys and encrypt
them in Kibana. You can either set <code class="literal">xpack.encryptedSavedObjects.encryptionKey</code> to
an alphanumeric value of at least 32 characters, or run the
<a href="/guide/en/kibana/7.17/kibana-encryption-keys.html" class="ulink" target="_top"><code class="literal">kibana-encryption-keys</code> command</a> to
generate the key.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Example security settings</strong></span></p>
<p>For testing purposes, you can use the following settings to get started quickly,
but make sure you properly secure the Elastic Stack before sending real data.</p>
<p>elasticsearch.yml example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">xpack.security.enabled: true
xpack.security.authc.api_key.enabled: true</pre>
</div>
<p>kibana.yml example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">elasticsearch.username: "kibana_system" <a id="CO1-1"></a><i class="conum" data-value="1"></i>
xpack.security.enabled: true
xpack.encryptedSavedObjects.encryptionKey: "something_at_least_32_characters"</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The password should be stored in the Kibana keystore as described in the
<a href="/guide/en/elasticsearch/reference/7.17/security-minimal-setup.html" class="ulink" target="_top">Elasticsearch security documentation</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
</div>
</li>
<li class="listitem">
An internet connection is required for Kibana to download integration packages
from the Elastic Package Registry. Make sure the Kibana server can connect to
<code class="literal">https://epr.elastic.co</code> on port <code class="literal">443</code>.
</li>
<li class="listitem">
Fleet is currently only available to users with the
<a href="/guide/en/elasticsearch/reference/7.17/built-in-roles.html" class="ulink" target="_top">superuser role</a>.
</li>
</ul>
</div>
<h5><a id="set-up-fleet"></a>Step 1: Set up Fleet<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.17/docs/en/observability/ingest-logs-metrics-uptime.asciidoc">edit</a></h5>
<p>Use Fleet in Kibana to get logs, metrics, and security data into the Elastic Stack.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Not using Fleet? Advanced users who want to configure and manage
Elastic Agents manually can
<a href="/guide/en/fleet/7.17/install-standalone-elastic-agent.html" class="ulink" target="_top">run agents standalone</a>.</p>
</div>
</div>
<p>The first time you use Fleet, you might need to set it up and add a
Fleet Server:</p>
<div class="tabs" data-tab-group="spin-up-stack">
  <div role="tablist" aria-label="Spin up">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-spinup"
            id="cloud-spinup">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-spinup"
            id="self-managed-spinup"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-spinup"
       aria-labelledby="cloud-spinup">
<p>Elastic Cloud runs a hosted version of Fleet Server. No extra setup is required
unless you want to scale your deployment.</p>
<p>To confirm that Fleet Server is available in your deployment:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Log in to Kibana and go to <span class="strong strong"><strong>Management &gt; Fleet</strong></span>.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Agents</strong></span> tab.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Agent policy</strong></span>, look for <span class="strong strong"><strong>Elastic Cloud agent policy</strong></span>&#8201;&#8212;&#8201;Fleet Server is the agent enrolled in the Elastic Cloud agent policy.
This policy is managed by Elastic Cloud. You cannot modify it.
Confirm that the agent status is <span class="strong strong"><strong>Healthy</strong></span>.
</li>
</ol>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Don&#8217;t see the Fleet Server agent? Make sure your deployment includes an
APM &amp; Fleet node. This node is required to use Fleet Server.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/fleet-server-hosted-container.png" alt="Fleet Server hosted agent">
</div>
</div>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>When using our hosted Elasticsearch Service, it&#8217;s recommended that you use our hosted
version of Fleet Server. However, you can choose to deploy and self-manage
Fleet Servers.</p>
</div>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-spinup"
       aria-labelledby="self-managed-spinup"
       hidden="">
<p>To deploy a self-managed Fleet Server, install an Elastic Agent and enroll it in an
agent policy containing the Fleet Server integration.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can install only a single Elastic Agent per host, which means you cannot run
Fleet Server and another Elastic Agent on the same host unless you deploy a
containerized Fleet Server.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Log in to Kibana and go to <span class="strong strong"><strong>Management &gt; Fleet</strong></span>. The first time you visit
this page, it might take a minute to load.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Fleet settings</strong></span>, and in the <span class="strong strong"><strong>Fleet Server hosts</strong></span> field, specify the
URLs Elastic Agents will use to connect to Fleet Server. For example,
<code class="literal">https://192.0.2.1:8220</code>, where <code class="literal">192.0.2.1</code> is the host IP where you will
install Fleet Server.
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Elasticsearch hosts</strong></span> field, specify the Elasticsearch URLs where Elastic Agents will send data.
For example, <code class="literal">https://192.0.2.0:9200</code>.</p>
<p>For more information about these settings, see
<a href="/guide/en/fleet/7.17/fleet-settings.html" class="ulink" target="_top">Fleet settings</a>.</p>
</li>
<li class="listitem">
Save and apply the settings.
</li>
<li class="listitem">
<p>Click the <span class="strong strong"><strong>Agents</strong></span> tab and follow the in-product instructions to add a
Fleet server:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-fleet-server.png" alt="In-product instructions for adding a Fleet Server">
</div>
</div>
</li>
</ol>
</div>
<p><span class="strong strong"><strong>Notes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make sure you download an x64 architecture installation package.
</li>
<li class="listitem">
<p>For the agent policy, choose one with a Fleet Server integration. If
one doesn&#8217;t exist, create it.</p>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>What is a Fleet Server policy?</strong></p>
</div></div></div>
<p>It is an agent policy that contains a Fleet Server integration. In
self-managed clusters, a default Fleet Server policy is created
automatically when you run Fleet for the first time. If you are deploying a
self-managed Fleet Server to work with our hosted Elasticsearch Service, you
must explicitly
<a href="/guide/en/fleet/7.17/agent-policy.html#create-a-policy" class="ulink" target="_top">create a new agent policy</a> that
includes a Fleet Server integration.</p>
</div>
</li>
<li class="listitem">
If you choose <span class="strong strong"><strong>Production</strong></span> deployment mode, learn how to generate certs in
<a href="/guide/en/fleet/7.17/secure-connections.html" class="ulink" target="_top">Encrypt traffic in clusters with a
self-managed Fleet Server</a>.
</li>
<li class="listitem">
It&#8217;s recommended you generate a unique service token for each
Fleet Server. For other ways to generate service tokens, see
<a href="/guide/en/elasticsearch/reference/7.17/service-tokens-command.html" class="ulink" target="_top"><code class="literal">elasticsearch-service-tokens</code></a>.
</li>
<li class="listitem">
<p>The <code class="literal">install</code> command installs the Elastic Agent as a managed service and enrolls it
in a Fleet Server policy. For example, the following command installs
a Fleet Server and uses self-signed certs:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">sudo ./elastic-agent install  -f \
  --fleet-server-es=http://localhost:9200 \
  --fleet-server-service-token=AAEbAWVsYXN0aWMvZmxlaXQtc2VydmVzL3Rva2VuLTE2MeIzNTY1NTQ3Mji6dERXeE9XbW5RRTZqNlJMWEdIRzAtZw \
  --fleet-server-policy=27467ed1-1bfd-11ec-9b88-a7c3d83e2897
  --fleet-server-insecure-http</pre>
</div>
<p>The following command installs a Fleet Server and uses certificates you
provide. Make sure you replace the values in angle brackets.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">sudo ./elastic-agent install --url=https://192.0.2.1:8220 \ <a id="CO2-1"></a><i class="conum" data-value="1"></i>
 -f \
 --fleet-server-es=https://192.0.2.0:9200 \
 --fleet-server-service-token=AAEAaWVsYXN0aWcvZmxlZXQtc2VydmVyL3rva2VuLTE2MzIzNTYcNTQ3MjI6dER1eE9XbW5RRTZqNlJMWEdIRzAtZw \
  --fleet-server-policy=27467ed1-1bfd-11ec-9b88-a7c3d83e2897 \
  --certificate-authorities=&lt;PATH_TO_CA&gt; \
  --fleet-server-es-ca=&lt;PATH_TO_ES_CERT&gt; \
  --fleet-server-cert=&lt;PATH_TO_FLEET_SERVER_CERT&gt; \
  --fleet-server-cert-key=&lt;PATH_TO_FLEET_SERVER_CERT_KEY&gt;</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The URL must match the DNS name used to generate the certificate specified
by <code class="literal">--fleet-server-cert</code>.</p>
</td>
</tr>
</table>
</div>
<p>For more Fleet Server commands, see
<a href="/guide/en/fleet/7.17/elastic-agent-cmd-options.html" class="ulink" target="_top">Elastic Agent command reference</a>.</p>
<p>If installation is successful, you&#8217;ll see the Fleet Server Elastic Agent on the
<span class="strong strong"><strong>Agents</strong></span> tab in <span class="strong strong"><strong>Fleet</strong></span>. Notice that the Default Fleet Server Policy is
assigned to the Elastic Agent. This policy is created when you run Fleet for the
first time.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/agents-tab-fleet-server.png" alt="Agent tab showing a healthy agent enrolled in the Default Fleet Server policy">
</div>
</div>
</li>
</ul>
</div>
  </div>
</div>
<p>For more information, refer to <a href="/guide/en/fleet/7.17/fleet-server.html" class="ulink" target="_top">Fleet Server</a>.</p>
<h5><a id="add-agent-to-fleet"></a>Step 2: Add an Elastic Agent to Fleet<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.17/docs/en/observability/ingest-logs-metrics-uptime.asciidoc">edit</a></h5>
<p>Elastic Agent is a single, unified agent that you can deploy to hosts or containers to
collect data and send it to the Elastic Stack. Behind the scenes, Elastic Agent runs the
Beats shippers or Elastic Endpoint required for your configuration.</p>
<p>To send logs and metrics to the Elastic Stack:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>On the machine where you&#8217;ll run Elastic Agent, download and extract the
installation package.</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Download">
    <button role="tab"
            aria-selected="true"
            aria-controls="mac-tab-download"
            id="mac-download">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-download"
            id="linux-download"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-download"
            id="win-download"
            tabindex="-1">
      Windows
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="deb-tab-download"
            id="deb-download"
            tabindex="-1">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-download"
            id="rpm-download"
            tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-download"
       aria-labelledby="mac-download">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-7.17.11-darwin-x86_64.tar.gz
tar xzvf elastic-agent-7.17.11-darwin-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-download"
       aria-labelledby="linux-download"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-7.17.11-linux-x86_64.tar.gz
tar xzvf elastic-agent-7.17.11-linux-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-download"
       aria-labelledby="win-download"
       hidden="">
<div class="pre_wrapper lang-powershell">
<pre class="programlisting prettyprint lang-powershell"># PowerShell 5.0+
wget https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-7.17.11-windows-x86_64.zip -OutFile elastic-agent-7.17.11-windows-x86_64.zip
Expand-Archive .\elastic-agent-7.17.11-windows-x86_64.zip</pre>
</div>
<p>Or manually:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Download the Elastic Agent Windows zip file from the
<a href="/downloads/beats/elastic-agent" class="ulink" target="_top">download page</a>.
</li>
<li class="listitem">
Extract the contents of the zip file.
</li>
</ol>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-download"
       aria-labelledby="deb-download"
       hidden="">
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To simplify upgrading to future versions of Elastic Agent, we recommended
that you use the tarball distribution instead of the DEB distribution.</p>
</div>
</div>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-7.17.11-amd64.deb
sudo dpkg -i elastic-agent-7.17.11-amd64.deb</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-download"
       aria-labelledby="rpm-download"
       hidden="">
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To simplify upgrading to future versions of Elastic Agent, we recommended
that you use the tarball distribution instead of the RPM distribution.</p>
</div>
</div>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-7.17.11-x86_64.rpm
sudo rpm -vi elastic-agent-7.17.11-x86_64.rpm</pre>
</div>
  </div>
</div>
<p>See the <a href="/downloads/elastic-agent" class="ulink" target="_top">download page</a> for other
installation options.</p>
</li>
<li class="listitem">
On the <span class="strong strong"><strong>Agents</strong></span> tab in Fleet, click <span class="strong strong"><strong>Add agent</strong></span>.
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>Enroll in Fleet</strong></span>, follow the in-product installation steps (skip
the download step if you&#8217;ve already done it).</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-agent.png" alt="add agent">
</div>
</div>
<p>See the <a href="/downloads/elastic-agent" class="ulink" target="_top">download page</a> for other
installation options.</p>
</li>
</ol>
</div>
<p><span class="strong strong"><strong>Notes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use the default agent policy to get started quickly. This policy includes a
system integration for collecting logs and metrics from the host system. You
can change the policy later.
</li>
<li class="listitem">
<p>On macOS, Linux (tar package), and Windows, run the <code class="literal">install</code> command to
install Elastic Agent as a managed service, enroll it in Fleet, and start the
service. The DEB and RPM packages include a service unit for Linux systems with
systemd, so use the <code class="literal">enroll</code> command instead of <code class="literal">install</code>.</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Enroll">
    <button role="tab"
            aria-selected="true"
            aria-controls="mac-tab-enroll"
            id="mac-enroll">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-enroll"
            id="linux-enroll"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-enroll"
            id="win-enroll"
            tabindex="-1">
      Windows
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="deb-tab-enroll"
            id="deb-enroll"
            tabindex="-1">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-enroll"
            id="rpm-enroll"
            tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-enroll"
       aria-labelledby="mac-enroll">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">cd elastic-agent-7.17.11-darwin-x86_64
sudo ./elastic-agent install -f --url=&lt;fleet_server_url&gt; --enrollment-token=&lt;enrollment_token&gt; <a id="CO3-1"></a><i class="conum" data-value="1"></i> <a id="CO3-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">fleet_server_url</code> is the host and IP where Fleet Server is running, and
<code class="literal">enrollment_token</code> is the enrollment token acquired from Fleet.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Omit <code class="literal">-f</code> to run an interactive installation.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-enroll"
       aria-labelledby="linux-enroll"
       hidden="">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">cd elastic-agent-7.17.11-linux-x86_64
sudo ./elastic-agent install -f --url=&lt;fleet_server_url&gt; --enrollment-token=&lt;enrollment_token&gt; <a id="CO4-1"></a><i class="conum" data-value="1"></i> <a id="CO4-2"></a><i class="conum" data-value="2"></i> <a id="CO4-3"></a><i class="conum" data-value="3"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO4-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">fleet_server_url</code> is the host and IP where Fleet Server is running, and
<code class="literal">enrollment_token</code> is the enrollment token acquired from Fleet.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO4-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>This command requires a system and service manager like systemd.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO4-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Omit <code class="literal">-f</code> to run an interactive installation.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-enroll"
       aria-labelledby="win-enroll"
       hidden="">
<p>Open a PowerShell prompt as an Administrator (right-click the PowerShell icon
and select <span class="strong strong"><strong>Run As Administrator</strong></span>).</p>
<p>From the PowerShell prompt, change to the directory where you installed Elastic Agent,
and run:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">.\elastic-agent.exe install -f --url=&lt;fleet_server_url&gt; --enrollment-token=&lt;enrollment_token&gt; <a id="CO5-1"></a><i class="conum" data-value="1"></i> <a id="CO5-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO5-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">fleet_server_url</code> is the host and IP where Fleet Server is running, and
<code class="literal">enrollment_token</code> is the enrollment token acquired from Fleet.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO5-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Omit <code class="literal">-f</code> to run an interactive installation.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-enroll"
       aria-labelledby="deb-enroll"
       hidden="">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo elastic-agent enroll --url=&lt;fleet_server_url&gt; --enrollment-token=&lt;enrollment_token&gt; <a id="CO6-1"></a><i class="conum" data-value="1"></i>
sudo systemctl enable elastic-agent <a id="CO6-2"></a><i class="conum" data-value="2"></i>
sudo systemctl start elastic-agent</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO6-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">fleet_server_url</code> is the host and IP where Fleet Server is running, and
<code class="literal">enrollment_token</code> is the enrollment token acquired from Fleet. Not sure where
Fleet Server is running? Look at the
<a href="/guide/en/fleet/7.17/fleet-settings.html" class="ulink" target="_top">Fleet settings</a> in Kibana.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO6-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The DEB package includes a service unit for Linux systems with systemd. On
these systems, you can manage Elastic Agent by using the usual systemd commands. If
you don&#8217;t have systemd, run <code class="literal">sudo service elastic-agent start</code>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-enroll"
       aria-labelledby="rpm-enroll"
       hidden="">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo elastic-agent enroll --url=&lt;fleet_server_url&gt; --enrollment-token=&lt;enrollment_token&gt; <a id="CO7-1"></a><i class="conum" data-value="1"></i>
sudo systemctl enable elastic-agent <a id="CO7-2"></a><i class="conum" data-value="2"></i>
sudo systemctl start elastic-agent</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO7-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">fleet_server_url</code> is the host and IP where Fleet Server is running, and
<code class="literal">enrollment_token</code> is the enrollment token acquired from Fleet.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO7-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The RPM package includes a service unit for Linux systems with systemd. On
these systems, you can manage Elastic Agent by using the usual systemd commands. If
you don&#8217;t have systemd, run <code class="literal">sudo service elastic-agent start</code>.</p>
</td>
</tr>
</table>
</div>
  </div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you see an "x509: certificate signed by unknown authority" error, you
might be trying to enroll in a Fleet Server that uses self-signed certs. To
fix this problem in a non-production environment, pass the <code class="literal">--insecure</code> flag.
For more information, refer to the
<a href="/guide/en/fleet/7.17/fleet-troubleshooting.html#agent-enrollment-certs" class="ulink" target="_top">troubleshooting guide</a>.</p>
</div>
</div>
<p>Refer to <a href="/guide/en/fleet/7.17/installation-layout.html" class="ulink" target="_top">Installation layout</a> for the
location of installed Elastic Agent files.</p>
</li>
</ul>
</div>
<p>Because Elastic Agent is installed as an auto-starting service, it will restart
automatically if the system is rebooted.</p>
<p>To confirm that Elastic Agent is installed and running, go to the <span class="strong strong"><strong>Agents</strong></span> tab in
Fleet. Notice that the Default policy is assigned to the agent.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-agents.png" alt="Fleet showing enrolled agents">
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If the status hangs at Enrolling, make sure the <code class="literal">elastic-agent</code> process
is running.</p>
</div>
</div>
<p>If you run into problems:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Check the Elastic Agent logs. If you use the default policy, agent logs and metrics
are collected automatically unless you change the default settings. For more
information, refer to <a href="/guide/en/fleet/7.17/elastic-agent-logging.html" class="ulink" target="_top">View Elastic Agent logs in Fleet</a>.
</li>
<li class="listitem">
Refer to the <a href="/guide/en/fleet/7.17/fleet-troubleshooting.html" class="ulink" target="_top">troubleshooting guide</a>.
</li>
</ul>
</div>
<p>For information about managing Elastic Agent in Fleet,
refer to <a href="/guide/en/fleet/7.17/manage-agents-in-fleet.html" class="ulink" target="_top">Centrally manage Elastic Agents in Fleet</a>.</p>
<h5><a id="view-data"></a>Step 3: Monitor host logs and metrics<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.17/docs/en/observability/ingest-logs-metrics-uptime.asciidoc">edit</a></h5>
<p>Next, view the data sent by Elastic Agent. Right now, Elastic Agent is only sending data
about the host system because you haven&#8217;t configured the agent to collect data
from other sources yet.</p>
<p>To see host logs and metrics:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In Fleet, click the <span class="strong strong"><strong>Data streams</strong></span> tab.
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Actions</strong></span> column, navigate to the dashboards corresponding
to the data stream. For example, to see host metrics, select one of the system
datasets:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-datastreams.png" alt="Fleet showing data streams list">
</div>
</div>
<p>Then navigate to the [Metrics System] Host overview dashboard:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/host-metrics.png" alt="Host overview dashboard in Kibana">
</div>
</div>
</li>
</ol>
</div>
<h5><a id="add-synthetics-integration"></a>Step 4: Monitor services using real browsers and lightweight HTTP, TCP, and ICMP checks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.17/docs/en/observability/ingest-logs-metrics-uptime.asciidoc">edit</a></h5>
<p><span class="Admonishment Admonishment--beta">
[<span class="Admonishment-title u-mono">beta</span>]
<span class="Admonishment-detail">
This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.
</span>
</span> Next, you’ll add the Elastic Synthetics integration, enabling you to monitor the
status and response times of applications and services in real time. You can monitor
the availability of network endpoints via HTTP, TCP, ICMP or Browser monitors.</p>
<p>Add the Elastic Synthetics integration to the default policy used by your agent.
You use policies to manage settings across a group of agents. An agent policy may
contain any number of integrations for collecting observability data from the various
services running on your host.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>In Kibana, select <span class="strong strong"><strong>Add integrations</strong></span>,
and search for the <span class="strong strong"><strong>Elastic Synthetics</strong></span> integration.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-integrations-synthetics.png" alt="Fleet showing Synthetics integration">
</div>
</div>
</li>
<li class="listitem">
<p>Click the Elastic Synthetics integration to see more details about it, then click
<span class="strong strong"><strong>Add Elastic Synthetics</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-integrations-synthetics-overview.png" alt="Fleet showing Synthetics integration overview">
</div>
</div>
</li>
<li class="listitem">
<p>On the <span class="strong strong"><strong>Add Elastic Synthetics integration</strong></span> page, under <span class="strong strong"><strong>Configure integration</strong></span>,
enter the integration name and select your desired monitor type from the following monitor types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>HTTP</strong></span></p></td>
<td align="left" valign="top"><p>Connects via HTTP and verifies that the host returns the expected response.</p>
<p>For detailed information
about HTTP options, refer to our <a href="/guide/en/beats/heartbeat/7.17/monitor-http-options.html" class="ulink" target="_top">Heartbeat</a> documentation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>TCP</strong></span></p></td>
<td align="left" valign="top"><p>Connects via TCP and verifies the endpoint by sending and receiving a custom payload.
By default, the hostname and port are required.</p>
<p>For detailed information about TCP options, refer to our
<a href="/guide/en/beats/heartbeat/7.17/monitor-tcp-options.html" class="ulink" target="_top">Heartbeat</a> documentation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>ICMP</strong></span></p></td>
<td align="left" valign="top"><p>Uses an ICMP <code class="literal">v4</code> and <code class="literal">v6</code> Echo Request to ping the configured hosts. By default,
the host name is required.</p>
<p>For detailed information about ICMP options, refer to our
<a href="/guide/en/beats/heartbeat/7.17/monitor-icmp-options.html" class="ulink" target="_top">Heartbeat</a> documentation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Browser</strong></span></p></td>
<td align="left" valign="top"><p>Runs automated tests using a real Chromium browser via the synthetics agent.</p>
<p>For detailed information about browser options, refer to our
<a href="/guide/en/beats/heartbeat/7.17/monitor-browser-options.html" class="ulink" target="_top">Heartbeat</a> documentation.</p>
<p>NOTE: To create a <span class="strong strong"><strong>browser</strong></span> monitor, you must use the elastic-agent-complete Docker container as this contains the dependencies to run browser monitors. To learn more, refer to <a class="xref" href="synthetics-quickstart-fleet.html" title="Synthetic monitoring using Elastic Agent and Fleet">Monitor using Elastic Agent and Fleet</a>.</p></td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="listitem">
Enter the URL you want to monitor for availability and select a monitor interval in seconds or minutes. By default, a monitoring
schedule of every 3 minutes is selected.
</li>
<li class="listitem">
The <span class="strong strong"><strong>HTTP</strong></span> and <span class="strong strong"><strong>TCP</strong></span> monitor types both support TLS. Under <span class="strong strong"><strong>TLS settings</strong></span>, select <span class="strong strong"><strong>Enable
TLS configuration</strong></span>. Click the down arrow next to advanced HTTP or TCP options, and then
enter your required settings.
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>Apply to agent policy</strong></span>, select the <code class="literal">default policy</code>.</p>
<div class="sidebar">
<div class="titlepage"></div>
<p>In this guide, you add integrations to the default policy created by
Kibana. After you learn the basics, you can create your own policies and assign
them to agents.</p>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-synthetics-integration.png" alt="Fleet Add Synthetics integration page">
</div>
</div>
</li>
<li class="listitem">
When you&#8217;re done, click <span class="strong strong"><strong>Save and continue</strong></span>, then <span class="strong strong"><strong>Save and deploy changes</strong></span>.
</li>
<li class="listitem">
<p>To see the updated policy, click the <span class="strong strong"><strong>Default policy</strong></span> link.</p>
<p>The newly added Elastic Synthetics integration should appear under <span class="strong strong"><strong>Integrations</strong></span> in the
default policy, along with the System integration.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-policies-default-with-synthetics.png" alt="Fleet showing default agent policy with synthetics-1 datasource">
</div>
</div>
<p>All Elastic Agents that use this policy will collect logs, metrics, and uptime data from the host.</p>
</li>
<li class="listitem">
To view the data in the <a href="/guide/en/observability/7.17/view-monitor-status.html" class="ulink" target="_top">Uptime app</a>, go to
<span class="strong strong"><strong>Observability &gt; Uptime</strong></span>.
</li>
</ol>
</div>
<h5><a id="add-nginx-integration"></a>Step 5: Monitor Nginx logs and metrics<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.17/docs/en/observability/ingest-logs-metrics-uptime.asciidoc">edit</a></h5>
<p>Next, you&#8217;ll browse a catalog of integrations, then add an Nginx integration to
the default policy used by your agent.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>For these steps, we assume that you have <code class="literal">nginx</code> running on some of your
infrastructure, and want to collect logs and metrics from it.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>In Kibana, go back to <span class="strong strong"><strong>Add integrations</strong></span>,
and search for the <span class="strong strong"><strong>Nginx</strong></span> integration.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-integrations-nginx.png" alt="Fleet showing Nginx integration">
</div>
</div>
</li>
<li class="listitem">
<p>Click the Nginx integration to see more details about it, then click
<span class="strong strong"><strong>Add Nginx</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-integrations-nginx-overview.png" alt="Fleet showing Nginx integration overview">
</div>
</div>
</li>
<li class="listitem">
<p>On the <span class="strong strong"><strong>Add Nginx integration</strong></span> page, select the default policy.</p>
<div class="sidebar">
<div class="titlepage"></div>
<p>In this guide, you add integrations to the default policy created by
Kibana. After you learn the basics, you can create your own policies and assign
them to agents.</p>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-integration.png" alt="Fleet Add Nginx integration page">
</div>
</div>
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Configure integration</strong></span>, click the down arrow next to enabled streams
and make sure the <span class="strong strong"><strong>Paths</strong></span> are correct for your host. Inspect or change other
settings
</li>
<li class="listitem">
When you&#8217;re done, save and deploy the changes.
</li>
<li class="listitem">
<p>To see the updated policy, click the <span class="strong strong"><strong>Default policy</strong></span> link.</p>
<p>The newly added Nginx integration should appear under <span class="strong strong"><strong>Integrations</strong></span> in the
default policy, along with the System and Elastic Synthetics integrations.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-policies-default-with-nginx.png" alt="Fleet showing default agent policy with nginx-1 datasource">
</div>
</div>
<p>All Elastic Agents that use this policy will collect logs and metrics from the
Nginx server and the host, along with uptime data.</p>
</li>
<li class="listitem">
To view the data, go to <span class="strong strong"><strong>Management &gt; Fleet</strong></span>, then click the
<span class="strong strong"><strong>Data streams</strong></span> tab.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Actions</strong></span> column, navigate to the dashboards corresponding
to the data stream.
</li>
</ol>
</div>
<h5><a id="_whats_next"></a>What&#8217;s next?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.17/docs/en/observability/ingest-logs-metrics-uptime.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Now that data is streaming into the Elastic Stack, take your investigation to a
deeper level! Use <a href="/observability" class="ulink" target="_top">Elastic Observability</a>
to unify your logs, metrics, uptime, and application performance data.
</li>
<li class="listitem">
Want to protect your endpoints from security threats? Try
<a href="/security" class="ulink" target="_top">Elastic Security</a>. Adding endpoint protection is
just another integration that you add to the agent policy!
</li>
<li class="listitem">
Are your eyes bleary from staring at a wall of screens?
<a href="/guide/en/observability/7.17/create-alerts.html" class="ulink" target="_top">Create alerts</a> and find out about
problems while sipping your favorite beverage poolside.
</li>
<li class="listitem">
Want Elastic to do the heavy lifting? Use machine learning to
<a href="/guide/en/observability/7.17/inspect-log-anomalies.html" class="ulink" target="_top">detect anomalies</a>.
</li>
<li class="listitem">
Got everything working like you want it? Roll out your agent policies to
other hosts by deploying Elastic Agents across your infrastructure!
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="deploy-agent-to-send-data.html">« Deploy Elastic Agent to send data</a>
</span>
<span class="next">
<a href="ingest-traces.html">Ingest application traces with Elastic Agent »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
