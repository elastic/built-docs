<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Configure lightweight monitors | Elastic Observability [8.14] | Elastic</title>
<meta class="elastic" name="content" content="Configure lightweight monitors | Elastic Observability [8.14]">

<link rel="home" href="index.html" title="Elastic Observability [8.14]"/>
<link rel="up" href="monitor-uptime-synthetics.html" title="Synthetic monitoring"/>
<link rel="prev" href="synthetics-recorder.html" title="Use the Synthetics Recorder"/>
<link rel="next" href="synthetics-manage-monitors.html" title="Manage monitors"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/8.14"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="8.14"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="synthetics-recorder.html">« Use the Synthetics Recorder</a>
</span>
<span class="next">
<a href="synthetics-manage-monitors.html">Manage monitors »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [8.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="monitor-uptime-synthetics.html">Synthetic monitoring</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Configure lightweight monitors</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="synthetics-lightweight"></a>Configure lightweight monitors<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h2>
</div></div></div>
<p>In the Synthetics app you can monitor the status of network endpoints using the following lightweight checks:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>HTTP</strong></span>: Monitor your website. The HTTP monitor checks to make sure specific endpoints return the correct
status code and display the correct text.
</li>
<li class="listitem">
<span class="strong strong"><strong>ICMP</strong></span>: Check the availability of your hosts. The ICMP monitor uses ICMP (v4 and v6) Echo
Requests to check the network reachability of the hosts you are pinging. This will tell you whether the
host is available and connected to the network, but doesn&#8217;t tell you if a service on the host is running or
not.
</li>
<li class="listitem">
<span class="strong strong"><strong>TCP</strong></span>: Monitor the services running on your hosts. The TCP monitor checks individual ports
to make sure the service is accessible and running.
</li>
</ul>
</div>
<p>Lightweight monitors can be configured using either the <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-ui" title="Synthetics app">Synthetics app</a>
or <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-projects" title="Project monitors">Project monitors</a>.</p>
<h3><a id="synthetics-lightweight-ui"></a>Synthetics app<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h3>
<p>To use the UI in the Synthetics app, go to the Synthetics app in Kibana to create and configure monitors.
For step-by-step instructions, refer to <a class="xref" href="synthetics-get-started-ui.html" title="Create monitors in the Synthetics app">Use the Synthetics app</a>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/synthetics-get-started-ui-lightweight.png" alt="Synthetics Create monitor UI">
</div>
</div>
<h3><a id="synthetics-lightweight-projects"></a>Project monitors<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h3>
<p>To use YAML files in to create project monitors, <a class="xref" href="synthetics-get-started-project.html" title="Create monitors with Project monitors">set up a project</a>
and configure monitors in YAML files in the <code class="literal">lightweight</code> directory.</p>
<p>In each YAML file, define a set of <code class="literal">monitors</code> to check your remote hosts.
Each <code class="literal">monitor</code> item is an entry in a YAML list and begins with a dash (<code class="literal">-</code>).
You can define the type of monitor to use, the hosts to check, and other
optional settings.</p>
<p>The following example configures three monitors checking via the <code class="literal">http</code>, <code class="literal">icmp</code>, and <code class="literal">tcp</code>
protocols and demonstrates how to use TCP Echo response verification:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">heartbeat.monitors:
- type: http
  name: Todos Lightweight
  id: todos-lightweight
  urls: "https://elastic.github.io/synthetics-demo/"
  schedule: '@every 1m'
- type: icmp
  id: ping-myhost
  name: My Host Ping
  hosts: "myhost"
  schedule: '@every 5m'
- type: tcp
  id: myhost-tcp-echo
  name: My Host TCP Echo
  hosts: "myhost:777"  # default TCP Echo Protocol
  check.send: "Check"
  check.receive: "Check"
  schedule: '@every 60s'</pre>
</div>
<p><a id="synthetics-monitor-options"></a>There are some common monitor configuration options that are the same for all lightweight monitor types.
For a complete list, refer to <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-common-options" title="Common options">Common options</a>.</p>
<p>Each monitor type also has additional configuration options that are specific to that type.
Refer to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-http" title="HTTP options">HTTP options</a>
</li>
<li class="listitem">
<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-icmp" title="ICMP options">ICMP options</a>
</li>
<li class="listitem">
<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-tcp" title="TCP options">TCP options</a>
</li>
</ul>
</div>
<p>The <code class="literal">tcp</code> and <code class="literal">http</code> monitor types both support SSL/TLS and some proxy settings.</p>
<h4><a id="synthetics-lightweight-common-options"></a>Common options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h4>
<p>You can specify the following options when defining a synthetic monitor in any location.
These options are the same for all monitors. Each monitor type has additional configuration
options that are specific to that monitor type.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Option (type)</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a id="monitor-type"></a> <span class="strong strong"><strong><code class="literal">type</code></strong></span><br>
(<code class="literal">"http"</code> | <code class="literal">"icmp"</code> | <code class="literal">"tcp"</code>)</p></td>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Required</strong></span>. The type of monitor to run. One of:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">http</code>: Connects via HTTP and optionally verifies that the host returns the expected response.
</li>
<li class="listitem">
<code class="literal">icmp</code>: Uses an ICMP (v4 and v6) Echo Request to ping the configured hosts. Requires special permissions or root access.
</li>
<li class="listitem">
<code class="literal">tcp</code>: Connects via TCP and optionally verifies the endpoint by sending and/or receiving a custom payload.
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-id"></a> <span class="strong strong"><strong><code class="literal">id</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>)</p></td>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Required</strong></span>. A unique identifier for this configuration. This should not change with edits to the monitor configuration regardless of changes to any config fields.</p>
<p><span class="strong strong"><strong>Examples</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">id: uploader-service</pre>
</div>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">id: http://example.net</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>When querying against indexed monitor data this is the field you will be aggregating with. It appears in the exported fields as <code class="literal">monitor.id</code>.</p>
<p>If you do not set an <code class="literal">id</code> explicitly, the monitor&#8217;s config will be hashed and a generated value will be used. This value will change with any options change to this monitor making aggregations over time between changes impossible. For this reason, it&#8217;s recommended that you set this manually.</p>
</div>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-name"></a> <span class="strong strong"><strong><code class="literal">name</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>)</p></td>
<td align="left" valign="top">
<p>Human readable name for this monitor.</p>
<p><span class="strong strong"><strong>Examples</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">name: Uploader service</pre>
</div>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">name: Example website</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-service_name"></a> <span class="strong strong"><strong><code class="literal">service.name</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>)</p></td>
<td align="left" valign="top">
<p>APM service name for this monitor. Corresponds to the <code class="literal">service.name</code> ECS field. Set this when monitoring an app that is also using APM to enable integrations between Synthetics and APM data in Kibana.</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-enabled"></a> <span class="strong strong"><strong><code class="literal">enabled</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-bool" title="Boolean">boolean</a>)</p></td>
<td align="left" valign="top">
<p>Whether the monitor is enabled.</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">true</code></p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">enabled: false</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-schedule"></a> <span class="strong strong"><strong><code class="literal">schedule</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-duration" title="Duration">duration</a>)</p></td>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Required</strong></span>. The task schedule.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Schedules with less than 1 minute resolution will be saved to the nearest minute. For example, <code class="literal">@every 5s</code> will be changed to <code class="literal">@every 60s</code> when the monitor is pushed using the CLI.</p>
</div>
</div>
<p><span class="strong strong"><strong>Example</strong></span>:<br>
Run the task every 5 minutes from the time the monitor was started.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">schedule: @every 5m</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-timeout"></a> <span class="strong strong"><strong><code class="literal">timeout</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-duration" title="Duration">duration</a>)</p></td>
<td align="left" valign="top">
<p>The total running time for each ping test. This is the total time allowed for testing the connection and exchanging data.</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">16s</code></p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">timeout: 2m</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-tags"></a> <span class="strong strong"><strong><code class="literal">tags</code></strong></span><br>
(list of <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>s)</p></td>
<td align="left" valign="top">
<p>A list of tags that will be sent with the monitor event.</p>
<p><span class="strong strong"><strong>Examples</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">tags:
  - tag one
  - tag two</pre>
</div>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">tags: ["tag one", "tag two"]</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-mode"></a> <span class="strong strong"><strong><code class="literal">mode</code></strong></span><br>
(<code class="literal">"any"</code> | <code class="literal">"all"</code>)</p></td>
<td align="left" valign="top">
<p>One of two modes in which to run the monitor:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">any</code>: The monitor pings only one IP address for a hostname.
</li>
<li class="listitem">
<code class="literal">all</code>: The monitor pings all resolvable IPs for a hostname.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">any</code></p>
<p><span class="strong strong"><strong>Example</strong></span>:<br>
If you&#8217;re using a DNS-load balancer and want to ping every IP address for the specified hostname, you should use <code class="literal">all</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-ipv4"></a> <span class="strong strong"><strong><code class="literal">ipv4</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-bool" title="Boolean">boolean</a>)</p></td>
<td align="left" valign="top">
<p>Whether to ping using the ipv4 protocol if hostnames are configured.</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">true</code></p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">ipv4: false</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-ipv6"></a> <span class="strong strong"><strong><code class="literal">ipv6</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-bool" title="Boolean">boolean</a>)</p></td>
<td align="left" valign="top">
<p>Whether to ping using the ipv6 protocol if hostnames are configured.</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">true</code></p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">ipv6: false</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-alert"></a> <span class="strong strong"><strong><code class="literal">alert</code></strong></span></p></td>
<td align="left" valign="top">
<p>Enable or disable alerts on this monitor. Read more about alerts in <a class="xref" href="synthetics-settings.html#synthetics-settings-alerting" title="Alerting">Alerting</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">status.enabled</code></strong></span> (<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-bool" title="Boolean">boolean</a>)
</span>
</dt>
<dd>
<p>
Enable monitor status alerts on this monitor.
</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">true</code></p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">alert.status.enabled: true</pre>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">tls.enabled</code></strong></span> (<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-bool" title="Boolean">boolean</a>)
</span>
</dt>
<dd>
<p>
Enable TLS certificate alerts on this monitor.
</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">true</code></p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">alert.tls.enabled: true</pre>
</div>
</dd>
</dl>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-retest_on_failure"></a> <span class="strong strong"><strong><code class="literal">retest_on_failure</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-bool" title="Boolean">boolean</a>)</p></td>
<td align="left" valign="top">
<p>Enable or disable retesting when a monitor fails. Default is <code class="literal">true</code>.</p>
<p>By default, monitors are automatically retested if the monitor goes from "up" to "down". If the result of the retest is also "down", an error will be created, and if configured, an alert sent. Then the monitor will resume running according to the defined schedule. Using <code class="literal">retestOnFailure</code> can reduce noise related to transient problems.</p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">retest_on_failure: false</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-locations"></a> <span class="strong strong"><strong><code class="literal">locations</code></strong></span><br>
(list of <a href="https://github.com/elastic/synthetics/blob/v1.3.0/src/locations/public-locations.ts#L28-L37" class="ulink" target="_top"><code class="literal">SyntheticsLocationsType</code></a>)</p></td>
<td align="left" valign="top">
<p>Where to deploy the monitor. You can deploy monitors in multiple locations to detect differences in availability and response times across those locations.</p>
<p>To list available locations you can:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Run the <a class="xref" href="_filtering_monitors.html#elastic-synthetics-locations-command" title="@elastic/synthetics locations"><code class="literal">elastic-synthetics locations</code> command</a>.
</li>
<li class="listitem">
Go to <span class="strong strong"><strong>Synthetics</strong></span> &#8594; <span class="strong strong"><strong>Management</strong></span> and click <span class="strong strong"><strong>Create monitor</strong></span>. Locations will be listed in <em>Locations</em>.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Examples</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">locations: ["japan", "india"]</pre>
</div>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">locations:
  - japan
  - india</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This can also be set using<br>
<a class="xref" href="synthetics-configuration.html#synthetics-configuration-monitor" title="monitor"><code class="literal">monitor.locations</code> in the project configuration file</a><br>
or via the CLI using the <a class="xref" href="synthetics-command-reference.html#elastic-synthetics-push-command" title="@elastic/synthetics push"><code class="literal">--location</code> flag on <code class="literal">push</code></a>.</p>
<p>The value defined via the CLI takes precedence over the value defined in the lightweight monitor configuration,<br>
and the value defined in the lightweight monitor configuration takes precedence over the value defined in <em>project</em> configuration file.</p>
</div>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-private_locations"></a> <span class="strong strong"><strong><code class="literal">private_locations</code></strong></span><br>
(list of <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>s)</p></td>
<td align="left" valign="top">
<p>The <a class="xref" href="synthetics-private-location.html" title="Monitor resources on private networks">Private Locations</a> to which the monitors will be deployed. These Private Locations refer to locations hosted and managed by you, whereas  <code class="literal">locations</code> are hosted by Elastic. You can specify a Private Location using the location&#8217;s name.</p>
<p>To list available Private Locations you can:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Run the <a class="xref" href="_filtering_monitors.html#elastic-synthetics-locations-command" title="@elastic/synthetics locations"><code class="literal">elastic-synthetics locations</code> command</a> and specify the Kibana URL of the deployment. This will fetch all available private locations associated with the deployment.
</li>
<li class="listitem">
Go to <span class="strong strong"><strong>Synthetics</strong></span> &#8594; <span class="strong strong"><strong>Management</strong></span> and click <span class="strong strong"><strong>Create monitor</strong></span>. Private Locations will be listed in <em>Locations</em>.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Examples</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">private_locations: ["Private Location 1", "Private Location 2"]</pre>
</div>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">private_locations:
  - Private Location 1
  - Private Location 2</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This can also be set using<br>
<a class="xref" href="synthetics-configuration.html#synthetics-configuration-monitor" title="monitor"><code class="literal">monitor.privateLocations</code> in the project configuration file</a><br>
or via the CLI using the <a class="xref" href="synthetics-command-reference.html#elastic-synthetics-push-command" title="@elastic/synthetics push"><code class="literal">--privateLocations</code> flag on <code class="literal">push</code></a>.</p>
<p>The value defined via the CLI takes precedence over the value defined in the lightweight monitor configuration,<br>
and the value defined in the lightweight monitor configuration takes precedence over the value defined in <em>project</em> configuration file.</p>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<h4><a id="synthetics-lightweight-http"></a>HTTP options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h4>
<p>The options described here configure Synthetics to connect via HTTP and
optionally verify that the host returns the expected response.</p>
<p>Valid options for HTTP monitors include <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-common-options" title="Common options">all common options</a>
and the following HTTP-specific options:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Option (type)</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a id="monitor-http-hosts"></a> <span class="strong strong"><strong><code class="literal">hosts</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>)</p></td>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Required</strong></span>. The URL to ping.</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-http-max_redirects"></a> <span class="strong strong"><strong><code class="literal">max_redirects</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-numbers" title="Number">number</a>)</p></td>
<td align="left" valign="top">
<p>The total number of redirections Synthetics will follow.</p>
<p>By default, Synthetics will not follow redirects, but will report the status of the redirect. If set to a number greater than <code class="literal">0</code>, Synthetics will follow that number of redirects.</p>
<p>When this option is set to a value greater than <code class="literal">0</code>, the <code class="literal">monitor.ip</code> field will no longer be reported, as multiple DNS requests across multiple IPs may return multiple IPs. Fine-grained network timing data will also not be recorded, as with redirects that data will span multiple requests. Specifically the fields <code class="literal">http.rtt.content.us</code>, <code class="literal">http.rtt.response_header.us</code>, <code class="literal">http.rtt.total.us</code>, <code class="literal">http.rtt.validate.us</code>, <code class="literal">http.rtt.write_request.us</code> and <code class="literal">dns.rtt.us</code> will be omitted.</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">0</code></p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-http-proxy_headers"></a> <span class="strong strong"><strong><code class="literal">proxy_headers</code></strong></span></p></td>
<td align="left" valign="top">
<p>Additional headers to send to proxies during <code class="literal">CONNECT</code> requests.</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-http-proxy_url"></a> <span class="strong strong"><strong><code class="literal">proxy_url</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>)</p></td>
<td align="left" valign="top">
<p>The HTTP proxy URL. This setting is optional.</p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">http://proxy.mydomain.com:3128</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-http-username"></a> <span class="strong strong"><strong><code class="literal">username</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>)</p></td>
<td align="left" valign="top">
<p>The username for authenticating with the server. The credentials are passed with the request. This setting is optional.</p>
<p>You need to specify credentials when your <code class="literal">check.response</code> settings require it. For example, you can check for a 403 response (<code class="literal">check.response.status: [403]</code>) without setting credentials.</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-http-password"></a> <span class="strong strong"><strong><code class="literal">password</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>)</p></td>
<td align="left" valign="top">
<p>The password for authenticating with the server. This setting is optional.</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-http-ssl"></a> <span class="strong strong"><strong><code class="literal">ssl</code></strong></span><br>
(<a href="/guide/en/beats/heartbeat/8.14/configuration-ssl.html" class="ulink" target="_top">SSL</a>)</p></td>
<td align="left" valign="top">
<p>The TLS/SSL connection settings for use with the HTTPS endpoint. If you don&#8217;t specify settings, the system defaults are used.</p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">- type: http
  id: my-http-service
  name: My HTTP Service
  hosts: "https://myhost:443"
  schedule: '@every 5s'
  ssl:
    certificate_authorities: ['/etc/ca.crt']
    supported_protocols: ["TLSv1.0", "TLSv1.1", "TLSv1.2"]</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-http-headers"></a> <span class="strong strong"><strong><code class="literal">headers</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-bool" title="Boolean">boolean</a>)</p></td>
<td align="left" valign="top">
<p>Controls the indexing of the HTTP response headers <code class="literal">http.response.body.headers</code> field. Set <code class="literal">response.include_headers</code> to <code class="literal">false</code> to disable.</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">true</code></p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-http-response"></a> <span class="strong strong"><strong><code class="literal">response</code></strong></span></p></td>
<td align="left" valign="top">
<p>Controls the indexing of the HTTP response body contents to the <code class="literal">http.response.body.contents</code> field.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">include_body</code></strong></span> (<code class="literal">"on_error"</code> | <code class="literal">"never"</code> | <code class="literal">"always"</code>)
</span>
</dt>
<dd>
<p>
Set <code class="literal">response.include_body</code> to one of the options listed below.
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">on_error</code>: Include the body if an error is encountered during the check. This is the default.
</li>
<li class="listitem">
<code class="literal">never</code>: Never include the body.
</li>
<li class="listitem">
<code class="literal">always</code>: Always include the body with checks.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">include_body_max_bytes</code></strong></span> (<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-numbers" title="Number">number</a>)
</span>
</dt>
<dd>
<p>
Set <code class="literal">response.include_body_max_bytes</code> to control the maximum size of the stored body contents.
</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">1024</code></p>
</dd>
</dl>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-http-check"></a> <span class="strong strong"><strong><code class="literal">check</code></strong></span></p></td>
<td align="left" valign="top">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">request</code></strong></span>
</span>
</dt>
<dd>
<p>
An optional <code class="literal">request</code> to send to the remote host. Under <code class="literal">check.request</code>, specify these options:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">method</code></strong></span> (<code class="literal">"HEAD"</code> | <code class="literal">"GET"</code> | <code class="literal">"POST"</code> | <code class="literal">"OPTIONS"</code>)
</span>
</dt>
<dd>
The HTTP method to use.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">headers</code></strong></span> (<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers" class="ulink" target="_top">HTTP headers</a>)
</span>
</dt>
<dd>
A dictionary of additional HTTP headers to send. By default Synthetics will set the <em>User-Agent</em> header to identify itself.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">body</code></strong></span>  (<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>)
</span>
</dt>
<dd>
Optional request body content.
</dd>
</dl>
</div>
<p><span class="strong strong"><strong>Example</strong></span>: This monitor POSTs an <code class="literal">x-www-form-urlencoded</code> string to the endpoint <code class="literal">/demo/add</code>.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">check.request:
  method: POST
  headers:
    'Content-Type': 'application/x-www-form-urlencoded'
  # urlencode the body:
  body: "name=first&amp;email=someemail%40someemailprovider.com"</pre>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">response</code></strong></span>
</span>
</dt>
<dd>
<p>
The expected <code class="literal">response</code>.
</p>
<p>Under <code class="literal">check.response</code>, specify these options:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">status</code></strong></span> (list of <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>s)
</span>
</dt>
<dd>
<p>
A list of expected status codes. 4xx and 5xx codes are considered <code class="literal">down</code> by default. Other codes are considered <code class="literal">up</code>.
</p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">check.response:
  status: [200, 201]</pre>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">headers</code></strong></span> (<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers" class="ulink" target="_top">HTTP headers</a>)
</span>
</dt>
<dd>
The required response headers.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">body.positive</code></strong></span> (list of <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>s)
</span>
</dt>
<dd>
<p>
A list of regular expressions to match the body output. Only a single expression needs to match.
</p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<p>This monitor examines the response body for the strings <em>foo</em> or <em>Foo</em>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">check.response:
  status: [200, 201]
  body:
    positive:
      - foo
      - Foo</pre>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">body.negative</code></strong></span> (list of <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>s)
</span>
</dt>
<dd>
<p>
A list of regular expressions to match the body output negatively. Return match failed if single expression matches. HTTP response bodies of up to 100MiB are supported.
</p>
<p>This monitor examines match successfully if there is no <em>bar</em> or <em>Bar</em> at all, examines match failed if there is <em>bar</em> or <em>Bar</em> in the response body:</p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">check.response:
  status: [200, 201]
  body:
    negative:
      - bar
      - Bar</pre>
</div>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<p>This monitor examines match successfully only when <em>foo</em> or <em>Foo</em> in body AND no <em>bar</em> or <em>Bar</em> in body:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">check.response:
  status: [200, 201]
  body:
    positive:
      - foo
      - Foo
    negative:
      - bar
      - Bar</pre>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">json</code></strong></span>
</span>
</dt>
<dd>
<p>
A list of expressions executed against the body when parsed as JSON.<br>
Body sizes must be less than or equal to 100 MiB.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">description</code></strong></span>
</span>
</dt>
<dd>
A description of the check.
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">expression</code></strong></span>
</span>
</dt>
<dd>
<p>
The following configuration shows how to check the response using<br>
<a href="https://github.com/PaesslerAG/gval/blob/master/README.md" class="ulink" target="_top">gval</a> expressions<br>
when the body contains JSON:
</p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">check.response:
  status: [200]
  json:
    - description: check status
      expression: 'foo.bar == "myValue"'</pre>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<h4><a id="synthetics-lightweight-icmp"></a>ICMP options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h4>
<p>The options described here configure Synthetics to use ICMP (v4 and v6) Echo
Requests to check the configured hosts. On most platforms you must execute
Synthetics with elevated permissions to perform ICMP pings.</p>
<p>On Linux, regular users may perform pings if the right file capabilities are set. Run
<code class="literal">sudo setcap cap_net_raw+eip /path/to/heartbeat</code> to  grant Synthetics ping capabilities on Linux.
Alternatively, you can grant ping permissions to the user being used to run Synthetics.
To grant ping permissions in this way, run <code class="literal">sudo sysctl -w net.ipv4.ping_group_range='myuserid myuserid'</code>.</p>
<p>Other platforms may require Synthetics to run as root or administrator to execute pings.</p>
<p>Valid options for ICMP monitors include <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-common-options" title="Common options">all common options</a>
and the following ICMP-specific options:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Option (type)</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a id="monitor-icmp-hosts"></a> <span class="strong strong"><strong><code class="literal">hosts</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>)</p></td>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Required</strong></span>. The host to ping.</p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">hosts: "myhost"</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-icmp-wait"></a> <span class="strong strong"><strong><code class="literal">wait</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-duration" title="Duration">duration</a>)</p></td>
<td align="left" valign="top">
<p>The duration to wait before emitting another ICMP Echo Request if no response is received.</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">1s</code></p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">wait: 1m</pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<h4><a id="synthetics-lightweight-tcp"></a>TCP options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h4>
<p>The options described here configure Synthetics to connect via TCP and
optionally verify the endpoint by sending and/or receiving a custom payload.</p>
<p>Valid options for TCP monitors include <a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-common-options" title="Common options">all common options</a>
and the following TCP-specific options:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Option (type)</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a id="monitor-tcp-hosts"></a> <span class="strong strong"><strong><code class="literal">hosts</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-string" title="String">string</a>)</p></td>
<td align="left" valign="top">
<p><span class="strong strong"><strong>Required</strong></span>. The host to ping. The value can be:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>A hostname and port, such as <code class="literal">localhost:12345</code>.</strong></span><br>
Synthetics connects to the port on the specified host. If the monitor is <a href="/guide/en/beats/heartbeat/8.14/configuration-ssl.html" class="ulink" target="_top">configured to use SSL</a>, Synthetics establishes an SSL/TLS-based connection. Otherwise, it establishes a TCP connection.
</li>
<li class="listitem">
<p><span class="strong strong"><strong>A full URL using the syntax <code class="literal">scheme://&lt;host&gt;:[port]</code></strong></span>, where:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">scheme</code> is one of <code class="literal">tcp</code>, <code class="literal">plain</code>, <code class="literal">ssl</code> or <code class="literal">tls</code>. If <code class="literal">tcp</code> or <code class="literal">plain</code> is specified, Synthetics establishes a TCP connection even if the monitor is configured to use SSL. If <code class="literal">tls</code> or <code class="literal">ssl</code> is specified, Synthetics establishes an SSL connection. However, if the monitor is not configured to use SSL, the system defaults are used (currently not supported on Windows).
</li>
<li class="listitem">
<code class="literal">host</code> is the hostname.
</li>
<li class="listitem">
<code class="literal">port</code> is the port number.
</li>
</ul>
</div>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Examples</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">hosts: "localhost:8000"</pre>
</div>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">hosts: "tcp://localhost:8000"</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-tcp-check"></a> <span class="strong strong"><strong><code class="literal">check</code></strong></span></p></td>
<td align="left" valign="top">
<p>An optional payload string to send to the remote host and the expected answer. If no payload is specified, the endpoint is assumed to be available if the connection attempt was successful. If <code class="literal">send</code> is specified without <code class="literal">receive</code>, any response is accepted as OK. If <code class="literal">receive</code> is specified without <code class="literal">send</code>, no payload is sent, but the client expects to receive a payload in the form of a "hello message" or "banner" on connect.</p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">check.send: 'Hello World'
check.receive: 'Hello World'</pre>
</div>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">check:
  send: 'Hello World'
  receive: 'Hello World'</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-tcp-proxy_url"></a> <span class="strong strong"><strong><code class="literal">proxy_url</code></strong></span></p></td>
<td align="left" valign="top">
<p>The URL of the SOCKS5 proxy to use when connecting to the server. The value must be a URL with a scheme of socks5://.</p>
<p>If the SOCKS5 proxy server requires client authentication, then a username and password can be embedded in the URL.</p>
<p>When using a proxy, hostnames are resolved on the proxy server instead of on the client. You can change this behavior by setting the <code class="literal">proxy_use_local_resolver</code> option.</p>
<p><span class="strong strong"><strong>Examples</strong></span>:</p>
<p>A proxy URL that requires client authentication:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">proxy_url: socks5://user:password@socks5-proxy:2233</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-tcp-proxy_use_local_resolver"></a> <span class="strong strong"><strong><code class="literal">proxy_use_local_resolver</code></strong></span><br>
(<a class="xref" href="synthetics-lightweight.html#synthetics-lightweight-data-bool" title="Boolean">boolean</a>)</p></td>
<td align="left" valign="top">
<p>A Boolean value that determines whether hostnames are resolved locally instead of being resolved on the proxy server. The default value is <code class="literal">false</code>, which means that name resolution occurs on the proxy server.</p>
<p><span class="strong strong"><strong>Default</strong></span>: <code class="literal">false</code></p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><a id="monitor-tcp-ssl"></a> <span class="strong strong"><strong><code class="literal">ssl</code></strong></span><br>
(<a href="/guide/en/beats/heartbeat/8.14/configuration-ssl.html" class="ulink" target="_top">SSL</a>)</p></td>
<td align="left" valign="top">
<p>The TLS/SSL connection settings. If the monitor is <a href="/guide/en/beats/heartbeat/8.14/configuration-ssl.html" class="ulink" target="_top">configured to use SSL</a>, it will attempt an SSL handshake. If <code class="literal">check</code> is not configured, the monitor will only check to see if it can establish an SSL/TLS connection. This check can fail either at TCP level or during certificate validation.</p>
<p><span class="strong strong"><strong>Example</strong></span>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">ssl:
  certificate_authorities: ['/etc/ca.crt']
  supported_protocols: ["TLSv1.0", "TLSv1.1", "TLSv1.2"]</pre>
</div>
<p>Also see <a href="/guide/en/beats/heartbeat/8.14/configuration-ssl.html" class="ulink" target="_top">Configure SSL</a> for a full description of the <code class="literal">ssl</code> options.</p>
</td>
</tr>
</tbody>
</table>
</div>
<h4><a id="synthetics-lightweight-data-types"></a>Data types reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h4>
<p>Values of configuration settings are interpreted as required by Synthetics.
If a value can&#8217;t be correctly interpreted as the required type - for example a
string is given when a number is required - Synthetics will fail to start up.</p>
<h5><a id="synthetics-lightweight-data-bool"></a>Boolean<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h5>
<p>Boolean values can be either <code class="literal">true</code> or <code class="literal">false</code>. Alternative names for <code class="literal">true</code> are
<code class="literal">yes</code> and <code class="literal">on</code>. Instead of <code class="literal">false</code> the values <code class="literal">no</code> and <code class="literal">off</code> can be used.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">enabled: true
disabled: false</pre>
</div>
<h5><a id="synthetics-lightweight-data-numbers"></a>Number<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h5>
<p>Number values require you to enter the number <em>without</em> single or
double quotes.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">integer: 123
negative: -1
float: 5.4</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Some settings only support a restricted number range.</p>
</div>
</div>
<h5><a id="synthetics-lightweight-data-string"></a>String<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h5>
<p>In <a href="http://www.yaml.org" class="ulink" target="_top">YAML</a>, multiple styles of string definitions are supported:
double-quoted, single-quoted, unquoted.</p>
<p>The double-quoted style is specified by surrounding the string with <code class="literal">"</code>. This
style provides support for escaping unprintable characters using <code class="literal">\</code>, but comes
at the cost of having to escape <code class="literal">\</code> and <code class="literal">"</code> characters.</p>
<p>The single-quoted style is specified by surrounding the string with <code class="literal">'</code>. This
style supports no escaping (use <code class="literal">''</code> to quote a single quote). Only printable
characters can be used when using this form.</p>
<p>Unquoted style requires no quotes, but does not support any escaping and can&#8217;t
include any symbol that has a special meaning in YAML.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Single-quoted style is recommended when defining regular expressions,
event format strings, windows file paths, or non-alphabetical symbolic characters.</p>
</div>
</div>
<h5><a id="synthetics-lightweight-data-duration"></a>Duration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h5>
<p>Durations require a numeric value with optional fraction and required unit.
Valid time units are <code class="literal">ns</code>, <code class="literal">us</code>, <code class="literal">ms</code>, <code class="literal">s</code>, <code class="literal">m</code>, <code class="literal">h</code>. Sometimes features based
on durations can be disabled by using zero or negative durations.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">duration1: 2.5s
duration2: 6h
duration_disabled: -1s</pre>
</div>
<h5><a id="synthetics-lightweight-data-regex"></a>Regular expression<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.14/docs/en/observability/synthetics-lightweight.asciidoc">edit</a></h5>
<p>Regular expressions are special strings that are compiled into regular
expressions at load time.</p>
<p>As regular expressions and YAML use <code class="literal">\</code> for escaping
characters in strings, it&#8217;s highly recommended to use single quoted strings when
defining regular expressions. When single quoted strings are used, the <code class="literal">\</code> character
is not interpreted by YAML parser as an escape symbol.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="synthetics-recorder.html">« Use the Synthetics Recorder</a>
</span>
<span class="next">
<a href="synthetics-manage-monitors.html">Manage monitors »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
