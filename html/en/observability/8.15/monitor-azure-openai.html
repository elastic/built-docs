<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Monitor Microsoft Azure OpenAI | Elastic Observability [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Monitor Microsoft Azure OpenAI | Elastic Observability [8.15]">

<link rel="home" href="index.html" title="Elastic Observability [8.15]"/>
<link rel="up" href="monitor-azure-web-services.html" title="Azure monitoring"/>
<link rel="prev" href="monitor-azure-native.html" title="Monitor Microsoft Azure with the Azure Native ISV Service"/>
<link rel="next" href="monitor-uptime-synthetics.html" title="Synthetic monitoring"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/8.15"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="8.15"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="monitor-azure-native.html">« Monitor Microsoft Azure with the Azure Native ISV Service</a>
</span>
<span class="next">
<a href="monitor-uptime-synthetics.html">Synthetic monitoring »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="monitor-azure-web-services.html">Azure monitoring</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Monitor Microsoft Azure OpenAI</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="monitor-azure-openai"></a>Monitor Microsoft Azure OpenAI</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
</div></div></div>
<div class="sidebar">
<div class="titlepage"></div>
<p><span class="strong strong"><strong>New to Elastic?</strong></span> Follow the steps in our <a href="/guide/en/starting-with-the-elasticsearch-platform-and-its-solutions/8.15/getting-started-observability.html" class="ulink" target="_top">getting started guide</a> instead
of the steps described here. Return to this tutorial after you&#8217;ve learned the basics.</p>
</div>
<p>This tutorial shows you how to use the Elastic Azure OpenAI integration, the Azure portal, and Elastic Agent to collect and monitor Azure OpenAI logs and metrics with Elastic Observability.</p>
<div class="position-relative"><h4><a id="azure-openai-what-you-learn"></a>What you&#8217;ll learn</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>You&#8217;ll learn how to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set up your Azure instance to allow the Azure OpenAI integration to collect logs and metrics.
</li>
<li class="listitem">
Configure the Azure OpenAI integration to collect logs and metrics.
</li>
<li class="listitem">
Install Elastic Agent on your host.
</li>
<li class="listitem">
View your logs and metrics in Kibana using built-in dashboards and Discover.
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="azure-openai-set-up-logs"></a>Step 1: Set up Azure to collect logs</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>The Elastic Azure OpenAI integration captures audit logs and request and response logs.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Audit logs provide a range of information related to the use and management of Azure OpenAI services.
</li>
<li class="listitem">
Request and response logs provide information about each request made to the service and the corresponding response provided by the service.
</li>
</ul>
</div>
<p>For more on the fields ingested from audit and request and response logs, refer to the <a href="https://docs.elastic.co/en/integrations/azure_openai#settings" class="ulink" target="_top">Azure OpenAI integration</a> documentation.</p>
<p>Before Elastic Agent can collect your logs and send them to Kibana, complete the following steps in the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure portal</a>:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Create an event hub to receive logs exported from the Azure service and make them available to the Elastic Agent.
</li>
<li class="listitem">
Configure diagnostic settings to send your logs to the event hub.
</li>
<li class="listitem">
Create a storage account container where the Elastic Agent can store consumer group information.
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="azure-openai-event-hub"></a>Create an event hub</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p><a href="https://learn.microsoft.com/en-us/azure/event-hubs/event-hubs-about" class="ulink" target="_top">Azure Event Hubs</a>
is a data streaming platform and event ingestion service that you use to store
in-flight Azure logs before sending them to Elasticsearch. For this tutorial, you create
a single event hub because you are collecting logs from one service.</p>
<p>To create an Azure event hub:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure portal</a>.
</li>
<li class="listitem">
Search for and select <span class="strong strong"><strong>Event Hubs</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create</strong></span> and create a new Event Hubs namespace. You&#8217;ll need to create a new resource group, or choose an existing one.
</li>
<li class="listitem">
Enter the required settings for the namespace and click <span class="strong strong"><strong>Review + create</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create</strong></span> to deploy the resource.
</li>
<li class="listitem">
In the new namespace, click <span class="strong strong"><strong>+ Event Hub</strong></span> and enter a name for the event hub.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Review + create</strong></span>, and then click <span class="strong strong"><strong>Create</strong></span> to deploy the resource.
</li>
<li class="listitem">
Make a note of the event hub name because you&#8217;ll use it to configure your integration settings in <a class="xref" href="monitor-azure-openai.html#azure-openai-configure-integration" title="Step 3: Configure the Azure OpenAI integration">Step 3: Configure the Azure OpenAI integration</a>.
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="azure-openai-diagnostic-settings"></a>Configure diagnostic settings</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>Every Azure service that creates logs has diagnostic settings that allow you to export logs and metrics to an external destination.
In this step, you&#8217;ll configure the Azure OpenAI service to export audit and request and response logs to the event hub you created
in the previous step.</p>
<p>To configure diagnostic settings to export logs:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure portal</a> and open your OpenAI resource.
</li>
<li class="listitem">
In the navigation pane, select <span class="strong strong"><strong>Diagnostic settings</strong></span> → <span class="strong strong"><strong>Add diagnostic setting</strong></span>.
</li>
<li class="listitem">
Enter a name for the diagnostic setting.
</li>
<li class="listitem">
In the list of log categories, select <span class="strong strong"><strong>Audit logs</strong></span> and <span class="strong strong"><strong>Request and Response Logs</strong></span>.
</li>
<li class="listitem">
Under Destination details, select <span class="strong strong"><strong>Stream to an event hub</strong></span> and select the namespace and event hub you created in <a class="xref" href="monitor-azure-openai.html#azure-openai-event-hub" title="Create an event hub">Create an event hub</a>.
</li>
<li class="listitem">
Save the diagnostic settings.
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="azure-openai-storage-account-container"></a>Create a storage account container</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>The Elastic Agent stores the consumer group information (state, position, or offset) in a storage account container.
Making this information available to Elastic Agents allows them to share the logs processing and resume from the last processed logs after a restart.
The Elastic Agent can use one storage account container for all integrations.
The agent uses the integration name and the event hub name to identify the blob to store the consumer group information uniquely.</p>
<p>To create the storage account:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure portal</a> and select <span class="strong strong"><strong>Storage accounts</strong></span>.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Create storage account</strong></span>.
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>Advanced</strong></span>, make sure these settings are as follows:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Hierarchical namespace</strong></span>: disabled
</li>
<li class="listitem">
<span class="strong strong"><strong>Minimum TLS version</strong></span>: Version 1.2
</li>
<li class="listitem">
<span class="strong strong"><strong>Access tier</strong></span>: Hot
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>Data protections</strong></span>, make sure these settings are as follows:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Enable soft delete for blobs</strong></span>: disabled
</li>
<li class="listitem">
<span class="strong strong"><strong>Enable soft delete for containers</strong></span>: disabled
</li>
</ul>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Review + create</strong></span>, and then click <span class="strong strong"><strong>Create</strong></span>.
</li>
<li class="listitem">
Make note of the storage account name and the storage account access keys because you&#8217;ll use them later to authenticate your Elastic application&#8217;s requests to this storage account in <a class="xref" href="monitor-azure-openai.html#azure-openai-configure-integration" title="Step 3: Configure the Azure OpenAI integration">Step 3: Configure the Azure OpenAI integration</a>.
</li>
</ol>
</div>
<div class="position-relative"><h4><a id="azure-openai-set-up-metrics"></a>Step 2: Set up Azure to collect metrics</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>The Azure OpenAI integration metric data stream collects the cognitive service metrics specific to the Azure OpenAI service.
Before Elastic Agent can collect your metrics and send them to Kibana, it needs an app registration to access Azure on your behalf and collect data using the Azure APIs.</p>
<p>Complete the following steps in your Azure instance to register a new Azure app:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Create the app registration.
</li>
<li class="listitem">
Add credentials to the app.
</li>
<li class="listitem">
Add role assignment to your app.
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="azure-openai-create-app"></a>Create an app registration</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>To register your app:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure portal</a>.
</li>
<li class="listitem">
Search for and select <span class="strong strong"><strong>Microsoft Entra ID</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Manage</strong></span>, select <span class="strong strong"><strong>App registrations</strong></span> → <span class="strong strong"><strong>New registration</strong></span>.
</li>
<li class="listitem">
Enter a display name for your app (for example, <code class="literal">elastic-agent</code>).
</li>
<li class="listitem">
Specify who can use the app.
</li>
<li class="listitem">
The Elastic Agent doesn&#8217;t use a redirect URI, so you can leave this field blank.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Register</strong></span>.
</li>
<li class="listitem">
Make note of the <span class="strong strong"><strong>Application (client) ID</strong></span> because you&#8217;ll use it to specify the <span class="strong strong"><strong>Client ID</strong></span> in the integration settings in <a class="xref" href="monitor-azure-openai.html#azure-openai-configure-integration" title="Step 3: Configure the Azure OpenAI integration">Step 3: Configure the Azure OpenAI integration</a>.
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="azure-openai-app-credentials"></a>Create credentials and add them to your app</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>Credentials allow your app to access Azure APIs and authenticate itself, so you won&#8217;t need to do anything at runtime.
The Elastic Azure OpenAI integration uses client secrets to authenticate.</p>
<p>To create and add client secrets:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure portal</a>, select the app you created in the previous section.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Certificates &amp; secrets</strong></span> → <span class="strong strong"><strong>Client secrets</strong></span> → <span class="strong strong"><strong>New client secret</strong></span>.
</li>
<li class="listitem">
Add a description (for example, "Elastic Agent client secrets").
</li>
<li class="listitem">
Select an expiration or specify a custom lifetime.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Add</strong></span>.
</li>
<li class="listitem">
<p>Make note of the <span class="strong strong"><strong>Value</strong></span> in the <span class="strong strong"><strong>Client secrets</strong></span> table because you&#8217;ll use it to specify the <span class="strong strong"><strong>Client Secret</strong></span> in <a class="xref" href="monitor-azure-openai.html#azure-openai-configure-integration" title="Step 3: Configure the Azure OpenAI integration">Step 3: Configure the Azure OpenAI integration</a>.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>The secret value is not viewable after you leave this page. Record the value in a safe place.</p>
</div>
</div>
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="azure-openai-app-role-assignment"></a>Add role assignment to your app</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>To add a role assignment to your app:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the <a href="https://portal.azure.com/" class="ulink" target="_top">Azure portal</a>, search for and select <span class="strong strong"><strong>Subscriptions</strong></span>.
</li>
<li class="listitem">
Select the subscription to assign the app.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Access control (IAM)</strong></span>.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Add</strong></span> → <span class="strong strong"><strong>Add role assignment</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Role</strong></span> tab, search for and select <span class="strong strong"><strong>Monitoring Reader</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Next</strong></span> to open the <span class="strong strong"><strong>Members</strong></span> tab.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Assign access to</strong></span> → <span class="strong strong"><strong>User, group, or service principal</strong></span>, and select <span class="strong strong"><strong>Select members</strong></span>.
</li>
<li class="listitem">
Search for and select your app name (for example, "elastic-agent").
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Select</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Review + assign</strong></span>.
</li>
<li class="listitem">
Make note of the <span class="strong strong"><strong>Subscription ID</strong></span> and <span class="strong strong"><strong>Tenant ID</strong></span> from your Microsoft Entra because you&#8217;ll use these to specify settings in the integration.
</li>
</ol>
</div>
<div class="position-relative"><h4><a id="azure-openai-configure-integration"></a>Step 3: Configure the Azure OpenAI integration</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the Kibana homepage and click <span class="strong strong"><strong>Add integrations</strong></span>.
</li>
<li class="listitem">
In the query bar, search for <span class="strong strong"><strong>Azure OpenAI</strong></span> and select the Azure OpenAI integration card.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add Azure OpenAI</strong></span>.
</li>
<li class="listitem">
<p>Under Integration settings, configure the integration name and optionally add a description.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you don&#8217;t have options for configuring the integration, you&#8217;re probably in a workflow designed for new deployments.
Follow the steps, then return to this tutorial when you&#8217;re ready to configure the integration.</p>
</div>
</div>
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="azure-openai-configure-integration-logs"></a>Configure logs collection</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>To collect Azure OpenAI logs, specify values for the following required fields:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Event hub</strong></span>
</p>
</td>
<td valign="top">
<p>
The name of the event hub you created earlier.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Connection String</strong></span>
</p>
</td>
<td valign="top">
<p>
<p>
The connection string primary key of the event hub namespace.
To learn how to get the connection string, refer to <a href="https://learn.microsoft.com/en-us/azure/event-hubs/event-hubs-get-connection-string" class="ulink" target="_top">Get an Event Hubs connection string</a> in the Azure documentation.
</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Instead of copying the connection string from the RootManageSharedAccessKey policy, you should create a new shared access policy (with permission to listen) and copy the connection string from the new policy.</p>
</div>
</div>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Storage account</strong></span>
</p>
</td>
<td valign="top">
<p>
The name of a blob storage account that you set up in <a class="xref" href="monitor-azure-openai.html#azure-openai-storage-account-container" title="Create a storage account container">Create a storage account container</a>.
You can use the same storage account container for all integrations.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Storage account key</strong></span>
</p>
</td>
<td valign="top">
<p>
A valid access key defined for the storage account you created in <a class="xref" href="monitor-azure-openai.html#azure-openai-storage-account-container" title="Create a storage account container">Create a storage account container</a>.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="position-relative"><h5><a id="azure-openai-configure-integration-metrics"></a>Configure metrics collection</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>To collect Azure OpenAI metrics, specify values for the following required fields:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Client ID</strong></span>
</p>
</td>
<td valign="top">
<p>
The Application (client) ID that you copied earlier when you created the service principal.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Client secret</strong></span>
</p>
</td>
<td valign="top">
<p>
The secret value that you copied earlier.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Tenant ID</strong></span>
</p>
</td>
<td valign="top">
<p>
The tenant ID listed on the main Azure Active Directory Page.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Subscription ID</strong></span>
</p>
</td>
<td valign="top">
<p>
The subscription ID listed on the main Subscriptions page.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>After you&#8217;ve finished configuring your integration, click <span class="strong strong"><strong>Save and continue</strong></span>.
You&#8217;ll get a notification that your integration was added. Select <span class="strong strong"><strong>Add Elastic Agent to your hosts</strong></span>.</p>
<div class="position-relative"><h4><a id="azure-openai-install-agent"></a>Step 4: Install Elastic Agent</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To get support for the latest API changes from Azure, we recommend
that you use the latest in-service version of Elastic Agent compatible with your
Elastic Stack. Otherwise, your integrations may not function as expected.</p>
</div>
</div>
<p>You can install Elastic Agent on any host that can access the Azure account and forward
events to Elasticsearch.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>In the popup, click <span class="strong strong"><strong>Add Elastic Agent to your hosts</strong></span> to open the <span class="strong strong"><strong>Add agent</strong></span>
flyout.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you accidentally closed the popup, go to <span class="strong strong"><strong>Fleet</strong></span> → <span class="strong strong"><strong>Agents</strong></span>, then
click <span class="strong strong"><strong>Add agent</strong></span> to access the installation instructions.</p>
</div>
</div>
<p>The <span class="strong strong"><strong>Add agent</strong></span> flyout has two options: <span class="strong strong"><strong>Enroll in Fleet</strong></span> and <span class="strong strong"><strong>Run standalone</strong></span>.
The default is to enroll the agents in Fleet, as this reduces the amount of work on the person managing the hosts by providing a centralized management tool in Kibana.</p>
</li>
<li class="listitem">
<p>The enrollment token you need should already be selected.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The enrollment token is specific to the Elastic Agent policy that you just
created. When you run the command to enroll the agent in Fleet, you will pass
in the enrollment token.</p>
</div>
</div>
</li>
<li class="listitem">
To download, install, and enroll the Elastic Agent, select your host operating
system and copy the installation command shown in the instructions.
</li>
<li class="listitem">
Run the command on the host where you want to install Elastic Agent.
</li>
</ol>
</div>
<p>It takes a few minutes for Elastic Agent to enroll in Fleet, download the
configuration specified in the policy, and start collecting data. You can wait
to confirm incoming data, or close the window.</p>
<div class="position-relative"><h4><a id="azure-openai-view-data"></a>Step 5: View logs and metrics in Kibana</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>Now that your log and metric data is streaming to Elasticsearch, you can view them in Kibana.
You have the following options for viewing your data:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="monitor-azure-openai.html#azure-openai-overview-dashboard" title="View logs and metrics with the overview dashboard">View logs and metrics with the overview dashboard</a>: Use the built-in overview dashboard for insight into your Azure OpenAI service like total requests and token usage.
</li>
<li class="listitem">
<a class="xref" href="monitor-azure-openai.html#azure-openai-discover" title="View logs and metrics with Discover">View logs and metrics with Discover</a>: Use Discover to find and filter your log and metric data based on specific fields.
</li>
<li class="listitem">
<a class="xref" href="monitor-azure-openai.html#azure-openai-logs-explorer" title="View logs with Logs Explorer">View logs with Logs Explorer</a>: Use Logs Explorer for an in-depth view into your logs.
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="azure-openai-overview-dashboard"></a>View logs and metrics with the overview dashboard</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>The Elastic Azure OpenAI integration comes with a built-in overview dashboard to visualize your log and metric data.
To view the integration dashboards:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the Kibana menu under <span class="strong strong"><strong>Analytics</strong></span>, select <span class="strong strong"><strong>Dashboards</strong></span>.
</li>
<li class="listitem">
Search for <span class="strong strong"><strong>Azure OpenAI</strong></span>.
</li>
<li class="listitem">
Select the <code class="literal">[Azure OpenAI] Overview</code> dashboard.
</li>
</ol>
</div>
<p>From here, you&#8217;ll find visualizations of important metrics for your Azure OpenAI service, like the request rate, error rate, token usage, and chat completion latency. To zoom in on your data, click and drag across the bars in a visualization.</p>
<p class="screenshot"><span class="image"><img src="images/azure-openai-dashboard.png" alt="screenshot of the Azure OpenAI integration dashboard" width="75%"></span></p>
<p>For more on dashboards and visualization, refer to the <a href="/guide/en/kibana/8.15/dashboard.html" class="ulink" target="_top">Dashboards and visualizations</a> documentation.</p>
<div class="position-relative"><h5><a id="azure-openai-discover"></a>View logs and metrics with Discover</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>Go to <span class="strong strong"><strong>Discover</strong></span> from the Kibana menu under <span class="strong strong"><strong>Analytics</strong></span>.
From the data view drop-down, select either <code class="literal">logs-*</code> or <code class="literal">metrics-*</code> to view specific data.
You can also create data views if, for example, you wanted to view both <code class="literal">logs-*</code> and <code class="literal">metrics-*</code> simultaneously.</p>
<p class="screenshot"><span class="image"><img src="images/discover-data-view-menu.png" alt="screenshot of the Discover data view dropdown" width="50%"></span></p>
<p>From here, filter your data and dive deeper into individual logs to find information and troubleshoot issues.
For a list of Azure OpenAI fields you may want to filter by, refer to the <a href="https://docs.elastic.co/en/integrations/azure_openai#settings" class="ulink" target="_top">Azure OpenAI integration</a> docs.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/azure-openai-discover.png" alt="screenshot of the discover main page">
</div>
</div>
<p>For more on using Discover and creating data views, refer to the <a href="/guide/en/kibana/8.15/discover.html" class="ulink" target="_top">Discover</a> documentation.</p>
<div class="position-relative"><h5><a id="azure-openai-logs-explorer"></a>View logs with Logs Explorer</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>To view Azure OpenAI logs, open Kibana and go to <span class="strong strong"><strong>Observability → Logs Explorer</strong></span>.
With <span class="strong strong"><strong>Logs Explorer</strong></span>, you can quickly search and filter your log data, get information about the structure of log fields, and display your findings in a visualization.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/log-explorer.png" alt="screenshot of the logs explorer main page">
</div>
</div>
<p>From <span class="strong strong"><strong>Logs Explorer</strong></span>, you can select the Azure OpenAI integration from the data selector to view your Kubernetes data.</p>
<p class="screenshot"><span class="image"><img src="images/azure-open-ai-data-selector.png" alt="screenshot of the logs explorer data selector" width="50%"></span></p>
<p>From here, filter your log data and dive deeper into individual logs to find information and troubleshoot issues.
For a list of Azure OpenAI fields you may want to filter by, refer to the <a href="https://docs.elastic.co/en/integrations/azure_openai#settings" class="ulink" target="_top">Azure OpenAI integration</a> documentation.</p>
<p>For more on Logs Explorer, refer to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="explore-logs.html" title="Logs Explorer">Logs Explorer</a> for an overview of Logs Explorer.
</li>
<li class="listitem">
<a class="xref" href="logs-filter-and-aggregate.html#logs-filter-logs-explorer" title="Filter logs in Log Explorer">Filter logs in Log Explorer</a> for more on filtering logs in Logs Explorer.
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="azure-openai-apm"></a>Step 6: Monitor Microsoft Azure OpenAI APM with OpenTelemetry</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai-apm.asciidoc">edit</a></div>
<p>The Azure OpenAI API provides useful data to help monitor and understand your code.
Using OpenTelemetry, you can ingest this data into Elastic Observability.
From there, you can view and analyze your data to monitor the cost and performance of your applications.</p>
<p>For this tutorial, we&#8217;ll be using an <a href="https://github.com/mdbirnstiehl/AzureOpenAIAPMmonitoringOtel" class="ulink" target="_top">example Python application</a> and the Python OpenTelemetry libraries to instrument the application and send data to Observability.</p>
<div class="position-relative"><h5><a id="azure-openai-apm-env-var"></a>Set your environment variables</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai-apm.asciidoc">edit</a></div>
<p>To start collecting APM data for your Azure OpenAI applications, gather the OpenTelemetry OTLP exporter endpoint and authentication header from your Elastic Cloud instance:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the Kibana homepage, select <span class="strong strong"><strong>Add integrations</strong></span>.
</li>
<li class="listitem">
Select the <span class="strong strong"><strong>APM</strong></span> integration.
</li>
<li class="listitem">
Scroll down to <span class="strong strong"><strong>APM Agents</strong></span> and select the <span class="strong strong"><strong>OpenTelemetry</strong></span> tab.
</li>
<li class="listitem">
<p>Make note of the configuration values for the following configuration settings:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">OTEL_EXPORTER_OTLP_ENDPOINT</code>
</li>
<li class="listitem">
<code class="literal">OTEL_EXPORTER_OTLP_HEADERS</code>
</li>
</ul>
</div>
</li>
</ol>
</div>
<p>With the configuration values from the APM integration and your <a href="https://learn.microsoft.com/en-us/azure/ai-services/openai/quickstart?tabs=command-line%2Cpython-new&amp;pivots=programming-language-python#retrieve-key-and-endpoint" class="ulink" target="_top">Azure OpenAI API key and endpoint</a>, set the following environment variables using the export command on the command line:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">export AZURE_OPENAI_API_KEY="your-Azure-OpenAI-API-key"
export AZURE_OPENAI_ENDPOINT="your-Azure-OpenAI-endpoint"
export OPENAI_API_VERSION="your_api_version"
export OTEL_EXPORTER_OTLP_HEADERS="Authorization=Bearer%20&lt;your-otel-exporter-auth-header&gt;"
export OTEL_EXPORTER_OTLP_ENDPOINT="your-otel-exporter-endpoint"
export OTEL_RESOURCE_ATTRIBUTES=service.name=your-service-name</pre>
</div>
<div class="position-relative"><h5><a id="azure-openai-apm-python-libraries"></a>Download Python libraries</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai-apm.asciidoc">edit</a></div>
<p>Install the necessary Python libraries using this command:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">pip3 install openai flask opentelemetry-distro[otlp] opentelemetry-instrumentation</pre>
</div>
<div class="position-relative"><h5><a id="azure-openai-apm-instrument"></a>Instrument the application</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai-apm.asciidoc">edit</a></div>
<p>The following code is from the <a href="https://github.com/mdbirnstiehl/AzureOpenAIAPMmonitoringOtel" class="ulink" target="_top">example application</a>. In a real use case, you would add the import statements to your code.</p>
<p>The app we&#8217;re using in this tutorial is a simple example that calls Azure OpenAI APIs with the following message: “How do I send my APM data to Elastic Observability?”:</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">import os

from flask import Flask
from openai import AzureOpenAI
from opentelemetry import trace

from monitor import count_completion_requests_and_tokens


# Initialize Flask app
app = Flask(__name__)

# Set OpenAI API key
client = AzureOpenAI(
    api_key=os.getenv("AZURE_OPENAI_API_KEY"),
    api_version=os.getenv("OPENAI_API_VERSION"),
    azure_endpoint=os.getenv("AZURE_OPENAI_ENDPOINT"),
)

# Monkey-patch the openai.Completion.create function
client.chat.completions.create = count_completion_requests_and_tokens(
    client.chat.completions.create
)

tracer = trace.get_tracer("counter")


@app.route("/completion")
@tracer.start_as_current_span("completion")
def completion():
    response = client.chat.completions.create(
        model="gpt-4",
        messages=[
            {
                "role": "user",
                "content": "How do I send my APM data to Elastic Observability?",
            }
        ],
        max_tokens=20,
        temperature=0,
    )
    return response.choices[0].message.content.strip()</pre>
</div>
<p>The code uses monkey patching, a technique in Python that dynamically modifies the behavior of a class or module at runtime by modifying its attributes or methods, to modify the behavior of the <code class="literal">chat.completions</code> call so we can add the response metrics to the OpenTelemetry spans.</p>
<p>The <a href="https://github.com/mdbirnstiehl/AzureOpenAIAPMmonitoringOtel/blob/main/monitor.py" class="ulink" target="_top"><code class="literal">monitor.py</code> file</a> in the example application instruments the application and can be used to instrument your own applications.</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">def count_completion_requests_and_tokens(func):
    @wraps(func)
    def wrapper(*args, **kwargs):
        counters["completion_count"] += 1
        response = func(*args, **kwargs)

        token_count = response.usage.total_tokens
        prompt_tokens = response.usage.prompt_tokens
        completion_tokens = response.usage.completion_tokens
        cost = calculate_cost(response)
        strResponse = json.dumps(response, default=str)

        # Set OpenTelemetry attributes
        span = trace.get_current_span()
        if span:
            span.set_attribute("completion_count", counters["completion_count"])
            span.set_attribute("token_count", token_count)
            span.set_attribute("prompt_tokens", prompt_tokens)
            span.set_attribute("completion_tokens", completion_tokens)
            span.set_attribute("model", response.model)
            span.set_attribute("cost", cost)
            span.set_attribute("response", strResponse)
        return response

    return wrapper</pre>
</div>
<p>Adding this data to our span lets us send it to our OTLP endpoint, so you can search for the data in Observability and build dashboards and visualizations.</p>
<p>Implementing the following function allows you to calculate the cost of a single request to the OpenAI APIs.</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">def calculate_cost(response):
    if response.model in ["gpt-4", "gpt-4-0314"]:
        cost = (
            response.usage.prompt_tokens * 0.03
            + response.usage.completion_tokens * 0.06
        ) / 1000
    elif response.model in ["gpt-4-32k", "gpt-4-32k-0314"]:
        cost = (
            response.usage.prompt_tokens * 0.06
            + response.usage.completion_tokens * 0.12
        ) / 1000
    elif "gpt-3.5-turbo" in response.model:
        cost = response.usage.total_tokens * 0.002 / 1000
    elif "davinci" in response.model:
        cost = response.usage.total_tokens * 0.02 / 1000
    elif "curie" in response.model:
        cost = response.usage.total_tokens * 0.002 / 1000
    elif "babbage" in response.model:
        cost = response.usage.total_tokens * 0.0005 / 1000
    elif "ada" in response.model:
        cost = response.usage.total_tokens * 0.0004 / 1000
    else:
        cost = 0
    return cost</pre>
</div>
<p>To download the example application and try it for yourself, go to the <a href="https://github.com/mdbirnstiehl/AzureOpenAIAPMmonitoringOtel" class="ulink" target="_top">GitHub repo</a>.</p>
<div class="position-relative"><h5><a id="azure-openai-view-apm-data"></a>View APM data from OpenTelemetry in Kibana</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai-apm.asciidoc">edit</a></div>
<p>After ingesting your data, you can filter and explore it using Discover in Kibana.
Go to <span class="strong strong"><strong>Discover</strong></span> from the Kibana menu under <span class="strong strong"><strong>Analytics</strong></span>.
You can then filter by the fields sent to Observability by OpenTelemetry, including:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">numeric_labels.completion_count</code>
</li>
<li class="listitem">
<code class="literal">numeric_labels.completion_tokens</code>
</li>
<li class="listitem">
<code class="literal">numeric_labels.cost</code>
</li>
<li class="listitem">
<code class="literal">numeric_labels.prompt_tokens</code>
</li>
<li class="listitem">
<code class="literal">numeric_labels.token_count</code>
</li>
</ul>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/azure-openai-apm-discover.png" alt="screenshot of the discover main page">
</div>
</div>
<p>Then, use these fields to create visualizations and build dashboards. Refer to the <a href="/guide/en/kibana/8.15/dashboard.html" class="ulink" target="_top">Dashboard and visualizations</a> documentation for more information.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/azure-openai-apm-dashboard.png" alt="screenshot of the Azure OpenAI APM dashboard">
</div>
</div>
<div class="position-relative"><h4><a id="azure-openai-alerts"></a>What&#8217;s next?</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/cloud-monitoring/azure/monitor-azure-openai.asciidoc">edit</a></div>
<p>Now that you know how to find and visualize your Azure OpenAI logs and metrics, you&#8217;ll want to make sure you&#8217;re getting the most out of your data.
Elastic has some useful tools to help you do that:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Alerts</strong></span>: Create threshold rules to notify you when your metrics or logs reach or exceed a specified value:
Refer to <a class="xref" href="metrics-threshold-alert.html" title="Create a metric threshold rule">Metric threshold</a> and <a class="xref" href="logs-threshold-alert.html" title="Create a log threshold rule">Log threshold</a> for more on setting up alerts.
</li>
<li class="listitem">
<span class="strong strong"><strong>SLOs</strong></span>: Set measurable targets for your Azure OpenAI service performance based on your metrics.
Once defined, you can monitor your SLOs with dashboards and alerts and track their progress against your targets over time.
Refer to <a class="xref" href="slo.html" title="SLOs"><em>Service-level objectives (SLOs)</em></a> for more on setting up and tracking SLOs.
</li>
<li class="listitem">
<span class="strong strong"><strong>Machine learning (ML) jobs</strong></span>: Set up ML jobs to find anomalous events and patterns in your Azure OpenAI data.
Refer to <a href="/guide/en/machine-learning/8.15/ml-ad-finding-anomalies.html" class="ulink" target="_top">Finding anomalies</a> for more on setting up ML jobs.
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="monitor-azure-native.html">« Monitor Microsoft Azure with the Azure Native ISV Service</a>
</span>
<span class="next">
<a href="monitor-uptime-synthetics.html">Synthetic monitoring »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
