<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Troubleshoot your Universal Profiling | Elastic Observability [8.8] | Elastic</title>
<meta class="elastic" name="content" content="Troubleshoot your Universal Profiling | Elastic Observability [8.8]">

<link rel="home" href="index.html" title="Elastic Observability [8.8]"/>
<link rel="up" href="universal-profiling.html" title="Universal Profiling"/>
<link rel="prev" href="profiling-upgrade.html" title="Upgrade Universal Profiling"/>
<link rel="next" href="create-alerts.html" title="Alerting"/>
<meta class="elastic" name="product_version" content="8.8"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/8.8"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="8.8"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [8.8]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="universal-profiling.html">Universal Profiling</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="profiling-upgrade.html">« Upgrade Universal Profiling</a>
</span>
<span class="next">
<a href="create-alerts.html">Alerting »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="profiling-troubleshooting"></a>Troubleshoot your Universal Profiling<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h2>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>You can use the host-agent logs to find errors.</p>
<p>The following is an example of a <em>healthy</em> host-agent output:</p>
<div class="pre_wrapper lang-logs">
<pre class="programlisting prettyprint lang-logs">time="..." level=info msg="Starting Prodfiler Host Agent v2.4.0 (revision develop-5cce978a, build timestamp 12345678910)"
time="..." level=info msg="Interpreter tracers: perl,php,python,hotspot,ruby,v8"
time="..." level=info msg="Automatically determining environment and machine ID ..."
time="..." level=warning msg="Environment tester (gcp) failed: failed to get GCP metadata: Get \"http://169.254.169.254/computeMetadata/v1/instance/id\": dial tcp 169.254.169.254:80: i/o timeout"
time="..." level=warning msg="Environment tester (azure) failed: failed to get azure metadata: Get \"http://169.254.169.254/metadata/instance/compute?api-version=2020-09-01&amp;format=json\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"
time="..." level=warning msg="Environment tester (aws) failed: failed to get aws metadata: EC2MetadataRequestError: failed to get EC2 instance identity document\ncaused by: RequestError: send request failed\ncaused by: Get \"http://169.254.169.254/latest/dynamic/instance-identity/document\": context deadline exceeded (Client.Timeout exceeded while awaiting headers)"
time="..." level=info msg="Environment: hardware, machine ID: 0xdeadbeefdeadbeef"
time="..." level=info msg="Assigned ProjectID: 5"
time="..." level=info msg="Start CPU metrics"
time="..." level=info msg="Start I/O metrics"
time="..." level=info msg="Found tpbase offset: 9320 (via x86_fsbase_write_task)"
time="..." level=info msg="Environment variable KUBERNETES_SERVICE_HOST not set"
time="..." level=info msg="Supports eBPF map batch operations"
time="..." level=info msg="eBPF tracer loaded"
time="..." level=info msg="Attached tracer program"
time="..." level=info msg="Attached sched monitor"</pre>
</div>
<p>A host-agent deployment is working if the output of the following command is empty:</p>
<div class="pre_wrapper lang-logs">
<pre class="programlisting prettyprint lang-logs">head host-agent.log -n 15 | grep "level=error"</pre>
</div>
<p>If running this command outputs error-level logs, the following are possible causes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>The host-agent is running on an unsupported version of the Linux kernel, or its missing kernel features.</p>
<p>If the host-agent is running on an unsupported kernel version, the following is logged:</p>
<div class="pre_wrapper lang-logs">
<pre class="programlisting prettyprint lang-logs">Host Agent requires kernel version 4.15 or newer but got 3.10.0</pre>
</div>
<p>If eBPF features are not available in the kernel, the host-agent fails to start, and one of the following is logged:</p>
<div class="pre_wrapper lang-logs">
<pre class="programlisting prettyprint lang-logs">Failed to probe eBPF syscall</pre>
</div>
<p>or</p>
<div class="pre_wrapper lang-logs">
<pre class="programlisting prettyprint lang-logs">Failed to probe tracepoint</pre>
</div>
</li>
<li class="listitem">
<p>The host-agent is not able to connect to Elastic Cloud. In this case, a similar message to the following is logged:</p>
<div class="pre_wrapper lang-logs">
<pre class="programlisting prettyprint lang-logs">Failed to setup gRPC connection (retrying...): context deadline exceeded</pre>
</div>
<p>Verify the <code class="literal">collection-agent</code> configuration value is set and is equal to what was printed  in Kibana, when clicking to <span class="strong strong"><strong>Add Data</strong></span>.</p>
</li>
<li class="listitem">
<p>The secret token is not valid, or it has been changed. In this case, the host-agent shuts down, and logs a similar message to the following:</p>
<div class="pre_wrapper lang-logs">
<pre class="programlisting prettyprint lang-logs">rpc error: code = Unauthenticated desc = authentication failed</pre>
</div>
</li>
<li class="listitem">
<p>The host-agent is unable to send data to your deployment. In this case, a similar message to the following is logged:</p>
<div class="pre_wrapper lang-logs">
<pre class="programlisting prettyprint lang-logs">Failed to report hostinfo (retrying...): rpc error: code = Unimplemented desc = unknown service collectionagent.CollectionAgent"</pre>
</div>
<p>This typically means that your Elastic Cloud cluster has not been configured for Universal Profiling. To configure your Elastic Cloud cluster, follow the steps in <a class="xref" href="profiling-get-started.html#profiling-configure-data-ingestion" title="Configure data ingestion">configure data ingestion</a>.</p>
</li>
<li class="listitem">
<p>The APM server (part of the backend in Elastic Cloud that receives data from the host-agent) ran out of memory. In this case, a similar message to the following is logged:</p>
<div class="pre_wrapper lang-logs">
<pre class="programlisting prettyprint lang-logs">Error: failed to invoke XXX(): Unavailable rpc error: code = Unavailable desc = unexpected HTTP status code received from server: 502 (Bad Gateway); transport: received unexpected content-type "application/json; charset=UTF-8"</pre>
</div>
<p>Verify that the APM server is running by navigating to <span class="strong strong"><strong>Elastic Cloud → Deployments → <code class="literal">&lt;Deployment Name&gt;</code> → Integrations Server</strong></span> in <a href="https://cloud.elastic.co/home" class="ulink" target="_top">Elastic Cloud</a>. If the <span class="strong strong"><strong>Copy endpoint</strong></span> link next to <span class="strong strong"><strong>APM</strong></span> is grayed out,
you need to restart the APM server by clicking <span class="strong strong"><strong>Force Restart</strong></span> under <span class="strong strong"><strong>Integrations Server Management</strong></span>.</p>
<p>For non-demo workloads, verify that the Integrations Server has at least the recommended 4GB of RAM. You can check this on the Integrations Server page under <span class="strong strong"><strong>Instances</strong></span>.</p>
</li>
<li class="listitem">
<p>The host-agent is incompatible with the Elastic Stack version. In this case, the following message is logged:</p>
<div class="pre_wrapper lang-logs">
<pre class="programlisting prettyprint lang-logs">rpc error: code = FailedPrecondition desc= HostAgent version is unsupported, please upgrade to the latest version</pre>
</div>
<p>Follow the host-agent deployment instructions shown in Kibana which will always be correct for the Elastic Stack version that you are using.</p>
</li>
</ul>
</div>
<p>If you&#8217;re unable to find a solution to the host-agent failure, you can raise a support request indicating <code class="literal">Universal Profiling</code> and <code class="literal">host-agent</code> as the source of the problem.</p>
<h4><a id="profiling-enable-verbose-logging"></a>Enable verbose logging in host-agent<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h4>
<p>During the support process, you may be asked to provide debug logs from one of the host-agent installations from your
deployment.</p>
<p>To enable debug logs, add the <code class="literal">-verbose</code> command-line flag or the <code class="literal">verbose true</code> setting in the configuration file.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>We recommend only enabling debug logs on a single instance of host-agent rather than an entire deployment to limit the amount of logs produced.</p>
</div>
</div>
<h4><a id="profiling-improve-load-time"></a>Improve load times<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h4>
<p>The amount of data loaded for the flamegraph, topN functions, and traces view can lead to latency when using a slow connection (e.g. DSL or mobile).</p>
<p>Setting the Kibana cluster option <code class="literal">server.compression.brotli.enabled: true</code> reduces the amount of data transferred and should reduce load time.</p>
<h4><a id="profiling-troubleshoot-kubernetes"></a>Troubleshoot host-agent Kubernetes deployments<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h4>
<p>When the Helm chart installation finishes, the output has instructions on how to check the host-agent pod status and read logs.
The following sections provide potential scenarios when host-agent installation <span class="strong strong"><strong>is not healthy</strong></span>.</p>
<h5><a id="profiling-taints"></a>Taints<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h5>
<p>Kubernetes clusters often include <a href="https://kubernetes.io/docs/concepts/scheduling-eviction/taint-and-toleration/" class="ulink" target="_top">taints and tolerations</a> in their setup.
In these cases, a host-agent installation may show no pods or very few pods running, even for a large cluster.</p>
<p>This is because a taint precludes the execution of pods on a node unless the workload has been tolerated.
The Helm chart <code class="literal">tolerations</code> key in the <code class="literal">values.yaml</code> sets the toleration of taints using the official Kubernetes scheduling API
format.</p>
<p>The following examples provide a <code class="literal">tolerations</code> config that you can add to the Helm chart <code class="literal">values.yaml</code>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>To deploy the host-agent on all nodes with taint <code class="literal">workload=python:NoExecute</code>, add the following to the <code class="literal">values.yaml</code>:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">tolerations:
- key: "workload"
  value: "python"
  effect: "NoExecute"</pre>
</div>
</li>
<li class="listitem">
<p>To deploy the host-agent on all nodes tainted with <em>key</em> <code class="literal">production</code> and effect <code class="literal">NoSchedule</code> (no value provided), add the following to the <code class="literal">values.yaml</code>:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">tolerations:
  - key: "production"
    effect: "NoSchedule"
    operator: Exists</pre>
</div>
</li>
<li class="listitem">
<p>To deploy the host-agent on all nodes, tolerating all taints, add the following to the <code class="literal">values.yaml</code>:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">tolerations:
  - effect: NoSchedule
    operator: Exists
  - effect: NoExecute
    operator: Exists</pre>
</div>
</li>
</ul>
</div>
<h5><a id="profiling-security-policy-enforcement"></a>Security policy enforcement<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h5>
<p>Some Kubernetes clusters are configured with hardened security add-ons to limit the blast radius of exploited application vulnerabilities.
Different hardening methodologies can impair host-agent operations and may, for example, result in pods continuously restarting after displaying a <code class="literal">CrashLoopBackoff</code> status.</p>
<h6><a id="profiling-kubernetes-podsecuritypolicy"></a>Kubernetes PodSecurityPolicy (<a href="https://kubernetes.io/blog/2021/04/06/podsecuritypolicy-deprecation-past-present-and-future/" class="ulink" target="_top">deprecated</a>)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h6>
<p>This Kubernetes API has been deprecated, but some still use it. A PodSecurityPolicy (PSP) may explicitly prevent the execution of <code class="literal">privileged</code> containers across the entire cluster.</p>
<p>Since host-agent <em>needs</em> privileges in most kernels/CRI, you need to build a PSP to allow the host-agent DaemonSet to run.</p>
<h6><a id="profiling-policy-engines"></a>Kubernetes policy engines<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h6>
<p>Read more about Kubernetes policy engines in the <a href="https://github.com/kubernetes/sig-security/blob/main/sig-security-docs/papers/policy/kubernetes-policy-management.md" class="ulink" target="_top">SIG-Security documentation</a>.</p>
<p>The following tools <em>may</em> prevent the execution of host-agent pods as the Helm chart builds a cluster role and binds it into the host-agent service account (we use it for container metadata):</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Open Policy Agent Gatekeeper
</li>
<li class="listitem">
Kyverno
</li>
<li class="listitem">
Fairwinds Polaris
</li>
</ul>
</div>
<p>If you have a policy engine in place, configure it to allow the host-agent execution and RBAC configs.</p>
<h6><a id="profiling-network-config"></a>Network configurations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h6>
<p>In some instances, your host-agent pods may be running fine, but they will not connect to the remote data collector gRPC interface and stay in the startup phase, while trying to connect periodically.</p>
<p>The following are potential causes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Kubernetes <a href="https://kubernetes.io/docs/concepts/services-networking/network-policies/" class="ulink" target="_top"><code class="literal">NetworkPolicies</code></a> define connectivity rules that prevent all outgoing traffic unless explicitly allow-listed.
</li>
<li class="listitem">
Cloud or datacenter provider network rules are restricting egress traffic to allowed destinations only (ACLs).
</li>
</ul>
</div>
<h6><a id="profiling-os-level-security"></a>OS-level security<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h6>
<p>These settings <em>are not part of Kubernetes</em> and may have been included in the node setup. They can prevent the host-agent from working properly, as they intercept syscalls from the host-agent to the kernel and modify or block them.</p>
<p>If you have implemented security hardening (some providers listed below), you should know the privileges the host-agent needs.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
gVisor on GKE
</li>
<li class="listitem">
seccomp filters
</li>
<li class="listitem">
AppArmor LSM
</li>
</ul>
</div>
<h4><a id="profiling-submit-support"></a>Submit a support request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h4>
<p>You can submit a support request from the <a href="https://cloud.elastic.co/support" class="ulink" target="_top">support request page</a> in the Elastic Cloud console.</p>
<p>In the support request, specify if your issue deals with the host-agent or the Kibana app.</p>
<h4><a id="profiling-send-feedback"></a>Send feedback<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/profiling-troubleshooting.asciidoc">edit</a></h4>
<p>If troubleshooting and support are not fixing your issues, or you have any other feedback that you want to share about the
product, send the Universal Profiling team an email at <code class="literal">profiling-feedback@elastic.co</code>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="profiling-upgrade.html">« Upgrade Universal Profiling</a>
</span>
<span class="next">
<a href="create-alerts.html">Alerting »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
