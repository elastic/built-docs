<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Monitor nginx: Observe the logs and metrics of your nginx instances | Elastic Observability [master] | Elastic</title>
<meta class="elastic" name="content" content="Monitor nginx: Observe the logs and metrics of your nginx instances | Elastic Observability [master]">

<link rel="home" href="index.html" title="Elastic Observability [master]"/>
<link rel="up" href="observability-tutorials.html" title="Tutorials"/>
<link rel="prev" href="monitor-java-app.html" title="Monitor a Java application"/>
<link rel="next" href="monitor-kubernetes.html" title="Monitor Kubernetes: Observe the health and performance of your Kubernetes deployments"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/master"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="monitor-java-app.html">« Monitor a Java application</a>
</span>
<span class="next">
<a href="monitor-kubernetes.html">Monitor Kubernetes: Observe the health and performance of your Kubernetes deployments »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-tutorials.html">Tutorials</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Monitor nginx: Observe the logs and metrics of your nginx instances</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="monitor-nginx"></a>Monitor nginx: Observe the logs and metrics of your nginx instances<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h2>
</div></div></div>

<div class="sidebar">
<div class="titlepage"></div>
<p><span class="strong strong"><strong>New to Elastic?</strong></span> Follow the steps in our <a href="/guide/en/starting-with-the-elasticsearch-platform-and-its-solutions/master/getting-started-observability.html" class="ulink" target="_top">getting started guide</a> instead of the steps described here.
Return to this tutorial after you&#8217;ve learned the basics.</p>
</div>
<p>Use the <a href="https://docs.elastic.co/en/integrations/nginx" class="ulink" target="_top">nginx Elastic integration</a> and the Elastic Agent to collect valuable metrics and logs from your nginx instances. Then, use built-in dashboards and tools like Logs Explorer in Kibana to visualize and monitor your nginx data from one place. This data provides valuable insight into your nginx instances—for example:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A spike in error logs for a certain resource may mean you have a deleted resource that is still needed.
</li>
<li class="listitem">
Access logs can show when a service&#8217;s peak times are, and, from this, when it might be best to perform things like maintenance.
</li>
<li class="listitem">
A sudden spike in client requests may point to something malicious, like a DDoS attack.
</li>
</ul>
</div>
<h3><a id="monitor-nginx-what-youll-learn"></a>What you&#8217;ll learn<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h3>
<p>This guide walks you through using Elastic Observability to monitor your nginx instances, including:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Collecting logs and metrics from nginx instances using an Elastic Agent and the nginx integration.
</li>
<li class="listitem">
Centralizing the data in the Elastic Stack.
</li>
<li class="listitem">
Exploring the data in real time using tailored dashboards and Observability UIs.
</li>
</ul>
</div>
<h3><a id="monitor-nginx-data-types"></a>Data types<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h3>
<p>The nginx integration collects both logs and metrics.</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Logs</strong></span>
</p>
</td>
<td valign="top">
<p>
<p>
Collect logs to keep a record of events that happen in your nginx instances like when client requests and errors occur.
</p>
<p><span class="strong strong"><strong>Access logs</strong></span> provide information about each request processed by the nginx server. Use these logs for troubleshooting, monitoring performance, and analyzing user behavior.</p>
<p><span class="strong strong"><strong>Error logs</strong></span> provide diagnostic information about errors that occur when the nginx server is handling requests. Use these logs to understand why errors occur, assess error impact, and debug issues.</p>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Metrics</strong></span>
</p>
</td>
<td valign="top">
<p>
Collect metrics for insight into the state of your nginx instances.
This includes information like the total number of active client connections by status, the total number of client requests, and more.
Use these metrics to monitor server load, detect bottlenecks, understand client behavior, and plan for capacity.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<h3><a id="monitor-nginx-prereqs"></a>Before you begin<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h3>
<p>Before you can monitor nginx, you need the following:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Elasticsearch for storing and searching your observability data
</li>
<li class="listitem">
Kibana for visualizing and managing it.
</li>
<li class="listitem">
If you want to collect metrics, make sure your nginx instance is <a href="https://docs.nginx.com/nginx-amplify/nginx-amplify-agent/configuring-metric-collection/" class="ulink" target="_top">configured for metric collection</a>.
</li>
</ul>
</div>
<h3><a id="monitor-nginx-add-integration"></a>Step 1: Add the nginx integration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h3>
<p>Follow these steps to add the nginx integration to your deployment:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select <span class="strong strong"><strong>Add integrations</strong></span> from your deployment&#8217;s homepage.
</li>
<li class="listitem">
Enter "nginx" in the search bar, and select the <span class="strong strong"><strong>Nginx</strong></span> integration.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Add Nginx</strong></span> at the top of the integration page.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Add integration only (skip agent installation)</strong></span> at the bottom of the page.
</li>
</ol>
</div>
<h3><a id="monitor-nginx-configure-integration"></a>Step 2: Configure the nginx integration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h3>
<p>The nginx integration can fetch different logs and metrics from your nginx instances.
From the <span class="strong strong"><strong>Add Nginx integration</strong></span> page, configure which logs and metrics you want the integration to collect.
Refer to the following sections for more information on configuring the integration.</p>
<h4><a id="monitor-nginx-collect-logs"></a>Collect logs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h4>
<p>The nginx integration can collect access logs and error logs.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Access logs:</strong></span> Turn this option on to collect logs about client requests.
</li>
<li class="listitem">
<span class="strong strong"><strong>Error logs:</strong></span> Turn this option on to collect logs about issues nginx encounters with varying severity levels.
</li>
</ul>
</div>
<p>Configure the following for both access logs and error logs:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Paths</strong></span>
</p>
</td>
<td valign="top">
<p>
The location of your logs.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Preserve original event</strong></span>
</p>
</td>
<td valign="top">
<p>
Turn on to add a raw copy of the original event to the <code class="literal">event.original</code> field.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<h4><a id="monitor-nginx-collect-metrics"></a>Collect metrics<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h4>
<p>The nginx integration collects <code class="literal">stub_status</code> metrics from your instances.
Make sure your nginx instance is <a href="https://docs.nginx.com/nginx-amplify/nginx-amplify-agent/configuring-metric-collection/" class="ulink" target="_top">configured for metric collection</a>.
Configure the following to collect metrics:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Hosts</strong></span>
</p>
</td>
<td valign="top">
<p>
The address of the server that Elastic will connect to for collecting metrics.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<span class="strong strong"><strong>Period</strong></span>
</p>
</td>
<td valign="top">
<p>
How frequently to poll for metrics. The default is every 10 seconds.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<h3><a id="monitor-nginx-add-agent"></a>Step 3: Add Elastic Agent<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h3>
<p>After you&#8217;ve configured your integration, you need to add an Elastic Agent to your host to collect data and send it to the Elastic Stack.
You have two options for adding the Elastic Agent, <span class="strong strong"><strong>enroll in Fleet</strong></span> or <span class="strong strong"><strong>run standalone</strong></span>.</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<a class="xref" href="monitor-nginx.html#monitor-nginx-enroll-in-fleet" title="Enroll in Fleet"><span class="strong strong"><strong>Fleet</strong></span></a>
</p>
</td>
<td valign="top">
<p>
Enrolling in Fleet lets you automatically deploy updates and centrally manage the agent.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="monitor-nginx.html#monitor-nginx-run-standalone" title="Run standalone Elastic Agent"><span class="strong strong"><strong>Standalone</strong></span></a>
</p>
</td>
<td valign="top">
<p>
Standalone agents need to be manually updated on the host where the agent is installed.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>For more on</p>
<h4><a id="monitor-nginx-enroll-in-fleet"></a>Enroll in Fleet<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h4>
<p>Follow the instructions from the <span class="strong strong"><strong>Add agent</strong></span> screen to install the Elastic Agent on your host:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Under <span class="strong strong"><strong>Enroll in Fleet?</strong></span>, make sure <span class="strong strong"><strong>Enroll in Fleet</strong></span> is selected.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Install Elastic Agent on your host</strong></span>, copy the command for your system and run it on your host. You can reuse the command on multiple hosts.
</li>
<li class="listitem">
After the agent starts on your host, you&#8217;ll see confirmation that the agent was enrolled in Fleet.
</li>
</ol>
</div>
<h4><a id="monitor-nginx-run-standalone"></a>Run standalone Elastic Agent<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h4>
<p>Before installing and running the standalone Elastic Agent, you need to create an API key.
To create an Elastic Cloud API key:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the Kibana menu, go to <span class="strong strong"><strong>Stack Management</strong></span> → <span class="strong strong"><strong>API keys</strong></span>.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Create API key</strong></span>.
</li>
<li class="listitem">
Give the key a name. For example, <code class="literal">nginx API key</code>.
</li>
<li class="listitem">
Leave the other default options and select <span class="strong strong"><strong>Create API key</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Create API key</strong></span> confirmation dialog, change the dropdown menu setting from <code class="literal">Encoded</code> to <code class="literal">Beats</code>.
This sets the API key format for communication between Elastic Agent (which is based on Beats) and Elasticsearch.
</li>
<li class="listitem">
Copy the generated API key and store it in a safe place.
</li>
</ol>
</div>
<p>After creating your API key, follow the instructions from the <span class="strong strong"><strong>Add agent</strong></span> screen to install the Elastic Agent on your host:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Under <span class="strong strong"><strong>Enroll in Fleet?</strong></span>, select <span class="strong strong"><strong>Run standalone</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Configure the agent</strong></span>, select <span class="strong strong"><strong>Download Policy</strong></span>. Save the <code class="literal">elastic-agent.yml</code> file to a directory on the host where you&#8217;ll install nginx for monitoring.
</li>
<li class="listitem">
<p>Open the policy file and notice that it contains all of the input, output, and other settings for the nginx and System integrations.</p>
<p>Replace:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">    username: '${ES_USERNAME}'
    password: '${ES_PASSWORD}'</pre>
</div>
<p>with:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">    api_key: '&lt;your-api-key&gt;'</pre>
</div>
<p>Where <code class="literal">your-api-key</code> is the key you created previously in this section.</p>
<p>If you already have a standalone agent installed on a host with an existing Elastic Agent policy, add the settings from the <span class="strong strong"><strong>Configure the agent</strong></span> step to your existing <code class="literal">elastic-agent.yml</code> file.</p>
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Install Elastic Agent on your host</strong></span>, select the tab for your host operating system and run the commands on your host.
</li>
<li class="listitem">
<p>If you&#8217;re prompted with <code class="literal">Elastic Agent will be installed at {installation location} and will run as a service. Do you want to continue?</code> answer <code class="literal">Yes</code>.</p>
<p>If you&#8217;re prompted with <code class="literal">Do you want to enroll this Agent into Fleet?</code> answer <code class="literal">no</code>.</p>
</li>
<li class="listitem">
<p>Run the <code class="literal">status</code> command to confirm that Elastic Agent is running.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">elastic-agent status

┌─ fleet
│  └─ status: (STOPPED) Not enrolled into Fleet
└─ elastic-agent
   └─ status: (HEALTHY) Running</pre>
</div>
</li>
</ol>
</div>
<h3><a id="monitor-nginx-explore-logs-and-metrics"></a>Step 4: Explore your logs and metrics<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h3>
<p>Use Kibana to view the metric and log data collected by Elastic Agent.
Refer to the following sections for more information on viewing your data:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="monitor-nginx.html#monitor-nginx-explore-metrics" title="View metrics">View metrics</a>
</li>
<li class="listitem">
<a class="xref" href="monitor-nginx.html#monitor-nginx-explore-logs" title="View logs">View logs</a>
</li>
</ul>
</div>
<h4><a id="monitor-nginx-explore-metrics"></a>View metrics<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h4>
<p>The nginx integration has a built-in dashboard that shows the full picture of your nginx metrics in one place.
To open the nginx dashboard:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open the Kibana menu and go to <span class="strong strong"><strong>Management</strong></span> → <span class="strong strong"><strong>Integrations</strong></span> → <span class="strong strong"><strong>Installed integrations</strong></span>.
</li>
<li class="listitem">
Select the <span class="strong strong"><strong>Nginx</strong></span> card and open the <span class="strong strong"><strong>Assets</strong></span> tab.
</li>
<li class="listitem">
Select either the <code class="literal">[Metrics Nginx] Overview</code> dashboard.
</li>
</ol>
</div>
<p>The <span class="strong strong"><strong>Metrics Nginx overview</strong></span> shows visual representations of total requests, processed requests, heartbeat/up, active connections, reading/writing/waiting rates, request rate, accepts and handled rates, and drops rate.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/nginx-metrics-dashboard.png" alt="nginx metrics dashboard" width="75%">
</div>
</div>
<h4><a id="monitor-nginx-explore-logs"></a>View logs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h4>
<p>After your nginx logs are ingested, view and explore your logs using <a class="xref" href="monitor-nginx.html#monitor-nginx-logs-explorer" title="Logs Explorer">Logs Explorer</a> or the <a class="xref" href="monitor-nginx.html#monitor-nginx-logs-dashboard" title="nginx logs dashboards">nginx logs dashboards</a>.</p>
<h5><a id="monitor-nginx-logs-explorer"></a>Logs Explorer<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h5>
<p>With Logs Explorer, you can quickly search and filter your log data, get information about the structure of log fields, and display your findings in a visualization.
To view nginx logs, open Kibana and go to <span class="strong strong"><strong>Observability</strong></span> → <span class="strong strong"><strong>Logs Explorer</strong></span>.</p>
<p>Filter your results to see logs from the nginx integration from the data selector:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Under <span class="strong strong"><strong>Integrations</strong></span>, select <span class="strong strong"><strong>Nginx</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/nginx-data-selector.png" alt="nginx integration in the data selector" width="50%">
</div>
</div>
</li>
<li class="listitem">
Select either <span class="strong strong"><strong>access</strong></span> logs or <span class="strong strong"><strong>error</strong></span> logs to view the logs you&#8217;re looking for.
</li>
</ol>
</div>
<p>The <span class="strong strong"><strong>Documents</strong></span> table now shows your nginx logs:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/nginx-logs-explorer.png" alt="Logs Explorer showing nginx error logs">
</div>
</div>
<h5><a id="monitor-nginx-logs-dashboard"></a>nginx logs dashboards<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx.asciidoc">edit</a></h5>
<p>The nginx integration has built-in dashboards that show the full picture of your nginx logs in one place.
To open the nginx dashboards:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open the Kibana menu and go to <span class="strong strong"><strong>Management</strong></span> → <span class="strong strong"><strong>Integrations</strong></span> → <span class="strong strong"><strong>Installed integrations</strong></span>.
</li>
<li class="listitem">
Select the <span class="strong strong"><strong>Nginx</strong></span> card and open the <span class="strong strong"><strong>Assets</strong></span> tab.
</li>
<li class="listitem">
Select either the <code class="literal">[Logs Nginx] Overview</code> dashboard or the <code class="literal">[Logs Nginx] Access and error logs</code> dashboard.
</li>
</ol>
</div>
<p>The <span class="strong strong"><strong>Nginx logs overview</strong></span> dashboard shows visual representations of geographical log details, response codes over time, errors over time, the top pages sending logs, data volume, a breakdown of which operating systems are sending logs, and a breakdown of which browsers are sending logs.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/nginx-logs-overview-dashboard.png" alt="nginx logs overview dashboard" width="75%">
</div>
</div>
<p>The <span class="strong strong"><strong>Nginx access and error logs</strong></span> dashboard shows your access logs over time, and lists your access and error logs.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/nginx-logs-access-error-dashboard.png" alt="nginx access and error logs dashboard" width="75%">
</div>
</div>
<h3><a id="monitor-nginx-ml"></a>Step 5: Find anomalies in your nginx access logs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx-ml.asciidoc">edit</a></h3>
<p>Use the <a href="https://docs.elastic.co/en/integrations/nginx" class="ulink" target="_top">nginx Elastic integration</a> machine learning (ML) module to help find unusual activity in your nginx access logs.
Monitoring anomalies in your access logs helps you detect:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
security threats
</li>
<li class="listitem">
network issues
</li>
<li class="listitem">
system performance issues
</li>
<li class="listitem">
operational efficiency issues
</li>
</ul>
</div>
<h4><a id="monitor-nginx-ml-jobs"></a>nginx anomaly detection jobs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx-ml.asciidoc">edit</a></h4>
<p>The nginx ML module provides the following anomaly detection jobs:</p>
<div class="variablelist">
<a id="horizontal"></a>
<dl class="variablelist">
<dt>
<span class="term">
Low request rates (<code class="literal">low_request_rate_nginx</code>)
</span>
</dt>
<dd>
Uses the <a href="/guide/en/machine-learning/master/ml-count-functions.html#ml-count" class="ulink" target="_top"><code class="literal">low_count</code></a> function to detect abnormally low request rates. Abnormally low request rates might indicate that network issues or other issues are preventing requests from reaching the server.
</dd>
<dt>
<span class="term">
Unusual source IPs - high request rates (<code class="literal">source_ip_request_rate_nginx</code>)
</span>
</dt>
<dd>
Uses the <a href="/guide/en/machine-learning/master/ml-count-functions.html#ml-count" class="ulink" target="_top"><code class="literal">hight_count</code></a> function to detect abnormally high request rates from individual IP addresses. Many requests from a single IP or small group of IPs might indicate something malicious like a distributed denial of service (DDoS) attack where a large number of requests are sent to overwhelm the server and make it unavailable to users.
</dd>
<dt>
<span class="term">
Unusual source IPs - high distinct count of URLs (<code class="literal">source_ip_url_count_nginx</code>)
</span>
</dt>
<dd>
Uses the <a href="/guide/en/machine-learning/master/ml-count-functions.html#ml-distinct-count" class="ulink" target="_top"><code class="literal">high_distinct_count</code></a> function to detect individual IP addresses accessing abnormally high numbers of unique URLs. A single IP accessing many unique URLs might indicate something malicious like web scraping or an attempt to find sensitive data or vulnerabilities.
</dd>
<dt>
<span class="term">
Unusual status code rates (<code class="literal">status_code_rate_nginx</code>)
</span>
</dt>
<dd>
Uses the <a href="/guide/en/machine-learning/master/ml-count-functions.html#ml-count" class="ulink" target="_top"><code class="literal">count</code></a> function to detect abnormal error status code rates. A high rate of status codes could indicate problems with broken links, bad URLs, or unauthorized access attempts. A high rate of status codes could also point to server issues like limited resources or bugs in your code.
</dd>
<dt>
<span class="term">
Unusual visitor rates (<code class="literal">visitor_rate_nginx</code>)
</span>
</dt>
<dd>
Uses the <a href="/guide/en/machine-learning/master/ml-count-functions.html#ml-nonzero-count" class="ulink" target="_top"><code class="literal">non_zero_count</code></a> function to detect abnormal visitor rates. High visitor rates could indicate something malicious like a DDoS attack.
Low visitor rates could indicate issues with access to the server.
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>These anomaly detection jobs are available when you have data that matches the query specified in the ML module manifest. Users not following this tutorial can refer to <a href="https://docs.elastic.co/en/integrations/nginx#ml-modules" class="ulink" target="_top">nginx integration ML modules</a> for more about the ML module manifest.</p>
</div>
</div>
<h4><a id="monitor-nginx-ml-prereqs"></a>Before you begin<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx-ml.asciidoc">edit</a></h4>
<p>Verify that your environment is set up properly to use the machine learning features.
If Elasticsearch security features are enabled, you need a user with permissions to manage anomaly detection jobs.
Refer to <a href="/guide/en/machine-learning/master/setup.html" class="ulink" target="_top">Set up ML features</a>.</p>
<h4><a id="monitor-nginx-ml-add-jobs"></a>Add nginx ML jobs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx-ml.asciidoc">edit</a></h4>
<p>Add the nginx ML jobs from the nginx integration to start using anomaly detection:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the main Kibana menu, go to <span class="strong strong"><strong>Machine Learning</strong></span>. Under <span class="strong strong"><strong>Anomaly Detection</strong></span>, select <span class="strong strong"><strong>Jobs</strong></span>.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Create job</strong></span>.
</li>
<li class="listitem">
In the search bar, enter <span class="strong strong"><strong>nginx</strong></span> and select <span class="strong strong"><strong>Nginx access logs [Logs Nginx]</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Use preconfigured jobs</strong></span>, select the <span class="strong strong"><strong>Nginx access logs</strong></span> card.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Create jobs</strong></span>.
</li>
</ol>
</div>
<p>Back on the <span class="strong strong"><strong>Anomaly Detection Jobs</strong></span> page, you should see the nginx anomaly detection jobs—<code class="literal">low_request_rate_nginx</code>, <code class="literal">source_ip_request_rate_nginx</code>, <code class="literal">source_ip_url_count_nginx</code>, <code class="literal">status_code_rate_nginx</code>, and <code class="literal">visitor_rate_nginx</code>.</p>
<h4><a id="monitor-nginx-ml-explore"></a>Explore your anomaly detection job results<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx-ml.asciidoc">edit</a></h4>
<p>View your anomaly detection job results using the Anomaly Explorer or Single Metric Viewer found under <span class="strong strong"><strong>Anomaly Detection</strong></span> in the Machine Learning menu.
The Anomaly Explorer shows the results from all or any combination of your nginx ML jobs.
The Single Metric Viewer focuses on a specific job.
These tools offer a comprehensive view of anomalies and help find patterns and irregularities across data points and time intervals.</p>
<p>Refer to <a href="/guide/en/machine-learning/master/ml-ad-view-results.html" class="ulink" target="_top">View anomaly detection job results</a> for more on viewing and understanding your anomaly detection job results.</p>
<h4><a id="monitor-nginx-ml-alert"></a>Set up alerts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/monitor-nginx-ml.asciidoc">edit</a></h4>
<p>With the nginx ML jobs detecting anomalies, you can set rules to generate alerts when your jobs meet specific conditions.
For example, you could set up a rule on the <code class="literal">low_request_rate_nginx</code> job to alert when low request rates hit a specific severity threshold.
When you get alerted, you can make sure your server isn&#8217;t experiencing issues.</p>
<p>Refer to <a href="/guide/en/machine-learning/master/ml-configuring-alerts.html" class="ulink" target="_top">Generating alerts for anomaly detection jobs</a> for more on setting these rules and generating alerts.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="monitor-java-app.html">« Monitor a Java application</a>
</span>
<span class="next">
<a href="monitor-kubernetes.html">Monitor Kubernetes: Observe the health and performance of your Kubernetes deployments »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
