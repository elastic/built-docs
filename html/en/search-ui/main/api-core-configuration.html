<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<meta name="keywords" content="search-bar-in-header">
<title>Configuration | Search UI | Elastic</title>
<meta class="elastic" name="content" content="Configuration | Search UI">

<link rel="home" href="index.html" title="Search UI"/>
<link rel="up" href="api-architecture.html" title="Architecture"/>
<link rel="prev" href="api-architecture.html" title="Architecture"/>
<link rel="next" href="api-core-state.html" title="State"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Search UI"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Search UI/Guide"/>
<meta name="DC.subject" content="Search UI"/>
<meta name="DC.identifier" content="main"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="api-architecture.html">« Architecture</a>
</span>
<span class="next">
<a href="api-core-state.html">State »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Search UI</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api-architecture.html">Architecture</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Configuration</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="api-core-configuration"></a>Configuration</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
</div></div></div>

<p>Search UI uses a configuration object to tailor search to your needs. It consists of three parts:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Search query
</li>
<li class="listitem">
Autocomplete query
</li>
<li class="listitem">
Event hooks
</li>
</ul>
</div>
<p>See below for details on each part.</p>
<p>See <a class="xref" href="api-react-search-provider.html" title="SearchProvider">React API</a> page for more information on how to use the configuration with the SearchProvider.</p>
<div class="position-relative"><h4><a id="api-core-configuration-search-query-queryconfig"></a>Search Query (QueryConfig)</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>This is the configuration for the main search query. Some of these configuration options are not supported by some connectors. Each connector will document the options that are not supported.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">searchQuery: {
  filters: [{ field: "world_heritage_site", values: ["true"] }],
  facets: {
    states: { type: "value", size: 30 },
  }
  disjunctiveFacets: ["states"], // Array of field names to use for disjunctive searches
  disjunctiveFacetsAnalyticsTags: ["Ignore"],
  conditionalFacets: {},
  search_fields: {
    title: {},
    description: {}
  },
  result_fields: {
    title: {
      snippet: {
        size: 100,
        fallback: true
      }
    },
    nps_link: {
      raw: {}
    }
  }
}</pre>
</div>
<div class="position-relative"><h5><a id="api-core-configuration-filters-global-filters"></a>Filters (Global Filters)</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>Using Query Config, it is possible to create "Global" filters. "Global filters" are filters that are added to every query. The user has no control over whether or not this filter is added or removed, it doesn&#8217;t show up in the query string, and is completely transparent to the user. It is applied IN ADDITION to filters which the user applies.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">filters: [
  // value filter example
  { field: "world_heritage_site", values: ["true"] },
  // Range filter example
  {
    field: "acres",
    values: [{
      from: 0, to: 1000, name: "Small"
    }]
  }
]</pre>
</div>
<div class="position-relative"><h5><a id="api-core-configuration-facets"></a>Facets</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>Tells Search UI to fetch facet data that can be used with Facet Components.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">  facets: {
    // example of a value facet
    states: { type: "value", size: 30 },

    // example of a numeric range facet
    acres: {
      type: "range",
      ranges: [
        { from: -1, name: "Any" },
        { from: 0, to: 1000, name: "Small" },
        { from: 1001, to: 100000, name: "Medium" },
        { from: 100001, name: "Large" },
      ],
    },

    // example of a date range facet
    date_established: {
      type: "range",
      ranges: [
        {
          from: "1950-10-05T14:48:00.000Z",
          name: "Within the last 50 years",
        },
        {
          from: "1900-10-05T14:48:00.000Z",
          to: "1950-10-05T14:48:00.000Z",
          name: "50 - 100 years ago",
        },
        {
          to: "1920-10-05T14:48:00.000Z",
          name: "More than 100 years ago",
        },
      ],

      // example of a geo location range facet
      location: {
        // center location to base ranges off of
        center: "37.7749, -122.4194",
        type: "range",
        unit: "mi",
        ranges: [
          { from: 0, to: 100, name: "Nearby" },
          { from: 100, to: 500, name: "A longer drive" },
          { from: 500, name: "Perhaps fly?" },
        ],
      },
    }
  }</pre>
</div>
<div class="position-relative"><h6><a id="api-core-configuration-disjunctive-faceting"></a>Disjunctive Faceting</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>"Disjunctive" facets are facets that do not change when a selection is made. Meaning, all available options will remain as selectable options even after a selection is made.</p>
<p>Configured in the searchQuery.disjunctiveFacets array. An array of field names. Every field listed here must have been configured in the facets field first. It denotes that a facet should be considered disjunctive. When returning counts for disjunctive facets, the counts will be returned as if no filter is applied on this field, even if one is applied.</p>
<div class="position-relative"><h7><a id="api-core-configuration-disjunctivefacetsanalyticstags"></a>disjunctiveFacetsAnalyticsTags</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>Used in conjunction with the disjunctiveFacets parameter. Adding disjunctiveFacets can cause additional API requests to be made to your API, which can create deceiving analytics. These queries will be tagged with "Facet-Only" by default. This field lets you specify a different tag for these.</p>
<p>Example, use ignore as a tag on all disjunctive API calls:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">disjunctiveFacetsAnalyticsTags: ["ignore"];</pre>
</div>
<div class="position-relative"><h6><a id="api-core-configuration-conditional-faceting"></a>Conditional Faceting</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>See <a class="xref" href="guides-conditional-facets.html" title="Conditional Facets">Conditional Faceting</a> for more information.</p>
<div class="position-relative"><h5><a id="api-core-configuration-search_fields"></a>search_fields</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>Fields which should be searched with search term.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">search_fields: {
  title: {
    weight: 10,
  },
  description: {},
  tags: {
    weight: 5,
  }
}</pre>
</div>
<p>Apply Weights to each search field.</p>
<p>Engine level Weight settings will be applied is none are provided.</p>
<p>Query time Weights take precedence over Engine level values.</p>
<p>All fields specified within the search relevance section will be used for searching if not specified.</p>
<div class="position-relative"><h5><a id="api-core-configuration-result_fields"></a>result_fields</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>Select from two ways to render text field values:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Raw</strong></span>: An exact representation of the value within a field. And it is exact! It is not HTML escaped.
</li>
<li class="listitem">
<span class="strong strong"><strong>Snippet</strong></span>: A snippet is an HTML escaped representation of the value within a field, where query matches are captured in <code class="literal">&lt;em&gt;</code> tags.
</li>
</ul>
</div>
<p>A raw field defaults to the full field with no character limit outside of max document size. A custom range must be at least 20 characters.</p>
<p>A snippet field defaults to 100 characters. A custom range must be between 20-1000 characters.</p>
<p>Only text fields provide these two options, as they are functions of the deep full-text search capabilities of App Search.</p>
<div class="position-relative"><h6><a id="api-core-configuration-raw"></a>Raw</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">result_fields: {
  title: {
    raw: {}
  },
  description: {
    raw: {
      size: 50
    }
  }
}</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">field</th>
<th align="left" valign="top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">size</code></p></td>
<td align="left" valign="top"><p>Number - Optional. Length of the return value. Only can be used on text fields. Must be at least 20; defaults to the entire text field. If given for a different field type other than text, it will be silently ignored.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="position-relative"><h6><a id="api-core-configuration-snippet-highlighting"></a>Snippet (Highlighting)</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>Requests a snippet of a text field.</p>
<p>The query match will be wrapped in <code class="literal">&lt;em&gt;&lt;/em&gt;</code> tags, for highlighting, if a match exists.</p>
<p>Use escaped quotations to highlight only on exact, case insensitive matches.</p>
<p>Matches are HTML escaped prior to inserting <code class="literal">&lt;em&gt;&lt;/em&gt;</code> tags. Fallbacks are also HTML escaped.</p>
<p>If requesting a snippet on a non-text field, the snippet field will be null.</p>
<p>If there is no match for your query, the snippet field will be null.</p>
<p>Snippets on an array value will return the first match or null. There is no fallback support.</p>
<p>On synonyms: If a search finds a synonym for a query, the synonym will not be highlighted.</p>
<p>For example, if "path" and "trail" are synonyms and a query is done for "path", the term "trail" will not be highlighted.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">result_fields: {
  title: {
    snippet: {
      size: 100,
      fallback: true
    }
  },
  description: {
    raw: {
      size: 50
    }
  }
}</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">field</th>
<th align="left" valign="top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">size</code></p></td>
<td align="left" valign="top"><p>Character length of the snippet returned. Must be at least 20; defaults to 100.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">fallback</code></p></td>
<td align="left" valign="top"><p>If true, fallback to the raw field if no match is found.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="position-relative"><h4><a id="api-core-configuration-autocomplete-query"></a>Autocomplete Query</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>This is the configuration that provide relevant query suggestions for incomplete queries. Some of these configuration options are not supported by some connectors. Each connector will document the options that are not supported.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">autocompleteQuery: {
  // performs a prefix search on the query
  results: {
    resultsPerPage: 5, // number of results to display. Default is 5.
    result_fields: {
      // Add snippet highlighting within autocomplete suggestions
      title: { snippet: { size: 100, fallback: true }},
      nps_link: { raw: {} }
    }
  },
  // performs a query to suggest for values that partially match the incomplete query
  suggestions: {
    types: {
      // Limit query to only suggest based on "title" field
      documents: {  fields: ["title"] }
    },
    // Limit the number of suggestions returned from the server
    size: 4
  }
}</pre>
</div>
<div class="position-relative"><h5><a id="api-core-configuration-results"></a>Results</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p><code class="literal">results</code> will perform autocomplete on the query being typed. This will give back results that are relevant to the query before the user has typed any additional characters.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">results: {
  resultsPerPage: 5,
  result_fields: {
    title: { snippet: { size: 100, fallback: true }},
    nps_link: { raw: {} }
  }
},</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">field</th>
<th align="left" valign="top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">resultPerPage</code></p></td>
<td align="left" valign="top"><p>Optional. Number type. Number of results suggested</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">result_fields</code></p></td>
<td align="left" valign="top"><p>Optional. To specify the fields for each result hit. Use same configuration as <a class="xref" href="api-core-configuration.html#api-core-configuration-result_fields" title="result_fields">result fields</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="position-relative"><h5><a id="api-core-configuration-suggestions"></a>Suggestions</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>Suggestions Query configuration for Search UI largely follows the same API as the <a href="/guide/en/app-search/current/query-suggestion.html" class="ulink" target="_top">App Search Search API</a>.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "types": {
    "documents": {
      "fields": ["title", "states"]
    }
  },
  "size": 4
}</pre>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">option</th>
<th align="left" valign="top">type</th>
<th align="left" valign="top">required?</th>
<th align="left" valign="top">source</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">types</code></p></td>
<td align="left" valign="top"><p>Object</p></td>
<td align="left" valign="top"><p>required</p></td>
<td align="left" valign="top"><p>Object, keyed by "type" of query suggestion, with configuration for that type of suggestion.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">size</code></p></td>
<td align="left" valign="top"><p>Integer</p></td>
<td align="left" valign="top"><p>optional</p></td>
<td align="left" valign="top"><p>Number of suggestions to return.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="position-relative"><h5><a id="api-core-configuration-result-suggestions"></a>Result Suggestions</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p><span class="strong strong"><strong>Supported only by the Elasticsearch-connector.</strong></span></p>
</div>
</div>
<p>A different index can be used for the suggestions. Some examples:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Popular queries index from analytics
</li>
<li class="listitem">
Brands index from product data
</li>
<li class="listitem">
Categories index from product data
</li>
</ul>
</div>
<p>Below we are using the <code class="literal">popular_queries</code> index and performing a prefix match search on the <code class="literal">query.suggest</code> field. One thing to note, make sure the api-key has access to the index.</p>
<p>See <a class="xref" href="api-react-components-search-box.html" title="SearchBox">Example retrieving suggestions from another index</a> for more information.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">autocompleteQuery: {
  suggestions: {
    popularQueries: {
      search_fields: {
        "query.suggest": {} // fields used to query
      },
      result_fields: {
        query: { // fields used for display
          raw: {}
        }
      },
      index: "popular_queries",
      queryType: "results"
    }
  }
}</pre>
</div>
<div class="position-relative"><h4><a id="api-core-configuration-event-hooks"></a>Event Hooks</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>Search UI exposes a number of event hooks which need handlers to be implemented in order for Search UI
to function properly.</p>
<p>The easiest way to provide handlers for these events is via an out-of-the-box "Connector", which
provides pre-built handlers, which can then be configured for your particular use case.</p>
<p>While we do provide out-of-the-box Connectors, it is also possible to implement these handlers directly,
override Connector methods, or provide "middleware" to Connectors in order to further customize
how Search UI interacts with your services.</p>
<div class="position-relative"><h6><a id="api-core-configuration-event-handlers"></a>Event Handlers</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">method</th>
<th align="left" valign="top">params</th>
<th align="left" valign="top">return</th>
<th align="left" valign="top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">onResultClick</code></p></td>
<td align="left" valign="top"><p><code class="literal">props</code> - Object</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>This method logs a click-through event to your APIs analytics service. This is triggered when a user clicks on a result on a result page.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>- <code class="literal">query</code> - String</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>The query used to generate the current results.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>- <code class="literal">documentId</code> - String</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>The id of the result that a user clicked.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>- <code class="literal">requestId</code> - String</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>A unique id that ties the click to a particular search request.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>- <code class="literal">tags</code> - Array[String]</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>Tags used for analytics.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">onSearch</code></p></td>
<td align="left" valign="top"><p><code class="literal">state</code> - <a class="xref" href="api-core-state.html#api-core-state-request-state" title="Request State">Request State</a></p></td>
<td align="left" valign="top"><p><a class="xref" href="api-core-state.html#api-core-state-response-state" title="Response State">Response State</a></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p><code class="literal">queryConfig</code> - <a class="xref" href="api-core-configuration.html#api-core-configuration-search-query-queryconfig" title="Search Query (QueryConfig)">Query Config</a></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">onAutocompleteResultClick</code></p></td>
<td align="left" valign="top"><p><code class="literal">props</code> - Object</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>This method logs a click-through event to your APIs analytics service. This is triggered when a user clicks on a result in an autocomplete dropdown</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>- <code class="literal">query</code> - String</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>The query used to generate the current results.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>- <code class="literal">documentId</code> - String</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>The id of the result that a user clicked.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>- <code class="literal">requestId</code> - String</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>A unique id that ties the click to a particular search request.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>- <code class="literal">tags</code> - Array[String]</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>Tags used for analytics.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">onAutocomplete</code></p></td>
<td align="left" valign="top"><p><code class="literal">state</code> - <a class="xref" href="api-core-state.html#api-core-state-request-state" title="Request State">Request State</a></p></td>
<td align="left" valign="top"><p><a class="xref" href="api-core-state.html#api-core-state-response-state" title="Response State">Response State</a></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p><code class="literal">queryConfig</code> - Object</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>- <code class="literal">results</code> - <a class="xref" href="api-core-configuration.html#api-core-configuration-search-query-queryconfig" title="Search Query (QueryConfig)">Query Config</a></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>If this is set, results should be returned for autocomplete.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>- <code class="literal">suggestions</code> - <a class="xref" href="api-core-configuration.html#api-core-configuration-suggestions" title="Suggestions">Suggestions Query Config</a></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>If this is set, query suggestions should be returned for autocomplete.</p></td>
</tr>
</tbody>
</table>
</div>
<p>Explicitly providing a Handler will override the Handler provided by the Connector.</p>
<div class="pre_wrapper lang-jsx">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-jsx">&lt;SearchProvider
  config={{
    apiConnector: connector,
    onSearch: async (requestState, queryConfig) =&gt; {
      const queryForOtherService = transformSearchUIStateToQuery(
        requestState,
        queryConfig
      );
      const otherServiceResponse = await callSomeOtherService(
        queryForOtherService
      );
      return transformOtherServiceResponseToSearchUIState(otherServiceResponse);
    }
  }}
/&gt;</pre>
</div>
<div class="position-relative"><h5><a id="api-core-configuration-using-middleware-in-connector-handlers"></a>Using middleware in Connector Handlers</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>Handler implementations can also be used as middleware for Connectors by leveraging
the <code class="literal">next</code> function.</p>
<div class="pre_wrapper lang-jsx">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-jsx">&lt;SearchProvider
  config={{
    apiConnector: connector,
    onSearch: (requestState, queryConfig, next) =&gt; {
      const updatedState = someStateTransformation(requestState);
      return next(updatedState, queryConfig);
    }
  }}
/&gt;</pre>
</div>
<div class="position-relative"><h5><a id="api-core-configuration-routing-options"></a>Routing Options</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/do-not-delete_legacy-docs/docs/api-core-configuration.asciidoc">edit</a></div>
<p>Search UI provides a number of options for how to customise how state is serialised onto the URL. Within the config there is a <code class="literal">routingOptions</code> object which can be used to override the serialisation and parsing of the url to state.</p>
<p>Below is an example of how to use the <code class="literal">routingOptions</code> object to customise the url to be more SEO friendly.</p>
<p>This will result in the url pattern being like <code class="literal">https://example.com/search/california,alaska?query=shoes</code></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">const routingOptions = {
  readUrl: () =&gt; {
    return asPath;
  },
  writeUrl: (url, { replaceUrl }) =&gt; {
    const method = router[replaceUrl ? "replace" : "push"];
    method(url);
  },
  stateToUrl: (state) =&gt; {
    const statesFilter = state.filters.find(
      (filter) =&gt; filter.field === "states"
    );
    const states = statesFilter ? statesFilter.values.join(",") : "all";
    return `/search/${states}?query=${state.searchTerm}`;
  },
  urlToState: (url) =&gt; {
    const match = url.match(/\/search\/(\w+)\?query=(\w+)/);
    if (!match) return {};
    return {
      searchTerm: match[2],
      filters: [{ field: "states", values: [match[1].split(",")], type: "any" }]
    };
  }
};

const config = {
  // search UI config
  routingOptions: routingOptions
};</pre>
</div>


</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="api-architecture.html">« Architecture</a>
</span>
<span class="next">
<a href="api-core-state.html">State »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
