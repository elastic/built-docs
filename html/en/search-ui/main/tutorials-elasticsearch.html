<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Search UI with Elasticsearch | Search UI | Elastic</title>
<meta class="elastic" name="content" content="Search UI with Elasticsearch | Search UI">

<link rel="home" href="index.html" title="Search UI"/>
<link rel="up" href="tutorials-connectors.html" title="Which connector to choose?"/>
<link rel="prev" href="tutorials-app-search.html" title="Search UI with App Search"/>
<link rel="next" href="tutorials-workplace-search.html" title="Search UI with Workplace Search"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Search UI"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Search UI/Guide"/>
<meta name="DC.subject" content="Search UI"/>
<meta name="DC.identifier" content="main"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="tutorials-app-search.html">« Search UI with App Search</a>
</span>
<span class="next">
<a href="tutorials-workplace-search.html">Search UI with Workplace Search »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Search UI</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="tutorials-connectors.html">Which connector to choose?</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Search UI with Elasticsearch</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="tutorials-elasticsearch"></a>Search UI with Elasticsearch</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p class="admon_title">Technical preview</p>
<p>Elasticsearch connector for Search UI is currently in technical preview
status. It is not ready for production use.</p>
</div>
</div>
<p>This tutorial will guide you through the process of creating a Search UI with Elasticsearch directly, using the <code class="literal">elasticsearch-connector</code>. We will be using a sample movie data-set of around 1000 movies.</p>
<p>Within this tutorial, we assume that you have Node.js installed on your machine.</p>
<div class="position-relative"><h4><a id="tutorials-elasticsearch-step-1-setup-elasticsearch"></a>Step 1: Setup Elasticsearch</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>First we need to setup Elasticsearch. The easiest way to do this is to create an Elasticsearch instance via <a href="https://cloud.elastic.co/registration" class="ulink" target="_top">Elastic Cloud</a>.</p>
<div class="position-relative"><h5><a id="tutorials-elasticsearch-setting-up-an-index"></a>Setting up an Index</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>We are going to issue commands via <a href="/guide/en/kibana/current/console-kibana.html" class="ulink" target="_top">Kibana&#8217;s dev tools console</a>. You can alternatively use a REST client like Postman to achieve this.</p>
<p>First we need to create an index for our data. We can do this simply via the following request:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">PUT /my-example-movies</pre>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/elasticsearch-tutorial/create-index.jpeg" alt="Create Index">
</div>
</div>
<p>Elasticsearch will acknowledge our request in the response.</p>
<div class="position-relative"><h5><a id="tutorials-elasticsearch-setting-up-a-read-only-api-key"></a>Setting up a read-only API Key</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>Next we need to setup an API key to access the data from the index. We can do this via Kibana&#8217;s Stack Management API Keys page (<code class="literal">&lt;your Kibana endpoint&gt;/app/management/security/api_keys</code>). Note that security needs to be enabled for this option to be available.</p>
<p>Notice here we are only giving read privileges for this api key. You will need to setup an api key with write privileges to add and update data to the index.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "superuser": {
    "cluster": ["all"],
    "indices": [
      {
        "names": ["my-example-movies"],
        "privileges": ["read"],
        "allow_restricted_indices": false
      }
    ]
  }
}</pre>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/elasticsearch-tutorial/api-keys.jpeg" alt="creating api key">
</div>
</div>
<p>Once saved, you are presented with the api-key. Copy this and keep it safe. We will need to use this further down in the tutorial.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/elasticsearch-tutorial/api-key-view.jpeg" alt="copy api key">
</div>
</div>
<div class="position-relative"><h5><a id="tutorials-elasticsearch-enabling-cors"></a>Enabling CORS</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>If you&#8217;re going to be accessing Elasticsearch directly from a browser and the Elasticsearch host domain doesn&#8217;t match your site&#8217;s domain, you will need to enable CORS.</p>
<p>CORS is a browser mechanism which enables controlled access to resources located outside of the current domain. In order for the browser to make requests to Elasticsearch, CORS configuration headers need to specified in the Elasticsearch configuration.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/elasticsearch-tutorial/edit-settings.png" alt="edit-deployment-settings">
</div>
</div>
<p>You can do this in cloud by going to the deployment settings for your Elasticsearch instance, click "Edit user settings and plugins" and under "user settings", add the CORS configuration below:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">http.cors.allow-origin: "*"
http.cors.enabled: true
http.cors.allow-credentials: true
http.cors.allow-methods: OPTIONS, HEAD, GET, POST, PUT, DELETE
http.cors.allow-headers: X-Requested-With, X-Auth-Token, Content-Type, Content-Length, Authorization, Access-Control-Allow-Headers, Accept, x-elastic-client-meta</pre>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/elasticsearch-tutorial/cors-settings.png" alt="edit-deployment-settings">
</div>
</div>
<p>then save. Your Elasticsearch instance will be restarted and the CORS configuration will be active.</p>
<div class="position-relative"><h4><a id="tutorials-elasticsearch-step-2-setup-movies-index"></a>Step 2: Setup Movies Index</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>Next we need to setup the index fields, ready for us to ingest data.</p>
<p>The mapping for an index depends on the data you want to index and the features you want.</p>
<div class="position-relative"><h5><a id="tutorials-elasticsearch-examples"></a>Examples</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>We want to be able to search on title. We need only one field of type text.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "properties": {
    "title": {
      "type": "text"
    }
  }
}</pre>
</div>
<p>We want to be able to search and product facets for writers field. We need two fields of different types: keyword and text.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "properties": {
    "writers": {
      "type": "text",
      "fields": {
        "keyword": {
          "type": "keyword"
        }
      }
    }
  }
}</pre>
</div>
<p>We want to be able to filter on a date field. We only need one date field.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "properties": {
    "released": {
      "type": "date"
    }
  }
}</pre>
</div>
<p>We want to be able to filter on a numeric field. We only need one numeric field. Can be a choice of integer, float and <a href="/guide/en/elasticsearch/reference/current/number.html" class="ulink" target="_top">more documented here</a></p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "properties": {
    "imdbRating": {
      "type": "float"
    }
  }
}</pre>
</div>
<p>For our movie data-set, we will be using the following fields:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
title (searchable)
</li>
<li class="listitem">
plot (searchable)
</li>
<li class="listitem">
genre (searchable, facetable)
</li>
<li class="listitem">
actors (searchable, facetable)
</li>
<li class="listitem">
directors (searchable, facetable)
</li>
<li class="listitem">
released (filterable)
</li>
<li class="listitem">
imdbRating (filterable)
</li>
<li class="listitem">
url
</li>
</ul>
</div>
<p>The mapping file will be as follows, and we&#8217;ll once again use Kibana&#8217;s dev tools console to update the mapping file for our index.</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">PUT /my-example-movies/_mapping
{
  "properties": {
    "title": {
      "type": "text",
      "fields": {
        "suggest": {
          "type": "search_as_you_type"
        }
      }
    },
    "plot": {
      "type": "text"
    },
    "genre": {
      "type": "text",
      "fields": {
        "keyword": {
          "type": "keyword"
        }
      }
    },
    "actors": {
      "type": "text",
      "fields": {
        "keyword": {
          "type": "keyword"
        }
      }
    },
    "directors": {
      "type": "text",
      "fields": {
        "keyword": {
          "type": "keyword"
        }
      }
    },
    "released": {
      "type": "date"
    },
    "imdbRating": {
      "type": "float"
    },
    "url": {
      "type": "keyword"
    },
    "movie_completion": {
      "type": "completion"
    }
  }
}</pre>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/elasticsearch-tutorial/update-mapping.jpeg" alt="add mapping">
</div>
</div>
<p>Elasticsearch will acknowledge the request in the response.</p>
<p>We also want to provide autocomplete functionality, so we need to setup fields for autocomplete.</p>
<p>For suggestions, we want to suggest terms that appear within the actors, directors and genre fields.
For quick result hits, we want to suggest movies that partially match the title field.</p>
<p>In the above example:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
we have included <code class="literal">movie_completion</code> field, which is used to provide suggestion completion functionality. This field is not searchable, but is used to provide autocomplete functionality.
</li>
<li class="listitem">
we have included a <code class="literal">suggest</code> field for the title field. This field is searchable, but is used to provide "quick hits" functionality.
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="tutorials-elasticsearch-step-3-index-movies-data"></a>Step 3: Index Movies Data</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>Now with our index and mapping file created, we are ready to index some data! We will use the bulk API to index our data.</p>
<p>We will use the following request. In this example we will be indexing the first movie in the data-set to verify that the data fields is being indexed correctly.</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">PUT /my-example-movies/_bulk
{ "index": {}}
{"title": "The Godfather", "released": "1972-03-23T23:00:00.000Z","genre": ["Crime", "Drama"],"directors": ["Francis Ford Coppola"],"actors": ["Marlon Brando", "Al Pacino", "James Caan", "Richard S. Castellano"],"plot": "The aging patriarch of an organized crime dynasty transfers control of his clandestine empire to his reluctant son.","imdbRating": "9.2", "movie_completion": ["Crime", "Drama", "Marlon Brando", "Al Pacino", "James Caan", "Richard S. Castellano"], "url": "https://www.imdb.com/title/tt0068646/"}</pre>
</div>
<div class="position-relative"><h4><a id="tutorials-elasticsearch-step-4-setup-cra-for-search-ui"></a>Step 4: Setup CRA for Search UI</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>First, download the Search-UI&#8217;s starter app from github by</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">curl https://codeload.github.com/elastic/app-search-reference-ui-react/tar.gz/master | tar -xz</pre>
</div>
<p>and should appear as a folder called <code class="literal">app-search-reference-ui-react-main</code>.</p>
<p>Navigate to the root to the folder and install the dependencies using the following command:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">yarn</pre>
</div>
<div class="position-relative"><h5><a id="tutorials-elasticsearch-installing-connector"></a>Installing connector</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>Within the folder, we can now install the <code class="literal">@elastic/search-ui-elasticsearch-connector</code> library with Yarn.</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">yarn add @elastic/search-ui-elasticsearch-connector</pre>
</div>
<p>Make sure to check and update Search UI dependencies to the latest version. You can find the latest version by going to <a href="https://www.npmjs.com/package/@elastic/search-ui" class="ulink" target="_top">NPM&#8217;s page for @elastic/search-ui</a>.</p>
<div class="position-relative"><h5><a id="tutorials-elasticsearch-setting-up-the-connector"></a>Setting up the connector</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>Open the project within your favorite editor.</p>
<p>Within <code class="literal">src/App.js</code>, change line 3 to import the Elasticsearch connector. You no longer need the app-search connector.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">import ElasticsearchAPIConnector from "@elastic/search-ui-elasticsearch-connector";</pre>
</div>
<p>and then update the options to the connector</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">const connector = new ElasticsearchAPIConnector({
  cloud: {
    id: "&lt;my-elastic-cloud-id&gt;"
  },
  apiKey: "&lt;api-key&gt;",
  index: "my-example-movies"
});</pre>
</div>
<p>If you&#8217;re using Elastic Cloud, you can find your cloud id within your deployment&#8217;s details.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/elasticsearch-tutorial/copy-cloud-id.jpg" alt="copy es endpoint">
</div>
</div>
<p>alternatively, if you&#8217;re using an on-premise Elasticsearch instance, you can connect via specifying the host.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">const connector = new ElasticsearchAPIConnector({
  host: "http://localhost:9200",
  index: "my-example-movies"
});</pre>
</div>
<div class="position-relative"><h4><a id="tutorials-elasticsearch-step-5-configure-search-ui"></a>Step 5: Configure Search UI</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>Next lets configure Search UI for our needs! Navigate to the config within app.js and update the following:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">const config = {
  searchQuery: {
    search_fields: {
      title: {
        weight: 3
      },
      plot: {},
      genre: {},
      actors: {},
      directors: {}
    },
    result_fields: {
      title: {
        snippet: {}
      },
      plot: {
        snippet: {}
      }
    },
    disjunctiveFacets: ["genre.keyword", "actors.keyword", "directors.keyword"],
    facets: {
      "genre.keyword": { type: "value" },
      "actors.keyword": { type: "value" },
      "directors.keyword": { type: "value" },
      released: {
        type: "range",
        ranges: [
          {
            from: "2012-04-07T14:40:04.821Z",
            name: "Within the last 10 years"
          },
          {
            from: "1962-04-07T14:40:04.821Z",
            to: "2012-04-07T14:40:04.821Z",
            name: "10 - 50 years ago"
          },
          {
            to: "1962-04-07T14:40:04.821Z",
            name: "More than 50 years ago"
          }
        ]
      },
      imdbRating: {
        type: "range",
        ranges: [
          { from: 1, to: 3, name: "Pants" },
          { from: 3, to: 6, name: "Mediocre" },
          { from: 6, to: 8, name: "Pretty Good" },
          { from: 8, to: 10, name: "Excellent" }
        ]
      }
    }
  },
  autocompleteQuery: {
    results: {
      resultsPerPage: 5,
      search_fields: {
        "title.suggest": {
          weight: 3
        }
      },
      result_fields: {
        title: {
          snippet: {
            size: 100,
            fallback: true
          }
        },
        url: {
          raw: {}
        }
      }
    },
    suggestions: {
      types: {
        results: { fields: ["movie_completion"] }
      },
      size: 4
    }
  },
  apiConnector: connector,
  alwaysSearchOnInitialLoad: true
};</pre>
</div>
<p>In the above example, we configured the:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
query fields to search on title, plot, genre, actors and directors using the text fields
</li>
<li class="listitem">
result fields to display title, plot, genre, actors and directors using the text fields
</li>
<li class="listitem">
facets to display genre, actors and directors using the keyword fields
</li>
<li class="listitem">
we made the facets disjunctive for better user experience. The user can select more than one facet to expand their search.
</li>
<li class="listitem">
autocomplete results to suggest results with the same query fields as main search + returning some fields for display.
</li>
</ul>
</div>
<p>For more information on configuration, visit the <a class="xref" href="api-core-configuration.html" title="Configuration">API configuration docs</a>.</p>
<div class="position-relative"><h5><a id="tutorials-elasticsearch-updating-components"></a>Updating Components</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>We are going to do several steps here:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
update the <code class="literal">&lt;Searchbox /&gt;</code> component to configure autocomplete
</li>
<li class="listitem">
remove sorting options
</li>
<li class="listitem">
add a <code class="literal">&lt;Facet /&gt;</code> component for each facet field
</li>
<li class="listitem">
update the <code class="literal">&lt;Results /&gt;</code> component to display all the fields
</li>
</ul>
</div>
<div class="pre_wrapper lang-jsx">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-jsx">&lt;div className="App"&gt;
  &lt;ErrorBoundary&gt;
    &lt;Layout
      header={
        &lt;SearchBox
          autocompleteMinimumCharacters={3}
          autocompleteResults={{
            linkTarget: "_blank",
            sectionTitle: "Results",
            titleField: "title",
            urlField: "url",
            shouldTrackClickThrough: true
          }}
          autocompleteSuggestions={true}
          debounceLength={0}
        /&gt;
      }
      sideContent={
        &lt;div&gt;
          {wasSearched &amp;&amp; &lt;Sorting label={"Sort by"} sortOptions={[]} /&gt;}
          &lt;Facet key={"1"} field={"genre.keyword"} label={"genre"} /&gt;
          &lt;Facet key={"2"} field={"actors.keyword"} label={"actors"} /&gt;
          &lt;Facet key={"3"} field={"directors.keyword"} label={"directors"} /&gt;
          &lt;Facet key={"4"} field={"released"} label={"released"} /&gt;
          &lt;Facet key={"4"} field={"imdbRating"} label={"imdb rating"} /&gt;
        &lt;/div&gt;
      }
      bodyContent={&lt;Results shouldTrackClickThrough={true} /&gt;}
      bodyHeader={
        &lt;React.Fragment&gt;
          {wasSearched &amp;&amp; &lt;PagingInfo /&gt;}
          {wasSearched &amp;&amp; &lt;ResultsPerPage /&gt;}
        &lt;/React.Fragment&gt;
      }
      bodyFooter={&lt;Paging /&gt;}
    /&gt;
  &lt;/ErrorBoundary&gt;
&lt;/div&gt;</pre>
</div>
<div class="position-relative"><h4><a id="tutorials-elasticsearch-step-6-test-drive"></a>Step 6: Test Drive!</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>Lets run the project with the command:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">yarn start</pre>
</div>
<p>and then view the results in the browser at <a href="http://localhost:3000/" class="ulink" target="_top">http://localhost:3000/</a></p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/elasticsearch-tutorial/search-ui.jpeg" alt="search-ui">
</div>
</div>
<div class="position-relative"><h4><a id="tutorials-elasticsearch-next-steps"></a>Next Steps</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/tutorials-elasticsearch.asciidoc">edit</a></div>
<p>Lets recap of the steps we have covered:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
we setup and configured the Elasticsearch index for our data
</li>
<li class="listitem">
we indexed an example movie
</li>
<li class="listitem">
we checked out the starter app and added the Elasticsearch connector
</li>
<li class="listitem">
we configured the Elasticsearch connector to connect to our Elasticsearch index
</li>
<li class="listitem">
we updated the Search UI configuration to specify the fields to be searchable, facetable
</li>
<li class="listitem">
we updated the components to use these fields
</li>
</ul>
</div>
<p>Next you can add more data into the index, <a class="xref" href="api-react-components-result.html#api-react-components-result-view-customization" title="View customization">update the results view to display more fields</a>, and deploy the app.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="tutorials-app-search.html">« Search UI with App Search</a>
</span>
<span class="next">
<a href="tutorials-workplace-search.html">Search UI with Workplace Search »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
