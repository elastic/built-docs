<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Configure and install the Endpoint Security integration | Elastic Security Solution [7.16] | Elastic</title>
<meta class="elastic" name="content" content="Configure and install the Endpoint Security integration | Elastic Security Solution [7.16]">

<link rel="home" href="index.html" title="Elastic Security Solution [7.16]"/>
<link rel="up" href="getting-started.html" title="Get started with Elastic Security"/>
<link rel="prev" href="ingest-data.html" title="Ingest data to Elastic Security"/>
<link rel="next" href="configure-endpoint-integration-policy.html" title="Configure the Endpoint Security integration policy"/>
<meta class="elastic" name="product_version" content="7.16"/>
<meta class="elastic" name="product_name" content="Security"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Security/Guide/7.16"/>
<meta name="DC.subject" content="Security"/>
<meta name="DC.identifier" content="7.16"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="ingest-data.html">« Ingest data to Elastic Security</a>
</span>
<span class="next">
<a href="configure-endpoint-integration-policy.html">Configure the Endpoint Security integration policy »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Security Solution [7.16]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="getting-started.html">Get started with Elastic Security</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Configure and install the Endpoint Security integration</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.16/docs/getting-started/install-endpoint.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/solutions/security/configure-elastic-defend/install-elastic-defend">latest documentation</a>.
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="install-endpoint"></a>Configure and install the Endpoint Security integration</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.16/docs/getting-started/install-endpoint.asciidoc">edit</a></div>
</div></div></div>
<p>Like other Elastic integrations, Endpoint Security can be integrated into the Elastic Agent through <a href="/guide/en/fleet/7.16/fleet-overview.html" class="ulink" target="_top">Fleet</a>. Upon configuration, the integration allows the Elastic Agent to monitor for events on your host and send data to the Elastic Security app.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>To configure the Endpoint Security integration on the Elastic Agent, you must have permission to use Fleet in Kibana. You must also have admin permissions in Kibana to access the <span class="strong strong"><strong>Endpoints</strong></span> page in the Elastic Security app.</p>
</div>
</div>
<div class="position-relative"><h3><a id="security-before-you-begin"></a>Before you begin</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.16/docs/getting-started/install-endpoint.asciidoc">edit</a></div>
<p>If you&#8217;re using macOS, some versions may require you to grant full disk access to different kernels, system extensions, or files. See <a class="xref" href="sensor-full-disk-access.html" title="Enable Full Disk Access">Enable Full Disk Access</a> for more information.</p>
<div class="position-relative"><h3><a id="add-security-integration"></a>Add the Endpoint Security integration</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.16/docs/getting-started/install-endpoint.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>In Kibana, select <span class="strong strong"><strong>Security</strong></span> &#8594; <span class="strong strong"><strong>Endpoints</strong></span>. If this is not your first time using Elastic Security, select <span class="strong strong"><strong>Management</strong></span> &#8594; <span class="strong strong"><strong>Integrations</strong></span>, then search for and select <span class="strong strong"><strong>Endpoint Security</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/security-integration.png" alt="Search result for &quot;Endpoint Security&quot; on the Integrations page.">
</div>
</div>
</li>
<li class="listitem">
<p>Select <span class="strong strong"><strong>Add Endpoint Security</strong></span> on either the Endpoints page of the Elastic Security app or the Endpoint Security integration page (<span class="strong strong"><strong>Management</strong></span> &#8594; <span class="strong strong"><strong>Integrations</strong></span>). The integration configuration page appears.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/add-elastic-endpoint-security.png" alt="Add Endpoint Security integration page.">
</div>
</div>
</li>
<li class="listitem">
Configure the Endpoint Security integration with a name and optional description.
</li>
<li class="listitem">
Select an agent policy for the Elastic Agent. You can select the default policy, an existing custom policy, or select <span class="strong strong"><strong>Create agent policy</strong></span> to create a new one. For more details on Elastic Agent configuration settings, see <a href="/guide/en/fleet/7.16/agent-policy.html" class="ulink" target="_top">Elastic Agent policies</a>.
</li>
<li class="listitem">
When the configuration is complete, click <span class="strong strong"><strong>Save and continue</strong></span>.
</li>
<li class="listitem">
To complete the integration, continue to the next section to install the Elastic Agent on your hosts.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="enroll-security-agent"></a>Configure and enroll the Elastic Agent</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.16/docs/getting-started/install-endpoint.asciidoc">edit</a></div>
<p>To configure the Elastic Agent, Endpoint Security requires enrollment through Fleet to enable the integration.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Before you add an Elastic Agent, a Fleet Server must be running. See <a href="/guide/en/fleet/7.16/add-a-fleet-server.html" class="ulink" target="_top">Add a Fleet Server</a>.</p>
</div>
</div>
<div class="position-relative"><h4><a id="fleet-server-upgrade"></a>Important information about the new Fleet Server</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.16/docs/getting-started/install-endpoint.asciidoc">edit</a></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are running an Elastic Stack version earlier than 7.13.0, you can skip this section.</p>
</div>
</div>
<p>If you have upgraded to an Elastic Stack version that includes the new Fleet Server (&gt;=7.13.0), you will need to redeploy your agents. Review the following scenarios to ensure you take the appropriate steps.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If you redeploy the Elastic Agent to the same machine through the Fleet application after you upgrade, a new agent will appear.
</li>
<li class="listitem">
If you want to remove the Elastic Agent entirely without transitioning to the Fleet Server, then you will need to manually uninstall the agent on the machine. This will also uninstall the endpoint. See <a href="/guide/en/fleet/7.16/uninstall-elastic-agent.html" class="ulink" target="_top">Uninstall Elastic Agent</a>.
</li>
<li class="listitem">
In the rare event that the Elastic Agent fails to uninstall, you might need to manually uninstall the endpoint. See <a class="xref" href="uninstall-endpoint.html" title="Uninstall an endpoint">Uninstall an endpoint</a> at the end of this topic.
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Endpoint Security cannot be integrated with an Elastic Agent in Standalone mode.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Go to <span class="strong strong"><strong>Fleet</strong></span> &#8594; <span class="strong strong"><strong>Agents</strong></span> &#8594; <span class="strong strong"><strong>Add agent</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/add-agent.png" alt="Add agent flyout on the Fleet page.">
</div>
</div>
</li>
<li class="listitem">
In the Add agent pane, download the Elastic Agent on your host&#8217;s machine.
</li>
<li class="listitem">
<p>After the download is complete, select the <span class="strong strong"><strong>Endpoint Security</strong></span> integration.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/endpoint-configuration.png" alt="Detail of Add agent flyout with Endpoint Security integration highlighted.">
</div>
</div>
</li>
<li class="listitem">
After the Elastic Agent is installed on your host machine, open a command-line interface and navigate to the directory where the agent is located. Copy the commands from Fleet for your OS to enroll and run the agent.
</li>
<li class="listitem">
After you have enrolled the Elastic Agent on your host, select <span class="strong strong"><strong>Close</strong></span>. The host now appears on the <span class="strong strong"><strong>Endpoints</strong></span> page in the Elastic Security app.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="enable-kernel-extension"></a>Enable Elastic Endpoint kernel</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.16/docs/getting-started/install-endpoint.asciidoc">edit</a></div>
<p>If you are running the Elastic Agent with the Elastic Endpoint integrated on macOS 10.13, 10.14 and 10.15, you will be prompted to approve a kernel extension from "Endgame, Inc". To approve the extension:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Select <span class="strong strong"><strong>Open Security Preferences</strong></span>. The <span class="strong strong"><strong>Security and Privacy</strong></span> pane opens.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/system-extension.png" alt="macOS notification with Open Security Preferences button highlighted.">
</div>
</div>
</li>
<li class="listitem">
<p>Select the <span class="strong strong"><strong>Lock</strong></span> icon at the bottom left of the window to make changes to your security settings.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/unlock-security-panel.png" alt="Detail of Security and Privacy pane with Lock icon highlighted.">
</div>
</div>
</li>
<li class="listitem">
<p>Allow "Endgame, Inc" by clicking the <span class="strong strong"><strong>Allow</strong></span> button.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/allow-endgame.png" alt="Security and Privacy pane with Allow button highlighted.">
</div>
</div>
</li>
</ol>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Endgame Sensor users can approve the kernel the same way for the <span class="strong strong"><strong>Elastic Endgame</strong></span> app.</p>
</div>
</div>
<p>If the prompt does not appear because you&#8217;re using a version earlier than macOS Big Sur (11.0), enable the extension by doing the following:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open a Terminal application.
</li>
<li class="listitem">
Enter <code class="literal">kextload /Library/Extension/kendpoint.kext</code>. Prepend the command with <code class="literal">sudo</code> if necessary.
</li>
<li class="listitem">
To confirm the kernel extension has loaded, enter <code class="literal">kextstat | grep co.elastic.kendpoint</code>.
</li>
<li class="listitem">
You should receive an output similar to <code class="literal">149    0 0xffffff7f82e7b000 0x21000    0x21000    co.elastic.kendpoint (7.11.0) BD152A57-ABD3-370A-BBE8-D15A0FCBD19A &lt;6 5 2 1&gt;</code>. If you receive this output, the kernel extension is enabled.
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="configure-security-policy"></a>Configure an integration policy (optional)</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.16/docs/getting-started/install-endpoint.asciidoc">edit</a></div>
<p>After the Elastic Agent is installed with the Endpoint Security integration, several protections features — including preventions against malware, ransomware, memory threats, and malicious behavior — are automatically enabled on protected hosts (a Platinum or Enterprise license feature). If needed, you can update the integration policy to configure protection settings, event collection, antivirus settings, and trusted applications to meet your organization&#8217;s security needs.</p>
<p>See <a class="xref" href="configure-endpoint-integration-policy.html" title="Configure the Endpoint Security integration policy"><em>Configure the Endpoint Security integration policy</em></a> for more information on configuring these settings in an Endpoint Security integration policy.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ingest-data.html">« Ingest data to Elastic Security</a>
</span>
<span class="next">
<a href="configure-endpoint-integration-policy.html">Configure the Endpoint Security integration policy »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
