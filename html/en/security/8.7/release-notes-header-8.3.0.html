<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>8.3 | Elastic Security Solution [8.7] | Elastic</title>
<meta class="elastic" name="content" content="8.3 | Elastic Security Solution [8.7]">

<link rel="home" href="index.html" title="Elastic Security Solution [8.7]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-header-8.4.0.html" title="8.4"/>
<link rel="next" href="release-notes-header-8.2.0.html" title="8.2"/>
<meta class="elastic" name="product_version" content="8.7"/>
<meta class="elastic" name="product_name" content="Security"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Security/Guide/8.7"/>
<meta name="DC.subject" content="Security"/>
<meta name="DC.identifier" content="8.7"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Security Solution [8.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-header-8.4.0.html">« 8.4</a>
</span>
<span class="next">
<a href="release-notes-header-8.2.0.html">8.2 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-header-8.3.0"></a>8.3<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="release-notes-8.3.3"></a>8.3.3<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h3>
<h4><a id="known-issue-8.3.3"></a>Known issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
An Endpoint and Cloud Security bug on macOS and Linux can cause CPU spikes if malware protection is enabled on an Endpoint and Cloud Security integration policy. When this happens, Endpoint and Cloud Security may experience system coverage gaps. To avoid this, we recommend using Elastic Agent version 8.3.2 or earlier. If you are using Elastic Agent version 8.3.3 and have encountered this issue, you can temporarily resolve it by rebooting your computer and disabling <a class="xref" href="configure-endpoint-integration-policy.html#malware-protection" title="Malware protection">malware protection</a> on your Endpoint and Cloud Security integration policy (<a href="https://github.com/elastic/endpoint/issues/22" class="ulink" target="_top">#22</a>).
</li>
<li class="listitem">
A new Lucene 9 validation change may cause event correlation rule (EQL) errors whenever rule queries contain regular expressions using wildcard fields and predefined character classes (for example, <code class="literal">\w</code>, <code class="literal">\s</code>, <code class="literal">\d</code>).
</li>
</ul>
</div>
<h4><a id="bug-fixes-8.3.3"></a>Bug fixes and enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes a bug that prevented the <span class="strong strong"><strong>Create field</strong></span> button from appearing in the Fields browser when you accessed it from a Timeline created using the Alerts page&#8217;s <span class="strong strong"><strong>Open in timeline</strong></span> button (<a href="https://github.com/elastic/kibana/pull/135842" class="ulink" target="_top">#135842</a>).
</li>
<li class="listitem">
Removes the unsupported <code class="literal">matches</code> operator from the <span class="strong strong"><strong>Add Rule Exception</strong></span> flyout (<a href="https://github.com/elastic/kibana/pull/136340" class="ulink" target="_top">#136340</a>).
</li>
<li class="listitem">
Prevents rule execution log events from being wrongly ordered when the maximum number of events are reached and events are filtered by status (<a href="https://github.com/elastic/kibana/pull/131675" class="ulink" target="_top">#131675</a>).
</li>
</ul>
</div>
<h3><a id="release-notes-8.3.2"></a>8.3.2<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h3>
<h4><a id="known-issue-8.3.2"></a>Known issue<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">matches</code> operator in the <span class="strong strong"><strong>Add Rule Exception</strong></span> flyout does not work because wildcard matches are not supported for rule exceptions. Using the <code class="literal">matches</code> operator will cause rule exceptions and their associated rules to fail. You can restore failed rules by deleting unsupported exceptions and refreshing the rules (<a href="https://github.com/elastic/kibana/issues/136340" class="ulink" target="_top">#136340</a>).
</li>
<li class="listitem">
A new Lucene 9 validation change may cause event correlation (EQL) rule errors whenever rule queries contain regular expressions using wildcard fields and predefined character classes (for example, <code class="literal">\w</code>, <code class="literal">\s</code>, <code class="literal">\d</code>).
</li>
</ul>
</div>
<h4><a id="bug-fixes-8.3.2"></a>Bug fixes and enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allows indices created from value lists to be used with indicator match rules (<a href="https://github.com/elastic/kibana/pull/135128" class="ulink" target="_top">#135128</a>).
</li>
<li class="listitem">
Fixes an issue where detection rules that were created or edited in 8.2.x failed to execute after you upgraded to Elastic Stack 8.3.0 or 8.3.1 (<a href="https://github.com/elastic/kibana/pull/135663" class="ulink" target="_top">#135663</a>).
</li>
</ul>
</div>
<div class="exampleblock">
<div class="content">
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you already upgraded to 8.3.0 or 8.3.1 and noticed that rules created or updated in 8.2.x were failing with an error similar to the message below, complete the appropriate steps to restore your rules after you upgrade to 8.3.2. Refer to the <a class="xref" href="release-notes-header-8.3.0.html#known-issue-8.3.1" title="Known issue">known issue section</a> of the 8.3.1 release notes for more information.</p>
</div>
</div>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">&lt;rule-type&gt;:&lt;UUID&gt;: execution failed - security_exception: [security_exception] Reason: missing authentication credentials for REST request [/_security/user/_has_privileges], caused by: ""</pre>
</div>
</div>
</div>
<h3><a id="release-notes-8.3.1"></a>8.3.1<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h3>
<h4><a id="known-issue-8.3.1"></a>Known issue<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h4>
<p><span class="strong strong"><strong>Detection rules stop running after upgrade</strong></span></p>
<p>8.3.1 has a bug where detection rules that were created or edited in 8.2.x will stop running after you upgrade. Because of this, we advise against upgrading from 8.2.x to 8.3.1.</p>
<p>If you already upgraded from 8.2.x to 8.3.1, detection rules affected by the bug will have stopped running with an error that is similar to the following example:</p>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">&lt;rule-type&gt;:&lt;UUID&gt;: execution failed - security_exception: [security_exception] Reason: missing authentication credentials for REST request [/_security/user/_has_privileges], caused by: ""</pre>
</div>
<p>To restore the affected rules and reset their statuses, complete the following.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To restore custom and prebuilt rules, you need privileges to <a class="xref" href="detections-permissions-section.html#enable-detections-ui" title="Enable and access detections">manage rules</a>.</p>
</div>
</div>
<p><span class="strong strong"><strong>Restore affected custom and prebuilt rules</strong></span></p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the Rules page (<span class="strong strong"><strong>Detect &#8594; Rules</strong></span>).
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Rows per page</strong></span> menu under the rules table and select <span class="strong strong"><strong>100 rows</strong></span>.
</li>
<li class="listitem">
In the rules table, click the <span class="strong strong"><strong>Rule</strong></span> column to sort by rule name.
</li>
<li class="listitem">
Identify affected rules. They will have a <code class="literal">Failed</code> status in the <span class="strong strong"><strong>Last response</strong></span> column.
</li>
<li class="listitem">
Select the affected rules, then click <span class="strong strong"><strong>Bulk actions &#8594; Disable</strong></span>.
</li>
<li class="listitem">
<p>Select the same rules, then click <span class="strong strong"><strong>Bulk actions &#8594; Enable</strong></span>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>After you&#8217;ve re-enabled the affected rules, the rules' <span class="strong strong"><strong>Last Response</strong></span> values will change to <code class="literal">Pending</code> and then update to <code class="literal">Active</code> or <code class="literal">OK</code>.</p>
</div>
</div>
</li>
<li class="listitem">
Go to the next page of results in the rules table and repeat steps 1 through 6.
</li>
</ol>
</div>
<p><span class="strong strong"><strong>Restore affected custom rules only (optional)</strong></span></p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This is an alternative option for users who have only enabled custom rules and/or duplicated and enabled prebuilt rules.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the <span class="strong strong"><strong>Rules</strong></span> page (<span class="strong strong"><strong>Detect &#8594; Rules</strong></span>) and click <span class="strong strong"><strong>Elastic rules</strong></span>.
</li>
<li class="listitem">
Switch on the <span class="strong strong"><strong>Technical preview</strong></span> toggle above the table.
</li>
<li class="listitem">
In the rules table, click <span class="strong strong"><strong>Custom rules</strong></span>.
</li>
<li class="listitem">
Sort the rules table by the <span class="strong strong"><strong>Last Response</strong></span> column to show the latest rule statuses.
</li>
<li class="listitem">
Select rules with the <code class="literal">Failed</code> status, then click <span class="strong strong"><strong>Bulk actions &#8594; Tags &#8594; Add Tags</strong></span>.
</li>
<li class="listitem">
<p>Add a new tag, for example <code class="literal">rules_to_fix</code>. This will generate new API keys and resolve the bug.</p>
<p>On the next scheduled rule execution, the <span class="strong strong"><strong>Last Response</strong></span> value for the rule will change to <code class="literal">Pending</code>, and then to <code class="literal">Active</code> or <code class="literal">OK</code>.</p>
</li>
</ol>
</div>
<p><span class="strong strong"><strong>The <code class="literal">matches</code> operator is not supported for rule exceptions</strong></span></p>
<p>The <code class="literal">matches</code> operator in the <span class="strong strong"><strong>Add Rule Exception</strong></span> flyout does not work because wildcard matches are not supported for rule exceptions. Using the <code class="literal">matches</code> operator will cause rule exceptions and their associated rules to fail. You can restore failed rules by deleting the unsupported exceptions and refreshing the rules (<a href="https://github.com/elastic/kibana/issues/136340" class="ulink" target="_top">#136340</a>).</p>
<p><span class="strong strong"><strong>Lucene 9 validation change might affect event correlation rules</strong></span></p>
<p>A new Lucene 9 validation change may cause event correlation rule (EQL) errors whenever rule queries contain regular expressions using wildcard fields and predefined character classes (for example, <code class="literal">\w</code>, <code class="literal">\s</code>, <code class="literal">\d</code>).</p>
<h4><a id="bug-fixes-8.3.1"></a>Bug fixes and enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes a bug that prevented the Cases widget in the Detection &amp; Response dashboard from updating (<a href="https://github.com/elastic/kibana/pull/135128" class="ulink" target="_top">#135128</a>).
</li>
</ul>
</div>
<h3><a id="release-notes-8.3.0"></a>8.3.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h3>
<h4><a id="known-issue-8.3.0"></a>Known issue<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h4>
<p><span class="strong strong"><strong>Detection rules stop running after upgrade</strong></span></p>
<p>8.3.0 has a bug where detection rules that were created or edited in 8.2.x will stop running after you upgrade. Because of this, we advise against upgrading from 8.2.x to 8.3.0.</p>
<p>If you already upgraded from 8.2.x to 8.3.0, detection rules affected by the bug will have stopped running with an error that is similar to the following example:</p>
<div class="pre_wrapper lang-text">
<pre class="programlisting prettyprint lang-text">&lt;rule-type&gt;:&lt;UUID&gt;: execution failed - security_exception: [security_exception] Reason: missing authentication credentials for REST request [/_security/user/_has_privileges], caused by: ""</pre>
</div>
<p>To restore the affected rules and reset their statuses, complete the following.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To restore custom and prebuilt rules, you need privileges to <a class="xref" href="detections-permissions-section.html#enable-detections-ui" title="Enable and access detections">manage rules</a>.</p>
</div>
</div>
<p><span class="strong strong"><strong>Restore affected custom and prebuilt rules</strong></span></p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the Rules page (<span class="strong strong"><strong>Detect &#8594; Rules</strong></span>).
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Rows per page</strong></span> menu under the rules table and select <span class="strong strong"><strong>100 rows</strong></span>.
</li>
<li class="listitem">
In the rules table, click the <span class="strong strong"><strong>Rule</strong></span> column to sort by rule name.
</li>
<li class="listitem">
Identify affected rules. They will have a <code class="literal">Failed</code> status in the <span class="strong strong"><strong>Last response</strong></span> column.
</li>
<li class="listitem">
Select the affected rules, then click <span class="strong strong"><strong>Bulk actions &#8594; Disable</strong></span>.
</li>
<li class="listitem">
<p>Select the same rules, then click <span class="strong strong"><strong>Bulk actions &#8594; Enable</strong></span>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>After you&#8217;ve re-enabled the affected rules, the rules' <span class="strong strong"><strong>Last Response</strong></span> values will change to <code class="literal">Pending</code> and then update to <code class="literal">Active</code> or <code class="literal">OK</code>.</p>
</div>
</div>
</li>
<li class="listitem">
Go to the next page of results in the rules table and repeat steps 1 through 6.
</li>
</ol>
</div>
<p><span class="strong strong"><strong>Restore affected custom rules only (optional)</strong></span></p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This is an alternative option for users who have only enabled custom rules and/or duplicated and enabled prebuilt rules.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the <span class="strong strong"><strong>Rules</strong></span> page (<span class="strong strong"><strong>Detect &#8594; Rules</strong></span>) and click <span class="strong strong"><strong>Elastic rules</strong></span>.
</li>
<li class="listitem">
Switch on the <span class="strong strong"><strong>Technical preview</strong></span> toggle above the table.
</li>
<li class="listitem">
In the rules table, click <span class="strong strong"><strong>Custom rules</strong></span>.
</li>
<li class="listitem">
Sort the rules table by the <span class="strong strong"><strong>Last Response</strong></span> column to show the latest rule statuses.
</li>
<li class="listitem">
Select rules with the <code class="literal">Failed</code> status, then click <span class="strong strong"><strong>Bulk actions &#8594; Tags &#8594; Add Tags</strong></span>.
</li>
<li class="listitem">
Add a new tag, for example <code class="literal">rules_to_fix</code>. This will generate new API keys and resolve the bug.
</li>
</ol>
</div>
<p>On the next scheduled rule execution, the <span class="strong strong"><strong>Last Response</strong></span> value for the rule will change to <code class="literal">Pending</code>, and then to <code class="literal">Active</code> or <code class="literal">OK</code>.</p>
<p><span class="strong strong"><strong>The <code class="literal">matches</code> operator is not supported for rule exceptions</strong></span></p>
<p>The <code class="literal">matches</code> operator in the <span class="strong strong"><strong>Add Rule Exception</strong></span> flyout does not work because wildcard matches are not supported for rule exceptions. Using the <code class="literal">matches</code> operator will cause rule exceptions and their associated rules to fail. You can restore failed rules by deleting the unsupported exceptions and refreshing the rules (<a href="https://github.com/elastic/kibana/issues/136340" class="ulink" target="_top">#136340</a>).</p>
<p><span class="strong strong"><strong>Lucene 9 validation change might affect event correlation rules</strong></span></p>
<p>A new Lucene 9 validation change may cause event correlation rule (EQL) errors whenever rule queries contain regular expressions using wildcard fields and predefined character classes (for example, <code class="literal">\w</code>, <code class="literal">\s</code>, <code class="literal">\d</code>).</p>
<h4><a id="breaking-changes-8.3.0"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Updates Elastic prebuilt machine learning detection rules for some Windows and Linux anomalies with new <code class="literal">v3</code> machine learning jobs. A confirmation modal is displayed when updating rules if <code class="literal">v1</code>/<code class="literal">v2</code> jobs are installed. If you&#8217;re using 8.2 or earlier versions of Beats or Elastic Agent, you may need to duplicate prebuilt rules or create new custom rules <em>before</em> you update the prebuilt rules. Once you update the prebuilt rules, they will only use <code class="literal">v3</code> machine learning jobs. Refer to <a href="/guide/en/security/8.7/alerts-ui-monitor.html#ml-job-compatibility" class="ulink" target="_top">Troubleshoot missing alerts for machine learning jobs</a> for more information (<a href="https://github.com/elastic/kibana/pull/128334" class="ulink" target="_top">#128334</a>).
</li>
</ul>
</div>
<h4><a id="features-8.3.0"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Renames Endpoint Security integration to "Endpoint and Cloud Security" (<a href="https://github.com/elastic/kibana/pull/132752" class="ulink" target="_top">#132752</a>).
</li>
<li class="listitem">
Adds a new <a href="/guide/en/security/8.7/detection-response-dashboard.html" class="ulink" target="_top">Detection &amp; Response dashboard</a>, which provides focused visibility into the day-to-day operations of your security environment (<a href="https://github.com/elastic/kibana/pull/130670" class="ulink" target="_top">#130670</a>, <a href="https://github.com/elastic/kibana/pull/128335" class="ulink" target="_top">#128335</a>, <a href="https://github.com/elastic/kibana/pull/129021" class="ulink" target="_top">#129021</a>, <a href="https://github.com/elastic/kibana/pull/128087" class="ulink" target="_top">#128087</a>, <a href="https://github.com/elastic/kibana/pull/131828" class="ulink" target="_top">#131828</a>, <a href="https://github.com/elastic/kibana/pull/131029" class="ulink" target="_top">#131029</a>).
</li>
<li class="listitem">
Introduces a new optional design for the main navigation menu (<a href="https://github.com/elastic/kibana/pull/132210" class="ulink" target="_top">#132210</a>, <a href="https://github.com/elastic/kibana/pull/131437" class="ulink" target="_top">#131437</a>, <a href="https://github.com/elastic/kibana/pull/133719" class="ulink" target="_top">#133719</a>).
</li>
<li class="listitem">
Adds a <span class="strong strong"><strong>User risk</strong></span> tab to the User details flyout (<a href="https://github.com/elastic/kibana/pull/130256" class="ulink" target="_top">#130256</a>).
</li>
<li class="listitem">
Adds an <span class="strong strong"><strong>Authentications</strong></span> tab to the User details flyout (<a href="https://github.com/elastic/kibana/pull/129456" class="ulink" target="_top">#129456</a>).
</li>
<li class="listitem">
Adds the ability to investigate Osquery results in Timeline (<a href="https://github.com/elastic/kibana/pull/128596" class="ulink" target="_top">#128596</a>).
</li>
<li class="listitem">
Allows multiple alerts to be added to a case (<a href="https://github.com/elastic/kibana/pull/130958" class="ulink" target="_top">#130958</a>).
</li>
<li class="listitem">
Adds the option to delete case comments from a case (<a href="https://github.com/elastic/kibana/pull/130254" class="ulink" target="_top">#130254</a>).
</li>
<li class="listitem">
Provides an option to select a severity level for a case (<a href="https://github.com/elastic/kibana/pull/131626" class="ulink" target="_top">#131626</a>).
</li>
<li class="listitem">
Adds the experimental <span class="strong strong"><strong>Alerts</strong></span> tab to cases, which allows users to inspect attached alerts (<a href="https://github.com/elastic/kibana/pull/131883" class="ulink" target="_top">#131883</a>).
</li>
<li class="listitem">
Adds the <span class="strong strong"><strong>Average time to close</strong></span> metric to the Cases page (<a href="https://github.com/elastic/kibana/pull/131909" class="ulink" target="_top">#131909</a>).
</li>
<li class="listitem">
Adds new fields to prebuilt detection rules' schemas: <code class="literal">related_integrations</code>, <code class="literal">required_fields</code>, and <code class="literal">setup</code> (<a href="https://github.com/elastic/kibana/pull/132409" class="ulink" target="_top">#132409</a>).
</li>
<li class="listitem">
Adds the <span class="strong strong"><strong>Related integrations</strong></span>, <span class="strong strong"><strong>Required fields</strong></span>, and <span class="strong strong"><strong>Setup guide</strong></span> sections to the rule details page to help users identify and meet a rule&#8217;s prerequisites. Also adds the related integrations badge to the Rules table (<a href="https://github.com/elastic/kibana/pull/131475" class="ulink" target="_top">#131475</a>). Content for these new sections is delivered in a prebuilt rules update, independent of Elastic Stack release versioning.
</li>
</ul>
</div>
<h4><a id="bug-fixes-8.3.0"></a>Bug fixes and enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.7/docs/release-notes/8.3.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Separates array values with commas in the Alerts table (<a href="https://github.com/elastic/kibana/pull/133297" class="ulink" target="_top">#133297</a>).
</li>
<li class="listitem">
Exposes the EQL search settings <code class="literal">event_category_field</code>, <code class="literal">tiebreaker_field</code>, and <code class="literal">timestamp_field</code> through the rules API and UI for event correlation rules (<a href="https://github.com/elastic/kibana/pull/132247" class="ulink" target="_top">#132247</a>).
</li>
<li class="listitem">
Adds the <span class="strong strong"><strong>Session ID</strong></span> field to the <span class="strong strong"><strong>Highlighted fields</strong></span> section of the Alert details flyout (<a href="https://github.com/elastic/kibana/pull/132219" class="ulink" target="_top">#132219</a>).
</li>
<li class="listitem">
Adds Dashboards and Threat Hunting Landing pages (<a href="https://github.com/elastic/kibana/pull/130905" class="ulink" target="_top">#130905</a>).
</li>
<li class="listitem">
Allows highlighted fields to be investigated in Timeline (<a href="https://github.com/elastic/kibana/pull/131255" class="ulink" target="_top">#131255</a>).
</li>
<li class="listitem">
Adds the <span class="strong strong"><strong>Run Osquery</strong></span> option to the <span class="strong strong"><strong>More actions</strong></span> menu (<span class="strong strong"><strong>&#8230;&#8203;</strong></span>) in the Alerts table (<a href="https://github.com/elastic/kibana/pull/131790" class="ulink" target="_top">#131790</a>).
</li>
<li class="listitem">
<p>Improves the performance of these actions on the bulk rule actions endpoint (<a href="https://github.com/elastic/kibana/pull/130924" class="ulink" target="_top">#130924</a>).</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">add_tags</code>
</li>
<li class="listitem">
<code class="literal">delete_tags</code>
</li>
<li class="listitem">
<code class="literal">set_tags</code>
</li>
<li class="listitem">
<code class="literal">add_index_patterns</code>
</li>
<li class="listitem">
<code class="literal">delete_index_patterns</code>
</li>
<li class="listitem">
<code class="literal">set_index_patterns</code>
</li>
<li class="listitem">
<code class="literal">set_timeline</code>
</li>
</ul>
</div>
</li>
<li class="listitem">
Fixes a bug that caused the rule details page to crash when users opened a deleted or non-existent rule (<a href="https://github.com/elastic/kibana/pull/133867" class="ulink" target="_top">#133867</a>).
</li>
<li class="listitem">
Allows threshold alerts to be investigated in Timeline if filters are not provided (<a href="https://github.com/elastic/kibana/pull/133733" class="ulink" target="_top">#133733</a>).
</li>
<li class="listitem">
Prevents events from being added to cases from Timeline (<a href="https://github.com/elastic/kibana/pull/133410" class="ulink" target="_top">#133410</a>).
</li>
<li class="listitem">
Fixes a bug that prevented the Users and Hosts pages from resetting after being sorted (<a href="https://github.com/elastic/kibana/pull/133111" class="ulink" target="_top">#133111</a>).
</li>
<li class="listitem">
Removes the filter and investigate in Timeline options from the Elastic Agent status in highlighted fields (<a href="https://github.com/elastic/kibana/pull/132829" class="ulink" target="_top">#132829</a>, <a href="https://github.com/elastic/kibana/pull/132586" class="ulink" target="_top">#132586</a>).
</li>
<li class="listitem">
Improves the copy of Timeline tooltips (<a href="https://github.com/elastic/kibana/pull/132756" class="ulink" target="_top">#132756</a>).
</li>
<li class="listitem">
Fixes a validation bug that occurred when users were building a rule exception and changed the exception statement’s operator (<a href="https://github.com/elastic/kibana/pull/131989" class="ulink" target="_top">#131989</a>).
</li>
<li class="listitem">
Adds a checkmark to the pagination selection on the <span class="strong strong"><strong>Exceptions lists</strong></span> page (<a href="https://github.com/elastic/kibana/pull/131979" class="ulink" target="_top">#131979</a>).
</li>
<li class="listitem">
Re-adds the success message that displays when users export an exceptions list (<a href="https://github.com/elastic/kibana/pull/131952" class="ulink" target="_top">#131952</a>).
</li>
<li class="listitem">
Updates import toast logic to accurately report the total number of failures (<a href="https://github.com/elastic/kibana/pull/131873" class="ulink" target="_top">#131873</a>).
</li>
<li class="listitem">
Ensures an error is not generated when the <code class="literal">agent.version</code> provided by an alert is in an unexpected format (<a href="https://github.com/elastic/kibana/pull/131272" class="ulink" target="_top">#131272</a>).
</li>
<li class="listitem">
Improves error checks for threshold rules (<a href="https://github.com/elastic/kibana/pull/131088" class="ulink" target="_top">#131088</a>).
</li>
<li class="listitem">
Expands support for migrating legacy rule actions (<a href="https://github.com/elastic/kibana/pull/130511" class="ulink" target="_top">#130511</a>).
</li>
<li class="listitem">
Fixes a bug that caused the <span class="strong strong"><strong>Add Rule Exception</strong></span> flyout to unexpectedly close when users create the first exception for the rule from an alert (<a href="https://github.com/elastic/kibana/pull/130187" class="ulink" target="_top">#130187</a>).
</li>
<li class="listitem">
Corrects Rule name sorting so detection rules are ordered alphabetically, regardless of their casing (<a href="https://github.com/elastic/kibana/pull/130105" class="ulink" target="_top">#130105</a>).
</li>
<li class="listitem">
Improves the <span class="strong strong"><strong>Reporter</strong></span> column in the Cases table (<a href="https://github.com/elastic/kibana/pull/132200" class="ulink" target="_top">#132200</a>).
</li>
<li class="listitem">
Adds the option to create a new case to the Select case pane (<a href="https://github.com/elastic/kibana/pull/128882" class="ulink" target="_top">#128882</a>).
</li>
<li class="listitem">
Allows <a href="/guide/en/kibana/8.7/pre-configured-connectors.html" class="ulink" target="_top">preconfigured connectors</a> to be used with cases (<a href="https://github.com/elastic/kibana/pull/130372" class="ulink" target="_top">#130372</a>).
</li>
<li class="listitem">
Inserts the deprecated icon next to deprecated preconfigured connectors (<a href="https://github.com/elastic/kibana/pull/132237" class="ulink" target="_top">#132237</a>).
</li>
<li class="listitem">
Updates the Case table so that all tags assigned to the case are displayed when users go to the case and hover over the <span class="strong strong"><strong>Tags</strong></span> column (<a href="https://github.com/elastic/kibana/pull/132023" class="ulink" target="_top">#132023</a>).
</li>
<li class="listitem">
Adds Oauth support to the ServiceNow ITSM, SecOps, and ITOM connectors (<a href="https://github.com/elastic/kibana/pull/131248" class="ulink" target="_top">#131248</a>).
</li>
<li class="listitem">
Adds a setting to specify a list of allowed email domains, which can be used with the email connector (<a href="https://github.com/elastic/kibana/pull/129001" class="ulink" target="_top">#129001</a>).
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-header-8.4.0.html">« 8.4</a>
</span>
<span class="next">
<a href="release-notes-header-8.2.0.html">8.2 »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
