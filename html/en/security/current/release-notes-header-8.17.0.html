<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>8.17 | Elastic Security Solution [8.17] | Elastic</title>
<meta class="elastic" name="content" content="8.17 | Elastic Security Solution [8.17]">

<link rel="home" href="index.html" title="Elastic Security Solution [8.17]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes.html" title="Release notes"/>
<link rel="next" href="release-notes-header-8.16.0.html" title="8.16"/>
<meta class="elastic" name="product_version" content="8.17"/>
<meta class="elastic" name="product_name" content="Security"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Security/Guide/8.17"/>
<meta name="DC.subject" content="Security"/>
<meta name="DC.identifier" content="8.17"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-header-8.16.0.html">8.16 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Security Solution [8.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>8.17</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-notes-header-8.17.0"></a>8.17</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
</div></div></div>
<div class="position-relative"><h3><a id="release-notes-8.17.4"></a>8.17.4</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="known-issue-8.17.4"></a>Known issues</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<details>
<summary class="title">Duplicate alerts can be produced from manually running threshold rules</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running threshold rules could produce duplicate alerts if the date range was already covered by a scheduled rule execution.</p>
</div>
</details>
<details>
<summary class="title">Manually running custom query rules with suppression could suppress more alerts than expected</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running a custom query rule with suppression could incorrectly inflate the number of suppressed alerts.</p>
</div>
</details>
<details>
<summary class="title">Installing an Elastic Defend integration or a new agent policy upgrades installed prebuilt rules, overwriting user-added actions and exceptions</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
When you install an Elastic Defend integration or a new agent policy for this integration, all the installed prebuilt detection rules are upgraded to their latest versions (if any new versions are available). The upgraded rules lose any user-added rule actions and exceptions.</p>
<p><span class="strong strong"><strong>Workaround</strong></span><br>
To resolve this issue, before you add an Elastic Defend integration to a policy in Fleet, apply any pending prebuilt rule updates. This will prevent rule actions and exceptions from being overwritten.</p>
</div>
</details>
<div class="position-relative"><h4><a id="bug-fixes-8.17.4"></a>Bug fixes</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes the Bedrock region URL (<a href="https://github.com/elastic/kibana/pull/214251" class="ulink" target="_top">#214251</a>).
</li>
<li class="listitem">
Replaces logic that made the <span class="strong strong"><strong>Rule preview</strong></span> button inaccessible if rule&#8217;s definition field had errors. Now, if you enter an invalid rule definition field, a validation warning in the rule preview panel notifies you that you have fields to fix (<a href="https://github.com/elastic/kibana/pull/213801" class="ulink" target="_top">#213801</a>).
</li>
<li class="listitem">
Fixes a rare upgrade failure when Elastic Defend has Tamper Protection enabled.
</li>
<li class="listitem">
Fixes a bug in the scan response action that can crash Elastic Defend.
</li>
<li class="listitem">
Fixes a potential Elastic Defend crash when generating multiple ransomware alerts on Windows. This issue was simultaneously mitigated by a cloud artifact update (manifest version 1.0.1381) on February 24, 2025. Internet-connected instances of Elastic Defend will automatically receive this update&#8201;&#8212;&#8201;no user intervention required. Air-gapped customers hosting their own artifacts should follow <a class="xref" href="offline-endpoint.html" title="Configure offline endpoints and air-gapped environments">these instructions</a>. We would like to acknowledge <a href="https://www.todyl.com" class="ulink" target="_top">Todyl</a> for their assistance with this issue.
</li>
<li class="listitem">
Fixes a bug in Elastic Defend for Linux where tty capture limit defaults were ignored.
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="release-notes-8.17.3"></a>8.17.3</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="known-issue-8.17.3"></a>Known issues</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<details>
<summary class="title">Duplicate alerts can be produced from manually running threshold rules</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running threshold rules could produce duplicate alerts if the date range was already covered by a scheduled rule execution.</p>
</div>
</details>
<details>
<summary class="title">Manually running custom query rules with suppression could suppress more alerts than expected</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running a custom query rule with suppression could incorrectly inflate the number of suppressed alerts.</p>
</div>
</details>
<div class="position-relative"><h4><a id="bug-fixes-8.17.3"></a>Bug fixes</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes an issue with the Event Rendered View in the Alerts table where the table would sometimes have a height of zero and become unusable (<a href="https://github.com/elastic/kibana/pull/212130" class="ulink" target="_top">#212130</a>).
</li>
<li class="listitem">
Removes the option to sort IP ranges in the value list modal (<a href="https://github.com/elastic/kibana/pull/210922" class="ulink" target="_top">#210922</a>).
</li>
<li class="listitem">
Fixes package name validation on the Automatic Import data stream page (<a href="https://github.com/elastic/kibana/pull/210916" class="ulink" target="_top">#210916</a>, <a href="https://github.com/elastic/kibana/pull/210770" class="ulink" target="_top">#210770</a>).
</li>
<li class="listitem">
Improves the way Automatic Import handles empty categorization results from LLMs (<a href="https://github.com/elastic/kibana/pull/210420" class="ulink" target="_top">#210420</a>).
</li>
<li class="listitem">
Adds concurrency limits and request throttling to prebuilt rule routes (<a href="https://github.com/elastic/kibana/pull/209551" class="ulink" target="_top">#209551</a>).
</li>
<li class="listitem">
The <code class="literal">allocate_shellcode</code> Elastic Defend API event behavior was updated to explicitly only apply to unbacked memory.
</li>
<li class="listitem">
Fixes a bug in Elastic Defend where environment variables were not collected on macOS according to the <code class="literal">advanced.capture_env_vars</code> field
</li>
<li class="listitem">
Fixes a bug where aarch64 Elastic Defend wouldn&#8217;t gracefully detect being executed in emulation on amd64 hardware.
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="release-notes-8.17.2"></a>8.17.2</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="known-issue-8.17.2"></a>Known issues</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<details>
<summary class="title">Duplicate alerts can be produced from manually running threshold rules</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running threshold rules could produce duplicate alerts if the date range was already covered by a scheduled rule execution.</p>
</div>
</details>
<details>
<summary class="title">Manually running custom query rules with suppression could suppress more alerts than expected</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running a custom query rule with suppression could incorrectly inflate the number of suppressed alerts.</p>
</div>
</details>
<div class="position-relative"><h4><a id="features-8.17.2"></a>New features</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adds the <code class="literal">advanced.malware.max_file_size_bytes</code> <a class="xref" href="configure-endpoint-integration-policy.html#adv-policy-settings" title="Advanced policy settings (optional)">advanced policy setting</a>, which allows you to control the maximum file size for malware protection.
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="enhancements-8.17.2"></a>Enhancements</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enhances the performance of Elastic Defend network events monitoring for better CPU utilization and responsiveness.
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="bug-fixes-8.17.2"></a>Bug fixes</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes the issue that caused Kibana to crash with an <code class="literal">Out Of Memory</code> error when the prebuilt rule package was installed.
</li>
<li class="listitem">
Ensures that multiple IPs are displayed as individual links in the Alerts table, even if they&#8217;re passed as a single string (<a href="https://github.com/elastic/kibana/pull/209475" class="ulink" target="_top">#209475</a>).
</li>
<li class="listitem">
Fixes an AI Assistant bug that prevented you from selecting different connector types after initially choosing one (<a href="https://github.com/elastic/kibana/pull/208969" class="ulink" target="_top">#208969</a>).
</li>
<li class="listitem">
Adds missing fields to Automatic Import&#8217;s input manifest templates (<a href="https://github.com/elastic/kibana/pull/208768" class="ulink" target="_top">#208768</a>).
</li>
<li class="listitem">
Ensures that Automatic Import&#8217;s structured log template surrounds single backslashes with single quotes when the backslash is used as an escape character (<a href="https://github.com/elastic/kibana/pull/209736" class="ulink" target="_top">#209736</a>).
</li>
<li class="listitem">
Adds fields that are missing from Automatic Import&#8217;s <code class="literal">aws-s3-manifest.yml</code> file (<a href="https://github.com/elastic/kibana/pull/208080" class="ulink" target="_top">#208080</a>).
</li>
<li class="listitem">
Allows Elastic Defend to detect or prevent malware process or image loads from WebDAV servers.
</li>
<li class="listitem">
Allows Elastic Defend to bypass network traffic from other computers when promiscuous mode is enabled on Windows.
</li>
<li class="listitem">
Fixes a bug with the <code class="literal">get-file</code> Endpoint response action. When you used the <code class="literal">get-file</code> response action to retrieve a Windows Alternate Data Stream, the resulting <code class="literal">.zip</code> archive  would contain a checksum error that made it unusable by most zip tools.
</li>
<li class="listitem">
Increases the maximum number of ETW buffers that Elastic Defend can use.
</li>
<li class="listitem">
Fixes a bug where Elastic Defend was omitting MD5 and SHA-1 hashes in events and alerts unless a user had explicitly enabled them using the advanced policy. This 8.17.0 change was not supposed to go live until 8.18.0.
</li>
<li class="listitem">
Fixes an issue where Elastic Defend wasn&#8217;t correctly populating <code class="literal">event.created</code> for process events on Windows.
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="release-notes-8.17.1"></a>8.17.1</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="known-issue-8.17.1"></a>Known issues</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<details>
<summary class="title">Elastic Security crashes on Kibana instances with 1 GB of RAM on Elastic Cloud deployments</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Whenever you open a page in Elastic Security, there&#8217;s an attempt to install the Fleet package with prebuilt rules. If the package hasn&#8217;t been installed yet, Kibana starts downloading the latest version of it, then crashes with an <code class="literal">Out Of Memory</code> error. The process will then automatically restart and crash for the same reasons.</p>
<p>This issue was discovered on February 6, 2025.</p>
<p><span class="strong strong"><strong>Workaround</strong></span><br>
To resolve this issue, upgrade to 8.17.2. Alternatively, increase Kibana&#8217;s RAM to 2 GB.</p>
</div>
</details>
<details>
<summary class="title">Duplicate alerts can be produced from manually running threshold rules</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running threshold rules could produce duplicate alerts if the date range was already covered by a scheduled rule execution.</p>
</div>
</details>
<details>
<summary class="title">Manually running custom query rules with suppression could suppress more alerts than expected</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running a custom query rule with suppression could incorrectly inflate the number of suppressed alerts.</p>
</div>
</details>
<div class="position-relative"><h4><a id="bug-fixes-8.17.1"></a>Bug fixes</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes Integration and Datastream name validation (<a href="https://github.com/elastic/kibana/pull/204943" class="ulink" target="_top">#204943</a>).
</li>
<li class="listitem">
Improves how the rule query field handles whitespace for long pre-formatted texts. This fix only applies to Firefox, not Chrome or Safari (<a href="https://github.com/elastic/kibana/pull/203993" class="ulink" target="_top">#203993</a>).
</li>
<li class="listitem">
Adds role-based access control to the Automatic Import APIs (<a href="https://github.com/elastic/kibana/pull/203882" class="ulink" target="_top">#203882</a>).
</li>
<li class="listitem">
Changes the validation for API responses from SentinelOne and Crowdstrike. This fix allows for non-JSON responses, such as stream, to be returned (<a href="https://github.com/elastic/kibana/pull/203820" class="ulink" target="_top">#203820</a>).
</li>
<li class="listitem">
Fixes a bug that caused a warning to display when you modified the index patterns of a rule that had a filter using <code class="literal">AND</code> or <code class="literal">OR</code> conditions (<a href="https://github.com/elastic/kibana/pull/201776" class="ulink" target="_top">#201776</a>).
</li>
<li class="listitem">
Fixes a bug that caused the diff view to incorrectly mark certain characters as changed in specific cases (<a href="https://github.com/elastic/kibana/pull/205138" class="ulink" target="_top">#205138</a>).
</li>
<li class="listitem">
Lists all policies to ensure that integrations are properly displayed (<a href="https://github.com/elastic/kibana/pull/205103" class="ulink" target="_top">#205103</a>).
</li>
<li class="listitem">
Fixes a bug that prevented the <span class="strong strong"><strong>Exceptions</strong></span> tab from properly loading if exceptions contained comments with newline characters (<code class="literal">\n</code>) (<a href="https://github.com/elastic/kibana/pull/202063" class="ulink" target="_top">#202063</a>).
</li>
<li class="listitem">
<p>Fixes incompatibility issues with Elastic Defend. In 8.16.2 and 8.17.0, a portion of the Windows kernel driver was refactored to work around an incompatibility with CrowdStrike Falcon which could result in a <code class="literal">CRITICAL_PROCESS_DIED</code> bugcheck. It was discovered that this incompatibility could also be triggered by Memory Protection, so a portion of the kernel driver was refactored to avoid this conflict.</p>
<p>Affected users who are unable to upgrade should set one or both of the following in their Elastic Defend advanced policy, depending on their version:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">windows.advanced.events.process.creation_flags: false</code> (8.13.0 - 8.16.1)
</li>
<li class="listitem">
<code class="literal">windows.advanced.memory_protection.shellcode_trampoline_detection: false</code> (8.12.0 - 8.16.2)
</li>
</ul>
</div>
</li>
<li class="listitem">
Fixes an Elastic Defend bug that could cause the Windows API event call stack enrichment to fail for processes that started before Elastic Defend and if another security product was present and hooking system DLLs.
</li>
<li class="listitem">
Fixes an Elastic Defend bug that caused Windows API events involving <code class="literal">mswsock.dll</code> to be mislabeled with the <code class="literal">proxy_call</code> behavior.
</li>
<li class="listitem">
Fixes an Elastic Defend bug that caused the <span class="strong strong"><strong>Open Elastic Security</strong></span> button in the Windows Security Center to be non-functional. Now, you&#8217;re informed that Elastic Defend is managed by your system administrator.
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="release-notes-8.17.0"></a>8.17.0</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="known-issue-8.17.0"></a>Known issues</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<details>
<summary class="title">Elastic Security crashes on Kibana instances with 1 GB of RAM on Elastic Cloud deployments</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Whenever you open a page in Elastic Security, there&#8217;s an attempt to install the Fleet package with prebuilt rules. If the package hasn&#8217;t been installed yet, Kibana starts downloading the latest version of it, then crashes with an <code class="literal">Out Of Memory</code> error. The process will then automatically restart and crash for the same reasons.</p>
<p>This issue was discovered on February 6, 2025.</p>
<p><span class="strong strong"><strong>Workaround</strong></span><br>
To resolve this issue, upgrade to 8.17.2. Alternatively, increase Kibana&#8217;s RAM to 2 GB.</p>
</div>
</details>
<details>
<summary class="title">Defend for Containers (D4C) is broken in 8.17.0</summary>
<div class="content">
<p>Defend for Containers is broken in 8.17.0. If you use it, consider updating to 8.17.1 instead.</p>
</div>
</details>
<details>
<summary class="title">The <span class="strong strong"><strong>Exceptions</strong></span> tab won&#8217;t properly load if exceptions contain comments with newline characters (<code class="literal">\n</code>)</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On December 5, 2024, it was discovered that the <span class="strong strong"><strong>Exceptions</strong></span> tab won&#8217;t load properly if any exceptions contain comments with newline characters (<code class="literal">\n</code>). This issue occurs when you upgrade to 8.16.0 or later (<a href="https://github.com/elastic/kibana/issues/201820" class="ulink" target="_top">#201820</a>).</p>
<p><span class="strong strong"><strong>Workaround</strong></span><br></p>
<p>Upgrade to 8.17.1, or follow the workarounds below.</p>
<p>For custom rules:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the <span class="strong strong"><strong>Rules</strong></span> page, <a class="xref" href="rules-ui-management.html#import-export-rules-ui" title="Export and import rules">export</a> the rule or rules with the affected exception lists.
</li>
<li class="listitem">
Modify the <code class="literal">.ndjson</code> file so <code class="literal">comments</code> no longer contain newline characters.
</li>
<li class="listitem">
Return to the <span class="strong strong"><strong>Rules</strong></span> page and <a class="xref" href="rules-ui-management.html#import-export-rules-ui" title="Export and import rules">re-import</a> the rules. Ensure you select the <span class="strong strong"><strong>Overwrite existing exception lists with conflicting "list_id"</strong></span> option.
</li>
</ol>
</div>
<p>For prebuilt rules:</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you only need to fix exceptions for the Elastic Endpoint rule, you can export and re-import its exception list from the <a class="xref" href="shared-exception-lists.html" title="Create and manage shared exception lists"><span class="strong strong"><strong>Shared Exception Lists</strong></span></a> page.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Follow these steps to fetch the affected exception list ID or IDs that are associated with the rule:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Find the affected rule&#8217;s ID (<code class="literal">id</code>). From the <span class="strong strong"><strong>Rules</strong></span> page, open the details of a rule, go to the page URL, and copy the string at the end. For example, in the URL <a href="http://host.name/app/security/rules/id/167a5f6f-2148-4792-8226-b5e7a58ef46e" class="ulink" target="_top">http://host.name/app/security/rules/id/167a5f6f-2148-4792-8226-b5e7a58ef46e</a>, the string at the end (<code class="literal">167a5f6f-2148-4792-8226-b5e7a58ef46e</code>) is the <code class="literal">id</code>.
</li>
<li class="listitem">
<p>Specify the <code class="literal">id</code> when fetching the rule&#8217;s details using the <a href="/docs/api/doc/kibana/v8/operation/operation-readrule" class="ulink" target="_top">Retrieve a detection rule API</a>. Here is an example request that includes the <code class="literal">id</code>:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">curl -H 'Authorization: ApiKey API_KEY_HERE' -H 'kbn-xsrf: true' -H 'elastic-api-version: 2023-10-31' KIBANA_URL/api/detection_engine/rules?id=167a5f6f-2148-4792-8226-b5e7a58ef46e</pre>
</div>
<div class="console_widget" data-snippet="snippets/123.console"></div>
</li>
<li class="listitem">
<p>The JSON response contains the <code class="literal">id</code>, <code class="literal">list_id</code>, and <code class="literal">namespace_type</code> values within the <code class="literal">exceptions_list</code> key (as shown below). You need these values when using the Exception list API to retrieve the affected exception list.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">{
  "id": "167a5f6f-2148-4792-8226-b5e7a58ef46e",
  "exceptions_list": [
    {
      "id": "490525a2-eb66-4320-95b5-88bdd1302dc4",
      "list_id": "f75aae6f-0229-413f-881d-81cb3abfbe2d",
      "namespace_type": "single"
    }
  ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/124.console"></div>
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Use the export exceptions API to retrieve the affected exception list. Insert the values for the <code class="literal">id</code>, <code class="literal">list_id</code>, and <code class="literal">namespace_type</code> parameters into the following API call:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">curl -XPOST -H 'Authorization: ApiKey API_KEY_HERE' -H 'kbn-xsrf: true' -H 'elastic-api-version: 2023-10-31' 'KIBANA_URL/api/exception_lists/_export?list_id=f75aae6f-0229-413f-881d-81cb3abfbe2d&amp;id=490525a2-eb66-4320-95b5-88bdd1302dc4&amp;namespace_type=single' -o list.ndjson</pre>
</div>
<div class="console_widget" data-snippet="snippets/125.console"></div>
</li>
<li class="listitem">
Modify the exception list&#8217;s <code class="literal">.ndjson</code> file to ensure <code class="literal">comments[].comment</code> values don&#8217;t contain newline characters (<code class="literal">\n</code>).
</li>
<li class="listitem">
Re-import the modified exception list using <span class="strong strong"><strong>Import exception lists</strong></span> option on the <a class="xref" href="shared-exception-lists.html" title="Create and manage shared exception lists"><span class="strong strong"><strong>Shared Exception Lists</strong></span></a> page. The import will initially fail because the exception list already exists, and an option to overwrite the existing list will appear. Select the option, then resubmit the request to import the corrected exception list.
</li>
</ol>
</div>
</div>
</details>
<details>
<summary class="title">Duplicate alerts can be produced from manually running threshold rules</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running threshold rules could produce duplicate alerts if the date range was already covered by a scheduled rule execution.</p>
</div>
</details>
<details>
<summary class="title">Manually running custom query rules with suppression could suppress more alerts than expected</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running a custom query rule with suppression could incorrectly inflate the number of suppressed alerts.</p>
</div>
</details>
<div class="position-relative"><h4><a id="features-8.17.0"></a>New features</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adds a signature option for trusted applications on macOS (<a href="https://github.com/elastic/kibana/pull/197821" class="ulink" target="_top">#197821</a>).
</li>
<li class="listitem">
Adds GA support for the case action feature, which lets rules automatically create cases (<a href="https://github.com/elastic/kibana/pull/196973" class="ulink" target="_top">#196973</a>).
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="enhancements-8.17.0"></a>Enhancements</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Checks user permissions before initializing the entity engine (<a href="https://github.com/elastic/kibana/pull/198661" class="ulink" target="_top">#198661</a>).
</li>
<li class="listitem">
Updates LangChain dependencies, adding support for the new Bedrock cross-region inference profiles (<a href="https://github.com/elastic/kibana/pull/198622" class="ulink" target="_top">#198622</a>).
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="bug-fixes-8.17.0"></a>Bug fixes</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clears the error on the second entity engine initialization (<a href="https://github.com/elastic/kibana/pull/202903" class="ulink" target="_top">#202903</a>).
</li>
<li class="listitem">
Modifies the empty state message that appears when installing prebuilt rules (<a href="https://github.com/elastic/kibana/pull/202226" class="ulink" target="_top">#202226</a>).
</li>
<li class="listitem">
Rejects CEF logs from Automatic Import and instead redirects you to the CEF integration (<a href="https://github.com/elastic/kibana/pull/201792" class="ulink" target="_top">#201792</a>, <a href="https://github.com/elastic/kibana/pull/202994" class="ulink" target="_top">#202994</a>).
</li>
<li class="listitem">
Fixes a bug in Automatic Import where icons did not display after the integration was installed (<a href="https://github.com/elastic/kibana/pull/201139" class="ulink" target="_top">#201139</a>).
</li>
<li class="listitem">
Removes an erroneous duplicate Preserve Original Event flag as one was additionally added from the common settings file (<a href="https://github.com/elastic/kibana/pull/201622" class="ulink" target="_top">#201622</a>).
</li>
<li class="listitem">
Turns off the <span class="strong strong"><strong>Install All</strong></span> button on the <span class="strong strong"><strong>Add Elastic Rules</strong></span> page while rules are being installed (<a href="https://github.com/elastic/kibana/pull/201731" class="ulink" target="_top">#201731</a>).
</li>
<li class="listitem">
Turns off the <span class="strong strong"><strong>Add note</strong></span> button in the alert details flyout if you don&#8217;t have the appropriate permission (<a href="https://github.com/elastic/kibana/pull/201707" class="ulink" target="_top">#201707</a>).
</li>
<li class="listitem">
Removes fields with an <code class="literal">@</code> from the script processor (<a href="https://github.com/elastic/kibana/pull/201548" class="ulink" target="_top">#201548</a>).
</li>
<li class="listitem">
Fixes an issue that could interfere with Knowledge Base setup (<a href="https://github.com/elastic/kibana/pull/201175" class="ulink" target="_top">#201175</a>).
</li>
<li class="listitem">
Fixes an issue with Gemini streaming in the AI Assistant (<a href="https://github.com/elastic/kibana/pull/201299" class="ulink" target="_top">#201299</a>).
</li>
<li class="listitem">
Updates LangChain dependencies, adding support for the new Bedrock cross-region inference endpoints (<a href="https://github.com/elastic/kibana/pull/198622" class="ulink" target="_top">#198622</a>).
</li>
<li class="listitem">
Fixes a bug with threshold rules that prevented cardinality details from appearing (<a href="https://github.com/elastic/kibana/pull/201162" class="ulink" target="_top">#201162</a>).
</li>
<li class="listitem">
Fixes a bug that caused an entity engine to get stuck in the <code class="literal">Installing</code> status if the default Security data view didn&#8217;t exist. With this fix, engines now correctly report the <code class="literal">Error</code> state (<a href="https://github.com/elastic/kibana/pull/201140" class="ulink" target="_top">#201140</a>).
</li>
<li class="listitem">
Fixes an issue that prevented you from successfully importing TSV files with asset criticality data if you&#8217;re on Windows (<a href="https://github.com/elastic/kibana/pull/199791" class="ulink" target="_top">#199791</a>).
</li>
<li class="listitem">
Fixes asset criticality index issue when setting up entity engines concurrently (<a href="https://github.com/elastic/kibana/pull/199486" class="ulink" target="_top">#199486</a>).
</li>
<li class="listitem">
Fixes a bug where the <code class="literal">@timestamp</code> field wouldn&#8217;t update upon asset criticality soft delete (<a href="https://github.com/elastic/kibana/pull/196722" class="ulink" target="_top">#196722</a>).
</li>
<li class="listitem">
Fixes a bug that prevented the save notification from displaying on duplicated Timelines with changes (<a href="https://github.com/elastic/kibana/pull/198652" class="ulink" target="_top">#198652</a>).
</li>
<li class="listitem">
Improves the flow for the Insights section in the alert details flyout (<a href="https://github.com/elastic/kibana/pull/197349" class="ulink" target="_top">#197349</a>).
</li>
<li class="listitem">
Fixes an issue where users without the Fleet <code class="literal">read</code> permission were blocked from interacting with any onboarding card (<a href="https://github.com/elastic/kibana/pull/202413" class="ulink" target="_top">#202413</a>).
</li>
<li class="listitem">
Improves Elastic Defend for Linux endpoints by enabling process information enrichment for file and network events when process events are disabled.
</li>
<li class="listitem">
Improves Elastic Defend by refactoring the kernel driver to work around a <code class="literal">CRITICAL_PROCESS_DIED</code> bug check (BSOD) that can occur due to a conflict with CrowdStrike Falcon.
</li>
<li class="listitem">
Fixes an issue in Elastic Defend versions 8.15.2 and 8.15.3 which can result in Windows boot failure <code class="literal">0xC000007B</code> referencing <code class="literal">ElasticElam.sys</code> or recovery mode prompt at boot. We have only received reports of this happening when Elastic Defend is installed alongside CrowdStrike Falcon.
</li>
<li class="listitem">
Fixes an Elastic Defend bug where the Linux system call (<code class="literal">setsid</code>) wasn&#8217;t properly gathered for RHEL 9/CentOS Stream 9 process events.
</li>
<li class="listitem">
Fixes an issue where Elastic Defend can enter an infinite loop if an external application opens and retains handles to files within Elastic Defends directory while it is processing a <code class="literal">get-file</code> response action. This can result in Elastic Defend flooding Elasticsearch with documents until the handles are closed.
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-header-8.16.0.html">8.16 »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
