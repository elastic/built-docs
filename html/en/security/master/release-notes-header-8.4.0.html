<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>8.4 | Elastic Security Solution [master] | Elastic</title>
<meta class="elastic" name="content" content="8.4 | Elastic Security Solution [master]">

<link rel="home" href="index.html" title="Elastic Security Solution [master]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-header-8.5.0.html" title="8.5"/>
<link rel="next" href="release-notes-header-8.3.0.html" title="8.3"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Security"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Security/Guide/master"/>
<meta name="DC.subject" content="Security"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-header-8.5.0.html">« 8.5</a>
</span>
<span class="next">
<a href="release-notes-header-8.3.0.html">8.3 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Security Solution [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>8.4</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-header-8.4.0"></a>8.4<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="release-notes-8.4.3"></a>8.4.3<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h3>
<h4><a id="bug-fixes-8.4.3"></a>Bug fixes and enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Aligns the delete icon in the Add Rule Exception flyout (<a href="https://github.com/elastic/kibana/pull/141365" class="ulink" target="_top">#141365</a>).
</li>
<li class="listitem">
Aligns the warning message title on the Rule details page with the warning icon (<a href="https://github.com/elastic/kibana/pull/140719" class="ulink" target="_top">#140719</a>).
</li>
<li class="listitem">
Fixes a bug that sometimes caused Elastic Endpoint to stop running on Windows endpoints (<a href="https://github.com/elastic/endpoint/issues/29" class="ulink" target="_top">#29</a>).
</li>
</ul>
</div>
<h3><a id="release-notes-8.4.2"></a>8.4.2<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h3>
<h4><a id="known-issue-8.4.2"></a>Known issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A new Lucene 9 validation change may cause event correlation rule (EQL) errors whenever rule queries contain regular expressions using wildcard fields and predefined character classes (for example, <code class="literal">\w</code>, <code class="literal">\s</code>, <code class="literal">\d</code>).
</li>
<li class="listitem">
<p>In some situations, Elastic Endpoint might change to a non-running state on Windows endpoints and fail to restart. Elastic Agent will have an <code class="literal">Unhealthy</code> status when this happens (<a href="https://github.com/elastic/endpoint/issues/29" class="ulink" target="_top">#29</a>).</p>
<p>To determine whether Elastic Endpoint has stopped running because of this issue, run the following PowerShell command as an administrator:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PS C:\Users\user&gt; Get-WinEvent Microsoft-Windows-CodeIntegrity/Operational | where Id -eq 3004 | where Message -match "elastic-endpoint.exe"


   ProviderName: Microsoft-Windows-CodeIntegrity

TimeCreated                      Id LevelDisplayName Message
-----------                      -- ---------------- -------
9/22/2022 10:47:35 AM          3004 Error            Windows is unable to verify the image integrity of the file \Device\HarddiskVolume3\Program Files\Elastic\Endpoint\elastic-endpo...
9/19/2022 2:10:14 PM           3004 Error            Windows is unable to verify the image integrity of the file \Device\HarddiskVolume3\Program Files\Elastic\Endpoint\elastic-endpo...</pre>
</div>
<div class="console_widget" data-snippet="snippets/153.console"></div>
<p>If Elastic Endpoint is not running, there are several workarounds you can take:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Manually uninstall, then reinstall Elastic Endpoint on affected hosts</strong></span>: Remove an invalid Elastic Endpoint installation by running the Elastic Endpoint <a class="xref" href="uninstall-endpoint.html" title="Uninstall Elastic Endpoint">uninstall command</a> on affected hosts. Once the uninstallation process has finished, run the following command to restart Elastic Agent, which automatically reinstalls Elastic Endpoint:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">c:\Program Files\Elastic\Agent\elastic-agent.exe restart</pre>
</div>
<div class="console_widget" data-snippet="snippets/154.console"></div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Uninstall, then reinstall the Endpoint and Cloud Security integration on affected hosts</strong></span>: Uninstalling and reinstalling the Endpoint and Cloud Security integration on affected hosts will also force the uninstallation and reinstallation of Elastic Endpoint on these hosts.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Uninstalling the Endpoint and Cloud Security integration may temporarily cause Elastic Agent&#8217;s status to be <code class="literal">Unhealthy</code>. The status will change to <code class="literal">Healthy</code> once the integration is reinstalled.</p>
</div>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>Downgrade Elastic Agent and Elastic Endpoint versions</strong></span>: Downgrading to unaffected Elastic Agent and Elastic Endpoint versions resolves this issue.
</li>
</ul>
</div>
</li>
</ul>
</div>
<h4><a id="bug-fixes-8.4.2"></a>Bug fixes and enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Removes access to the <span class="strong strong"><strong>Notes</strong></span> and <span class="strong strong"><strong>Pinned</strong></span> tabs in Timeline templates (<a href="https://github.com/elastic/kibana/pull/140478" class="ulink" target="_top">#140478</a>).
</li>
<li class="listitem">
Fixes a bug with the <span class="strong strong"><strong>Attach to existing case</strong></span> option in Timeline (<a href="https://github.com/elastic/kibana/pull/139929" class="ulink" target="_top">#139929</a>).
</li>
<li class="listitem">
Fixes bugs in the Rules table that affected the selected rule count and bulk select feature (<a href="https://github.com/elastic/kibana/pull/139461" class="ulink" target="_top">#139461</a>).
</li>
<li class="listitem">
Fixes a bug that caused the Rules page to incorrectly notify users that a prebuilt rules update was available, even after rules were fully updated (<a href="https://github.com/elastic/kibana/pull/139287" class="ulink" target="_top">#139287</a>).
</li>
<li class="listitem">
Fixes a bug that prevented users from accessing alert details if they didn&#8217;t have the appropriate privileges to view the internal index <code class="literal">.internal.alerts-security.alerts-&lt;Kibana-space&gt;</code>. Now, the Alert details flyout correctly uses the public alias index <code class="literal">.alerts-security.alerts-&lt;Kibana-space&gt;</code> (<a href="https://github.com/elastic/kibana/pull/138331" class="ulink" target="_top">#138331</a>).
</li>
</ul>
</div>
<h3><a id="release-notes-8.4.1"></a>8.4.1<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h3>
<h4><a id="known-issue-8.4.1"></a>Known issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A new Lucene 9 validation change may cause event correlation (EQL) rule errors whenever rule queries contain regular expressions using wildcard fields and predefined character classes (for example, <code class="literal">\w</code>, <code class="literal">\s</code>, <code class="literal">\d</code>).
</li>
<li class="listitem">
<p>In some situations, Elastic Endpoint might change to a non-running state on Windows endpoints and fail to restart. Elastic Agent will have an <code class="literal">Unhealthy</code> status when this happens (<a href="https://github.com/elastic/endpoint/issues/29" class="ulink" target="_top">#29</a>).</p>
<p>To determine whether Elastic Endpoint has stopped running because of this issue, run the following PowerShell command as an administrator:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PS C:\Users\user&gt; Get-WinEvent Microsoft-Windows-CodeIntegrity/Operational | where Id -eq 3004 | where Message -match "elastic-endpoint.exe"


   ProviderName: Microsoft-Windows-CodeIntegrity

TimeCreated                      Id LevelDisplayName Message
-----------                      -- ---------------- -------
9/22/2022 10:47:35 AM          3004 Error            Windows is unable to verify the image integrity of the file \Device\HarddiskVolume3\Program Files\Elastic\Endpoint\elastic-endpo...
9/19/2022 2:10:14 PM           3004 Error            Windows is unable to verify the image integrity of the file \Device\HarddiskVolume3\Program Files\Elastic\Endpoint\elastic-endpo...</pre>
</div>
<div class="console_widget" data-snippet="snippets/155.console"></div>
<p>If Elastic Endpoint is not running, there are several workarounds you can take:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Manually uninstall, then reinstall Elastic Endpoint on affected hosts</strong></span>: Remove an invalid Elastic Endpoint installation by running the Elastic Endpoint <a class="xref" href="uninstall-endpoint.html" title="Uninstall Elastic Endpoint">uninstall command</a> on affected hosts. Once the uninstallation process has finished, run the following command to restart Elastic Agent, which automatically reinstalls Elastic Endpoint:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">c:\Program Files\Elastic\Agent\elastic-agent.exe restart</pre>
</div>
<div class="console_widget" data-snippet="snippets/156.console"></div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Uninstall, then reinstall the Endpoint and Cloud Security integration on affected hosts</strong></span>: Uninstalling and reinstalling the Endpoint and Cloud Security integration on affected hosts will also force the uninstallation and reinstallation of Elastic Endpoint on these hosts.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Uninstalling the Endpoint and Cloud Security integration may temporarily cause Elastic Agent&#8217;s status to be <code class="literal">Unhealthy</code>. The status will change to <code class="literal">Healthy</code> once the integration is reinstalled.</p>
</div>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>Downgrade Elastic Agent and Elastic Endpoint versions</strong></span>: Downgrading to unaffected Elastic Agent and Elastic Endpoint versions resolves this issue.
</li>
</ul>
</div>
</li>
</ul>
</div>
<h4><a id="bug-fixes-8.4.1"></a>Bug fixes and enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes a bug that caused the Rules page to incorrectly notify users that a prebuilt rules update was available, even after rules were fully updated (<a href="https://github.com/elastic/kibana/pull/139287" class="ulink" target="_top">#139287</a>).
</li>
</ul>
</div>
<h3><a id="release-notes-8.4.0"></a>8.4.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h3>
<h4><a id="known-issue-8.4.0"></a>Known issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If additional look-back time is set for the advanced query rule preview, alerts from source documents that are outside the preview time frame may not appear in the preview (<a href="https://github.com/elastic/kibana/pull/137422" class="ulink" target="_top">#137422</a>).
</li>
<li class="listitem">
A new Lucene 9 validation change may cause event correlation (EQL) rule errors whenever rule queries contain regular expressions using wildcard fields and predefined character classes (for example, <code class="literal">\w</code>, <code class="literal">\s</code>, <code class="literal">\d</code>).
</li>
<li class="listitem">
The Rules page incorrectly displays a notification that an update for prebuilt rules is available even if the rules have been fully updated. Currently, there is no way to remove or hide the notification (<a href="https://github.com/elastic/kibana/pull/139095" class="ulink" target="_top">#139095</a>).
</li>
<li class="listitem">
<p>In some situations, Elastic Endpoint might change to a non-running state on Windows endpoints and fail to restart. Elastic Agent will appear <code class="literal">Unhealthy</code> when this happens (<a href="https://github.com/elastic/endpoint/issues/29" class="ulink" target="_top">#29</a>).</p>
<p>To determine whether Elastic Endpoint has stopped running because of this issue, run the following PowerShell command as an administrator:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PS C:\Users\user&gt; Get-WinEvent Microsoft-Windows-CodeIntegrity/Operational | where Id -eq 3004 | where Message -match "elastic-endpoint.exe"


   ProviderName: Microsoft-Windows-CodeIntegrity

TimeCreated                      Id LevelDisplayName Message
-----------                      -- ---------------- -------
9/22/2022 10:47:35 AM          3004 Error            Windows is unable to verify the image integrity of the file \Device\HarddiskVolume3\Program Files\Elastic\Endpoint\elastic-endpo...
9/19/2022 2:10:14 PM           3004 Error            Windows is unable to verify the image integrity of the file \Device\HarddiskVolume3\Program Files\Elastic\Endpoint\elastic-endpo...</pre>
</div>
<div class="console_widget" data-snippet="snippets/157.console"></div>
<p>If Elastic Endpoint is not running, there are several workarounds you can take:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Manually uninstall, then reinstall Elastic Endpoint on affected hosts</strong></span>: Remove an invalid Elastic Endpoint installation by running the Elastic Endpoint <a class="xref" href="uninstall-endpoint.html" title="Uninstall Elastic Endpoint">uninstall command</a> on affected hosts. Once the uninstallation process has finished, run the following command to restart Elastic Agent, which automatically reinstalls Elastic Endpoint:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">c:\Program Files\Elastic\Agent\elastic-agent.exe restart</pre>
</div>
<div class="console_widget" data-snippet="snippets/158.console"></div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Uninstall, then reinstall the Endpoint and Cloud Security integration on affected hosts</strong></span>: Uninstalling and reinstalling the Endpoint and Cloud Security integration on affected hosts will also force the uninstallation and reinstallation of Elastic Endpoint on these hosts.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Uninstalling the Endpoint and Cloud Security integration may put Elastic Agent  in an <code class="literal">Unhealthy</code> state. This is temporary and the state will change to <code class="literal">Healthy</code> once the integration is reinstalled.</p>
</div>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>Downgrade Elastic Agent and Elastic Endpoint versions</strong></span>: Downgrading to unaffected Elastic Agent and Elastic Endpoint versions resolves this issue.
</li>
</ul>
</div>
</li>
</ul>
</div>
<h4><a id="breaking-changes-8.4.0"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h4>
<p>There are no breaking changes in 8.4.0.</p>
<h4><a id="features-8.4.0"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Creates a new rule type, New Terms, that creates an alert when a value appears for the first time in a particular field (<a href="https://github.com/elastic/kibana/pull/134526" class="ulink" target="_top">#134526</a>).
</li>
<li class="listitem">
Adds the Insights section to the Alert details flyout to show related cases and alerts (<a href="https://github.com/elastic/kibana/pull/136009" class="ulink" target="_top">#136009</a>, <a href="https://github.com/elastic/kibana/pull/138419" class="ulink" target="_top">#138419</a>)
</li>
<li class="listitem">
Shows process alerts in the event process analyzer (<a href="https://github.com/elastic/kibana/pull/135340" class="ulink" target="_top">#135340</a>).
</li>
<li class="listitem">
Adds support for wildcard exceptions for detection rules. New operators are <code class="literal">matches</code> and <code class="literal">does not match</code> (<a href="https://github.com/elastic/kibana/pull/136147" class="ulink" target="_top">#136147</a>).
</li>
<li class="listitem">
Adds a new search query parameter, <code class="literal">dry_run</code>, to the bulk actions API that allows you to simulate a bulk action without permanently updating rules (<a href="https://github.com/elastic/kibana/pull/134664" class="ulink" target="_top">#134664</a>).
</li>
<li class="listitem">
Creates the response console, an interface that enables you to take actions on specific hosts (<a href="https://github.com/elastic/kibana/pull/135360" class="ulink" target="_top">#135360</a>, <a href="https://github.com/elastic/kibana/pull/134520" class="ulink" target="_top">#134520</a>).
</li>
<li class="listitem">
Includes integration policy errors and statuses in Fleet and Elastic Security to help troubleshoot when an Elastic Agent has an <code class="literal">Unhealthy</code> status (<a href="https://github.com/elastic/kibana/pull/136241" class="ulink" target="_top">#136241</a>, <a href="https://github.com/elastic/kibana/pull/136038" class="ulink" target="_top">#136038</a>).
</li>
<li class="listitem">
Adds Attack surface reduction protections feature to reduce vulnerabilities on Windows endpoints. Credential hardening prevents attackers from stealing credentials stored in Windows system process memory.
</li>
<li class="listitem">
Adds an endpoint self-healing feature to roll back file changes and processes on Windows endpoints when a prevention alert is generated by enabled protection features.
</li>
<li class="listitem">
Adds the ability to run query packs as live queries (<a href="https://github.com/elastic/kibana/pull/132198" class="ulink" target="_top">#132198</a>).
</li>
<li class="listitem">
Provides support for process, file, and network events in Kubernetes. You must enable the session view data setting on your Endpoint and Cloud Security integration policy to enrich these events with session data and Kubernetes metadata fields.
</li>
<li class="listitem">
Adds support for Amazon Elastic Kubernetes Service (EKS) to Kubernetes Security Posture Management (KSPM).
</li>
<li class="listitem">
Adds new fields to prebuilt detection rules' schemas: <code class="literal">related_integrations</code>, <code class="literal">required_fields</code>, and <code class="literal">setup</code> (<a href="https://github.com/elastic/kibana/pull/132409" class="ulink" target="_top">#132409</a>).
</li>
<li class="listitem">
Adds the <span class="strong strong"><strong>Related integrations</strong></span>, <span class="strong strong"><strong>Required fields</strong></span>, and <span class="strong strong"><strong>Setup guide</strong></span> sections to the rule details page to help users identify and meet a rule&#8217;s prerequisites. Also adds the related integrations badge to the Rules table (<a href="https://github.com/elastic/kibana/pull/131475" class="ulink" target="_top">#131475</a>).
</li>
</ul>
</div>
<h4><a id="bug-fixes-8.4.0"></a>Bug fixes and enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/main/docs/release-notes/8.4.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Updates the Network page&#8217;s UI to match the Hosts and Users pages (<a href="https://github.com/elastic/kibana/pull/137541" class="ulink" target="_top">#137541</a>, <a href="https://github.com/elastic/kibana/pull/136913" class="ulink" target="_top">#136913</a>).
</li>
<li class="listitem">
Improves the experience of bulk editing index patterns on rules by warning users early that machine learning rules can’t be edited (<a href="https://github.com/elastic/kibana/pull/134664" class="ulink" target="_top">#134664</a>).
</li>
<li class="listitem">
Enhances rule previews with configurable rule intervals and look-back times (<a href="https://github.com/elastic/kibana/pull/137102" class="ulink" target="_top">#137102</a>).
</li>
<li class="listitem">
Enhances the <code class="literal">status pending</code> badge for endpoint actions with a detailed status when you hover on it (<a href="https://github.com/elastic/kibana/pull/136966" class="ulink" target="_top">#136966</a>).
</li>
<li class="listitem">
Turns grouped navigation on by default (<a href="https://github.com/elastic/kibana/pull/136819" class="ulink" target="_top">#136819</a>).
</li>
<li class="listitem">
Improves the experience of bulk exporting rules by informing users early which rules can and cannot be exported (<a href="https://github.com/elastic/kibana/pull/136418" class="ulink" target="_top">#136418</a>).
</li>
<li class="listitem">
Adds index pattern information to the Inspect panel (<a href="https://github.com/elastic/kibana/pull/136407" class="ulink" target="_top">#136407</a>).
</li>
<li class="listitem">
Adds a custom dashboards table to the Dashboards page (<a href="https://github.com/elastic/kibana/pull/136221" class="ulink" target="_top">#136221</a>, <a href="https://github.com/elastic/kibana/pull/136671" class="ulink" target="_top">#136671</a>).
</li>
<li class="listitem">
Fixes a performance issue with creating alerts from source documents that contain a large number of fields (<a href="https://github.com/elastic/kibana/pull/135956" class="ulink" target="_top">#135956</a>).
</li>
<li class="listitem">
Updates the rule exceptions UI (<a href="https://github.com/elastic/kibana/pull/135255" class="ulink" target="_top">#135255</a>).
</li>
<li class="listitem">
Fixes performance issues with rules management (<a href="https://github.com/elastic/kibana/pull/135311" class="ulink" target="_top">#135311</a>).
</li>
<li class="listitem">
Allows you to disable <code class="literal">@timestamp</code> as a fallback timestamp field when you&#8217;ve defined a timestamp override (<a href="https://github.com/elastic/kibana/pull/135116" class="ulink" target="_top">#135116</a>).
</li>
<li class="listitem">
Enhances the host risk score UI (<a href="https://github.com/elastic/kibana/pull/133708" class="ulink" target="_top">#133708</a>).
</li>
<li class="listitem">
Updates the lists index template to use new logic (<a href="https://github.com/elastic/kibana/pull/133067" class="ulink" target="_top">#133067</a>).
</li>
<li class="listitem">
Adds event filters to event correlation rules (<a href="https://github.com/elastic/kibana/pull/132507" class="ulink" target="_top">#132507</a>).
</li>
<li class="listitem">
Allows you to define a data view as the rule&#8217;s data source, making runtime fields available for rule configuration (<a href="https://github.com/elastic/kibana/pull/130929" class="ulink" target="_top">#130929</a>).
</li>
<li class="listitem">
Creates a single visualization pane on the Alerts page, and adds a treemap visualization that shows the distribution of alerts as nested, proportionally-sized tiles (<a href="https://github.com/elastic/kibana/pull/126896" class="ulink" target="_top">#126896</a>).
</li>
<li class="listitem">
Fixes an incorrect counter for exported rules (<a href="https://github.com/elastic/kibana/pull/138598" class="ulink" target="_top">#138598</a>).
</li>
<li class="listitem">
Fixes event filters based on OS version (<a href="https://github.com/elastic/kibana/pull/138517" class="ulink" target="_top">#138517</a>).
</li>
<li class="listitem">
Fixes a bug that could change the batch size for event search in indicator rules (<a href="https://github.com/elastic/kibana/pull/138356" class="ulink" target="_top">#138356</a>).
</li>
<li class="listitem">
Fixes a bug that prevented users from accessing alert details if they didn&#8217;t have the appropriate privileges to view the internal index <code class="literal">.internal.alerts-security.alerts-&lt;Kibana-space&gt;</code>. Now, the Alert details flyout correctly uses the public alias index <code class="literal">.alerts-security.alerts-&lt;Kibana-space&gt;</code> (<a href="https://github.com/elastic/kibana/pull/138331" class="ulink" target="_top">#138331</a>).
</li>
<li class="listitem">
Fixes the preview button for machine learning rules (<a href="https://github.com/elastic/kibana/pull/137878" class="ulink" target="_top">#137878</a>).
</li>
<li class="listitem">
Fixes a bug that could crash the Endpoints list when a policy ID was missing (<a href="https://github.com/elastic/kibana/pull/137788" class="ulink" target="_top">#137788</a>).
</li>
<li class="listitem">
Fixes a bug that could interfere with opening host or user details pages (<a href="https://github.com/elastic/kibana/pull/137719" class="ulink" target="_top">#137719</a>).
</li>
<li class="listitem">
Fixes several bugs related to refreshing the Alerts page (<a href="https://github.com/elastic/kibana/pull/137620" class="ulink" target="_top">#137620</a>).
</li>
<li class="listitem">
Fixes a bug that prevented threshold rules' Timeline templates from being respected during investigations (<a href="https://github.com/elastic/kibana/pull/137233" class="ulink" target="_top">#137233</a>).
</li>
<li class="listitem">
Fixes a permissions bug related to the <span class="strong strong"><strong>Save Timeline</strong></span> button (<a href="https://github.com/elastic/kibana/pull/136724" class="ulink" target="_top">#136724</a>).
</li>
<li class="listitem">
Fixes a bug with selecting Timeline templates with the same name (<a href="https://github.com/elastic/kibana/pull/135694" class="ulink" target="_top">#135694</a>).
</li>
<li class="listitem">
Fixes field aliases to <code class="literal">signal-threshold_result.*</code> (<a href="https://github.com/elastic/kibana/pull/135565" class="ulink" target="_top">#135565</a>).
</li>
<li class="listitem">
Fixes a bug that lost track of which rules you had selected after refreshing the Rules page (<a href="https://github.com/elastic/kibana/pull/135533" class="ulink" target="_top">#135533</a>).
</li>
<li class="listitem">
Fixes a bug that lost track of which rules you had selected after applying a bulk action on the Rules page (<a href="https://github.com/elastic/kibana/pull/135291" class="ulink" target="_top">#135291</a>).
</li>
<li class="listitem">
Fixes a bug that prevented the Rules table from pausing auto-refresh while bulk actions were being applied (<a href="https://github.com/elastic/kibana/pull/135208" class="ulink" target="_top">135208</a>).
</li>
<li class="listitem">
Fixes a bug that could cause queries with nested fields to fail when opened (<a href="https://github.com/elastic/kibana/pull/134866" class="ulink" target="_top">#134866</a>).
</li>
<li class="listitem">
Fixes a bug that slowed down the display of network details (<a href="https://github.com/elastic/kibana/pull/133539" class="ulink" target="_top">#133539</a>).
</li>
<li class="listitem">
Various minor bug fixes and enhancements (<a href="https://github.com/elastic/kibana/pull/133079" class="ulink" target="_top">#133079</a>, <a href="https://github.com/elastic/kibana/pull/138135" class="ulink" target="_top">#138135</a>, <a href="https://github.com/elastic/kibana/pull/137588" class="ulink" target="_top">#137588</a>, <a href="https://github.com/elastic/kibana/pull/137511" class="ulink" target="_top">#137511</a>, <a href="https://github.com/elastic/kibana/pull/137492" class="ulink" target="_top">#137492</a>, <a href="https://github.com/elastic/kibana/pull/135907" class="ulink" target="_top">#135907</a>, <a href="https://github.com/elastic/kibana/pull/135426" class="ulink" target="_top">#135426</a>).
</li>
<li class="listitem">
Fixes an Endpoint and Cloud Security bug on macOS and Linux that could cause CPU spikes if malware protection is enabled on an Endpoint and Cloud Security integration policy (<a href="https://github.com/elastic/endpoint/issues/22" class="ulink" target="_top">#22</a>).
</li>
<li class="listitem">
Fixes a bug that could cause Endpoint and Cloud Security to crash when outputting log data to Logstash.
</li>
<li class="listitem">
Allows Endpoint and Cloud Security to be added to agents running on Ubuntu 22.04 and Debian 11.
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-header-8.5.0.html">« 8.5</a>
</span>
<span class="next">
<a href="release-notes-header-8.3.0.html">8.3 »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
