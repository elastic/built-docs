<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Get started with traces and APM | Serverless | Elastic</title>
<meta class="elastic" name="content" content="Get started with traces and APM | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="observability-apm.html" title="Application performance monitoring (APM)"/>
<link rel="prev" href="observability-apm.html" title="Application performance monitoring (APM)"/>
<link rel="next" href="observability-apm-send-data-to-elastic.html" title="Send APM data to Elastic"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles-v1.css" />
  </head>

  <!--© 2015-2025 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  
<div class="navheader">
<span class="prev">
<a href="observability-apm.html">« Application performance monitoring (APM)</a>
</span>
<span class="next">
<a href="observability-apm-send-data-to-elastic.html">Send APM data to Elastic »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-observability-serverless.html">Elastic Observability serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="application-and-service-monitoring.html">Application and service monitoring</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-apm.html">Application performance monitoring (APM)</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Get started with traces and APM</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/apm/apm-get-started.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="observability-apm-get-started"></a>Get started with traces and APM</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/apm/apm-get-started.asciidoc">edit</a></div>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p class="admon_title">Required role</p>
<p>The <span class="strong strong"><strong>Admin</strong></span> role or higher is required to send APM data to Elastic. To learn more, refer to <a class="xref" href="general-assign-user-roles.html" title="Assign user roles and privileges">Assign user roles and privileges</a>.</p>
</div>
</div>
<p>In this guide you&#8217;ll learn how to collect and send Application Performance Monitoring (APM) data
to Elastic, then explore and visualize the data in real time.</p>
<div class="position-relative"><h6><a id="add-apm-integration-agents"></a>Step 1: Add data</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/apm/apm-get-started.asciidoc">edit</a></div>
<p>You&#8217;ll use APM agents to send APM data from your application to Elastic. Elastic offers APM agents
written in several languages and supports OpenTelemetry. Which agent you&#8217;ll use depends on the language used in your service.</p>
<p>To send APM data to Elastic, you must install an APM agent and configure it to send data to
your project:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a class="xref" href="observability-create-an-observability-project.html" title="Create an Elastic Observability Serverless project">Create a new Elastic Observability Serverless project</a>, or open an existing one.
</li>
<li class="listitem">
<p>To install and configure one or more APM agents, do one of following:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
In your Observability project, go to <span class="strong strong"><strong>Add data</strong></span> → <span class="strong strong"><strong>Monitor my application performance</strong></span> → <span class="strong strong"><strong>Elastic APM</strong></span> and follow the prompts.
</li>
<li class="listitem">
<p>Use the following instructions:</p>
<div class="tabs" data-tab-group="apm-apm-get-started">
  <div role="tablist" aria-label="apm-apm-get-started">
    <button role="tab" aria-selected="true" aria-controls="apm-apm-get-started-go-panel" id="apm-apm-get-started-go-button">
      Go
    </button>
    <button role="tab" aria-selected="false" aria-controls="apm-apm-get-started-java-panel" id="apm-apm-get-started-java-button" tabindex="-1">
      Java
    </button>
    <button role="tab" aria-selected="false" aria-controls="apm-apm-get-started-net-panel" id="apm-apm-get-started-net-button" tabindex="-1">
      .NET
    </button>
    <button role="tab" aria-selected="false" aria-controls="apm-apm-get-started-nodejs-panel" id="apm-apm-get-started-nodejs-button" tabindex="-1">
      Node.js
    </button>
    <button role="tab" aria-selected="false" aria-controls="apm-apm-get-started-php-panel" id="apm-apm-get-started-php-button" tabindex="-1">
      PHP
    </button>
    <button role="tab" aria-selected="false" aria-controls="apm-apm-get-started-python-panel" id="apm-apm-get-started-python-button" tabindex="-1">
      Python
    </button>
    <button role="tab" aria-selected="false" aria-controls="apm-apm-get-started-ruby-panel" id="apm-apm-get-started-ruby-button" tabindex="-1">
      Ruby
    </button>
    <button role="tab" aria-selected="false" aria-controls="apm-apm-get-started-opentelemetry-panel" id="apm-apm-get-started-opentelemetry-button" tabindex="-1">
      OpenTelemetry
    </button>
  </div>
  <div tabindex="0" role="tabpanel" id="apm-apm-get-started-go-panel" aria-labelledby="apm-apm-get-started-go-button">
<p><span class="strong strong"><strong>1. Install the agent</strong></span></p>
<p>Install the APM agent package using <code class="literal">go get</code>:</p>
<div class="pre_wrapper lang-go">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-go">go get -u go.elastic.co/apm/v2</pre>
</div>
<p><span class="strong strong"><strong>2. Configure the agent</strong></span></p>
<p>To simplify development and testing,
the agent defaults to sending data to Elastic at <code class="literal">http://localhost:8200</code>.
To send data to an alternative location, you must configure <code class="literal">ELASTIC_APM_SERVER_URL</code>.</p>
<div class="pre_wrapper lang-go">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-go"># The APM integration host and port
export ELASTIC_APM_SERVER_URL=

# If you do not specify `ELASTIC_APM_SERVICE_NAME`, the Go agent will use the
# executable name. For example, if your executable is called "my-app.exe", then your
# service will be identified as "my-app".
export ELASTIC_APM_SERVICE_NAME=

# API keys are used to authorize requests to the APM integration
export ELASTIC_APM_API_KEY=</pre>
</div>
<p><span class="strong strong"><strong>3. Instrument your application</strong></span></p>
<p>Instrumentation is the process of extending your application&#8217;s code to report trace data to Elastic APM. Go applications must be instrumented manually at the source code level. To instrument your applications, use one of the following approaches:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/apm/agent/go/current/builtin-modules.html" class="ulink" target="_top">Built-in instrumentation modules</a>.
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/go/current/custom-instrumentation.html" class="ulink" target="_top">Custom instrumentation</a> and context propagation with the Go Agent API.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Learn more in the APM agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/apm/agent/go/current/supported-tech.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/go/current/configuration.html" class="ulink" target="_top">Advanced configuration</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/go/current/getting-started.html" class="ulink" target="_top">Detailed guide to instrumenting Go source code</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="apm-apm-get-started-java-panel" aria-labelledby="apm-apm-get-started-java-button" hidden="">
<p>Manually set up and configure the agent with the <code class="literal">-javaagent</code> JVM option. No application code change is required, but this requires an
application restart. See below for more information on this setup method.</p>
<p><span class="strong strong"><strong>1. Download the APM agent</strong></span></p>
<p>The first step in getting started with the Elastic APM Java agent is to retrieve a copy of the agent JAR.
Java agent releases are published to <a href="https://repo.maven.apache.org/maven2/" class="ulink" target="_top">Maven central</a>. In order to get a copy you can either:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
download the <a href="https://oss.sonatype.org/service/local/artifact/maven/redirect?r=releases&amp;g=co.elastic.apm&amp;a=elastic-apm-agent&amp;v=LATEST" class="ulink" target="_top">latest agent</a>
or a <a href="https://mvnrepository.com/artifact/co.elastic.apm/elastic-apm-agent" class="ulink" target="_top">previous release</a> from Maven central.
</li>
<li class="listitem">
<p>download with <code class="literal">curl</code>:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">curl -o 'elastic-apm-agent.jar' -L 'https://oss.sonatype.org/service/local/artifact/maven/redirect?r=releases&amp;g=co.elastic.apm&amp;a=elastic-apm-agent&amp;v=LATEST'</pre>
</div>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>2. Add <code class="literal">-javaagent</code> flag</strong></span></p>
<p>When starting your application, add the JVM flag: <code class="literal">-javaagent:/path/to/elastic-apm-agent-&lt;version&gt;.jar</code>.</p>
<p><span class="strong strong"><strong>3. Configure</strong></span></p>
<p>Different application servers have different ways of setting the <code class="literal">-javaagent</code> flag and system properties.
Start your application (for example a Spring Boot application or other embedded servers) and add the <code class="literal">-javaagent</code> JVM flag.
Use the <code class="literal">-D</code> prefix to configure the agent using system properties:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">java -javaagent:/path/to/elastic-apm-agent-&lt;version&gt;.jar -Delastic.apm.service_name=my-cool-service -Delastic.apm.application_packages=org.example,org.another.example -Delastic.apm.server_url=http://127.0.0.1:8200 -jar my-application.jar</pre>
</div>
<p>Refer to <a href="/guide/en/apm/agent/java/current/setup-javaagent.html" class="ulink" target="_top">Manual setup with <code class="literal">-javaagent</code> flag</a> to learn more.</p>
<p><span class="strong strong"><strong>Alternate setup methods</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Automatic setup with <code class="literal">apm-agent-attach-cli.jar</code></strong></span>
Automatically set up the agent without needing to alter the configuration of your JVM or application server. This method requires no changes to application code
or JVM options, and allows attaching to a running JVM. Refer to the <a href="/guide/en/apm/agent/java/current/setup-attach-cli.html" class="ulink" target="_top">Java agent documentation</a> for more information on this setup method.
</li>
<li class="listitem">
<span class="strong strong"><strong>Programmatic API setup to self-attach</strong></span>
Set up the agent with a one-line code change and an extra <code class="literal">apm-agent-attach</code> dependency. This method requires no changes to JVM options, and
the agent artifact is embedded within the packaged application binary. Refer to the <a href="/guide/en/apm/agent/java/current/setup-attach-api.html" class="ulink" target="_top">Java agent documentation</a> for more information on this setup method.
</li>
</ul>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="apm-apm-get-started-net-panel" aria-labelledby="apm-apm-get-started-net-button" hidden="">
<p><span class="strong strong"><strong>Set up the APM agent</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Profiler runtime instrumentation</strong></span>:
The agent supports auto instrumentation without any code change and without
any recompilation of your projects. See <a href="/guide/en/apm/agent/dotnet/current/setup-auto-instrumentation.html" class="ulink" target="_top">Profiler auto instrumentation</a>.
</li>
<li class="listitem">
<span class="strong strong"><strong>NuGet packages</strong></span>:
The agent ships as a set of <a href="/guide/en/apm/agent/dotnet/current/packages.html" class="ulink" target="_top">NuGet packages</a> available on <a href="https://nuget.org" class="ulink" target="_top">nuget.org</a>.
You can add the Agent and specific instrumentations to a .NET application by
referencing one or more of these packages and following the package documentation.
</li>
<li class="listitem">
<span class="strong strong"><strong>Host startup hook</strong></span>:
On .NET Core 3.0+ or .NET 5+, the agent supports auto instrumentation without any code change and without
any recompilation of your projects. See <a href="/guide/en/apm/agent/dotnet/current/setup-dotnet-net-core.html" class="ulink" target="_top">Zero code change setup on .NET Core</a>
for more details.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Learn more in the APM agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/apm/agent/dotnet/current/supported-technologies.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/dotnet/current/configuration.html" class="ulink" target="_top">Advanced configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="apm-apm-get-started-nodejs-panel" aria-labelledby="apm-apm-get-started-nodejs-button" hidden="">
<p><span class="strong strong"><strong>1. Install the APM agent</strong></span></p>
<p>Install the APM agent for Node.js as a dependency to your application.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">npm install elastic-apm-node --save</pre>
</div>
<p><span class="strong strong"><strong>2. Initialization</strong></span></p>
<p>It&#8217;s important that the agent is started before you require <em>any</em> other modules in your Node.js application - i.e. before <code class="literal">http</code> and before your router etc.</p>
<p>This means that you should probably require and start the agent in your application&#8217;s main file (usually <code class="literal">index.js</code>, <code class="literal">server.js</code> or <code class="literal">app.js</code>).</p>
<p>Here&#8217;s a simple example of how Elastic APM is normally required and started:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">// Add this to the VERY top of the first file loaded in your app
var apm = require('elastic-apm-node').start({
  // Override service name from package.json
  // Allowed characters: a-z, A-Z, 0-9, -, _, and space
  serviceName: '',

  // API keys are used to authorize requests to the APM integration
  apiKey: '',

  // Set custom APM integration host and port (default: http://127.0.0.1:8200)
  serverUrl: '',
})</pre>
</div>
<p>The agent will now monitor the performance of your application and record any uncaught exceptions.</p>
<p><span class="strong strong"><strong>Learn more in the APM agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/apm/agent/nodejs/current/supported-technologies.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/nodejs/current/advanced-setup.html" class="ulink" target="_top">Babel/ES Modules</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/nodejs/current/configuring-the-agent.html" class="ulink" target="_top">Advanced configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="apm-apm-get-started-php-panel" aria-labelledby="apm-apm-get-started-php-button" hidden="">
<p><span class="strong strong"><strong>1. Install the agent</strong></span></p>
<p>Install the PHP agent using one of the <a href="https://github.com/elastic/apm-agent-php/releases/latest" class="ulink" target="_top">published packages</a>.</p>
<p>To use the RPM Package (RHEL/CentOS and Fedora):</p>
<div class="pre_wrapper lang-php">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-php">rpm -ivh &lt;package-file&gt;.rpm</pre>
</div>
<p>To use the DEB package (Debian and Ubuntu):</p>
<div class="pre_wrapper lang-php">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-php">dpkg -i &lt;package-file&gt;.deb</pre>
</div>
<p>To use the APK package (Alpine):</p>
<div class="pre_wrapper lang-php">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-php">apk add --allow-untrusted &lt;package-file&gt;.apk</pre>
</div>
<p>If you can’t find your distribution, you can install the agent by building it from the source.
The following instructions will build the APM agent using the same docker environment that Elastic uses to build our official packages.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The agent is currently only available for Linux operating system.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Download the <a href="https://github.com/elastic/apm-agent-php/" class="ulink" target="_top">agent source</a>.
</li>
<li class="listitem">
Execute the following commands to build the agent and install it:
</li>
</ol>
</div>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">cd apm-agent-php
# for linux glibc - libc distributions (Ubuntu, Redhat, etc)
export BUILD_ARCHITECTURE=linux-x86-64
# for linux with musl - libc distributions (Alpine)
export BUILD_ARCHITECTURE=linuxmusl-x86-64
# provide a path to php-config tool
export PHP_CONFIG=php-config

# build extensions
make -f .ci/Makefile build

# run extension tests
PHP_VERSION=`$PHP_CONFIG --version | cut -d'.' -f 1,2` make -f .ci/Makefile run-phpt-tests

# install agent extensions
sudo cp agent/native/_build/${BUILD_ARCHITECTURE}-release/ext/elastic_apm-*.so `$PHP_CONFIG --extension-dir`

# install automatic loader
sudo cp agent/native/_build/${BUILD_ARCHITECTURE}-release/loader/code/elastic_apm_loader.so `$PHP_CONFIG --extension-dir`</pre>
</div>
<p><span class="strong strong"><strong>2. Enable and configure the APM agent</strong></span></p>
<p>Enable and configure your agent inside of the <code class="literal">php.ini</code> file:</p>
<div class="pre_wrapper lang-ini">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ini">extension=elastic_apm_loader.so
elastic_apm.bootstrap_php_part_file=&lt;repo root&gt;/agent/php/bootstrap_php_part.php</pre>
</div>
<p><span class="strong strong"><strong>Learn more in the APM agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/apm/agent/php/current/supported-technologies.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/python/current/configuration.html" class="ulink" target="_top">Configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="apm-apm-get-started-python-panel" aria-labelledby="apm-apm-get-started-python-button" hidden="">
<p>Django and Flask are two of several frameworks that the Elastic APM Python Agent
supports. For a complete list of supported technologies, refer to the
<a href="/guide/en/apm/agent/python/current/supported-technologies.html" class="ulink" target="_top">Elastic APM Python Agent documentation</a>.</p>
<p><em>Django</em></p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">$ pip install elastic-apm</pre>
</div>
<p><span class="strong strong"><strong>1. Install the APM agent</strong></span></p>
<p>Install the APM agent for Python as a dependency.</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">$ pip install elastic-apm</pre>
</div>
<p><span class="strong strong"><strong>2. Configure the APM agent</strong></span></p>
<p>Agents are libraries that run inside of your application process.
APM services are created programmatically based on the <code class="literal">SERVICE_NAME</code>.</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python"># Add the agent to the installed apps
INSTALLED_APPS = (
  'elasticapm.contrib.django',
  # ...
)

ELASTIC_APM = {
  # Set required service name. Allowed characters:
  # a-z, A-Z, 0-9, -, _, and space
  'SERVICE_NAME': '',

  # API keys are used to authorize requests to the APM integration
  'API_KEY': '',

  # Set custom APM integration host and port (default: http://localhost:8200)
  'SERVER_URL': '',
}

# To send performance metrics, add our tracing middleware:
MIDDLEWARE = (
  'elasticapm.contrib.django.middleware.TracingMiddleware',
  #...
)</pre>
</div>
<p><em>Flask</em></p>
<p><span class="strong strong"><strong>1. Install the APM agent</strong></span></p>
<p>Install the APM agent for Python as a dependency.</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">$ pip install elastic-apm[flask]</pre>
</div>
<p><span class="strong strong"><strong>2. Configure the APM agent</strong></span></p>
<p>Agents are libraries that run inside of your application process.
APM services are created programmatically based on the <code class="literal">SERVICE_NAME</code>.</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python"># initialize using environment variables
from elasticapm.contrib.flask import ElasticAPM
app = Flask(__name__)
apm = ElasticAPM(app)

# or configure to use ELASTIC_APM in your application settings
from elasticapm.contrib.flask import ElasticAPM
app.config['ELASTIC_APM'] = {
  # Set required service name. Allowed characters:
  # a-z, A-Z, 0-9, -, _, and space
  'SERVICE_NAME': '',

  # API keys are used to authorize requests to the APM integration
  'API_KEY': '',

  # Set custom APM integration host and port (default: http://localhost:8200)
  'SERVER_URL': '',
}

apm = ElasticAPM(app)</pre>
</div>
<p><span class="strong strong"><strong>Learn more in the APM agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/apm/agent/python/current/supported-technologies.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/python/current/configuration.html" class="ulink" target="_top">Advanced configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="apm-apm-get-started-ruby-panel" aria-labelledby="apm-apm-get-started-ruby-button" hidden="">
<p><span class="strong strong"><strong>1. Install the APM agent</strong></span></p>
<p>Add the agent to your Gemfile.</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">gem 'elastic-apm'</pre>
</div>
<p><span class="strong strong"><strong>2. Configure the agent</strong></span></p>
<p><em>Ruby on Rails</em></p>
<p>APM is automatically started when your app boots.
Configure the agent by creating the config file <code class="literal">config/elastic_apm.yml</code>:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby"># config/elastic_apm.yml:

# Set service name - allowed characters: a-z, A-Z, 0-9, -, _ and space
# Defaults to the name of your Rails app
service_name: 'my-service'

# API keys are used to authorize requests to the APM integration
api_key: ''

# Set custom APM integration host and port (default: http://localhost:8200)
server_url: 'http://localhost:8200'</pre>
</div>
<p><em>Rack</em></p>
<p>For Rack or a compatible framework, like Sinatra, include the middleware in your app and start the agent.</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby"># config.ru

app = lambda do |env|
  [200, {'Content-Type' =&gt; 'text/plain'}, ['ok']]
end

# Wraps all requests in transactions and reports exceptions
use ElasticAPM::Middleware

# Start an instance of the Agent
ElasticAPM.start(service_name: 'NothingButRack')

run app

# Gracefully stop the agent when process exits.
# Makes sure any pending transactions are sent.
at_exit { ElasticAPM.stop }</pre>
</div>
<p>Create a config file <code class="literal">config/elastic_apm.yml</code>:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby"># config/elastic_apm.yml:

# Set service name - allowed characters: a-z, A-Z, 0-9, -, _ and space
# Defaults to the name of your Rack app's class.
service_name: 'my-service'

# API keys are used to authorize requests to the APM integration
api_key: ''

# Set custom APM integration host and port (default: http://localhost:8200)
server_url: 'http://localhost:8200'</pre>
</div>
<p><span class="strong strong"><strong>Learn more in the APM agent reference</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/apm/agent/ruby/current/supported-technologies.html" class="ulink" target="_top">Supported technologies</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/ruby/current/configuration.html" class="ulink" target="_top">Advanced configuration</a>
</li>
</ul>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="apm-apm-get-started-opentelemetry-panel" aria-labelledby="apm-apm-get-started-opentelemetry-button" hidden="">
<p>Elastic integrates with OpenTelemetry, allowing you to reuse your existing instrumentation
to easily send observability data to Elastic.</p>
<p>For more information on how to combine Elastic and OpenTelemetry,
refer to <a class="xref" href="observability-apm-agents-opentelemetry.html" title="Use OpenTelemetry with APM">Use OpenTelemetry with APM</a>.</p>
  </div>
</div>
<p>While there are many configuration options, all APM agents require:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Option</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Service name</strong></span></p></td>
<td align="left" valign="top">
<p>The APM integration maps an instrumented service&#8217;s name — defined in
each APM agent&#8217;s configuration — to the index where its data is stored.
Service names are case-insensitive and must be unique.</p>
<p>For example, you cannot have a service named <code class="literal">Foo</code> and another named <code class="literal">foo</code>.
Special characters will be removed from service names and replaced with underscores (<code class="literal">_</code>).</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Server URL</strong></span></p></td>
<td align="left" valign="top">
<p>The host and port that the managed intake service listens for events on.</p>
<p>To find the URL for your project:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the <a href="https://cloud.elastic.co/" class="ulink" target="_top">Cloud console</a>.
</li>
<li class="listitem">
Next to your project, select <span class="strong strong"><strong>Manage</strong></span>.
</li>
<li class="listitem">
Next to <em>Endpoints</em>, select <span class="strong strong"><strong>View</strong></span>.
</li>
<li class="listitem">
Copy the <em>APM endpoint</em>.
</li>
</ol>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>API key</strong></span></p></td>
<td align="left" valign="top">
<p>Authentication method for communication between APM agent and the managed intake service.</p>
<p>You can create and delete API keys in Applications Settings:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to any page in the <em>Applications</em> section of the main menu.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Settings</strong></span> in the top bar.
</li>
<li class="listitem">
Go to the <span class="strong strong"><strong>Agent keys</strong></span> tab.
</li>
</ol>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Environment</strong></span></p></td>
<td align="left" valign="top">
<p>The name of the environment this service is deployed in, for example "production" or "staging".</p>
<p>Environments allow you to easily filter data on a global level in the UI.
It&#8217;s important to be consistent when naming environments across agents.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</div>
</li>
<li class="listitem">
If you&#8217;re using the step-by-step instructions in the UI, after you&#8217;ve installed and configured an agent,
you can click <span class="strong strong"><strong>Check Agent Status</strong></span> to verify that the agent is sending data.
</li>
</ol>
</div>
<p>To learn more about APM agents, including how to fine-tune how agents send traces to Elastic,
refer to <a class="xref" href="observability-apm-send-data-to-elastic.html" title="Send APM data to Elastic">Send APM data to Elastic</a>.</p>
<div class="position-relative"><h6><a id="view-apm-integration-data"></a>Step 2: View your data</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/apm/apm-get-started.asciidoc">edit</a></div>
<p>After one or more APM agents are installed and successfully sending data, you can view
application performance monitoring data in the UI.</p>
<p>In the <em>Applications</em> section of the main menu, select <span class="strong strong"><strong>Service Inventory</strong></span>.
This will show a high-level overview of the health and general performance of all your services.</p>
<p>Learn more about visualizing APM data in <a class="xref" href="observability-apm-view-and-analyze-traces.html" title="View and analyze traces">View and analyze traces</a>.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Not seeing any data? Find helpful tips in <a class="xref" href="observability-apm-troubleshooting.html" title="Troubleshooting">Troubleshooting</a>.</p>
</div>
</div>
<div class="position-relative"><h6><a id="observability-apm-get-started-next-steps"></a>Next steps</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/apm/apm-get-started.asciidoc">edit</a></div>
<p>Now that data is streaming into your project, take your investigation to a
deeper level. Learn how to use <a class="xref" href="observability-apm-view-and-analyze-traces.html" title="View and analyze traces">Elastic&#8217;s built-in visualizations for APM data</a>,
<a class="xref" href="observability-alerting.html" title="Alerting">alert on APM data</a>,
or <a class="xref" href="observability-apm-send-data-to-elastic.html" title="Send APM data to Elastic">fine-tune how agents send traces to Elastic</a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="observability-apm.html">« Application performance monitoring (APM)</a>
</span>
<span class="next">
<a href="observability-apm-send-data-to-elastic.html">Send APM data to Elastic »</a>
</span>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?page=docs&placement=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?page=docs&placement=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?page=docs&placement=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>

                        <!-- Feedback widget -->
                        <div id="feedbackWidgetContainer"></div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


        <div id='elastic-footer'></div>
        <script src='https://www.elastic.co/elastic-footer.js'></script>
        <!-- Footer Section end-->

      </section>
    </div>

    <!-- Feedback modal -->
    <div id="feedbackModalContainer"></div>

    <script src="/guide/static/jquery.js"></script>
    <script type="text/javascript" src="/guide/static/docs-v1.js"></script>
    <script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
