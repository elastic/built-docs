<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Appendix 8. Reference | Shield - Elasticsearch Security Plugin [1.0] | Elastic</title>
<link rel="home" href="index.html" title="Shield - Elasticsearch Security Plugin [1.0]"/>
<link rel="up" href="index.html" title="Shield - Elasticsearch Security Plugin [1.0]"/>
<link rel="prev" href="trouble-shooting.html" title="Appendix 7. Trouble Shooting"/>
<link rel="next" href="release-notes.html" title="Appendix 9. Release Notes"/>
<meta name="DC.type" content="Learn/Docs/Legacy/Shield/Reference/1.0"/>
<meta name="DC.subject" content="Shield"/>
<meta name="DC.identifier" content="1.0"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
From version 5.0 onward, Shield is part of X-Pack. For more information, see
<a href=https://www.elastic.co/guide/en/elastic-stack-overview/current/elasticsearch-security.html>
    Securing the Elastic Stack</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Shield - Elasticsearch Security Plugin [1.0]</a></span>
»
<span class="breadcrumb-node">Appendix 8. Reference</span>
</div>
<div class="navheader">
<span class="prev">
<a href="trouble-shooting.html">« Appendix 7. Trouble Shooting</a>
</span>
<span class="next">
<a href="release-notes.html">Appendix 9. Release Notes »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="reference"></a>Appendix 8. Reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h1>
</div></div></div>
<h3><a id="privileges-list"></a>Privileges<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h3>
<h4><a id="privileges-list-cluster"></a>Cluster<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">all</code>
</p>
</td>
<td valign="top">
<p>
All cluster administration operations, like snapshotting, node shutdown/restart, settings update or rerouting
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">monitor</code>
</p>
</td>
<td valign="top">
<p>
All cluster read-ony operations, like cluster health &amp; state, hot threads, node info, node &amp; cluster
stats, snapshot/restore status, pending cluster tasks
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">manage_shield</code>
</p>
</td>
<td valign="top">
<p>
All Shield related operations (currently only exposing an API for clearing the realm caches)
</p>
</td>
</tr>
</tbody>
</table>
</div>
<h4><a id="privileges-list-indices"></a>Indices<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">all</code>
</p>
</td>
<td valign="top">
<p>
Any action on an index
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">manage</code>
</p>
</td>
<td valign="top">
<p>
All <code class="literal">monitor</code> privileges plus index administration (aliases, analyze, cache clear, close, delete, exists,
flush, mapping, open, optimize, refresh, settings, search shards, templates, validate, warmers)
<code class="literal">monitor</code>": All actions, that are required for monitoring and read-only (recovery, segments info, index stats &amp; status)
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">data_access</code>
</p>
</td>
<td valign="top">
<p>
A shortcut of all of the below privileges
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">crud</code>
</p>
</td>
<td valign="top">
<p>
A shortcut of <code class="literal">read</code> and <code class="literal">write</code> privileges
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">read</code>
</p>
</td>
<td valign="top">
<p>
Read only access to actions (count, explain, get, exists, mget, get indexed scripts, more like this, multi
percolate/search/termvector), percolate, scroll, clear_scroll, search, suggest, tv)
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">search</code>
</p>
</td>
<td valign="top">
<p>
All of <code class="literal">suggest</code> and executing an arbitrary search request (including multi-search API)
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">get</code>
</p>
</td>
<td valign="top">
<p>
Allow to execute a GET request for a single document or multiple documents via the multi-get API
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">suggest</code>
</p>
</td>
<td valign="top">
<p>
Allow to execute the <code class="literal">_suggest</code> API
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">index</code>
</p>
</td>
<td valign="top">
<p>
Privilege to index and update documents
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">create_index</code>
</p>
</td>
<td valign="top">
<p>
Privilege to create an index. A create index request may contain aliases to be added to the index once
created. In that case the request requires <code class="literal">manage_aliases</code> privilege as well, on both the index and the aliases names.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">manage_aliases</code>
</p>
</td>
<td valign="top">
<p>
Privilege to add and remove aliases, as well as retrieve aliases information. Note that in order
to add an alias to an existing index, the <code class="literal">manage_aliases</code> privilege is required on the existing index as well as on the
alias name
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">delete</code>
</p>
</td>
<td valign="top">
<p>
Privilege to delete documents (includes delete by query)
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">write</code>
</p>
</td>
<td valign="top">
<p>
Privilege to index, update, delete, delete by query and bulk operations on documents, in addition to delete
and put indexed scripts
</p>
</td>
</tr>
</tbody>
</table>
</div>
<h4><a id="ref-actions-list"></a>Action level privileges<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h4>
<p>Although rarely needed, it is also possible to define privileges on specific actions that are available in
Elasticsearch. This only applies to publicly available indices and cluster actions.</p>
<h5><a id="ref-actions-list-cluster"></a>Cluster actions privileges<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">cluster:admin/nodes/restart</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/nodes/shutdown</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/repository/delete</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/repository/get</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/repository/put</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/repository/verify</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/reroute</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/settings/update</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/snapshot/create</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/snapshot/delete</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/snapshot/get</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/snapshot/restore</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/snapshot/status</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/plugin/license/get</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/plugin/license/delete</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/plugin/license/put</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/indices/scroll/clear_all</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/analyze</code>
</li>
<li class="listitem">
<code class="literal">cluster:admin/shield/realm/cache/clear</code>
</li>
<li class="listitem">
<code class="literal">cluster:monitor/health</code>
</li>
<li class="listitem">
<code class="literal">cluster:monitor/nodes/hot_threads</code>
</li>
<li class="listitem">
<code class="literal">cluster:monitor/nodes/info</code>
</li>
<li class="listitem">
<code class="literal">cluster:monitor/nodes/stats</code>
</li>
<li class="listitem">
<code class="literal">cluster:monitor/state</code>
</li>
<li class="listitem">
<code class="literal">cluster:monitor/stats</code>
</li>
<li class="listitem">
<code class="literal">cluster:monitor/task</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/template/delete</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/template/get</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/template/put</code>
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>While indices template actions typically relate to indices, they are categorized under cluster actions to avoid
      potential security leaks (e.g. having one user define a template that may match another user&#8217;s index and then be
      applied).</p>
</div>
</div>
<h5><a id="ref-actions-list-indices"></a>Indices actions privileges<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">indices:admin/aliases</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/aliases/exists</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/aliases/get</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/analyze</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/cache/clear</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/close</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/create</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/delete</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/exists</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/flush</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/get</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/mapping/delete</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/mapping/put</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/mappings/fields/get</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/mappings/get</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/open</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/optimize</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/refresh</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/settings/update</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/shards/search_shards</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/types/exists</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/validate/query</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/warmers/delete</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/warmers/get</code>
</li>
<li class="listitem">
<code class="literal">indices:admin/warmers/put</code>
</li>
<li class="listitem">
<code class="literal">indices:monitor/recovery</code>
</li>
<li class="listitem">
<code class="literal">indices:monitor/segments</code>
</li>
<li class="listitem">
<code class="literal">indices:monitor/settings/get</code>
</li>
<li class="listitem">
<code class="literal">indices:monitor/stats</code>
</li>
<li class="listitem">
<code class="literal">indices:monitor/status</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/count</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/exists</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/explain</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/get</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/mget</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/mlt</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/mpercolate</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/msearch</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/mtv</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/percolate</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/script/get</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/scroll</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/scroll/clear</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/search</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/suggest</code>
</li>
<li class="listitem">
<code class="literal">indices:data/read/tv</code>
</li>
<li class="listitem">
<code class="literal">indices:data/write/bulk</code>
</li>
<li class="listitem">
<code class="literal">indices:data/write/delete</code>
</li>
<li class="listitem">
<code class="literal">indices:data/write/delete/by_query</code>
</li>
<li class="listitem">
<code class="literal">indices:data/write/index</code>
</li>
<li class="listitem">
<code class="literal">indices:data/write/script/delete</code>
</li>
<li class="listitem">
<code class="literal">indices:data/write/script/put</code>
</li>
<li class="listitem">
<code class="literal">indices:data/write/update</code>
</li>
</ul>
</div>
<h3><a id="ref-shield-settings"></a>Shield Settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h3>
<p>The parameters listed in this section are configured in the <code class="literal">config/elasticsearch.yml</code> configuration file.</p>
<div class="table">
<a id="message-auth-settings"></a>
<p class="title"><strong>Table 18. Shield Message Authentication Settings</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="Shield Message Authentication Settings">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.system_key.file</code></p></td>
<td align="left" valign="top"><p><code class="literal">system_key</code> under Shield&#8217;s <a class="xref" href="getting-started.html#shield-config">config</a></p></td>
<td align="left" valign="top"><p>Sets the location of the <code class="literal">system_key</code> file (read more <a class="xref" href="getting-started.html#message-authentication" title="Message Authentication">here</a>)</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<h4><a id="ref-realm-settings"></a>Realm Settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h4>
<p>All realms are configured under the <code class="literal">shield.authc.realms</code> settings, keyed by their names as follows:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">shield.authc.realms:

    realm1:
        type: esusers
        order: 0
        ...

    realm2:
        type: ldap
        order: 1
        ...

    realm3:
        type: active_directory
        order: 2
        ...
    ...</pre>
</div>
<div class="table">
<p class="title"><strong>Table 19. Common Settings to All Realms</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="Common Settings to All Realms">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">type</code></p></td>
<td align="left" valign="top"><p>yes</p></td>
<td align="left" valign="top"><p>-</p></td>
<td align="left" valign="top"><p>The type of the reamlm (currently <code class="literal">esusers</code>, <code class="literal">ldap</code> or <code class="literal">active_directory</code>)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">order</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>Integer.MAX_VALUE</p></td>
<td align="left" valign="top"><p>The priority of the realm within the realm chain</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">enabled</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>true</p></td>
<td align="left" valign="top"><p>Enable/disable the realm</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="table">
<a id="ref-esusers-settings"></a>
<p class="title"><strong>Table 20. <em>esusers</em> Realm</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="esusers Realm">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">files.users</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">users</code> under Shield&#8217;s <a class="xref" href="getting-started.html#shield-config">config</a></p></td>
<td align="left" valign="top"><p>The location of <a class="xref" href="esusers.html#users-file" title="The users File"><em>users</em></a> file</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">files.users_roles</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">users_roles</code> under Shield&#8217;s <a class="xref" href="getting-started.html#shield-config">config</a></p></td>
<td align="left" valign="top"><p>The location of <a class="xref" href="esusers.html#users_roles-file" title="The users_roles File"><em>users_roles</em></a> file</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">cache.ttl</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">20m</code></p></td>
<td align="left" valign="top"><p>Specified the time-to-live for cached user entries (a user and its credentials will be cached for this configured period of time). Defaults to <code class="literal">20m</code> (use the standard elasticsearch <a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/common-options.html#time-units" class="ulink" target="_top">time units</a>).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">cache.max_users</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>100000</p></td>
<td align="left" valign="top"><p>Specified the maximum number of user entries that can live in the cache at a given time. Defaults to 100,000.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">cache.hash_algo</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">bcrypt4</code></p></td>
<td align="left" valign="top"><p>(Expert Setting) Specifies the hashing algorithm that will be used for the in-memory cached user credentials (see <a class="xref" href="reference.html#ref-cache-hash-algo" title="Cache hash algorithms">Cache hash algorithms</a> table for all possible values).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="table">
<a id="ref-ldap-settings"></a>
<p class="title"><strong>Table 21. Shield LDAP Settings</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="Shield LDAP Settings">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">url</code></p></td>
<td align="left" valign="top"><p>yes</p></td>
<td align="left" valign="top"><p>-</p></td>
<td align="left" valign="top"><p>An LDAP URL in the format <code class="literal">ldap[s]://&lt;server&gt;:&lt;port&gt;</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">user_dn_templates</code></p></td>
<td align="left" valign="top"><p>yes</p></td>
<td align="left" valign="top"><p>-</p></td>
<td align="left" valign="top"><p>The DN template that replaces the user name with the string <code class="literal">{0}</code>. This element is multivalued, allowing for multiple user contexts.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">group_search.base_dn</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>-</p></td>
<td align="left" valign="top"><p>Specifies a container DN to search for groups in which the user has membership. When this element and all other elements beginning with <code class="literal">group_search</code> are absent, Shield searches for a <code class="literal">memberOf</code> attribute set on the user in order to determine group membership. If any of the <code class="literal">group_search</code> settings are set, this value must be provided.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">group_search.scope</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">sub_tree</code></p></td>
<td align="left" valign="top"><p>Specifies whether the group search should be <code class="literal">sub_tree</code>, <code class="literal">one_level</code> or <code class="literal">base</code>.  <code class="literal">one_level</code> only searches objects directly contained within the <code class="literal">base_dn</code>. <code class="literal">sub_tree</code> searches all objects contained under <code class="literal">base_dn</code>. <code class="literal">base</code> specifies that the <code class="literal">base_dn</code> is a group object, and that it is the only group considered.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">group_search.filter</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>See description</p></td>
<td align="left" valign="top"><p>When not set, the realm will search for <code class="literal">group</code>, <code class="literal">groupOfNames</code>, or <code class="literal">groupOfUniqueNames', with the attributes `member</code> or <code class="literal">memberOf</code>.  Any instance of <code class="literal">{0}</code> in the filter will be replaced by the user attribute defined in <code class="literal">group_search.user_attribute</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">group_search.user_attribute</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>Empty</p></td>
<td align="left" valign="top"><p>Specifies the user attribute that will be fetched and provided as a parameter to the filter.  If not set, the user DN is passed into the filter.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">unmapped_groups_as_roles</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>false</p></td>
<td align="left" valign="top"><p>Takes a boolean variable. When this element is set to <code class="literal">true</code>, the names of any unmapped LDAP groups are used as role names and assigned to the user. THe default value is <code class="literal">false</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">files.role_mapping</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">role_mapping.yml</code> under Shield&#8217;s <a class="xref" href="getting-started.html#shield-config">config</a></p></td>
<td align="left" valign="top"><p>The path and file name for the <a class="xref" href="ldap.html#ldap-role-mapping" title="Mapping Groups to Roles">YAML role mapping configuration file</a>. The default file name is <code class="literal">role_mapping.yml</code> in the <a class="xref" href="getting-started.html#shield-config">Shield config directory</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">connect_timeout</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>"5s" - for 5 seconds</p></td>
<td align="left" valign="top"><p>The timeout period for establishing an LDAP connection.  An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">read_timeout</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>"5s" - for 5 seconds</p></td>
<td align="left" valign="top"><p>The timeout period for an LDAP operation.  An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">hostname_verification</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>true</p></td>
<td align="left" valign="top"><p>Performs hostname verification when using <code class="literal">ldaps</code> to protect against man in the middle attacks.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">cache.ttl</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">20m</code></p></td>
<td align="left" valign="top"><p>Specified the time-to-live for cached user entries (a user and its credentials will be cached for this configured period of time). (use the standard elasticsearch <a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/common-options.html#time-units" class="ulink" target="_top">time units</a>).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">cache.max_users</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>100000</p></td>
<td align="left" valign="top"><p>Specified the maximum number of user entries that can live in the cache at a given time.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">cache.hash_algo</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">bcrypt4</code></p></td>
<td align="left" valign="top"><p>(Expert Setting) Specifies the hashing algorithm that will be used for the in-memory cached user credentials (see <a class="xref" href="reference.html#ref-cache-hash-algo" title="Cache hash algorithms">Cache hash algorithms</a> table for all possible values).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="table">
<a id="ref-ad-settings"></a>
<p class="title"><strong>Table 22. Shield Active Directory Settings</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="Shield Active Directory Settings">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">url</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">ldap://&lt;domain_name&gt;:389</code></p></td>
<td align="left" valign="top"><p>A URL in the format <code class="literal">ldap[s]://&lt;server&gt;:&lt;port&gt;</code>  If not specified the URL will be derived from the domain_name, assuming clear-text <code class="literal">ldap</code> and port <code class="literal">389</code> (e.g. <code class="literal">ldap://&lt;domain_name&gt;:389</code>).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">domain_name</code></p></td>
<td align="left" valign="top"><p>yes</p></td>
<td align="left" valign="top"><p>-</p></td>
<td align="left" valign="top"><p>The domain name of Active Directory. The cluster can derive the URL and <code class="literal">user_search_dn</code> fields from values in this element if those fields are not otherwise specified.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">unmapped_groups_as_roles</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>false</p></td>
<td align="left" valign="top"><p>Takes a boolean variable. When this element is set to <code class="literal">true</code>, the names of any unmapped groups are used as role names and assigned to the user. THe default value is <code class="literal">false</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">files.role_mapping</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">role_mapping.yml</code> under Shield&#8217;s <a class="xref" href="getting-started.html#shield-config">config</a></p></td>
<td align="left" valign="top"><p>The path and file name for the <a class="xref" href="active_directory.html#ad-role-mapping" title="Mapping Groups to Roles">YAML role mapping configuration file</a>. The default file name is <code class="literal">role_mapping.yml</code> in the <a class="xref" href="getting-started.html#shield-config">Shield config directory</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">user_search.base_dn</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>Root of Active Directory</p></td>
<td align="left" valign="top"><p>The context to search for a user. The default value for this element is the root of the Active Directory domain.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">user_search.scope</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">sub_tree</code></p></td>
<td align="left" valign="top"><p>Specifies whether the user search should be <code class="literal">sub_tree</code>, <code class="literal">one_level</code> or <code class="literal">base</code>.  <code class="literal">one_level</code> only searches users directly contained within the <code class="literal">base_dn</code>. <code class="literal">sub_tree</code> searches all objects contained under <code class="literal">base_dn</code>. <code class="literal">base</code> specifies that the <code class="literal">base_dn</code> is a user object, and that it is the only user considered.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">user_search.filter</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>See description</p></td>
<td align="left" valign="top"><p>Specifies a filter to use to lookup a user given a username.  The default filter looks up <code class="literal">user</code> objects with either <code class="literal">sAMAccountName</code> or <code class="literal">userPrincipalName</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">group_search.base_dn</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>Root of Active Directory</p></td>
<td align="left" valign="top"><p>The context to search for groups in which the user has membership.  The default value for this element is the root of the the Active Directory domain</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">group_search.scope</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">sub_tree</code></p></td>
<td align="left" valign="top"><p>Specifies whether the group search should be <code class="literal">sub_tree</code>, <code class="literal">one_level</code> or <code class="literal">base</code>.  <code class="literal">one_level</code> searches for groups directly contained within the <code class="literal">base_dn</code>. <code class="literal">sub_tree</code> searches all objects contained under <code class="literal">base_dn</code>. <code class="literal">base</code> specifies that the <code class="literal">base_dn</code> is a group object, and that it is the only group considered.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">timeout.tcp_connect</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">5s</code> - for 5 seconds</p></td>
<td align="left" valign="top"><p>The TCP connect timeout period for establishing an LDAP connection.  An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">timeout.tcp_read</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">5s</code> - for 5 seconds</p></td>
<td align="left" valign="top"><p>The TCP read timeout period after establishing an LDAP connection.  An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">timeout.ldap_search</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">5s</code> - for 5 seconds</p></td>
<td align="left" valign="top"><p>The LDAP Server enforced timeout period for an LDAP search.  An <code class="literal">s</code> at the end indicates seconds, or <code class="literal">ms</code> indicates milliseconds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">hostname_verification</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>true</p></td>
<td align="left" valign="top"><p>Performs hostname verification when using <code class="literal">ldaps</code> to protect against man in the middle attacks.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">cache.ttl</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">20m</code></p></td>
<td align="left" valign="top"><p>Specified the time-to-live for cached user entries (a user and its credentials will be cached for this configured period of time). (use the standard elasticsearch <a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/common-options.html#time-units" class="ulink" target="_top">time units</a>).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">cache.max_users</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p>100000</p></td>
<td align="left" valign="top"><p>Specified the maximum number of user entries that can live in the cache at a given time.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">cache.hash_algo</code></p></td>
<td align="left" valign="top"><p>no</p></td>
<td align="left" valign="top"><p><code class="literal">bcrypt4</code></p></td>
<td align="left" valign="top"><p>(Expert Setting) Specifies the hashing algorithm that will be used for the in-memory cached user credentials (see <a class="xref" href="reference.html#ref-cache-hash-algo" title="Cache hash algorithms">Cache hash algorithms</a> table for all possible values).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="table">
<a id="ref-cache-hash-algo"></a>
<p class="title"><strong>Table 23. Cache hash algorithms</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="Cache hash algorithms">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Algorithm</p></td>
<td align="left" valign="top"><p>Description</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">bcrypt</code></p></td>
<td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 10 rounds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">bcrypt4</code></p></td>
<td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 4 rounds (default).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">bcrypt5</code></p></td>
<td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 5 rounds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">bcrypt6</code></p></td>
<td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 6 rounds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">bcrypt7</code></p></td>
<td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 7 rounds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">bcrypt8</code></p></td>
<td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 8 rounds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">bcrypt9</code></p></td>
<td align="left" valign="top"><p>Uses <code class="literal">bcrypt</code> algorithm with salt generated in 9 rounds.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">sha1</code></p></td>
<td align="left" valign="top"><p>Uses <code class="literal">SHA1</code> algorithm.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">sha2</code></p></td>
<td align="left" valign="top"><p>Uses <code class="literal">SHA2</code> algorithm.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">md5</code></p></td>
<td align="left" valign="top"><p>Uses <code class="literal">MD5</code> algorithm.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">noop</code>,<code class="literal">clear_text</code></p></td>
<td align="left" valign="top"><p>Doesn&#8217;t hash the credentials and keeps it in clear text in memory. CAUTION:
                                    keeping clear text is considered insecure and can be compromised at the OS
                                    level (e.g. memory dumps and <code class="literal">ptrace</code>).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="table">
<a id="ref-roles-settings"></a>
<p class="title"><strong>Table 24. Shield Roles Settings</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="Shield Roles Settings">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.authz.store.file.roles</code></p></td>
<td align="left" valign="top"><p><code class="literal">roles.yml</code> under Shield&#8217;s <a class="xref" href="getting-started.html#shield-config">config</a></p></td>
<td align="left" valign="top"><p>The location of the roles definition file</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<h4><a id="ref-ssl-tls-settings"></a>TLS/SSL Settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h4>
<div class="table">
<p class="title"><strong>Table 25. Shield TLS/SSL Settings</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="Shield TLS/SSL Settings">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.keystore.path</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>Absolute path to the keystore that holds the private keys</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.keystore.password</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>Password to the keystore</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.keystore.key_password</code></p></td>
<td align="left" valign="top"><p>Same value as <code class="literal">shield.ssl.keystore.password</code></p></td>
<td align="left" valign="top"><p>Password for the private key in the keystore</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.keystore.algorithm</code></p></td>
<td align="left" valign="top"><p>SunX509</p></td>
<td align="left" valign="top"><p>Format for the keystore</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.truststore.path</code></p></td>
<td align="left" valign="top"><p><code class="literal">shield.ssl.keystore.path</code></p></td>
<td align="left" valign="top"><p>If not set, this setting defaults to <code class="literal">shield.ssl.keystore</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.truststore.password</code></p></td>
<td align="left" valign="top"><p><code class="literal">shield.ssl.keystore.password</code></p></td>
<td align="left" valign="top"><p>Password to the truststore</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.truststore.algorithm</code></p></td>
<td align="left" valign="top"><p>SunX509</p></td>
<td align="left" valign="top"><p>Format for the truststore</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.protocol</code></p></td>
<td align="left" valign="top"><p><code class="literal">TLS</code></p></td>
<td align="left" valign="top"><p>Protocol for security: <code class="literal">SSL</code>, <code class="literal">SSLv2</code>, <code class="literal">SSLv3</code>, <code class="literal">TLS</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.supported_protocols</code></p></td>
<td align="left" valign="top"><p><code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code></p></td>
<td align="left" valign="top"><p>Supported protocols with versions. Valid protocols: <code class="literal">SSLv2Hello</code>, <code class="literal">SSLv3</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.ciphers</code></p></td>
<td align="left" valign="top"><p><code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA</code>, <code class="literal">TLS_DHE_RSA_WITH_AES_128_CBC_SHA</code>, <code class="literal">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</code></p></td>
<td align="left" valign="top"><p>Supported cipher suites can be found in Oracle&#8217;s <a href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/SunProviders.html" class="ulink" target="_top">Java Cryptography Architecture documentation</a>. Cipher suites using key lengths greater than 128 bits require the <a class="xref" href="ciphers.html" title="Enabling Cipher Suites for Stronger Encryption">JCE Unlimited Strength Jurisdiction Policy Files</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.hostname_verification</code></p></td>
<td align="left" valign="top"><p><code class="literal">true</code></p></td>
<td align="left" valign="top"><p>Performs hostname verification on transport connections. This is enabled by default to protect against man in the middle attacks.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.hostname_verification.resolve_name</code></p></td>
<td align="left" valign="top"><p><code class="literal">true</code></p></td>
<td align="left" valign="top"><p>A reverse DNS lookup is necessary to find the hostname when connecting to a node via an IP Address. If this is disabled and IP addresses are used to connect to a node, the IP address must be specified as a <code class="literal">SubjectAlternativeName</code> when <a class="xref" href="private-key.html" title="Generate a node private key and certificate">creating the certificate</a> or hostname verification will fail. IP addresses will be used to connect to a node if they are used in following settings: <code class="literal">network.host</code>, <code class="literal">network.publish_host</code>, <code class="literal">transport.publish_host</code>, <code class="literal">transport.profiles.$PROFILE.publish_host</code>, <code class="literal">discovery.zen.ping.unicast.hosts</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.session.cache_size</code></p></td>
<td align="left" valign="top"><p><code class="literal">1000</code></p></td>
<td align="left" valign="top"><p>Number of SSL Sessions to cache in order to support session resumption. Setting the value to <code class="literal">0</code> means there is no size limit.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.ssl.session.cache_timeout</code></p></td>
<td align="left" valign="top"><p><code class="literal">24h</code></p></td>
<td align="left" valign="top"><p>The time after the creation of a SSL session before it times out. (uses the standard elasticsearch <a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/common-options.html#time-units" class="ulink" target="_top">time units</a>).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.transport.ssl</code></p></td>
<td align="left" valign="top"><p><code class="literal">false</code></p></td>
<td align="left" valign="top"><p>Set this parameter to <code class="literal">true</code> to enable SSL/TLS</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.transport.ssl.client.auth</code></p></td>
<td align="left" valign="top"><p><code class="literal">true</code></p></td>
<td align="left" valign="top"><p>Require client side certificates for transport protocol</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.transport.filter.allow</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>List of IP addresses to allow</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.transport.filter.deny</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>List of IP addresses to deny</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.http.ssl</code></p></td>
<td align="left" valign="top"><p><code class="literal">false</code></p></td>
<td align="left" valign="top"><p>Set this parameter to <code class="literal">true</code> to enable SSL/TLS</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.http.ssl.client.auth</code></p></td>
<td align="left" valign="top"><p><code class="literal">false</code></p></td>
<td align="left" valign="top"><p>Require client side certificates for HTTP</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.http.filter.allow</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>List of IP addresses to allow just for HTTP</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">shield.http.filter.deny</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>List of IP addresses to deny just for HTTP</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="table">
<a id="ref-ssl-tls-profile-settings"></a>
<p class="title"><strong>Table 26. Shield TLS/SSL settings per profile</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="Shield TLS/SSL settings per profile">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.ssl</code></p></td>
<td align="left" valign="top"><p>Same as <code class="literal">shield.transport.ssl</code></p></td>
<td align="left" valign="top"><p>Setting this parameter to true will enable SSL/TLS for this profile; false will disable SSL/TLS for this profile.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.truststore.path</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>Absolute path to the truststore of this profile</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.truststore.password</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>Password to the truststore</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.truststore.algorithm</code></p></td>
<td align="left" valign="top"><p>SunX509</p></td>
<td align="left" valign="top"><p>Format for the truststore</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.keystore.path</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>Absolute path to the keystore of this profile</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.keystore.password</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>Password to the keystore</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.keystore.key_password</code></p></td>
<td align="left" valign="top"><p>Same value as <code class="literal">transport.profiles.$PROFILE.shield.keystore.password</code></p></td>
<td align="left" valign="top"><p>Password for the private key in the keystore</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.keystore.algorithm</code></p></td>
<td align="left" valign="top"><p>SunX509</p></td>
<td align="left" valign="top"><p>Format for the keystore</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.session.cache_size</code></p></td>
<td align="left" valign="top"><p><code class="literal">1000</code></p></td>
<td align="left" valign="top"><p>Number of SSL Sessions to cache in order to support session resumption. Setting the value to <code class="literal">0</code> means there is no size limit.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.session.cache_timeout</code></p></td>
<td align="left" valign="top"><p><code class="literal">24h</code></p></td>
<td align="left" valign="top"><p>The time after the creation of a SSL session before it times out. (uses the standard elasticsearch <a href="http://www.elastic.co/guide/en/elasticsearch/reference/1.7/common-options.html#time-units" class="ulink" target="_top">time units</a>).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.filter.allow</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>List of IP addresses to allow for this profile</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.filter.deny</code></p></td>
<td align="left" valign="top"><p>None</p></td>
<td align="left" valign="top"><p>List of IP addresses to deny for this profile</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.ssl.client.auth</code></p></td>
<td align="left" valign="top"><p><code class="literal">true</code></p></td>
<td align="left" valign="top"><p>Require client side certificates</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.type</code></p></td>
<td align="left" valign="top"><p><code class="literal">node</code></p></td>
<td align="left" valign="top"><p>Defines allowed actions on this profile, allowed values: <code class="literal">node</code> and <code class="literal">client</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.ciphers</code></p></td>
<td align="left" valign="top"><p><code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA</code>, <code class="literal">TLS_DHE_RSA_WITH_AES_128_CBC_SHA</code>, <code class="literal">TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</code></p></td>
<td align="left" valign="top"><p>Supported cipher suites can be found in Oracle&#8217;s <a href="http://docs.oracle.com/javase/7/docs/technotes/guides/security/SunProviders.html" class="ulink" target="_top">Java Cryptography Architecture documentation</a>. Cipher suites using key lengths greater than 128 bits require the <a class="xref" href="ciphers.html" title="Enabling Cipher Suites for Stronger Encryption">JCE Unlimited Strength Jurisdiction Policy Files</a>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">transport.profiles.$PROFILE.shield.supported_protocols</code></p></td>
<td align="left" valign="top"><p><code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code></p></td>
<td align="left" valign="top"><p>Supported protocols with versions. Valid protocols: <code class="literal">SSLv2Hello</code>, <code class="literal">SSLv3</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<h3><a id="ref-shield-files"></a>Files used by Shield<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/shield-1.0/docs/public/shield/appendices/08-reference.asciidoc">edit</a></h3>
<p>The Shield security plugin uses the following files:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">config/shield/roles.yml</code> defines the roles in use on the cluster (read more <a class="xref" href="authorization.html#roles-file" title="The Role Definition File roles.yml">here</a>).
</li>
<li class="listitem">
<code class="literal">config/shield/users</code> defines the hashed passwords for users on the cluster (read more <a class="xref" href="esusers.html#users-file" title="The users File">here</a>).
</li>
<li class="listitem">
<code class="literal">config/shield/users_roles</code> defines the role assignments for users on the cluster (read more <a class="xref" href="esusers.html#users_roles-file" title="The users_roles File">here</a>).
</li>
<li class="listitem">
<code class="literal">config/shield/role_mapping.yml</code> defines the role assignments for LDAP or Active Directory groups (read more <a class="xref" href="ldap.html#ldap-role-mapping" title="Mapping Groups to Roles">here</a>).
</li>
<li class="listitem">
<code class="literal">config/shield/logging.yml</code> contains audit information (read more <a class="xref" href="auditing.html#logging-file" title="Default logging.yml File">here</a>).
</li>
<li class="listitem">
<code class="literal">config/shield/system_key</code> holds a cluster secret key used for message authentication (read more <a class="xref" href="getting-started.html#message-authentication" title="Message Authentication">here</a>).
</li>
</ul>
</div>
<p>Several of these files are in the YAML format. When you edit these files, be aware that YAML is indentation-level
sensitive and indentation errors can lead to configuration errors. Avoid the tab character to set indentation levels,
or use an editor that automatically expands tabs to spaces.</p>
<p>Be careful to properly escape YAML constructs such as <code class="literal">:</code> or leading exclamation points within quoted strings. Using
the <code class="literal">|</code> or <code class="literal">&gt;</code> characters to define block literals instead of escaping the problematic characters can help avoid
problems.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="trouble-shooting.html">« Appendix 7. Trouble Shooting</a>
</span>
<span class="next">
<a href="release-notes.html">Appendix 9. Release Notes »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
