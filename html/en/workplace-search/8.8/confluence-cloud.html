<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Confluence Cloud connector package | Workplace Search documentation [8.8] | Elastic</title>
<meta class="elastic" name="content" content="Confluence Cloud connector package | Workplace Search documentation [8.8]">

<link rel="home" href="index.html" title="Workplace Search documentation [8.8]"/>
<link rel="up" href="workplace-search-content-sources.html" title="Content Sources Overview"/>
<link rel="prev" href="workplace-search-confluence-cloud-connector.html" title="Connecting Confluence Cloud"/>
<link rel="next" href="workplace-search-confluence-server-connector.html" title="Connecting Confluence Server"/>
<meta class="elastic" name="product_version" content="8.8"/>
<meta class="elastic" name="product_name" content="Workplace Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Workplace Search/Guide/8.8"/>
<meta name="DC.subject" content="Workplace Search"/>
<meta name="DC.identifier" content="8.8"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://static-www.elastic.co/v3/assets/bltefdd0b53724fa2ce/blt280217a63b82a734/6202d3378b1f312528798412/elastic-logo.svg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="172" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <!--© 2015-2022 Elasticsearch B.V. -->
  <!-- All Elastic documentation is licensed under a Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License. -->
  <!-- http://creativecommons.org/licenses/by-nc-nd/4.0/ -->

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!-- Google Tag Manager for GA4 -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);})(window,document,'script','dataLayer','GTM-KNJMG2M');</script>
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KNJMG2M" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager for GA4-->

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container-fluid">
              <div class="row pb-3">
                <div class="col-12 order-2 col-md-4 order-md-1 col-lg-3 h-almost-full-md sticky-top-md" id="left_col">
                  <!-- The TOC is appended here -->
                </div>

                <div class="col-12 order-1 col-md-8 order-md-2 col-lg-7 order-lg-2 guide-section" id="middle_col">
                  <!-- start body -->
                  <div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Workplace Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="workplace-search-content-sources.html">Content Sources Overview</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="workplace-search-confluence-cloud-connector.html">« Connecting Confluence Cloud</a>
</span>
<span class="next">
<a href="workplace-search-confluence-server-connector.html">Connecting Confluence Server »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="confluence-cloud"></a>Confluence Cloud connector package<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.8/workplace-search-docs/guides/content-sources/confluence-cloud-package.asciidoc">edit</a></h2>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you do not need the flexibility provided by a connector package, you may prefer the <a class="xref" href="workplace-search-confluence-cloud-connector.html" title="Connecting Confluence Cloud">Confluence Cloud connector included with your Elastic deployment</a>.</p>
</div>
</div>
<div class="caution admon">
<div class="icon"></div>
<div class="admon_content">
<p>The connector framework is a tech preview feature.
Tech preview features are subject to change and are not covered by the support SLA of generally available (GA) features.
Elastic plans to promote this feature to GA in a future release.</p>
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Enterprise Search versions 7.15.0 and later are required to connect to Confluence Cloud.
This is due to <a href="https://community.developer.atlassian.com/t/4-aug-2021-action-required-deprecating-persistent-refresh-tokens/50348" class="ulink" target="_blank" rel="noopener">backwards incompatible API changes</a> introduced by Atlassian, the developer of Confluence Cloud.</p>
<p>Additionally, the following patch versions of Enterprise Search are not compatible with Confluence Cloud: 7.17.2, 8.1.1, and 8.1.2.
This is due to additional, <a href="https://community.developer.atlassian.com/t/action-required-update-scopes-for-forge-and-oauth-2-0-3lo-apps/53299" class="ulink" target="_blank" rel="noopener">backwards incompatible API changes</a> introduced by Atlassian.</p>
</div>
</div>
<p>Confluence Cloud is a team workspace, where knowledge and collaboration meet.
Often used as an organizational wiki and intranet, it usually houses valuable information for staff across multiple areas of businesses, large and small.</p>
<p><span class="strong strong"><strong>Use the Elastic Enterprise Search Confluence Cloud <a href="https://github.com/elastic/connectors-ruby/tree/8.3" class="ulink" target="_blank" rel="noopener">connector package</a> to deploy and run a Confluence Cloud connector on your own infrastructure.
After registering your connector package, Workplace Search automatically captures, syncs, and indexes the following items from your Confluence Cloud:</strong></span></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Spaces</strong></span></p></td>
<td align="left" valign="top"><p>Including ID, Content, Type, and timestamps</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Pages</strong></span></p></td>
<td align="left" valign="top"><p>Including ID, Content, Type, Comments, Project, Collaborators and timestamps</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Blog Posts</strong></span></p></td>
<td align="left" valign="top"><p>Including ID, Content, Type, Comments, Project, Collaborators and timestamps</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Attachments</strong></span></p></td>
<td align="left" valign="top"><p>Including ID, Size, Type, Content, Project, Collaborators and timestamps</p></td>
</tr>
</tbody>
</table>
</div>
<p>(If your deployment is not syncing as expected, see <a class="xref" href="confluence-cloud.html#confluence-cloud-external-known-issues" title="Known issues">Known issues</a>.)</p>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Check the Elastic discussion forums for the latest information about your content source</strong></p>
</div></div></div>
<p>Workplace Search allows you to index third-party content sources.
Sometimes these apps will make unanticipated API changes that impact your content syncing and require an action.
We can&#8217;t always keep up in real time in this documentation!</p>
<p>Visit the <a href="https://discuss.elastic.co/c/enterprise-search/84" class="ulink" target="_blank" rel="noopener">Elastic discussion forum</a> to read the latest information and check for known issues.</p>
</div>
<h3><a id="confluence-cloud-external-known-issues"></a>Known issues<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.8/workplace-search-docs/guides/content-sources/confluence-cloud-package.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Confluence Cloud may require 48 hours to sync new and changed documents to your Workplace Search deployment.</p>
<p>The issue affects Confluence Cloud accounts in particular timezones.
Affected accounts do not expose changes to Workplace Search during more frequent syncs.</p>
<p>The delay is caused by an <a href="https://jira.atlassian.com/browse/CONFCLOUD-70966" class="ulink" target="_blank" rel="noopener">issue in the Confluence Cloud API</a>.
Atlassian, the developer of Confluence Cloud, is aware of the issue.</p>
</li>
</ol>
</div>
<h3><a id="confluence-cloud-external-deploy-connector"></a>Deploying and running the connector<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.8/workplace-search-docs/guides/content-sources/confluence-cloud-package.asciidoc">edit</a></h3>
<p>Visit the <a href="https://github.com/elastic/connectors-ruby/tree/8.3" class="ulink" target="_blank" rel="noopener">Elastic Enterprise Search connectors repository</a> (8.3 branch).
Use the documentation in that repository to deploy and run the connector on your own infrastructure.</p>
<p>During that process you will create an API key.</p>
<p>Record the API key and the deployed connector&#8217;s URL.
You will need this information in a future step: <a class="xref" href="confluence-cloud.html#confluence-cloud-external-connector-info" title="Entering the connector information within Kibana">Entering the connector information within Kibana</a>.</p>
<h3><a id="confluence-cloud-external-configuration"></a>Configuring the Confluence Cloud Connector<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.8/workplace-search-docs/guides/content-sources/confluence-cloud-package.asciidoc">edit</a></h3>
<p>Configuring the Confluence Cloud connector is the next step prior to connecting the Confluence Cloud service to Workplace Search, and requires that you create an <span class="strong strong"><strong>OAuth App</strong></span> from the Confluence Cloud platform.
<span class="strong strong"><strong>To get started, first log in to Atlassian&#8217;s <a href="https://developer.atlassian.com/console/myapps/" class="ulink" target="_top">Developer Portal</a>:</strong></span></p>
<hr>
<p><span class="strong strong"><strong>Step 1.</strong></span> Click <span class="strong strong"><strong>Create</strong></span>, then select <span class="strong strong"><strong>OAuth 2.0 integration</strong></span>:</p>
<div id="confluence-external-1" class="imageblock screenshot">
<div class="content">
<img src="images/guides/confluence/confluence-1.png" alt="">
</div>
<div class="title">Figure 18. Connecting Confluence</div>
</div>
<hr>
<p><span class="strong strong"><strong>Step 2.</strong></span> Provide a name, agree to the terms, and click <span class="strong strong"><strong>Create</strong></span>:</p>
<div id="confluence-external-2" class="imageblock screenshot">
<div class="content">
<img src="images/guides/confluence/confluence-2.png" alt="">
</div>
<div class="title">Figure 19. Connecting Confluence</div>
</div>
<hr>
<p><span class="strong strong"><strong>Step 3.</strong></span> Click <span class="strong strong"><strong>Settings</strong></span> in the sidebar, add a description and image, and <span class="strong strong"><strong>Save changes</strong></span>.</p>
<hr>
<p><span class="strong strong"><strong>Step 4.</strong></span> Retrieve the application&#8217;s Client ID and Client Secret.
Keep them handy, we&#8217;ll need these in just a few seconds.</p>
<hr>
<p><span class="strong strong"><strong>Step 5.</strong></span> Create API access and set the right permission level.
In the sidebar, click <span class="strong strong"><strong>Authorization</strong></span>, locate <span class="strong strong"><strong>OAuth 2.0 (3LO)</strong></span>, and click <span class="strong strong"><strong>Add</strong></span>:</p>
<div id="confluence-external-3" class="imageblock screenshot">
<div class="content">
<img src="images/guides/confluence/confluence-3.png" alt="">
</div>
<div class="title">Figure 20. Connecting Confluence</div>
</div>
<hr>
<p><span class="strong strong"><strong>Step 6.</strong></span> Use the <span class="strong strong"><strong>Callback URL</strong></span> form to enter the <a href="/guide/en/enterprise-search/8.8/endpoints-ref.html#workplace-search-oauth-redirect-url" class="ulink" target="_blank" rel="noopener">Workplace Search OAuth redirect URL</a> for your deployment.</p>
<div id="confluence-external-4" class="imageblock screenshot">
<div class="content">
<img src="images/guides/confluence/confluence-4.png" alt="">
</div>
<div class="title">Figure 21. Connecting Confluence</div>
</div>
<hr>
<p><span class="strong strong"><strong>Step 7.</strong></span> A prompt appears.
Click the <span class="strong strong"><strong>Add APIs</strong></span> hyperlink.</p>
<div id="confluence-external-5" class="imageblock screenshot">
<div class="content">
<img src="images/guides/confluence/confluence-5.png" alt="">
</div>
<div class="title">Figure 22. Connecting Confluence</div>
</div>
<hr>
<p><span class="strong strong"><strong>Step 8.</strong></span> Click <span class="strong strong"><strong>Permissions</strong></span>, find Confluence API and click <span class="strong strong"><strong>Add</strong></span>, then <span class="strong strong"><strong>Configure</strong></span>:</p>
<div id="confluence-external-6" class="imageblock screenshot">
<div class="content">
<img src="images/guides/confluence/confluence-6.png" alt="">
</div>
<div class="title">Figure 23. Connecting Confluence</div>
</div>
<hr>
<p><span class="strong strong"><strong>Step 9.</strong></span> Enable a series of permissions.
<span class="strong strong"><strong>Add</strong></span> the following and save:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">read:confluence-space.summary</code> - Read Confluence space summary
</li>
<li class="listitem">
<code class="literal">read:confluence-props</code> - Read Confluence content properties
</li>
<li class="listitem">
<code class="literal">read:confluence-content.all</code> - Read Confluence detailed content
</li>
<li class="listitem">
<code class="literal">read:confluence-content.summary</code> - Read Confluence content summary
</li>
<li class="listitem">
<code class="literal">search:confluence</code> - Search Confluence content and space summaries
</li>
<li class="listitem">
<code class="literal">read:confluence-user</code> - Read user
</li>
<li class="listitem">
<code class="literal">readonly:content.attachment:confluence</code> - Download content attachments
</li>
</ul>
</div>
<hr>
<p><span class="strong strong"><strong>Step 10.</strong></span>
Next, return to Kibana to enter the connector and OAuth client information.
From the Workplace Search administrative dashboard&#8217;s <span class="strong strong"><strong>Sources</strong></span> area, locate Confluence and provide both the <span class="strong strong"><strong>Client ID</strong></span> and <span class="strong strong"><strong>Client Secret</strong></span>, as well as your Confluence instance <span class="strong strong"><strong>Base URL</strong></span>.
Do not include a trailing slash:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">https://example.atlassian.net</pre>
</div>
<h3><a id="confluence-cloud-external-connector-info"></a>Entering the connector information within Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.8/workplace-search-docs/guides/content-sources/confluence-cloud-package.asciidoc">edit</a></h3>
<p>If you started this process within Kibana, return to Kibana to enter the connector and OAuth client information.
Alternatively, if you started from this document, open Kibana now.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Navigate to
<span class="strong strong"><strong>Enterprise Search</strong></span> &#8594;
<span class="strong strong"><strong>Workplace Search</strong></span> &#8594;
<span class="strong strong"><strong>Sources</strong></span> &#8594;
<span class="strong strong"><strong>Add Source</strong></span> &#8594;
<span class="strong strong"><strong>Confluence Cloud</strong></span>.
</li>
<li class="listitem">
Choose <span class="strong strong"><strong>Configure Confluence Cloud</strong></span>.
</li>
<li class="listitem">
Locate <span class="strong strong"><strong>Connector Package</strong></span> and choose <span class="strong strong"><strong>Instructions</strong></span>.
</li>
<li class="listitem">
Enter the values you previously recorded within the fields <span class="strong strong"><strong>Connector URL</strong></span> and <span class="strong strong"><strong>Connector API key</strong></span>.
</li>
<li class="listitem">
Choose <span class="strong strong"><strong>Save configuration</strong></span>.
</li>
</ol>
</div>
<h3><a id="confluence-cloud-external-oauth-client-info"></a>Entering the OAuth client information within Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.8/workplace-search-docs/guides/content-sources/confluence-cloud-package.asciidoc">edit</a></h3>
<p>Continuing from above, you must now enter the OAuth client information within Kibana.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Enter the values you previously recorded within the fields <span class="strong strong"><strong>Client Id</strong></span> and <span class="strong strong"><strong>Client secret</strong></span>.
</li>
<li class="listitem">
Choose <span class="strong strong"><strong>Save configuration</strong></span>.
</li>
</ol>
</div>
<p>The Confluence Cloud connector is now configured, and ready to be used to synchronize content!
In order to capture data, you must now connect a Confluence Cloud instance with the adequate authentication credentials.</p>
<h3><a id="confluence-cloud-external-connection"></a>Connecting Confluence Cloud to Workplace Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.8/workplace-search-docs/guides/content-sources/confluence-cloud-package.asciidoc">edit</a></h3>
<p>Once the Confluence Cloud connector has been configured, you may connect a Confluence Cloud instance to your organization.</p>
<hr>
<p><span class="strong strong"><strong>Step 1.</strong></span> Head to your organization&#8217;s Workplace Search administrative dashboard, and locate the <span class="strong strong"><strong>Sources</strong></span> tab.</p>
<hr>
<p><span class="strong strong"><strong>Step 2.</strong></span> Click <span class="strong strong"><strong>Add a new source</strong></span>.</p>
<hr>
<p><span class="strong strong"><strong>Step 3.</strong></span> Select <span class="strong strong"><strong>Confluence Cloud</strong></span> in the <em>Configured Sources</em> list, and follow the Confluence Cloud authentication flow as presented.</p>
<hr>
<p><span class="strong strong"><strong>Step 4.</strong></span> Upon the successful authentication flow, you will be redirected to Workplace Search.</p>
<p>Confluence Cloud content will now be captured and will be ready for search gradually as it is synced. Once successfully configured and connected, the Confluence Cloud synchronization automatically occurs every <span class="strong strong"><strong>2 hours</strong></span>.</p>
<p>(If your deployment is not syncing as expected, see <a class="xref" href="confluence-cloud.html#confluence-cloud-external-known-issues" title="Known issues">Known issues</a>.)</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="confluence-cloud-external-permissions"></a>Document-level permissions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.8/workplace-search-docs/guides/content-sources/confluence-cloud-package.asciidoc">edit</a></h3>
</div></div></div>
<p>You can synchronize document access permissions from Confluence Cloud to Workplace Search.
This will ensure the right people see the right documents.</p>
<p>See <a class="xref" href="workplace-search-sources-document-permissions.html#sources-permissions-atlassian-cloud" title="Document-level permissions for Atlassian Cloud">Document-level permissions for Atlassian Cloud</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="confluence-cloud-external-fields"></a>Synchronized fields<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.8/workplace-search-docs/guides/content-sources/confluence-cloud-package.asciidoc">edit</a></h3>
</div></div></div>
<p>The following table lists the fields synchronized from the connected source to Workplace Search. The attributes in the table apply to the default search application, as follows:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Display name</strong></span> - The label used when displayed in the UI
</li>
<li class="listitem">
<span class="strong strong"><strong>Field name</strong></span> - The name of the underlying field attribute
</li>
<li class="listitem">
<span class="strong strong"><strong>Faceted filter</strong></span> - whether the field is a faceted filter by default, or can be enabled (see also: <a class="xref" href="workplace-search-customizing-filters.html" title="Customizing content source filters">Customizing filters</a>)
</li>
<li class="listitem">
<span class="strong strong"><strong>Automatic query refinement preceding phrases</strong></span> - The default list of phrases that must precede a value of this field in a search query in order to automatically trigger query refinement. If "None," a value from this field may trigger refinement regardless of where it is found in the query string. If <code class="literal">''</code>, a value from this field must be the first token(s) in the query string. If <code class="literal">N.A.</code>, automatic query refinement is not available for this field by default. All fields that have a faceted filter (<code class="literal">default</code> or <code class="literal">configurable</code>) can also be configured for automatic query refinement; see also <a class="xref" href="workplace-search-content-sources-api.html#update-content-source-api" title="Update a content source">Update a content source</a>, <a class="xref" href="workplace-search-content-sources-api.html#get-automatic-query-refinement-details-api" title="Get a content source&#8217;s automatic query refinement details">Get a content source&#8217;s automatic query refinement details</a> and <a class="xref" href="workplace-search-customizing-filters.html" title="Customizing content source filters">Customizing filters</a>.
</li>
</ul>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Display name</th>
<th align="left" valign="top">Field name</th>
<th align="left" valign="top">Faceted filter</th>
<th align="left" valign="top">Automatic query refinement preceding phrases</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Id</p></td>
<td align="left" valign="top"><p><code class="literal">id</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>URL</p></td>
<td align="left" valign="top"><p><code class="literal">url</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Title</p></td>
<td align="left" valign="top"><p><code class="literal">title</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Type</p></td>
<td align="left" valign="top"><p><code class="literal">type</code></p></td>
<td align="left" valign="top"><p>Default</p></td>
<td align="left" valign="top"><p>None</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Description</p></td>
<td align="left" valign="top"><p><code class="literal">description</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Body</p></td>
<td align="left" valign="top"><p><code class="literal">body</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Comments</p></td>
<td align="left" valign="top"><p><code class="literal">comments</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Created by</p></td>
<td align="left" valign="top"><p><code class="literal">created_by</code></p></td>
<td align="left" valign="top"><p>Default</p></td>
<td align="left" valign="top"><p>[<code class="literal">creator is</code>, <code class="literal">created by</code>, <code class="literal">edited by</code>, <code class="literal">modified by</code>]</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Project</p></td>
<td align="left" valign="top"><p><code class="literal">project</code></p></td>
<td align="left" valign="top"><p>Default</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Created at</p></td>
<td align="left" valign="top"><p><code class="literal">created_at</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Updated at</p></td>
<td align="left" valign="top"><p><code class="literal">updated_at</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Last updated</p></td>
<td align="left" valign="top"><p><code class="literal">last_updated</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Size</p></td>
<td align="left" valign="top"><p><code class="literal">size</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Container</p></td>
<td align="left" valign="top"><p><code class="literal">container</code></p></td>
<td align="left" valign="top"><p>Configurable</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Media type</p></td>
<td align="left" valign="top"><p><code class="literal">mime_type</code></p></td>
<td align="left" valign="top"><p>Configurable</p></td>
<td align="left" valign="top"><p>None</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Extension</p></td>
<td align="left" valign="top"><p><code class="literal">extension</code></p></td>
<td align="left" valign="top"><p>Configurable</p></td>
<td align="left" valign="top"><p>None</p></td>
</tr>
</tbody>
</table>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="workplace-search-confluence-cloud-connector.html">« Connecting Confluence Cloud</a>
</span>
<span class="next">
<a href="workplace-search-confluence-server-connector.html">Connecting Confluence Server »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>

                <div class="col-12 order-3 col-lg-2 order-lg-3 h-almost-full-lg sticky-top-lg" id="right_col">
                  <div id="sticky_content">
                    <!-- The OTP is appended here -->
                    <div class="row">
                      <div class="col-0 col-md-4 col-lg-0" id="bottom_left_col"></div>
                      <div class="col-12 col-md-8 col-lg-12">
                        <div id="rtpcontainer">
                          <div class="mktg-promo" id="most-popular">
                            <p class="aside-heading">Most Popular</p>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Get Started with Elasticsearch</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">Intro to Kibana</p>
                              </a>
                            </div>
                            <div class="pb-2">
                              <p class="media-type">Video</p>
                              <a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">
                                <p class="mb-0">ELK for Logs & Metrics</p>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
