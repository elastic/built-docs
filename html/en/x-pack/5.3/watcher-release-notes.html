<!DOCTYPE html>
<html lang="en-us">
  <head>
    
<meta charset="UTF-8">
<title>Watcher Release Notes (Pre-5.0) | X-Pack for the Elastic Stack [5.3] | Elastic</title>
<link rel="home" href="index.html" title="X-Pack for the Elastic Stack [5.3]"/>
<link rel="up" href="xpack-release-notes.html" title="Release Notes"/>
<link rel="prev" href="monitoring-release-notes.html" title="Marvel Release Notes (Pre-5.0)"/>
<link rel="next" href="reporting-release-notes.html" title="Reporting Release Notes (Pre-5.0)"/>
<meta name="DC.type" content="Learn/Docs/Legacy/XPack/Reference/5.3"/>
<meta name="DC.subject" content="X-Pack"/>
<meta name="DC.identifier" content="5.3"/>
<meta name="robots" content="noindex,nofollow"/>

    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://cdn.optimizely.com/js/18132920325.js"></script>
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <meta name="localized" content="true" />
    <meta name="st:robots" content="follow,index" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- Give IE8 a fighting chance -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />
  </head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>

    <!--BEGIN QUALTRICS WEBSITE FEEDBACK SNIPPET-->
    <script type='text/javascript'>
      (function(){var g=function(e,h,f,g){
      this.get=function(a){for(var a=a+"=",c=document.cookie.split(";"),b=0,e=c.length;b<e;b++){for(var d=c[b];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null};
      this.set=function(a,c){var b="",b=new Date;b.setTime(b.getTime()+6048E5);b="; expires="+b.toGMTString();document.cookie=a+"="+c+b+"; path=/; "};
      this.check=function(){var a=this.get(f);if(a)a=a.split(":");else if(100!=e)"v"==h&&(e=Math.random()>=e/100?0:100),a=[h,e,0],this.set(f,a.join(":"));else return!0;var c=a[1];if(100==c)return!0;switch(a[0]){case "v":return!1;case "r":return c=a[2]%Math.floor(100/c),a[2]++,this.set(f,a.join(":")),!c}return!0};
      this.go=function(){if(this.check()){var a=document.createElement("script");a.type="text/javascript";a.src=g;document.body&&document.body.appendChild(a)}};
      this.start=function(){var a=this;window.addEventListener?window.addEventListener("load",function(){a.go()},!1):window.attachEvent&&window.attachEvent("onload",function(){a.go()})}};
      try{(new g(100,"r","QSI_S_ZN_emkP0oSe9Qrn7kF","https://znemkp0ose9qrn7kf-elastic.siteintercept.qualtrics.com/WRSiteInterceptEngine/?Q_ZID=ZN_emkP0oSe9Qrn7kF")).start()}catch(i){}})();
    </script><div id='ZN_emkP0oSe9Qrn7kF'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
    <!--END WEBSITE FEEDBACK SNIPPET-->

    <div id='elastic-nav' style="display:none;"></div>
    <script src='https://www.elastic.co/elastic-nav.js'></script>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
                  <!-- start body -->
                  <div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.3 of the Elastic Stack has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
<a href="https://www.elastic.co/guide/index.html">current release documentation</a>.
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack [5.3]</a></span>
»
<span class="breadcrumb-link"><a href="xpack-release-notes.html">Release Notes</a></span>
»
<span class="breadcrumb-node">Watcher Release Notes (Pre-5.0)</span>
</div>
<div class="navheader">
<span class="prev">
<a href="monitoring-release-notes.html">« Marvel Release Notes (Pre-5.0)</a>
</span>
<span class="next">
<a href="reporting-release-notes.html">Reporting Release Notes (Pre-5.0) »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="watcher-release-notes"></a>Watcher Release Notes (Pre-5.0)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="watcher-change-list"></a>Change List<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h3>
<h4><a id="_2_4_2_3"></a>2.4.2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>November 22, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Deleting a watch now is independent from its current execution state in
order to prevent failed deletions with watches having small intervals
</li>
<li class="listitem">
Chain input: Parsing now throws an exception if a data structure is added, that cannot keep its order
</li>
</ul>
</div>
<h4><a id="_2_4_1"></a>2.4.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>September 28, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Fixed a serialization error that resulted in the watch history not being
written when a proxy is specified in a watch.
</li>
<li class="listitem">
Triggered watches are now correctly deleted from the <code class="literal">.triggered-watches</code>
index if they are rejected due to a full thread pool.
</li>
<li class="listitem">
Deleting or closing the <code class="literal">.watches</code> index now correctly cleans up the
in-memory watch store so the watches are no longer executed.
</li>
<li class="listitem">
If the HTTP request for an attachment fails, the error message is included
in the watch history.
</li>
<li class="listitem">
Fixed a possible exception when chained inputs don&#8217;t execute successfully.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Hostname verification can be disabled for Watcher
HTTP actions.
</li>
<li class="listitem">
Running watches can be updated and deleted.
</li>
</ul>
</div>
<h4><a id="_2_4_0_3"></a>2.4.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>August 31, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
The HTTP headers of a response are now part of the payload and can be accessed via <code class="literal">ctx.payload._headers</code>
</li>
</ul>
</div>
<h4><a id="_2_3_5_3"></a>2.3.5<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>August 3, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
The watch history was not written, if one of the chained inputs resulted in a failure as well as an input containing a field name with dots
</li>
<li class="listitem">
Status of an acked watch, whose condition evaluates to false again is now properly persisted and not lost in case of a master node switch
</li>
<li class="listitem">
Fixed the watch history template so payloads and request bodies are handled
correctly. To update an existing installation, delete the existing watch history
template by running <code class="literal">DELETE /_template/watch_history</code> and the correct template
will be autocreated. To verify the template is recreated, call <code class="literal">GET
/_template/watch_history</code>. Note that this just updates the template, so you
need to wait one day for this update to take effect when a new history index is
created.
</li>
<li class="listitem">
The <code class="literal">watcher.http.proxy.port</code> setting for global proxy configuration was not applied correctly.
</li>
</ul>
</div>
<h4><a id="_2_3_4_3"></a>2.3.4<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>July 7, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Putting a new watch with state <code class="literal">active=false</code> now stores that state correctly
on a multi node cluster.
</li>
<li class="listitem">
Fixed the watch history template so nested request bodies are handled
correctly. To update an existing installation, delete the existing watch history
template by running <code class="literal">DELETE /_template/watch_history</code> and the correct template
will be autocreated. To verify the template is recreated, call <code class="literal">GET
/_template/watch_history</code>. Note that this just updates the template, so you
need to wait one day for this update to take effect when a new history index is
created.
</li>
<li class="listitem">
The HTML sanitizer now supports border and cellpadding attributes on table
elements and the colspan and rowspan attributes on &lt;td&gt; and &lt;tr&gt; elements.
</li>
<li class="listitem">
Fixed the Watcher/Marvel examples in the documentation.
</li>
</ul>
</div>
<h4><a id="_2_3_3_3"></a>2.3.3<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>May 18, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Adds support for Elasticsearch 2.3.3
</li>
</ul>
</div>
<h4><a id="_2_3_2_3"></a>2.3.2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>April 26, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
All SMTP connection timeouts are now set to two minutes by default to prevent
a watch from getting stuck.
</li>
<li class="listitem">
HTTP headers from responses that contained dots led to exceptions when the
HTTP response was stored in the watch history. All dots in any header names
are now replaced with underscores. For example, a header called <code class="literal">foo.bar</code>
becomes <code class="literal">foo_bar</code>
</li>
<li class="listitem">
Hipchat action: Fall back to the default Hipchat color and format if they
are not specified at the account level or within the action itself, instead
of failing.
</li>
</ul>
</div>
<h4><a id="_2_3_1_3"></a>2.3.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>April 4, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Adds support for Elasticsearch 2.3.1
</li>
</ul>
</div>
<h4><a id="_2_3_0_3"></a>2.3.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>March 30, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
The http client does not do any URL escaping by itself anymore, preventing
potential wrong double escapes.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancement</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Support <code class="literal">url</code> in http requests as a shortcut for <code class="literal">path</code>, <code class="literal">scheme</code>, <code class="literal">port</code>, <code class="literal">params</code>
</li>
<li class="listitem">
Support <code class="literal">ignore_condition</code> and <code class="literal">record_execution</code> as parameters in the
<a class="xref" href="watcher-api-execute-watch.html" title="Execute Watch API">Execute Watch API</a>
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>New Features</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Added <a class="xref" href="actions-pagerduty.html" title="PagerDuty Action">PagerDuty action</a>
</li>
<li class="listitem">
Added support for adding <a class="xref" href="actions-email.html#configuring-email-attachments" title="Configuring Email Attachments">attachments to emails</a>
via HTTP requests and superceding and deprecating the usage of <code class="literal">attach_data</code>
in order to use this feature
</li>
</ul>
</div>
<h4><a id="_2_2_1_3"></a>2.2.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>March 10, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">croneval</code> CLI tool sets the correct environment to run
</li>
</ul>
</div>
<h4><a id="_2_2_0_3"></a>2.2.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>February 2, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Adds support for Elasticsearch 2.2.0.
</li>
</ul>
</div>
<h4><a id="_2_1_2_3"></a>2.1.2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>February 2, 2016</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Adds support for Elasticssearch 2.1.2
</li>
</ul>
</div>
<h4><a id="_2_1_1_3"></a>2.1.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>December 17, 2015</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue that prevented sending of emails
</li>
</ul>
</div>
<h4><a id="_2_1_0_3"></a>2.1.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>November 24, 2015</p>
<div class="ulist itemizedlist">
<p class="title"><strong>New Features</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Adds support for <a class="xref" href="input-chain.html" title="Chain Input">chaining several inputs</a>
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Adds support for Elasticsearch 2.1.0.
</li>
<li class="listitem">
Adds support for configuring a proxy in the webhook action, http input and
configuring a default proxy (which is also used by the slack action), using the
<code class="literal">watcher.http.proxy.host</code> and <code class="literal">watcher.http.proxy.port</code> settings.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue where the scheduler may get stuck during Watcher startup. This
caused no watches to ever fire.
</li>
<li class="listitem">
Fixed an issue where under specific conditions Watcher would not start if there
are not finished watch executions from the previous time that watcher was
running and those watch execution are unable the execute during the current
start process.
</li>
</ul>
</div>
<h4><a id="_2_0_1_3"></a>2.0.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>November 24, 2015</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancement</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Adds support for Elasticsearch 2.0.1.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue where under specific conditions Watcher would not start if
there are not finished watch executions from the previous time that watcher
was running and those watch execution are unable the execute during the current
start process.
</li>
</ul>
</div>
<h4><a id="_2_0_0_3"></a>2.0.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>October 28, 2015</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Breaking Changes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
The dynamic index names support has been removed and Elasticsearch&#8217;s date math
index names support should be used instead. The only difference between Watcher&#8217;s
dynamic index names support and Elasticsearch&#8217;s date math index names support is
how timezones are expressed. In Watcher this is done via node settings, in
Elasticsearch the timezone is part of the date math index names support. Only
if you&#8217;re using dynamic index names with timezones in Watcher then you need to
upgrade your watches after the upgrade, otherwise your watches will work as
they did before the upgrade. For example if <code class="literal">watcher.dynamic_indices.time_zone</code>
setting was set to <code class="literal">+01:00</code> and a watch has the following index name
<code class="literal">&lt;logstash-{now/d}&gt;</code> then after the upgrade you need to update this watch to
use the following index name <code class="literal">&lt;logstash-{now/d{YYYY.MM.dd|+01:00}}&gt;</code>.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>New Features</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Added new <a class="xref" href="actions-hipchat.html" title="HipChat Action">HipChat Action</a>
</li>
<li class="listitem">
Added new <a class="xref" href="actions-slack.html" title="Slack Action">Slack Action</a>
</li>
<li class="listitem">
Watches now have an <a class="xref" href="how-watcher-works.html#watch-active-state" title="Watch Active State">active state</a>. In addition, a new
API was added to <a class="xref" href="watcher-api-activate-watch.html" title="Activate Watch API">activate</a>/<a class="xref" href="watcher-api-deactivate-watch.html" title="Deactivate Watch API">deactivate</a>
registered watches.
</li>
<li class="listitem">
Added new <a class="xref" href="condition-array-compare.html" title="Array Compare Condition">array_compare</a>, that can compare an array
of values in the <a class="xref" href="how-watcher-works.html#watch-execution-context" title="Watch Execution Context">Watch Execution Context Model</a>
to a given value.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Watcher continuously checks if the index templates for <code class="literal">.watches</code>,
<code class="literal">.triggered_watches</code> and <code class="literal">.watch_history-*</code> exist. Whereas before the existence
of these index templates was only checked at Watcher startup time. The absence
of these index templates leads to watcher data being indexed incorrectly, which
then can cause Watcher to behave incorrectly.
</li>
<li class="listitem">
If Watcher was stopped via the stop Watcher api and after that a master
election took place then Watcher would then unexpectedly start.
</li>
<li class="listitem">
During Watcher start up only wait for the shards of the <code class="literal">.watches</code> and
<code class="literal">.triggered_watches</code> indices to be available. Before Watcher also waited for
the shards of the <code class="literal">.watch_history-*</code> indices, which wasn&#8217;t needed. This
improved time it takes for Watcher to startup.
</li>
<li class="listitem">
If <code class="literal">action.auto_create_index</code> setting has been configured then Watcher will
check if the setting is too restrictive. If the <code class="literal">action.auto_create_index</code> is
too restrictive then Watcher will fail during startup with a descriptive error
message.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
If Watcher was installed with Security then the Watcher index templates couldn&#8217;t
be stored and could lead to Watcher behaving incorrectly. This was caused by
Watcher not detecting correctly if Security was installed.
</li>
<li class="listitem">
Update <code class="literal">croneval</code> command line utility to properly handle whitespaces in the
elasticsearch home path.
</li>
<li class="listitem">
Fixed an issue where the scheduler may get stuck during Watcher startup. This
caused no watches to ever fire.
</li>
<li class="listitem">
Fixed url encoding issue in http input and webhook output. The url params were
url encoded twice.
</li>
</ul>
</div>
<h4><a id="_1_0_1_2"></a>1.0.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>July 29, 2015</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Dynamic index names now support specifying a time zone to be used when
computing the names of the indices. The default is UTC. Previously, the
computation was fixed to always use UTC when computing the names of the
indices.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Fixed a compatibility issue with Elasticsearch 1.6.1 and 1.7.2, which were
released earlier today.
</li>
</ul>
</div>
<h4><a id="_1_0_0"></a>1.0.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>June 25, 2015</p>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Added execution time aware dynamic index names support to <code class="literal">index</code>
action, <code class="literal">search</code> input, and <code class="literal">search</code> transform.
</li>
<li class="listitem">
You must now explicitly specify the unit when configuring any time value.
(Numeric-only values are no longer supported.)
</li>
<li class="listitem">
Cleaned up the <a class="xref" href="watcher-api-get-watch.html" title="Get Watch API">Get Watch API</a> response.
</li>
<li class="listitem">
Cleaned up the <a class="xref" href="watcher-api-stats.html" title="Stats API">Stats API</a> response.
</li>
</ul>
</div>
<h4><a id="_1_0_0_rc1"></a>1.0.0-rc1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>June 19, 2015</p>
<div class="ulist itemizedlist">
<p class="title"><strong>New Features</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Added <a class="xref" href="watcher-api-execute-watch.html#watcher-api-execute-inline-watch" title="Inline Watch Execution">inline watch</a> support to the Execute API
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Added execution context <a class="xref" href="how-watcher-works.html#watch-execution-context" title="Watch Execution Context">variables</a> support.
</li>
<li class="listitem">
Email html body sanitization is now <a class="xref" href="actions-email.html#email-html-sanitization" title="Configuring HTML Sanitization Options">configurable</a>.
</li>
<li class="listitem">
It is now possible to configure timeouts for http requests in
<a class="xref" href="input-http.html#http-input-attributes" title="HTTP Input Attributes">HTTP input</a> and <a class="xref" href="actions-webhook.html#webhook-action-attributes">webhook actions</a>.
</li>
</ul>
</div>
<h4><a id="_1_0_0_beta2"></a>1.0.0-Beta2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.3/docs/en/watcher/release-notes.asciidoc">edit</a></h4>
<p>June 10, 2015</p>
<div class="ulist itemizedlist">
<p class="title"><strong>New Features</strong></p>
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="actions.html#actions-ack-throttle" title="Acknowledgement and Throttling">Acking and Throttling</a> are now applied at the action
level rather than the watch level.
</li>
<li class="listitem">
Added support for <a class="xref" href="actions-index.html#anatomy-actions-index-multi-doc-support" title="Multi-Document Support">multi-doc</a>
indexing to the index action.
</li>
<li class="listitem">
Added a queued watches metric that&#8217;s accessible via the <a class="xref" href="watcher-api-stats.html" title="Stats API">Stats API</a>.
</li>
<li class="listitem">
Added a currently-executing watches metric that&#8217;s accessible via the
<a class="xref" href="watcher-api-stats.html" title="Stats API">Stats API</a>.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Enhancements</strong></p>
<ul class="itemizedlist">
<li class="listitem">
The <a class="xref" href="condition-compare.html" title="Compare Condition">compare condition</a> result now includes the value of
each field that was referenced in the comparison.
</li>
<li class="listitem">
The <a class="xref" href="watcher-api-execute-watch.html" title="Execute Watch API">Execute API</a> now supports a default trigger
event (<span class="strong strong"><strong>breaking change</strong></span>).
</li>
<li class="listitem">
The <code class="literal">watch_record</code> document structure in the <code class="literal">.watch_history-*</code> indices has
changed significantly (<span class="strong strong"><strong>breaking change</strong></span>).
</li>
<li class="listitem">
A new internal index was introduced - <code class="literal">.triggered_watches</code>
</li>
<li class="listitem">
Added support for headers in the <a class="xref" href="actions-webhook.html" title="Webhook Action">Webhook Action</a> result
and the <a class="xref" href="input-http.html" title="HTTP Input">HTTP Input</a> result.
</li>
<li class="listitem">
Add plain text response body support for the <a class="xref" href="input-http.html" title="HTTP Input">HTTP Input</a>.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<p class="title"><strong>Bug Fixes</strong></p>
<ul class="itemizedlist">
<li class="listitem">
Disallow negative time value settings for <a class="xref" href="actions.html#actions-ack-throttle" title="Acknowledgement and Throttling"><code class="literal">throttle_period</code></a>
</li>
<li class="listitem">
Added support for separate keystore and truststore in <a class="xref" href="actions-webhook.html" title="Webhook Action">Webhook Action</a>
and <a class="xref" href="input-http.html" title="HTTP Input">HTTP Input</a>.
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="monitoring-release-notes.html">« Marvel Release Notes (Pre-5.0)</a>
</span>
<span class="next">
<a href="reporting-release-notes.html">Reporting Release Notes (Pre-5.0) »</a>
</span>
</div>
</div>

                  <!-- end body -->
                </div>
                <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Most Popular</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Get Started with Elasticsearch: Video</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Intro to Kibana: Video</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/introduction-elk-stack?baymax=default&elektra=docs&storm=top-video">ELK for Logs & Metrics: Video</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'></div>
<script src='https://www.elastic.co/elastic-footer.js'></script>
<!-- Footer Section end-->

      </section>
    </div>

<script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/guide/static/jquery.js"></script>
<script type="text/javascript" src="/guide/static/docs.js"></script>
<script type="text/javascript">
  window.initial_state = {}</script>
  </body>
</html>
