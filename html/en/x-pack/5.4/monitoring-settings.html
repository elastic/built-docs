<!DOCTYPE html>
<html lang="en-us">
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Monitoring Settings
        | X-Pack for the Elastic Stack [5.4]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="X-Pack for the Elastic Stack [5.4]" /><link rel="up" href="xpack-settings.html" title="X-Pack Settings" /><link rel="prev" href="ml-settings.html" title="Machine Learning Settings" /><link rel="next" href="reporting-settings.html" title="Reporting Settings" /><meta name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta name="DC.type" content="Learn/Docs/Legacy/XPack/Reference/5.4" /><meta name="DC.subject" content="X-Pack" /><meta name="DC.identifier" content="5.4" /><meta name="robots" content="noindex,nofollow" />
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png">
    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/android-chrome-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
    <link rel="manifest" href="/manifest.json">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ffffff">
    <meta name="apple-mobile-web-app-title" content="Elastic">
    <meta name="application-name" content="Elastic">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <meta name="naver-site-verification" content="936882c1853b701b3cef3721758d80535413dbfd" />
    <meta name="yandex-verification" content="d8a47e95d0972434" />
    <!-- DC tags section -->
    <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" >
    <link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" >
    
    <!-- end DC tags -->
    <meta name="description" content="" />
    <meta name="localized" content="true" />
    <meta property="og:image" content="https://www.elastic.co/static/images/elastic-logo-200.png" />
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="64x64" href="/favicon_64x64_16bit.png">
    <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="32x32" href="/favicon_32x32.png">
    <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="16x16" href="/favicon_16x16.png">
    <!-- css -->
    <link href="/static/css/main.css" rel="stylesheet">
    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/jquery.cookie.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script type="text/javascript">
      // -------------------- set language based on browser language --------------------
      var lang = '/'+(navigator.language || navigator.userLanguage).slice(0,2)+'/',
      locales = {
        '/en':'/',
        '/de/': '/de/',
        '/fr/': '/fr/',
        '/ja/':'/jp/',
        '/ko/':'/kr/',
        '/zh/':'/cn/',
        '/es/': '/es/'
      },
      localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}',
      currentlocale = JSON.parse(localeUrl).relative_url_prefix;

      if($.cookie("is_lang_detected") == undefined){
        if(locales[lang] != undefined && locales[lang] != currentlocale){
          locale_lang_url = locales[lang] + window.location.pathname.slice(1,window.location.pathname.length);
          $.cookie("is_lang_detected",true ,{ path: '/'});
          window.location = locale_lang_url;
        }
      }
            
      // --------------------- end of set language based on browser language -----------------
    </script>
    <link type="text/css" rel="stylesheet" href="/static/css/guide.css" />
  
<link rel="stylesheet" type="text/css" href="/guide/static/styles.css" />

</head>

  <body>
    <!-- Google Tag Manager -->
    <script>dataLayer = [];</script><noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-58RLH5" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src= '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-58RLH5');</script>
    <!-- End Google Tag Manager -->
    
    <!-- new ga for staging server -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-12395217-16"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-12395217-16');
    </script>
    <!-- new ga for staging server -->

    <!-- Elastic APM -->
    <!--
    <script src="https://www.elastic.co/static/js/elastic-apm-js-base.umd.min.2.2.0.js"></script>
    <script type="text/javascript">
      var elasticApm = init({
        serviceName: 'elastic-co-frontend',
        serverUrl: 'https://3ddd1ee09cc242c4b169d36f5a2b8b77.apm.us-west1.gcp.cloud.es.io:443',
        stackTraceLimit: 5,
        serviceVersion: '1.0.0'
      })
    
      var pageLoadName
      var pathname = window.location.pathname.replace(/\/es|\/pt|\/jp|\/pt|\/fr|\/kr|\/cn|\/de/g, '')
      var parts = pathname.split('/');
    
      if (parts.length && parts[1] === 'blog') {
        if (parts.length === 2) {
          pageLoadName =  '/blog';
        }
        else if (parts[2] === 'category') {
          pageLoadName =  '/blog/category';
        }
        else if (parts[2] === 'archive') {
          pageLoadName =  '/blog/archive';
        }
        else {
          pageLoadName =  '/blog/detail';
        }
      }
      else if (parts.length && parts[1] === 'elasticon') {
        if (parts.length === 2) {
          pageLoadName =  '/elasticon';
        }
        else if (parts.length === 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/overview';
        }
        else if (parts.length > 5 && (parts[2] === 'conf' || parts[2] === 'tour')) {
          pageLoadName =  '/elasticon/video';
        }
      }
      else if (parts.length && parts[1] === 'guide') {
        pageLoadName =  '/guide';
      }
      else if (parts.length === 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos';
      }
      else if (parts.length > 2 && parts[1] === 'videos') {
        pageLoadName =  '/videos/detail';
      }
      else if (parts.length > 2 && parts[1] === 'webinars') {
        pageLoadName =  '/webinars/detail';
      }
      else {
        pageLoadName =  window.location.pathname;
      }
    
      console.log('apm pageLoadName:', pageLoadName, parts)
      elasticApm.setTags({env:"production"});
      elasticApm.setInitialPageLoadName(pageLoadName);
    </script>
    -->

    <!-- Header Section -->
    
    <div id='elastic-nav'></div>

    <!-- Subnav -->
    <div>
      <div>
        <div class="tertiary-nav d-none d-md-block">
          <div class="container">
            <div class="p-t-b-15 d-flex justify-content-between nav-container">
              <div class="breadcrum-wrapper"><span><a href="/guide/" style="font-size: 14px; font-weight: 600; color: #000;">Docs</a></span></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <link rel="stylesheet" type="text/css" href="/static/css/horizon-swiper.min.css">

    <style> 
      .m-shortcuts li a.m-search {
        background: url("/assets/blt7b9c4fe6528dc4ef/m-search-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-docs {
        background: url("/assets/blt44d8b7530a76d01c/m-guide-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}

      .m-shortcuts li a.m-contact {
        background: url("/assets/blt878040795c9d083b/m-contact-icon.png") no-repeat scroll center center rgba(0, 0, 0, 0);
        background-size: contain;}
    </style>

    <script type="text/javascript" src="/static/js/horizon-swiper.min.js"></script>

    <script type="text/javascript">
      $(document).ready( function(){
        // if($('#scrollable-pane li').length > 3){
          $('.horizon-swiper').horizonSwiper({
            showItems: 3,
            arrows: true
          }); 
        // }
        
        $('.navbar-toggle').on('click', function(){
          $('.mobile-navigation, .menu-open').hide();
          $('.navigation-wrapper').addClass('mobile-navigation');
          $('.navbar').addClass('menu-open');
          $('.menu-close').show();
        });
        $('.menu-close').on('click', function(){
          $('.navigation-wrapper').removeClass('mobile-navigation');
          $('.navbar').removeClass('menu-open');
          $('.menu-close').hide();
        });
    
        var active_url = "";
    
        $(".navbar-mobile-header-icon").click(function(index){
          $('.navigation-wrapper').toggleClass('menu-overlay');
          $(this).toggleClass("navbar-mobile-header-icon-click navbar-mobile-header-icon-out");
          $(".mobile-inner-nav").slideToggle(500);
          $(".mobile-inner-nav .navbar-nav a").each(function( index ) {
            $(this).css({'animation-delay': (index/25)+'0.4s'});
          });
        });
    
        $('.dropdown-btn').on('click', function(e){
          e.preventDefault();
          setDropdown();
        });
        
        function setDropdown() {
          $('#myDropdown').slideToggle();
        }
    
        $('body').on('click', function(event){
          if (!event.target.matches('.dropdown-btn')) {
    
            var dropdowns = $(".dropdown-content");
            var i;
            for (i = 0; i < dropdowns.length; i++) {
              var openDropdown = dropdowns[i];
              if (openDropdown.classList.contains('show')) {
                openDropdown.classList.remove('show');
              }
            }
          }
        });
    
      });
      $(window).resize(function () {
        $('.horizon-swiper').horizonSwiper({
          showItems: 3,
          arrows: true
        });
      });
    </script>

    <div class="main-container">
      <section id="content" >
        <div class="content-wrapper">   

          <section id="guide" lang="en">
            <div class="container">
              <div class="row">
                <!-- start body -->
                
            <div class="col-xs-12 col-sm-8 col-md-8 guide-section">
            <!-- start body -->
<div class="page_header">Why not take our <a href="https://www.elastic.co/products/x-pack/machine-learning">machine learning</a> beta for a spin and join us in the <a href="https://discuss.elastic.co/c/x-pack">public X-Pack forum</a>?
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack
      [5.4]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-settings.html">X-Pack Settings</a></span> » <span class="breadcrumb-node">Monitoring Settings</span></div><div class="navheader"><span class="prev"><a href="ml-settings.html">
              « 
              Machine Learning Settings</a>
           
        </span><span class="next">
           
          <a href="reporting-settings.html">Reporting Settings
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="monitoring-settings"></a>Monitoring Settings</h2></div></div></div><p>Monitoring is enabled by default when you install X-Pack. You can use monitoring
settings in the <code class="literal">elasticsearch.yml</code>, <code class="literal">kibana.yml</code>, and <code class="literal">logstash.yml</code> files to
configure monitoring. For more information, see
<a class="link" href="configuring-monitoring.html" title="Configuring Monitoring">Configuring Monitoring</a>.</p><h3><a id="general-monitoring-settings"></a>General Monitoring Settings</h3><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.monitoring.enabled</code></span></dt><dd>Set to <code class="literal">false</code> to disable Elasticsearch X-Pack monitoring on the node.
Configure in both <code class="literal">elasticsearch.yml</code> and <code class="literal">kibana.yml</code>.</dd></dl></div><h3><a id="monitoring-collection-settings"></a>Monitoring Collection Settings</h3><p>You can set the following <code class="literal">xpack.monitoring.collection</code> settings in
<code class="literal">elasticsearch.yml</code> to control how data is collected from your Elasticsearch nodes.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.monitoring.collection.cluster.state.timeout</code></span></dt><dd>Sets the timeout for collecting the cluster state. Defaults to <code class="literal">10s</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.collection.cluster.stats.timeout</code></span></dt><dd>Sets the timeout for collecting the cluster statistics. Defaults to <code class="literal">10s</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.collection.indices</code></span></dt><dd><p class="simpara">Controls which indices Monitoring collects data from. Defaults to all indices. Specify the index names
as a comma-separated list, for example <code class="literal">test1,test2,test3</code>. Names can include wildcards, for
example <code class="literal">test*</code>. You can explicitly include or exclude indices by prepending
<code class="literal">+</code> to include the index, or <code class="literal">-</code> to exclude the index. For example, to include all indices that
start with <code class="literal">test</code> except <code class="literal">test3</code>, you could specify <code class="literal">+test*,-test3</code>.</p><p class="simpara">You can update this setting through the Cluster Update Settings API.</p></dd><dt><span class="term"><code class="literal">xpack.monitoring.collection.index.stats.timeout</code></span></dt><dd>Sets the timeout for collecting index statistics. Defaults to <code class="literal">10s</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.collection.indices.stats.timeout</code></span></dt><dd>Sets the timeout for collecting total indices statistics. Defaults to <code class="literal">10s</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.exporters</code> </span></dt><dd>Configures where the agent stores monitoring data. By default, the agent uses a local exporter that
indexes monitoring data on the cluster where it is installed. Use an HTTP exporter to send data to
a separate monitoring cluster. For more information, see <a class="link" href="monitoring-cluster.html" title="Monitoring Elasticsearch">Setting up a Separate
Monitoring Cluster</a>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.collection.index.recovery.active_only</code></span></dt><dd>Controls whether or not all recoveries are collected. Set to <code class="literal">true</code> to
collect only active recoveries. Defaults to <code class="literal">false</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.collection.index.recovery.timeout</code></span></dt><dd>Sets the timeout for collecting the recovery information. Defaults to <code class="literal">10s</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.collection.interval</code></span></dt><dd>Controls how often data samples are collected. Defaults to <code class="literal">10s</code>. If you
modify the collection interval, set the <code class="literal">xpack.monitoring.min_interval_seconds</code>
option in <code class="literal">kibana.yml</code> to the same value. Set to <code class="literal">-1</code> to temporarily disable
data collection. You can update this setting through the Cluster Update
Settings API.</dd><dt><span class="term"><code class="literal">xpack.monitoring.history.duration</code></span></dt><dd><p class="simpara">Sets the retention duration beyond which the indices created by a Monitoring exporter will
be automatically deleted. Defaults to <code class="literal">7d</code> (7 days).</p><p class="simpara">This setting has a minimum value of <code class="literal">1d</code> (1 day) to ensure that something is being monitored,
and it cannot be disabled.</p><div class="important admon"><div class="icon"><img alt="Important" src="images/icons/important.png" /></div><div class="admon_content"><p>This setting currently only impacts <code class="literal">local</code>-type exporters. Indices created using
the <code class="literal">http</code> exporter will not be deleted automatically.</p></div></div></dd></dl></div><h3><a id="monitoring-ui-settings"></a>Monitoring UI Settings</h3><p>You can set the following <code class="literal">xpack.monitoring</code> settings in <code class="literal">kibana.yml</code> to adjust
how the Monitoring UI displays monitoring data. However, the defaults work best
in most circumstances. For more information about configuring Kibana, see
<a class="ulink" href="http://www.elastic.co/guide/en/kibana/5.4/settings.html" target="_top">Setting Kibana Server Properties</a> in the Kibana User
Guide.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.monitoring.elasticsearch.url</code></span></dt><dd>The location of the Elasticsearch instance(s) where your monitoring data is
stored. By default, this is the same as the <code class="literal">elasticsearch.url</code>. This setting
enables you to use a single Kibana instance to search and visualize data in
your production cluster as well as monitor data sent to a dedicated monitoring
cluster.</dd><dt><span class="term"><code class="literal">xpack.monitoring.kibana.collection.enabled</code></span></dt><dd>Whether or not to enable data collection from the Kibana NodeJS server for
Kibana Dashboards to be featured in the Monitoring UI. Defaults to <code class="literal">true</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.kibana.collection.interval</code></span></dt><dd>Number of milliseconds to wait in between data sampling for Kibana’s NodeJS
server for the metrics that are displayed in the Kibana dashboards. Defaults to
<code class="literal">10000</code> (10 seconds).</dd><dt><span class="term"><code class="literal">xpack.monitoring.max_bucket_size</code></span></dt><dd>The number of term buckets to return out of the overall terms list when
performing terms aggregations to retrieve index and node metrics. For more
information about the <code class="literal">size</code> parameter, see <a class="ulink" href="http://www.elastic.co/guide/en/elasticsearch/reference/5.4/search-aggregations-bucket-terms-aggregation.html#_size" target="_top">
Terms Aggregation</a> in the Elasticsearch Reference. Defaults to 10000.</dd><dt><span class="term"><code class="literal">xpack.monitoring.min_interval_seconds</code></span></dt><dd>The minimum number of seconds that a time bucket in a chart can represent.
Defaults to 10. If you modify the <code class="literal">xpack.monitoring.collection.interval</code>
in <code class="literal">elasticsearch.yml</code>, set this option to the same value.</dd><dt><span class="term"><code class="literal">xpack.monitoring.node_resolver</code></span></dt><dd>The node resolver controls how nodes are considered unique. This can be set to either <code class="literal">uuid</code>,
<code class="literal">transport_address</code>, or <code class="literal">name</code>. <code class="literal">uuid</code> controls uniqueness based on the node’s persistent ID.
<code class="literal">transport_address</code> controls uniqueness based on the node’s published
hostname/IP and port. <code class="literal">name</code> controls uniqueness based on the node’s <code class="literal">node.name</code> setting. Defaults to
<code class="literal">uuid</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.report_stats</code></span></dt><dd>Whether or not to send cluster statistics to Elastic. Reporting your cluster statistics
helps us improve your user experience. Your data is never shared with anyone. Set to
<code class="literal">false</code> to disable statistics reporting from any browser connected to the Kibana instance.
You can also opt-out through Kibana’s Advanced Settings. Defaults to <code class="literal">true</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.ui.enabled</code></span></dt><dd>Set to <code class="literal">false</code> to hide the Monitoring UI in Kibana. The Monitoring back-end
continues to run as an agent for sending Kibana stats to the Monitoring
cluster. Defaults to <code class="literal">true</code>.</dd></dl></div><h4><a id="monitoring-ui-cgroup-settings"></a>Monitoring UI Container Settings</h4><p>The Monitoring UI exposes the Cgroup statistics that we collect for you to make better decisions
about your container performance, rather than guessing based on the overall machine performance.
If you are not running your applications in a container, then Cgroup statistics will not be useful.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.monitoring.ui.container.elasticsearch.enabled</code></span></dt><dd><p class="simpara">For Elasticsearch clusters that are running in containers, this setting changes the Node Listing to
display the CPU Utilization based on the reported Cgroup statistics. This will also add the calculated
Cgroup CPU Utilization to the Node Overview page instead of the overall operating system’s CPU
Utilization. Defaults to <code class="literal">false</code>.</p><div class="informalfigure"><div class="mediaobject"><img src="images/monitoring-es-cgroup-true.png" alt="Elasticsearch Inside a Container" /></div></div></dd></dl></div><h4><a id="local-exporter-settings"></a>Local Exporter Settings</h4><p>The <code class="literal">local</code> exporter is the default exporter used by Monitoring. As the name is
meant to imply, it exports data to the <span class="emphasis"><em>local</em></span> cluster, which means that there
is not much needed to be configured.</p><p>If you do not supply <span class="emphasis"><em>any</em></span> exporters, then Monitoring will automatically create
one for you. If any exporter is provided, then no default is added.</p><p>You can configure the following settings in the <code class="literal">elasticsearch.yml</code> file, for
example:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">xpack.monitoring.exporters.my_local:
  type: local</pre></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">type</code></span></dt><dd>The value for a Local exporter must always be <code class="literal">local</code> and it is required.</dd><dt><span class="term"><code class="literal">use_ingest</code></span></dt><dd>Whether to supply a placeholder pipeline to the cluster and a pipeline processor with
every bulk request. The default value is <code class="literal">true</code>. If disabled, then it means that it will not
use pipelines, which means that a future release cannot automatically upgrade bulk requests
to future-proof them.</dd><dt><span class="term"><code class="literal">cluster_alerts.management.enabled</code></span></dt><dd>Whether to create cluster alerts for this cluster. The default value is <code class="literal">true</code>.
To use this feature, Watcher must be enabled.  If you have a basic license,
cluster alerts are not displayed. <span class="added">
      [<span class="version">5.4.3</span>]
      <span class="detail">Added in 5.4.3. </span></span>
</dd></dl></div><h4><a id="http-exporter-settings"></a>HTTP Exporter Settings</h4><p>You can configure the following settings that can be supplied with the <code class="literal">http</code>
exporter in the <code class="literal">elasticsearch.yml</code> file. All settings are shown as what follows
the name you select for your exporter:</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">xpack.monitoring.exporters.my_remote:
  type: http
  host: ["host:port", ...]</pre></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">type</code></span></dt><dd>The value for an HTTP exporter must always be <code class="literal">http</code> and it is required.</dd><dt><span class="term"><code class="literal">host</code></span></dt><dd><p class="simpara">Host supports multiple formats, both as an array or as a single value. Supported formats include
<code class="literal">hostname</code>, <code class="literal">hostname:port</code>, <code class="literal">http://hostname</code> <code class="literal">http://hostname:port</code>, <code class="literal">https://hostname</code>, and
<code class="literal">https://hostname:port</code>. Hosts cannot be assumed. The default scheme is always <code class="literal">http</code> and the default
port is always <code class="literal">9200</code> if not supplied as part of the <code class="literal">host</code> string.</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">xpack.monitoring.exporters:
  example1:
    type: http
    host: "10.1.2.3"
  example2:
    type: http
    host: ["http://10.1.2.4"]
  example3:
    type: http
    host: ["10.1.2.5", "10.1.2.6"]
  example4:
    type: http
    host: ["https://10.1.2.3:9200"]</pre></div></dd><dt><span class="term"><code class="literal">auth.username</code></span></dt><dd>The username is required if a <code class="literal">auth.password</code> is supplied.</dd><dt><span class="term"><code class="literal">auth.password</code></span></dt><dd>The password for the <code class="literal">auth.username</code>.</dd><dt><span class="term"><code class="literal">connection.timeout</code></span></dt><dd>The amount of time that the HTTP connection is supposed to wait for a socket to open for the
request. The default value is <code class="literal">6s</code>.</dd><dt><span class="term"><code class="literal">connection.read_timeout</code></span></dt><dd>The amount of time that the HTTP connection is supposed to wait for a socket to
send back a response. The default value is <code class="literal">10 * connection.timeout</code> (<code class="literal">60s</code> if neither are set).</dd><dt><span class="term"><code class="literal">ssl</code></span></dt><dd>Each HTTP exporter can define its own TLS / SSL settings or inherit them. See the
<a class="link" href="monitoring-settings.html#ssl-monitoring-settings" title="X-Pack monitoring TLS/SSL Settings">TLS / SSL section below</a>.</dd><dt><span class="term"><code class="literal">proxy.base_path</code></span></dt><dd>The base path to prefix any outgoing request, such as <code class="literal">/base/path</code> (e.g., bulk requests would
then be sent as <code class="literal">/base/path/_bulk</code>). There is no default value.</dd><dt><span class="term"><code class="literal">headers</code></span></dt><dd><p class="simpara">Optional headers that are added to every request, which can assist with routing requests through
proxies.</p><div class="pre_wrapper lang-yaml"><pre class="programlisting prettyprint lang-yaml">xpack.monitoring.exporters.my_remote:
  headers:
    X-My-Array: [abc, def, xyz]
    X-My-Header: abc123</pre></div><p class="simpara">Array-based headers are sent <code class="literal">n</code> times where <code class="literal">n</code> is the size of the array. <code class="literal">Content-Type</code>
and <code class="literal">Content-Length</code> cannot be set. Any headers created by the Monitoring agent will override
anything defined here.</p></dd><dt><span class="term"><code class="literal">index.name.time_format</code></span></dt><dd>A mechanism for changing the default date suffix for the, by default, daily Monitoring indices.
The default value is <code class="literal">YYYY.MM.DD</code>, which is why the indices are created daily.</dd><dt><span class="term"><code class="literal">use_ingest</code></span></dt><dd>Whether to supply a placeholder pipeline to the monitoring cluster and a pipeline processor with
every bulk request. The default value is <code class="literal">true</code>. If disabled, then it means that it will not
use pipelines, which means that a future release cannot automatically upgrade bulk requests
to future-proof them.</dd><dt><span class="term"><code class="literal">cluster_alerts.management.enabled</code></span></dt><dd>Whether to create cluster alerts for this cluster. The default value is <code class="literal">true</code>.
To use this feature, Watcher must be enabled.  If you have a basic license,
cluster alerts are not displayed. <span class="added">
      [<span class="version">5.4.0</span>]
      <span class="detail">Added in 5.4.0. </span></span>
</dd></dl></div><h3><a id="ssl-monitoring-settings"></a>X-Pack monitoring TLS/SSL Settings</h3><p>You can configure the following TLS/SSL settings. If the settings are not configured,
the <a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL Settings">X-Pack defaults</a> will be used.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.supported_protocols</code></span></dt><dd>Supported protocols with versions. Valid protocols: <code class="literal">SSLv2Hello</code>,
<code class="literal">SSLv3</code>, <code class="literal">TLSv1</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code>. Defaults to <code class="literal">TLSv1.2</code>, <code class="literal">TLSv1.1</code>,
<code class="literal">TLSv1</code>. Defaults to the value of <code class="literal">xpack.ssl.supported_protocols</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.verification_mode</code></span></dt><dd>Controls the verification of certificates. Valid values are <code class="literal">none</code>,
<code class="literal">certificate</code>, and <code class="literal">full</code>. Defaults to the value of <code class="literal">xpack.ssl.verification_mode</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.cipher_suites</code></span></dt><dd>Supported cipher suites can be found in Oracle’s <a class="ulink" href="http://docs.oracle.com/javase/8/docs/technotes/guides/security/SunProviders.html" target="_top">
Java Cryptography Architecture documentation</a>. Defaults to the value of
<code class="literal">xpack.ssl.cipher_suites</code>.</dd></dl></div><h4><a id="_x_pack_monitoring_tlsssl_key_and_trusted_certificate_settings"></a>X-Pack monitoring TLS/SSL Key and Trusted Certificate Settings</h4><p>The following settings are used to specify a private key, certificate, and the
trusted certificates that should be used when communicating over an SSL/TLS connection.
If none of the settings below are specified, this will default to the <a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL Settings">X-Pack
defaults</a>.
A private key and certificate are optional and would be used if the server requires client authentication for PKI
authentication.
If none of the settings below are specified, the <a class="link" href="security-settings.html#ssl-tls-settings" title="Default TLS/SSL Settings">X-Pack defaults</a> will be used.</p><h5><a id="_pem_encoded_files"></a>PEM Encoded Files</h5><p>When using PEM encoded files, use the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.key</code></span></dt><dd>Path to a PEM encoded file containing the private key.</dd><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.key_passphrase</code></span></dt><dd>The passphrase that will be used to decrypt the private key. This value is
optional as the key may not be encrypted.</dd><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.certificate</code></span></dt><dd>Path to a PEM encoded file containing the certificate (or certificate chain)
that will be presented when requested.</dd><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.certificate_authorities</code></span></dt><dd>List of paths to the PEM encoded certificate files that should be trusted.</dd></dl></div><h5><a id="_java_keystore_files"></a>Java Keystore Files</h5><p>When using Java keystore files (JKS), which contain the private key, certificate
and certificates that should be trusted, use the following settings:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.keystore.path</code></span></dt><dd>Path to the keystore that holds the private key and certificate.</dd><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.keystore.password</code></span></dt><dd>Password to the keystore.</dd><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.keystore.key_password</code></span></dt><dd>Password for the private key in the keystore. Defaults to the
same value as <code class="literal">xpack.monitoring.exporters.$NAME.ssl.keystore.password</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.truststore.path</code></span></dt><dd>Path to the truststore file.</dd><dt><span class="term"><code class="literal">xpack.monitoring.exporters.$NAME.ssl.truststore.password</code></span></dt><dd>Password to the truststore.</dd></dl></div><h3><a id="monitoring-logstash-settings"></a>Monitoring Logstash Settings</h3><p>You can set the following <code class="literal">xpack.monitoring</code> settings in <code class="literal">logstash.yml</code> to control how monitoring data is
collected from your Logstash nodes. However, the defaults work best in most circumstances. For more
information about configuring Logstash, see <a class="ulink" href="http://www.elastic.co/guide/en/logstash/5.4/logstash-settings-file.html" target="_top">Settings File</a>
section.</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">xpack.monitoring.enabled</code></span></dt><dd>Set to <code class="literal">false</code> to disable X-Pack monitoring.</dd><dt><span class="term"><code class="literal">xpack.monitoring.collection.interval</code></span></dt><dd>Controls how often data samples are collected and shipped on the Logstash side. Defaults to <code class="literal">10s</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.elasticsearch.url</code></span></dt><dd>The Elasticsearch instance(s) that you want to ship your Logstash metrics to.
This might be the same Elasticsearch instance specified in the <code class="literal">outputs</code>
section in your Logstash configuration, or a different one. This is <span class="strong strong"><strong>not</strong></span>
the URL of your dedicated monitoring cluster. Even if you are using a dedicated
monitoring cluster, the Logstash metrics must be routed through your production
cluster. You can specify a single host as a string, or specify multiple
hosts as an array. Defaults to <code class="literal">http://localhost:9200</code>.</dd><dt><span class="term"><code class="literal">xpack.monitoring.elasticsearch.username</code> and <code class="literal">xpack.monitoring.elasticsearch.password</code></span></dt><dd>If your Elasticsearch is protected with basic authentication, these settings provide the username and
password that the Logstash instance uses to authenticate for shipping monitoring data.</dd><dt><span class="term"><code class="literal">xpack.monitoring.elasticsearch.ssl.ca</code></span></dt><dd>Optional setting that enables you to specify a path to the <code class="literal">.pem</code> file for the certificate authority for your Elasticsearch instance.</dd><dt><span class="term"><code class="literal">xpack.monitoring.elasticsearch.ssl.truststore.path</code></span></dt><dd>Optional settings that provide the paths to the Java keystore (JKS) to validate the server’s certificate.</dd><dt><span class="term"><code class="literal">xpack.monitoring.elasticsearch.ssl.truststore.password</code></span></dt><dd>Optional settings that provide the password to the truststore.</dd><dt><span class="term"><code class="literal">xpack.monitoring.elasticsearch.ssl.keystore.path</code></span></dt><dd>Optional settings that provide the paths to the Java keystore (JKS) to validate the client’s certificate.</dd><dt><span class="term"><code class="literal">xpack.monitoring.elasticsearch.ssl.keystore.password</code></span></dt><dd>Optional settings that provide the password to the keystore.</dd></dl></div></div><div class="navfooter"><span class="prev"><a href="ml-settings.html">
              « 
              Machine Learning Settings</a>
           
        </span><span class="next">
           
          <a href="reporting-settings.html">Reporting Settings
               »
            </a></span></div>
<!-- end body -->

            </div>
            <div class="col-xs-12 col-sm-4 col-md-4" id="right_col">
        
                  <div id="rtpcontainer" style="display: block;">
                    <div class="mktg-promo">
                      <h3>Getting Started Videos</h3>
                      <ul class="icons">
                        <li class="icon-elasticsearch-white"><a href="https://www.elastic.co/webinars/getting-started-elasticsearch?baymax=default&elektra=docs&storm=top-video">Starting Elasticsearch</a></li>
                        <li class="icon-kibana-white"><a href="https://www.elastic.co/webinars/getting-started-kibana?baymax=default&elektra=docs&storm=top-video">Introduction to Kibana</a></li>
                        <li class="icon-logstash-white"><a href="https://www.elastic.co/webinars/getting-started-logstash?baymax=default&elektra=docs&storm=top-video">Logstash Starter Guide</a></li>
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>

        </div>


<div id='elastic-footer'</div>
<!-- Footer Section end-->

<script src='https://www.elastic.co/elastic-nav.js'></script>
<script src='https://www.elastic.co/elastic-footer.js'></script>

<style type="text/css">
	
        
            .Facebook a {background:url("/assets/bltf546ff2e0a8f2de5/facebook.svg") no-repeat;}
            .Facebook a:before {
                content: url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Facebook a:hover {background:url("/assets/bltc24cf11c714ecfc4/facebook-hover.svg")}		
        
	
        
            .Twitter a {background:url("/assets/bltdd9556d6b24e2b85/twitter.svg") no-repeat;}
            .Twitter a:before {
                content: url("/assets/blt90b0372cc07a54d3/twitter-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Twitter a:hover {background:url("/assets/blt90b0372cc07a54d3/twitter-hover.svg")}		
        
	
        
            .LinkedIn a {background:url("/assets/bltc4a77e0f52ce07f1/linkedin.svg") no-repeat;}
            .LinkedIn a:before {
                content: url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .LinkedIn a:hover {background:url("/assets/blt01ce654380e4ea6c/linkedin-hover.svg")}		
        
	
        
            .Xing a {background:url("/assets/bltc6347078dcc9ec76/xing.svg") no-repeat;}
            .Xing a:before {
                content: url("/assets/bltededebe5f7521a39/xing-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .Xing a:hover {background:url("/assets/bltededebe5f7521a39/xing-hover.svg")}		
        
	
        
            .YouTube a {background:url("/assets/blt4982061ce1aebc7f/youtube.svg") no-repeat;}
            .YouTube a:before {
                content: url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg");
                width:0;
                height:0;
                visibility:hidden;
            }
        
        
            .YouTube a:hover {background:url("/assets/bltddeb6c6404ae81a5/youtube-hover.svg")}		
        
	
</style>

<script src="//app-lon02.marketo.com/js/forms2/js/forms2.min.js"></script>
<script>
$(document).ready(function(){

    var ipSuccess = function(data) {
        country = data.country_code;
        if (data.in_eu){
                        
            marketo_id = "6196";
            
        }else{ 
            marketo_id = "1398";

        }

        $('.subscribe-form form.sb-form').attr('id', 'mktoForm_' + marketo_id);
        if(window.MktoForms2){
            MktoForms2.loadForm("//app-lon02.marketo.com", "813-MAM-392", marketo_id,function(form){
                form.onSuccess(function(form){
                    $('#mktoForm_'+marketo_id).css('display','none');
                    $('.subscribe-wrapper .subscribe-form-container').hide();
                    $('.subscribe-wrapper').find('.form_thanks').removeClass('hide')
                    dataLayer.push({'event': 'mktoFormSubmit'});
                    return false;
                });
            });  
        }
    }

    var marketo_id;

    $.ajax({
        url: "/gdpr-data"
    }).success(function(data) {
        ipSuccess(data);
    });

})
</script>

      </section>
    </div>

    
     <script type="text/javascript">
	var suggestionsUrl = "https://search.elastic.co/suggest";
	var localeUrl = '{"relative_url_prefix":"/","code":"en-us","display_code":"en-us","url":"/guide_template"}';
</script>
<script src="/static/js/swiftype_app_search.umd.min.js"></script>
<script src="/static/js/jquery.autocomplete.js"></script>
<script type="text/javascript" src="/static/js/slick.min.js"></script>
<script src="/static/js/nav-v5.js"></script>
<script src="/static/js/script.js"></script>

  
            <script type="text/javascript" src="/guide/static/docs.js"></script>
<script type='text/javascript' src='https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?lang=yaml'></script>

            </body>
        
</html>
