<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>地理位置 | Elasticsearch: 权威指南 | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch: 权威指南"/>
<link rel="up" href="index.html" title="Elasticsearch: 权威指南"/>
<link rel="prev" href="_closing_thoughts.html" title="总结"/>
<link rel="next" href="geopoints.html" title="地理坐标点"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Definitive Guide"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="2.x"/>
</head>
<body><div class="page_header">
<b>请注意:</b><br/>本书基于 Elasticsearch 2.x 版本，有些内容可能已经过时。
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch: 权威指南</a></span>
»
<span class="breadcrumb-node">地理位置</span>
</div>
<div class="navheader">
<span class="prev">
<a href="_closing_thoughts.html">« 总结</a>
</span>
<span class="next">
<a href="geopoints.html">地理坐标点 »</a>
</span>
</div>
<div class="part">
<div class="titlepage"><div><div>
<h1 class="title"><a id="geoloc"></a>地理位置<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elasticsearch-cn/elasticsearch-definitive-guide/edit/cn/04_Geolocation.asciidoc">edit</a></h1>
</div></div></div>
<div class="openblock partintro">
<div class="content">
<p>我们拿着纸质地图漫步城市的日子一去不返了。得益于智能手机，我们现在总是可以知道 自己所处的准确位置，也预料到网站会使用这些信息。我想知道从当前位置步行 5 分钟内可到的那些餐馆，对伦敦更大范围内的其他餐馆并不感兴趣。</p>
<p>但地理位置功能仅仅是 Elasticsearch 的冰山一角，Elasticsearch 的妙处在于，它让你可以把地理位置、全文搜索、结构化搜索和分析结合到一起。</p>
<p>例如：告诉我提到 <em>vitello tonnato</em> 这种食物、步行 5 分钟内可到、且晚上 11 点还营业的餐厅，然后结合用户评价、距离、价格排序。另一个例子：给我展示一幅整个城市8月份可用假期出租物业的地图，并计算出每个区域的平均价格。</p>
<p>Elasticsearch 提供了 两种表示地理位置的方式：用纬度－经度表示的坐标点使用 <code class="literal">geo_point</code> 字段类型， 以
<a href="http://en.wikipedia.org/wiki/GeoJSON" class="ulink" target="_top">GeoJSON</a> 格式定义的复杂地理形状，使用 <code class="literal">geo_shape</code> 字段类型。</p>
<p><em>Geo-points</em> 允许你找到距离另一个坐标点一定范围内的坐标点、计算出两点之间的距离来排序或进行相关性打分、或者聚合到显示在地图上的一个网格。另一方面，<em>Geo-shapes</em> 纯粹是用来过滤的。它们可以用来判断两个地理形状是否有重合或者某个地理形状是否完全包含了其他地理形状。</p>
</div>
</div>




</div>
<div class="navfooter">
<span class="prev">
<a href="_closing_thoughts.html">« 总结</a>
</span>
<span class="next">
<a href="geopoints.html">地理坐标点 »</a>
</span>
</div>
</div>
</body>
</html>
