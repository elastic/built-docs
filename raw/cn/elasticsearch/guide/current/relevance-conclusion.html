<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>调试相关度是最后 10% 要做的事情 | Elasticsearch: 权威指南 | Elastic</title>
<meta class="elastic" name="content" content="调试相关度是最后 10% 要做的事情 | Elasticsearch: 权威指南">

<link rel="home" href="index.html" title="Elasticsearch: 权威指南"/>
<link rel="up" href="controlling-relevance.html" title="控制相关度"/>
<link rel="prev" href="changing-similarities.html" title="更改相似度"/>
<link rel="next" href="languages.html" title="处理人类语言"/>
<meta class="elastic" name="product_version" content="2.x"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Definitive Guide"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="2.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<b>请注意:</b><br/>本书基于 Elasticsearch 2.x 版本，有些内容可能已经过时。
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch: 权威指南</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="search-in-depth.html">深入搜索</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="controlling-relevance.html">控制相关度</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="changing-similarities.html">« 更改相似度</a>
</span>
<span class="next">
<a href="languages.html">处理人类语言 »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="relevance-conclusion"></a>调试相关度是最后 10% 要做的事情<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elasticsearch-cn/elasticsearch-definitive-guide/edit/cn/170_Relevance/80_Conclusion.asciidoc">edit</a></h2>
</div></div></div>
<p>本章介绍了 Lucene 是如何基于 TF/IDF 生成评分的。理解评分过程是非常重要的，这样就可以根据具体的业务对评分结果进行调试、调节、减弱和定制。</p>
<p>实践中，简单的查询组合就能提供很好的搜索结果，但是为了获得 <em>具有成效</em> 的搜索结果，就必须反复推敲修改前面介绍的这些调试方法。</p>
<p>通常，经过对策略字段应用权重提升，或通过对查询语句结构的调整来强调某个句子的重要性这些方法，就足以获得良好的结果。有时，如果 Lucene 基于词的 TF/IDF 模型不再满足评分需求（例如希望基于时间或距离来评分），则需要更具侵略性的调整。</p>
<p>除此之外，相关度的调试就有如兔子洞，一旦跳进去就很难再出来。 <em>最相关</em> 这个概念是一个难以触及的模糊目标，通常不同人对文档排序又有着不同的想法，这很容易使人陷入持续反复调整而没有明显进展的怪圈。</p>
<p>我们强烈建议不要陷入这种怪圈，而要监控测量搜索结果。监控用户点击最顶端结果的频次，这可以是前 10 个文档，也可以是第一页的；用户不查看首次搜索的结果而直接执行第二次查询的频次；用户来回点击并查看搜索结果的频次，等等诸如此类的信息。</p>
<p>这些都是用来评价搜索结果与用户之间相关程度的指标。如果查询能返回高相关的文档，用户会选择前五中的一个，得到想要的结果，然后离开。不相关的结果会让用户来回点击并尝试新的搜索条件。</p>
<p>一旦有了这些监控手段，想要调试查询就并不复杂，稍作调整，监控用户的行为改变并做适当反复尝试。本章介绍的一些工具就只是工具而已，要想物尽其用并将搜索结果提高到 <em>极高的</em> 水平，唯一途径就是需要具备能评价度量用户行为的强大能力。</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="changing-similarities.html">« 更改相似度</a>
</span>
<span class="next">
<a href="languages.html">处理人类语言 »</a>
</span>
</div>
</div>
</body>
</html>
