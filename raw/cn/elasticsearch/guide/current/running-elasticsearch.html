<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>安装并运行 Elasticsearch | Elasticsearch: 权威指南 | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch: 权威指南"/>
<link rel="up" href="intro.html" title="你知道的, 为了搜索&#8230;&#8203;"/>
<link rel="prev" href="intro.html" title="你知道的, 为了搜索&#8230;&#8203;"/>
<link rel="next" href="_talking_to_elasticsearch.html" title="和 Elasticsearch 交互"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Definitive Guide"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="2.x"/>
</head>
<body><div class="page_header">
<b>请注意:</b><br/>本书基于 Elasticsearch 2.x 版本，有些内容可能已经过时。
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch: 权威指南</a></span>
»
<span class="breadcrumb-link"><a href="getting-started.html">基础入门</a></span>
»
<span class="breadcrumb-link"><a href="intro.html">你知道的, 为了搜索&#8230;&#8203;</a></span>
»
<span class="breadcrumb-node">安装并运行 Elasticsearch</span>
</div>
<div class="navheader">
<span class="prev">
<a href="intro.html">« 你知道的, 为了搜索&#8230;&#8203;</a>
</span>
<span class="next">
<a href="_talking_to_elasticsearch.html">和 Elasticsearch 交互 »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="running-elasticsearch"></a>安装并运行 Elasticsearch<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elasticsearch-cn/elasticsearch-definitive-guide/edit/cn/010_Intro/10_Installing_ES.asciidoc">edit</a></h2>
</div></div></div>
<p>想用最简单的方式去理解 Elasticsearch 能为你做什么，那就是使用它了，让我们开始吧！ </p>
<p>安装 Elasticsearch 之前，你需要先安装一个较新的版本的 Java，最好的选择是，你可以从 <a href="http://www.java.com" class="ulink" target="_top"><em>www.java.com</em></a> 获得官方提供的最新版本的 Java。</p>
<p>之后，你可以从 elastic 的官网 <a href="/downloads/elasticsearch" class="ulink" target="_top"><em>elastic.co/downloads/elasticsearch</em></a>
获取最新版本的 Elasticsearch。</p>
<p>要想安装 Elasticsearch，先下载并解压适合你操作系统的 Elasticsearch 版本。如果你想了解更多的信息，
可以查看 Elasticsearch 参考手册里边的安装部分，这边给出的链接指向安装说明 <a href="/guide/en/elasticsearch/reference/5.6/_installation.html" class="ulink" target="_top">Installation</a>。</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>当你准备在生产环境安装 Elasticsearch 时，你可以在 <a href="http://www.elastic.co/downloads/elasticsearch" class="ulink" target="_top">官网下载地址</a> 找
到 Debian 或者 RPM 包，除此之外，你也可以使用官方支持的 <a href="https://github.com/elasticsearch/puppet-elasticsearch" class="ulink" target="_top">Puppet module</a> 或者 <a href="https://github.com/elasticsearch/cookbook-elasticsearch" class="ulink" target="_top">Chef cookbook</a>。</p>
</div>
</div>
<p>当你解压好了归档文件之后，Elasticsearch 已经准备好运行了。按照下面的操作，在前台(foregroud)启动 Elasticsearch：</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">cd elasticsearch-&lt;version&gt;
./bin/elasticsearch <a id="CO1-1"></a><i class="conum" data-value="1"></i> <a id="CO1-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>如果你想把 Elasticsearch 作为一个守护进程在后台运行，那么可以在后面添加参数 <code class="literal">-d</code> 。</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>如果你是在 Windows 上面运行 Elasticseach，你应该运行 <code class="literal">bin\elasticsearch.bat</code> 而不是 <code class="literal">bin\elasticsearch</code> 。</p>
</td>
</tr>
</table>
</div>
<p>测试 Elasticsearch 是否启动成功，可以打开另一个终端，执行以下操作：</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl 'http://localhost:9200/?pretty'</pre>
</div>
<p>TIP：如果你是在 Windows 上面运行 Elasticsearch，你可以从 <a href="http://curl.haxx.se/download.html" class="ulink" target="_top"><code class="literal">http://curl.haxx.se/download.html</code></a> 中下载 cURL。
cURL 给你提供了一种将请求提交到 Elasticsearch 的便捷方式，并且安装 cURL 之后，你可以通过复制与粘贴去尝试书中的许多例子。</p>
<p>你应该得到和下面类似的响应(response)：</p>
<div class="pre_wrapper lang-sense">
<pre class="programlisting prettyprint lang-sense">{
  "name" : "Tom Foster",
  "cluster_name" : "elasticsearch",
  "version" : {
    "number" : "2.1.0",
    "build_hash" : "72cd1f1a3eee09505e036106146dc1949dc5dc87",
    "build_timestamp" : "2015-11-18T22:40:03Z",
    "build_snapshot" : false,
    "lucene_version" : "5.3.1"
  },
  "tagline" : "You Know, for Search"
}</pre>
</div>
<div class="sense_widget" data-snippet="snippets/010_Intro/10_Info.json"></div>
<p>这就意味着你现在已经启动并运行一个 Elasticsearch 节点了，你可以用它做实验了。
单个 <em>节点</em> 可以作为一个运行中的 Elasticsearch 的实例。 而一个 集群 是一组拥有相同 <code class="literal">cluster.name</code> 的节点，
他们能一起工作并共享数据，还提供容错与可伸缩性。(当然，一个单独的节点也可以组成一个集群) 你可以在 <code class="literal">elasticsearch.yml</code> 配置文件中
修改 <code class="literal">cluster.name</code> ，该文件会在节点启动时加载 (译者注：这个重启服务后才会生效)。
关于上面的 <code class="literal">cluster.name</code> 以及其它  <a class="xref" href="important-configuration-changes.html" title="重要配置的修改">Important Configuration Changes</a> 信息，
你可以在这本书后面提供的生产部署章节找到更多。</p>
<p>TIP：看到下方的 View in Sense 的例子了么？<a class="xref" href="running-elasticsearch.html#sense" title="安装 Sense">Install the Sense console</a> 使用你自己的 Elasticsearch 集群去运行这本书中的例子，
查看会有怎样的结果。</p>
<p>当 Elastcisearch 在前台运行时，你可以通过按 Ctrl+C 去停止。</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="sense"></a>安装 Sense<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elasticsearch-cn/elasticsearch-definitive-guide/edit/cn/010_Intro/10_Installing_ES.asciidoc">edit</a></h3>
</div></div></div>
<p>Sense 是一个 <a href="/guide/en/kibana/4.6/index.html" class="ulink" target="_top">Kibana</a> 应用
它提供交互式的控制台，通过你的浏览器直接向 Elasticsearch 提交请求。
这本书的在线版本包含有一个 View in Sense 的链接，里面有许多代码示例。当点击的时候，它会打开一个代码示例的Sense控制台。
你不必安装 Sense，但是它允许你在本地的 Elasticsearch 集群上测试示例代码，从而使本书更具有交互性。</p>
<p> 安装与运行 Sense：</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>在 Kibana 目录下运行下面的命令，下载并安装 Sense app：</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./bin/kibana plugin --install elastic/sense <a id="CO2-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Windows上面执行: <code class="literal">bin\kibana.bat plugin --install elastic/sense</code> 。</p>
</td>
</tr>
</table>
</div>
<p>NOTE：你可以直接从这里 <a href="https://download.elastic.co/elastic/sense/sense-latest.tar.gz" class="ulink" target="_top">https://download.elastic.co/elastic/sense/sense-latest.tar.gz</a> 下载 Sense
离线安装可以查看这里 <a href="/guide/en/sense/current/installing.html#manual_download" class="ulink" target="_top">install it on an offline machine</a> 。</p>
</li>
<li class="listitem">
<p>启动 Kibana.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./bin/kibana <a id="CO3-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Windows 上启动 kibana: <code class="literal">bin\kibana.bat</code> 。</p>
</td>
</tr>
</table>
</div>
</li>
<li class="listitem">
在你的浏览器中打开 Sense: <code class="literal">http://localhost:5601/app/sense</code> 。
</li>
</ol>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="intro.html">« 你知道的, 为了搜索&#8230;&#8203;</a>
</span>
<span class="next">
<a href="_talking_to_elasticsearch.html">和 Elasticsearch 交互 »</a>
</span>
</div>
</div>
</body>
</html>
