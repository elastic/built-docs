<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>安装插件 | Kibana 用户手册 | Elastic</title>
<link rel="home" href="index.html" title="Kibana 用户手册"/>
<link rel="up" href="kibana-plugins.html" title="插件"/>
<link rel="prev" href="kibana-plugins.html" title="插件"/>
<link rel="next" href="update-remove-plugins.html" title="升级和移除插件"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="6.0"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana 用户手册</a></span>
»
<span class="breadcrumb-link"><a href="kibana-plugins.html">插件</a></span>
»
<span class="breadcrumb-node">安装插件</span>
</div>
<div class="navheader">
<span class="prev">
<a href="kibana-plugins.html">« 插件</a>
</span>
<span class="next">
<a href="update-remove-plugins.html">升级和移除插件 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="installing_plugins"></a>安装插件<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elasticsearch-cn/kibana/edit/cn/docs/plugins.asciidoc">edit</a></h2>
</div></div></div>
<p>使用以下命令安装插件：</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">bin/kibana-plugin install &lt;package name or URL&gt;</pre>
</div>
<p>当您指定的插件名没有带 URL，插件工具将会尝试去下载 Elastic 官方插件。例如：</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">$ bin/kibana-plugin install x-pack</pre>
</div>
<h3><a id="_通过指定的_url_地址安装插件"></a>通过指定的 URL 地址安装插件<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elasticsearch-cn/kibana/edit/cn/docs/plugins.asciidoc">edit</a></h3>
<p>您可以简单的指定插件名称来下载 Elastic 官方插件。也可以指定插件具体的 URL 来下载安装，例如：</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">$ bin/kibana-plugin install https://artifacts.elastic.co/downloads/packs/x-pack/x-pack-6.0.0.zip</pre>
</div>
<p>您可以在 URL 中指定多种协议，例如 HTTP 、 HTTPS 或者 <code class="literal">文件</code> 协议。</p>
<h3><a id="_向指定的目录安装插件"></a>向指定的目录安装插件<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elasticsearch-cn/kibana/edit/cn/docs/plugins.asciidoc">edit</a></h3>
<p>在 <code class="literal">install</code> 命令后面通过 <code class="literal">-d</code> 或者 <code class="literal">--plugin-dir</code> 选项指定插件安装目录，例如：</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">$ bin/kibana-plugin install file:///some/local/path/x-pack.zip -d path/to/directory</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>如果目录不存在，这条命令会创建这个目录。</p>
</div>
</div>
<h3><a id="_通过_linux_安装包安装插件"></a>通过 Linux 安装包安装插件<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elasticsearch-cn/kibana/edit/cn/docs/plugins.asciidoc">edit</a></h3>
<p>Kibana 服务需要有 <code class="literal">optimize</code> 目录的写权限。如果您使用 sudo 或者 su 安装插件，您需要确保这些命令使用 <code class="literal">kibana</code> 用户执行。这个用户已经默认为您添加了，它用于包的安装。</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">$ sudo -u kibana bin/kibana-plugin install x-pack</pre>
</div>
<p>如果插件使用了不同的用户安装且服务又没有运行起来，您就需要修改这些文件的所属用户：</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">$ chown -R kibana:kibana /path/to/kibana/optimize</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="kibana-plugins.html">« 插件</a>
</span>
<span class="next">
<a href="update-remove-plugins.html">升级和移除插件 »</a>
</span>
</div>
</div>
</body>
</html>
