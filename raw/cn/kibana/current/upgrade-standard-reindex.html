<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>重建索引进行标准升级 | Kibana 用户手册 | Elastic</title>
<link rel="home" href="index.html" title="Kibana 用户手册"/>
<link rel="up" href="upgrade.html" title="升级 Kibana"/>
<link rel="prev" href="upgrade-standard.html" title="标准升级"/>
<link rel="next" href="upgrade-new-install.html" title="全新安装"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="6.0"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana 用户手册</a></span>
»
<span class="breadcrumb-link"><a href="setup.html">搭建</a></span>
»
<span class="breadcrumb-link"><a href="upgrade.html">升级 Kibana</a></span>
»
<span class="breadcrumb-node">重建索引进行标准升级</span>
</div>
<div class="navheader">
<span class="prev">
<a href="upgrade-standard.html">« 标准升级</a>
</span>
<span class="next">
<a href="upgrade-new-install.html">全新安装 »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="upgrade-standard-reindex"></a>重建索引进行标准升级<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elasticsearch-cn/kibana/edit/cn/docs/setup/upgrade/upgrade-standard-reindex.asciidoc">edit</a></h2>
</div></div></div>
<p>无论何时对一个含有早于 Elasticsearch 2.0 版本创建的 <code class="literal">.kibana</code> 索引的 Kibana 进行升级，都必须在 Elasticsearch 中进行一次索引重建。</p>
<p>例如，从 Kibana 4.1 或 4.0 直接升级或者从之前由 4.1 或 4.0 升级上来的 4.2+ 进行升级。</p>
<p>重建索引是从已有的索引升级语法、映射而创建一个新索引的过程。尽管这支持手动进行，我们仍然推荐使用在 Elasticsearch <a href="/guide/en/elasticsearch/reference/6.0/reindex-upgrade.html#reindex-upgrade" class="ulink" target="_top">重建索引升级</a>指南中提到的 Elasticsearch 迁移插件。</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch 迁移插件创建一个新版本的 <code class="literal">.kibana</code> 索引并创建一个 <a href="/guide/en/elasticsearch/reference/6.0/indices-aliases.html" class="ulink" target="_top">索引别名</a> 指向它。Kibana 5.0 支持这个索引别名，但是如果想在 Elastic stack 升级的过程中运行 Kibana 4.x，就需要配置 4.x 安装时指向该版本索引，使用 <code class="literal">kibana.yml</code> 文件中的 <code class="literal">kibana.index</code> 配置项进行配置。</p>
</div>
</div>
<p>一旦重建索引完成了，就可以遵循<a class="xref" href="upgrade-standard.html" title="标准升级">标准升级</a>的指引继续升级。</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="upgrade-standard.html">« 标准升级</a>
</span>
<span class="next">
<a href="upgrade-new-install.html">全新安装 »</a>
</span>
</div>
</div>
</body>
</html>
