<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>HTTP configuration options | APM Java Agent Reference (Beta) [0.6] | Elastic</title>
<meta class="elastic" name="content" content="HTTP configuration options | APM Java Agent Reference (Beta) [0.6]">

<link rel="home" href="index.html" title="APM Java Agent Reference (Beta) [0.6]"/>
<link rel="up" href="configuration.html" title="Configuration"/>
<link rel="prev" href="config-core.html" title="Core configuration options"/>
<link rel="next" href="config-logging.html" title="Logging configuration options"/>
<meta class="elastic" name="product_version" content="0.6"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Java Agent/Reference/0.6"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="0.6"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="config-core.html">« Core configuration options</a>
</span>
<span class="next">
<a href="config-logging.html">Logging configuration options »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">Java Agent Reference (Beta)<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/observability/current/apm.html">Observability › APM</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">AWS Lambda extension</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration.html">Configuration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>HTTP configuration options</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-java/edit/0.6/docs/configuration.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="config-http"></a>HTTP configuration options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-java/edit/0.6/docs/configuration.asciidoc">edit</a></h2>
</div></div></div>
<h4><a id="config-capture-body"></a><code class="literal">capture_body</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-java/edit/0.6/docs/configuration.asciidoc">edit</a></h4>
<p>For transactions that are HTTP requests, the Java agent can optionally capture the request body (e.g. POST variables).</p>
<p>Possible values: errors, transactions, all, off.</p>
<p>If the request has a body and this setting is disabled, the body will be shown as [REDACTED].</p>
<p>For requests with a content type of multipart/form-data, any uploaded files will be referenced in a special _files key. It contains the name of the field, and the name of the uploaded file, if provided.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>request bodies often contain sensitive values like passwords, credit card numbers etc.If your service handles data like this, we advise to only enable this feature with care.</p>
</div>
</div>
<p>Valid options: <code class="literal">OFF</code>, <code class="literal">ERRORS</code>, <code class="literal">TRANSACTIONS</code>, <code class="literal">ALL</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Dynamic</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">OFF</code></p></td>
<td align="left" valign="top"><p>EventType</p></td>
<td align="left" valign="top"><p>true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Java System Properties</th>
<th align="left" valign="top">Property file</th>
<th align="left" valign="top">Environment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">elastic.apm.capture_body</code></p></td>
<td align="left" valign="top"><p><code class="literal">capture_body</code></p></td>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_CAPTURE_BODY</code></p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="config-ignore-urls"></a><code class="literal">ignore_urls</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-java/edit/0.6/docs/configuration.asciidoc">edit</a></h4>
<p>Used to restrict requests to certain URLs from being instrumented.</p>
<p>This property should be set to an array containing one or more strings.
When an incoming HTTP request is detected, its URL will be tested against each element in this list.
Entries can have a wildcard at the beginning and at the end.
Prepending an element with <code class="literal">(?i)</code> makes the matching case-insensitive.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>All errors that are captured during a request to an ignored URL are still sent to the APM Server regardless of this setting.</p>
</div>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Dynamic</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">/VAADIN/*, (?i)/heartbeat/*, /favicon.ico, *.js, *.css, *.jpg, *.jpeg, *.png, *.webp, *.svg, *.woff, *.woff2</code></p></td>
<td align="left" valign="top"><p>List</p></td>
<td align="left" valign="top"><p>true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Java System Properties</th>
<th align="left" valign="top">Property file</th>
<th align="left" valign="top">Environment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">elastic.apm.ignore_urls</code></p></td>
<td align="left" valign="top"><p><code class="literal">ignore_urls</code></p></td>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_IGNORE_URLS</code></p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="config-ignore-user-agents"></a><code class="literal">ignore_user_agents</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-java/edit/0.6/docs/configuration.asciidoc">edit</a></h4>
<p>Used to restrict requests from certain User-Agents from being instrumented.</p>
<p>When an incoming HTTP request is detected,
the User-Agent from the request headers will be tested against each element in this list.
Entries can have a wildcard at the beginning and at the end.
Prepending an element with <code class="literal">(?i)</code> makes the matching case-insensitive.
Example: <code class="literal">curl/*, (?i)*pingdom*</code></p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>All errors that are captured during a request by an ignored user agent are still sent to the APM Server regardless of this setting.</p>
</div>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Dynamic</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">&lt;none&gt;</code></p></td>
<td align="left" valign="top"><p>List</p></td>
<td align="left" valign="top"><p>true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Java System Properties</th>
<th align="left" valign="top">Property file</th>
<th align="left" valign="top">Environment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">elastic.apm.ignore_user_agents</code></p></td>
<td align="left" valign="top"><p><code class="literal">ignore_user_agents</code></p></td>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_IGNORE_USER_AGENTS</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="config-core.html">« Core configuration options</a>
</span>
<span class="next">
<a href="config-logging.html">Logging configuration options »</a>
</span>
</div>
</body>
</html>
