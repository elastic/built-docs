<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Logging configuration options | APM Java Agent Reference (Beta) [0.7] | Elastic</title>
<meta class="elastic" name="content" content="Logging configuration options | APM Java Agent Reference (Beta) [0.7]">

<link rel="home" href="index.html" title="APM Java Agent Reference (Beta) [0.7]"/>
<link rel="up" href="configuration.html" title="Configuration"/>
<link rel="prev" href="config-http.html" title="HTTP configuration options"/>
<link rel="next" href="config-reporter.html" title="Reporter configuration options"/>
<meta class="elastic" name="product_version" content="0.7"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Java Agent/Reference/0.7"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="0.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="config-http.html">« HTTP configuration options</a>
</span>
<span class="next">
<a href="config-reporter.html">Reporter configuration options »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">Java Agent Reference (Beta)<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/observability/current/apm.html">Observability › APM</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">AWS Lambda extension</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration.html">Configuration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Logging configuration options</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-java/edit/0.7/docs/configuration.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="config-logging"></a>Logging configuration options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-java/edit/0.7/docs/configuration.asciidoc">edit</a></h2>
</div></div></div>
<h4><a id="config-log-level"></a><code class="literal">log_level</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-java/edit/0.7/docs/configuration.asciidoc">edit</a></h4>
<p>Sets the logging level for the agent.</p>
<p>This option is case-insensitive.</p>
<p>Valid options: <code class="literal">ERROR</code>, <code class="literal">WARN</code>, <code class="literal">INFO</code>, <code class="literal">DEBUG</code>, <code class="literal">TRACE</code></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Dynamic</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">INFO</code></p></td>
<td align="left" valign="top"><p>Level</p></td>
<td align="left" valign="top"><p>true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Java System Properties</th>
<th align="left" valign="top">Property file</th>
<th align="left" valign="top">Environment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">elastic.apm.log_level</code></p></td>
<td align="left" valign="top"><p><code class="literal">log_level</code></p></td>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_LOG_LEVEL</code></p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="config-log-file"></a><code class="literal">log_file</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-java/edit/0.7/docs/configuration.asciidoc">edit</a></h4>
<p>Sets the path of the agent logs.
The special value <code class="literal">_AGENT_HOME_</code> is a placeholder for the folder the elastic-apm-agent.jar is in.
Example: <code class="literal">_AGENT_HOME_/logs/elastic-apm.log</code></p>
<p>When set to the special value <em>System.out</em>,
the logs are sent to standard out.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>When logging to a file,
it&#8217;s content is deleted when the application starts.</p>
</div>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Dynamic</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">System.out</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>false</p></td>
</tr>
</tbody>
</table>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Java System Properties</th>
<th align="left" valign="top">Property file</th>
<th align="left" valign="top">Environment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">elastic.apm.log_file</code></p></td>
<td align="left" valign="top"><p><code class="literal">log_file</code></p></td>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_LOG_FILE</code></p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="config-enable-log-correlation"></a><code class="literal">enable_log_correlation</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-agent-java/edit/0.7/docs/configuration.asciidoc">edit</a></h4>
<p>A boolean specifying if the agent should integrate into SLF4J&#8217;s MDC to enable trace-log correlation.
If set to <code class="literal">true</code>, the agent will set the <code class="literal">spanId</code> and <code class="literal">traceId</code> for the currently active spans and transactions to the MDC.
You can then use the pattern format of your logging implementation to write the MDC values to your log file.
With the help of Filebeat and Logstash or an Elasticsearch ingest pipeline,
you can index your log files and correlate them with APM traces.
With this integration you can get all logs belonging to a particular trace and vice-versa:
for a specific log, see in which context it has been logged and which parameters the user provided.
While it&#8217;s allowed to enable this setting at runtime, you can&#8217;t disable it without a restart.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This is an incubating feature and the MDC key names might change.</p>
</div>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Default</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Dynamic</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">false</code></p></td>
<td align="left" valign="top"><p>Boolean</p></td>
<td align="left" valign="top"><p>true</p></td>
</tr>
</tbody>
</table>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Java System Properties</th>
<th align="left" valign="top">Property file</th>
<th align="left" valign="top">Environment</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">elastic.apm.enable_log_correlation</code></p></td>
<td align="left" valign="top"><p><code class="literal">enable_log_correlation</code></p></td>
<td align="left" valign="top"><p><code class="literal">ELASTIC_APM_ENABLE_LOG_CORRELATION</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="config-http.html">« HTTP configuration options</a>
</span>
<span class="next">
<a href="config-reporter.html">Reporter configuration options »</a>
</span>
</div>
</body>
</html>
