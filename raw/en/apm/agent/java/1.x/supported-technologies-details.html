<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Supported technologies | APM Java Agent Reference [1.x] | Elastic</title>
<meta class="elastic" name="content" content="Supported technologies | APM Java Agent Reference [1.x]">

<link rel="home" href="index.html" title="APM Java Agent Reference [1.x]"/>
<link rel="up" href="index.html" title="APM Java Agent Reference [1.x]"/>
<link rel="prev" href="aws-lambda.html" title="Monitoring AWS Lambda Java Functions"/>
<link rel="next" href="configuration.html" title="Configuration"/>
<meta class="elastic" name="product_version" content="1.x"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Java Agent/Reference/1.x"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="1.x"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="aws-lambda.html">« Monitoring AWS Lambda Java Functions</a>
</span>
<span class="next">
<a href="configuration.html">Configuration »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">Java Agent Reference<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/observability/current/apm.html">Observability › APM</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">AWS Lambda extension</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Supported technologies</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="supported-technologies-details"></a>Supported technologies<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h2>
</div></div></div>
<p>The Elastic APM Java Agent automatically instruments various APIs,
frameworks and application servers.
This section lists all supported technologies.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-java-versions" title="Java versions">Java versions</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-web-frameworks" title="Web Frameworks">Web Frameworks</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-app-servers" title="Application Servers/Servlet Containers">Application Servers/Servlet Containers</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-databases" title="Data Stores">Data Stores</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-networking-frameworks" title="Networking frameworks">Networking frameworks</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-async-frameworks" title="Asynchronous frameworks">Asynchronous frameworks</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-messaging-frameworks" title="Messaging frameworks">Messaging frameworks</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-scheduling-frameworks" title="Scheduling frameworks">Scheduling frameworks</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-logging-frameworks" title="Logging frameworks">Logging frameworks</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-process-frameworks" title="Process frameworks">Process frameworks</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-rpc-frameworks" title="RPC frameworks">RPC frameworks</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-aws-lambda-runtimes" title="AWS Lambda runtimes">AWS Lambda runtimes</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-java-methods" title="Java method monitoring">Java method monitoring</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-metrics" title="Metrics">Metrics</a>
</li>
<li class="listitem">
<a class="xref" href="supported-technologies-details.html#supported-technologies-caveats" title="Caveats">Caveats</a>
</li>
</ul>
</div>
<p>If your favorite technology is not supported yet,
you can vote for it by participating in our
<a href="https://docs.google.com/forms/d/e/1FAIpQLScd0RYiwZGrEuxykYkv9z8Hl3exx_LKCtjsqEo1OWx8BkLrOQ/viewform?usp=sf_link" class="ulink" target="_top">survey</a>.
We will use the results to add support for the most requested technologies.</p>
<p>Other options are to add a dependency to the agent&#8217;s <a class="xref" href="public-api.html" title="Public API">public API</a>
in order to programmatically create custom transactions and spans, or to create
your own <a class="xref" href="plugin-api.html" title="Plugin API">plugin</a> that will instrument the technology you want instrumented.</p>
<p>If you want to extend the auto-instrumentation capabilities of the agent,
the <a href="https://github.com/elastic/apm-agent-java/blob/main/CONTRIBUTING.md" class="ulink" target="_top">contributing guide</a> should get you started.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If, for example,
the HTTP client library of your choice is not listed,
it means that there won&#8217;t be spans for those outgoing HTTP requests.
If the web framework you are using is not supported,
the agent does not capture transactions.</p>
</div>
</div>
<h3><a id="supported-java-versions"></a>Java versions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>As of version 1.33.0, Java 7 support is deprecated and will be removed in a future release</p>
</div>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Vendor</th>
<th align="left" valign="top">Supported versions</th>
<th align="left" valign="top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Oracle JDK</p></td>
<td align="left" valign="top"><p>7u60+*, 8u40+, 9, 10, 11, 17, 21</p></td>
<td align="left" valign="top"><p><code class="literal">--module-path</code> has not been tested yet</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>OpenJDK</p></td>
<td align="left" valign="top"><p>7u60+*, 8u40+, 9, 10, 11, 17, 21</p></td>
<td align="left" valign="top"><p><code class="literal">--module-path</code> has not been tested yet</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>IBM J9 VM</p></td>
<td align="left" valign="top"><p>8 service refresh 5+ (build 2.9 or 8.0.5.0)</p></td>
<td align="left" valign="top"><p><a class="xref" href="method-sampling-based.html" title="Sampling-based profiler">Sampling profiler</a> is not supported</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>HP-UX JVM</p></td>
<td align="left" valign="top"><p>7.0.10+*, 8.0.02+</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>SAP JVM</p></td>
<td align="left" valign="top"><p>8.1.065+</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
</tbody>
</table>
</div>
<p>* Java 7 support is deprecated and will be removed in a future release</p>
<p><span class="strong strong"><strong>Early Java 8 and Java 7</strong></span></p>
<p>Early Java 8 versions before update 40 are <span class="strong strong"><strong>not supported</strong></span> because they have
several bugs that might result in JVM crashes when a java agent is active,
thus agent <span class="strong strong"><strong>will not start</strong></span> on those versions.
Similarly, Java 7 versions before update 60 are not supported as they are buggy in regard to invokedynamic.</p>
<p>Here is an example of the message displayed when this happens.</p>
<pre class="screen">Failed to start agent - JVM version not supported: 1.8.0_31 Java HotSpot(TM) 64-Bit Server VM 25.31-b07.
To override Java version verification, set the 'elastic.apm.disable_bootstrap_checks' System property,
or the `ELASTIC_APM_DISABLE_BOOTSTRAP_CHECKS` environment variable, to 'true'.</pre>
<p>As this message states, you can disable this check if required by adding <code class="literal">-Delastic.apm.disable_bootstrap_checks=true</code> to
the JVM arguments, or setting <code class="literal">ELASTIC_APM_DISABLE_BOOTSTRAP_CHECKS=true</code> for the JVM environment variables.</p>
<h3><a id="supported-web-frameworks"></a>Web Frameworks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Framework</th>
<th align="left" valign="top">Supported versions</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Servlet API</p></td>
<td align="left" valign="top"><p>3+</p></td>
<td align="left" valign="top"><p>A transaction will be created for all incoming HTTP requests to your Servlet API-based application.
 Starting in version 1.18.0, additional spans are created if the servlet dispatches execution to another servlet through the <code class="literal">forward</code> or
 <code class="literal">include</code> APIs, or to an error page.
 See also <a class="xref" href="supported-technologies-details.html#supported-app-servers" title="Application Servers/Servlet Containers">Application Servers/Servlet Containers</a></p></td>
<td align="left" valign="top"><p>1.0.0, 4.0+ (<code class="literal">jakarta.servlet</code>) since 1.28.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Spring Web MVC</p></td>
<td align="left" valign="top"><p>4.x, 5.x, 6.x</p></td>
<td align="left" valign="top"><p>If you are using Spring MVC (for example with Spring Boot),
  the transactions are named based on your controllers (<code class="literal">ControllerClass#controllerMethod</code>).</p></td>
<td align="left" valign="top"><p>1.0.0, 6.x since 1.38.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Spring Webflux</p></td>
<td align="left" valign="top"><p>5.2.3+</p></td>
<td align="left" valign="top"><p>Creates transactions for incoming HTTP requests, supports annotated and functional endpoints.</p></td>
<td align="left" valign="top"><p>1.24.0 (experimental), 1.34.0 (GA), 6.1+ since 1.45.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>JavaServer Faces</p></td>
<td align="left" valign="top"><p>2.2.x, 2.3.x, 3.0.x</p></td>
<td align="left" valign="top"><p>If you are using JSF, transactions are named based on the requested Facelets and spans are captured for visibility into execution and
rendering</p></td>
<td align="left" valign="top"><p>1.0.0, <code class="literal">jakarta.faces</code> since 1.28.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Spring Boot</p></td>
<td align="left" valign="top"><p>1.5+, 2.x, 3.x</p></td>
<td align="left" valign="top"><p>Supports embedded Tomcat, Jetty and Undertow</p></td>
<td align="left" valign="top"><p>1.0.0, 3.x since 1.38.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>JAX-RS</p></td>
<td align="left" valign="top"><p>2.x, 3.x</p></td>
<td align="left" valign="top"><p>The transactions are named based on your resources (<code class="literal">ResourceClass#resourceMethod</code>).
 Note that only the packages configured in <a class="xref" href="config-stacktrace.html#config-application-packages" title="application_packages"><code class="literal">application_packages</code></a> are scanned for JAX-RS resources.
 If you don&#8217;t set this option,
 all classes are scanned.
 This comes at the cost of increased startup times, however.</p>
<p> Note: JAX-RS is only supported when running on a supported <a class="xref" href="supported-technologies-details.html#supported-app-servers" title="Application Servers/Servlet Containers">Application Server/Servlet Container</a>.</p></td>
<td align="left" valign="top"><p>1.0.0, <code class="literal">jakarta.ws.rs</code> since 1.28.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>JAX-WS</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>The transactions are named based on your <code class="literal">@javax.jws.WebService</code>, <code class="literal">@jakarta.jws.WebService</code> annotated classes and <code class="literal">@javax.jws.WebMethod</code>, <code class="literal">@jakarta.jws.WebMethod</code> annotated method names (<code class="literal">WebServiceClass#webMethod</code>).
 Note that only the packages configured in <a class="xref" href="config-stacktrace.html#config-application-packages" title="application_packages"><code class="literal">application_packages</code></a> are scanned for JAX-WS resources.
 If you don&#8217;t set this option,
 all classes are scanned.
 This comes at the cost of increased startup times, however.</p>
<p> Note: JAX-WS is only supported when running on a supported <a class="xref" href="supported-technologies-details.html#supported-app-servers" title="Application Servers/Servlet Containers">Application Server/Servlet Container</a> and when using the HTTP binding.</p></td>
<td align="left" valign="top"><p>1.4.0, <code class="literal">jakarta.jws</code> since 1.28.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Grails</p></td>
<td align="left" valign="top"><p>3+</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.17.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Apache Struts</p></td>
<td align="left" valign="top"><p>2.x</p></td>
<td align="left" valign="top"><p>The transactions are named based on your action (<code class="literal">ActionClass#actionMethod</code>).</p></td>
<td align="left" valign="top"><p>1.24.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Vert.x Web</p></td>
<td align="left" valign="top"><p>3.6+</p></td>
<td align="left" valign="top"><p>Captures incoming HTTP requests as transactions</p></td>
<td align="left" valign="top"><p>1.24.0 (experimental)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Sparkjava (not Apache Spark)</p></td>
<td align="left" valign="top"><p>2.x</p></td>
<td align="left" valign="top"><p>The transactions are named based on your route (<code class="literal">GET /foo/:bar</code>).</p></td>
<td align="left" valign="top"><p>1.25.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>com.sun.net.httpserver.HttpServer</p></td>
<td align="left" valign="top"><p>1.7+</p></td>
<td align="left" valign="top"><p>Captures incoming HTTP requests as transactions</p></td>
<td align="left" valign="top"><p>1.25.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Javalin</p></td>
<td align="left" valign="top"><p>3.13.8+</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.25.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Java API for WebSocket</p></td>
<td align="left" valign="top"><p>1.0</p></td>
<td align="left" valign="top"><p>Captures methods annotated with <code class="literal">@OnOpen</code>, <code class="literal">@OnMessage</code>, <code class="literal">@OnError</code>, or <code class="literal">@OnClose</code> as transactions for classes that are annotated with <code class="literal">@ServerEndpoint</code>.</p></td>
<td align="left" valign="top"><p>1.29.0</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-app-servers"></a>Application Servers/Servlet Containers<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<p>The Elastic APM Java agent has generic support for the Servlet API 3+.
However, some servers require special handling.
The servers listed here are tested by an integration test suite to make sure Elastic APM is compatible with them.
Other Servlet 3+ compliant servers will most likely work as well.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Server</th>
<th align="left" valign="top">Supported versions</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="setup-javaagent.html#setup-tomcat" title="Apache Tomcat">Tomcat</a></p></td>
<td align="left" valign="top"><p>7.x, 8.5.x, 9.x, 10.x</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="setup-javaagent.html#setup-jboss-wildfly" title="JBoss EAP/WildFly">WildFly</a></p></td>
<td align="left" valign="top"><p>8+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="setup-javaagent.html#setup-jboss-wildfly" title="JBoss EAP/WildFly">JBoss EAP</a></p></td>
<td align="left" valign="top"><p>6.4, 7.x</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="setup-javaagent.html#setup-jetty" title="Jetty">Jetty</a> (only the <code class="literal">ServletContextHandler</code> is supported)</p></td>
<td align="left" valign="top"><p>9.2, 9.3, 9.4</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="setup-javaagent.html#setup-websphere-liberty" title="WebSphere Liberty">WebSphere Liberty</a></p></td>
<td align="left" valign="top"><p>8.5.5, 18.0.x</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="setup-javaagent.html#setup-generic" title="Generic Setup">Undertow Servlet</a></p></td>
<td align="left" valign="top"><p>1.4</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="setup-javaagent.html#setup-payara" title="Payara">Payara</a></p></td>
<td align="left" valign="top"><p>4.x, 5.x</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="setup-javaagent.html#setup-weblogic" title="Oracle WebLogic">Oracle WebLogic</a></p></td>
<td align="left" valign="top"><p>12.2</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-databases"></a>Data Stores<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Database</th>
<th align="left" valign="top">Supported versions</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>JDBC</p></td>
<td align="left" valign="top"><p>4.1+</p></td>
<td align="left" valign="top"><p>The agent automatically creates DB spans for all your JDBC queries.
 This includes JDBC queries executed by O/R mappers like Hibernate.</p>
<p> <span class="strong strong"><strong>Note:</strong></span> Make sure that your JDBC driver is at least compiled for Java 1.4.
 Drivers compiled with a lower version are not supported.
 IBM DB2 db2jcc drivers are also not supported.
 Please update to db2jcc4.</p></td>
<td align="left" valign="top"><p>1.0.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Elasticsearch Java REST and API clients</p></td>
<td align="left" valign="top"><p>5.0.2+</p></td>
<td align="left" valign="top"><p>The agent automatically creates Elasticsearch spans for queries done through the official REST client.</p></td>
<td align="left" valign="top"><p>1.0.0, async since 1.5.0, API Client since 1.32.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Hibernate Search</p></td>
<td align="left" valign="top"><p>5.x (on by default), 6.x (off by default)</p></td>
<td align="left" valign="top"><p>The agent automatically creates Hibernate Search spans for queries done through the Hibernate Search API.</p>
<p> <span class="strong strong"><strong>Note:</strong></span> this feature is marked as experimental for version 6.x, which means it is off by default. In order to enable,
 set the <a class="xref" href="config-core.html#config-disable-instrumentations" title="disable_instrumentations ()"><code class="literal">disable_instrumentations</code> (<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono">1.0.0</span>]
<span class="Admonishment-detail">
Added in 1.0.0. Changing this value at runtime is possible since version 1.15.0
</span>
</span>)</a> config option to an empty string</p></td>
<td align="left" valign="top"><p>1.9.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Redis Jedis</p></td>
<td align="left" valign="top"><p>1.4.0-5.x</p></td>
<td align="left" valign="top"><p>The agent creates spans for interactions with the Jedis client.</p></td>
<td align="left" valign="top"><p>1.10.0, 4+ since 1.31.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Redis Lettuce</p></td>
<td align="left" valign="top"><p>3.4+</p></td>
<td align="left" valign="top"><p>The agent creates spans for interactions with the Lettuce client.</p></td>
<td align="left" valign="top"><p>1.13.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Redis Redisson</p></td>
<td align="left" valign="top"><p>2.1.5+</p></td>
<td align="left" valign="top"><p>The agent creates spans for interactions with the Redisson client.</p></td>
<td align="left" valign="top"><p>1.15.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>MongoDB driver</p></td>
<td align="left" valign="top"><p>3.x</p></td>
<td align="left" valign="top"><p>The agent creates spans for interactions with the MongoDB driver.
 At the moment, only the synchronous driver (mongo-java-driver) is supported.
 The asynchronous and reactive drivers are currently not supported.</p>
<p> The name of the span is <code class="literal">&lt;db&gt;.&lt;collection&gt;.&lt;command&gt;</code>.
 The actual query will not be recorded.</p></td>
<td align="left" valign="top"><p>1.12.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>MongoDB Sync Driver</p></td>
<td align="left" valign="top"><p>4.x</p></td>
<td align="left" valign="top"><p>The agent creates spans for interactions with the MongoDB 4.x sync driver.
This provides support for <code class="literal">org.mongodb:mongodb-driver-sync</code></p></td>
<td align="left" valign="top"><p>1.34.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Cassandra</p></td>
<td align="left" valign="top"><p>2.x+</p></td>
<td align="left" valign="top"><p>The agent creates spans for interactions with the Cassandra Datastax drivers.
This provides support for <code class="literal">com.datastax.cassandra:cassandra-driver-core</code> and
<code class="literal">com.datastax.oss:java-driver-core</code></p></td>
<td align="left" valign="top"><p>1.23.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>AWS DynamoDB</p></td>
<td align="left" valign="top"><p>1.x, 2.x</p></td>
<td align="left" valign="top"><p>The agent creates spans for interactions with the AWS DynamoDb service through the AWS Java SDK.</p></td>
<td align="left" valign="top"><p>1.31.0, 2.21+ since 1.44.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>AWS S3</p></td>
<td align="left" valign="top"><p>1.x, 2.x</p></td>
<td align="left" valign="top"><p>The agent creates spans for interactions with the AWS S3 service through the AWS Java SDK.</p></td>
<td align="left" valign="top"><p>1.31.0, 2.21+ since 1.44.0</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-networking-frameworks"></a>Networking frameworks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<p>Distributed tracing will only work if you are using one of the supported networking frameworks.</p>
<p>For the supported HTTP libraries, the agent automatically creates spans for outgoing HTTP requests and propagates tracing headers.
The spans are named after the schema <code class="literal">&lt;method&gt; &lt;host&gt;</code>, for example <code class="literal">GET elastic.co</code>.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Framework</th>
<th align="left" valign="top">Supported versions</th>
<th align="left" valign="top">Note</th>
<th align="left" valign="top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Apache HttpClient</p></td>
<td align="left" valign="top"><p>4.3+</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>0.7.0 (4.3+)
  1.8.0 (4.0+)
  1.45.0 (5.0+)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Apache HttpClient (Legacy)</p></td>
<td align="left" valign="top"><p>3.0+</p></td>
<td align="left" valign="top"><p>Requires setting <a class="xref" href="config-core.html#config-instrument-ancient-bytecode" title="instrument_ancient_bytecode ()"><code class="literal">instrument_ancient_bytecode</code></a> to <code class="literal">true</code></p></td>
<td align="left" valign="top"><p>1.35.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Apache HttpAsyncClient</p></td>
<td align="left" valign="top"><p>4.0+</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.6.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Spring RestTemplate</p></td>
<td align="left" valign="top"><p>3.1.1+</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>0.7.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>OkHttp</p></td>
<td align="left" valign="top"><p>2, 3, 4 (4.4+ since 1.22.0)</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.4.0 (synchronous calls via <code class="literal">Call#execute()</code>)
 1.5.0 (async calls via <code class="literal">Call#enquene(Callback)</code>)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>HttpUrlConnection</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.4.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>JAX-WS client</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>JAX-WS clients created via <a href="https://docs.oracle.com/javaee/7/api/javax/xml/ws/Service.html" class="ulink" target="_top"><code class="literal">javax.xml.ws.Service</code></a>
 inherently support context propagation as they are using <code class="literal">HttpUrlConnection</code> underneath.</p></td>
<td align="left" valign="top"><p>1.4.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>AsyncHttpClient</p></td>
<td align="left" valign="top"><p>2.x</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.7.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Apache Dubbo</p></td>
<td align="left" valign="top"><p>2.x, except for 2.7.0, 2.7.1, 2.7.2 and versions older than 2.5.0</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.17.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>JDK 11 HttpClient</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.18.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Vert.x WebClient</p></td>
<td align="left" valign="top"><p>3.6+</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.25.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Spring Webclient</p></td>
<td align="left" valign="top"><p>5.2.3+</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.33.0 (experimental), 1.34.0 (GA)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Finagle Http Client</p></td>
<td align="left" valign="top"><p>22+</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.35.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>LdapClient</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.36.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Spring RestClient</p></td>
<td align="left" valign="top"><p>6.1.0+</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>1.45.0</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-async-frameworks"></a>Asynchronous frameworks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<p>When a Span is created in a different Thread than its parent,
the trace context has to be propagated onto this thread.</p>
<p>This section lists all supported asynchronous frameworks.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Framework</th>
<th align="left" valign="top">Supported versions</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">ExecutorService</code></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>The agent propagates the context for <code class="literal">ExecutorService</code> s.</p></td>
<td align="left" valign="top"><p>1.4.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ScheduledExecutorService</code></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>The agent propagates the context for <code class="literal">ScheduledExecutorService#schedule</code> (this does not include <code class="literal">scheduleAtFixedRate</code> or <code class="literal">scheduleWithFixedDelay</code>.</p></td>
<td align="left" valign="top"><p>1.17.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ForkJoinPool</code></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>The agent propagates the context for <code class="literal">ForkJoinPool</code> s.</p></td>
<td align="left" valign="top"><p>1.17.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Scala Future</p></td>
<td align="left" valign="top"><p>2.13.x</p></td>
<td align="left" valign="top"><p>The agent propagates the context when using the <code class="literal">scala.concurrent.Future</code> or <code class="literal">scala.concurrent.Promise</code>.
It will propagate the context when using chaining methods such as <code class="literal">map</code>, <code class="literal">flatMap</code>, <code class="literal">traverse</code>, &#8230;&#8203;
NOTE: To enable Scala Future support, you need to enable experimental plugins.</p></td>
<td align="left" valign="top"><p>1.18.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Reactor</p></td>
<td align="left" valign="top"><p>3.2.x+</p></td>
<td align="left" valign="top"><p>The agent propagates the context for <code class="literal">Flux</code> and <code class="literal">Mono</code>.</p></td>
<td align="left" valign="top"><p>1.24.0 (experimental), 1.34.0 (GA)</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-messaging-frameworks"></a>Messaging frameworks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<p>When using a messaging framework, sender context is propagated so that receiver events are correlated to the
same trace.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Framework</th>
<th align="left" valign="top">Supported versions</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>JMS</p></td>
<td align="left" valign="top"><p>1.1, 2.0</p></td>
<td align="left" valign="top"><p>The agent captures JMS sends and receives as spans/transactions</p></td>
<td align="left" valign="top"><p><code class="literal">javax.jms</code> since 1.13.0, <code class="literal">jakarta.jms</code> since 1.40.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Kafka</p></td>
<td align="left" valign="top"><p>&lt;0.11.0 - without distributed tracing; 0.11.0+ - full support</p></td>
<td align="left" valign="top"><p>The agent captures Kafka record sends and polls. Kafka streams are not traced.</p></td>
<td align="left" valign="top"><p>1.13.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>RabbitMQ</p></td>
<td align="left" valign="top"><p>3.x - 5.x</p></td>
<td align="left" valign="top"><p>The agent captures RabbitMQ Message sends, consumption and polling</p></td>
<td align="left" valign="top"><p>1.20.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>AWS SQS</p></td>
<td align="left" valign="top"><p>1.x, 2.x</p></td>
<td align="left" valign="top"><p>The agent captures SQS Message sends and polling as well as SQS message sends and consumption through JMS.</p></td>
<td align="left" valign="top"><p>1.34.0, 2.21+ since 1.44.0</p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="_distributed_tracing"></a>Distributed Tracing<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h4>
<p>The Java agent instrumentation for messaging system clients includes both senders and receivers.
When an instrumented client sends a message within a traced transaction, a <code class="literal">send</code> span is created. In addition, if the messaging system
supports message/record headers/annotations, the agent would add the <code class="literal">tracecontext</code> headers to enable distributed tracing.</p>
<p>On the receiver side, instrumented clients will attempt to create the proper distributed trace linkage in one of several ways, depending
on how messages are received:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><em>Passive message handling:</em> when the message handling logic is applied by implementing a passive message listener API (like
<code class="literal">javax.jms.MessageListener#onMessage</code> for example), creating the receiver transaction is mostly straightforward as the instrumented API
method invocation encapsulates message handling. Still, there are two use cases to consider:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>Single message handling:</em> when the message listener API accepts a single message, the agent would create a <code class="literal">messaging</code> typed
transaction per each received message, as a child transaction of the <code class="literal">send</code> span that corresponds the received message and with the same
trace ID
</li>
<li class="listitem">
<em>Batch message handling:</em> when the message listener API accepts a batch of messages (like
<code class="literal">org.springframework.amqp.core.MessageListener.onMessageBatch</code> for example), the agent will create a single root transaction (i.e.
different trace ID from any of the <code class="literal">send</code> spans) by default to encapsulate the entire batch handling. The batch processing transaction
would be of <code class="literal">messaging</code> type, containing links<em>*</em> to all <code class="literal">send</code> spans that correspond the messages in the batch. This can be changed
through the (non-documented) <code class="literal">message_batch_strategy</code> config option, which accepts either <code class="literal">BATCH_HANDLING</code> (default) or <code class="literal">SINGLE_HANDLING</code>
to enable the creation of a single child transaction per message.
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><em>Active message polling:</em> in some cases, message are consumed from the broker through active polling.
Whenever the polling action occurs while there is already an active span, the agent will create a <code class="literal">poll</code> span and add span links<em>*</em> to
it for each message returned by the poll action that contains <code class="literal">tracecontext</code> headers.
Since such polling APIs don&#8217;t provide any indication as to when message handling actually occurs, the agent needs to apply some
heuristics in order to trace message handling. There are two use cases to consider in this type of message receiving as well:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<em>Polling returns a single message:</em> in such cases, the agent may apply assumptions with regard to the threads that execute the message
handling logic in order to determine when handling starts and ends. Based on that, it would create a transaction per consumed message. If
the consumed message contains the <code class="literal">tracecontext</code> headers, the <code class="literal">receive</code> transaction will be a child of the corresponding <code class="literal">send</code> span.
</li>
<li class="listitem">
<em>Polling returns a message batch:</em> typically, in such cases the agent will wrap the message collection and rely on the actual
iteration to create a transaction per message as the child of the corresponding <code class="literal">send</code> span and as part of the same trace. If iteration
occurs while there is already an active span, then the agent will add a link<em>*</em> for each message <code class="literal">send</code> span to the active (parent)
span instead of creating transaction/span per message.
</li>
</ul>
</div>
</li>
</ul>
</div>
<p><em>*</em> Span links are supported by APM Server and Kibana since version 8.3 and by the Java agent since version 1.32.0</p>
<h4><a id="_rabbitmq_specifics"></a>RabbitMQ Specifics<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">context.message.queue.name</code> field will contain queue name when using polling, exchange name otherwise.
</li>
<li class="listitem">
<code class="literal">context.message.destination.resource</code> field will contain <code class="literal">rabbitmq/XXX</code> where <code class="literal">XXX</code> is exchange name.
</li>
</ul>
</div>
<p>Some exchange/queue names are normalized in order to keep low cardinality and user-friendlyness
- default exchange is indicated with <code class="literal">&lt;default&gt;</code>.
- <code class="literal">null</code> exchange is normalized to <code class="literal">&lt;unknown&gt;</code>, for example when polling without a message.
- generated queues whose name start with <code class="literal">amq.gen-</code> are normalized to <code class="literal">amq.gen-*</code>.</p>
<h3><a id="supported-scheduling-frameworks"></a>Scheduling frameworks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<p>When using a scheduling framework a transaction for every execution will be created.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Framework</th>
<th align="left" valign="top">Supported versions</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Scheduling Annotation</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>The agent instruments any method defined in a package configured in <a class="xref" href="config-stacktrace.html#config-application-packages" title="application_packages"><code class="literal">application_packages</code></a> and annotated with one of the following:
<code class="literal">org.springframework.scheduling.annotation.Scheduled</code>
<code class="literal">org.springframework.scheduling.annotation.Schedules</code>
<code class="literal">javax.ejb.Schedule</code>
<code class="literal">javax.ejb.Schedules</code>
<code class="literal">jakarta.ejb.Schedule</code>
<code class="literal">jakarta.ejb.Schedules</code> in order to create a transaction with the type <code class="literal">scheduled</code>, representing the scheduled task execution</p></td>
<td align="left" valign="top"><p>1.6.0, <code class="literal">jakarta.ejb.Schedule</code> since 1.28.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Quartz</p></td>
<td align="left" valign="top"><p>1.0+</p></td>
<td align="left" valign="top"><p>The agent instruments the <code class="literal">execute</code> method of any class implementing <code class="literal">org.quartz.Job</code>, as well as the <code class="literal">executeInternal</code> method of any class extending <code class="literal">org.springframework.scheduling.quartz.QuartzJobBean</code>, and creates a transaction with the type <code class="literal">scheduled</code>, representing the job execution</p>
<p>NOTE: only classes from the quartz-jobs dependency will be instrumented automatically. For the instrumentation of other jobs the package must be added to the <a class="xref" href="config-stacktrace.html#config-application-packages" title="application_packages"><code class="literal">application_packages</code></a> parameter.</p></td>
<td align="left" valign="top"><p>1.8.0 - 2.0+</p>
<p>1.26.0 - 1.0+</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>TimerTask</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>The agent instruments the <code class="literal">run</code> method in a package configured in <a class="xref" href="config-stacktrace.html#config-application-packages" title="application_packages"><code class="literal">application_packages</code></a> of any class extending <code class="literal">java.util.TimerTask</code>, and creates a transaction with the type <code class="literal">scheduled</code>, representing the job execution</p></td>
<td align="left" valign="top"><p>1.18.0</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-logging-frameworks"></a>Logging frameworks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<p>There are multiple log-related features in the agent and their support depend on the logging framework:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong><a class="xref" href="logs.html#log-correlation-ids" title="Log correlation">Correlation</a></strong></span>:
The agent automatically injects <code class="literal">trace.id</code>, <code class="literal">transaction.id</code> and <code class="literal">error.id</code> into the MDC implementation (see below for framework specific MDC implementations used. MDC = Mapped Diagnostic Context, a standard way to enrich log messages with additional information).
For service correlation, the agent sets values for <code class="literal">service.name</code>, <code class="literal">service.version</code> and <code class="literal">service.environment</code>, using ECS log format is required (<code class="literal">ecs-logging-java</code> or reformatting).
</li>
<li class="listitem">
<span class="strong strong"><strong><a class="xref" href="logs.html#log-error-capturing" title="Error capturing">Error capturing</a></strong></span>:
Automatically captures exceptions for calls like <code class="literal">logger.error("message", exception)</code>.
</li>
<li class="listitem">
<span class="strong strong"><strong><a class="xref" href="config-logging.html#config-log-ecs-reformatting" title="log_ecs_reformatting ( experimental)">Reformatting</a></strong></span>:
When <a class="xref" href="config-logging.html#config-log-ecs-reformatting" title="log_ecs_reformatting ( experimental)"><code class="literal">log_ecs_reformatting</code></a> is enabled, logs will be automatically reformatted into
ECS-compatible format.
</li>
</ul>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Framework</th>
<th align="left" valign="top">Supported versions</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>slf4j</p></td>
<td align="left" valign="top"><p>1.4.1+</p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>Error capturing - 1.10.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>log4j2</p></td>
<td align="left" valign="top"><p>Correlation - 2.0+</p>
<p>Reformatting - 2.6+</p></td>
<td align="left" valign="top"><p><a href="https://logging.apache.org/log4j/2.x/manual/thread-context.html" class="ulink" target="_top"><code class="literal">org.apache.logging.log4j.ThreadContext</code></a> is used for correlation.</p></td>
<td align="left" valign="top"><p>Correlation (traces) - 1.13.0</p>
<p>Correlation (service) - 1.29.0</p>
<p>Error capturing - 1.10.0</p>
<p>Reformatting - 1.22.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>log4j1</p></td>
<td align="left" valign="top"><p>Correlation &amp; error capture - 1.x</p>
<p>Reformatting - 1.2.17</p></td>
<td align="left" valign="top"><p><a href="https://logging.apache.org/log4j/1.2/apidocs/org/apache/log4j/MDC.html" class="ulink" target="_top"><code class="literal">org.apache.log4j.MDC</code></a> is used for correlation.</p></td>
<td align="left" valign="top"><p>Correlation (traces) - 1.13.0</p>
<p>Correlation (service) - 1.38.0</p>
<p>Reformatting - 1.22.0</p>
<p>Error capturing - 1.30.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Logback</p></td>
<td align="left" valign="top"><p>1.1.0+</p></td>
<td align="left" valign="top"><p><a href="https://www.slf4j.org/api/org/slf4j/MDC.html" class="ulink" target="_top"><code class="literal">org.slf4j.MDC</code></a> is used for correlation.</p></td>
<td align="left" valign="top"><p>Correlation (traces) - 1.0.0</p>
<p>Correlation (service) - 1.38.0</p>
<p>ECS Reformatting - 1.22.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>JBoss Logging</p></td>
<td align="left" valign="top"><p>3.0.0+</p></td>
<td align="left" valign="top"><p><a href="http://javadox.com/org.jboss.logging/jboss-logging/3.3.0.Final/org/jboss/logging/MDC.html" class="ulink" target="_top"><code class="literal">org.jboss.logging.MDC</code></a> is used for correlation.</p></td>
<td align="left" valign="top"><p>Correlation (traces) - 1.23.0 (LogManager 1.30.0)</p>
<p>Correlation (service) - 1.38.0</p>
<p>Reformatting - 1.31.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>JUL - <code class="literal">java.util.logging</code></p></td>
<td align="left" valign="top"><p>All supported Java versions</p></td>
<td align="left" valign="top"><p>Correlation is only supported with ECS logging (library or reformatting) as JUL does
not provide any MDC implementation.</p></td>
<td align="left" valign="top"><p>Correlation (traces) - 1.35.0 (requires ECS logging)</p>
<p>Correlation (service) - 1.38.0 (requires ECS logging)</p>
<p>Reformatting - 1.31.0</p>
<p>Error capturing - 1.31.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Tomcat JULI</p></td>
<td align="left" valign="top"><p>7.0.0+</p></td>
<td align="left" valign="top"><p>Trace correlation is only supported with ECS logging (library or reformatting) as JUL does
not provide any MDC implementation.</p>
<p>Tomcat access logs are not supported.</p></td>
<td align="left" valign="top"><p>Correlation (traces) - 1.35.0 (requires ECS logging)</p>
<p>Correlation (service) - 1.38.0 (requires ECS logging)</p>
<p>Reformatting - 1.35.0</p>
<p>Error capturing - 1.35.0</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-process-frameworks"></a>Process frameworks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Framework</th>
<th align="left" valign="top">Supported versions</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">java.lang.Process</code></p></td>
<td align="left" valign="top"><p></p></td>
<td align="left" valign="top"><p>Instruments <code class="literal">java.lang.Process</code> execution. Java 9 API using <code class="literal">ProcessHandler</code> is not supported yet.</p></td>
<td align="left" valign="top"><p>1.13.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Apache commons-exec</p></td>
<td align="left" valign="top"><p>1.3</p></td>
<td align="left" valign="top"><p>Async process support through <code class="literal">org.apache.commons.exec.DefaultExecutor</code> and subclasses instrumentation.</p></td>
<td align="left" valign="top"><p>1.13.0</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-rpc-frameworks"></a>RPC frameworks<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Framework</th>
<th align="left" valign="top">Supported versions</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>gRPC</p></td>
<td align="left" valign="top"><p>1.6.1+</p></td>
<td align="left" valign="top"><p>Client (synchronous &amp; asynchronous) &amp; Server instrumentation.
  Streaming calls are currently not instrumented.</p></td>
<td align="left" valign="top"><p>1.16.0</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-aws-lambda-runtimes"></a>AWS Lambda runtimes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<p>AWS Lambda provides multiple <a href="https://docs.aws.amazon.com/lambda/latest/dg/java-image.html" class="ulink" target="_top">JVM base images</a>. Only those that support the <code class="literal">AWS_LAMBDA_EXEC_WRAPPER</code> environment variables are supported out of the box.</p>
<p>Running with unsupported images is still possible but requires providing agent configuration through environment variables
explicitly.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Tags</th>
<th align="left" valign="top">Java Runtime</th>
<th align="left" valign="top">Operating System</th>
<th align="left" valign="top">Supported</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>11</p></td>
<td align="left" valign="top"><p>Java 11 (Corretto)</p></td>
<td align="left" valign="top"><p>Amazon Linux 2</p></td>
<td align="left" valign="top"><p>yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>8.al2</p></td>
<td align="left" valign="top"><p>Java 8 (Corretto)</p></td>
<td align="left" valign="top"><p>Amazon Linux 2</p></td>
<td align="left" valign="top"><p>yes</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>8</p></td>
<td align="left" valign="top"><p>Java 8 (OpenJDK)</p></td>
<td align="left" valign="top"><p>Amazon Linux 2018.03</p></td>
<td align="left" valign="top"><p>no</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-java-methods"></a>Java method monitoring<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<p>If you are seeing gaps in the span timeline and want to include additional methods, there are several options. See <a class="xref" href="java-method-monitoring.html" title="How to find slow methods"><em>How to find slow methods</em></a> for more information.</p>
<h3><a id="supported-metrics"></a>Metrics<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Framework</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Since</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Built-in metrics</p></td>
<td align="left" valign="top"><p>The agent sends various system, JVM, and application metrics.
 See the <a class="xref" href="metrics.html" title="Metrics">metrics</a> documentation.</p></td>
<td align="left" valign="top"><p>1.3.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>JMX</p></td>
<td align="left" valign="top"><p>Set the configuration option <a class="xref" href="config-jmx.html#config-capture-jmx-metrics" title="capture_jmx_metrics ()"><code class="literal">capture_jmx_metrics</code></a> in order to monitor any JMX metric.</p></td>
<td align="left" valign="top"><p>1.11.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Micrometer</p></td>
<td align="left" valign="top"><p>Automatically detects and reports the metrics of each <code class="literal">MeterRegistry</code>.
 See <a class="xref" href="metrics.html#metrics-micrometer" title="Micrometer metrics">Micrometer metrics</a> for more details.</p></td>
<td align="left" valign="top"><p>1.18.0</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="supported-technologies-caveats"></a>Caveats<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/1.x/docs/supported-technologies.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Other JVM languages, like Scala, Kotlin and Groovy have not been tested yet.
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="aws-lambda.html">« Monitoring AWS Lambda Java Functions</a>
</span>
<span class="next">
<a href="configuration.html">Configuration »</a>
</span>
</div>
</body>
</html>
