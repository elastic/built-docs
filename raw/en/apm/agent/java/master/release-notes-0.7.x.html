<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Java Agent version 0.7.x | APM Java Agent Reference [master] | Elastic</title>
<link rel="home" href="index.html" title="APM Java Agent Reference [master]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-0.8.x.html" title="Java Agent version 0.8.x"/>
<meta name="DC.type" content="Learn/Docs/APM Java Agent/Reference/master"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">APM Java Agent Reference [master]</a></span>
»
<span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
»
<span class="breadcrumb-node">Java Agent version 0.7.x</span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-0.8.x.html">« Java Agent version 0.8.x</a>
</span>
<span class="next">
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-0.7.x"></a>Java Agent version 0.7.x<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-0.7.1"></a>0.7.1 - 2018/10/24<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_bug_fixes_29"></a>Bug Fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid recycling transactions twice <a href="https://github.com/elastic/apm-agent-java/pull/178" class="ulink" target="_top">#178</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-0.7.0"></a>0.7.0 - 2018/09/12<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_breaking_changes_10"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Removed <code class="literal">ElasticApm.startSpan</code>. Spans can now only be created from their transactions via <code class="literal">Transaction#createSpan</code>.
</li>
<li class="listitem">
<code class="literal">ElasticApm.startTransaction</code> and <code class="literal">Transaction#createSpan</code> don&#8217;t activate the transaction and spans
and are thus not available via <code class="literal">ElasticApm.activeTransaction</code> and <code class="literal">ElasticApm.activeSpan</code>.
</li>
</ul>
</div>
<h5><a id="_features_27"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-java/edit/master/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Public API</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">Span#captureException</code> and <code class="literal">Transaction#captureException</code> to public API.
<code class="literal">ElasticApm.captureException</code> is deprecated now. Use <code class="literal">ElasticApm.currentSpan().captureException(exception)</code> instead.
</li>
<li class="listitem">
Added <code class="literal">Transaction.getId</code> and <code class="literal">Span.getId</code> methods
</li>
</ul>
</div>
</li>
<li class="listitem">
Added support for async servlet requests
</li>
<li class="listitem">
Added support for Payara/Glassfish
</li>
<li class="listitem">
Incubating support for Apache HttpClient
</li>
<li class="listitem">
Support for Spring RestTemplate
</li>
<li class="listitem">
Added configuration options <code class="literal">use_path_as_transaction_name</code> and <code class="literal">url_groups</code>,
which allow to use the URL path as the transaction name.
As that could contain path parameters, like <code class="literal">/user/$userId</code> however,
You can set the <code class="literal">url_groups</code> option to define a wildcard pattern, like <code class="literal">/user/*</code>,
to group those paths together.
This is especially helpful when using an unsupported Servlet API-based framework.
</li>
<li class="listitem">
Support duration suffixes (<code class="literal">ms</code>, <code class="literal">s</code> and <code class="literal">m</code>) for duration configuration options.
Not using the duration suffix logs out a deprecation warning and will not be supported in future versions.
</li>
<li class="listitem">
Add ability to add multiple APM server URLs, which enables client-side load balancing.
The configuration option <code class="literal">server_url</code> has been renamed to <code class="literal">server_urls</code> to reflect this change.
However, <code class="literal">server_url</code> still works for backwards compatibility.
</li>
<li class="listitem">
The configuration option <code class="literal">service_name</code> is now optional.
It defaults to the main class name,
the name of the executed jar file (removing the version number),
or the application server name (for example <code class="literal">tomcat-application</code>).
In a lot of cases,
you will still want to set the <code class="literal">service_name</code> explicitly.
But it helps getting started and seeing data easier,
as there are no required configuration options anymore.
In the future we will most likely determine more useful application names for Servlet API-based applications.
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-0.8.x.html">« Java Agent version 0.8.x</a>
</span>
<span class="next">
</span>
</div>
</div>
</body>
</html>
