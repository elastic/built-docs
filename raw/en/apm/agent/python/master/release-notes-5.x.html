<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Python Agent version 5.x | APM Python Agent Reference [master] | Elastic</title>
<meta class="elastic" name="content" content="Python Agent version 5.x | APM Python Agent Reference [master]">

<link rel="home" href="index.html" title="APM Python Agent Reference [master]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-6.x.html" title="Python Agent version 6.x"/>
<link rel="next" href="release-notes-4.x.html" title="Python Agent version 4.x"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Python Agent/Reference/master"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">Python Agent Reference<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/observability/current/apm.html">Observability › APM</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">AWS Lambda extension</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-6.x.html">« Python Agent version 6.x</a>
</span>
<span class="next">
<a href="release-notes-4.x.html">Python Agent version 4.x »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-5.x"></a>Python Agent version 5.x<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.10.1"></a>v5.10.1 - 2021/01/20<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_bug_fixes_49"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix for custom serializers in elasticsearch-py <a href="https://github.com/elastic/apm-agent-python/pull/998" class="ulink" target="_top">#998</a>
</li>
<li class="listitem">
Fix large query truncation in psycopg2 <a href="https://github.com/elastic/apm-agent-python/pull/994" class="ulink" target="_top">#994</a>
</li>
<li class="listitem">
Fix memory metrics reporting when <code class="literal">memory.usage_in_bytes</code> is unavailable <a href="https://github.com/elastic/apm-agent-python/pull/987" class="ulink" target="_top">#987</a>
</li>
<li class="listitem">
Fix for Starlette/FastAPI integration to properly obey <code class="literal">enabled</code> config <a href="https://github.com/elastic/apm-agent-python/pull/1000" class="ulink" target="_top">#1000</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.10.0"></a>v5.10.0 - 2020/11/18<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_22"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Implement "sample_rate" property for transactions and spans, and propagate through tracestate <a href="https://github.com/elastic/apm-agent-python/pull/891" class="ulink" target="_top">#891</a>
</li>
<li class="listitem">
Add support for callbacks on config changes <a href="https://github.com/elastic/apm-agent-python/pull/912" class="ulink" target="_top">#912</a>
</li>
<li class="listitem">
Override <code class="literal">sys.excepthook</code> to catch all exceptions <a href="https://github.com/elastic/apm-agent-python/pull/943" class="ulink" target="_top">#943</a>
</li>
<li class="listitem">
Implement <code class="literal">log_level</code> config (supports central config) <a href="https://github.com/elastic/apm-agent-python/pull/946" class="ulink" target="_top">#946</a>
</li>
<li class="listitem">
Implement <code class="literal">transaction_ignore_urls</code> config (supports central config) <a href="https://github.com/elastic/apm-agent-python/pull/923" class="ulink" target="_top">#923</a>
</li>
<li class="listitem">
Add public API to retrieve trace parent header <a href="https://github.com/elastic/apm-agent-python/pull/956" class="ulink" target="_top">#956</a>
</li>
<li class="listitem">
Added support for cgroup memory metrics <a href="https://github.com/elastic/apm-agent-python/pull/846" class="ulink" target="_top">#846</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_50"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix to collect the whole query body in <code class="literal">elasticsearch-py</code> <a href="https://github.com/elastic/apm-agent-python/pull/940" class="ulink" target="_top">#940</a>
</li>
<li class="listitem">
Fix for GraphQL transaction naming <a href="https://github.com/elastic/apm-agent-python/pull/881" class="ulink" target="_top">#881</a>
</li>
<li class="listitem">
Ensure that query string max length is maintained after sanitization <a href="https://github.com/elastic/apm-agent-python/pull/968" class="ulink" target="_top">#968</a>
</li>
<li class="listitem">
Adapted kubernetes kubepod regex for detecting kubernetes metadata <a href="https://github.com/elastic/apm-agent-python/pull/958" class="ulink" target="_top">#958</a>
</li>
<li class="listitem">
Updated Starlette integration to use the route as transaction name if possible <a href="https://github.com/elastic/apm-agent-python/pull/957" class="ulink" target="_top">#957</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.9.0"></a>v5.9.0 - 2020/09/23<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_23"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add instrumentation support for <a href="https://github.com/encode/httpx" class="ulink" target="_top"><code class="literal">httpx</code></a> and <a href="https://github.com/encode/httpcore" class="ulink" target="_top"><code class="literal">httpcore</code></a> <a href="https://github.com/elastic/apm-agent-python/pull/898" class="ulink" target="_top">#898</a>
</li>
<li class="listitem">
Implement "outcome" property for transactions and spans <a href="https://github.com/elastic/apm-agent-python/pull/899" class="ulink" target="_top">#899</a>
</li>
<li class="listitem">
Add support for <code class="literal">asyncpg</code> <a href="https://github.com/elastic/apm-agent-python/pull/889" class="ulink" target="_top">#889</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_51"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix validation of config to properly require <code class="literal">required</code> config items. <a href="https://github.com/elastic/apm-agent-python/pull/927" class="ulink" target="_top">#927</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.8.1"></a>v5.8.1 - 2020/07/13<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_bug_fixes_52"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Updated CLOUD_PROVIDER config to allow for new options defined in <a href="https://github.com/elastic/apm/issues/289" class="ulink" target="_top">#289</a> <a href="https://github.com/elastic/apm-agent-python/pull/878" class="ulink" target="_top">#878</a>
</li>
<li class="listitem">
Fixed a bug in AWS metadata collection on docker containers in AWS Elastic Beanstalk <a href="https://github.com/elastic/apm-agent-python/pull/884" class="ulink" target="_top">#884</a>
</li>
<li class="listitem">
Fixed a bug in local variable serialization that could occur in multi-threaded applications <a href="https://github.com/elastic/apm-agent-python/pull/885" class="ulink" target="_top">#885</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.8.0"></a>v5.8.0 - 2020/06/30<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_24"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added graphql (graphene) support <a href="https://github.com/elastic/apm-agent-python/pull/850" class="ulink" target="_top">#850</a>
</li>
<li class="listitem">
Collect cloud provider metadata <a href="https://github.com/elastic/apm-agent-python/pull/826" class="ulink" target="_top">#826</a>
</li>
<li class="listitem">
Added <code class="literal">sanitize_field_names</code> config <a href="https://github.com/elastic/apm-agent-python/pull/860" class="ulink" target="_top">#860</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_53"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix header fetching for ASGI implementations <a href="https://github.com/elastic/apm-agent-python/pull/856" class="ulink" target="_top">#856</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.7.0"></a>v5.7.0 - 2020/06/11<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_25"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
capture number of affected rows for INSERT/UPDATE/DELETE SQL queries <a href="https://github.com/elastic/apm-agent-python/pull/614" class="ulink" target="_top">#614</a>
</li>
<li class="listitem">
Added instrumentation for AsyncElasticsearch <a href="https://github.com/elastic/apm-agent-python/pull/843" class="ulink" target="_top">#843</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_54"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added error handling around frame processing in Django <a href="https://github.com/elastic/apm-agent-python/pull/837" class="ulink" target="_top">#837</a>
</li>
<li class="listitem">
Limit SQL queries in context data to 10000 characters <a href="https://github.com/elastic/apm-agent-python/pull/842" class="ulink" target="_top">#842</a>
</li>
<li class="listitem">
Omit the "sync" property on spans by default <a href="https://github.com/elastic/apm-agent-python/pull/854" class="ulink" target="_top">#854</a>
</li>
<li class="listitem">
Update the pid/ppid in transport metadata when they change <a href="https://github.com/elastic/apm-agent-python/pull/825" class="ulink" target="_top">#825</a>
</li>
<li class="listitem">
Added better error handling around closing the transport <a href="https://github.com/elastic/apm-agent-python/pull/838" class="ulink" target="_top">#838</a>
</li>
<li class="listitem">
Fixed an issue with the django admin command not detecting misconfigured server urls <a href="https://github.com/elastic/apm-agent-python/pull/855" class="ulink" target="_top">#855</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.6.0"></a>v5.6.0 - 2020/05/06<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_new_features"></a>New features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added SERVICE_NODE_NAME config <a href="https://github.com/elastic/apm-agent-python/pull/592" class="ulink" target="_top">#592</a>
</li>
<li class="listitem">
Added instrumentation support for <a href="https://github.com/pinterest/pymemcache" class="ulink" target="_top"><code class="literal">pymemcache</code></a> <a href="https://github.com/elastic/apm-agent-python/pull/812" class="ulink" target="_top">#812</a>
</li>
<li class="listitem">
Added new configuration options <code class="literal">enabled</code> and <code class="literal">recording</code> <a href="https://github.com/elastic/apm-agent-python/pull/790" class="ulink" target="_top">#790</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_55"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue with metrics collection raising RuntimeErrors <a href="https://github.com/elastic/apm-agent-python/pull/802" class="ulink" target="_top">#802</a>
</li>
<li class="listitem">
Fixed an issue with getting extended destination data from pymongo <a href="https://github.com/elastic/apm-agent-python/pull/797" class="ulink" target="_top">#797</a>
</li>
<li class="listitem">
Fixed an issue with Tornado instrumentation when Tornado isn&#8217;t the "main" framework <a href="https://github.com/elastic/apm-agent-python/pull/813" class="ulink" target="_top">#813</a>
</li>
<li class="listitem">
Fixed an issue with streaming requests being consumed by the agent even if capture_body is disabled <a href="https://github.com/elastic/apm-agent-python/pull/817" class="ulink" target="_top">#817</a>
</li>
</ul>
</div>
<h5><a id="_pending_deprecations_3"></a>Pending Deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Python 2.7 suppot will be dropped in version 6.0 of the agent.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.5.2"></a>v5.5.2 - 2020/03/20<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_bug_fixes_56"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue with Redis using unix domain sockets and destination information <a href="https://github.com/elastic/apm-agent-python/pull/766" class="ulink" target="_top">#766</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.5.1"></a>v5.5.1 - 2020/03/19<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_bug_fixes_57"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed Starlette middleware when capturing request body while the content-type header is absent <a href="https://github.com/elastic/apm-agent-python/pull/763" class="ulink" target="_top">#763</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.5.0"></a>v5.5.0 - 2020/03/19<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<h5><a id="_features_26"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added destination information to database/HTTP spans, used for service maps <a href="https://github.com/elastic/apm-agent-python/pull/618" class="ulink" target="_top">#618</a>
</li>
</ul>
</div>
<h5><a id="_deprecations"></a>Deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Python 3.4 is no longer supported.</strong></span>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.4.3"></a>v5.4.3 - 2020/02/27<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.4.2...v5.4.3" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_bug_fixes_58"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
fixed a bug in our aiohttp.client support if used with a yarl URL <a href="https://github.com/elastic/apm-agent-python/pull/733" class="ulink" target="_top">#733</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.4.2"></a>v5.4.2 - 2020/02/18<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.4.1...v5.4.2" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_bug_fixes_59"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
fixed a bug in our celery implementation related to the threading refactor in 5.4.0 <a href="https://github.com/elastic/apm-agent-python/pull/724" class="ulink" target="_top">#724</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.4.1"></a>v5.4.1 - 2020/02/18<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.4.0...v5.4.1" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_bug_fixes_60"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
fixed an issue with a DEBUG log message raising an error in some cases <a href="https://github.com/elastic/apm-agent-python/pull/722" class="ulink" target="_top">#722</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.4.0"></a>v5.4.0 - 2020/02/17<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.3.3...v5.4.0" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_deprecations_2"></a>Deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<p>This will be the last minor release to support the following versions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Python 3.4
</li>
<li class="listitem">
Django 1.8, 1.9 and 1.10
</li>
<li class="listitem">
Flask &lt; 1.0
</li>
</ul>
</div>
<p>In addition, as of this release we only supported capturing extended
information on Elasticsearch queries when using keyword arguments with the
elasticsearch-py API. This is in keeping with the
<a href="https://elasticsearch-py.readthedocs.io/en/master/api.html#api-documentation" class="ulink" target="_top">upstream policy</a>
of positional arguments being unsupported. <a href="https://github.com/elastic/apm-agent-python/pull/697" class="ulink" target="_top">#697</a></p>
<h5><a id="_new_features_2"></a>New Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refactored spawning of background threads <a href="https://github.com/elastic/apm-agent-python/pull/636" class="ulink" target="_top">#636</a>
</li>
<li class="listitem">
Added support for aiohttp client and server <a href="https://github.com/elastic/apm-agent-python/pull/659" class="ulink" target="_top">#659</a>
</li>
<li class="listitem">
Added support for tornado web framework <a href="https://github.com/elastic/apm-agent-python/pull/661" class="ulink" target="_top">#661</a>
</li>
<li class="listitem">
Added support for starlette/fastapi <a href="https://github.com/elastic/apm-agent-python/pull/694" class="ulink" target="_top">#694</a>
</li>
<li class="listitem">
Added support for W3C <code class="literal">traceparent</code> and <code class="literal">tracestate</code> headers <a href="https://github.com/elastic/apm-agent-python/pull/660" class="ulink" target="_top">#660</a>
</li>
<li class="listitem">
Added Django 3.0 and Flask 1.1 to the support matrix <a href="https://github.com/elastic/apm-agent-python/pull/667" class="ulink" target="_top">#667</a>
</li>
<li class="listitem">
Added support for aiopg <a href="https://github.com/elastic/apm-agent-python/pull/668" class="ulink" target="_top">#668</a>
</li>
<li class="listitem">
Use Span ID as parent ID in errors if an error happens inside a span <a href="https://github.com/elastic/apm-agent-python/pull/669" class="ulink" target="_top">#669</a>
</li>
<li class="listitem">
Added experimental support for API Key authentication <a href="https://github.com/elastic/apm-agent-python/pull/679" class="ulink" target="_top">#679</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_61"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
introduced workaround to avoid instrumenting twice in rare cases <a href="https://github.com/elastic/apm-agent-python/pull/708" class="ulink" target="_top">#708</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.3.3"></a>v5.3.3 - 2020/01/14<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.3.2...v5.3.3" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_bug_fixes_62"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue with OpenTracing bridge and dropped spans <a href="https://github.com/elastic/apm-agent-python/pull/687" class="ulink" target="_top">#687</a>
</li>
<li class="listitem">
Fixed bug that would make the agent ignore the <code class="literal">hostname</code> configuration setting <a href="https://github.com/elastic/apm-agent-python/pull/689" class="ulink" target="_top">#689</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.3.2"></a>v5.3.2 - 2019/11/25<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.3.1...v5.3.2" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_bug_fixes_63"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for IPv6 address format when parsing urls <a href="https://github.com/elastic/apm-agent-python/pull/649" class="ulink" target="_top">#649</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.3.1"></a>v5.3.1 - 2019/11/18<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.3.0...v5.3.1" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_new_features_3"></a>New Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for shortening dicts in local variables <a href="https://github.com/elastic/apm-agent-python/pull/638" class="ulink" target="_top">#638</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.3.0"></a>v5.3.0 - 2019/11/14<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.2.3...v5.3.0" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_new_features_4"></a>New Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added instrumentation for mysql-connector and pymysql <a href="https://github.com/elastic/apm-agent-python/pull/603" class="ulink" target="_top">#603</a>
</li>
<li class="listitem">
Implemented stack_trace_limit configuration option <a href="https://github.com/elastic/apm-agent-python/pull/623" class="ulink" target="_top">#623</a>
</li>
<li class="listitem">
Autoinsert tracing middleware in django settings <a href="https://github.com/elastic/apm-agent-python/pull/625" class="ulink" target="_top">#625</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_64"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed issue with transactions not being captured when errors occur in Flask <a href="https://github.com/elastic/apm-agent-python/pull/635" class="ulink" target="_top">#635</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.2.3"></a>v5.2.3 - 2019/11/13<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.2.2...v5.2.3" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_bug_fixes_65"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ensure that metrics with value 0 are not collected if they have the <code class="literal">reset_on_collect</code> flag set <a href="https://github.com/elastic/apm-agent-python/pull/615" class="ulink" target="_top">#615</a>
</li>
<li class="listitem">
Unwrap postgres cursor for newly introduced psycopg2 extensions <a href="https://github.com/elastic/apm-agent-python/pull/621" class="ulink" target="_top">#621</a>
</li>
<li class="listitem">
Fix pod ID for kubernetes when using the systemd cgroup driver <a href="https://github.com/elastic/apm-agent-python/pull/631" class="ulink" target="_top">#631</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.2.2"></a>v5.2.2 - 2019/10/16<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.2.1...v5.2.2" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_bug_fixes_66"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue where a <code class="literal">cpu_total</code> of <code class="literal">0</code> could cause an exception <a href="https://github.com/elastic/apm-agent-python/pull/610" class="ulink" target="_top">#610</a>, <a href="https://github.com/elastic/apm-agent-python/pull/611" class="ulink" target="_top">#611</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.2.1"></a>v5.2.1 - 2019/10/09<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.2.0...v5.2.1" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_bug_fixes_67"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue with DroppedSpans and logging integration <a href="https://github.com/elastic/apm-agent-python/pull/602" class="ulink" target="_top">#602</a>
</li>
<li class="listitem">
Fixed an issue with processors not being applied to chained exceptions <a href="https://github.com/elastic/apm-agent-python/pull/604" class="ulink" target="_top">#604</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.2.0"></a>v5.2.0 - 2019/10/02<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.1.2...v5.2.0" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_new_features_5"></a>New Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added automatic tagging of LogRecord objects with transaction, trace, and span IDs via a LogRecordFactory (Python 3.2+) <a href="https://github.com/elastic/apm-agent-python/pull/520" class="ulink" target="_top">#520</a>, <a href="https://github.com/elastic/apm-agent-python/pull/586" class="ulink" target="_top">#586</a>
</li>
<li class="listitem">
Added <code class="literal">logging</code> filter and record factory for adding transaction, trace, and span IDs <a href="https://github.com/elastic/apm-agent-python/pull/520" class="ulink" target="_top">#520</a>, <a href="https://github.com/elastic/apm-agent-python/pull/586" class="ulink" target="_top">#586</a>
</li>
<li class="listitem">
Added <code class="literal">structlog</code> processor for adding transaction, trace, and span IDs <a href="https://github.com/elastic/apm-agent-python/pull/520" class="ulink" target="_top">#520</a>, <a href="https://github.com/elastic/apm-agent-python/pull/586" class="ulink" target="_top">#586</a>
</li>
<li class="listitem">
Added new public API calls for getting transaction, trace, and span IDs <a href="https://github.com/elastic/apm-agent-python/pull/520" class="ulink" target="_top">#520</a>, <a href="https://github.com/elastic/apm-agent-python/pull/586" class="ulink" target="_top">#586</a>
</li>
<li class="listitem">
Added support for chained exceptions in Python 3 <a href="https://github.com/elastic/apm-agent-python/pull/596" class="ulink" target="_top">#596</a>.
Note that chained exceptions will be captured and stored in Elasticsearch, but not yet
visualized in the APM UI. The UI component will be released in an upcoming Kibana release (7.5 or later).
</li>
<li class="listitem">
Added support for using <code class="literal">structlog</code> for agent logging <a href="https://github.com/elastic/apm-agent-python/pull/591" class="ulink" target="_top">#591</a>
</li>
</ul>
</div>
<h5><a id="_bug_fixes_68"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Drop events immediately if a processor returns a falsy value <a href="https://github.com/elastic/apm-agent-python/pull/585" class="ulink" target="_top">#585</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.1.2"></a>v5.1.2 - 2019/09/04<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.1.1...v5.1.2" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_bugfixes"></a>Bugfixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue with http server_url and <code class="literal">'VERIFY_SERVER_CERT': False</code> <a href="https://github.com/elastic/apm-agent-python/pull/570" class="ulink" target="_top">#570</a>, <a href="https://github.com/elastic/apm-agent-python/pull/578" class="ulink" target="_top">#578</a>
</li>
<li class="listitem">
Fixed instrumenting of psycopg2 when using their context manager interface <a href="https://github.com/elastic/apm-agent-python/pull/577" class="ulink" target="_top">#577</a>, <a href="https://github.com/elastic/apm-agent-python/pull/580" class="ulink" target="_top">#580</a>
</li>
<li class="listitem">
Fixed zerorpc tests <a href="https://github.com/elastic/apm-agent-python/pull/581" class="ulink" target="_top">#581</a>
</li>
<li class="listitem">
Fixed to correctly check if gevent has patched threading.local <a href="https://github.com/elastic/apm-agent-python/pull/579" class="ulink" target="_top">#579</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.1.1"></a>v5.1.1 - 2019/08/22<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.1.0...v5.1.1" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_bug_fixes_69"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue with empty responses from APM Server&#8217;s config endpoint <a href="https://github.com/elastic/apm-agent-python/pull/562" class="ulink" target="_top">#562</a>, <a href="https://github.com/elastic/apm-agent-python/pull/563" class="ulink" target="_top">#563</a>
</li>
<li class="listitem">
Fixed Windows tests by avoiding time.sleep in breakdown metrics tests <a href="https://github.com/elastic/apm-agent-python/pull/537" class="ulink" target="_top">#537</a>, <a href="https://github.com/elastic/apm-agent-python/pull/550" class="ulink" target="_top">#550</a>
</li>
<li class="listitem">
Fixed container ID matching to match CloudFoundry Garden container IDs <a href="https://github.com/elastic/apm-agent-python/pull/523" class="ulink" target="_top">#523</a>, <a href="https://github.com/elastic/apm-agent-python/pull/564" class="ulink" target="_top">#564</a>
</li>
<li class="listitem">
Fixed an issue in the urllib instrumentation if no port is set <a href="https://github.com/elastic/apm-agent-python/pull/567" class="ulink" target="_top">#567</a>
</li>
</ul>
</div>
<h5><a id="_other_2"></a>Other<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added Python 3.8 RC to the test matrix <a href="https://github.com/elastic/apm-agent-python/pull/565" class="ulink" target="_top">#565</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.1.0"></a>v5.1.0 - 2019/08/14<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v5.0.0...v5.1.0" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_security_issues"></a>Security issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
This release fixes CVE-2019-7617
</li>
</ul>
</div>
<h5><a id="_new_features_6"></a>New Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for global labels which will be applied to every transaction/error/metric <a href="https://github.com/elastic/apm-agent-python/pull/549" class="ulink" target="_top">#549</a>
</li>
<li class="listitem">
Added support for <code class="literal">NO_PROXY</code> environment variable <a href="https://github.com/elastic/apm-agent-python/pull/458" class="ulink" target="_top">#458</a>, <a href="https://github.com/elastic/apm-agent-python/pull/551" class="ulink" target="_top">#551</a>
</li>
</ul>
</div>
<h5><a id="_bugfixes_2"></a>Bugfixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue with using callables in set_context with unsampled transactions <a href="https://github.com/elastic/apm-agent-python/pull/541" class="ulink" target="_top">#541</a>, <a href="https://github.com/elastic/apm-agent-python/pull/542" class="ulink" target="_top">#542</a>
</li>
<li class="listitem">
Limited the length of error.culprit to 1024 characters <a href="https://github.com/elastic/apm-agent-python/pull/491" class="ulink" target="_top">#491</a>, <a href="https://github.com/elastic/apm-agent-python/pull/543" class="ulink" target="_top">#543</a>
</li>
<li class="listitem">
Fixed an issue with the <code class="literal">instrument</code> config option <a href="https://github.com/elastic/apm-agent-python/pull/546" class="ulink" target="_top">#546</a>, <a href="https://github.com/elastic/apm-agent-python/pull/547" class="ulink" target="_top">#547</a>
</li>
<li class="listitem">
Limited the amount of distinct metrics to 1000 <a href="https://github.com/elastic/apm-agent-python/pull/540" class="ulink" target="_top">#540</a>, <a href="https://github.com/elastic/apm-agent-python/pull/544" class="ulink" target="_top">#544</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="release-notes-5.0.0"></a>v5.0.0 - 2019/07/31<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><a href="https://github.com/elastic/apm-agent-python/compare/v4.2.2...v5.0.0" class="ulink" target="_top">Check the diff</a></p>
<h5><a id="_breaking_changes_2"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Implemented type/subtype/action hierachy for spans. Ensure that you run at least APM Server 6.6 <a href="https://github.com/elastic/apm-agent-python/pull/377" class="ulink" target="_top">#377</a>
</li>
<li class="listitem">
renamed tags to labels and changed API. The old API remains for backwards compatibility until 6.0 of the agent <a href="https://github.com/elastic/apm-agent-python/pull/538" class="ulink" target="_top">#538</a>
</li>
</ul>
</div>
<h5><a id="_other_changes"></a>Other changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-python/edit/main/CHANGELOG.asciidoc">edit</a></h5>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for recording breakdown metrics <a href="https://github.com/elastic/apm-agent-python/pull/535" class="ulink" target="_top">#535</a>
</li>
<li class="listitem">
Added support for central config management <a href="https://github.com/elastic/apm-agent-python/pull/511" class="ulink" target="_top">#511</a>
</li>
<li class="listitem">
Added instrumentation for <code class="literal">urllib2</code> (Python 2) / <code class="literal">urllib.request</code> (Python 3) <a href="https://github.com/elastic/apm-agent-python/pull/464" class="ulink" target="_top">#464</a>
</li>
<li class="listitem">
Added <code class="literal">disable_metrics</code> setting <a href="https://github.com/elastic/apm-agent-python/pull/399" class="ulink" target="_top">#399</a>
</li>
<li class="listitem">
Updated elasticsearch instrumentation for 7.x <a href="https://github.com/elastic/apm-agent-python/pull/482" class="ulink" target="_top">#482</a>, <a href="https://github.com/elastic/apm-agent-python/pull/483" class="ulink" target="_top">#483</a>
</li>
<li class="listitem">
Fixed an issue with opentracing-python 2.1 <a href="https://github.com/elastic/apm-agent-python/pull/471" class="ulink" target="_top">#471</a>
</li>
<li class="listitem">
Fixed an issue with certificate pinning <a href="https://github.com/elastic/apm-agent-python/pull/497" class="ulink" target="_top">#497</a>
</li>
<li class="listitem">
Lowered log level of transport success messages <a href="https://github.com/elastic/apm-agent-python/pull/527" class="ulink" target="_top">#527</a>, <a href="https://github.com/elastic/apm-agent-python/pull/531" class="ulink" target="_top">#531</a>
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-6.x.html">« Python Agent version 6.x</a>
</span>
<span class="next">
<a href="release-notes-4.x.html">Python Agent version 4.x »</a>
</span>
</div>
</div>
</body>
</html>
