<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>How to interpret long task spans in the UI | APM Real User Monitoring JavaScript Agent Reference [4.x] | Elastic</title>
<link rel="home" href="index.html" title="APM Real User Monitoring JavaScript Agent Reference [4.x]"/>
<link rel="up" href="advanced-topics.html" title="Advanced Topics"/>
<link rel="prev" href="advanced-topics.html" title="Advanced Topics"/>
<link rel="next" href="typescript.html" title="Using with TypeScript"/>
<meta name="DC.type" content="Learn/Docs/APM Real User Monitoring JavaScript Agent/Reference/4.x"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="4.x"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">APM Real User Monitoring JavaScript Agent Reference [4.x]</a></span>
»
<span class="breadcrumb-link"><a href="advanced-topics.html">Advanced Topics</a></span>
»
<span class="breadcrumb-node">How to interpret long task spans in the UI</span>
</div>
<div class="navheader">
<span class="prev">
<a href="advanced-topics.html">« Advanced Topics</a>
</span>
<span class="next">
<a href="typescript.html">Using with TypeScript »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="longtasks"></a>How to interpret long task spans in the UI<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-agent-rum-js/edit/4.x/docs/advanced-topics.asciidoc">edit</a></h2>
</div></div></div>
<p>Long tasks is a new performance metric that can be used for measuring the
responsiveness of an application and helps developers to understand the bad user
experience. It enables detecting tasks that monopolize the UI thread for
extended periods (greater than 50 milliseconds) and block other
critical tasks from being executed as stated in the <a href="https://github.com/w3c/longtasks" class="ulink" target="_top">official spec</a>.</p>
<p>RUM agent automatically captures these Long tasks and include them as spans as
part of the transaction. Since long tasks currently does not have the full information on
which part of code cause slowness, it would be hard to interpret these spans.
Below you can find some tips to help with interpreting long task spans:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The name of the long task span, e.g.: <code class="literal">self</code>, <code class="literal">same-origin</code>, etc., implies the
origin of the task. It could be the current browsing context or inside iframes.
</li>
<li class="listitem">
Context of the span is enriched with useful information like <code class="literal">attribution</code>
(the type of work, such as script, layout, etc), <code class="literal">type</code>, <code class="literal">id</code> and <code class="literal">name</code>, which
determines the culprit container (such as window, iframe, embed or object)
responsible for the long task.
</li>
</ul>
</div>
<p>With the help of the transaction timeline and span timings,
one could dig deeper by marking slow application code with the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Performance/mark" class="ulink" target="_top">User Timing API</a>.
When these spans are then captured by the agent again, you could combine them
with long tasks to reveal the true source code location.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="advanced-topics.html">« Advanced Topics</a>
</span>
<span class="next">
<a href="typescript.html">Using with TypeScript »</a>
</span>
</div>
</div>
</body>
</html>
