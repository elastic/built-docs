<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>APM Server response codes | APM User Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="APM Server response codes | APM User Guide [master]">

<link rel="home" href="index.html" title="APM User Guide [master]"/>
<link rel="up" href="troubleshoot-apm.html" title="Troubleshoot"/>
<link rel="prev" href="server-es-down.html" title="What happens when APM Server or Elasticsearch is down?"/>
<link rel="next" href="processing-and-performance.html" title="Processing and performance"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Guide/master"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">User Guide<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/apm/guide/current/apm-overview.html">User Guide</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">Monitoring AWS Lambda Functions</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="troubleshoot-apm.html">Troubleshoot</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="server-es-down.html">« What happens when APM Server or Elasticsearch is down?</a>
</span>
<span class="next">
<a href="processing-and-performance.html">Processing and performance »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="common-response-codes"></a>APM Server response codes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/main/docs/apm-response-codes.asciidoc">edit</a></h2>
</div></div></div>
<h4><a id="bad-request"></a>HTTP 400: Data decoding error / Data validation error<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/main/docs/apm-response-codes.asciidoc">edit</a></h4>
<p>The most likely cause for this error is using incompatible versions of APM agent and APM Server.
See the <a class="xref" href="agent-server-compatibility.html" title="APM agent compatibility">agent/server compatibility matrix</a> to verify compatibility.</p>
<h4><a id="event-too-large"></a>HTTP 400: Event too large<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/main/docs/apm-response-codes.asciidoc">edit</a></h4>
<p>APM agents communicate with the APM server by sending events in an HTTP request. Each event is sent as its own line in the HTTP request body. If events are too large, you should consider increasing the <a class="xref" href="input-apm.html#apm-input-general-settings" title="General settings">maximum size per event</a>
setting in the APM integration, and adjusting relevant settings in the agent.</p>
<h4><a id="unauthorized"></a>HTTP 401: Invalid token<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/main/docs/apm-response-codes.asciidoc">edit</a></h4>
<p>Either the <a class="xref" href="secret-token.html" title="Secret token">Secret token</a> in the request header doesn&#8217;t match the secret token configured in the APM integration,
or the <a class="xref" href="api-key.html" title="API keys">API keys</a> is invalid.</p>
<h4><a id="forbidden"></a>HTTP 403: Forbidden request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/main/docs/apm-response-codes.asciidoc">edit</a></h4>
<p>Either you are sending requests to a <a class="xref" href="apm-rum.html" title="Real User Monitoring (RUM)">RUM</a> endpoint without RUM enabled, or a request
is coming from an origin not specified in the APM integration settings.
See the <a class="xref" href="input-apm.html#apm-input-rum-settings" title="Real User Monitoring (RUM) settings">Allowed origins</a> setting for more information.</p>
<h4><a id="request-timed-out"></a>HTTP 503: Request timed out waiting to be processed<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/main/docs/apm-response-codes.asciidoc">edit</a></h4>
<p>This happens when APM Server exceeds the maximum number of requests that it can process concurrently.
To alleviate this problem, you can try to: reduce the sample rate and/or reduce the collected stack trace information.
See <a class="xref" href="reduce-apm-storage.html" title="Reduce storage">Reduce storage</a> for more information.</p>
<p>Another option is to increase processing power.
This can be done by either migrating your Elastic Agent to a more powerful machine
or adding more APM Server instances.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="server-es-down.html">« What happens when APM Server or Elasticsearch is down?</a>
</span>
<span class="next">
<a href="processing-and-performance.html">Processing and performance »</a>
</span>
</div>
</div>
</body>
</html>
