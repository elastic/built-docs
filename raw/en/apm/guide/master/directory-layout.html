<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Installation layout | APM User Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Installation layout | APM User Guide [master]">

<link rel="home" href="index.html" title="APM User Guide [master]"/>
<link rel="up" href="setting-up-and-running.html" title="APM Server advanced setup"/>
<link rel="prev" href="setting-up-and-running.html" title="APM Server advanced setup"/>
<link rel="next" href="command-line-options.html" title="APM Server command reference"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Guide/master"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">User Guide<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/apm/guide/current/apm-overview.html">User Guide</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">Monitoring AWS Lambda Functions</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setting-up-and-running.html">APM Server advanced setup</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="setting-up-and-running.html">« APM Server advanced setup</a>
</span>
<span class="next">
<a href="command-line-options.html">APM Server command reference »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="directory-layout"></a>Installation layout<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/main/docs/legacy/copied-from-beats/docs/shared-directory-layout.asciidoc">edit</a></h2>
</div></div></div>
<p>View the installation layout and default paths for both Fleet-managed APM Server and the APM Server binary.</p>
<h3><a id="_fleet_managed"></a>Fleet-managed<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/main/docs/legacy/copied-from-beats/docs/shared-directory-layout.asciidoc">edit</a></h3>
<p>Elastic Agent files are installed in the following locations. You cannot override
these installation paths because they are required for upgrades.</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Installation layout">
    <button role="tab"
            aria-selected="true"
            aria-controls="mac-tab-install-layout"
            id="mac-install-layout">
      macOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-install-layout"
            id="linux-install-layout"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-install-layout"
            id="win-install-layout"
            tabindex="-1">
      Windows
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="deb-tab-install-layout"
            id="deb-install-layout"
            tabindex="-1">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-install-layout"
            id="rpm-install-layout"
            tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-install-layout"
       aria-labelledby="mac-install-layout">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">/Library/Elastic/Agent/*</code>
</span>
</dt>
<dd>
Elastic Agent program files
</dd>
<dt>
<span class="term">
<code class="literal">/Library/Elastic/Agent/elastic-agent.yml</code>
</span>
</dt>
<dd>
Main Elastic Agent configuration
</dd>
<dt>
<span class="term">
<code class="literal">/Library/Elastic/Agent/fleet.enc</code>
</span>
</dt>
<dd>
Main Elastic Agent Fleet encrypted configuration
</dd>
<dt>
<span class="term">
<code class="literal">/Library/Elastic/Agent/data/elastic-agent-*/logs/elastic-agent-json.log</code>
</span>
</dt>
<dd>
Log files for Elastic Agent<sup class="footnote" id="_footnote_lognumbering">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>
</dd>
<dt>
<span class="term">
<code class="literal">/Library/Elastic/Agent/data/elastic-agent-*/logs/default/*-json.log</code>
</span>
</dt>
<dd>
Log files for Beats shippers<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>
</dd>
<dt>
<span class="term">
<code class="literal">/usr/bin/elastic-agent</code>
</span>
</dt>
<dd>
Shell wrapper installed into PATH
</dd>
</dl>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-install-layout"
       aria-labelledby="linux-install-layout"
       hidden="">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">/opt/Elastic/Agent/*</code>
</span>
</dt>
<dd>
Elastic Agent program files
</dd>
<dt>
<span class="term">
<code class="literal">/opt/Elastic/Agent/elastic-agent.yml</code>
</span>
</dt>
<dd>
Main Elastic Agent configuration
</dd>
<dt>
<span class="term">
<code class="literal">/opt/Elastic/Agent/fleet.enc</code>
</span>
</dt>
<dd>
Main Elastic Agent Fleet encrypted configuration
</dd>
<dt>
<span class="term">
<code class="literal">/opt/Elastic/Agent/data/elastic-agent-*/logs/elastic-agent-json.log</code>
</span>
</dt>
<dd>
Log files for Elastic Agent<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>
</dd>
<dt>
<span class="term">
<code class="literal">/opt/Elastic/Agent/data/elastic-agent-*/logs/default/*-json.log</code>
</span>
</dt>
<dd>
Log files for Beats shippers
</dd>
<dt>
<span class="term">
<code class="literal">/usr/bin/elastic-agent</code>
</span>
</dt>
<dd>
Shell wrapper installed into PATH
</dd>
</dl>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-install-layout"
       aria-labelledby="win-install-layout"
       hidden="">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">C:\Program Files\Elastic\Agent*</code>
</span>
</dt>
<dd>
Elastic Agent program files
</dd>
<dt>
<span class="term">
<code class="literal">C:\Program Files\Elastic\Agent\elastic-agent.yml</code>
</span>
</dt>
<dd>
Main Elastic Agent configuration
</dd>
<dt>
<span class="term">
<code class="literal">C:\Program Files\Elastic\Agent\fleet.enc</code>
</span>
</dt>
<dd>
Main Elastic Agent Fleet encrypted configuration
</dd>
<dt>
<span class="term">
<code class="literal">C:\Program Files\Elastic\Agent\data\elastic-agent-*\logs\elastic-agent-json.log</code>
</span>
</dt>
<dd>
Log files for Elastic Agent<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>
</dd>
<dt>
<span class="term">
<code class="literal">C:\Program Files\Elastic\Agent\data\elastic-agent-*\logs\default\*-json.log*</code>
</span>
</dt>
<dd>
Log files for Beats shippers
</dd>
</dl>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-install-layout"
       aria-labelledby="deb-install-layout"
       hidden="">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">/usr/share/elastic-agent/*</code>
</span>
</dt>
<dd>
Elastic Agent program files
</dd>
<dt>
<span class="term">
<code class="literal">/etc/elastic-agent/elastic-agent.yml</code>
</span>
</dt>
<dd>
Main Elastic Agent configuration
</dd>
<dt>
<span class="term">
<code class="literal">/etc/elastic-agent/fleet.enc</code>
</span>
</dt>
<dd>
Main Elastic Agent Fleet encrypted configuration
</dd>
<dt>
<span class="term">
<code class="literal">/var/lib/elastic-agent/data/elastic-agent-*/logs/elastic-agent-json.log</code>
</span>
</dt>
<dd>
Log files for Elastic Agent<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>
</dd>
<dt>
<span class="term">
<code class="literal">/var/lib/elastic-agent/data/elastic-agent-*/logs/default/*-json.log*</code>
</span>
</dt>
<dd>
Log files for Beats shippers
</dd>
<dt>
<span class="term">
<code class="literal">/usr/bin/elastic-agent</code>
</span>
</dt>
<dd>
Shell wrapper installed into PATH
</dd>
</dl>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-install-layout"
       aria-labelledby="rpm-install-layout"
       hidden="">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">/usr/share/elastic-agent/*</code>
</span>
</dt>
<dd>
Elastic Agent program files
</dd>
<dt>
<span class="term">
<code class="literal">/etc/elastic-agent/elastic-agent.yml</code>
</span>
</dt>
<dd>
Main Elastic Agent configuration
</dd>
<dt>
<span class="term">
<code class="literal">/etc/elastic-agent/fleet.enc</code>
</span>
</dt>
<dd>
Main Elastic Agent Fleet encrypted configuration
</dd>
<dt>
<span class="term">
<code class="literal">/var/lib/elastic-agent/data/elastic-agent-*/logs/elastic-agent-json.log</code>
</span>
</dt>
<dd>
Log files for Elastic Agent<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>
</dd>
<dt>
<span class="term">
<code class="literal">/var/lib/elastic-agent/data/elastic-agent-*/logs/default/*-json.log*</code>
</span>
</dt>
<dd>
Log files for Beats shippers
</dd>
<dt>
<span class="term">
<code class="literal">/usr/bin/elastic-agent</code>
</span>
</dt>
<dd>
Shell wrapper installed into PATH
</dd>
</dl>
</div>
  </div>
</div>
<h3><a id="_apm_server_binary_2"></a>APM Server binary<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/apm-server/edit/main/docs/legacy/copied-from-beats/docs/shared-directory-layout.asciidoc">edit</a></h3>
<p>APM Server uses the following default paths unless you explicitly change them.</p>
<div class="tabs" data-tab-group="directory-layout">
  <div role="tablist" aria-label="Directory layout">
    <button role="tab"
            aria-selected="false"
            aria-controls="zip-tab-install-layout"
            id="zip-install-layout"
            tabindex="-1">
      ZIP, tar.gz, or TGZ
    </button>
    <button role="tab"
            aria-selected="true"
            aria-controls="docker-tab-install-layout"
            id="docker-install-layout">
      Docker
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="deb-tab-dir-layout"
            id="deb-dir-layout"
            tabindex="-1">
      DEB & RPM
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="zip-tab-install-layout"
       aria-labelledby="zip-install-layout"
       hidden="">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Location</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>home</strong></span></p></td>
<td align="left" valign="top"><p>Home of the APM Server installation.</p></td>
<td align="left" valign="top"><p><code class="literal">{extract.path}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>bin</strong></span></p></td>
<td align="left" valign="top"><p>The location for the binary files.</p></td>
<td align="left" valign="top"><p><code class="literal">{extract.path}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>config</strong></span></p></td>
<td align="left" valign="top"><p>The location for configuration files.</p></td>
<td align="left" valign="top"><p><code class="literal">{extract.path}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>data</strong></span></p></td>
<td align="left" valign="top"><p>The location for persistent data files.</p></td>
<td align="left" valign="top"><p><code class="literal">{extract.path}/data</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>logs</strong></span></p></td>
<td align="left" valign="top"><p>The location for the logs created by APM Server.</p></td>
<td align="left" valign="top"><p><code class="literal">{extract.path}/logs</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>For the ZIP, tar.gz, or TGZ distributions, these paths are based on the location
of the extracted binary file. This means that if you start APM Server with
the following simple command, all paths are set correctly:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./apm-server</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="docker-tab-install-layout"
       aria-labelledby="docker-install-layout">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Location</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>home</strong></span></p></td>
<td align="left" valign="top"><p>Home of the APM Server installation.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/apm-server</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>bin</strong></span></p></td>
<td align="left" valign="top"><p>The location for the binary files.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/apm-server</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>config</strong></span></p></td>
<td align="left" valign="top"><p>The location for configuration files.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/apm-server</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>data</strong></span></p></td>
<td align="left" valign="top"><p>The location for persistent data files.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/apm-server/data</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>logs</strong></span></p></td>
<td align="left" valign="top"><p>The location for the logs created by APM Server.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/apm-server/logs</code></p></td>
</tr>
</tbody>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-dir-layout"
       aria-labelledby="deb-dir-layout"
       hidden="">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Location</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>home</strong></span></p></td>
<td align="left" valign="top"><p>Home of the APM Server installation.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/apm-server</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>bin</strong></span></p></td>
<td align="left" valign="top"><p>The location for the binary files.</p></td>
<td align="left" valign="top"><p><code class="literal">/usr/share/apm-server/bin</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>config</strong></span></p></td>
<td align="left" valign="top"><p>The location for configuration files.</p></td>
<td align="left" valign="top"><p><code class="literal">/etc/apm-server</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>data</strong></span></p></td>
<td align="left" valign="top"><p>The location for persistent data files.</p></td>
<td align="left" valign="top"><p><code class="literal">/var/lib/apm-server</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>logs</strong></span></p></td>
<td align="left" valign="top"><p>The location for the logs created by APM Server.</p></td>
<td align="left" valign="top"><p><code class="literal">/var/log/apm-server</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>For the deb and rpm distributions, these paths are set in the init script or in
the systemd unit file.  Make sure that you start the APM Server service by using
the preferred operating system method (init scripts or <code class="literal">systemctl</code>).
Otherwise the paths might be set incorrectly.</p>
  </div>
</div>
</div>
<div id="footnotes">
<div class="footnote" id="_footnotedef_1">
<sup>[<a href="#_footnoteref_1">1</a>]</sup> Logs file names end with a date and optional number: log-date.ndjson, log-date-1.ndjson, and so on as new files are created during rotation.
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="setting-up-and-running.html">« APM Server advanced setup</a>
</span>
<span class="next">
<a href="command-line-options.html">APM Server command reference »</a>
</span>
</div>
</div>
</body>
</html>
