<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Credentials API | Elastic App Search Documentation [7.11] | Elastic</title>
<link rel="home" href="index.html" title="Elastic App Search Documentation [7.11]"/>
<link rel="up" href="api-reference.html" title="API Reference"/>
<link rel="prev" href="clickthrough.html" title="Click API"/>
<link rel="next" href="curations.html" title="Curations API"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/7.11"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="7.11"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic App Search Documentation [7.11]</a></span>
»
<span class="breadcrumb-link"><a href="api-reference.html">API Reference</a></span>
»
<span class="breadcrumb-node">Credentials API</span>
</div>
<div class="navheader">
<span class="prev">
<a href="clickthrough.html">« Click API</a>
</span>
<span class="next">
<a href="curations.html">Curations API »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="credentials"></a>Credentials API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h2>
</div></div></div>
<p>The <span class="strong strong"><strong>Credentials</strong></span> endpoint enables API based management of your various access credentials.</p>
<p>Credentials refer to your <span class="strong strong"><strong>API Keys</strong></span>.</p>
<p>You can create, delete, view, and scope your <span class="strong strong"><strong>API Keys</strong></span>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="credentials.html#credentials-read" title="Read API Keys">Read API Keys</a>
</li>
<li class="listitem">
<a class="xref" href="credentials.html#credentials-create" title="Create New API Key">Create New API Keys</a>
</li>
<li class="listitem">
<a class="xref" href="credentials.html#credentials-update" title="Update API Key">Update API Keys</a>
</li>
<li class="listitem">
<a class="xref" href="credentials.html#credentials-destroy" title="Delete API Keys">Delete API Keys</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="credentials-authentication"></a>Authentication<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h3>
</div></div></div>
<p>The credentials endpoint requires your unique <span class="strong strong"><strong>Host Identifier</strong></span> and a <span class="strong strong"><strong>Private Admin Key</strong></span>.</p>
<p>A <span class="strong strong"><strong>Private Admin Key</strong></span> is not generated for you upon account creation, so you must create one.</p>
<p>The key begins with <code class="literal">admin-</code> and is required within all of your requests.</p>
<p>Visit <em>Manage Credentials</em> within your dashboard to generate it:</p>
<p><span class="strong strong"><strong>Private Admin Key -</strong></span> Generate your own</p>
<div class="imageblock">
<div class="content">
<img src="images/app-search/generate-admin-key.png" alt="Generating Private Admin Key">
</div>
</div>
<p>You must generate the first key on your own.</p>
<p>With that key, you can create other <span class="strong strong"><strong>Private Admin Keys</strong></span>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="credentials-read"></a>Read API Keys<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="credentials.html#credentials-all" title="List Keys">Listing All Keys</a>
</li>
<li class="listitem">
<a class="xref" href="credentials.html#credentials-single" title="List Key">Listing a Single Key</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="credentials-all"></a>List Keys<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h5>
</div></div></div>
<p>Generate details for all keys.</p>
<p>The output supports pagination, defaulting to 25 items at a time.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v1/credentials</pre>
</div>
<p><em>Example</em> - A <code class="literal">GET</code> request for all available keys.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X GET 'https://host-2376rb.api.swiftype.com/api/as/v1/credentials' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer admin-xxxxxxxxxxxxxxxx'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "meta": {
    "page": {
      "current": 3,
      "total_pages": 1,
      "total_results": 1,
      "size": 25
    }
  },
  },
  "results": [
    {
      "name": "my-private-key",
      "key": "private-lasda0ha9gah9g8ahs9h",
      "type": "private",
      "read": true,
      "write": false,
      "access_all_engines": true
    },
    {
      "name": "my-search-key",
      "key": "search-lasda0ha9gah9g8ahs9h",
      "type": "search",
      "access_all_engines": false,
      "engines": [
        "my-second-engine"
      ]
    },
    {
      "name": "my-admin-key",
      "key": "admin-lasda0ha9gah9g8ahs9h",
      "type": "admin"
    }
  ]
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="credentials-single"></a>List Key<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h5>
</div></div></div>
<p>Generate details for one key.</p>
<p>Note that the name field is not the key itself, but the name that it has been provided.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v1/credentials/[API_KEY_NAME]</pre>
</div>
<p><em>Example</em> - A <code class="literal">GET</code> request for information about <code class="literal">my-private-key</code>.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X GET 'https://host-2376rb.api.swiftype.com/api/as/v1/credentials/my-private-key' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer admin-xxxxxxxxxxxxxxxx'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "meta": {
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 1,
      "size": 25
    }
  },
  "results": [
    {
      "name": "my-private-key",
      "key": "private-lasda0ha9gah9g8ahs9h",
      "type": "private",
      "read": true,
      "write": false,
      "access_all_engines": true
    }
  ]
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="credentials-create"></a>Create New API Key<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h4>
</div></div></div>
<p>You can create three different types of keys:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="credentials.html#credentials-private" title="Private API Key">Private API Key</a>
</li>
<li class="listitem">
<a class="xref" href="credentials.html#credentials-public" title="Public Search Key">Public Search Key</a>
</li>
<li class="listitem">
<a class="xref" href="credentials.html#credentials-admin" title="Private Admin Key">Private Admin Key</a>
</li>
</ul>
</div>
<p>Your choice of Key will depend on the endpoint:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Key Name</th>
<th align="left" valign="top">Key Prefix</th>
<th align="left" valign="top">Endpoint</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Public Search Key</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">public-</code></p></td>
<td align="left" valign="top"><p><a class="xref" href="search.html" title="Search API">Search</a> endpoint only.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Private API Key</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">private-</code></p></td>
<td align="left" valign="top"><p>All endpoints except <a class="xref" href="credentials.html" title="Credentials API">Credentials</a>. It is recommended that you use the <span class="strong strong"><strong>Public Search Key</strong></span> when using the <a class="xref" href="search.html" title="Search API">Search</a> endpoint.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Private Admin Key</strong></span></p></td>
<td align="left" valign="top"><p><code class="literal">admin-</code></p></td>
<td align="left" valign="top"><p><a class="xref" href="credentials.html" title="Credentials API">Credentials</a> endpoint only.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="credentials-private"></a>Private API Key<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">POST /api/as/v1/credentials</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code> (required)
</span>
</dt>
<dd>
A name for your new key. It can contain letters, numbers or dashes. Limited to 64 characters.
</dd>
<dt>
<span class="term">
<code class="literal">type</code> (required)
</span>
</dt>
<dd>
To generate a Private API Key, the type must be private.
</dd>
<dt>
<span class="term">
<code class="literal">read</code> (required)
</span>
</dt>
<dd>
Can be true or false. If true, the key can read from the engine. If false, the key can not.
</dd>
<dt>
<span class="term">
<code class="literal">write</code> (required)
</span>
</dt>
<dd>
Can be true or false. If true, the key can write to an engine. If false, the key can not.
</dd>
<dt>
<span class="term">
<code class="literal">access_all_engines</code> (optional)
</span>
</dt>
<dd>
Considers all present and future engines. Can be true or false. If true, do not include engines. If false, you must include engines.
</dd>
<dt>
<span class="term">
<code class="literal">engines</code> (optional)
</span>
</dt>
<dd>
If access_all_engines is set to false, provide the engines that the key is permitted to access.
</dd>
</dl>
</div>
<p><em>Example</em> - A <code class="literal">POST</code> request to create a <span class="strong strong"><strong>Private API Key</strong></span> named <code class="literal">reading-private-key</code> with read only access to <code class="literal">my-second-engine</code>.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X POST 'https://host-2376rb.api.swiftype.com/api/as/v1/credentials' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer admin-xxxxxxxxxxxxxxxx' \
-d '{
  "name": "reading-private-key",
  "type": "private",
  "read": true,
  "write": false,
  "access_all_engines": false,
  "engines": [
    "my-second-engine"
  ]
}'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "meta": {
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 1,
      "size": 25
    }
  },
  "results": [
    {
      "name": "reading-private-key",
      "key": "private-newprivatereadingkey",
      "type": "private",
      "read": true,
      "write": false,
      "access_all_engines": false,
      "engines": [
        "my-second-engine"
      ]
    }
  ]
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="credentials-public"></a>Public Search Key<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">POST /api/as/v1/credentials</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code> (required)
</span>
</dt>
<dd>
A name for your new key. It can contain letters, numbers or dashes. Limited to 64 characters.
</dd>
<dt>
<span class="term">
<code class="literal">type</code> (required)
</span>
</dt>
<dd>
To generate a Public Search Key, type must be search.
</dd>
<dt>
<span class="term">
<code class="literal">access_all_engines</code> (optional)
</span>
</dt>
<dd>
Considers all present and future engines. Can be true or false. If true, do not include engines. If false, you must include engines.
</dd>
<dt>
<span class="term">
<code class="literal">engines</code> (optional)
</span>
</dt>
<dd>
If access_all_engines is set to false, provide the engines that the key is permitted to access.
</dd>
</dl>
</div>
<p><em>Example</em> - A <code class="literal">POST</code> request to create a <span class="strong strong"><strong>Public Search Key</strong></span> named <code class="literal">public-searching-key</code> with search access to <code class="literal">my-first-engine</code> and <code class="literal">my-second-engine</code>.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X POST 'https://host-2376rb.api.swiftype.com/api/as/v1/credentials' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer admin-xxxxxxxxxxxxxxxx' \
-d '{
  "name": "public-searching-key",
  "type": "search",
  "access_all_engines": false,
  "engines": [
    "my-first-engine",
    "my-second-engine"
  ]
}'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "meta": {
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 1,
      "size": 25
    }
  },
  "results": [
    {
      "name": "public-searching-key",
      "key": "search-newpublicsearchingkey",
      "type": "search",
      "access_all_engines": false,
      "engines": [
        "my-first-engine",
        "my-second-engine"
      ]
    }
  ]
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="credentials-admin"></a>Private Admin Key<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h5>
</div></div></div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">POST /api/as/v1/credentials</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code> (required)
</span>
</dt>
<dd>
A name for your new key. It can contain letters, numbers or dashes. Limited to 64 characters.
</dd>
<dt>
<span class="term">
<code class="literal">type</code> (required)
</span>
</dt>
<dd>
To generate a Private Admin Key, type must be admin.
</dd>
</dl>
</div>
<p><em>Example</em> - A <code class="literal">POST</code> request to create a <span class="strong strong"><strong>Private Admin Key</strong></span> named <code class="literal">private-admin-key</code>.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X POST 'https://host-2376rb.api.swiftype.com/api/as/v1/credentials' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer admin-xxxxxxxxxxxxxxxx' \
-d '{
  "name": "private-admin-key",
  "type": "admin"
}'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "meta": {
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 1,
      "size": 25
    }
  },
  "results": [
    {
      "name": "reading-private-key",
      "key": "admin-newprivateadminkey",
      "type": "admin"
    }
  ]
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="credentials-update"></a>Update API Key<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h4>
</div></div></div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You are unable to change the type of a key!</p>
</div>
</div>
<p></p>
<p>Updating an existing key.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">PUT /api/as/v1/credentials/[API_KEY_NAME]</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code> (required)
</span>
</dt>
<dd>
You can provide a new name for your new key. It can contain letters, numbers or dashes. Limited to 64 characters.
</dd>
<dt>
<span class="term">
<code class="literal">read</code> (required)
</span>
</dt>
<dd>
Only accepted if the key is a Private API Key. Can be true or false. If true, the key can read from the engine. If false, the key can not.
</dd>
<dt>
<span class="term">
<code class="literal">write</code> (required)
</span>
</dt>
<dd>
Only accepted if the key is a Private API Key. Can be true or false. If true, the key can write to an engine. If false, the key can not.
</dd>
<dt>
<span class="term">
<code class="literal">access_all_engines</code> (optional)
</span>
</dt>
<dd>
Considers all present and future engines. Can be true or false. If true, do not include engines. If false, you must include engines.
</dd>
<dt>
<span class="term">
<code class="literal">engines</code> (optional)
</span>
</dt>
<dd>
If access_all_engines is set to false, provide the engines that the new key can access.
</dd>
</dl>
</div>
<p><em>Example</em> - A <code class="literal">PUT</code> request to update <code class="literal">my-private-key</code> so that it has access to all engines.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X PUT 'https://host-2376rb.api.swiftype.com/api/as/v1/credentials/my-private-key' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer admin-xxxxxxxxxxxxxxxx' \
-d '{
  "name": "my-private-key",
  "type": "private",
  "read": true,
  "write": false,
  "access_all_engines": true
}'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "meta": {
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 1,
      "size": 25
    }
  },
  "results": [
    {
      "name": "my-private-key",
      "key": "private-sameoldprivatekey",
      "type": "private",
      "access_all_engines": true
    }
  ]
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="credentials-destroy"></a>Delete API Keys<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.11/app-search-docs/api-reference/credentials.asciidoc">edit</a></h4>
</div></div></div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">DELETE /api/as/v1/credentials/[API_KEY_NAME]</pre>
</div>
<p><em>Example</em> - A <code class="literal">DELETE</code> request to destroy <code class="literal">my-private-key</code>.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">curl -X DELETE 'https://host-2376rb.api.swiftype.com/api/as/v1/credentials/my-private-key' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer admin-xxxxxxxxxxxxxxxx'</pre>
</div>
<p><em>Example Response</em></p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">{
  "deleted": true
}</pre>
</div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="clickthrough.html">« Click API</a>
</span>
<span class="next">
<a href="curations.html">Curations API »</a>
</span>
</div>
</div>
</body>
</html>
