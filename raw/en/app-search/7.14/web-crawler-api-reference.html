<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Web crawler (beta) API reference | Elastic App Search Documentation [7.14] | Elastic</title>
<meta class="elastic" name="content" content="Web crawler (beta) API reference | Elastic App Search Documentation [7.14]">

<link rel="home" href="index.html" title="Elastic App Search Documentation [7.14]"/>
<link rel="up" href="api-reference.html" title="API Reference"/>
<link rel="prev" href="synonyms.html" title="Synonyms API"/>
<link rel="next" href="api-clients.html" title="API Clients"/>
<meta class="elastic" name="product_version" content="7.14"/>
<meta class="elastic" name="product_name" content="App Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/7.14"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="7.14"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Elastic App Search Documentation<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api-reference.html">API Reference</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="synonyms.html">« Synonyms API</a>
</span>
<span class="next">
<a href="api-clients.html">API Clients »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="web-crawler-api-reference"></a>Web crawler (beta) API reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h2>
</div></div></div>
<div class="caution admon">
<div class="icon"></div>
<div class="admon_content">
<p>The Elastic Enterprise Search web crawler is a <span class="strong strong"><strong>beta</strong></span> feature.
Beta features are subject to change and are not covered by the support SLA of general release (GA) features.
Elastic plans to promote this feature to GA in a future release.</p>
</div>
</div>
<p>App Search provides API operations for the <a class="xref" href="web-crawler.html" title="Web crawler (beta)">web crawler</a>.
This document provides a reference for each API operation, as well as shared concerns:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-shared-concerns" title="Shared concerns">Shared concerns</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-shared-concerns-engine" title="Engine">Engine</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-shared-concerns-access" title="Access">Access</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-get-crawler" title="Crawler">Crawler</a>
</li>
<li class="listitem">
<p><a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-crawl-requests" title="Crawl requests">Crawl requests</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-get-crawler-crawl-requests-active" title="Get current active crawl request">Get current active crawl request</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-post-crawler-crawl-requests-active-cancel" title="Cancel an active crawl">Cancel an active crawl</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-get-crawler-crawl-requests" title="List crawl requests">List crawl requests</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-post-crawler-crawl-requests" title="Create a new crawl request">Create a new crawl request</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-get-crawler-crawl-requests-id" title="View details for a crawl request">View details for a crawl request</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-crawl-schedules" title="Crawl schedules">Crawl schedules</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-get-crawler-crawl-schedule" title="Get current crawl schedule">Get current crawl schedule</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-put-crawler-crawl-schedule" title="Create or update a crawl schedule">Create or update a crawl schedule</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-delete-crawler-crawl-schedule" title="Delete a crawl schedule">Delete a crawl schedule</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-user-agent" title="User agent">User agent</a>
</li>
<li class="listitem">
<p><a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-domains" title="Domains">Domains</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-post-crawler-domains" title="Create a new domain">Create a new domain</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-get-crawler-domain" title="View details for a domain">View details for a domain</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-put-crawler-domain" title="Update a domain">Update a domain</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-delete-crawler-domain" title="Delete a domain">Delete a domain</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-entry-points" title="Entry points">Entry points</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-post-entry-points" title="Create a new entry point">Create a new entry point</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-put-entry-point" title="Update an entry point">Update an entry point</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-delete-entry-point" title="Delete an entry point">Delete an entry point</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-crawl-rules" title="Crawl rules">Crawl rules</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-post-crawl-rules" title="Create a new crawl rule">Create a new crawl rule</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-put-crawl-rule" title="Update a crawl rule">Update a crawl rule</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-delete-crawl-rule" title="Delete a crawl rule">Delete a crawl rule</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-sitemaps" title="Sitemaps">Sitemaps</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-post-sitemaps" title="Create a new sitemap">Create a new sitemap</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-put-sitemap" title="Update a sitemap">Update a sitemap</a>
</li>
<li class="listitem">
<a class="xref" href="web-crawler-api-reference.html#web-crawler-apis-delete-sitemap" title="Delete a sitemap">Delete a sitemap</a>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="web-crawler-apis-shared-concerns"></a>Shared concerns<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h3>
</div></div></div>
<p>All web crawler API operations share the following concerns.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-shared-concerns-engine"></a>Engine<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Most endpoints within the crawler API are scoped to a particular App Search engine.
The engine is identified by the engine name value provided in the URL of the request.
If an engine could not be found for any API request, an empty HTTP 404 response will be returned.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-shared-concerns-access"></a>Access<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Unless security is disabled, you must provide credentials to access API operations.</p>
<p>See <a class="xref" href="authentication.html" title="Authentication"><em>Authentication</em></a>.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="web-crawler-apis-get-crawler"></a>Crawler<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h3>
</div></div></div>
<p>Responds with domain objects configured for a given App Search engine.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v0/engines/{ENGINE_NAME}/crawler</pre>
</div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "domains": [
    {
      "id": "{DOMAIN_ID}",
      "name": "{DOMAIN_NAME}",
      "document_count": 0,
      "entry_points": [
        {
          "id": "6087cec06dda9bdfb4a49e39",
          "value": "/"
        }
      ],
      "crawl_rules": [],
      "default_crawl_rule": {
        "id": "-",
        "order": 0,
        "policy": "allow",
        "rule": "regex",
        "pattern": ".*"
      },
      "sitemaps": []
    }
  ]
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="web-crawler-apis-crawl-requests"></a>Crawl requests<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h3>
</div></div></div>
<p>Each crawl performed by the Enterprise Search web crawler has an associated <span class="strong strong"><strong>crawl request</strong></span> object.
The crawl requests API allows operators to create new crawl requests and to view and control the state of existing crawl requests.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-get-crawler-crawl-requests-active"></a>Get current active crawl request<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Returns a crawl request object for an active crawl or returns an HTTP 404 response if there is no active crawl for a given App Search engine.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v0/engines/{ENGINE_NAME}/crawler/crawl_requests/active</pre>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "601b21adbeae67679b3b760a",
  "status": "running",
  "created_at": "Wed, 03 Feb 2021 22:20:29 +0000",
  "begun_at": "Wed, 03 Feb 2021 22:20:31 +0000",
  "completed_at": null
}</pre>
</div>
<p>For cases when there is no active crawl for a given engine, the API responds with a 404 error:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 404 Not Found
{
  "error": "There are no active crawl requests for this engine"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-post-crawler-crawl-requests-active-cancel"></a>Cancel an active crawl<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Cancels an active crawl for a given App Search engine or returns an HTTP 404 response if there is no active crawl for a given App Search engine.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>It may take some time for the crawler to detect the cancellation request and gracefully stop the crawl.
During the time, the status of the crawl request will remain <code class="literal">canceling</code>.</p>
</div>
</div>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">POST /api/as/v0/engines/{ENGINE_NAME}/crawler/crawl_requests/active/cancel</pre>
</div>
<p>In case of success, the response contains a single crawl request object with a <code class="literal">canceling</code> state:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "601b21adbeae67679b3b760a",
  "status": "canceling",
  "created_at": "Wed, 03 Feb 2021 22:20:29 +0000",
  "begun_at": "Wed, 03 Feb 2021 22:20:31 +0000",
  "completed_at": null
}</pre>
</div>
<p>For cases when there is no active crawl for a given engine, the API responds with a 404 error:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 404 Not Found
{
  "error": "There are no active crawl requests for this engine"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-get-crawler-crawl-requests"></a>List crawl requests<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Returns a list of the most recent crawl requests for a given engine.
The number of items returned (default: 10) can be changed by using the <code class="literal">limit</code> argument.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v0/engines/{ENGINE_NAME}/crawler/crawl_requests
GET /api/as/v0/engines/{ENGINE_NAME}/crawler/crawl_requests?limit=25</pre>
</div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
[
  {
    "id": "601b21adbeae67679b3b760a",
    "status": "running",
    "created_at": "Wed, 03 Feb 2021 22:20:29 +0000",
    "begun_at": "Wed, 03 Feb 2021 22:20:31 +0000",
    "completed_at": null
  },
  {
    "id": "60147e93beae67bf7ef72e86",
    "status": "success",
    "created_at": "Fri, 29 Jan 2021 21:30:59 +0000",
    "begun_at": "Fri, 29 Jan 2021 21:31:00 +0000",
    "completed_at": "Fri, 29 Jan 2021 21:35:20 +0000"
  },
  {
    "id": "60146c07beae67f397300128",
    "status": "canceled",
    "created_at": "Fri, 29 Jan 2021 20:11:51 +0000",
    "begun_at": "Fri, 29 Jan 2021 20:11:52 +0000",
    "completed_at": "Fri, 29 Jan 2021 20:12:51 +0000"
  }
]</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-post-crawler-crawl-requests"></a>Create a new crawl request<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Requests a new crawl for a given App Search engine.
If there is already an active crawl, the request returns an HTTP 400 response with an error message.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">POST /api/as/v0/engines/{ENGINE_NAME}/crawler/crawl_requests</pre>
</div>
<p>In case of success, the response contains a single crawl request object with a <code class="literal">pending</code> state:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "601b21adbeae67679b3b760a",
  "status": "pending",
  "created_at": "Wed, 03 Feb 2021 22:20:29 +0000",
  "begun_at": null,
  "completed_at": null
}</pre>
</div>
<p>When there is already an active crawl, the API returns an HTTP 400 response:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 400 Bad Request
{
  "error": "There is an active crawl for the engine \"your-engine\", please wait for it to finish or abort it before requesting another one"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-get-crawler-crawl-requests-id"></a>View details for a crawl request<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Returns details of a given crawl request.
The crawl request is identified with a unique Crawl Request ID value.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v0/engines/{ENGINE_NAME}/crawler/crawl_requests/{CRAWL_REQUEST_ID}</pre>
</div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "60147e93beae67bf7ef72e86",
  "status": "success",
  "created_at": "Fri, 29 Jan 2021 21:30:59 +0000",
  "begun_at": "Fri, 29 Jan 2021 21:31:00 +0000",
  "completed_at": "Fri, 29 Jan 2021 21:35:20 +0000"
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="web-crawler-apis-crawl-schedules"></a>Crawl schedules<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h3>
</div></div></div>
<p>Each engine using the Enterprise Search web crawler has an associated <span class="strong strong"><strong>crawl schedule</strong></span> object.
The crawl schedule API allows operators to specify a frequency at which new crawls will be started.
If there is an active crawl, new crawls will be skipped.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-get-crawler-crawl-schedule"></a>Get current crawl schedule<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Returns a crawl schedule object or returns an HTTP 404 response if there is no crawl schedule object for a given App Search engine.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v0/engines/{ENGINE_NAME}/crawler/crawl_schedule</pre>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "engine": {ENGINE_NAME},
  "frequency": 2,
  "unit": "week"
}</pre>
</div>
<p>For cases when there is no crawl schedule for a given engine, the API responds with a 404 error:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 404 Not Found
{
  "errors": ["No crawl schedule found"]
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-put-crawler-crawl-schedule"></a>Create or update a crawl schedule<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Upserts a crawl schedule for a given App Search engine.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">PUT /api/as/v0/engines/{ENGINE_NAME}/crawler/crawl_schedule
{
  "frequency": {INTEGER},
  "unit": {ENUM}
}</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">frequency</code> (required)
</span>
</dt>
<dd>
A positive integer.
</dd>
<dt>
<span class="term">
<code class="literal">unit</code> (required)
</span>
</dt>
<dd>
Should be one of: <code class="literal">hour</code>, <code class="literal">day</code>, <code class="literal">week</code>, <code class="literal">month</code>.
</dd>
</dl>
</div>
<p>In case of success, the response contains the crawl schedule object:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "engine": {ENGINE_NAME},
  "frequency": 2,
  "unit": "week"
}</pre>
</div>
<p>When the parameters are invalid, the API returns an HTTP 400 response:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 400 Bad Request
{
  "errors": [
    "Crawl schedule frequency must be an integer",
    "Crawl schedule unit must be one of hour, day, week, month"
  ]
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-delete-crawler-crawl-schedule"></a>Delete a crawl schedule<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Deletes a crawl schedule for a given App Search engine.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">DELETE /api/as/v0/engines/{ENGINE_NAME}/crawler/crawl_schedule</pre>
</div>
<p>In case of success, the response contains an object showing the crawl schedule has been deleted:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "deleted": true
}</pre>
</div>
<p>For cases when there is no crawl schedule for a given engine, the API responds with a 404 error:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 404 Not Found
{
  "errors": ["No crawl schedule found"]
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="web-crawler-apis-user-agent"></a>User agent<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h3>
</div></div></div>
<p>Responds with the User-Agent header used by the crawler.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v0/crawler/user_agent</pre>
</div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "user_agent": "Elastic Crawler (0.0.1)"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="web-crawler-apis-domains"></a>Domains<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-post-crawler-domains"></a>Create a new domain<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Create a (crawler) domain for a given App Search engine.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">POST /api/as/v0/engines/{ENGINE_NAME}/crawler/domains
{
  "name": {STRING}
}</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code> (required)
</span>
</dt>
<dd>
The domain URL.
</dd>
</dl>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "{DOMAIN_ID}",
  "name": "{DOMAIN_NAME}",
  "document_count": 0,
  "entry_points": [
    {
      "id": "6087cec06dda9bdfb4a49e39",
      "value": "/"
    }
  ],
  "crawl_rules": [],
  "default_crawl_rule": {
    "id": "-",
    "order": 0,
    "policy": "allow",
    "rule": "regex",
    "pattern": ".*"
  },
  "sitemaps": []
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-get-crawler-domain"></a>View details for a domain<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Get domain object for a given App Search engine.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">GET /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}</pre>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "{DOMAIN_ID}",
  "name": "{DOMAIN_NAME}",
  "document_count": 0,
  "entry_points": [
    {
      "id": "6087cec06dda9bdfb4a49e39",
      "value": "/"
    }
  ],
  "crawl_rules": [],
  "default_crawl_rule": {
    "id": "-",
    "order": 0,
    "policy": "allow",
    "rule": "regex",
    "pattern": ".*"
  },
  "sitemaps": []
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-put-crawler-domain"></a>Update a domain<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Updates a domain for a given App Search engine.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">PUT /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}
{
  "name": {STRING}
}</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
The domain URL.
</dd>
</dl>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "{DOMAIN_ID}",
  "name": "{DOMAIN_NAME}",
  "document_count": 0,
  "entry_points": [
    {
      "id": "6087cec06dda9bdfb4a49e39",
      "value": "/"
    }
  ],
  "crawl_rules": [],
  "default_crawl_rule": {
    "id": "-",
    "order": 0,
    "policy": "allow",
    "rule": "regex",
    "pattern": ".*"
  },
  "sitemaps": []
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-delete-crawler-domain"></a>Delete a domain<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Deletes a domain for a given App Search engine.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">DELETE /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}</pre>
</div>
<p>In case of success, the response contains an object showing the domain has been deleted:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "deleted": true
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="web-crawler-apis-entry-points"></a>Entry points<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-post-entry-points"></a>Create a new entry point<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Create an entry point for a domain.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">POST /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}/entry_points
{
  "value": {STRING}
}</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">value</code> (required)
</span>
</dt>
<dd>
The entry point path.
</dd>
</dl>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "{ENTRY_POINT_ID}",
  "value": "/blog"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-put-entry-point"></a>Update an entry point<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Updates an entry point for a domain.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">PUT /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}/entry_points/{ENTRY_POINT_ID}
{
  "value": {STRING}
}</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">value</code>
</span>
</dt>
<dd>
The entry point path.
</dd>
</dl>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "{ENTRY_POINT_ID}",
  "value": "/blog"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-delete-entry-point"></a>Delete an entry point<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Deletes an entry point for a domain.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">DELETE /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}/entry_points/{ENTRY_POINT_ID}</pre>
</div>
<p>In case of success, the response contains an object showing the entry point has been deleted:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "deleted": true
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="web-crawler-apis-crawl-rules"></a>Crawl rules<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-post-crawl-rules"></a>Create a new crawl rule<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Create a crawl rule for a domain.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">POST /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}/crawl_rules
{
  "policy": {ENUM},
  "rule": {ENUM},
  "pattern": {STRING},
  "order": {INTEGER}
}</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">policy</code> (required)
</span>
</dt>
<dd>
Accepted values are <code class="literal">allow</code> and <code class="literal">deny</code>.
</dd>
<dt>
<span class="term">
<code class="literal">rule</code> (required)
</span>
</dt>
<dd>
Accepted values are <code class="literal">begins</code>, <code class="literal">ends</code>, <code class="literal">contains</code> and <code class="literal">regex</code>.
</dd>
<dt>
<span class="term">
<code class="literal">pattern</code> (required)
</span>
</dt>
<dd>
The path pattern to match against.
</dd>
<dt>
<span class="term">
<code class="literal">order</code> (optional)
</span>
</dt>
<dd>
An integer representing this crawl rule&#8217;s position within the list of crawl rules for the domain. The <a class="xref" href="web-crawler-reference.html#web-crawler-reference-crawl-rule-order" title="Crawl rule order">order of crawl rules</a> is significant.
</dd>
</dl>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "{CRAWL_RULE_ID}",
  "order": 0,
  "policy": "allow",
  "rule": "begins",
  "pattern": "/ignore"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-put-crawl-rule"></a>Update a crawl rule<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Updates a crawl rule for a domain.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">PUT /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}/crawl_rules/{CRAWL_RULE_ID}
{
  "policy": {ENUM},
  "rule": {ENUM},
  "pattern": {STRING},
  "order": {INTEGER}
}</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">policy</code>
</span>
</dt>
<dd>
Accepted values are <code class="literal">allow</code> and <code class="literal">deny</code>.
</dd>
<dt>
<span class="term">
<code class="literal">rule</code>
</span>
</dt>
<dd>
Accepted values are <code class="literal">begins</code>, <code class="literal">ends</code>, <code class="literal">contains</code> and <code class="literal">regex</code>.
</dd>
<dt>
<span class="term">
<code class="literal">pattern</code>
</span>
</dt>
<dd>
The path pattern to match against.
</dd>
<dt>
<span class="term">
<code class="literal">order</code>
</span>
</dt>
<dd>
An integer representing this crawl rule&#8217;s position within the list of crawl rules for the domain. The <a class="xref" href="web-crawler-reference.html#web-crawler-reference-crawl-rule-order" title="Crawl rule order">order of crawl rules</a> is significant.
</dd>
</dl>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "{CRAWL_RULE_ID}",
  "order": 0,
  "policy": "allow",
  "rule": "begins",
  "pattern": "/ignore"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-delete-crawl-rule"></a>Delete a crawl rule<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Deletes a crawl rule for a domain.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">DELETE /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}/crawl_rules/{CRAWL_RULE_ID}</pre>
</div>
<p>In case of success, the response contains an object showing the crawl rule has been deleted:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "deleted": true
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="web-crawler-apis-sitemaps"></a>Sitemaps<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-post-sitemaps"></a>Create a new sitemap<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Create a sitemap for a domain.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">POST /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}/sitemaps
{
  "url": {STRING}
}</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">url</code> (required)
</span>
</dt>
<dd>
The sitemap URL.
</dd>
</dl>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "{SITEMAP_ID}",
  "url": "https://elastic.co/sitemap2.xml"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-put-sitemap"></a>Update a sitemap<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Updates a sitemap for a domain.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">PUT /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}/sitemaps/{SITEMAP_ID}
{
  "url": {STRING}
}</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">url</code>
</span>
</dt>
<dd>
The sitemap URL.
</dd>
</dl>
</div>
<p>For successful calls, the response is going to look like this:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "id": "{SITEMAP_ID}",
  "url": "https://elastic.co/sitemap2.xml"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="web-crawler-apis-delete-sitemap"></a>Delete a sitemap<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.14/app-search-docs/api-reference/web-crawler-api-reference.asciidoc">edit</a></h4>
</div></div></div>
<p>Deletes a sitemap for a domain.</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">DELETE /api/as/v0/engines/{ENGINE_NAME}/crawler/domains/{DOMAIN_ID}/sitemaps/{SITEMAP_ID}</pre>
</div>
<p>In case of success, the response contains an object showing the sitemap has been deleted:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json"># 200 OK
{
  "deleted": true
}</pre>
</div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="synonyms.html">« Synonyms API</a>
</span>
<span class="next">
<a href="api-clients.html">API Clients »</a>
</span>
</div>
</div>
</body>
</html>
