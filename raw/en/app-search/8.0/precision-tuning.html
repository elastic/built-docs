<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Precision tuning (beta) | Elastic App Search Documentation [8.0] | Elastic</title>
<meta class="elastic" name="content" content="Precision tuning (beta) | Elastic App Search Documentation [8.0]">

<link rel="home" href="index.html" title="Elastic App Search Documentation [8.0]"/>
<link rel="up" href="guides.html" title="Guides"/>
<link rel="prev" href="meta-engines-guide.html" title="Meta Engines Guide"/>
<link rel="next" href="query-suggestions-guide.html" title="Query Suggestions Guide"/>
<meta class="elastic" name="product_version" content="8.0"/>
<meta class="elastic" name="product_name" content="App Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/8.0"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="8.0"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Elastic App Search Documentation<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="guides.html">Guides</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="meta-engines-guide.html">« Meta Engines Guide</a>
</span>
<span class="next">
<a href="query-suggestions-guide.html">Query Suggestions Guide »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="precision-tuning"></a>Precision tuning (beta)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/guides/precision-tuning.asciidoc">edit</a></h2>
</div></div></div>
<div class="caution admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in <span class="strong strong"><strong>beta</strong></span>.
Beta features are subject to change and are not covered by the support SLA of general release (GA) features.
Elastic plans to promote this feature to GA in a future release.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Precision tuning has no effect in queries that contain <a class="xref" href="synonyms-guide.html" title="Synonyms Guide">synonyms</a>.</p>
</div>
</div>
<p>App Search defaults to high recall results: we cast a wide net on your searches.
You can use <em>precision tuning</em> to search with a different level of precision and recall&#8212;&#8203;tightening or loosening the term and phrase requirements needed for a document to be considered a match to a given query.
Generally, more precision leads to less recall: getting more specific results usually comes at the cost of a lower tolerance of errors or variations in queries.</p>
<p>To tune precision, set <a class="xref" href="precision-tuning.html#precision-tuning-values" title="Precision tuning values">precision tuning values</a> in any of the following ways:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="precision-tuning.html#precision-tuning-tune-per-engine-ui" title="Tune precision per engine using the UI">Tune precision per engine using the UI</a>
</li>
<li class="listitem">
<a class="xref" href="precision-tuning.html#precision-tuning-tune-per-engine-api" title="Tune precision per engine using the API">Tune precision per engine using the API</a>
</li>
<li class="listitem">
<a class="xref" href="precision-tuning.html#precision-tuning-tune-per-query-api" title="Tune precision per query using the API">Tune precision per query using the API</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="precision-tuning-tune-per-engine-ui"></a>Tune precision per engine using the UI<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/guides/precision-tuning.asciidoc">edit</a></h3>
</div></div></div>
<p>Tune precision within Kibana: Navigate to <span class="strong strong"><strong>Enterprise Search</strong></span> &#8594; <span class="strong strong"><strong>App Search</strong></span> &#8594; <span class="strong strong"><strong>Engines</strong></span> &#8594; <em>engine name</em> &#8594; <span class="strong strong"><strong>Relevance tuning</strong></span>.
Locate <em>Precision tuning</em>, and set the default precision <a class="xref" href="precision-tuning.html#precision-tuning-values" title="Precision tuning values">value</a> for the engine.
The value will therefore apply to all queries sent to that engine that don&#8217;t provide their own <code class="literal">precision</code> value.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="precision-tuning-tune-per-engine-api"></a>Tune precision per engine using the API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/guides/precision-tuning.asciidoc">edit</a></h3>
</div></div></div>
<p>Use the <a class="xref" href="search-settings.html" title="Search settings API">search settings API</a> to set the default <code class="literal">precision</code> <a class="xref" href="precision-tuning.html#precision-tuning-values" title="Precision tuning values">value</a> for an engine.
The value will therefore apply to all queries sent to that engine that don&#8217;t provide their own <code class="literal">precision</code> value.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="precision-tuning-tune-per-query-api"></a>Tune precision per query using the API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/guides/precision-tuning.asciidoc">edit</a></h3>
</div></div></div>
<p>Use the <a class="xref" href="search-api-precision.html" title="Search API precision (beta)"><code class="literal">precision</code> parameter of the search API</a> to set the <a class="xref" href="precision-tuning.html#precision-tuning-values" title="Precision tuning values">value</a> for a particular query.
When set per query, the <code class="literal">precision</code> value overrides the default value set for the engine.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="precision-tuning-values"></a>Precision tuning values<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.0/app-search-docs/guides/precision-tuning.asciidoc">edit</a></h3>
</div></div></div>
<p>Precision tuning values are integers that range from <code class="literal">1</code> to <code class="literal">11</code>.
The range of values represents a sliding scale that manages the inherent tradeoff between precision and recall.
Lower values favor recall, while higher values favor precision.</p>
<p>The precision tuning value for a query changes which documents match that query.
App Search matches documents to a query at the <em>term</em> and <em>phrase</em> levels.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Term matching</strong></span> refers to how App Search handles individual terms within queries and documents.
Terms are usually words, but can be any arbitrary group of letters or numbers.
App Search uses Elasticsearch analyzers to process text into terms.
</li>
<li class="listitem">
<span class="strong strong"><strong>Phrase Matching</strong></span> applies when a query contains multiple terms.
When determining which documents match a query, App Search may consider the number of query terms that appear in the document, the ordering of the terms, or where in the document the terms appear (for example, within the same field).
</li>
</ul>
</div>
<p>The following table describes each precision tuning value, including the affect on term matching and phrase matching.
Experiment with different values to find the value that works best with each engine&#8217;s documents.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Value</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Term matching</th>
<th align="left" valign="top">Phrase matching</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">1</code></p></td>
<td align="left" valign="top"><p>Lowest precision and highest recall setting.</p></td>
<td align="left" valign="top"><p>A complete set of analyzers for term matching: stemming, delimiter, joined, prefix, and fuzzy matching.</p></td>
<td align="left" valign="top"><p>At least one term in any field must match.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">2</code></p></td>
<td align="left" valign="top"><p><span class="strong strong"><strong>Default.</strong></span> High recall, low precision.</p></td>
<td align="left" valign="top"><p>(Same as above)</p></td>
<td align="left" valign="top"><p>Less than half of the terms must match.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">3</code></p></td>
<td align="left" valign="top"><p>Increasing phrase matching: half the terms.</p></td>
<td align="left" valign="top"><p>(Same as above)</p></td>
<td align="left" valign="top"><p>Queries with two or fewer terms require all terms to match. With more terms, half the terms must match (rounded up).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">4</code></p></td>
<td align="left" valign="top"><p>Increasing phrase matching: three-quarters of the terms.</p></td>
<td align="left" valign="top"><p>(Same as above)</p></td>
<td align="left" valign="top"><p>Queries with three or fewer terms require all terms to match, then three-quarters of terms must match (rounded down).</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">5</code></p></td>
<td align="left" valign="top"><p>Increasing phrase matching requirements: all but one of the terms.</p></td>
<td align="left" valign="top"><p>(Same as above)</p></td>
<td align="left" valign="top"><p>Queries with four or fewer terms require all terms to match, then all but one terms must match.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">6</code></p></td>
<td align="left" valign="top"><p>All terms must match.</p></td>
<td align="left" valign="top"><p>(Same as above)</p></td>
<td align="left" valign="top"><p>Every term must appear in the document, in any field.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">7</code></p></td>
<td align="left" valign="top"><p>The strictest phrase matching requirement: all terms must match, and in the same field.</p></td>
<td align="left" valign="top"><p>(Same as above)</p></td>
<td align="left" valign="top"><p>Every term must appear in the document.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">8</code></p></td>
<td align="left" valign="top"><p>Decreasing typo tolerance: advanced typo tolerance is disabled.</p></td>
<td align="left" valign="top"><p>Fuzzy matching is turned off, but the term pre-treatments remain.</p></td>
<td align="left" valign="top"><p>Every term must appear in the same field in the document.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">9</code></p></td>
<td align="left" valign="top"><p>Decreasing term matching: prefixing is disabled.</p></td>
<td align="left" valign="top"><p>Fuzzy matching and prefixing are turned off, but the remaining basic pre-treatments remain.</p></td>
<td align="left" valign="top"><p>Every term must appear in the same field.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">10</code></p></td>
<td align="left" valign="top"><p>Decreasing typo-tolerance: no compound-word correction.</p></td>
<td align="left" valign="top"><p>Fuzzy matching, prefixing, and delimiting / joining are turned off – contractions or hyphenations will now no longer match (e.g. "e-commerce" and "ecommerce")</p></td>
<td align="left" valign="top"><p>Every term must appear in the same field.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">11</code></p></td>
<td align="left" valign="top"><p>Exact spelling matches only.</p></td>
<td align="left" valign="top"><p>Besides lowercasing, the terms must match with the exact spelling.</p></td>
<td align="left" valign="top"><p>Every tokenized term must appear in the same field. NOTE: This is not an exact match against the field value (e.g. a search for "PART-123" can return documents that contain both tokenized "PART" and "123" terms such as "PART-123-456"). To exactly match a field value, use <a class="xref" href="filters.html" title="Search API filters">Search API filters</a>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="meta-engines-guide.html">« Meta Engines Guide</a>
</span>
<span class="next">
<a href="query-suggestions-guide.html">Query Suggestions Guide »</a>
</span>
</div>
</div>
</body>
</html>
