<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>App Search web crawler configuration | App Search documentation [8.12] | Elastic</title>
<meta class="elastic" name="content" content="App Search web crawler configuration | App Search documentation [8.12]">

<link rel="home" href="index.html" title="App Search documentation [8.12]"/>
<link rel="up" href="configuration.html" title="Configuration"/>
<link rel="prev" href="configuration.html" title="Configuration"/>
<link rel="next" href="mailer-configuration.html" title="Configuring a mailer"/>
<meta class="elastic" name="product_version" content="8.12"/>
<meta class="elastic" name="product_name" content="App Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/8.12"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="8.12"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="configuration.html">« Configuration</a>
</span>
<span class="next">
<a href="mailer-configuration.html">Configuring a mailer »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">App Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration.html">Configuration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>App Search web crawler configuration</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="configuration-settings-app-search-crawler"></a>App Search web crawler configuration</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are looking for the <span class="strong strong"><strong>Elastic</strong></span> web crawler configuration documentation, see <a href="/guide/en/enterprise-search/current/configuration.html#configuration-settings-elastic-crawler" class="ulink" target="_top">Elastic web crawler</a> in the Enterprise Search configuration documentation.
To compare features with the Elastic web crawler, see <a href="/guide/en/enterprise-search/current/crawler.html" class="ulink" target="_top">Elastic web crawler overview</a></p>
</div>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-user-agent"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.user_agent</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The User-Agent HTTP Header used for the App Search web crawler.</p>
<p><code class="literal">crawler.http.user_agent: Elastic-Crawler (&lt;crawler_version_number&gt;)</code></p>
<p>When running Elastic Web Crawler on Elastic Cloud, the default user agent value is <code class="literal">Elastic-Crawler Elastic Cloud</code> <code class="literal">(https://www.elastic.​co/guide/en/cloud/current/ec-get-help.html; &lt;unique identifier&gt;)</code>.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-user-agent-platform"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.user_agent_platform</code>
</span>
</dt>
<dd>
<p>The user agent platform used for the App Search web crawler with identifying information.
See <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent#syntax" class="ulink" target="_blank" rel="noopener">User-Agent - Syntax</a> in the MDN web docs.</p>
<p>This value will be added as a suffix to <code class="literal">crawler.http.user_agent</code> and used as the final User-Agent Header.
This value is blank by default.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-workers-pool-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.workers.pool_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The number of parallel crawls allowed per instance of Enterprise Search.
By default, it is set to 2x the number of available logical CPU cores.
On Intel CPUs, the default value is 4x the number of physical CPU cores due to hyper-threading.
See <a href="https://en.wikipedia.org/wiki/Hyper-threading" class="ulink" target="_blank" rel="noopener">Hyper-threading</a> on Wikipedia.</p>
<p><code class="literal">crawler.workers.pool_size.limit: N</code></p>
</dd>
</dl>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot set <code class="literal">crawler.workers.pool_size.limit</code> to more than 8x the number of physical CPU cores
available for the Enterprise Search instance.</p>
<p>Keep in mind that despite the setting above, you can still only have one crawl request running <span class="strong strong"><strong>per engine</strong></span> at a time.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="configuration-settings-app-search-crawler-per-crawl-resource-limits"></a>Per-crawl Resource Limits</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div></div></div>
<p>These limits guard against infinite loops and other traps common to production web crawlers.
If your crawler is hitting these limits, try changing your crawl rules or the content you&#8217;re crawling. Adjust these limits as a last resort.</p>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-crawl-max-duration-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_duration.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum duration of a crawl, in seconds. Beyond this limit, the App Search web crawler will stop, abandoning all remaining URLs in the crawl queue.</p>
<p><code class="literal">crawler.crawl.max_duration.limit: 86400 # seconds</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-crawl-max-crawl-depth-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_crawl_depth.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of sequential pages the App Search web crawler will traverse starting from the given set of entry points. Beyond this limit, the web crawler will stop discovering new links.</p>
<p><code class="literal">crawler.crawl.max_crawl_depth.limit: 10</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-crawl-max-url-length-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_url_length.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of characters within each URL to crawl.
The App Search web crawler will skip URLs that exceed this length.</p>
<p><code class="literal">crawler.crawl.max_url_length.limit: 2048</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-crawl-max-url-segments-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_url_segments.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of segments within the path of each URL to crawl.
The App Search web crawler will skip URLs whose paths exceed this length.
Example: The path <code class="literal">/a/b/c/d</code> has 4 segments.</p>
<p><code class="literal">crawler.crawl.max_url_segments.limit: 16</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-crawl-max-url-params-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_url_params.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of query parameters within each URL to crawl.
The App Search web crawler will skip URLs that exceed this length.
Example: The query string in <code class="literal">/a?b=c&amp;d=e</code> has 2 query parameters.</p>
<p><code class="literal">crawler.crawl.max_url_params.limit: 32</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-crawl-max-unique-url-count-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_unique_url_count.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of unique URLs the App Search web crawler will index during a single crawl.
Beyond this limit, the web crawler will stop.</p>
<p><code class="literal">crawler.crawl.max_unique_url_count.limit: 100000</code></p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="configuration-settings-app-search-crawler-advanced-per-crawl-limits"></a>Advanced Per-crawl Limits</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-crawl-threads-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.threads.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The number of parallel threads to use for each crawl.
The main effect from increasing this value will be an increased throughput of the App Search web crawler at the expense of higher CPU load on Enterprise Search and
Elasticsearch instances as well as higher load on the website being crawled.</p>
<p><code class="literal">crawler.crawl.threads.limit: 10</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-crawl-url-queue-url-count-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.url_queue.url_count.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size of the crawl frontier - the list of URLs the App Search web crawler needs to visit.
The list is stored in Elasticsearch, so the limit could be increased as long as the Elasticsearch cluster has enough resources (disk space) to hold the queue index.</p>
<p><code class="literal">crawler.crawl.url_queue.url_count.limit: 100000</code></p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="configuration-settings-app-search-crawler-per-request-timeout-limits"></a>Per-Request Timeout Limits</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-connection-timeout"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.connection_timeout</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum period to wait until abortion of the request, when a connection is being initiated.</p>
<p><code class="literal">crawler.http.connection_timeout: 10 # seconds</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-read-timeout"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.read_timeout</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum period of inactivity between two data packets, before the request is aborted.</p>
<p><code class="literal">crawler.http.read_timeout: 10 # seconds</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-request-timeout"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.request_timeout</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum period of the entire request, before the request is aborted.</p>
<p><code class="literal">crawler.http.request_timeout: 60 # seconds</code></p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="configuration-settings-app-search-crawler-per-request-resource-limits"></a>Per-Request Resource Limits</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-response-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.response_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size of an HTTP response (in bytes) supported by the App Search web crawler.</p>
<p><code class="literal">crawler.http.response_size.limit: 10485760</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-redirects-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.redirects.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of HTTP redirects before a request is failed.</p>
<p><code class="literal">crawler.http.redirects.limit: 10</code></p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="configuration-settings-app-search-crawler-content-extraction-resource-limits"></a>Content Extraction Resource Limits</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-extraction-title-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.title_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size (in bytes) of some fields extracted from crawled pages.</p>
<p><code class="literal">crawler.extraction.title_size.limit: 1024</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-extraction-body-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.body_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size (in bytes) of some fields extracted from crawled pages.</p>
<p><code class="literal">crawler.extraction.body_size.limit: 5242880</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-extraction-keywords-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.keywords_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size (in bytes) of some fields extracted from crawled pages.</p>
<p><code class="literal">crawler.extraction.keywords_size.limit: 512</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-extraction-description-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.description_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size (in bytes) of some fields extracted from crawled pages.</p>
<p><code class="literal">crawler.extraction.description_size.limit: 1024</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-extraction-extracted-links-count-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.extracted_links_count.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of links extracted from each page for further crawling.</p>
<p><code class="literal">crawler.extraction.extracted_links_count.limit: 1000</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-extraction-indexed-links-count-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.indexed_links_count.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of links extracted from each page and indexed in a document.</p>
<p><code class="literal">crawler.extraction.indexed_links_count.limit: 25</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-extraction-headings-count-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.headings_count.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of HTML headers to be extracted from each page.</p>
<p><code class="literal">crawler.extraction.headings_count.limit: 25</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-extraction-default-deduplication-fields"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.default_deduplication_fields</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Default document fields used to compare documents during de-duplication.</p>
<p><code class="literal">crawler.extraction.default_deduplication_fields: ['title', 'body_content', 'meta_keywords', 'meta_description', 'links', 'headings']</code></p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="configuration-settings-app-search-crawler-http-security-controls"></a>App Search web crawler HTTP Security Controls</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-security-ssl-certificate-authorities"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.security.ssl.certificate_authorities</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>A list of custom SSL Certificate Authority certificates to be used for all connections made by the App Search web crawler to your websites. These certificates are added to the standard list of CA certificates trusted by the JVM.
Each item in this list could be a file name of a certificate in PEM format or a PEM-formatted certificate as a string.</p>
<p><code class="literal">crawler.security.ssl.certificate_authorities: []</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-security-ssl-verification-mode"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.security.ssl.verification_mode</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Control SSL verification mode used by the App Search web crawler:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">full</code> - validate both the SSL certificate and the hostname presented by the server (this is the default and the recommended value)
</li>
<li class="listitem">
<code class="literal">certificate</code> - only validate the SSL certificate presented by the server
</li>
<li class="listitem">
<p><code class="literal">none</code> - disable SSL validation completely (this is very dangerous and should never be used in production deployments).</p>
<p><code class="literal">crawler.security.ssl.verification_mode: full</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-security-auth-allow-http"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.security.auth.allow_http</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Allow/Disallow <em>authenticated</em> crawling of non-HTTPS URLs:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">false</code> - Do not allow crawling non-HTTPS URLs (this is the default and the recommended value)
</li>
<li class="listitem">
<code class="literal">true</code> - Allow crawling non-HTTPS URLs
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Enabling this setting could expose your Authorization headers to a man-in-the-middle attack and
should never be used in production deployments.
See <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack" class="ulink" target="_top">https://en.wikipedia.org/wiki/Man-in-the-middle_attack</a> for more details.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="configuration-settings-app-search-crawler-dns-security"></a>App Search web crawler DNS Security Controls</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>The settings in this section could make your deployment vulnerable to SSRF attacks (especially in cloud environments) from the owners of any domains you crawl.
Do not enable any of the settings here unless you fully control DNS domains you access with the App Search web crawler.
See <a href="https://owasp.org/www-community/attacks/Server_Side_Request_Forgery" class="ulink" target="_blank" rel="noopener">Server Side Request Forgery</a> on OWASP for more details on the SSRF attack and the risks associated with it.</p>
</div>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-security-dns-allow-loopback-access"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.security.dns.allow_loopback_access</code>
</span>
</dt>
<dd>
<p>Allow the App Search web crawler to access the localhost (127.0.0.0/8 IP namespace).</p>
<p><code class="literal">crawler.security.dns.allow_loopback_access: false</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-security-dns-allow-private-networks-access"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.security.dns.allow_private_networks_access</code>
</span>
</dt>
<dd>
<p>Allow the App Search web crawler to access the private IP space: link-local, network-local addresses, etc.
See <a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#IPv4" class="ulink" target="_blank" rel="noopener">Reserved IP addresses - IPv4</a> on Wikipedia for more details.</p>
<p><code class="literal">crawler.security.dns.allow_private_networks_access: false</code></p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="configuration-settings-app-search-crawler-http-proxy"></a>App Search web crawler HTTP proxy settings</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div></div></div>
<p>If you need the App Search web crawler to send HTTP requests through an HTTP proxy, use the following settings to provide the proxy information to Enterprise Search.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Your proxy connections are subject to the DNS security controls described in <a class="xref" href="configuration-settings-app-search-crawler.html#configuration-settings-app-search-crawler-dns-security" title="App Search web crawler DNS Security Controls">App Search web crawler DNS Security Controls</a>.
If your proxy server is running on a private address or a loopback address, you will need to explicitly allow the App Search web crawler to connect to it.</p>
</div>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-proxy-host"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.proxy.host</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The host of the <a class="xref" href="configuration-settings-app-search-crawler.html#configuration-settings-app-search-crawler-http-proxy" title="App Search web crawler HTTP proxy settings">proxy</a>.</p>
<p><code class="literal">crawler.http.proxy.host: example.com</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-proxy-port"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.proxy.port</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The port of the <a class="xref" href="configuration-settings-app-search-crawler.html#configuration-settings-app-search-crawler-http-proxy" title="App Search web crawler HTTP proxy settings">proxy</a>.</p>
<p><code class="literal">crawler.http.proxy.port: 8080</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-proxy-protocol"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.proxy.protocol</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The protocol to be used when connecting to the <a class="xref" href="configuration-settings-app-search-crawler.html#configuration-settings-app-search-crawler-http-proxy" title="App Search web crawler HTTP proxy settings">proxy</a>: <code class="literal">http</code> (default) or <code class="literal">https</code>.</p>
<p><code class="literal">crawler.http.proxy.protocol: http</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-proxy-username"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.proxy.username</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The username portion of the Basic HTTP credentials to be used when connecting to the <a class="xref" href="configuration-settings-app-search-crawler.html#configuration-settings-app-search-crawler-http-proxy" title="App Search web crawler HTTP proxy settings">proxy</a>.</p>
<p><code class="literal">crawler.http.proxy.username: kimchy</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-http-proxy-password"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.proxy.password</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The password portion of the Basic HTTP credentials to be used when connecting to the <a class="xref" href="configuration-settings-app-search-crawler.html#configuration-settings-app-search-crawler-http-proxy" title="App Search web crawler HTTP proxy settings">proxy</a>.</p>
<p><code class="literal">crawler.http.proxy.password: A3renEWhGVxgYFIqfPAV73ncUtPN1b</code></p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="configuration-settings-app-search-crawler-advanced-tuning"></a>Advanced App Search web crawler tuning</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/app-search-docs/configuration/app-search-crawler-configuration.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-advanced-tuning-http-compression"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.compression.enabled</code>
</span>
</dt>
<dd>
<p>Enable/disable HTTP content (gzip/deflate) compression in App Search web crawler requests.</p>
<p><code class="literal">crawler.http.compression.enabled: true</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-app-search-crawler-advanced-tuning-http-default-encoding"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.default_encoding</code>
</span>
</dt>
<dd>
<p>Default encoding used for responses that do not specify a charset.</p>
<p><code class="literal">crawler.http.default_encoding: UTF-8</code></p>
</dd>
</dl>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="configuration.html">« Configuration</a>
</span>
<span class="next">
<a href="mailer-configuration.html">Configuring a mailer »</a>
</span>
</div>
</body>
</html>
