<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Search API | App Search documentation [8.14] | Elastic</title>
<meta class="elastic" name="content" content="Search API | App Search documentation [8.14]">

<link rel="home" href="index.html" title="App Search documentation [8.14]"/>
<link rel="up" href="api-reference.html" title="API Reference"/>
<link rel="prev" href="schema.html" title="Schema API"/>
<link rel="next" href="boosts.html" title="Search API boosts"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="App Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/8.14"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="8.14"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="schema.html">« Schema API</a>
</span>
<span class="next">
<a href="boosts.html">Search API boosts »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">App Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api-reference.html">API Reference</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Search API</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/api-reference/search.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="search"></a>Search API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/api-reference/search.asciidoc">edit</a></h2>
</div></div></div>
<p>Submit a search and receive a set of results with meta data.</p>
<div class="pre_wrapper lang-html">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-html">GET <a href="/guide/en/enterprise-search/8.14/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/&lt;engine_name&gt;/search</pre>
</div>
<div class="pre_wrapper lang-html">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-html">POST <a href="/guide/en/enterprise-search/8.14/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/&lt;engine_name&gt;/search</pre>
</div>
<p>See the <a class="xref" href="authentication.html" title="Authentication"><em>Authentication</em></a> guide for information on how to authenticate to the search API.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-api-request-body"></a>Request body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/api-reference/search.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">query</code> (required)
</span>
</dt>
<dd>
<p>String or number to match.</p>
<p>The value <code class="literal">''</code> (empty string) matches all documents. (Note that API limits for documents returned applies. See <a class="xref" href="search.html#search-api-response-body" title="Response body">Response body</a> for more details.)</p>
<p>The following Lucene query syntax is supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
double quoted strings
</li>
<li class="listitem">
<code class="literal">+</code> and <code class="literal">-</code>
</li>
<li class="listitem">
<p><code class="literal">AND</code> and <code class="literal">NOT</code></p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p><code class="literal">OR</code> logic is not supported, due to a known issue.
Refer to <a class="xref" href="known-issues.html" title="Known issues"><em>Known issues</em></a> for details and a workaround.</p>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">page</code> (optional)
</span>
</dt>
<dd>
<p>Object to delimit the pagination parameters.</p>
</dd>
<dt>
<span class="term">
<code class="literal">page.size</code> (optional)
</span>
</dt>
<dd>
<p>Number of results per page.</p>
<p>Must be greater than or equal to <code class="literal">1</code> and less than or equal to <code class="literal">1000</code>.</p>
<p>Defaults to <code class="literal">10</code>.</p>
<p>See <a class="xref" href="search-guide.html#search-guide-paginate" title="Paginate search results">Paginate search results</a> for implementation guidance.</p>
</dd>
<dt>
<span class="term">
<code class="literal">page.current</code> (optional)
</span>
</dt>
<dd>
<p>Page number of results to return.</p>
<p>Must be greater than or equal to <code class="literal">1</code> and less than or equal to <code class="literal">100</code>.</p>
<p>Defaults to <code class="literal">1</code>.</p>
<p>See <a class="xref" href="search-guide.html#search-guide-paginate" title="Paginate search results">Paginate search results</a> for implementation guidance.</p>
</dd>
<dt>
<span class="term">
<code class="literal">sort</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="sort.html" title="Search API sort">Search API sort</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">group</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="grouping.html" title="Search API group">Search API group</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">facets</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="facets.html" title="Search API facets">Search API facets</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">filters</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="filters.html" title="Search API filters">Search API filters</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">precision</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="search-api-precision.html" title="Search API precision (beta)">Search API precision (beta)</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">boosts</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="boosts.html" title="Search API boosts">Search API boosts</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">search_fields</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="search-fields-weights.html" title="Search API search fields">Search API search fields</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">result_fields</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="result-fields-highlights.html" title="Search API result fields">Search API result fields</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">analytics.tags</code> (optional)
</span>
</dt>
<dd>
<p>See <a class="xref" href="tags.html" title="Search API analytics tags">Search API analytics tags</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">record_analytics</code> (optional)
</span>
</dt>
<dd>
<p>If <code class="literal">true</code>, generates an analytics query event for the search request.</p>
<p>Defaults to <code class="literal">true</code>.</p>
<p>See <a class="xref" href="queries.html" title="Analytics queries API">Analytics queries API</a>.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-api-response-body"></a>Response body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/api-reference/search.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">results</code>
</span>
</dt>
<dd>
<p>Array of results matching the search.</p>
<p>Each result includes a document and meta data.</p>
<p>Array is empty when you paginate beyond 10,000 results.</p>
<p>See <a class="xref" href="search-guide.html#search-guide-paginate" title="Paginate search results">Paginate search results</a> for implementation guidance.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta</code>
</span>
</dt>
<dd>
<p>Object delimiting the results meta data.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.request_id</code>
</span>
</dt>
<dd>
<p>String ID representing the request. Guaranteed to be unique.</p>
<p>Use the ID with the <a class="xref" href="api-logs.html" title="API logs API">API logs API</a> to search for API requests.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.warnings</code>
</span>
</dt>
<dd>
<p>Array of warnings for the query.</p>
<p>Included with error responses <em>and</em> success responses, so inspect all responses for warnings.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.alerts</code>
</span>
</dt>
<dd>
<p>Array of alerts for your deployment.</p>
<p>Included with error responses <em>and</em> success responses, so inspect all responses for alerts.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.page</code>
</span>
</dt>
<dd>
<p>Object delimiting the pagination meta data.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.page.current</code>
</span>
</dt>
<dd>
<p>Number representing the current page of results.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.page.size</code>
</span>
</dt>
<dd>
<p>Number representing the results per page.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.page.total_pages</code>
</span>
</dt>
<dd>
<p>Number representing the total pages of results.</p>
<p>Value is <code class="literal">0</code> when you paginate beyond 10,000 results.</p>
<p>See <a class="xref" href="search-guide.html#search-guide-paginate" title="Paginate search results">Paginate search results</a> for implementation guidance.</p>
</dd>
<dt>
<span class="term">
<code class="literal">meta.page.total_results</code>
</span>
</dt>
<dd>
<p>Number representing the total results across all pages.</p>
<p>The values <code class="literal">0</code> through <code class="literal">9999</code> are exact counts.</p>
<p>The value <code class="literal">10000</code> is a pseudo keyword representing <em>greater than or equal to 10,000 results</em>.</p>
<p>See <a class="xref" href="search-guide.html#search-guide-display-total" title="Display the total number of search results">Display the total number of search results</a> and <a class="xref" href="search-guide.html#search-guide-count-documents" title="Count the documents within an engine">Count the documents within an engine</a> for implementation guidance.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-api-examples"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/api-reference/search.asciidoc">edit</a></h3>
</div></div></div>
<p>Request:</p>
<div class="pre_wrapper lang-html">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-html">curl -X POST '<a href="/guide/en/enterprise-search/8.14/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/national-parks-demo/search' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8' \
-d '{
  "query": "everglade"
}'</pre>
</div>
<p>Response:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "meta": {
    "warnings": [],
    "request_id": "2992570ab570b581ac6c457bddf68835",
    "page": {
      "total_pages": 1,
      "size": 10,
      "current": 1,
      "total_results": 3
    },
    "alerts": []
  },
  "results": [
    {
      "world_heritage_site": {
        "raw": "true"
      },
      "states": {
        "raw": [
          "Florida"
        ]
      },
      "location": {
        "raw": "25.32,-80.93"
      },
      "nps_link": {
        "raw": "https://www.nps.gov/ever/index.htm"
      },
      "acres": {
        "raw": 1508968.1
      },
      "date_established": {
        "raw": "1934-05-30T05:00:00+00:00"
      },
      "title": {
        "raw": "Everglades"
      },
      "visitors": {
        "raw": 930907
      },
      "square_km": {
        "raw": 6106.6
      },
      "description": {
        "raw": "The Everglades are the largest tropical wilderness in the United States. This mangrove and tropical rainforest ecosystem and marine estuary is home to 36 protected species, including the Florida panther, American crocodile, and West Indian manatee. Some areas have been drained and developed; restoration projects aim to restore the ecology."
      },
      "_meta": {
        "score": 1396363.1
      },
      "id": {
        "raw": "park_everglades"
      }
    },
    # ... More documents (truncated)
  ]
}</pre>
</div>
<p>Request for a specific page and page size (returns results six through ten):</p>
<div class="pre_wrapper lang-html">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-html">curl -X GET '<a href="/guide/en/enterprise-search/8.14/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/national-parks-demo/search' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8' \
-d '{
  "query": "park",
  "page": {
    "size": 5,
    "current": 2
  }
}'</pre>
</div>
<p>Request using Lucene query syntax within the query:</p>
<div class="pre_wrapper lang-html">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-html">curl -X POST '<a href="/guide/en/enterprise-search/8.14/endpoints-ref.html#enterprise-search-base-url" class="ulink" target="_blank" rel="noopener">&lt;ENTERPRISE_SEARCH_BASE_URL&gt;</a>/api/as/v1/engines/national-parks-demo/search' \
-H 'Content-Type: application/json' \
-H 'Authorization: Bearer search-soaewu2ye6uc45dr8mcd54v8' \
-d '{
  "query": "wyoming AND montana NOT washington"
}'</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-common-malformed-api-requests"></a>Common issues<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/api-reference/search.asciidoc">edit</a></h3>
</div></div></div>
<p>When constructing search API requests, some common issues are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">query</code> parameter is omitted.
</li>
<li class="listitem">
The value of <code class="literal">query</code> is not a string or a number.
</li>
<li class="listitem">
The value of <code class="literal">page</code> is not a JSON object.
</li>
<li class="listitem">
The value of <code class="literal">page.size</code> is not greater than or equal to <code class="literal">1</code> and less than or equal to <code class="literal">1000</code>.
</li>
<li class="listitem">
The value of <code class="literal">page.current</code> is not greater than or equal to <code class="literal">1</code> and less than or equal to <code class="literal">100</code>.
</li>
<li class="listitem">
The query requests more than 10000 results, returning an empty response.
</li>
</ul>
</div>
<hr>
<p>The following sections have moved:</p>
<p><a id="search-single"></a><em>Performing a single search query</em> → <a class="xref" href="search.html" title="Search API">Search API</a></p>
<p><a id="search-multi"></a><em>Performing a multiple search query</em> → <a class="xref" href="multi-search.html" title="Multi search API">Multi search API</a></p>
<p><a id="search-before-you-search"></a><em>Before you search</em> → <a class="xref" href="search.html#search-api-request-body" title="Request body">Request body</a></p>
<p><a id="search-paging"></a><em>Page</em> → <a class="xref" href="search.html#search-api-request-body" title="Request body">Request body</a>, <a class="xref" href="search.html#search-api-response-body" title="Response body">Response body</a></p>
<p><a id="search-results-limit"></a><em>Limit on results per query</em> → <a class="xref" href="search.html#search-api-request-body" title="Request body">Request body</a>, <a class="xref" href="search.html#search-api-response-body" title="Response body">Response body</a></p>
<p><a id="search-lucene"></a><em>Performing a single search query with Lucene query syntax</em> → <a class="xref" href="search.html#search-api-examples" title="Examples">Examples</a></p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="schema.html">« Schema API</a>
</span>
<span class="next">
<a href="boosts.html">Search API boosts »</a>
</span>
</div>
</body>
</html>
