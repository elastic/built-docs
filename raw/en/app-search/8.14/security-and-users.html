<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Manage users and access to App Search | App Search documentation [8.14] | Elastic</title>
<meta class="elastic" name="content" content="Manage users and access to App Search | App Search documentation [8.14]">

<link rel="home" href="index.html" title="App Search documentation [8.14]"/>
<link rel="up" href="index.html" title="App Search documentation [8.14]"/>
<link rel="prev" href="limits.html" title="Limits"/>
<link rel="next" href="guides.html" title="Guides"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="App Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/App Search/Guide/8.14"/>
<meta name="DC.subject" content="App Search"/>
<meta name="DC.identifier" content="8.14"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="limits.html">« Limits</a>
</span>
<span class="next">
<a href="guides.html">Guides »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">App Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Manage users and access to App Search</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="security-and-users"></a>Manage users and access to App Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h2>
</div></div></div>

<p>Users' access to App Search is determined by <span class="strong strong"><strong>App Search roles and engine assignments</strong></span>.</p>
<p>You can <span class="strong strong"><strong>manage users within App Search</strong></span>, along with their App Search roles and engine assignments.
Using this strategy, you can <em>create and invite new Elastic users to App Search</em> or <em>add existing Elastic users</em>.</p>
<p>Alternatively, you can <span class="strong strong"><strong>manage App Search role mappings</strong></span>, which map user attributes to App Search roles and engine assignments.
Using this strategy, you can rely on the <em>default App Search role mappings</em> or define your own <em>custom App Search role mappings</em>.</p>
<p>You can use one strategy exclusively, or both.
Review the following sections to see which is right for your deployment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><a class="xref" href="security-and-users.html#security-roles-engines" title="App Search roles and engine assignments">App Search roles and engine assignments</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="security-and-users.html#security-roles-engines-reference" title="App Search roles reference">App Search roles reference</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><a class="xref" href="security-and-users.html#security-users" title="Manage users within App Search">Manage users within App Search</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="security-and-users.html#security-users-create" title="Create and invite a new Elastic user to App Search">Create and invite a new Elastic user to App Search</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-users-add" title="Add an existing Elastic user to App Search">Add an existing Elastic user to App Search</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-users-manage" title="List, modify, and remove users' access to App Search">List, modify, and remove users' access to App Search</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p><a class="xref" href="security-and-users.html#security-role-mappings" title="Manage App Search role mappings">Manage App Search role mappings</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-reference" title="App Search role mappings">App Search role mappings</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-default" title="Default App Search role mappings">Default App Search role mappings</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-default-manage" title="Manage Elastic Stack roles">Manage Elastic Stack roles</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-custom" title="Custom App Search role mappings">Custom App Search role mappings</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-custom-create" title="Create a custom App Search role mapping">Create a custom App Search role mapping</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-custom-manage" title="List, modify, and remove custom App Search role mappings">List, modify, and remove custom App Search role mappings</a>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3><a id="security-roles-engines"></a>App Search roles and engine assignments<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h3>
<p>Each users' access to App Search is determined by their App Search role and engine assignments.</p>
<p>A <em>role</em> is a named set of permissions that rougly aligns with a job or team function.
See <a class="xref" href="security-and-users.html#security-roles-engines-reference" title="App Search roles reference">App Search roles reference</a> for a listing of all roles.
Some roles allow access to all App Search engines, while other roles allow restricting users' access to specific engines.</p>
<p>To restrict a user&#8217;s access to specific engines, use <em>engine assignments</em>.
These act as an allow list that determines which engines a particular user can access.
The special value <em>All</em> allows access to all current and future engines.</p>
<p>App Search roles and engine assignments are data specific to App Search.
Do not confuse App Search roles with Elastic Stack roles or a role managed within an external identify provider service.</p>
<p>You can manage users' roles and engine assignments in two ways:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Manage users within App Search</strong></span>, along with their App Search roles and engine assignments.
See <a class="xref" href="security-and-users.html#security-users" title="Manage users within App Search">Manage users within App Search</a>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Manage App Search role mappings</strong></span>, which map user attributes to App Search roles and engine assignments.
See <a class="xref" href="security-and-users.html#security-role-mappings" title="Manage App Search role mappings">Manage App Search role mappings</a>.
</li>
</ul>
</div>
<h4><a id="security-roles-engines-reference"></a>App Search roles reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Role</th>
<th align="left" valign="top">Feature access</th>
<th align="left" valign="top">Engine access</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Owner</p></td>
<td align="left" valign="top"><p>Owners can do anything.
There can be many owners, but there must be at least one owner at any time.
Owners can manage other users and their access.</p></td>
<td align="left" valign="top"><p>All engines.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Admin</p></td>
<td align="left" valign="top"><p>Admins can do anything, except manage account settings.
Admins can manage other users and their access.</p></td>
<td align="left" valign="top"><p>All engines.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Dev&#160;(1)</p></td>
<td align="left" valign="top"><p>Devs can manage all aspects of an engine.</p></td>
<td align="left" valign="top"><p>Determined by engine assignments.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Editor&#160;(1)</p></td>
<td align="left" valign="top"><p>Editors can manage search settings.</p></td>
<td align="left" valign="top"><p>Determined by engine assignments.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Analyst&#160;(1)</p></td>
<td align="left" valign="top"><p>Analysts can only view documents, query tester, and analytics.</p></td>
<td align="left" valign="top"><p>Determined by engine assignments.</p></td>
</tr>
</tbody>
</table>
</div>
<p>(1) The <em>dev</em>, <em>editor</em>, and <em>analyst</em> roles are not available at all subscription levels.
Refer to the subscriptions pages for <a href="/subscriptions/cloud" class="ulink" target="_blank" rel="noopener">Elastic Cloud</a> and <a href="/subscriptions" class="ulink" target="_blank" rel="noopener">Elastic Stack</a>.
To change your subscription level or start a trial, see <a href="/guide/en/enterprise-search/8.14/license-management.html" class="ulink" target="_blank" rel="noopener">Subscriptions and features</a>.</p>
<h3><a id="security-users"></a>Manage users within App Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h3>
<p>You can manage users within App Search, along with their App Search roles and engine assignments.
See <a class="xref" href="security-and-users.html#security-roles-engines" title="App Search roles and engine assignments">App Search roles and engine assignments</a>.</p>
<p>Using this strategy, you can <em>create and invite new Elastic users to App Search</em> or <em>add existing Elastic users to App Search</em> by choose a role and engines for each user.
After creating and adding users, you can <em>list, modify, and remove those users from App Search</em>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="security-and-users.html#security-users-create" title="Create and invite a new Elastic user to App Search">Create and invite a new Elastic user to App Search</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-users-add" title="Add an existing Elastic user to App Search">Add an existing Elastic user to App Search</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-users-manage" title="List, modify, and remove users' access to App Search">List, modify, and remove users' access to App Search</a>
</li>
</ul>
</div>
<p>You can use this strategy exclusively, or combine it with App Search role mappings.
See <a class="xref" href="security-and-users.html#security-role-mappings" title="Manage App Search role mappings">Manage App Search role mappings</a>.</p>
<h4><a id="security-users-create"></a>Create and invite a new Elastic user to App Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h4>
<p>You can create a new Elastic user from within App Search and simultaneously set their App Search role and engine assignments.
See <a class="xref" href="security-and-users.html#security-roles-engines" title="App Search roles and engine assignments">App Search roles and engine assignments</a>.</p>
<p>This process creates an invitation that a person must accept to set the password for the new user.</p>
<p>To use this feature, you must have Enterprise Search role-based access control (RBAC) enabled.
You can enable RBAC from either App Search <span class="strong strong"><strong>or</strong></span> Workplace Search, but once enabled, the setting applies to <span class="strong strong"><strong>both</strong></span> products.
See <a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-rbac" class="ulink" target="_blank" rel="noopener">Enterprise Search role-based access control (RBAC)</a> in the Enterprise Search documentation.</p>
<p><span class="strong strong"><strong>Create a new user:</strong></span></p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Navigate to <span class="strong strong"><strong>Search</strong></span> &gt; <span class="strong strong"><strong>Enterprise Search</strong></span> &gt; <span class="strong strong"><strong>App Search</strong></span> &gt; <span class="strong strong"><strong>Users and roles</strong></span>.
</li>
<li class="listitem">
Choose <span class="strong strong"><strong>Add a new user</strong></span>.
</li>
<li class="listitem">
Choose <span class="strong strong"><strong>Create a new user</strong></span>.
</li>
<li class="listitem">
Enter a <em>username</em> for the new user.
This cannot be changed later.
</li>
<li class="listitem">
Enter an <em>email</em> for the new user.
</li>
<li class="listitem">
Choose an App Search <em>role</em> and <em>engine assignments</em> for the new user.
See <a class="xref" href="security-and-users.html#security-roles-engines" title="App Search roles and engine assignments">App Search roles and engine assignments</a>.
</li>
<li class="listitem">
Save your changes.
</li>
</ol>
</div>
<p>App Search will display an invitation URL:</p>
<div class="imageblock">
<div class="content">
<img src="images/invitation-url.png" alt="invitation url">
</div>
</div>
<p>Share the invitation URL with the person who will log in as the new user.
App Search will automatically send the invitation by email if an email service is configured for your deployment.
To configure an email service, see <a href="/guide/en/enterprise-search/8.14/mailer-configuration.html" class="ulink" target="_blank" rel="noopener">Configure a mail service</a> in the Enterprise Search documentation.</p>
<p>Until the invitation is accepted, you will see <em>Invitation pending</em> within the management UI:</p>
<div class="imageblock">
<div class="content">
<img src="images/user-pending.png" alt="user pending">
</div>
</div>
<p>By visiting the invitation URL, the owner of the account can set the password for the user and log in to App Search.</p>
<h4><a id="security-users-add"></a>Add an existing Elastic user to App Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h4>
<p>If you have existing Elastic users, you can grant them access to App Search by choosing a role and engine assignments for each user.
See <a class="xref" href="security-and-users.html#security-roles-engines" title="App Search roles and engine assignments">App Search roles and engine assignments</a>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>There are many ways to manage users for your Elastic deployment.
From this interface, you <span class="strong strong"><strong>can</strong></span> add users managed through the <em>Elastic Stack</em>.
You <span class="strong strong"><strong>cannot</strong></span> add users managed through <em>external IdPs</em> or <em>Elastic Cloud</em>, and you cannot add <em>default users</em>.</p>
<p>Refer to the following sections in the Enterprise Search documentation:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-manage-users" class="ulink" target="_blank" rel="noopener">Manage users for your Elastic deployment</a>
</li>
<li class="listitem">
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-manage-users-elastic-stack" class="ulink" target="_blank" rel="noopener">Manage users using the Elastic Stack</a>
</li>
<li class="listitem">
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-manage-users-idps" class="ulink" target="_blank" rel="noopener">Manage users using external identity provider services (IdPs)</a>
</li>
<li class="listitem">
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-manage-users-elastic-cloud" class="ulink" target="_blank" rel="noopener">Manage users using Elastic Cloud</a>
</li>
<li class="listitem">
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-default-users" class="ulink" target="_blank" rel="noopener">Default users</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>To manage access for users from these other sources, use <a class="xref" href="security-and-users.html#security-role-mappings" title="Manage App Search role mappings">App Search role mappings</a></strong></span>.</p>
</div>
</div>
<p>To use this feature, you must have Enterprise Search role-based access control (RBAC) enabled.
You can enable RBAC from either App Search <span class="strong strong"><strong>or</strong></span> Workplace Search, but once enabled, the setting applies to <span class="strong strong"><strong>both</strong></span> products.
See <a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-rbac" class="ulink" target="_blank" rel="noopener">Enterprise Search role-based access control (RBAC)</a> in the Enterprise Search documentation.</p>
<p><span class="strong strong"><strong>Manage created and added users:</strong></span></p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Navigate to <span class="strong strong"><strong>Search</strong></span> &gt; <span class="strong strong"><strong>Enterprise Search</strong></span> &gt; <span class="strong strong"><strong>App Search</strong></span> &gt; <span class="strong strong"><strong>Users and roles</strong></span>.
</li>
<li class="listitem">
Choose <span class="strong strong"><strong>Add a new user</strong></span>.
</li>
<li class="listitem">
Choose <span class="strong strong"><strong>Add existing user</strong></span>.
</li>
<li class="listitem">
Choose a <em>username</em>. The username identifies the user.
</li>
<li class="listitem">
Choose an App Search <em>role</em> and <em>engine assignments</em> for the new user.
See <a class="xref" href="security-and-users.html#security-roles-engines" title="App Search roles and engine assignments">App Search roles and engine assignments</a>.
</li>
<li class="listitem">
Save your changes.
</li>
</ol>
</div>
<p>The added user:</p>
<div class="imageblock">
<div class="content">
<img src="images/user.png" alt="user">
</div>
</div>
<h4><a id="security-users-manage"></a>List, modify, and remove users' access to App Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h4>
<p>After <a class="xref" href="security-and-users.html#security-users-create" title="Create and invite a new Elastic user to App Search">creating users</a> or <a class="xref" href="security-and-users.html#security-users-add" title="Add an existing Elastic user to App Search">adding users</a>, you can list, modify, and remove those same users from within App Search.</p>
<p><span class="strong strong"><strong>Manage created and added users:</strong></span></p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Navigate to <span class="strong strong"><strong>Search</strong></span> &gt; <span class="strong strong"><strong>Enterprise Search</strong></span> &gt; <span class="strong strong"><strong>App Search</strong></span> &gt; <span class="strong strong"><strong>Users and roles</strong></span>.
</li>
<li class="listitem">
Locate the <em>Users</em> section.
</li>
<li class="listitem">
Use the controls within each user row to modify the user&#8217;s <em>role</em> or <em>engine assignments</em> or remove the user from App Search.
</li>
</ol>
</div>
<p>Users UI:</p>
<div class="imageblock">
<div class="content">
<img src="images/users.png" alt="users">
</div>
</div>
<h3><a id="security-role-mappings"></a>Manage App Search role mappings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h3>
<p>While you can <a class="xref" href="security-and-users.html#security-users" title="Manage users within App Search">manage users directly within App Search</a>, you may choose to manage users through other interfaces.
Other options include the Elastic Stack user management interfaces, Elastic Cloud, and external identity providers (IdPs).
See <a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-manage-users" class="ulink" target="_blank" rel="noopener">Manage users for your Elastic deployment</a> in the Enterprise Search documentation.</p>
<p>To manage these users' access to App Search, use <em>App Search role mappings</em>.
These map users, based on their attributes, to App Search roles and engine assignments.
See <a class="xref" href="security-and-users.html#security-roles-engines" title="App Search roles and engine assignments">App Search roles and engine assignments</a>.</p>
<p>Using this strategy, you can rely on the <em>default App Search role mappings</em> or define your own <em>custom App Search role mappings</em>.</p>
<p>Default App Search role mappings map <em>Elastic Stack roles</em> to App Search roles and engine assignments.
When using App Search&#8217;s default mappings, you manage access to App Search indirectly, by managing Elastic Stack roles.</p>
<p>With custom mappings, you manage access to App Search directly, by mapping your choice of user attributes to App Search roles and engines.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-reference" title="App Search role mappings">App Search role mappings</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-default" title="Default App Search role mappings">Default App Search role mappings</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-default-manage" title="Manage Elastic Stack roles">Manage Elastic Stack roles</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-custom" title="Custom App Search role mappings">Custom App Search role mappings</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-custom-create" title="Create a custom App Search role mapping">Create a custom App Search role mapping</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-custom-manage" title="List, modify, and remove custom App Search role mappings">List, modify, and remove custom App Search role mappings</a>
</li>
</ul>
</div>
<p>You can use this strategy exclusively, or combine it with direct user management within App Search.
See <a class="xref" href="security-and-users.html#security-users" title="Manage users within App Search">Manage users within App Search</a>.</p>
<h4><a id="security-role-mappings-reference"></a>App Search role mappings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h4>
<p>An <em>App Search role mapping</em> maps an <em>external user attribute value</em> to an App Search <em>role</em> and <em>engine assignments</em>.</p>
<p><span class="strong strong"><strong>Components of a mapping:</strong></span></p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
External attribute
</span>
</dt>
<dd>
The name of the user attribute that will be checked for a match when the role mapping is evaluated.
The possible values vary by identity provider.
Choose one of the enumerated values.
</dd>
<dt>
<span class="term">
Attribute value
</span>
</dt>
<dd>
A pattern that will be compared to the external attribute value when the role mapping is evaluated.
Enter a text string composed of literal text characters and the meta character <code class="literal">*</code>, which matches zero or more characters.
</dd>
<dt>
<span class="term">
Role
</span>
</dt>
<dd>
The App Search role that will be granted to users who match the role mapping.
See <a class="xref" href="security-and-users.html#security-roles-engines" title="App Search roles and engine assignments">App Search roles and engine assignments</a>.
</dd>
<dt>
<span class="term">
Engine assignments
</span>
</dt>
<dd>
<p>
A list of engine names to grant access to.
See <a class="xref" href="security-and-users.html#security-roles-engines" title="App Search roles and engine assignments">App Search roles and engine assignments</a>.
</p>
<p>All users who match the role mapping will have access to these engines.
The level of access is determined by their App Search role.</p>
<p>Choose one or more of the enumerated values, or choose the special value <em>All</em> to grant access to all current and future engines.</p>
</dd>
</dl>
</div>
<p><span class="strong strong"><strong>Evaluating mappings:</strong></span></p>
<p>Each time a user makes a request to App Search, the App Search role mappings are evaluated.
If the user matches a role mapping, based on their external user attributes, the user is granted the App Search role and engine assignments from the role mapping.</p>
<p>When a user matches <em>multiple mappings</em>, the <em>most permissive mapping</em> applies.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>When using the standalone Enterprise Search management interface, role mappings are evaluated each time a user logs in rather than each time a user makes a request.</p>
</div>
</div>
<p><span class="strong strong"><strong>Types of mappings:</strong></span></p>
<p>There are two types of App Search role mappings: <a class="xref" href="security-and-users.html#security-role-mappings-default" title="Default App Search role mappings">default</a> and <a class="xref" href="security-and-users.html#security-role-mappings-custom" title="Custom App Search role mappings">custom</a>.</p>
<h4><a id="security-role-mappings-default"></a>Default App Search role mappings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h4>
<p><em>Default</em> <a class="xref" href="security-and-users.html#security-role-mappings-reference" title="App Search role mappings">App Search role mappings</a> map users to App Search roles and engines according to their <em>Elastic Stack roles</em>.
All users with the given Elastic Stack role match the mapping and receive the App Search role and engines specified in the mapping.</p>
<p>Therefore, to manage access using default role mappings, you manage users' <em>Elastic Stack</em> roles.
See <a class="xref" href="security-and-users.html#security-role-mappings-default-manage" title="Manage Elastic Stack roles">Manage Elastic Stack roles</a>.</p>
<p>Some App Search mappings are always active, while others are active only when Enterprise Search role-based access control (RBAC) is enabled or disabled.
See <a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-rbac" class="ulink" target="_blank" rel="noopener">Enterprise Search role-based access control (RBAC)</a> in the Enterprise Search documentation.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When RBAC is <em>disabled</em> (default), the default mappings are <em>permissive</em>, allowing most users full access to App Search.
</li>
<li class="listitem">
When RBAC is <em>enabled</em>, the default mappings are <em>restrictive</em>, allowing access to only those users with specific Elastic Stack roles.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Default App Search role mappings reference:</strong></span></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Elastic Stack role</th>
<th align="left" valign="top">App Search role</th>
<th align="left" valign="top">App Search engines</th>
<th align="left" valign="top">Active when</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">superuser</code></p></td>
<td align="left" valign="top"><p><code class="literal">owner</code></p></td>
<td align="left" valign="top"><p>All</p></td>
<td align="left" valign="top"><p>Always active</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">enterprise-search-app-search-admin</code></p></td>
<td align="left" valign="top"><p><code class="literal">admin</code></p></td>
<td align="left" valign="top"><p>All</p></td>
<td align="left" valign="top"><p>RBAC enabled</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">enterprise-search-app-search-developer</code></p></td>
<td align="left" valign="top"><p><code class="literal">developer</code></p></td>
<td align="left" valign="top"><p>All</p></td>
<td align="left" valign="top"><p>RBAC enabled</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">enterprise-search-app-search-editor</code></p></td>
<td align="left" valign="top"><p><code class="literal">editor</code>&#160;(1)</p></td>
<td align="left" valign="top"><p>All</p></td>
<td align="left" valign="top"><p>RBAC enabled</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">enterprise-search-app-search-analyst</code></p></td>
<td align="left" valign="top"><p><code class="literal">analyst</code>&#160;(1)</p></td>
<td align="left" valign="top"><p>All</p></td>
<td align="left" valign="top"><p>RBAC enabled</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">*</code>&#160;(2)</p></td>
<td align="left" valign="top"><p><code class="literal">owner</code></p></td>
<td align="left" valign="top"><p>All</p></td>
<td align="left" valign="top"><p>RBAC disabled</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">editor</code></p></td>
<td align="left" valign="top"><p><code class="literal">editor</code>&#160;(1)</p></td>
<td align="left" valign="top"><p>All</p></td>
<td align="left" valign="top"><p>RBAC disabled</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">viewer</code></p></td>
<td align="left" valign="top"><p><code class="literal">analyst</code>&#160;(1)</p></td>
<td align="left" valign="top"><p>All</p></td>
<td align="left" valign="top"><p>RBAC disabled</p></td>
</tr>
</tbody>
</table>
</div>
<p>(1) The <code class="literal">editor</code> and <code class="literal">analyst</code> App Search roles are not available at all Elastic subscription levels.
If these roles are not available to your deployment, App Search will instead map to the <code class="literal">owner</code> role.</p>
<p>(2) <code class="literal">*</code> matches all <a href="/guide/en/elasticsearch/reference/8.14/built-in-roles.html" class="ulink" target="_blank" rel="noopener">built-in Elastic Stack roles</a> and <a href="/guide/en/elasticsearch/reference/8.14/defining-roles.html" class="ulink" target="_blank" rel="noopener">user-defined Elastic Stack roles</a> not otherwise shown.</p>
<h4><a id="security-role-mappings-default-manage"></a>Manage Elastic Stack roles<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h4>
<p>If you are using <a class="xref" href="security-and-users.html#security-role-mappings-default" title="Default App Search role mappings">default App Search mappings</a> to manage access to App Search, you don&#8217;t manage App Search mappings directly.
Instead, you manage Elastic Stack roles.
These roles are then mapped to App Search roles and engine assignments automatically.</p>
<p>Manage Elastic Stack roles outside of App Search, through any of the user management interfaces provided by the Elastic Stack.
See <a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-manage-users-elastic-stack" class="ulink" target="_blank" rel="noopener">Manage users using the Elastic Stack</a> within the Enterprise Search documentation.</p>
<h4><a id="security-role-mappings-custom"></a>Custom App Search role mappings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h4>
<p><em>Custom</em> <a class="xref" href="security-and-users.html#security-role-mappings-reference" title="App Search role mappings">App Search role mappings</a> map users to App Search roles and engines based on any external user attribute of your choice.
External user attributes vary by identity provider, and may include <em>username</em>, <em>email</em>, <em>role</em>, and <em>group</em>.</p>
<p>Remember, you manage <em>user attributes</em> separately from a user&#8217;s access to App Search.
Do not confuse external user attributes with App Search roles.</p>
<p>See the following sections to manage custom App Search role mappings:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-custom-create" title="Create a custom App Search role mapping">Create a custom App Search role mapping</a>
</li>
<li class="listitem">
<a class="xref" href="security-and-users.html#security-role-mappings-custom-manage" title="List, modify, and remove custom App Search role mappings">List, modify, and remove custom App Search role mappings</a>
</li>
</ul>
</div>
<h4><a id="security-role-mappings-custom-create"></a>Create a custom App Search role mapping<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h4>
<p>Create a <a class="xref" href="security-and-users.html#security-role-mappings-custom" title="Custom App Search role mappings">custom App Search role mapping</a> to map any user attribute value to an App Search role and engine assignments.</p>
<p>To use this feature, you must have Enterprise Search role-based access control (RBAC) enabled.
You can enable RBAC from either App Search <span class="strong strong"><strong>or</strong></span> Workplace Search, but once enabled, the setting applies to <span class="strong strong"><strong>both</strong></span> products.
See <a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-rbac" class="ulink" target="_blank" rel="noopener">Enterprise Search role-based access control (RBAC)</a> in the Enterprise Search documentation.</p>
<p><span class="strong strong"><strong>Create a custom role mapping:</strong></span></p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Navigate to <span class="strong strong"><strong>Search</strong></span> &gt; <span class="strong strong"><strong>Enterprise Search</strong></span> &gt; <span class="strong strong"><strong>App Search</strong></span> &gt; <span class="strong strong"><strong>Users and roles</strong></span>.
</li>
<li class="listitem">
Choose <span class="strong strong"><strong>Create a new role mapping</strong></span>.
</li>
<li class="listitem">
Choose an <em>external attribute</em>.
See <a class="xref" href="security-and-users.html#security-role-mappings-reference" title="App Search role mappings">App Search role mappings</a>.
</li>
<li class="listitem">
Enter an <em>attribute value</em> pattern.
See <a class="xref" href="security-and-users.html#security-role-mappings-reference" title="App Search role mappings">App Search role mappings</a>.
</li>
<li class="listitem">
Choose an App Search <em>role</em> and <em>engine assignments</em> for the new user.
See <a class="xref" href="security-and-users.html#security-roles-engines" title="App Search roles and engine assignments">App Search roles and engine assignments</a>.
</li>
<li class="listitem">
Save your changes.
</li>
</ol>
</div>
<p>The new role mapping:</p>
<div class="imageblock">
<div class="content">
<img src="images/role-mapping.png" alt="role mapping">
</div>
</div>
<h4><a id="security-role-mappings-custom-manage"></a>List, modify, and remove custom App Search role mappings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/app-search-docs/security-and-users.asciidoc">edit</a></h4>
<p>After <a class="xref" href="security-and-users.html#security-role-mappings-custom-create" title="Create a custom App Search role mapping">creating custom role mappings</a>, you can modify and remove them from the same user interface.</p>
<p><span class="strong strong"><strong>Manage custom role mappings:</strong></span></p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Navigate to <span class="strong strong"><strong>Search</strong></span> &gt; <span class="strong strong"><strong>Enterprise Search</strong></span> &gt; <span class="strong strong"><strong>App Search</strong></span> &gt; <span class="strong strong"><strong>Users and roles</strong></span>.
</li>
<li class="listitem">
Locate the <em>Role mappings</em> section.
</li>
<li class="listitem">
Use the controls within each role mapping row to modify the <em>external attribute</em>, <em>attribute value</em>, <em>role</em> or <em>engine assignments</em>, or remove the role mapping.
</li>
</ol>
</div>
<p>Role mappings UI:</p>
<div class="imageblock">
<div class="content">
<img src="images/role-mappings.png" alt="role mappings">
</div>
</div>
<hr>
<p><em>The following sections have moved:</em></p>
<p><a id="security-default-mappings"></a><span class="strong strong"><strong><em>Default App Search mappings for Elastic Stack roles</em></strong></span> has moved to <a class="xref" href="security-and-users.html#security-role-mappings-default" title="Default App Search role mappings">Default App Search role mappings</a>.</p>
<p><a id="app-search-self-managed-security-and-user-management-standard"></a><span class="strong strong"><strong><em>Standard auth mode</em> was removed in Enterprise Search 7.14.0.</strong></span><br>
See
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-manage-users" class="ulink" target="_blank" rel="noopener">Manage users for your Elastic deployment</a>
and
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-upgrade-from-7-13" class="ulink" target="_blank" rel="noopener">Upgrade from Enterprise Search 7.13 and earlier</a>
in the Enterprise Search documentation.</p>
<p><a id="app-search-self-managed-security-and-user-management-elasticsearch-native-realm"></a><span class="strong strong"><strong><em>Native auth mode</em> was deprecated in Enterprise Search 7.14.0.</strong></span><br>
See
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-manage-users" class="ulink" target="_blank" rel="noopener">Manage users for your Elastic deployment</a>
and
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-upgrade-from-7-13" class="ulink" target="_blank" rel="noopener">Upgrade from Enterprise Search 7.13 and earlier</a>
in the Enterprise Search documentation.</p>
<p><a id="app-search-self-managed-security-and-user-management-elasticsearch-saml"></a><span class="strong strong"><strong><em>SAML auth mode</em> was deprecated in Enterprise Search 7.14.0.</strong></span><br>
See
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-manage-users" class="ulink" target="_blank" rel="noopener">Manage users for your Elastic deployment</a>
and
<a href="/guide/en/enterprise-search/8.14/users-access.html#users-access-upgrade-from-7-13" class="ulink" target="_blank" rel="noopener">Upgrade from Enterprise Search 7.13 and earlier</a>
in the Enterprise Search documentation.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="limits.html">« Limits</a>
</span>
<span class="next">
<a href="guides.html">Guides »</a>
</span>
</div>
</body>
</html>
