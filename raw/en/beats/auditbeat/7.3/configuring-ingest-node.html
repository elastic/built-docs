<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Parse data by using ingest node | Auditbeat Reference [7.3] | Elastic</title>
<meta class="elastic" name="content" content="Parse data by using ingest node | Auditbeat Reference [7.3]">

<link rel="home" href="index.html" title="Auditbeat Reference [7.3]"/>
<link rel="up" href="configuring-howto-auditbeat.html" title="Configuring Auditbeat"/>
<link rel="prev" href="add-process-metadata.html" title="Add process metadata"/>
<link rel="next" href="auditbeat-geoip.html" title="Enrich events with geoIP information"/>
<meta class="elastic" name="product_version" content="7.3"/>
<meta class="elastic" name="product_name" content="Auditbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Auditbeat/Reference/7.3"/>
<meta name="DC.subject" content="Auditbeat"/>
<meta name="DC.identifier" content="7.3"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="add-process-metadata.html">« Add process metadata</a>
</span>
<span class="next">
<a href="auditbeat-geoip.html">Enrich events with geoIP information »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Auditbeat Reference [7.3]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuring-howto-auditbeat.html">Configuring Auditbeat</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Parse data by using ingest node</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.3/libbeat/docs/shared-config-ingest.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/reference/beats/auditbeat/configuring-ingest-node">latest documentation</a>.
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="configuring-ingest-node"></a>Parse data by using ingest node</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.3/libbeat/docs/shared-config-ingest.asciidoc">edit</a></div>
</div></div></div>
<p>When you use Elasticsearch for output, you can configure Auditbeat to use
<a href="/guide/en/elasticsearch/reference/7.3/ingest.html" class="ulink" target="_top">ingest node</a> to pre-process documents before the actual
indexing takes place in Elasticsearch.
Ingest node is a convenient processing option when you want to do some extra
processing on your data, but you do not require the full power of Logstash.
For example, you can create an ingest node pipeline
in Elasticsearch that consists of one processor that removes a field in a
document followed by another processor that renames a field.</p>
<p>After defining the pipeline in Elasticsearch, you simply configure Auditbeat
to use the pipeline. To configure Auditbeat, you specify the pipeline ID in
the <code class="literal">parameters</code> option under <code class="literal">elasticsearch</code> in the <code class="literal">auditbeat.yml</code> file:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">output.elasticsearch:
  hosts: ["localhost:9200"]
  pipeline: my_pipeline_id</pre>
</div>
<p>For example, let&#8217;s say that you&#8217;ve defined the following pipeline in a file
named <code class="literal">pipeline.json</code>:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
    "description": "Test pipeline",
    "processors": [
        {
            "lowercase": {
                "field": "agent.name"
            }
        }
    ]
}</pre>
</div>
<p>To add the pipeline in Elasticsearch, you would run:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">curl -H 'Content-Type: application/json' -XPUT 'http://localhost:9200/_ingest/pipeline/test-pipeline' -d@pipeline.json</pre>
</div>
<p>Then in the <code class="literal">auditbeat.yml</code> file, you would specify:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">output.elasticsearch:
  hosts: ["localhost:9200"]
  pipeline: "test-pipeline"</pre>
</div>
<p>When you run Auditbeat, the value of <code class="literal">agent.name</code> is converted to lowercase before indexing.</p>
<p>For more information about defining a pre-processing pipeline, see the
<a href="/guide/en/elasticsearch/reference/7.3/ingest.html" class="ulink" target="_top">Ingest Node</a> documentation.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="add-process-metadata.html">« Add process metadata</a>
</span>
<span class="next">
<a href="auditbeat-geoip.html">Enrich events with geoIP information »</a>
</span>
</div>
</body>
</html>
