<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">Migrating dashboards from Kibana 5.x to 6.x
        | Beats Developer Guide [6.4]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Beats Developer Guide [6.4]" /><link rel="up" href="index.html" title="Beats Developer Guide [6.4]" /><link rel="prev" href="filebeat-modules-devguide.html" title="Creating a New Filebeat Module" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Devguide/Reference/6.4" /><meta xmlns="" name="DC.subject" content="Beats" /><meta xmlns="" name="DC.identifier" content="6.4" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Beats Developer Guide
      [6.4]
    </a></span> » <span class="breadcrumb-node">Migrating dashboards from Kibana 5.x to 6.x</span></div><div xmlns="" class="navheader"><span class="prev"><a href="filebeat-modules-devguide.html">
              « 
              Creating a New Filebeat Module</a>
           
        </span><span class="next">
           
          </span></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="_migrating_dashboards_from_kibana_5_x_to_6_x"></a>Migrating dashboards from Kibana 5.x to 6.x<a xmlns="" href="https://github.com/elastic/beats/edit/6.4/docs/devguide/migrate-dashboards.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h1></div></div></div><p>This section is useful for the community Beats to migrate the Kibana 5.x dashboards to 6.x dashboards.</p><p>In the Kibana 5.x, the saved dashboards consist of multiple JSON files, one for each dashboard, search, visualization
and index-pattern. To import a dashboard in Kibana, you need to load not only the JSON file containing the dashboard, but
also all its dependencies (searches, visualizations).</p><p>Starting with Kibana 6.0, the dashboards are loaded by default via the Kibana API. In this case, the saved dashboard
consist of a single JSON file that includes not only the dashboard content, but also all its dependencies.</p><p>As the format of the dashboards and index-pattern for Kibana 5.x is different than the ones for Kibana 6.x, they are placed in different
directories. Depending on the Kibana version, the 5.x or 6.x dashboards are loaded.</p><p>The Kibana 5.x dashboards are placed under the 5.x directory that contains the following directories:
- search
- visualization
- dashboard
- index-pattern</p><p>The Kibana 6.x dashboards and later are placed under the default directory that contains the following directories:
- dashboard
- index-pattern</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
NOTE
</span></dt><dd>
Please make sure the 5.x and default directories are created before running the following commands.
</dd></dl></div><p>To migrate your Kibana 5.x dashboards to Kibana 6.0 and above, you can import the dashboards into Kibana 5.6 and then
export them using Beats 6.0 version.</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Start Kibana 5.6
</li><li class="listitem">
Import Kibana 5.x dashboards using Beats 6.0 version.
</li></ul></div><p>Before importing the dashboards, make sure you run <code class="literal">make update</code> in the Beat directory, that updates the <code class="literal">_meta/kibana</code> directory. It generates the index-pattern from
the <code class="literal">fields.yml</code> file, and places it under the <code class="literal">5.x/index-pattern</code> and <code class="literal">default/index-pattern</code> directories. In case of Metricbeat, Filebeat and Auditbeat,
it collects the dashboards from all the modules to the <code class="literal">_meta/kibana</code> directory.</p><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">make update</pre></div><p>Then load all the Beat’s dashboards. For example, to load the Metricbeat rabbitmq dashboards together with the Metricbeat index-pattern into Kibana 5.6,
using the Kibana API:</p><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">make update
./metricbeat setup -E setup.dashboards.directory=_meta/kibana</pre></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
Export the dashboards using Beats 6.0 version.
</li></ul></div><p>You can export the dashboards via the Kibana API by using the
<a class="ulink" href="https://github.com/elastic/beats/blob/master/dev-tools/cmd/dashboards/export_dashboards.go" target="_top">export_dashboards.go</a>
application.</p><p>For example, to export the Metricbeat rabbitmq dashboard:</p><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">cd beats/metricbeat
go run ../dev-tools/cmd/dashboards/export_dashboards.go -dashboards Metricbeat-Rabbitmq -output
module/rabbitmq/_meta/kibana/default/Metricbeat-Rabbitmq.json <a id="CO3-1"></a><i xmlns="" class="conum" data-value="1"></i></pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO3-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>
<code class="literal">Metricbeat-Rabbitmq</code> is the ID of the dashboard that you want to export.
</p></td></tr></table></div><p>Note: You can get the dashboard ID from the URL of the dashboard in Kibana. Depending on the Kibana version the
dashboard was created, the ID consists of a name or random characters that can be separated by <code class="literal">-</code>.</p><p>This command creates a single JSON file (Metricbeat-Rabbitmq.JSON) that contains the dashboard and all the dependencies like searches,
visualizations. The name of the output file has the format: &lt;Beat name&gt;-&lt;module name&gt;.json.</p><p>Starting with Beats 6.0.0, you can create an <code class="literal">yml</code> file for each module or for the entire Beat with all the dashboards.
Below is an example of the <code class="literal">module.yml</code> file for the system module in Metricbeat.</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">dashboards:
    - id: Metricbeat-system-overview <a id="CO4-1"></a><i xmlns="" class="conum" data-value="1"></i>
      file: Metricbeat-system-overview.json <a id="CO4-2"></a><i xmlns="" class="conum" data-value="2"></i>

    - id: 79ffd6e0-faa0-11e6-947f-177f697178b8
      file: Metricbeat-host-overview.json

    - id: CPU-slash-Memory-per-container
      file: Metricbeat-docker-overview.json</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-1"><i xmlns="" class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>
Dashboard ID.
</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO4-2"><i xmlns="" class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>
The JSON file where the dashboard is saved on disk.
</p></td></tr></table></div><p>Using the yml file, you can export all the dashboards for a single module or for the entire Beat using a single command:</p><div xmlns="" class="pre_wrapper lang-shell"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-shell">cd metricbeat/module/system
go run ../../../dev-tools/cmd/dashboards/export_dashboards.go -yml module.yml</pre></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="filebeat-modules-devguide.html">
              « 
              Creating a New Filebeat Module</a>
           
        </span><span class="next">
           
          </span></div></body></html>