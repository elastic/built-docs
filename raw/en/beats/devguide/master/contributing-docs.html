<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Contributing to the docs | Beats Developer Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Contributing to the docs | Beats Developer Guide [master]">

<link rel="home" href="index.html" title="Beats Developer Guide [master]"/>
<link rel="up" href="beats-contributing.html" title="Contributing to Beats"/>
<link rel="prev" href="beats-contributing.html" title="Contributing to Beats"/>
<link rel="next" href="testing.html" title="Testing"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Beats"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Devguide/Reference/master"/>
<meta name="DC.subject" content="Beats"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Beats Developer Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="beats-contributing.html">Contributing to Beats</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="beats-contributing.html">« Contributing to Beats</a>
</span>
<span class="next">
<a href="testing.html">Testing »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="contributing-docs"></a>Contributing to the docs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/main/docs/devguide/documentation.asciidoc">edit</a></h2>
</div></div></div>
<p>The Beats documentation follows the tagging guidelines described in the
<a href="https://github.com/elastic/docs/blob/master/README.asciidoc" class="ulink" target="_top">Docs HOWTO</a>. However
it extends these capabilities in a couple ways:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The documentation makes extensive use of
<a href="https://docs.asciidoctor.org/asciidoc/latest/directives/conditionals/" class="ulink" target="_top">AsciiDoc conditionals</a>
to provide content that is reused across multiple books. This means that there
might not be a single source file for each published HTML page. Some files are
shared across multiple books, either as complete pages or snippets. For more
details, refer to <a class="xref" href="contributing-docs.html#where-to-find-files" title="Where to find the Beats docs source">Where to find the Beats docs source</a>.
</li>
<li class="listitem">
The documentation includes some files that are generated from YAML source or
pieced together from content that lives in <code class="literal">_meta</code> directories under the code
(for example, the module and exported fields documentation). For more details,
refer to <a class="xref" href="contributing-docs.html#generated-docs" title="Generated docs">Generated docs</a>.
</li>
</ul>
</div>
<h4><a id="where-to-find-files"></a>Where to find the Beats docs source<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/main/docs/devguide/documentation.asciidoc">edit</a></h4>
<p>Because the Beats documentation makes use of shared content, doc generation
scripts, and componentization, the source files are located in several places:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Documentation</th>
<th align="left" valign="top">Location of source files</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Main docs for the Beat, including index files</p></td>
<td align="left" valign="top"><p><code class="literal">&lt;beatname&gt;/docs</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Shared docs and Beats Platform Reference</p></td>
<td align="left" valign="top"><p><code class="literal">libbeat/docs</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Processor docs</p></td>
<td align="left" valign="top"><p><code class="literal">docs</code> folders under processors in <code class="literal">libbeat/processors/</code>,
<code class="literal">x-pack/&lt;beatname&gt;/processors/</code>, and <code class="literal">x-pack/libbeat/processors/</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Output docs</p></td>
<td align="left" valign="top"><p><code class="literal">docs</code> folders under outputs in <code class="literal">libbeat/outputs/</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Module docs</p></td>
<td align="left" valign="top"><p><code class="literal">_meta</code> folders under modules and datasets in <code class="literal">libbeat/module/</code>,
<code class="literal">&lt;beatname&gt;/module/</code>, and <code class="literal">x-pack/&lt;beatname&gt;/module/</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>The <a href="https://github.com/elastic/docs/blob/master/conf.yaml" class="ulink" target="_top">conf.yaml</a> file in the
<code class="literal">docs</code> repo shows all the resources used to build each book. This file is used
to drive the classic docs build and is the source of truth for file locations.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you can&#8217;t find the source for a page you want to update, go to the
published page at www.elastic.co and click the Edit link to navigate to the
source.</p>
</div>
</div>
<p>The Beats documentation build also has dependencies on the following files in
the <a href="https://github.com/elastic/docs" class="ulink" target="_top">docs</a> repo:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">shared/versions/stack/&lt;version&gt;.asciidoc</code>
</li>
<li class="listitem">
<code class="literal">shared/attributes.asciidoc</code>
</li>
</ul>
</div>
<h4><a id="generated-docs"></a>Generated docs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/main/docs/devguide/documentation.asciidoc">edit</a></h4>
<p>After updating <code class="literal">docs.asciidoc</code> files in <code class="literal">_meta</code> directories, you must run the
doc collector scripts to regenerate the docs.</p>
<p>Make sure you
<a class="xref" href="beats-contributing.html#setting-up-dev-environment" title="Setting Up Your Dev Environment">set up your Beats development environment</a> and use
the correct Go version. The Go version is listed in the <code class="literal">version.asciidoc</code> file
for the branch you want to update.</p>
<p>To run the docs collector scripts, change to the beats directory and run:</p>
<p><code class="literal">make update</code></p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">make update</code> command overwrites files in the <code class="literal">docs</code> directories
<span class="strong strong"><strong>without warning</strong></span>. If you accidentally update a generated file and run
<code class="literal">make update</code>, your changes will be overwritten.</p>
</div>
</div>
<p>To format your files, you might also need to run this command:</p>
<p><code class="literal">make fmt</code></p>
<p>The make command calls the following scripts to generate the docs:</p>
<p><a href="https://github.com/elastic/beats/blob/main/auditbeat/scripts/docs_collector.py" class="ulink" target="_top">auditbeat/scripts/docs_collector.py</a>
generates:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">auditbeat/docs/modules_list.asciidoc</code>
</li>
<li class="listitem">
<code class="literal">auditbeat/docs/modules/*.asciidoc</code>
</li>
</ul>
</div>
<p><a href="https://github.com/elastic/beats/blob/main/filebeat/scripts/docs_collector.py" class="ulink" target="_top">filebeat/scripts/docs_collector.py</a>
generates:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">filebeat/docs/modules_list.asciidoc</code>
</li>
<li class="listitem">
<code class="literal">filebeat/docs/modules/*.asciidoc</code>
</li>
</ul>
</div>
<p><a href="https://github.com/elastic/beats/blob/main/metricbeat/scripts/mage/docs_collector.go" class="ulink" target="_top">metricbeat/scripts/mage/docs_collector.go</a>
generates:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">metricbeat/docs/modules_list.asciidoc</code>
</li>
<li class="listitem">
<code class="literal">metricbeat/docs/modules/*.asciidoc</code>
</li>
</ul>
</div>
<p><a href="https://github.com/elastic/beats/blob/main/libbeat/scripts/generate_fields_docs.py" class="ulink" target="_top">libbeat/scripts/generate_fields_docs.py</a>
generates</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">auditbeat/docs/fields.asciidoc</code>
</li>
<li class="listitem">
<code class="literal">filebeat/docs/fields.asciidoc</code>
</li>
<li class="listitem">
<code class="literal">functionbeat/docs/fields.asciidoc</code>
</li>
<li class="listitem">
<code class="literal">heartbeat/docs/fields.asciidoc</code>
</li>
<li class="listitem">
<code class="literal">metricbeat/docs/fields.asciidoc</code>
</li>
<li class="listitem">
<code class="literal">packetbeat/docs/fields.asciidoc</code>
</li>
<li class="listitem">
<code class="literal">winlogbeat/docs/fields.asciidoc</code>
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="beats-contributing.html">« Contributing to Beats</a>
</span>
<span class="next">
<a href="testing.html">Testing »</a>
</span>
</div>
</div>
</body>
</html>
