<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Stdin input | Filebeat Reference [7.1] | Elastic</title>
<meta class="elastic" name="content" content="Stdin input | Filebeat Reference [7.1]">

<link rel="home" href="index.html" title="Filebeat Reference [7.1]"/>
<link rel="up" href="configuration-filebeat-options.html" title="Configure inputs"/>
<link rel="prev" href="filebeat-input-log.html" title="Log input"/>
<link rel="next" href="filebeat-input-redis.html" title="Redis input"/>
<meta class="elastic" name="product_version" content="7.1"/>
<meta class="elastic" name="product_name" content="Filebeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Filebeat/Reference/7.1"/>
<meta name="DC.subject" content="Filebeat"/>
<meta name="DC.identifier" content="7.1"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="filebeat-input-log.html">« Log input</a>
</span>
<span class="next">
<a href="filebeat-input-redis.html">Redis input »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Filebeat Reference [7.1]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuring-howto-filebeat.html">Configuring Filebeat</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration-filebeat-options.html">Configure inputs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Stdin input</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-stdin.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="filebeat-input-stdin"></a>Stdin input<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-stdin.asciidoc">edit</a></h2>
</div></div></div>

<p>Use the <code class="literal">stdin</code> input to read events from standard in.</p>
<p>Note: This input cannot be run at the same time with other input types.</p>
<p>Example configuration:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="stdin-input-options"></a>Configuration options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-stdin.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">stdin</code> input supports the following configuration options plus the
<a class="xref" href="filebeat-input-stdin.html#filebeat-input-stdin-common-options" title="Common options">Common options</a> described later.</p>
<h5><a id="_encoding_2"></a><code class="literal">encoding</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>The file encoding to use for reading data that contains international
characters. See the encoding names <a href="http://www.w3.org/TR/encoding/" class="ulink" target="_top">recommended by
the W3C for use in HTML5</a>.</p>
<p>Here are some sample encodings from W3C recommendation:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
plain, latin1, utf-8, utf-16be-bom, utf-16be, utf-16le, big5, gb18030,
gbk, hz-gb-2312,
</li>
<li class="listitem">
euc-kr, euc-jp, iso-2022-jp, shift-jis, and so on
</li>
</ul>
</div>
<p>The <code class="literal">plain</code> encoding is special, because it does not validate or transform any input.</p>
<h5><a id="filebeat-input-stdin-exclude-lines"></a><code class="literal">exclude_lines</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>A list of regular expressions to match the lines that you want Filebeat to
exclude. Filebeat drops any lines that match a regular expression in the
list. By default, no lines are dropped. Empty lines are ignored.</p>
<p>If <a class="xref" href="multiline-examples.html#multiline" title="Configuration options">multiline</a> settings are also specified, each multiline message
is combined into a single line before the lines are filtered by <code class="literal">exclude_lines</code>.</p>
<p>The following example configures Filebeat to drop any lines that start with
<code class="literal">DBG</code>.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin
  ...
  exclude_lines: ['^DBG']</pre>
</div>
<p>See <a class="xref" href="regexp-support.html" title="Regular expression support"><em>Regular expression support</em></a> for a list of supported regexp patterns.</p>
<h5><a id="filebeat-input-stdin-include-lines"></a><code class="literal">include_lines</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>A list of regular expressions to match the lines that you want Filebeat to
include. Filebeat exports only the lines that match a regular expression in
the list. By default, all lines are exported. Empty lines are ignored.</p>
<p>If <a class="xref" href="multiline-examples.html#multiline" title="Configuration options">multiline</a> settings also specified, each multiline message is
combined into a single line before the lines are filtered by <code class="literal">include_lines</code>.</p>
<p>The following example configures Filebeat to export any lines that start
with <code class="literal">ERR</code> or <code class="literal">WARN</code>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin
  ...
  include_lines: ['^ERR', '^WARN']</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If both <code class="literal">include_lines</code> and <code class="literal">exclude_lines</code> are defined, Filebeat
executes <code class="literal">include_lines</code> first and then executes <code class="literal">exclude_lines</code>. The order in
which the two options are defined doesn&#8217;t matter. The <code class="literal">include_lines</code> option
will always be executed before the <code class="literal">exclude_lines</code> option, even if
<code class="literal">exclude_lines</code> appears before <code class="literal">include_lines</code> in the config file.</p>
</div>
</div>
<p>The following example exports all log lines that contain <code class="literal">sometext</code>,
except for lines that begin with <code class="literal">DBG</code> (debug messages):</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin
  ...
  include_lines: ['sometext']
  exclude_lines: ['^DBG']</pre>
</div>
<p>See <a class="xref" href="regexp-support.html" title="Regular expression support"><em>Regular expression support</em></a> for a list of supported regexp patterns.</p>
<h5><a id="_harvester_buffer_size_2"></a><code class="literal">harvester_buffer_size</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>The size in bytes of the buffer that each harvester uses when fetching a file.
The default is 16384.</p>
<h5><a id="_max_bytes_2"></a><code class="literal">max_bytes</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>The maximum number of bytes that a single log message can have. All bytes after
<code class="literal">max_bytes</code> are discarded and not sent. This setting is especially useful for
multiline log messages, which can get large. The default is 10MB (10485760).</p>
<h5><a id="filebeat-input-stdin-config-json"></a><code class="literal">json</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>These options make it possible for Filebeat to decode logs structured as
JSON messages. Filebeat processes the logs line by line, so the JSON
decoding only works if there is one JSON object per line.</p>
<p>The decoding happens before line filtering and multiline. You can combine JSON
decoding with filtering and multiline if you set the <code class="literal">message_key</code> option. This
can be helpful in situations where the application logs are wrapped in JSON
objects, as with like it happens for example with Docker.</p>
<p>Example configuration:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">json.keys_under_root: true
json.add_error_key: true
json.message_key: log</pre>
</div>
<p>You must specify at least one of the following settings to enable JSON parsing
mode:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">keys_under_root</code></strong></span>
</span>
</dt>
<dd>
By default, the decoded JSON is placed under a "json" key
in the output document. If you enable this setting, the keys are copied top
level in the output document. The default is false.
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">overwrite_keys</code></strong></span>
</span>
</dt>
<dd>
If <code class="literal">keys_under_root</code> and this setting are enabled, then the
values from the decoded JSON object overwrite the fields that Filebeat
normally adds (type, source, offset, etc.) in case of conflicts.
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">add_error_key</code></strong></span>
</span>
</dt>
<dd>
If this setting is enabled, Filebeat adds a
"error.message" and "error.type: json" key in case of JSON unmarshalling errors
or when a <code class="literal">message_key</code> is defined in the configuration but cannot be used.
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">message_key</code></strong></span>
</span>
</dt>
<dd>
An optional configuration setting that specifies a JSON key on
which to apply the line filtering and multiline settings. If specified the key
must be at the top level in the JSON object and the value associated with the
key must be a string, otherwise no filtering or multiline aggregation will
occur.
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">ignore_decoding_error</code></strong></span>
</span>
</dt>
<dd>
An optional configuration setting that specifies if
JSON decoding errors should be logged or not. If set to true, errors will not
be logged. The default is false.
</dd>
</dl>
</div>
<h5><a id="_multiline_2"></a><code class="literal">multiline</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>Options that control how Filebeat deals with log messages that span
multiple lines. See <a class="xref" href="multiline-examples.html" title="Manage multiline messages"><em>Manage multiline messages</em></a> for more information about
configuring multiline options.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="filebeat-input-stdin-common-options"></a>Common options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h3>
</div></div></div>
<p>The following configuration options are supported by all inputs.</p>
<h5><a id="_enabled_2"></a><code class="literal">enabled</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>Use the <code class="literal">enabled</code> option to enable and disable inputs. By default, enabled is
set to true.</p>
<h5><a id="_tags_2"></a><code class="literal">tags</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>A list of tags that Filebeat includes in the <code class="literal">tags</code> field of each published
event. Tags make it easy to select specific events in Kibana or apply
conditional filtering in Logstash. These tags will be appended to the list of
tags specified in the general configuration.</p>
<p>Example:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin
  . . .
  tags: ["json"]</pre>
</div>
<h5><a id="filebeat-input-stdin-fields"></a><code class="literal">fields</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>Optional fields that you can specify to add additional information to the
output. For example, you might add fields that you can use for filtering log
data. Fields can be scalar values, arrays, dictionaries, or any nested
combination of these. By default, the fields that you specify here will be
grouped under a <code class="literal">fields</code> sub-dictionary in the output document. To store the
custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.
If a duplicate field is declared in the general configuration, then its value
will be overwritten by the value declared here.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin
  . . .
  fields:
    app_id: query_engine_12</pre>
</div>
<h5><a id="fields-under-root-stdin"></a><code class="literal">fields_under_root</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>If this option is set to true, the custom
<a class="xref" href="filebeat-input-stdin.html#filebeat-input-stdin-fields" title="fields">fields</a> are stored as top-level fields in
the output document instead of being grouped under a <code class="literal">fields</code> sub-dictionary. If
the custom field names conflict with other field names added by Filebeat,
then the custom fields overwrite the other fields.</p>
<h5><a id="_processors_2"></a><code class="literal">processors</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>A list of processors to apply to the input data.</p>
<p>See <a class="xref" href="filtering-and-enhancing-data.html" title="Filter and enhance the exported data"><em>Filter and enhance the exported data</em></a> for information about specifying
processors in your config.</p>
<h5><a id="_pipeline_2"></a><code class="literal">pipeline</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.1/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>The Ingest Node pipeline ID to set for the events generated by this input.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The pipeline ID can also be configured in the Elasticsearch output, but
this option usually results in simpler configuration files. If the pipeline is
configured both in the input and output, the option from the
input is used.</p>
</div>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="filebeat-input-log.html">« Log input</a>
</span>
<span class="next">
<a href="filebeat-input-redis.html">Redis input »</a>
</span>
</div>
</body>
</html>
