<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Unified Logs input | Filebeat Reference [8.18] | Elastic</title>
<meta class="elastic" name="content" content="Unified Logs input | Filebeat Reference [8.18]">

<link rel="home" href="index.html" title="Filebeat Reference [8.18]"/>
<link rel="up" href="configuration-filebeat-options.html" title="Configure inputs"/>
<link rel="prev" href="filebeat-input-udp.html" title="UDP input"/>
<link rel="next" href="filebeat-input-unix.html" title="Unix input"/>
<meta class="elastic" name="product_version" content="8.18"/>
<meta class="elastic" name="product_name" content="Filebeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Filebeat/Reference/8.18"/>
<meta name="DC.subject" content="Filebeat"/>
<meta name="DC.identifier" content="8.18"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="filebeat-input-udp.html">« UDP input</a>
</span>
<span class="next">
<a href="filebeat-input-unix.html">Unix input »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Filebeat Reference [8.18]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuring-howto-filebeat.html">Configure Filebeat</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration-filebeat-options.html">Configure inputs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Unified Logs input</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="filebeat-input-unifiedlogs"></a>Unified Logs input</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only available for MacOS.</p>
</div>
</div>
<p>The unified logging system provides a comprehensive and performant API to capture
telemetry across all levels of the system. This system centralizes the storage of
log data in memory and on disk, rather than writing that data to a text-based log file.</p>
<p>The input interacts with the <code class="literal">log</code> command-line tool to provide access to the events.</p>
<p>The input starts streaming events from the current point in time unless a start date or
the <code class="literal">backfill</code> options are set. When restarted it will continue where it left off.</p>
<p>Alternatively, it can also do one off operations, such as:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Stream events contained in a <code class="literal">.logarchive</code> file.
</li>
<li class="listitem">
Stream events contained in a <code class="literal">.tracev3</code> file.
</li>
<li class="listitem">
Stream events in a specific time span, by providing a specific end date.
</li>
</ul>
</div>
<p>After this one off operations complete, the input will stop.</p>
<p>Other configuration options can be specified to filter what events to process.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The input can cause some duplicated events when backfilling and/or
restarting. This is caused by how the underlying fetching method works and
should be taken into account when using the input.</p>
</div>
</div>
<p>Example configuration:</p>
<p>Process all old and new logs:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: unifiedlogs
  id: unifiedlogs-id
  enabled: true
  backfill: true</pre>
</div>
<p>Process logs with predicate filters:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: unifiedlogs
  id: unifiedlogs-id
  enabled: true
  predicate:
    # Captures keychain.db unlock events
    - 'process == "loginwindow" &amp;&amp; sender == "Security"'
    # Captures user login events
    - 'process == "logind"'
    # Captures command line activity run with elevated privileges
    - 'process == "sudo"'</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_configuration_options_21"></a>Configuration options</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
</div></div></div>
<p>The <code class="literal">unifiedlogs</code> input supports the following configuration options plus the
<a class="xref" href="filebeat-input-unifiedlogs.html#filebeat-input-unifiedlogs-common-options" title="Common options">Common options</a> described later.</p>
<div class="position-relative"><h4><a id="_archive_file"></a><code class="literal">archive_file</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Display events stored in the given archive.
The archive must be a valid log archive bundle with the suffix <code class="literal">.logarchive</code>.</p>
<div class="position-relative"><h4><a id="_trace_file"></a><code class="literal">trace_file</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Display events stored in the given <code class="literal">.tracev3</code> file.
In order to be decoded, the file must be contained within a valid <code class="literal">.logarchive</code></p>
<div class="position-relative"><h4><a id="_start"></a><code class="literal">start</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Shows content starting from the provided date.
The following date/time formats are accepted:
<code class="literal">YYYY-MM-DD</code>, <code class="literal">YYYY-MM-DD HH:MM:SS</code>, <code class="literal">YYYY-MM-DD HH:MM:SSZZZZZ</code>.</p>
<div class="position-relative"><h4><a id="_end"></a><code class="literal">end</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Shows content up to the provided date.
The following date/time formats are accepted:
<code class="literal">YYYY-MM-DD</code>, <code class="literal">YYYY-MM-DD HH:MM:SS</code>, <code class="literal">YYYY-MM-DD HH:MM:SSZZZZZ</code>.</p>
<div class="position-relative"><h4><a id="_predicate"></a><code class="literal">predicate</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Filters messages using the provided predicate based on NSPredicate.
A compound predicate or multiple predicates can be provided as a list.</p>
<p>For detailed information on the use of predicate based filtering,
please refer to the <a href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/Predicates/Articles/pSyntax.html" class="ulink" target="_top">Predicate Programming Guide</a>.</p>
<div class="position-relative"><h4><a id="_process"></a><code class="literal">process</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>A list of the processes on which to operate. It accepts a PID or process name.</p>
<div class="position-relative"><h4><a id="_source"></a><code class="literal">source</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Include symbol names and source line numbers for messages, if available.
Default: <code class="literal">false</code>.</p>
<div class="position-relative"><h4><a id="_info"></a><code class="literal">info</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Disable or enable info level messages.
Default: <code class="literal">false</code>.</p>
<div class="position-relative"><h4><a id="_debug"></a><code class="literal">debug</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Disable or enable debug level messages.
Default: <code class="literal">false</code>.</p>
<div class="position-relative"><h4><a id="_backtrace"></a><code class="literal">backtrace</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Disable or enable display of backtraces.
Default: <code class="literal">false</code>.</p>
<div class="position-relative"><h4><a id="_signpost"></a><code class="literal">signpost</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Disable or enable display of signposts.
Default: <code class="literal">false</code>.</p>
<div class="position-relative"><h4><a id="_unreliable"></a><code class="literal">unreliable</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Annotate events with whether the log was emitted unreliably.
Default: <code class="literal">false</code>.</p>
<div class="position-relative"><h4><a id="_mach_continuous_time"></a><code class="literal">mach_continuous_time</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>Use mach continuous time timestamps rather than walltime.
Default: <code class="literal">false</code>.</p>
<div class="position-relative"><h4><a id="_backfill"></a><code class="literal">backfill</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>If set to true the input will process all available logs since the beginning
of time the first time it starts.
Default: <code class="literal">false</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="filebeat-input-unifiedlogs-common-options"></a>Common options</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></div>
</div></div></div>
<p>The following configuration options are supported by all inputs.</p>
<div class="position-relative"><h5><a id="_enabled_28"></a><code class="literal">enabled</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></div>
<p>Use the <code class="literal">enabled</code> option to enable and disable inputs. By default, enabled is
set to true.</p>
<div class="position-relative"><h5><a id="_tags_27"></a><code class="literal">tags</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></div>
<p>A list of tags that Filebeat includes in the <code class="literal">tags</code> field of each published
event. Tags make it easy to select specific events in Kibana or apply
conditional filtering in Logstash. These tags will be appended to the list of
tags specified in the general configuration.</p>
<p>Example:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: unifiedlogs
  . . .
  tags: ["json"]</pre>
</div>
<div class="position-relative"><h5><a id="filebeat-input-unifiedlogs-fields"></a><code class="literal">fields</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></div>
<p>Optional fields that you can specify to add additional information to the
output. For example, you might add fields that you can use for filtering log
data. Fields can be scalar values, arrays, dictionaries, or any nested
combination of these. By default, the fields that you specify here will be
grouped under a <code class="literal">fields</code> sub-dictionary in the output document. To store the
custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.
If a duplicate field is declared in the general configuration, then its value
will be overwritten by the value declared here.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: unifiedlogs
  . . .
  fields:
    app_id: query_engine_12</pre>
</div>
<div class="position-relative"><h5><a id="fields-under-root-unifiedlogs"></a><code class="literal">fields_under_root</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></div>
<p>If this option is set to true, the custom
<a class="xref" href="filebeat-input-unifiedlogs.html#filebeat-input-unifiedlogs-fields" title="fields">fields</a> are stored as top-level fields in
the output document instead of being grouped under a <code class="literal">fields</code> sub-dictionary. If
the custom field names conflict with other field names added by Filebeat,
then the custom fields overwrite the other fields.</p>
<div class="position-relative"><h5><a id="_processors_27"></a><code class="literal">processors</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></div>
<p>A list of processors to apply to the input data.</p>
<p>See <a class="xref" href="filtering-and-enhancing-data.html" title="Filter and enhance data with processors"><em>Processors</em></a> for information about specifying
processors in your config.</p>
<div class="position-relative"><h5><a id="_pipeline_27"></a><code class="literal">pipeline</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></div>
<p>The ingest pipeline ID to set for the events generated by this input.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The pipeline ID can also be configured in the Elasticsearch output, but
this option usually results in simpler configuration files. If the pipeline is
configured both in the input and output, the option from the
input is used.</p>
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">pipeline</code> is always lowercased. If <code class="literal">pipeline: Foo-Bar</code>, then
the pipeline name in Elasticsearch needs to be defined as <code class="literal">foo-bar</code>.</p>
</div>
</div>
<div class="position-relative"><h5><a id="_keep_null_27"></a><code class="literal">keep_null</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></div>
<p>If this option is set to true, fields with <code class="literal">null</code> values will be published in
the output document. By default, <code class="literal">keep_null</code> is set to <code class="literal">false</code>.</p>
<div class="position-relative"><h5><a id="_index_27"></a><code class="literal">index</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></div>
<p>If present, this formatted string overrides the index for events from this input
(for elasticsearch outputs), or sets the <code class="literal">raw_index</code> field of the event&#8217;s
metadata (for other outputs). This string can only refer to the agent name and
version and the event timestamp; for access to dynamic fields, use
<code class="literal">output.elasticsearch.index</code> or a processor.</p>
<p>Example value: <code class="literal">"%{[agent.name]}-myindex-%{+yyyy.MM.dd}"</code> might
expand to <code class="literal">"filebeat-myindex-2019.11.01"</code>.</p>
<div class="position-relative"><h5><a id="_publisher_pipeline_disable_host_27"></a><code class="literal">publisher_pipeline.disable_host</code></h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></div>
<p>By default, all events contain <code class="literal">host.name</code>. This option can be set to <code class="literal">true</code> to
disable the addition of this field to all events. The default value is <code class="literal">false</code>.</p>
<div class="position-relative"><h3><a id="_metrics_17"></a>Metrics</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.18/x-pack/filebeat/docs/inputs/input-unifiedlogs.asciidoc">edit</a></div>
<p>This input exposes metrics under the <a class="xref" href="http-endpoint.html" title="Configure an HTTP endpoint for metrics">HTTP monitoring endpoint</a>.
These metrics are exposed under the <code class="literal">/inputs/</code> path. They can be used to
observe the activity of the input.</p>
<p>You must assign a unique <code class="literal">id</code> to the input to expose metrics.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Metric</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">errors_total</code></p></td>
<td align="left" valign="top"><p>Total number of errors.</p></td>
</tr>
</tbody>
</table>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="filebeat-input-udp.html">« UDP input</a>
</span>
<span class="next">
<a href="filebeat-input-unix.html">Unix input »</a>
</span>
</div>
</body>
</html>
