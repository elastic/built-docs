<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Salesforce input | Filebeat Reference [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Salesforce input | Filebeat Reference [8.15]">

<link rel="home" href="index.html" title="Filebeat Reference [8.15]"/>
<link rel="up" href="configuration-filebeat-options.html" title="Configure inputs"/>
<link rel="prev" href="filebeat-input-redis.html" title="Redis input"/>
<link rel="next" href="filebeat-input-stdin.html" title="Stdin input"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Filebeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Filebeat/Reference/8.15"/>
<meta name="DC.subject" content="Filebeat"/>
<meta name="DC.identifier" content="8.15"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="filebeat-input-redis.html">« Redis input</a>
</span>
<span class="next">
<a href="filebeat-input-stdin.html">Stdin input »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Filebeat Reference [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuring-howto-filebeat.html">Configure Filebeat</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration-filebeat-options.html">Configure inputs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Salesforce input</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="filebeat-input-salesforce"></a>Salesforce input<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h2>
</div></div></div>

<p>Use the <code class="literal">salesforce</code> input to monitor Salesforce events either via the <a href="https://developer.salesforce.com/docs/atlas.en-us.object_reference.meta/object_reference/sforce_api_objects_eventlogfile.htm" class="ulink" target="_top">Salesforce EventLogFile (ELF) API</a> or the <a href="https://developer.salesforce.com/blogs/2020/05/introduction-to-real-time-event-monitoring" class="ulink" target="_top">Salesforce Real-time event monitoring API</a>. Both use REST API (to execute SOQL queries in the Salesforce instance) under the hood to query the relevant objects to fetch the events.</p>
<p>The Salesforce input maintains cursor states between requests to track the last event retrieved in each execution. These cursor states are passed to the next event monitoring execution to resume fetching events from the last known position. The cursor states allow the input to pick up where it left off and provide control over the behavior of the input.</p>
<p>Here are some supported authentication methods and event monitoring methods:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Authentication methods</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>OAuth2</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
User-Password flow
</li>
<li class="listitem">
JWT Bearer flow
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Event monitoring methods</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
EventLogFile (ELF) using REST API
</li>
<li class="listitem">
REST API for objects (For monitoring real-time events)
</li>
</ul>
</div>
</li>
</ul>
</div>
<p>Here are some key points about how cursors are used in the Salesforce input:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Separate cursor states are maintained for each configured event monitoring method (<code class="literal">event_log_file</code> and <code class="literal">object</code>).
</li>
<li class="listitem">
The cursor state stores the unique identifier of the last event retrieved, based on the <code class="literal">cursor.field</code> specified in the configuration.
</li>
<li class="listitem">
On the first run, the <code class="literal">query.default</code> is used to fetch an initial set of events.
</li>
<li class="listitem">
On subsequent runs, the <code class="literal">query.value</code> template is populated with the cursor state to fetch events since the last execution.
</li>
<li class="listitem">
If the input is restarted, it will resume from the last persisted cursor state rather than starting over from scratch.
</li>
</ul>
</div>
<p>Using cursors allows the Salesforce input to reliably keep track of its progress and avoid missing or duplicating events across executions. The cursor field should be chosen carefully to have a monotonically increasing value for each new event.</p>
<p>Event Monitoring methods are highly configurable and can be used to monitor any supported object or event log file. The input can be configured to monitor multiple objects or event log files at the same time.</p>
<p>Example configuration:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
  - type: salesforce
    enabled: true
    version: 56
    auth.oauth2:
      user_password_flow:
        enabled: true
        client.id: client-id
        client.secret: client-secret
        token_url: https://instance-id.develop.my.salesforce.com
        username: salesforce-instance@user.in
        password: salesforce-instance-password
      jwt_bearer_flow:
        enabled: true
        client.id: client-id
        client.username: salesforce-instance@user.in
        client.key_path: server_client.key
        url: https://login.salesforce.com
    url: https://instance-id.develop.my.salesforce.com
    event_monitoring_method:
      event_log_file:
        enabled: true
        interval: 1h
        query:
          default: "SELECT Id,CreatedDate,LogDate,LogFile FROM EventLogFile WHERE EventType = 'Login' ORDER BY CreatedDate ASC NULLS FIRST"
          value: "SELECT Id,CreatedDate,LogDate,LogFile FROM EventLogFile WHERE EventType = 'Login' AND CreatedDate &gt; [[ .cursor.event_log_file.last_event_time ]] ORDER BY CreatedDate ASC NULLS FIRST"
        cursor:
          field: "CreatedDate"
      object:
        enabled: true
        interval: 5m
        query:
          default: "SELECT FIELDS(STANDARD) FROM LoginEvent"
          value: "SELECT FIELDS(STANDARD) FROM LoginEvent WHERE EventDate &gt; [[ .cursor.object.first_event_time ]]"
        cursor:
          field: "EventDate"</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_set_up_the_oauth_app_in_the_salesforce"></a>Set up the OAuth App in the Salesforce<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>In order to use this integration, users need to create a new Salesforce Application using OAuth. Follow the steps below to create a connected application in Salesforce:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Login to <a href="https://login.salesforce.com/" class="ulink" target="_top">Salesforce</a> with the same user credentials that the user wants to collect data with.
</li>
<li class="listitem">
Click on Setup on the top right menu bar. On the Setup page, search for <code class="literal">App Manager</code> in the <code class="literal">Search Setup</code> search box at the top of the page, then select <code class="literal">App Manager</code>.
</li>
<li class="listitem">
Click <em>New Connected App</em>.
</li>
<li class="listitem">
Provide a name for the connected application. This will be displayed in the App Manager and on its App Launcher tile.
</li>
<li class="listitem">
Enter the API name. The default is a version of the name without spaces. Only letters, numbers, and underscores are allowed. If the original app name contains any other characters, edit the default name.
</li>
<li class="listitem">
Enter the contact email for Salesforce.
</li>
<li class="listitem">
Under the API (Enable OAuth Settings) section of the page, select <em>Enable OAuth Settings</em>.
</li>
<li class="listitem">
In the Callback URL, enter the Instance URL (Please refer to <code class="literal">Salesforce Instance URL</code>).
</li>
<li class="listitem">
<p>Select the following OAuth scopes to apply to the connected app:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Manage user data via APIs (api).
</li>
<li class="listitem">
Perform requests at any time (refresh_token, offline_access).
</li>
<li class="listitem">
(Optional) In case of data collection, if any permission issues arise, add the Full access (full) scope.
</li>
</ul>
</div>
</li>
<li class="listitem">
Select <em>Require Secret for the Web Server Flow</em> to require the app&#8217;s client secret in exchange for an access token.
</li>
<li class="listitem">
Select <em>Require Secret for Refresh Token Flow</em> to require the app&#8217;s client secret in the authorization request of a refresh token and hybrid refresh token flow.
</li>
<li class="listitem">
Click Save. It may take approximately 10 minutes for the changes to take effect.
</li>
<li class="listitem">
Click Continue and then under API details, click Manage Consumer Details. Verify the user account using the Verification Code.
</li>
<li class="listitem">
Copy <code class="literal">Consumer Key</code> and <code class="literal">Consumer Secret</code> from the Consumer Details section, which should be populated as values for Client ID and Client Secret respectively in the configuration.
</li>
</ol>
</div>
<p>For more details on how to create a Connected App, refer to the Salesforce documentation <a href="https://help.salesforce.com/apex/HTViewHelpDoc?id=connected_app_create.htm" class="ulink" target="_top">here</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p><span class="strong strong"><strong>Enabling real-time events</strong></span></p>
<p>To get started with <a href="https://developer.salesforce.com/blogs/2020/05/introduction-to-real-time-event-monitoring" class="ulink" target="_top">real-time</a> events, head to setup and into the quick find search for <em>Event Manager</em>. Enterprise and Unlimited environments have access to the Logout Event by default, but the remainder of the events need licensing to access <a href="https://help.salesforce.com/s/articleView?id=sf.salesforce_shield.htm&amp;type=5" class="ulink" target="_top">Shield Event Monitoring</a>.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_execution_2"></a>Execution<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">salesforce</code> input is a long-running program that retrieves events from a Salesforce instance and sends them to the specified output. The program executes in a loop, fetching events from the Salesforce instance at a preconfigured interval. Each event monitoring method can be configured to run separately and at different intervals. To prevent a sudden spike in memory usage, if multiple event monitoring methods are configured, they are scheduled to run one at a time. Even if the intervals overlap, only one method will be executed randomly, and the other will be executed after the first one completes.</p>
<p>There are two methods to fetch the events from the Salesforce instance:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">event_log_file</code>: <a href="https://developer.salesforce.com/docs/atlas.en-us.object_reference.meta/object_reference/sforce_api_objects_eventlogfile.htm" class="ulink" target="_top">EventLogFile</a> is a standard object in Salesforce and the event monitoring method uses the REST API under the hood to gather the Salesforce org&#8217;s operational events from the object. There is a field EventType that helps distinguish between the types of operational events like — Login, Logout, etc. Uses Salesforce&#8217;s query language SOQL to query the object.
</li>
<li class="listitem">
<code class="literal">object</code>: This method is a general way of retrieving events from a Salesforce instance by using the REST API. It can be used for monitoring <a href="https://developer.salesforce.com/docs/atlas.en-us.object_reference.meta/object_reference/sforce_api_objects_list.htm" class="ulink" target="_top">objects</a> in real-time. In real-time event monitoring, subscribing to the events is a common practice, but the events are also stored in Salesforce org (if configured), specifically in big object tables that are preconfigured for each event type. With this method, we query the object using Salesforce&#8217;s query language (<a href="https://developer.salesforce.com/docs/atlas.en-us.soql_sosl.meta/soql_sosl/sforce_api_calls_soql.htm" class="ulink" target="_top">SOQL</a>). The collection happens at the configured scrape <code class="literal">interval</code>.
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p><span class="strong strong"><strong>Salesforce Objects and SOQL Query Field Ordering Limitations</strong></span></p>
<p>Each Salesforce Object contains a set of fields, but SOQL queries have restrictions on the fields that can be ordered and the specific ordering method. The Object description on the Salesforce Developers page provides information about these limitations. For instance, the Login Object only allows ordering by the EventDate field in descending order.</p>
<p>When collecting data over time using cursors, the following cursor inputs are available:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">object.first_event_time</code>: This cursor input stores the cursor value from the first event encountered during data collection using the object method.
</li>
<li class="listitem">
<code class="literal">object.last_event_time</code>: This cursor input stores the cursor value from the last event encountered during data collection using the object method.
</li>
<li class="listitem">
<code class="literal">event_log_file.first_event_time</code>: This cursor input stores the cursor value from the first event encountered during data collection using the event log file method.
</li>
<li class="listitem">
<code class="literal">event_log_file.last_event_time</code>: This cursor input stores the cursor value from the last event encountered during data collection using the event log file method.
</li>
</ul>
</div>
<p>By selecting one of the above cursor inputs, users can collect data from both the object and event log file in the desired order. The cursor configuration can be customized based on the user&#8217;s specific requirements.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_configuration_options_16"></a>Configuration options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">salesforce</code> input supports the following configuration options plus the
<a class="xref" href="filebeat-input-salesforce.html#filebeat-input-salesforce-common-options" title="Common options">Common options</a> described later.</p>
</div>

<div class="bool">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_enabled_20"></a><code class="literal">enabled</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>Whether the input is enabled or not. Default: <code class="literal">false</code>.</p>
</div>

<div class="integer">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_version_3"></a><code class="literal">version</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The version of the Salesforce API to use. Minimum supported version is 46.</p>
</div>

<div class="object">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth"></a><code class="literal">auth</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The authentication settings for the Salesforce instance.</p>
</div>

<div class="object">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2"></a><code class="literal">auth.oauth2</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The OAuth2 authentication options for the Salesforce instance.</p>
<p>There are two OAuth2 authentication flows supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">user_password_flow</code>: User-Password flow
</li>
<li class="listitem">
<code class="literal">jwt_bearer_flow</code>: JWT Bearer flow
</li>
</ul>
</div>
</div>

<div class="bool">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_user_password_flow_enabled"></a><code class="literal">auth.oauth2.user_password_flow.enabled</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>Whether to use the user-password flow for authentication. Default: <code class="literal">false</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only one authentication flow can be enabled at a time.</p>
</div>
</div>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_user_password_flow_client_id"></a><code class="literal">auth.oauth2.user_password_flow.client.id</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The client ID for the user-password flow.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_user_password_flow_client_secret"></a><code class="literal">auth.oauth2.user_password_flow.client.secret</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The client secret for the user-password flow.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_user_password_flow_token_url"></a><code class="literal">auth.oauth2.user_password_flow.token_url</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The token URL for the user-password flow.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_user_password_flow_username"></a><code class="literal">auth.oauth2.user_password_flow.username</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The username for the user-password flow.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_user_password_flow_password"></a><code class="literal">auth.oauth2.user_password_flow.password</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The password for the user-password flow.</p>
</div>

<div class="bool">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_jwt_bearer_flow_enabled"></a><code class="literal">auth.oauth2.jwt_bearer_flow.enabled</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>Whether to use the JWT bearer flow for authentication. Default: <code class="literal">false</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only one authentication flow can be enabled at a time.</p>
</div>
</div>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_jwt_bearer_flow_client_id"></a><code class="literal">auth.oauth2.jwt_bearer_flow.client.id</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The client ID for the JWT bearer flow.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_jwt_bearer_flow_client_username"></a><code class="literal">auth.oauth2.jwt_bearer_flow.client.username</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The username for the JWT bearer flow.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_jwt_bearer_flow_client_key_path"></a><code class="literal">auth.oauth2.jwt_bearer_flow.client.key_path</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The path to the private key file for the JWT bearer flow. The file must be PEM encoded PKCS1 or PKCS8 private key and must have the right permissions set to have read access for the user running the program.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_auth_oauth2_jwt_bearer_flow_url"></a><code class="literal">auth.oauth2.jwt_bearer_flow.url</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The URL for the JWT bearer flow.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_url_2"></a><code class="literal">url</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The URL of the Salesforce instance. Required.</p>
</div>

<div class="duration">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_resource_timeout_2"></a><code class="literal">resource.timeout</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>Duration before declaring that the HTTP client connection has timed out. Valid time units are <code class="literal">ns</code>, <code class="literal">us</code>, <code class="literal">ms</code>, <code class="literal">s</code>, <code class="literal">m</code>, <code class="literal">h</code>. Default: <code class="literal">30s</code>.</p>
</div>

<div class="integer">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_resource_retry_max_attempts_2"></a><code class="literal">resource.retry.max_attempts</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The maximum number of retries for the HTTP client. Default: <code class="literal">5</code>.</p>
</div>

<div class="duration">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_resource_retry_wait_min_2"></a><code class="literal">resource.retry.wait_min</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The minimum time to wait before a retry is attempted. Default: <code class="literal">1s</code>.</p>
</div>

<div class="duration">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_resource_retry_wait_max_2"></a><code class="literal">resource.retry.wait_max</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The maximum time to wait before a retry is attempted. Default: <code class="literal">60s</code>.</p>
</div>

<div class="object">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method"></a><code class="literal">event_monitoring_method</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The event monitoring method to use. There are two event monitoring methods supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">event_log_file</code>: EventLogFile (ELF) using REST API
</li>
<li class="listitem">
<code class="literal">object</code>: Real-time event monitoring using REST API (objects)
</li>
</ul>
</div>
</div>

<div class="object">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_event_log_file"></a><code class="literal">event_monitoring_method.event_log_file</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The event monitoring method to use — event_log_file. Uses the EventLogFile API to fetch the events from the Salesforce instance.</p>
</div>

<div class="bool">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_event_log_file_enabled"></a><code class="literal">event_monitoring_method.event_log_file.enabled</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>Whether to use the EventLogFile API for event monitoring. Default: <code class="literal">false</code>.</p>
</div>

<div class="duration">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_event_log_file_interval"></a><code class="literal">event_monitoring_method.event_log_file.interval</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The interval to collect the events from the Salesforce instance using the EventLogFile API.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_event_log_file_query_default"></a><code class="literal">event_monitoring_method.event_log_file.query.default</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The default query to fetch the events from the Salesforce instance using the EventLogFile API.</p>
<p>In case the cursor state is not available, the default query will be used to fetch the events from the Salesforce instance. The default query must be a valid SOQL query. If the SOQL query in <code class="literal">event_monitoring_method.event_log_file.query.value</code> is not valid, the default query will be used to fetch the events from the Salesforce instance.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_event_log_file_query_value"></a><code class="literal">event_monitoring_method.event_log_file.query.value</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The SOQL query to fetch the events from the Salesforce instance using the EventLogFile API but it uses the cursor state to fetch the events from the Salesforce instance. The SOQL query must be a valid SOQL query. If the SOQL query is not valid, the default query will be used to fetch the events from the Salesforce instance.</p>
<p>In case of restarts or subsequent executions, the cursor state will be used to fetch the events from the Salesforce instance. The cursor state is the last event time of the last event fetched from the Salesforce instance. The cursor state is taken from <code class="literal">event_monitoring_method.event_log_file.cursor.field</code> field for the last event fetched from the Salesforce instance.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_event_log_file_cursor_field"></a><code class="literal">event_monitoring_method.event_log_file.cursor.field</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The field to use to fetch the cursor state from the last event fetched from the Salesforce instance. The field must be a valid field in the SOQL query specified in <code class="literal">event_monitoring_method.event_log_file.query.default</code> and <code class="literal">event_monitoring_method.event_log_file.query.value</code> i.e., part of the selected fields in the SOQL query.</p>
</div>

<div class="object">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_object"></a><code class="literal">event_monitoring_method.object</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The event monitoring method to use — object. Uses REST API to fetch the events directly from the objects from the Salesforce instance.</p>
</div>

<div class="bool">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_object_enabled"></a><code class="literal">event_monitoring_method.object.enabled</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>Whether to use the REST API for objects for event monitoring. Default: <code class="literal">false</code>.</p>
</div>

<div class="duration">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_object_interval"></a><code class="literal">event_monitoring_method.object.interval</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The interval to collect the events from the Salesforce instance using the REST API from objects.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_object_query_default"></a><code class="literal">event_monitoring_method.object.query.default</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The default SOQL query to fetch the events from the Salesforce instance using the REST API from objects.</p>
<p>In case the cursor state is not available, the default query will be used to fetch the events from the Salesforce instance. The default query must be a valid SOQL query. If the SOQL query in <code class="literal">event_monitoring_method.object.query.value</code> is not valid, the default query will be used to fetch the events from the Salesforce instance.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_object_query_value"></a><code class="literal">event_monitoring_method.object.query.value</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The SOQL query to fetch the events from the Salesforce instance using the REST API from objects but it uses the cursor state to fetch the events from the Salesforce instance. The SOQL query must be a valid SOQL query. If the SOQL query is not valid, the default query will be used to fetch the events from the Salesforce instance.</p>
<p>In case of restarts or subsequent executions, the cursor state will be used to fetch the events from the Salesforce instance. The cursor state is the last event time of the last event fetched from the Salesforce instance. The cursor state is taken from <code class="literal">event_monitoring_method.object.cursor.field</code> field for the last event fetched from the Salesforce instance.</p>
</div>

<div class="string">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_event_monitoring_method_object_cursor_field"></a><code class="literal">event_monitoring_method.object.cursor.field</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/x-pack/filebeat/docs/inputs/input-salesforce.asciidoc">edit</a></h3>
</div></div></div>
<p>The field to use to fetch the cursor state from the last event fetched from the Salesforce instance. The field must be a valid field in the SOQL query specified in <code class="literal">event_monitoring_method.object.query.default</code> and <code class="literal">event_monitoring_method.object.query.value</code> i.e., part of the selected fields in the SOQL query.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="filebeat-input-salesforce-common-options"></a>Common options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h3>
</div></div></div>
<p>The following configuration options are supported by all inputs.</p>
<h5><a id="_enabled_21"></a><code class="literal">enabled</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>Use the <code class="literal">enabled</code> option to enable and disable inputs. By default, enabled is
set to true.</p>
<h5><a id="_tags_20"></a><code class="literal">tags</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>A list of tags that Filebeat includes in the <code class="literal">tags</code> field of each published
event. Tags make it easy to select specific events in Kibana or apply
conditional filtering in Logstash. These tags will be appended to the list of
tags specified in the general configuration.</p>
<p>Example:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: salesforce
  . . .
  tags: ["json"]</pre>
</div>
<h5><a id="filebeat-input-salesforce-fields"></a><code class="literal">fields</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>Optional fields that you can specify to add additional information to the
output. For example, you might add fields that you can use for filtering log
data. Fields can be scalar values, arrays, dictionaries, or any nested
combination of these. By default, the fields that you specify here will be
grouped under a <code class="literal">fields</code> sub-dictionary in the output document. To store the
custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.
If a duplicate field is declared in the general configuration, then its value
will be overwritten by the value declared here.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: salesforce
  . . .
  fields:
    app_id: query_engine_12</pre>
</div>
<h5><a id="fields-under-root-salesforce"></a><code class="literal">fields_under_root</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>If this option is set to true, the custom
<a class="xref" href="filebeat-input-salesforce.html#filebeat-input-salesforce-fields" title="fields">fields</a> are stored as top-level fields in
the output document instead of being grouped under a <code class="literal">fields</code> sub-dictionary. If
the custom field names conflict with other field names added by Filebeat,
then the custom fields overwrite the other fields.</p>
<h5><a id="_processors_20"></a><code class="literal">processors</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>A list of processors to apply to the input data.</p>
<p>See <a class="xref" href="filtering-and-enhancing-data.html" title="Filter and enhance data with processors"><em>Processors</em></a> for information about specifying
processors in your config.</p>
<h5><a id="_pipeline_20"></a><code class="literal">pipeline</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>The ingest pipeline ID to set for the events generated by this input.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The pipeline ID can also be configured in the Elasticsearch output, but
this option usually results in simpler configuration files. If the pipeline is
configured both in the input and output, the option from the
input is used.</p>
</div>
</div>
<h5><a id="_keep_null_20"></a><code class="literal">keep_null</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>If this option is set to true, fields with <code class="literal">null</code> values will be published in
the output document. By default, <code class="literal">keep_null</code> is set to <code class="literal">false</code>.</p>
<h5><a id="_index_20"></a><code class="literal">index</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>If present, this formatted string overrides the index for events from this input
(for elasticsearch outputs), or sets the <code class="literal">raw_index</code> field of the event&#8217;s
metadata (for other outputs). This string can only refer to the agent name and
version and the event timestamp; for access to dynamic fields, use
<code class="literal">output.elasticsearch.index</code> or a processor.</p>
<p>Example value: <code class="literal">"%{[agent.name]}-myindex-%{+yyyy.MM.dd}"</code> might
expand to <code class="literal">"filebeat-myindex-2019.11.01"</code>.</p>
<h5><a id="_publisher_pipeline_disable_host_20"></a><code class="literal">publisher_pipeline.disable_host</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>By default, all events contain <code class="literal">host.name</code>. This option can be set to <code class="literal">true</code> to
disable the addition of this field to all events. The default value is <code class="literal">false</code>.</p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="filebeat-input-redis.html">« Redis input</a>
</span>
<span class="next">
<a href="filebeat-input-stdin.html">Stdin input »</a>
</span>
</div>
</body>
</html>
