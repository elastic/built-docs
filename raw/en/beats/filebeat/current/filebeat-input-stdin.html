<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Stdin input | Filebeat Reference [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Stdin input | Filebeat Reference [8.15]">

<link rel="home" href="index.html" title="Filebeat Reference [8.15]"/>
<link rel="up" href="configuration-filebeat-options.html" title="Configure inputs"/>
<link rel="prev" href="filebeat-input-salesforce.html" title="Salesforce input"/>
<link rel="next" href="filebeat-input-syslog.html" title="Syslog input"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Filebeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Filebeat/Reference/8.15"/>
<meta name="DC.subject" content="Filebeat"/>
<meta name="DC.identifier" content="8.15"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="filebeat-input-salesforce.html">« Salesforce input</a>
</span>
<span class="next">
<a href="filebeat-input-syslog.html">Syslog input »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Filebeat Reference [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuring-howto-filebeat.html">Configure Filebeat</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration-filebeat-options.html">Configure inputs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Stdin input</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-stdin.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="filebeat-input-stdin"></a>Stdin input<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-stdin.asciidoc">edit</a></h2>
</div></div></div>

<p>Use the <code class="literal">stdin</code> input to read events from standard in.</p>
<p>Note: This input cannot be run at the same time with other input types.</p>
<p>Example configuration:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="stdin-input-options"></a>Configuration options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-stdin.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">stdin</code> input supports the following configuration options plus the
<a class="xref" href="filebeat-input-stdin.html#filebeat-input-stdin-common-options" title="Common options">Common options</a> described later.</p>
<h5><a id="_encoding_4"></a><code class="literal">encoding</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>The file encoding to use for reading data that contains international
characters. See the encoding names <a href="http://www.w3.org/TR/encoding/" class="ulink" target="_top">recommended by
the W3C for use in HTML5</a>.</p>
<p>Valid encodings:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">plain</code>: plain ASCII encoding
</li>
<li class="listitem">
<code class="literal">utf-8</code> or <code class="literal">utf8</code>: UTF-8 encoding
</li>
<li class="listitem">
<code class="literal">gbk</code>: simplified Chinese charaters
</li>
<li class="listitem">
<code class="literal">iso8859-6e</code>: ISO8859-6E, Latin/Arabic
</li>
<li class="listitem">
<code class="literal">iso8859-6i</code>: ISO8859-6I, Latin/Arabic
</li>
<li class="listitem">
<code class="literal">iso8859-8e</code>: ISO8859-8E, Latin/Hebrew
</li>
<li class="listitem">
<code class="literal">iso8859-8i</code>: ISO8859-8I, Latin/Hebrew
</li>
<li class="listitem">
<code class="literal">iso8859-1</code>: ISO8859-1, Latin-1
</li>
<li class="listitem">
<code class="literal">iso8859-2</code>: ISO8859-2, Latin-2
</li>
<li class="listitem">
<code class="literal">iso8859-3</code>: ISO8859-3, Latin-3
</li>
<li class="listitem">
<code class="literal">iso8859-4</code>: ISO8859-4, Latin-4
</li>
<li class="listitem">
<code class="literal">iso8859-5</code>: ISO8859-5, Latin/Cyrillic
</li>
<li class="listitem">
<code class="literal">iso8859-6</code>: ISO8859-6, Latin/Arabic
</li>
<li class="listitem">
<code class="literal">iso8859-7</code>: ISO8859-7, Latin/Greek
</li>
<li class="listitem">
<code class="literal">iso8859-8</code>: ISO8859-8, Latin/Hebrew
</li>
<li class="listitem">
<code class="literal">iso8859-9</code>: ISO8859-9, Latin-5
</li>
<li class="listitem">
<code class="literal">iso8859-10</code>: ISO8859-10, Latin-6
</li>
<li class="listitem">
<code class="literal">iso8859-13</code>: ISO8859-13, Latin-7
</li>
<li class="listitem">
<code class="literal">iso8859-14</code>: ISO8859-14, Latin-8
</li>
<li class="listitem">
<code class="literal">iso8859-15</code>: ISO8859-15, Latin-9
</li>
<li class="listitem">
<code class="literal">iso8859-16</code>: ISO8859-16, Latin-10
</li>
<li class="listitem">
<code class="literal">cp437</code>: IBM CodePage 437
</li>
<li class="listitem">
<code class="literal">cp850</code>: IBM CodePage 850
</li>
<li class="listitem">
<code class="literal">cp852</code>: IBM CodePage 852
</li>
<li class="listitem">
<code class="literal">cp855</code>: IBM CodePage 855
</li>
<li class="listitem">
<code class="literal">cp858</code>: IBM CodePage 858
</li>
<li class="listitem">
<code class="literal">cp860</code>: IBM CodePage 860
</li>
<li class="listitem">
<code class="literal">cp862</code>: IBM CodePage 862
</li>
<li class="listitem">
<code class="literal">cp863</code>: IBM CodePage 863
</li>
<li class="listitem">
<code class="literal">cp865</code>: IBM CodePage 865
</li>
<li class="listitem">
<code class="literal">cp866</code>: IBM CodePage 866
</li>
<li class="listitem">
<code class="literal">ebcdic-037</code>: IBM CodePage 037
</li>
<li class="listitem">
<code class="literal">ebcdic-1040</code>: IBM CodePage 1140
</li>
<li class="listitem">
<code class="literal">ebcdic-1047</code>: IBM CodePage 1047
</li>
<li class="listitem">
<code class="literal">koi8r</code>: KOI8-R, Russian (Cyrillic)
</li>
<li class="listitem">
<code class="literal">koi8u</code>: KOI8-U, Ukranian (Cyrillic)
</li>
<li class="listitem">
<code class="literal">macintosh</code>: Macintosh encoding
</li>
<li class="listitem">
<code class="literal">macintosh-cyrillic</code>: Macintosh Cyrillic encoding
</li>
<li class="listitem">
<code class="literal">windows1250</code>: Windows1250, Central and Eastern European
</li>
<li class="listitem">
<code class="literal">windows1251</code>: Windows1251, Russian, Serbian (Cyrillic)
</li>
<li class="listitem">
<code class="literal">windows1252</code>: Windows1252, Legacy
</li>
<li class="listitem">
<code class="literal">windows1253</code>: Windows1253, Modern Greek
</li>
<li class="listitem">
<code class="literal">windows1254</code>: Windows1254, Turkish
</li>
<li class="listitem">
<code class="literal">windows1255</code>: Windows1255, Hebrew
</li>
<li class="listitem">
<code class="literal">windows1256</code>: Windows1256, Arabic
</li>
<li class="listitem">
<code class="literal">windows1257</code>: Windows1257, Estonian, Latvian, Lithuanian
</li>
<li class="listitem">
<code class="literal">windows1258</code>: Windows1258, Vietnamese
</li>
<li class="listitem">
<code class="literal">windows874</code>:  Windows874, ISO/IEC 8859-11, Latin/Thai
</li>
<li class="listitem">
<code class="literal">utf-16-bom</code>: UTF-16 with required BOM
</li>
<li class="listitem">
<code class="literal">utf-16be-bom</code>: big endian UTF-16 with required BOM
</li>
<li class="listitem">
<code class="literal">utf-16le-bom</code>: little endian UTF-16 with required BOM
</li>
</ul>
</div>
<p>The <code class="literal">plain</code> encoding is special, because it does not validate or transform any input.</p>
<h5><a id="filebeat-input-stdin-exclude-lines"></a><code class="literal">exclude_lines</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>A list of regular expressions to match the lines that you want Filebeat to
exclude. Filebeat drops any lines that match a regular expression in the
list. By default, no lines are dropped. Empty lines are ignored.</p>
<p>If <a class="xref" href="multiline-examples.html#multiline" title="Configuration options">multiline</a> settings are also specified, each multiline message
is combined into a single line before the lines are filtered by <code class="literal">exclude_lines</code>.</p>
<p>The following example configures Filebeat to drop any lines that start with
<code class="literal">DBG</code>.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin
  ...
  exclude_lines: ['^DBG']</pre>
</div>
<p>See <a class="xref" href="regexp-support.html" title="Regular expression support">Regular expression support</a> for a list of supported regexp patterns.</p>
<h5><a id="filebeat-input-stdin-include-lines"></a><code class="literal">include_lines</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>A list of regular expressions to match the lines that you want Filebeat to
include. Filebeat exports only the lines that match a regular expression in
the list. By default, all lines are exported. Empty lines are ignored.</p>
<p>If <a class="xref" href="multiline-examples.html#multiline" title="Configuration options">multiline</a> settings also specified, each multiline message is
combined into a single line before the lines are filtered by <code class="literal">include_lines</code>.</p>
<p>The following example configures Filebeat to export any lines that start
with <code class="literal">ERR</code> or <code class="literal">WARN</code>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin
  ...
  include_lines: ['^ERR', '^WARN']</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If both <code class="literal">include_lines</code> and <code class="literal">exclude_lines</code> are defined, Filebeat
executes <code class="literal">include_lines</code> first and then executes <code class="literal">exclude_lines</code>. The order in
which the two options are defined doesn&#8217;t matter. The <code class="literal">include_lines</code> option
will always be executed before the <code class="literal">exclude_lines</code> option, even if
<code class="literal">exclude_lines</code> appears before <code class="literal">include_lines</code> in the config file.</p>
</div>
</div>
<p>The following example exports all log lines that contain <code class="literal">sometext</code>,
except for lines that begin with <code class="literal">DBG</code> (debug messages):</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin
  ...
  include_lines: ['sometext']
  exclude_lines: ['^DBG']</pre>
</div>
<p>See <a class="xref" href="regexp-support.html" title="Regular expression support">Regular expression support</a> for a list of supported regexp patterns.</p>
<h5><a id="_harvester_buffer_size_3"></a><code class="literal">harvester_buffer_size</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>The size in bytes of the buffer that each harvester uses when fetching a file.
The default is 16384.</p>
<h5><a id="_max_bytes_3"></a><code class="literal">max_bytes</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>The maximum number of bytes that a single log message can have. All bytes after
<code class="literal">max_bytes</code> are discarded and not sent. This setting is especially useful for
multiline log messages, which can get large. The default is 10MB (10485760).</p>
<h5><a id="filebeat-input-stdin-config-json"></a><code class="literal">json</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>These options make it possible for Filebeat to decode logs structured as
JSON messages. Filebeat processes the logs line by line, so the JSON
decoding only works if there is one JSON object per line.</p>
<p>The decoding happens before line filtering and multiline. You can combine JSON
decoding with filtering and multiline if you set the <code class="literal">message_key</code> option. This
can be helpful in situations where the application logs are wrapped in JSON
objects, as with like it happens for example with Docker.</p>
<p>Example configuration:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">json.keys_under_root: true
json.add_error_key: true
json.message_key: log</pre>
</div>
<p>You must specify at least one of the following settings to enable JSON parsing
mode:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">keys_under_root</code></strong></span>
</span>
</dt>
<dd>
By default, the decoded JSON is placed under a "json" key
in the output document. If you enable this setting, the keys are copied top
level in the output document. The default is false.
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">overwrite_keys</code></strong></span>
</span>
</dt>
<dd>
If <code class="literal">keys_under_root</code> and this setting are enabled, then the
values from the decoded JSON object overwrite the fields that Filebeat
normally adds (type, source, offset, etc.) in case of conflicts.
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">expand_keys</code></strong></span>
</span>
</dt>
<dd>
If this setting is enabled, Filebeat will recursively
de-dot keys in the decoded JSON, and expand them into a hierarchical object
structure. For example, <code class="literal">{"a.b.c": 123}</code> would be expanded into <code class="literal">{"a":{"b":{"c":123}}}</code>.
This setting should be enabled when the input is produced by an
<a href="https://github.com/elastic/ecs-logging" class="ulink" target="_top">ECS logger</a>.
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">add_error_key</code></strong></span>
</span>
</dt>
<dd>
If this setting is enabled, Filebeat adds a
"error.message" and "error.type: json" key in case of JSON unmarshalling errors
or when a <code class="literal">message_key</code> is defined in the configuration but cannot be used.
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">message_key</code></strong></span>
</span>
</dt>
<dd>
An optional configuration setting that specifies a JSON key on
which to apply the line filtering and multiline settings. If specified the key
must be at the top level in the JSON object and the value associated with the
key must be a string, otherwise no filtering or multiline aggregation will
occur.
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">document_id</code></strong></span>
</span>
</dt>
<dd>
Option configuration setting that specifies the JSON key to
set the document id. If configured, the field will be removed from the original
json document and stored in <code class="literal">@metadata._id</code>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">ignore_decoding_error</code></strong></span>
</span>
</dt>
<dd>
An optional configuration setting that specifies if
JSON decoding errors should be logged or not. If set to true, errors will not
be logged. The default is false.
</dd>
</dl>
</div>
<h5><a id="_multiline_6"></a><code class="literal">multiline</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-harvester-options.asciidoc">edit</a></h5>
<p>Options that control how Filebeat deals with log messages that span
multiple lines. See <a class="xref" href="multiline-examples.html" title="Manage multiline messages">Multiline messages</a> for more information about
configuring multiline options.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="filebeat-input-stdin-common-options"></a>Common options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h3>
</div></div></div>
<p>The following configuration options are supported by all inputs.</p>
<h5><a id="_enabled_22"></a><code class="literal">enabled</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>Use the <code class="literal">enabled</code> option to enable and disable inputs. By default, enabled is
set to true.</p>
<h5><a id="_tags_21"></a><code class="literal">tags</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>A list of tags that Filebeat includes in the <code class="literal">tags</code> field of each published
event. Tags make it easy to select specific events in Kibana or apply
conditional filtering in Logstash. These tags will be appended to the list of
tags specified in the general configuration.</p>
<p>Example:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin
  . . .
  tags: ["json"]</pre>
</div>
<h5><a id="filebeat-input-stdin-fields"></a><code class="literal">fields</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>Optional fields that you can specify to add additional information to the
output. For example, you might add fields that you can use for filtering log
data. Fields can be scalar values, arrays, dictionaries, or any nested
combination of these. By default, the fields that you specify here will be
grouped under a <code class="literal">fields</code> sub-dictionary in the output document. To store the
custom fields as top-level fields, set the <code class="literal">fields_under_root</code> option to true.
If a duplicate field is declared in the general configuration, then its value
will be overwritten by the value declared here.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: stdin
  . . .
  fields:
    app_id: query_engine_12</pre>
</div>
<h5><a id="fields-under-root-stdin"></a><code class="literal">fields_under_root</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>If this option is set to true, the custom
<a class="xref" href="filebeat-input-stdin.html#filebeat-input-stdin-fields" title="fields">fields</a> are stored as top-level fields in
the output document instead of being grouped under a <code class="literal">fields</code> sub-dictionary. If
the custom field names conflict with other field names added by Filebeat,
then the custom fields overwrite the other fields.</p>
<h5><a id="_processors_21"></a><code class="literal">processors</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>A list of processors to apply to the input data.</p>
<p>See <a class="xref" href="filtering-and-enhancing-data.html" title="Filter and enhance data with processors"><em>Processors</em></a> for information about specifying
processors in your config.</p>
<h5><a id="_pipeline_21"></a><code class="literal">pipeline</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>The ingest pipeline ID to set for the events generated by this input.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The pipeline ID can also be configured in the Elasticsearch output, but
this option usually results in simpler configuration files. If the pipeline is
configured both in the input and output, the option from the
input is used.</p>
</div>
</div>
<h5><a id="_keep_null_21"></a><code class="literal">keep_null</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>If this option is set to true, fields with <code class="literal">null</code> values will be published in
the output document. By default, <code class="literal">keep_null</code> is set to <code class="literal">false</code>.</p>
<h5><a id="_index_21"></a><code class="literal">index</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>If present, this formatted string overrides the index for events from this input
(for elasticsearch outputs), or sets the <code class="literal">raw_index</code> field of the event&#8217;s
metadata (for other outputs). This string can only refer to the agent name and
version and the event timestamp; for access to dynamic fields, use
<code class="literal">output.elasticsearch.index</code> or a processor.</p>
<p>Example value: <code class="literal">"%{[agent.name]}-myindex-%{+yyyy.MM.dd}"</code> might
expand to <code class="literal">"filebeat-myindex-2019.11.01"</code>.</p>
<h5><a id="_publisher_pipeline_disable_host_21"></a><code class="literal">publisher_pipeline.disable_host</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/8.15/filebeat/docs/inputs/input-common-options.asciidoc">edit</a></h5>
<p>By default, all events contain <code class="literal">host.name</code>. This option can be set to <code class="literal">true</code> to
disable the addition of this field to all events. The default value is <code class="literal">false</code>.</p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="filebeat-input-salesforce.html">« Salesforce input</a>
</span>
<span class="next">
<a href="filebeat-input-syslog.html">Syslog input »</a>
</span>
</div>
</body>
</html>
