<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Heartbeat quick start: installation and configuration | Heartbeat Reference [7.x] | Elastic</title>
<link rel="home" href="index.html" title="Heartbeat Reference [7.x]"/>
<link rel="up" href="index.html" title="Heartbeat Reference [7.x]"/>
<link rel="prev" href="heartbeat-overview.html" title="Heartbeat overview"/>
<link rel="next" href="setting-up-and-running.html" title="Set up and run Heartbeat"/>
<meta name="DC.type" content="Learn/Docs/Heartbeat/Reference/7.x"/>
<meta name="DC.subject" content="Heartbeat"/>
<meta name="DC.identifier" content="7.x"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Heartbeat Reference [7.x]</a></span>
»
<span class="breadcrumb-node">Heartbeat quick start: installation and configuration</span>
</div>
<div class="navheader">
<span class="prev">
<a href="heartbeat-overview.html">« Heartbeat overview</a>
</span>
<span class="next">
<a href="setting-up-and-running.html">Set up and run Heartbeat »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="heartbeat-installation-configuration"></a>Heartbeat quick start: installation and configuration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h1>
</div></div></div>

<p>This guide describes how to get started quickly collecting uptime data about
your hosts. You&#8217;ll learn how to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
install Heartbeat
</li>
<li class="listitem">
specify the protocols to monitor
</li>
<li class="listitem">
send uptime data to Elasticsearch
</li>
<li class="listitem">
visualize the uptime data in Kibana
</li>
</ul>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="./images/heartbeat-statistics.png" alt="Heartbeat HTTP monitoring dashboard">
</div>
</div>
<h3><a id="_before_you_begin"></a>Before you begin<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h3>
<p>You need Elasticsearch for storing and searching your data, and Kibana for visualizing and
managing it.</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Spin up">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-spinup"
            id="cloud-spinup">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-spinup"
            id="self-managed-spinup"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-spinup"
       aria-labelledby="cloud-spinup">
<p>To get started quickly, spin up a deployment of our
<a href="/cloud/elasticsearch-service" class="ulink" target="_top">hosted Elasticsearch Service</a>. The Elasticsearch Service is
available on AWS, GCP, and Azure. <a href="/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">Try it out for free</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-spinup"
       aria-labelledby="self-managed-spinup"
       hidden="">
<p>See <a href="/guide/en/elastic-stack-get-started/7.x/get-started-elastic-stack.html" class="ulink" target="_top">Getting started with the Elastic Stack</a>.</p>
  </div>
</div>
<h3><a id="installation"></a>Step 1: Install Heartbeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h3>
<p>Unlike most Beats, which you install on edge nodes, you typically install
Heartbeat as part of a monitoring service that runs on a separate machine
and possibly even outside of the network where the services that you want to
monitor are running.</p>
<p>To download and install Heartbeat, use the commands that work with your
system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Install">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-install"
            id="deb-install">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-install"
            id="rpm-install"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-install"
            id="mac-install"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="brew-tab-install"
            id="brew-install"
            tabindex="-1">
      Brew
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-install"
            id="linux-install"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-install"
            id="win-install"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-install"
       aria-labelledby="deb-install">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/heartbeat/heartbeat-7.11.0-amd64.deb
sudo dpkg -i heartbeat-7.11.0-amd64.deb</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-install"
       aria-labelledby="rpm-install"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/heartbeat/heartbeat-7.11.0-x86_64.rpm
sudo rpm -vi heartbeat-7.11.0-x86_64.rpm</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-install"
       aria-labelledby="mac-install"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/heartbeat/heartbeat-7.11.0-darwin-x86_64.tar.gz
tar xzvf heartbeat-7.11.0-darwin-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="brew-tab-install"
       aria-labelledby="brew-install"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">brew tap elastic/tap
brew install elastic/tap/heartbeat-full</pre>
</div>
<p>This command installs the most recently released default distribution of
Heartbeat. To install the OSS distribution, specify
<code class="literal">elastic/tap/heartbeat-oss</code>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-install"
       aria-labelledby="linux-install"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/heartbeat/heartbeat-7.11.0-linux-x86_64.tar.gz
tar xzvf heartbeat-7.11.0-linux-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-install"
       aria-labelledby="win-install"
       hidden="">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Download the Heartbeat Windows zip file from the
<a href="/downloads/beats/heartbeat" class="ulink" target="_top">downloads page</a>.
</li>
<li class="listitem">
Extract the contents of the zip file into <code class="literal">C:\Program Files</code>.
</li>
<li class="listitem">
Rename the <code class="literal">heartbeat-&lt;version&gt;-windows</code> directory to <code class="literal">Heartbeat</code>.
</li>
<li class="listitem">
Open a PowerShell prompt as an Administrator (right-click the PowerShell icon
and select <span class="strong strong"><strong>Run As Administrator</strong></span>).
</li>
<li class="listitem">
<p>From the PowerShell prompt, run the following commands to install
Heartbeat as a Windows service:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; cd 'C:\Program Files\Heartbeat'
PS C:\Program Files\Heartbeat&gt; .\install-service-heartbeat.ps1</pre>
</div>
</li>
</ol>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If script execution is disabled on your system, you need to set the
execution policy for the current session to allow the script to run. For
example:
<code class="literal">PowerShell.exe -ExecutionPolicy UnRestricted -File .\install-service-heartbeat.ps1</code>.</p>
</div>
</div>
  </div>
</div>
<h4><a id="other-installation-options"></a>Other installation options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="setup-repositories.html" title="Repositories for APT and YUM">APT or YUM</a>
</li>
<li class="listitem">
<a href="/downloads/beats/heartbeat" class="ulink" target="_top">Download page</a>
</li>
<li class="listitem">
<a class="xref" href="running-on-docker.html" title="Run Heartbeat on Docker">Docker</a>
</li>
</ul>
</div>
<h3><a id="set-connection"></a>Step 2: Connect to the Elastic Stack<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h3>
<p>Connections to Elasticsearch and Kibana are required to set up Heartbeat.</p>
<p>Set the connection information in <code class="literal">heartbeat.yml</code>. To locate this
configuration file, see <a class="xref" href="directory-layout.html" title="Directory layout">Directory layout</a>.</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Set connection">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-set-connection"
            id="cloud-set-connection">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-set-connection"
            id="self-managed-set-connection"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-set-connection"
       aria-labelledby="cloud-set-connection">
<p>Specify the <a href="/guide/en/beats/heartbeat/7.x/configure-cloud-id.html" class="ulink" target="_top">cloud.id</a> of your Elasticsearch Service, and set
<a href="/guide/en/beats/heartbeat/7.x/configure-cloud-id.html" class="ulink" target="_top">cloud.auth</a> to a user who is authorized to
set up Heartbeat. For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">cloud.id: "staging:dXMtZWFzdC0xLmF3cy5mb3VuZC5pbyRjZWM2ZjI2MWE3NGJmMjRjZTMzYmI4ODExYjg0Mjk0ZiRjNmMyY2E2ZDA0MjI0OWFmMGNjN2Q3YTllOTYyNTc0Mw=="
cloud.auth: "heartbeat_setup:YOUR_PASSWORD" <a id="CO1-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>This examples shows a hard-coded password, but you should store sensitive
values
in the <a href="/guide/en/beats/heartbeat/7.x/keystore.html" class="ulink" target="_top">secrets keystore</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-set-connection"
       aria-labelledby="self-managed-set-connection"
       hidden="">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Set the host and port where Heartbeat can find the Elasticsearch installation, and
set the username and password of a user who is authorized to set up
Heartbeat. For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">output.elasticsearch:
  hosts: ["myEShost:9200"]
  username: "heartbeat_internal"
  password: "YOUR_PASSWORD" <a id="CO2-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>This examples shows a hard-coded password, but you should store sensitive
values
in the <a href="/guide/en/beats/heartbeat/7.x/keystore.html" class="ulink" target="_top">secrets keystore</a>.</p>
</td>
</tr>
</table>
</div>
</li>
<li class="listitem">
<p>If you plan to use our pre-built Kibana dashboards, configure the Kibana
endpoint. Skip this step if Kibana is running on the same host as Elasticsearch.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">  setup.kibana:
    host: "mykibanahost:5601" <a id="CO3-1"></a><i class="conum" data-value="1"></i>
    username: "my_kibana_user" <a id="CO3-2"></a><i class="conum" data-value="2"></i> <a id="CO3-3"></a><i class="conum" data-value="3"></i>
    password: "{pwd}"</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The hostname and port of the machine where Kibana is running,
for example, <code class="literal">mykibanahost:5601</code>. If you specify a path after the port number,
include the scheme and port: <code class="literal">http://mykibanahost:5601/path</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">username</code> and <code class="literal">password</code> settings for Kibana are optional. If you don&#8217;t
specify credentials for Kibana, Heartbeat uses the <code class="literal">username</code> and <code class="literal">password</code>
specified for the Elasticsearch output.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>To use the pre-built Kibana dashboards, this user must be authorized to
view dashboards or have the
<code class="literal">kibana_admin</code> <a href="/guide/en/elasticsearch/reference/7.x/built-in-roles.html" class="ulink" target="_top">built-in role</a>.</p>
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
  </div>
</div>
<p>To learn more about required roles and privileges, see
<a class="xref" href="feature-roles.html" title="Grant users access to secured resources"><em>Grant users access to secured resources</em></a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can send data to other <a class="xref" href="configuring-output.html" title="Configure the output">outputs</a>,
such as Logstash,
but that requires additional configuration and setup.</p>
</div>
</div>
<h3><a id="configuration"></a>Step 3: Configure Heartbeat monitors<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h3>
<p>Heartbeat provides monitors to check the status of hosts at set intervals.
Heartbeat currently provides monitors for ICMP, TCP, and HTTP (see
<a class="xref" href="heartbeat-overview.html" title="Heartbeat overview"><em>Heartbeat overview</em></a> for more about these monitors).</p>
<p>You configure each monitor individually. In <code class="literal">heartbeat.yml</code>, specify the
list of monitors that you want to enable. Each item in the list begins with a
dash (-). The following example configures Heartbeat to use two monitors, an
<code class="literal">icmp</code> monitor and a <code class="literal">tcp</code> monitor:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">heartbeat.monitors:
- type: icmp
  schedule: '*/5 * * * * * *' <a id="CO4-1"></a><i class="conum" data-value="1"></i>
  hosts: ["myhost"]
  id: my-icmp-service
  name: My ICMP Service
- type: tcp
  schedule: '@every 5s' <a id="CO4-2"></a><i class="conum" data-value="2"></i>
  hosts: ["myhost:12345"]
  mode: any <a id="CO4-3"></a><i class="conum" data-value="3"></i>
  id: my-tcp-service
- type: http
  schedule: '@every 5s'
  urls: ["http://example.net"]
  service_name: apm-service-name <a id="CO4-4"></a><i class="conum" data-value="4"></i>
  id: my-http-service
  name: My HTTP Service</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO4-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">icmp</code> monitor is scheduled to run exactly every 5 seconds (10:00:00,
10:00:05, and so on). The <code class="literal">schedule</code> option uses a cron-like syntax based on
<a href="https://github.com/gorhill/cronexpr#implementation" class="ulink" target="_top">this <code class="literal">cronexpr</code> implementation</a>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO4-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">tcp</code> monitor is set to run every 5 seconds from the time when Heartbeat
was started. Heartbeat adds the <code class="literal">@every</code> keyword to the syntax provided by the
<code class="literal">cronexpr</code> package.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO4-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">mode</code> specifies whether to ping one IP (<code class="literal">any</code>) or all resolvable IPs</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO4-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p>The <code class="literal">service_name</code> field can be used to integrate heartbeat with elastic APM via the Uptime UI.</p>
</td>
</tr>
</table>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>To test your configuration file, change to the directory where the
Heartbeat binary is installed, and run Heartbeat in the foreground with
the following options specified: <code class="literal">./heartbeat test config -e</code>. Make sure your
config files are in the path expected by Heartbeat (see <a class="xref" href="directory-layout.html" title="Directory layout">Directory layout</a>),
or use the <code class="literal">-c</code> flag to specify the path to the config file.</p>
</div>
</div>
<p>For more information about configuring Heartbeat, also see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="configuring-howto-heartbeat.html" title="Configure Heartbeat">Configure Heartbeat</a>
</li>
<li class="listitem">
<a href="/guide/en/beats/libbeat/7.x/config-file-format.html" class="ulink" target="_top">Config file format</a>
</li>
<li class="listitem">
<a class="xref" href="heartbeat-reference-yml.html" title="heartbeat.reference.yml"><code class="literal">heartbeat.reference.yml</code></a>: This reference configuration
file shows all non-deprecated options. You&#8217;ll find it in the same location as
<code class="literal">heartbeat.yml</code>.
</li>
</ul>
</div>
<h3><a id="configurelocation"></a>Step 4: Configure the Heartbeat location<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h3>
<p>Heartbeat can be deployed in multiple locations so that you can detect
differences in availability and response times across those locations.
Configure the Heartbeat location to allow Kibana to display location-specific
information on Uptime maps and perform Uptime anomaly detection based
on location.</p>
<p>To configure the location of a Heartbeat instance, modify the
<code class="literal">add_observer_metadata</code> processor in <code class="literal">heartbeat.yml</code>.  The following
example specifies the <code class="literal">geo.name</code> of the <code class="literal">add_observer_metadata</code> processor as
<code class="literal">us-east-1a</code>:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml"># ============================ Processors ============================

processors:
  - add_observer_metadata:
      # Optional, but recommended geo settings for the location Heartbeat is running in
      geo: <a id="CO5-1"></a><i class="conum" data-value="1"></i>
        # Token describing this location
        name: us-east-1a <a id="CO5-2"></a><i class="conum" data-value="2"></i>
        # Lat, Lon "
        #location: "37.926868, -78.024902" <a id="CO5-3"></a><i class="conum" data-value="3"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO5-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Uncomment the <code class="literal">geo</code> setting.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO5-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Uncomment <code class="literal">name</code> and assign the name of the location of the Heartbeat server.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO5-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>Optionally uncomment <code class="literal">location</code> and assign the latitude and longitude.</p>
</td>
</tr>
</table>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>To test your configuration file, change to the directory where the
Heartbeat binary is installed, and run Heartbeat in the foreground with
the following options specified: <code class="literal">./heartbeat test config -e</code>. Make sure your
config files are in the path expected by Heartbeat (see <a class="xref" href="directory-layout.html" title="Directory layout">Directory layout</a>),
or use the <code class="literal">-c</code> flag to specify the path to the config file.</p>
</div>
</div>
<p>For more information about configuring Heartbeat, also see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="configuring-howto-heartbeat.html" title="Configure Heartbeat">Configure Heartbeat</a>
</li>
<li class="listitem">
<a href="/guide/en/beats/libbeat/7.x/config-file-format.html" class="ulink" target="_top">Config file format</a>
</li>
<li class="listitem">
<a class="xref" href="heartbeat-reference-yml.html" title="heartbeat.reference.yml"><code class="literal">heartbeat.reference.yml</code></a>: This reference configuration
file shows all non-deprecated options. You&#8217;ll find it in the same location as
<code class="literal">heartbeat.yml</code>.
</li>
</ul>
</div>
<h3><a id="setup-assets"></a>Step 5: Set up assets<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h3>
<p>Heartbeat comes with predefined assets for parsing, indexing, and
visualizing your data. To load these assets:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Make sure the user specified in <code class="literal">heartbeat.yml</code> is
<a class="xref" href="privileges-to-setup-beats.html" title="Grant privileges and roles needed for setup">authorized to set up Heartbeat</a>.
</li>
<li class="listitem">
<p>From the installation directory, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Set up">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-setup"
            id="deb-setup">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-setup"
            id="rpm-setup"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-setup"
            id="mac-setup"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="brew-tab-setup"
            id="brew-setup"
            tabindex="-1">
      Brew
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-setup"
            id="linux-setup"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-setup"
            id="win-setup"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-setup"
       aria-labelledby="deb-setup">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">heartbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-setup"
       aria-labelledby="rpm-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">heartbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-setup"
       aria-labelledby="mac-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./heartbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="brew-tab-setup"
       aria-labelledby="brew-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">heartbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-setup"
       aria-labelledby="linux-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./heartbeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-setup"
       aria-labelledby="win-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; .\heartbeat.exe setup -e</pre>
</div>
  </div>
</div>
<p><code class="literal">-e</code> is optional and sends output to standard error instead of the configured log output.</p>
</li>
</ol>
</div>
<p>This step loads the recommended <a href="/guide/en/elasticsearch/reference/7.x/indices-templates.html" class="ulink" target="_top">index template</a> for writing to Elasticsearch.
It does not install Heartbeat dashboards.  Heartbeat dashboards and
installation steps are available in the
<a href="https://github.com/elastic/uptime-contrib" class="ulink" target="_top">uptime-contrib</a> GitHub repository.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>A connection to Elasticsearch (or Elasticsearch Service) is required to set up the initial
environment. If you&#8217;re using a different output, such as Logstash, see
<a class="xref" href="heartbeat-template.html#load-template-manually" title="Load the index template manually">Load the index template manually</a>.</p>
</div>
</div>
<h3><a id="start"></a>Step 6: Start Heartbeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h3>
<p>Before starting Heartbeat, modify the user credentials in
<code class="literal">heartbeat.yml</code> and specify a user who is
<a class="xref" href="privileges-to-publish-events.html" title="Grant privileges and roles needed for publishing">authorized to publish events</a>.</p>
<p>To start Heartbeat, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Start">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-start"
            id="deb-start">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-start"
            id="rpm-start"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-start"
            id="mac-start"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="brew-tab-start"
            id="brew-start"
            tabindex="-1">
      Brew
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-start"
            id="linux-start"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-start"
            id="win-start"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-start"
       aria-labelledby="deb-start">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo service heartbeat-elastic start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an <code class="literal">init.d</code> script to start Heartbeat, you can&#8217;t specify command
line flags (see <a href="/guide/en/beats/heartbeat/7.x/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Heartbeat in
the foreground.</p>
</div>
</div>
<p>Also see <a href="/guide/en/beats/heartbeat/7.x/running-with-systemd.html" class="ulink" target="_top">Heartbeat and systemd</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-start"
       aria-labelledby="rpm-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo service heartbeat-elastic start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an <code class="literal">init.d</code> script to start Heartbeat, you can&#8217;t specify command
line flags (see <a href="/guide/en/beats/heartbeat/7.x/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Heartbeat in
the foreground.</p>
</div>
</div>
<p>Also see <a href="/guide/en/beats/heartbeat/7.x/running-with-systemd.html" class="ulink" target="_top">Heartbeat and systemd</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-start"
       aria-labelledby="mac-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo chown root heartbeat.yml <a id="CO6-1"></a><i class="conum" data-value="1"></i>
sudo ./heartbeat -e</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO6-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>You&#8217;ll be running Heartbeat as root, so you need to change ownership
of the configuration file, or run Heartbeat with <code class="literal">--strict.perms=false</code>
specified. See
<a href="/guide/en/beats/libbeat/7.x/config-file-permissions.html" class="ulink" target="_top">Config File Ownership and Permissions</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="brew-tab-start"
       aria-labelledby="brew-start"
       hidden="">
<p>To have launchd start <code class="literal">elastic/tap/heartbeat</code> and then restart it at login,
run:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">brew services start elastic/tap/heartbeat-full</pre>
</div>
<p>To run Heartbeat in the foreground instead of running it as a background
service, run:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo chown root /usr/local/etc/heartbeat/heartbeat.yml <a id="CO7-1"></a><i class="conum" data-value="1"></i>
sudo heartbeat -e</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO7-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>You&#8217;ll be running Heartbeat as root, so you need to change ownership
of the configuration file, or run Heartbeat with <code class="literal">--strict.perms=false</code>
specified. See
<a href="/guide/en/beats/libbeat/7.x/config-file-permissions.html" class="ulink" target="_top">Config File Ownership and Permissions</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-start"
       aria-labelledby="linux-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sudo chown root heartbeat.yml <a id="CO8-1"></a><i class="conum" data-value="1"></i>
sudo ./heartbeat -e</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO8-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>You&#8217;ll be running Heartbeat as root, so you need to change ownership
of the configuration file, or run Heartbeat with <code class="literal">--strict.perms=false</code>
specified. See
<a href="/guide/en/beats/libbeat/7.x/config-file-permissions.html" class="ulink" target="_top">Config File Ownership and Permissions</a>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-start"
       aria-labelledby="win-start"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS C:\Program Files\heartbeat&gt; Start-Service heartbeat</pre>
</div>
<p>By default, Windows log files are stored in <code class="literal">C:\ProgramData\heartbeat\Logs</code>.</p>
  </div>
</div>
<p>Heartbeat is now ready to check the status of your services and send
events to your defined output.</p>
<h3><a id="view-data"></a>Step 7: View your data in Kibana<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h3>
<p>Heartbeat comes with pre-built Kibana dashboards and UIs for visualizing the
status of your services. The dashboards are available in the
<a href="https://github.com/elastic/uptime-contrib" class="ulink" target="_top">uptime-contrib</a> GitHub repository.</p>
<p>If you loaded the dashboards earlier, open them now.</p>
<p>To open the dashboards:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Launch Kibana:</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Open Kibana">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-open-kibana"
            id="cloud-open-kibana">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-open-kibana"
            id="self-managed-open-kibana"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-open-kibana"
       aria-labelledby="cloud-open-kibana">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a href="https://cloud.elastic.co/" class="ulink" target="_top">Log in</a> to your Elastic Cloud account.
</li>
<li class="listitem">
Navigate to the Kibana endpoint in your deployment.
</li>
</ol>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-open-kibana"
       aria-labelledby="self-managed-open-kibana"
       hidden="">
<p>Point your browser to <a href="http://localhost:5601" class="ulink" target="_top">http://localhost:5601</a>, replacing
<code class="literal">localhost</code> with the name of the Kibana host.</p>
  </div>
</div>
</li>
<li class="listitem">
<p>In the side navigation, click <span class="strong strong"><strong>Discover</strong></span>. To see Heartbeat data, make
sure the predefined <code class="literal">heartbeat-*</code> index pattern is selected.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you don’t see data in Kibana, try changing the time filter to a larger
range. By default, Kibana shows the last 15 minutes.</p>
</div>
</div>
</li>
<li class="listitem">
In the side navigation, click <span class="strong strong"><strong>Dashboard</strong></span>, then select the dashboard that you
want to open.
</li>
</ol>
</div>
<p>The dashboards are provided as examples. We recommend that you
<a href="/guide/en/kibana/7.x/dashboard.html" class="ulink" target="_top">customize</a> them to meet your needs.</p>
<h3><a id="_whats_next"></a>What&#8217;s next?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/heartbeat/docs/getting-started.asciidoc">edit</a></h3>
<p>Now that you have your uptime data streaming into Elasticsearch, learn how to unify your
logs, metrics, uptime, and application performance data.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Ingest data from other sources by installing and configuring other Elastic
Beats:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Elastic Beats</th>
<th align="left" valign="top">To capture</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a href="/guide/en/beats/metricbeat/7.x/metricbeat-installation-configuration.html" class="ulink" target="_top">Metricbeat</a></p></td>
<td align="left" valign="top"><p>Infrastructure metrics</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="/guide/en/beats/filebeat/7.x/filebeat-installation-configuration.html" class="ulink" target="_top">Filebeat</a></p></td>
<td align="left" valign="top"><p>Logs</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="/guide/en/beats/winlogbeat/7.x/winlogbeat-installation-configuration.html" class="ulink" target="_top">Winlogbeat</a></p></td>
<td align="left" valign="top"><p>Windows event logs</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="/guide/en/apm/get-started/master/index.html" class="ulink" target="_top">APM</a></p></td>
<td align="left" valign="top"><p>Application performance metrics</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="/guide/en/beats/auditbeat/7.x/auditbeat-installation-configuration.html" class="ulink" target="_top">Auditbeat</a></p></td>
<td align="left" valign="top"><p>Audit events</p></td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="listitem">
<p>Use the Observability apps in Kibana to search across all your data:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Elastic apps</th>
<th align="left" valign="top">Use to</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a href="/guide/en/kibana/7.x/xpack-infra.html" class="ulink" target="_top">Metrics app</a></p></td>
<td align="left" valign="top"><p>Explore metrics about systems and services across your ecosystem</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="/guide/en/kibana/7.x/xpack-logs.html" class="ulink" target="_top">Logs app</a></p></td>
<td align="left" valign="top"><p>Tail related log data in real time</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="/guide/en/kibana/7.x/xpack-uptime.html" class="ulink" target="_top">Uptime app</a></p></td>
<td align="left" valign="top"><p>Monitor availability issues across your apps and services</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="/guide/en/kibana/7.x/xpack-apm.html" class="ulink" target="_top">APM app</a></p></td>
<td align="left" valign="top"><p>Monitor application performance</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="/guide/en/kibana/7.x/xpack-siem.html" class="ulink" target="_top">SIEM app</a></p></td>
<td align="left" valign="top"><p>Analyze security events</p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</div>
<style>
.tabs {
  width: 100%;
}
[role="tablist"] {
  margin: 0 0 -0.1em;
  overflow: visible;
}
[role="tab"] {
  position: relative;
  padding: 0.3em 0.5em 0.4em;
  border: 1px solid hsl(219, 1%, 72%);
  border-radius: 0.2em 0.2em 0 0;
  overflow: visible;
  font-family: inherit;
  font-size: inherit;
  background: hsl(220, 20%, 94%);
}
[role="tab"]:hover::before,
[role="tab"]:focus::before,
[role="tab"][aria-selected="true"]::before {
  position: absolute;
  bottom: 100%;
  right: -1px;
  left: -1px;
  border-radius: 0.2em 0.2em 0 0;
  border-top: 3px solid hsl(219, 1%, 72%);
  content: '';
}
[role="tab"][aria-selected="true"] {
  border-radius: 0;
  background: hsl(220, 43%, 99%);
  outline: 0;
}
[role="tab"][aria-selected="true"]:not(:focus):not(:hover)::before {
  border-top: 5px solid hsl(218, 96%, 48%);
}
[role="tab"][aria-selected="true"]::after {
  position: absolute;
  z-index: 3;
  bottom: -1px;
  right: 0;
  left: 0;
  height: 0.3em;
  background: hsl(220, 43%, 99%);
  box-shadow: none;
  content: '';
}
[role="tab"]:hover,
[role="tab"]:focus,
[role="tab"]:active {
  outline: 0;
  border-radius: 0;
  color: inherit;
}
[role="tab"]:hover::before,
[role="tab"]:focus::before {
  border-color: hsl(218, 96%, 48%);
}
[role="tabpanel"] {
  position: relative;
  z-index: 2;
  padding: 1em;
  border: 1px solid hsl(219, 1%, 72%);
  border-radius: 0 0.2em 0.2em 0.2em;
  box-shadow: 0 0 0.2em hsl(219, 1%, 72%);
  background: hsl(220, 43%, 99%);
  margin-bottom: 1em;
}
[role="tabpanel"] p {
  margin: 0;
}
[role="tabpanel"] * + p {
  margin-top: 1em;
}
</style>

<script>
window.addEventListener("DOMContentLoaded", () => {
  const tabs = document.querySelectorAll('[role="tab"]');
  const tabList = document.querySelector('[role="tablist"]');
  // Add a click event handler to each tab
  tabs.forEach(tab => {
    tab.addEventListener("click", changeTabs);
  });
  // Enable arrow navigation between tabs in the tab list
  let tabFocus = 0;
  tabList.addEventListener("keydown", e => {
    // Move right
    if (e.keyCode === 39 || e.keyCode === 37) {
      tabs[tabFocus].setAttribute("tabindex", -1);
      if (e.keyCode === 39) {
        tabFocus++;
        // If we're at the end, go to the start
        if (tabFocus >= tabs.length) {
          tabFocus = 0;
        }
        // Move left
      } else if (e.keyCode === 37) {
        tabFocus--;
        // If we're at the start, move to the end
        if (tabFocus < 0) {
          tabFocus = tabs.length - 1;
        }
      }
      tabs[tabFocus].setAttribute("tabindex", 0);
      tabs[tabFocus].focus();
    }
  });
});

function setActiveTab(target) {
  const parent = target.parentNode;
  const grandparent = parent.parentNode;
  // console.log(grandparent);
  // Remove all current selected tabs
  parent
    .querySelectorAll('[aria-selected="true"]')
    .forEach(t => t.setAttribute("aria-selected", false));
  // Set this tab as selected
  target.setAttribute("aria-selected", true);
  // Hide all tab panels
  grandparent
    .querySelectorAll('[role="tabpanel"]')
    .forEach(p => p.setAttribute("hidden", true));
  // Show the selected panel
  grandparent.parentNode
    .querySelector(`#${target.getAttribute("aria-controls")}`)
    .removeAttribute("hidden");
}

function changeTabs(e) {
  // get the containing list of the tab that was just clicked
  const tabList = e.target.parentNode;

  // get all of the sibling tabs
  const buttons = Array.apply(null, tabList.querySelectorAll('button'));

  // loop over the siblings to discover which index thje clicked one was
  const { index } = buttons.reduce(({ found, index }, button) => {
    if (!found && buttons[index] === e.target) {
      return { found: true, index };
    } else if (!found) {
      return { found, index: index + 1 };
    } else {
      return { found, index };
    }
  }, { found: false, index: 0 });

  // get the tab container
  const container = tabList.parentNode;
  // read the data-tab-group value from the container, e.g. "os"
  const { tabGroup } = container.dataset;
  // get a list of all the tab groups that match this value on the page
  const groups = document.querySelectorAll('[data-tab-group=' + tabGroup + ']');

  // for each of the found tab groups, find the tab button at the previously discovered index and select it for each group
  groups.forEach((group) => {
    const target = group.querySelectorAll('button')[index];
    setActiveTab(target);
  });
}
</script>
</div>
<div class="navfooter">
<span class="prev">
<a href="heartbeat-overview.html">« Heartbeat overview</a>
</span>
<span class="next">
<a href="setting-up-and-running.html">Set up and run Heartbeat »</a>
</span>
</div>
</div>
</body>
</html>
