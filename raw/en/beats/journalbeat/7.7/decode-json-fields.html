<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Decode JSON fields | Journalbeat Reference [7.7] | Elastic</title>
<meta class="elastic" name="content" content="Decode JSON fields | Journalbeat Reference [7.7]">

<link rel="home" href="index.html" title="Journalbeat Reference [7.7]"/>
<link rel="up" href="filtering-and-enhancing-data.html" title="Filter and enhance data with processors"/>
<link rel="prev" href="decode-csv-fields.html" title="Decode CSV fields"/>
<link rel="next" href="decompress-gzip-field.html" title="Decompress gzip fields"/>
<meta class="elastic" name="product_version" content="7.7"/>
<meta class="elastic" name="product_name" content="Journalbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Journalbeat/Reference/7.7"/>
<meta name="DC.subject" content="Journalbeat"/>
<meta name="DC.identifier" content="7.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This functionality is experimental and may be changed or removed completely in a
future release. Elastic will take a best effort approach to fix any issues, but
experimental features are not subject to the support SLA of official GA
features.
</div>
<div class="navheader">
<span class="prev">
<a href="decode-csv-fields.html">« Decode CSV fields</a>
</span>
<span class="next">
<a href="decompress-gzip-field.html">Decompress gzip fields »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Journalbeat Reference [7.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuring-howto-journalbeat.html">Configure Journalbeat</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="filtering-and-enhancing-data.html">Filter and enhance data with processors</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Decode JSON fields</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.7/libbeat/processors/actions/docs/decode_json_fields.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="decode-json-fields"></a>Decode JSON fields</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.7/libbeat/processors/actions/docs/decode_json_fields.asciidoc">edit</a></div>
</div></div></div>

<p>The <code class="literal">decode_json_fields</code> processor decodes fields containing JSON strings and
replaces the strings with valid JSON objects.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">processors:
  - decode_json_fields:
      fields: ["field1", "field2", ...]
      process_array: false
      max_depth: 1
      target: ""
      overwrite_keys: false
      add_error_key: true</pre>
</div>
<p>The <code class="literal">decode_json_fields</code> processor has the following configuration settings:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">fields</code>
</span>
</dt>
<dd>
The fields containing JSON strings to decode.
</dd>
<dt>
<span class="term">
<code class="literal">process_array</code>
</span>
</dt>
<dd>
(Optional) A boolean that specifies whether to process
arrays. The default is false.
</dd>
<dt>
<span class="term">
<code class="literal">max_depth</code>
</span>
</dt>
<dd>
(Optional) The maximum parsing depth. A value of 1 will decode the
JSON objects in fields indicated in <code class="literal">fields</code>, a value of 2 will also decode the
objects embedded in the fields of these parsed documents. The default is 1.
</dd>
<dt>
<span class="term">
<code class="literal">target</code>
</span>
</dt>
<dd>
(Optional) The field under which the decoded JSON will be written. By
default the decoded JSON object replaces the string field from which it was
read. To merge the decoded JSON fields into the root of the event, specify
<code class="literal">target</code> with an empty string (<code class="literal">target: ""</code>). Note that the <code class="literal">null</code> value (<code class="literal">target:</code>)
is treated as if the field was not set at all.
</dd>
<dt>
<span class="term">
<code class="literal">overwrite_keys</code>
</span>
</dt>
<dd>
(Optional) A boolean that specifies whether keys that already
exist in the event are overwritten by keys from the decoded JSON object. The
default value is false.
</dd>
<dt>
<span class="term">
<code class="literal">add_error_key</code>
</span>
</dt>
<dd>
(Optional) If it set to true, in case of error while decoding json keys
<code class="literal">error</code> field is going to be part of event with error message. If it set to false, there
will not be any error in event&#8217;s field. Even error occurs while decoding json keys. The
default value is false.
</dd>
<dt>
<span class="term">
<code class="literal">document_id</code>
</span>
</dt>
<dd>
(Optional) JSON key to use as the document id. If configured,
the field will be removed from the original json document and stored in
<code class="literal">@metadata._id</code>
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="decode-csv-fields.html">« Decode CSV fields</a>
</span>
<span class="next">
<a href="decompress-gzip-field.html">Decompress gzip fields »</a>
</span>
</div>
</body>
</html>
