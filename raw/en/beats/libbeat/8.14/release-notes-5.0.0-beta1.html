<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Beats version 5.0.0-beta1 | Beats Platform Reference [8.14] | Elastic</title>
<meta class="elastic" name="content" content="Beats version 5.0.0-beta1 | Beats Platform Reference [8.14]">

<link rel="home" href="index.html" title="Beats Platform Reference [8.14]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-5.0.0-rc1.html" title="Beats version 5.0.0-rc1"/>
<link rel="next" href="release-notes-5.0.0-alpha5.html" title="Beats version 5.0.0-alpha5"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="libbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Libbeat/Reference/8.14"/>
<meta name="DC.subject" content="libbeat"/>
<meta name="DC.identifier" content="8.14"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-5.0.0-rc1.html">« Beats version 5.0.0-rc1</a>
</span>
<span class="next">
<a href="release-notes-5.0.0-alpha5.html">Beats version 5.0.0-alpha5 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Beats Platform Reference [8.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Beats version 5.0.0-beta1</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.14/CHANGELOG.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-5.0.0-beta1"></a>Beats version 5.0.0-beta1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.14/CHANGELOG.asciidoc">edit</a></h2>
</div></div></div>
<p><a href="https://github.com/elastic/beats/compare/v5.0.0-alpha5...v5.0.0-beta1" class="ulink" target="_top">View commits</a></p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_breaking_changes_67"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.14/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change Elasticsearch output index configuration to be based on format strings. If index has been configured, no date will be appended anymore to the index name. <a href="https://github.com/elastic/beats/pull/2119" class="ulink" target="_top">2119</a>
</li>
<li class="listitem">
Replace <code class="literal">output.kafka.use_type</code> by <code class="literal">output.kafka.topic</code> accepting a format string. <a href="https://github.com/elastic/beats/pull/2188" class="ulink" target="_top">2188</a>
</li>
<li class="listitem">
If the path specified by the <code class="literal">-c</code> flag is not absolute and <code class="literal">-path.config</code> is not specified, it
is considered relative to the current working directory. <a href="https://github.com/elastic/beats/pull/2245" class="ulink" target="_top">2245</a>
</li>
<li class="listitem">
rename <code class="literal">tls</code> configurations section to <code class="literal">ssl</code>. <a href="https://github.com/elastic/beats/pull/2330" class="ulink" target="_top">2330</a>
</li>
<li class="listitem">
rename <code class="literal">certificate_key</code> configuration to <code class="literal">key</code>. <a href="https://github.com/elastic/beats/pull/2330" class="ulink" target="_top">2330</a>
</li>
<li class="listitem">
replace <code class="literal">tls.insecure</code> with <code class="literal">ssl.verification_mode</code> setting. <a href="https://github.com/elastic/beats/pull/2330" class="ulink" target="_top">2330</a>
</li>
<li class="listitem">
replace <code class="literal">tls.min/max_version</code> with <code class="literal">ssl.supported_protocols</code> setting requiring full protocol name. <a href="https://github.com/elastic/beats/pull/2330" class="ulink" target="_top">2330</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Metricbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change field type system.process.cpu.start_time from keyword to date. <a href="https://github.com/elastic/beats/issues/1565" class="ulink" target="_top">1565</a>
</li>
<li class="listitem">
redis/info metricset fields were renamed up according to the naming conventions.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Packetbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Group HTTP fields under <code class="literal">http.request</code> and <code class="literal">http.response</code> <a href="https://github.com/elastic/beats/pull/2167" class="ulink" target="_top">2167</a>
</li>
<li class="listitem">
Export <code class="literal">http.request.body</code> and <code class="literal">http.response.body</code> when configured under <code class="literal">include_body_for</code> <a href="https://github.com/elastic/beats/pull/2167" class="ulink" target="_top">2167</a>
</li>
<li class="listitem">
Move <code class="literal">ignore_outgoing</code> config to <code class="literal">packetbeat.ignore_outgoing</code> <a href="https://github.com/elastic/beats/pull/2393" class="ulink" target="_top">2393</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Filebeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set close_inactive default to 5 minutes (was 1 hour before)
</li>
<li class="listitem">
Set clean_removed and close_removed to true by default
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_bugfixes_172"></a>Bugfixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.14/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix logstash output handles error twice when asynchronous sending fails. <a href="https://github.com/elastic/beats/pull/2441" class="ulink" target="_top">2441</a>
</li>
<li class="listitem">
Fix Elasticsearch structured error response parsing error. <a href="https://github.com/elastic/beats/issues/2229" class="ulink" target="_top">2229</a>
</li>
<li class="listitem">
Fixed the run script to allow the overriding of the configuration file. <a href="https://github.com/elastic/beats/issues/2171" class="ulink" target="_top">2171</a>
</li>
<li class="listitem">
Fix logstash output crash if no hosts are configured. <a href="https://github.com/elastic/beats/issues/2325" class="ulink" target="_top">2325</a>
</li>
<li class="listitem">
Fix array value support in -E CLI flag. <a href="https://github.com/elastic/beats/pull/2521" class="ulink" target="_top">2521</a>
</li>
<li class="listitem">
Fix merging array values if -c CLI flag is used multiple times. <a href="https://github.com/elastic/beats/pull/2521" class="ulink" target="_top">2521</a>
</li>
<li class="listitem">
Fix beats failing to start due to invalid duplicate key error in configuration file. <a href="https://github.com/elastic/beats/pull/2521" class="ulink" target="_top">2521</a>
</li>
<li class="listitem">
Fix panic on non writable logging directory. <a href="https://github.com/elastic/beats/pull/2571" class="ulink" target="_top">2571</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Metricbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix module filters to work properly with drop_event filter. <a href="https://github.com/elastic/beats/issues/2249" class="ulink" target="_top">2249</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Packetbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix mapping for some Packetbeat flow metrics that were not marked as being longs. <a href="https://github.com/elastic/beats/issues/2177" class="ulink" target="_top">2177</a>
</li>
<li class="listitem">
Fix handling of messages larger than the maximum message size (10MB). <a href="https://github.com/elastic/beats/pull/2470" class="ulink" target="_top">2470</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Filebeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix processor failure in Filebeat when using regex, contain, or equals with the message field. <a href="https://github.com/elastic/beats/issues/2178" class="ulink" target="_top">2178</a>
</li>
<li class="listitem">
Fix async publisher sending empty events <a href="https://github.com/elastic/beats/pull/2455" class="ulink" target="_top">2455</a>
</li>
<li class="listitem">
Fix potential issue with multiple harvester per file on large file numbers or slow output <a href="https://github.com/elastic/beats/pull/2541" class="ulink" target="_top">2541</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Winlogbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix corrupt registry file that occurs on power loss by disabling file write caching. <a href="https://github.com/elastic/beats/issues/2313" class="ulink" target="_top">2313</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_added_112"></a>Added<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.14/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add script to generate the Kibana index-pattern from fields.yml. <a href="https://github.com/elastic/beats/pull/2122" class="ulink" target="_top">2122</a>
</li>
<li class="listitem">
Enhance Redis output key selection based on format string. <a href="https://github.com/elastic/beats/pull/2169" class="ulink" target="_top">2169</a>
</li>
<li class="listitem">
Configurable Redis <code class="literal">keys</code> using filters and format strings. <a href="https://github.com/elastic/beats/pull/2169" class="ulink" target="_top">2169</a>
</li>
<li class="listitem">
Add format string support to <code class="literal">output.kafka.topic</code>. <a href="https://github.com/elastic/beats/pull/2188" class="ulink" target="_top">2188</a>
</li>
<li class="listitem">
Add <code class="literal">output.kafka.topics</code> for more advanced kafka topic selection per event. <a href="https://github.com/elastic/beats/pull/2188" class="ulink" target="_top">2188</a>
</li>
<li class="listitem">
Add support for Kafka 0.10. <a href="https://github.com/elastic/beats/pull/2190" class="ulink" target="_top">2190</a>
</li>
<li class="listitem">
Add SASL/PLAIN authentication support to kafka output. <a href="https://github.com/elastic/beats/pull/2190" class="ulink" target="_top">2190</a>
</li>
<li class="listitem">
Make Kafka metadata update configurable. <a href="https://github.com/elastic/beats/pull/2190" class="ulink" target="_top">2190</a>
</li>
<li class="listitem">
Add Kafka version setting (optional) enabling kafka broker version support. <a href="https://github.com/elastic/beats/pull/2190" class="ulink" target="_top">2190</a>
</li>
<li class="listitem">
Add Kafka message timestamp if at least version 0.10 is configured. <a href="https://github.com/elastic/beats/pull/2190" class="ulink" target="_top">2190</a>
</li>
<li class="listitem">
Add configurable Kafka event key setting. <a href="https://github.com/elastic/beats/pull/2284" class="ulink" target="_top">2284</a>
</li>
<li class="listitem">
Add settings for configuring the kafka partitioning strategy. <a href="https://github.com/elastic/beats/pull/2284" class="ulink" target="_top">2284</a>
</li>
<li class="listitem">
Add partitioner settings <code class="literal">reachable_only</code> to ignore partitions not reachable by network. <a href="https://github.com/elastic/beats/pull/2284" class="ulink" target="_top">2284</a>
</li>
<li class="listitem">
Enhance contains condition to work on fields that are arrays of strings. <a href="https://github.com/elastic/beats/issues/2237" class="ulink" target="_top">2237</a>
</li>
<li class="listitem">
Lookup the configuration file relative to the <code class="literal">-path.config</code> CLI flag. <a href="https://github.com/elastic/beats/pull/2245" class="ulink" target="_top">2245</a>
</li>
<li class="listitem">
Re-write import_dashboards.sh in Golang. <a href="https://github.com/elastic/beats/pull/2155" class="ulink" target="_top">2155</a>
</li>
<li class="listitem">
Update to Go 1.7. <a href="https://github.com/elastic/beats/pull/2306" class="ulink" target="_top">2306</a>
</li>
<li class="listitem">
Log total non-zero internal metrics on shutdown. <a href="https://github.com/elastic/beats/pull/2349" class="ulink" target="_top">2349</a>
</li>
<li class="listitem">
Add support for encrypted private key files by introducing <code class="literal">ssl.key_passphrase</code> setting. <a href="https://github.com/elastic/beats/pull/2330" class="ulink" target="_top">2330</a>
</li>
<li class="listitem">
Add experimental symlink support with <code class="literal">symlinks</code> config <a href="https://github.com/elastic/beats/pull/2478" class="ulink" target="_top">2478</a>
</li>
<li class="listitem">
Improve validation of registry file on startup.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Metricbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use the new scaled_float Elasticsearch type for the percentage values. <a href="https://github.com/elastic/beats/pull/2156" class="ulink" target="_top">2156</a>
</li>
<li class="listitem">
Add experimental cgroup metrics to the system/process MetricSet. <a href="https://github.com/elastic/beats/pull/2184" class="ulink" target="_top">2184</a>
</li>
<li class="listitem">
Added a PostgreSQL module. <a href="https://github.com/elastic/beats/pull/2253" class="ulink" target="_top">2253</a>
</li>
<li class="listitem">
Improve mapping by converting half_float to scaled_float and integers to long. <a href="https://github.com/elastic/beats/pull/2430" class="ulink" target="_top">2430</a>
</li>
<li class="listitem">
Add experimental haproxy module. <a href="https://github.com/elastic/beats/pull/2384" class="ulink" target="_top">2384</a>
</li>
<li class="listitem">
Add Kibana dashboard for cgroups data <a href="https://github.com/elastic/beats/pull/2555" class="ulink" target="_top">2555</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Packetbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Cassandra protocol analyzer to Packetbeat. <a href="https://github.com/elastic/beats/pull/1959" class="ulink" target="_top">1959</a>
</li>
<li class="listitem">
Match connections with IPv6 addresses to processes <a href="https://github.com/elastic/beats/pull/2254" class="ulink" target="_top">2254</a>
</li>
<li class="listitem">
Add IP address to -devices command output <a href="https://github.com/elastic/beats/pull/2327" class="ulink" target="_top">2327</a>
</li>
<li class="listitem">
Add configuration option for the maximum message size. Used to be hard-coded to 10 MB. <a href="https://github.com/elastic/beats/pull/2470" class="ulink" target="_top">2470</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Filebeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce close_timeout harvester options <a href="https://github.com/elastic/beats/issues/1926" class="ulink" target="_top">1926</a>
</li>
<li class="listitem">
Strip BOM from first message in case of BOM files <a href="https://github.com/elastic/beats/issues/2351" class="ulink" target="_top">2351</a>
</li>
<li class="listitem">
Add harvester_limit option <a href="https://github.com/elastic/beats/pull/2417" class="ulink" target="_top">2417</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_deprecated_32"></a>Deprecated<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/8.14/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Topology map is deprecated. This applies to the settings: refresh_topology_freq, topology_expire, save_topology, host_topology, password_topology, db_topology.
</li>
</ul>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-5.0.0-rc1.html">« Beats version 5.0.0-rc1</a>
</span>
<span class="next">
<a href="release-notes-5.0.0-alpha5.html">Beats version 5.0.0-alpha5 »</a>
</span>
</div>
</body>
</html>
