<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Beats version 8.12.1 | Beats Platform Reference [master] | Elastic</title>
<meta class="elastic" name="content" content="Beats version 8.12.1 | Beats Platform Reference [master]">

<link rel="home" href="index.html" title="Beats Platform Reference [master]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.12.2.html" title="Beats version 8.12.2"/>
<link rel="next" href="release-notes-8.12.0.html" title="Beats version 8.12.0"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="libbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Libbeat/Reference/master"/>
<meta name="DC.subject" content="libbeat"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Beats Platform Reference [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.12.2.html">« Beats version 8.12.2</a>
</span>
<span class="next">
<a href="release-notes-8.12.0.html">Beats version 8.12.0 »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-8.12.1"></a>Beats version 8.12.1<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/CHANGELOG.asciidoc">edit</a></h2>
</div></div></div>
<p><a href="https://github.com/elastic/beats/compare/v8.12.0...v8.12.1" class="ulink" target="_top">View commits</a></p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_known_issues"></a>Known Issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<p>Performance regression in AWS S3 inputs using SQS notification.</p>
<p>In 8.12 the default memory queue flush interval was raised from 1 second to 10 seconds. In many configurations this improves performance because it allows the output to batch more events per round trip, which improves efficiency. However, the SQS input has an extra bottleneck that interacts badly with the new value. For more details see <a href="https://github.com/elastic/beats/issues/37754" class="ulink" target="_top">37754</a>.</p>
<p>If you are using the Elasticsearch output, and your output configuration uses a performance preset, switch it to <code class="literal">preset: latency</code>. If you use no preset or use <code class="literal">preset: custom</code>, then set <code class="literal">queue.mem.flush.timeout: 1s</code> in your queue or output configuration.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_breaking_changes_4"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
add_cloud_metadata processor: <code class="literal">huawei</code> provider is now treated as <code class="literal">openstack</code>. Huawei cloud runs on OpenStack
platform, and when viewed from a metadata API standpoint, it is impossible to differentiate it from OpenStack. If you
know that your deployments run on Huawei Cloud exclusively, and you wish to have <code class="literal">cloud.provider</code> value as <code class="literal">huawei</code>,
you can achieve this by overwriting the value using an <code class="literal">add_fields</code> processor. <a href="https://github.com/elastic/beats/pull/35184" class="ulink" target="_top">35184</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_bugfixes_9"></a>Bugfixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Affecting all Beats</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
aws: Add credential caching for <code class="literal">AssumeRole</code> session tokens. <a href="https://github.com/elastic/beats/issues/37787" class="ulink" target="_top">37787</a>
</li>
<li class="listitem">
Lower logging level to debug when attempting to configure beats with unknown fields from autodiscovered events/environments. <a href="https://github.com/elastic/beats/pull/" class="ulink" target="_top">37816</a>[37816]
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Filebeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix nil pointer dereference in the httpjson input. <a href="https://github.com/elastic/beats/pull/37591" class="ulink" target="_top">37591</a>
</li>
<li class="listitem">
Fix TCP/UDP metric queue length parsing base. <a href="https://github.com/elastic/beats/pull/37714" class="ulink" target="_top">37714</a>
</li>
<li class="listitem">
Fix m365_defender cursor value and query building. <a href="https://github.com/elastic/beats/pull/37116" class="ulink" target="_top">37116</a>
</li>
<li class="listitem">
Update github.com/lestrrat-go/jwx dependency. <a href="https://github.com/elastic/beats/pull/37799" class="ulink" target="_top">37799</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Heartbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix setuid root when running under cgroups v2. <a href="https://github.com/elastic/beats/pull/37794" class="ulink" target="_top">37794</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Metricbeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix Azure Resource Metrics missing metrics (min and max aggregations) after upgrade to 8.11.3. <a href="https://github.com/elastic/beats/issues/37642" class="ulink" target="_top">37642</a> <a href="https://github.com/elastic/beats/pull/37643" class="ulink" target="_top">37643</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_added_5"></a>Added<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/CHANGELOG.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Filebeat</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Relax TCP/UDP metric polling expectations to improve metric collection. <a href="https://github.com/elastic/beats/pull/37714" class="ulink" target="_top">37714</a>
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-8.12.2.html">« Beats version 8.12.2</a>
</span>
<span class="next">
<a href="release-notes-8.12.0.html">Beats version 8.12.0 »</a>
</span>
</div>
</div>
</body>
</html>
