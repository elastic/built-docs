<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Filtering and Enhancing the Exported Data | Metricbeat Reference [5.0] | Elastic</title>
<meta class="elastic" name="content" content="Filtering and Enhancing the Exported Data | Metricbeat Reference [5.0]">

<link rel="home" href="index.html" title="Metricbeat Reference [5.0]"/>
<link rel="up" href="configuring-howto-metricbeat.html" title="Configuring Metricbeat"/>
<link rel="prev" href="configuration-logging.html" title="Logging Configuration"/>
<link rel="next" href="configuring-ingest-node.html" title="Configuring Metricbeat to Use Ingest Node"/>
<meta class="elastic" name="product_version" content="5.0"/>
<meta class="elastic" name="product_name" content="Metricbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Metricbeat/Reference/5.0"/>
<meta name="DC.subject" content="Metricbeat"/>
<meta name="DC.identifier" content="5.0"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.0 of Metricbeat has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div class="navheader">
<span class="prev">
<a href="configuration-logging.html">« Logging Configuration</a>
</span>
<span class="next">
<a href="configuring-ingest-node.html">Configuring Metricbeat to Use Ingest Node »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference [5.0]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuring-howto-metricbeat.html">Configuring Metricbeat</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Filtering and Enhancing the Exported Data</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/5.0/metricbeat/docs/metricbeat-filtering.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/reference/beats/metricbeat/filtering-enhancing-data">latest documentation</a>.
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="filtering-and-enhancing-data"></a>Filtering and Enhancing the Exported Data</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/5.0/metricbeat/docs/metricbeat-filtering.asciidoc">edit</a></div>
</div></div></div>
<p>When your use case requires only a subset of the data exported by Metricbeat or you need to add metadata,
you can <a class="xref" href="filtering-and-enhancing-data.html#metricbeat-filtering-overview" title="Metricbeat Module Filtering">use Metricbeat config options to filter
the data</a>, or you can  <a class="xref" href="filtering-and-enhancing-data.html#defining-processors" title="Defining Processors">define processors</a>.</p>
<div class="position-relative"><h3><a id="metricbeat-filtering-overview"></a>Metricbeat Module Filtering</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/5.0/metricbeat/docs/metricbeat-filtering.asciidoc">edit</a></div>
<p>Each module accepts a list of filters in its configuration. These filters are
applied to the data generated by the module. These filters are applied to the
module data prior to the addition of the common beat fields like <code class="literal">beat.hostname</code>
and <code class="literal">type</code> so they can only be used to filter fields from the module.</p>
<p>The following example reduces the exported fields of the Redis module to
include only the <code class="literal">redis.info.memory</code> fields.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">metricbeat.modules:
- module: redis
  metricsets: ["info"]
  period: 1s
  hosts: ["127.0.0.1:6379"]
  enabled: true
  filters:
    - include_fields:
       fields: ['memory']</pre>
</div>
<div class="position-relative"><h3><a id="defining-processors"></a>Defining Processors</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/5.0/metricbeat/docs/metricbeat-filtering.asciidoc">edit</a></div>
<p>You can define processors in your configuration to process events before they are sent to the configured output.
The libbeat library provides processors for reducing the number of exported fields, and processors for
enhancing events with additional metadata. Each processor receives an event, applies a defined action to the event,
and returns the event. If you define a list of processors, they are executed in the order they are defined in the
configuration file.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">event -&gt; processor 1 -&gt; event1 -&gt; processor 2 -&gt; event2 ...</pre>
</div>
<p>The processors are defined in the Metricbeat configuration file.</p>
<p>For example, the following filters configuration reduces the exported fields by
dropping the <code class="literal">beat.name</code> and <code class="literal">beat.hostname</code> fields under <code class="literal">beat</code>, from all documents.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">processors:
 - drop_fields:
    fields: ['beat']</pre>
</div>
<p>See <a class="xref" href="configuration-processors.html" title="Processors Configuration">Processors Configuration</a> for more information.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="configuration-logging.html">« Logging Configuration</a>
</span>
<span class="next">
<a href="configuring-ingest-node.html">Configuring Metricbeat to Use Ingest Node »</a>
</span>
</div>
</body>
</html>
