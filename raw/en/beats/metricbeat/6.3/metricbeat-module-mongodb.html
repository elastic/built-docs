<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title xmlns="">MongoDB module
        | Metricbeat Reference [6.3]
      | Elastic
    </title><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Metricbeat Reference [6.3]" /><link rel="up" href="metricbeat-modules.html" title="Modules" /><link rel="prev" href="metricbeat-metricset-memcached-stats.html" title="Memcached stats metricset" /><link rel="next" href="metricbeat-metricset-mongodb-collstats.html" title="MongoDB collstats metricset" /><meta xmlns="" name="description" content="Get started with the documentation for Elasticsearch, Kibana, Logstash, Beats, X-Pack, Elastic Cloud, Elasticsearch for Apache Hadoop, and our language clients." /><meta xmlns="" name="DC.type" content="Learn/Docs/Metricbeat/Reference/6.3" /><meta xmlns="" name="DC.subject" content="Metricbeat" /><meta xmlns="" name="DC.identifier" content="6.3" /></head><body><div xmlns="" class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div xmlns="" class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference
      [6.3]
    </a></span> » <span class="breadcrumb-link"><a href="metricbeat-modules.html">Modules</a></span> » <span class="breadcrumb-node">MongoDB module</span></div><div xmlns="" class="navheader"><span class="prev"><a href="metricbeat-metricset-memcached-stats.html">
              « 
              Memcached stats metricset</a>
           
        </span><span class="next">
           
          <a href="metricbeat-metricset-mongodb-collstats.html">MongoDB collstats metricset
               »
            </a></span></div><div class="chapter"><div class="titlepage"><div><div><h2 class="title"><a id="metricbeat-module-mongodb"></a>MongoDB module<a xmlns="" href="https://github.com/elastic/beats/edit/6.3/metricbeat/docs/modules/mongodb.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>This module periodically fetches metrics from <a class="ulink" href="https://www.mongodb.com" target="_top">MongoDB</a>
servers.</p><h3><a id="_module_specific_configuration_notes_2"></a>Module-specific configuration notes<a xmlns="" href="https://github.com/elastic/beats/edit/6.3/metricbeat/docs/modules/mongodb.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>When configuring the <code class="literal">hosts</code> option, you must use MongoDB URLs of the following
format:</p><pre class="screen">[mongodb://][user:pass@]host[:port][?options]</pre><p>The URL can be as simple as:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">- module: mongodb
  hosts: ["localhost"]</pre></div><p>Or more complex like:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">- module: mongodb
  hosts: ["mongodb://myuser:mypass@localhost:40001", "otherhost:40001"]</pre></div><p>The username and password can be included in the URL or they can be set using
the respective configuration options. The credentials in the URL take precedence
over the username and password configuration options.</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">- module: mongodb
  metricsets: ["status"]
  hosts: ["localhost:27017"]
  username: root
  password: test</pre></div><p>The default metricsets are <code class="literal">collstats</code>, <code class="literal">dbstats</code> and <code class="literal">status</code>.</p><h3><a id="_compatibility_8"></a>Compatibility<a xmlns="" href="https://github.com/elastic/beats/edit/6.3/metricbeat/docs/modules/mongodb.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The MongoDB metricsets were tested with MongoDB 3.4 and 3.0 and are expected to
work with all versions &gt;= 2.8.</p><h3><a id="_example_configuration_20"></a>Example configuration<a xmlns="" href="https://github.com/elastic/beats/edit/6.3/metricbeat/docs/modules/mongodb.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The MongoDB module supports the standard configuration options that are described
in <a class="xref" href="configuration-metricbeat.html" title="Specify which modules to run"><em>Specify which modules to run</em></a>. Here is an example configuration:</p><div xmlns="" class="pre_wrapper lang-yaml"><pre xmlns="http://www.w3.org/1999/xhtml" class="programlisting prettyprint lang-yaml">metricbeat.modules:
- module: mongodb
  metricsets: ["dbstats", "status"]
  period: 10s
  enabled: true

  # The hosts must be passed as MongoDB URLs in the format:
  # [mongodb://][user:pass@]host[:port].
  # The username and password can also be set using the respective configuration
  # options. The credentials in the URL take precedence over the username and
  # password configuration options.
  hosts: ["localhost:27017"]

  # Username to use when connecting to MongoDB. Empty by default.
  #username: user

  # Password to use when connecting to MongoDB. Empty by default.
  #password: pass</pre></div><h3><a id="_metricsets_20"></a>Metricsets<a xmlns="" href="https://github.com/elastic/beats/edit/6.3/metricbeat/docs/modules/mongodb.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3><p>The following metricsets are available:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
<a class="link" href="metricbeat-metricset-mongodb-collstats.html" title="MongoDB collstats metricset">collstats</a>
</li><li class="listitem">
<a class="link" href="metricbeat-metricset-mongodb-dbstats.html" title="MongoDB dbstats metricset">dbstats</a>
</li><li class="listitem">
<a class="link" href="metricbeat-metricset-mongodb-status.html" title="MongoDB status metricset">status</a>
</li></ul></div></div><div xmlns="" class="navfooter"><span class="prev"><a href="metricbeat-metricset-memcached-stats.html">
              « 
              Memcached stats metricset</a>
           
        </span><span class="next">
           
          <a href="metricbeat-metricset-mongodb-collstats.html">MongoDB collstats metricset
               »
            </a></span></div></body></html>