<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>PostgreSQL fields | Metricbeat Reference [7.10] | Elastic</title>
<link rel="home" href="index.html" title="Metricbeat Reference [7.10]"/>
<link rel="up" href="exported-fields.html" title="Exported fields"/>
<link rel="prev" href="exported-fields-php_fpm.html" title="PHP_FPM fields"/>
<link rel="next" href="exported-fields-process.html" title="Process fields"/>
<meta name="DC.type" content="Learn/Docs/Metricbeat/Reference/7.10"/>
<meta name="DC.subject" content="Metricbeat"/>
<meta name="DC.identifier" content="7.10"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Metricbeat Reference [7.10]</a></span>
»
<span class="breadcrumb-link"><a href="exported-fields.html">Exported fields</a></span>
»
<span class="breadcrumb-node">PostgreSQL fields</span>
</div>
<div class="navheader">
<span class="prev">
<a href="exported-fields-php_fpm.html">« PHP_FPM fields</a>
</span>
<span class="next">
<a href="exported-fields-process.html">Process fields »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="exported-fields-postgresql"></a>PostgreSQL fields<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.10/metricbeat/docs/fields.asciidoc">edit</a></h2>
</div></div></div>
<p>Metrics collected from PostgreSQL servers.</p>
<h3><a id="_postgresql"></a>postgresql<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.10/metricbeat/docs/fields.asciidoc">edit</a></h3>
<p>PostgreSQL metrics.</p>
<h3><a id="_activity"></a>activity<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.10/metricbeat/docs/fields.asciidoc">edit</a></h3>
<p>One document per server process, showing information related to the current activity of that process, such as state and current query. Collected by querying pg_stat_activity.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.database.oid</code></strong></span>
</span>
</dt>
<dd>
<p>OID of the database this backend is connected to.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.database.name</code></strong></span>
</span>
</dt>
<dd>
<p>Name of the database this backend is connected to.</p>
<p>type: keyword</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.pid</code></strong></span>
</span>
</dt>
<dd>
<p>Process ID of this backend.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.user.id</code></strong></span>
</span>
</dt>
<dd>
<p>OID of the user logged into this backend.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.user.name</code></strong></span>
</span>
</dt>
<dd>
<p>Name of the user logged into this backend.</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.application_name</code></strong></span>
</span>
</dt>
<dd>
<p>Name of the application that is connected to this backend.</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.client.address</code></strong></span>
</span>
</dt>
<dd>
<p>IP address of the client connected to this backend.</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.client.hostname</code></strong></span>
</span>
</dt>
<dd>
<p>Host name of the connected client, as reported by a reverse DNS lookup of client_addr.</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.client.port</code></strong></span>
</span>
</dt>
<dd>
<p>TCP port number that the client is using for communication with this backend, or -1 if a Unix socket is used.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.backend_start</code></strong></span>
</span>
</dt>
<dd>
<p>Time when this process was started, i.e., when the client connected to the server.</p>
<p>type: date</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.transaction_start</code></strong></span>
</span>
</dt>
<dd>
<p>Time when this process' current transaction was started.</p>
<p>type: date</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.query_start</code></strong></span>
</span>
</dt>
<dd>
<p>Time when the currently active query was started, or if state is not active, when the last query was started.</p>
<p>type: date</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.state_change</code></strong></span>
</span>
</dt>
<dd>
<p>Time when the state was last changed.</p>
<p>type: date</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.waiting</code></strong></span>
</span>
</dt>
<dd>
<p>True if this backend is currently waiting on a lock.</p>
<p>type: boolean</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.state</code></strong></span>
</span>
</dt>
<dd>
<p>Current overall state of this backend. Possible values are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
active: The backend is executing a query.
</li>
<li class="listitem">
idle: The backend is waiting for a new client command.
</li>
<li class="listitem">
idle in transaction: The backend is in a transaction, but is not
currently executing a query.
</li>
<li class="listitem">
idle in transaction (aborted): This state is similar to idle in
transaction, except one of the statements in the transaction caused
an error.
</li>
<li class="listitem">
fastpath function call: The backend is executing a fast-path function.
</li>
<li class="listitem">
disabled: This state is reported if track_activities is disabled in this backend.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.activity.query</code></strong></span>
</span>
</dt>
<dd>
<p>Text of this backend&#8217;s most recent query. If state is active this field shows the currently executing query. In all other states, it shows the last query that was executed.</p>
</dd>
</dl>
</div>
<h3><a id="_bgwriter"></a>bgwriter<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.10/metricbeat/docs/fields.asciidoc">edit</a></h3>
<p>Statistics about the background writer process&#8217;s activity. Collected using the pg_stat_bgwriter query.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.checkpoints.scheduled</code></strong></span>
</span>
</dt>
<dd>
<p>Number of scheduled checkpoints that have been performed.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.checkpoints.requested</code></strong></span>
</span>
</dt>
<dd>
<p>Number of requested checkpoints that have been performed.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.checkpoints.times.write.ms</code></strong></span>
</span>
</dt>
<dd>
<p>Total amount of time that has been spent in the portion of checkpoint processing where files are written to disk, in milliseconds.</p>
<p>type: float</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.checkpoints.times.sync.ms</code></strong></span>
</span>
</dt>
<dd>
<p>Total amount of time that has been spent in the portion of checkpoint processing where files are synchronized to disk, in milliseconds.</p>
<p>type: float</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.buffers.checkpoints</code></strong></span>
</span>
</dt>
<dd>
<p>Number of buffers written during checkpoints.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.buffers.clean</code></strong></span>
</span>
</dt>
<dd>
<p>Number of buffers written by the background writer.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.buffers.clean_full</code></strong></span>
</span>
</dt>
<dd>
<p>Number of times the background writer stopped a cleaning scan because it had written too many buffers.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.buffers.backend</code></strong></span>
</span>
</dt>
<dd>
<p>Number of buffers written directly by a backend.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.buffers.backend_fsync</code></strong></span>
</span>
</dt>
<dd>
<p>Number of times a backend had to execute its own fsync call (normally the background writer handles those even when the backend does its own write)</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.buffers.allocated</code></strong></span>
</span>
</dt>
<dd>
<p>Number of buffers allocated.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.bgwriter.stats_reset</code></strong></span>
</span>
</dt>
<dd>
<p>Time at which these statistics were last reset.</p>
<p>type: date</p>
</dd>
</dl>
</div>
<h3><a id="_database_2"></a>database<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.10/metricbeat/docs/fields.asciidoc">edit</a></h3>
<p>One row per database, showing database-wide statistics. Collected by querying pg_stat_database</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.oid</code></strong></span>
</span>
</dt>
<dd>
<p>OID of the database this backend is connected to.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.name</code></strong></span>
</span>
</dt>
<dd>
<p>Name of the database this backend is connected to.</p>
<p>type: keyword</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.number_of_backends</code></strong></span>
</span>
</dt>
<dd>
<p>Number of backends currently connected to this database.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.transactions.commit</code></strong></span>
</span>
</dt>
<dd>
<p>Number of transactions in this database that have been committed.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.transactions.rollback</code></strong></span>
</span>
</dt>
<dd>
<p>Number of transactions in this database that have been rolled back.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.blocks.read</code></strong></span>
</span>
</dt>
<dd>
<p>Number of disk blocks read in this database.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.blocks.hit</code></strong></span>
</span>
</dt>
<dd>
<p>Number of times disk blocks were found already in the buffer cache, so that a read was not necessary (this only includes hits in the PostgreSQL buffer cache, not the operating system&#8217;s file system cache).</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.blocks.time.read.ms</code></strong></span>
</span>
</dt>
<dd>
<p>Time spent reading data file blocks by backends in this database, in milliseconds.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.blocks.time.write.ms</code></strong></span>
</span>
</dt>
<dd>
<p>Time spent writing data file blocks by backends in this database, in milliseconds.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.rows.returned</code></strong></span>
</span>
</dt>
<dd>
<p>Number of rows returned by queries in this database.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.rows.fetched</code></strong></span>
</span>
</dt>
<dd>
<p>Number of rows fetched by queries in this database.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.rows.inserted</code></strong></span>
</span>
</dt>
<dd>
<p>Number of rows inserted by queries in this database.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.rows.updated</code></strong></span>
</span>
</dt>
<dd>
<p>Number of rows updated by queries in this database.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.rows.deleted</code></strong></span>
</span>
</dt>
<dd>
<p>Number of rows deleted by queries in this database.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.conflicts</code></strong></span>
</span>
</dt>
<dd>
<p>Number of queries canceled due to conflicts with recovery in this database.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.temporary.files</code></strong></span>
</span>
</dt>
<dd>
<p>Number of temporary files created by queries in this database. All temporary files are counted, regardless of why the temporary file was created (e.g., sorting or hashing), and regardless of the log_temp_files setting.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.temporary.bytes</code></strong></span>
</span>
</dt>
<dd>
<p>Total amount of data written to temporary files by queries in this database. All temporary files are counted, regardless of why the temporary file was created, and regardless of the log_temp_files setting.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.deadlocks</code></strong></span>
</span>
</dt>
<dd>
<p>Number of deadlocks detected in this database.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.database.stats_reset</code></strong></span>
</span>
</dt>
<dd>
<p>Time at which these statistics were last reset.</p>
<p>type: date</p>
</dd>
</dl>
</div>
<h3><a id="_statement"></a>statement<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.10/metricbeat/docs/fields.asciidoc">edit</a></h3>
<p>One document per query per user per database, showing information related invocation of that query, such as cpu usage and total time. Collected by querying pg_stat_statements.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.user.id</code></strong></span>
</span>
</dt>
<dd>
<p>OID of the user logged into the backend that ran the query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.database.oid</code></strong></span>
</span>
</dt>
<dd>
<p>OID of the database the query was run on.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.id</code></strong></span>
</span>
</dt>
<dd>
<p>ID of the statement.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.text</code></strong></span>
</span>
</dt>
<dd>
<p>Query text</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.calls</code></strong></span>
</span>
</dt>
<dd>
<p>Number of times the query has been run.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.rows</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of rows returned by query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.time.total.ms</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of milliseconds spent running query.</p>
<p>type: float</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.time.min.ms</code></strong></span>
</span>
</dt>
<dd>
<p>Minimum number of milliseconds spent running query.</p>
<p>type: float</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.time.max.ms</code></strong></span>
</span>
</dt>
<dd>
<p>Maximum number of milliseconds spent running query.</p>
<p>type: float</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.time.mean.ms</code></strong></span>
</span>
</dt>
<dd>
<p>Mean number of milliseconds spent running query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.time.stddev.ms</code></strong></span>
</span>
</dt>
<dd>
<p>Population standard deviation of time spent running query, in milliseconds.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.memory.shared.hit</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of shared block cache hits by the query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.memory.shared.read</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of shared block cache read by the query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.memory.shared.dirtied</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of shared block cache dirtied by the query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.memory.shared.written</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of shared block cache written by the query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.memory.local.hit</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of local block cache hits by the query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.memory.local.read</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of local block cache read by the query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.memory.local.dirtied</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of local block cache dirtied by the query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.memory.local.written</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of local block cache written by the query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.memory.temp.read</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of temp block cache read by the query.</p>
<p>type: long</p>
</dd>
<dt>
<span class="term">
<span class="strong strong"><strong><code class="literal">postgresql.statement.query.memory.temp.written</code></strong></span>
</span>
</dt>
<dd>
<p>Total number of temp block cache written by the query.</p>
<p>type: long</p>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="exported-fields-php_fpm.html">« PHP_FPM fields</a>
</span>
<span class="next">
<a href="exported-fields-process.html">Process fields »</a>
</span>
</div>
</div>
</body>
</html>
