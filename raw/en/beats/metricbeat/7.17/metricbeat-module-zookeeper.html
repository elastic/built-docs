<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ZooKeeper module | Metricbeat Reference [7.17] | Elastic</title>
<meta class="elastic" name="content" content="ZooKeeper module | Metricbeat Reference [7.17]">

<link rel="home" href="index.html" title="Metricbeat Reference [7.17]"/>
<link rel="up" href="metricbeat-modules.html" title="Modules"/>
<link rel="prev" href="metricbeat-metricset-windows-service.html" title="Windows service metricset"/>
<link rel="next" href="metricbeat-metricset-zookeeper-connection.html" title="ZooKeeper connection metricset"/>
<meta class="elastic" name="product_version" content="7.17"/>
<meta class="elastic" name="product_name" content="Metricbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Metricbeat/Reference/7.17"/>
<meta name="DC.subject" content="Metricbeat"/>
<meta name="DC.identifier" content="7.17"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference [7.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="metricbeat-modules.html">Modules</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="metricbeat-metricset-windows-service.html">« Windows service metricset</a>
</span>
<span class="next">
<a href="metricbeat-metricset-zookeeper-connection.html">ZooKeeper connection metricset »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="metricbeat-module-zookeeper"></a>ZooKeeper module<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.17/metricbeat/docs/modules/zookeeper.asciidoc">edit</a></h2>
</div></div></div>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Prefer to use Elastic Agent for this use case?</strong></p>
</div></div></div>
<p>Refer to the
<a href="https://docs.elastic.co/en/integrations/zookeeper" class="ulink" target="_top">Elastic Integrations documentation</a>.</p>
<details>
<summary class="title">Learn more</summary>
<div class="content">
<p>Elastic Agent is a single, unified agent that you can deploy to hosts or containers to
collect data and send it to the Elastic Stack. Elastic Agent uses integrations to connect
your data to the Elastic Stack. Behind the scenes, Elastic Agent runs the Beats shippers
required for your configuration. Refer to the documentation for a detailed
<a href="/guide/en/fleet/7.17/beats-agent-comparison.html" class="ulink" target="_top">comparison of Beats and Elastic Agent</a>.</p>
</div>
</details>
</div>
<p>The ZooKeeper module fetches statistics from the ZooKeeper service. The default
metricsets are <code class="literal">mntr</code> and <code class="literal">server</code>.</p>
<h3><a id="_compatibility_50"></a>Compatibility<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.17/metricbeat/docs/modules/zookeeper.asciidoc">edit</a></h3>
<p>The ZooKeeper metricsets were tested with ZooKeeper 3.4.8, 3.6.0 and 3.7.0. They are expected to work with all versions
&gt;= 3.4.0. Versions prior to 3.4 do not support the <code class="literal">mntr</code> command.</p>
<p>Note that from ZooKeeper 3.6.0, <code class="literal">mntr</code> command must be explicitly enabled at ZooKeeper side using the <code class="literal">4lw.commands.whitelist</code> configuration parameter.</p>
<h3><a id="_dashboard_48"></a>Dashboard<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.17/metricbeat/docs/modules/zookeeper.asciidoc">edit</a></h3>
<p>The Zookeeper module comes with a predefined dashboard:</p>
<div class="imageblock">
<div class="content">
<img src="./images/metricbeat-zookeeper.png" alt="metricbeat zookeeper">
</div>
</div>
<h3><a id="_example_configuration_65"></a>Example configuration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.17/metricbeat/docs/modules/zookeeper.asciidoc">edit</a></h3>
<p>The ZooKeeper module supports the standard configuration options that are described
in <a class="xref" href="configuration-metricbeat.html" title="Configure modules"><em>Modules</em></a>. Here is an example configuration:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">metricbeat.modules:
- module: zookeeper
  enabled: true
  metricsets: ["mntr", "server"]
  period: 10s
  hosts: ["localhost:2181"]</pre>
</div>
<h3><a id="_metricsets_73"></a>Metricsets<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.17/metricbeat/docs/modules/zookeeper.asciidoc">edit</a></h3>
<p>The following metricsets are available:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="metricbeat-metricset-zookeeper-connection.html" title="ZooKeeper connection metricset">connection</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-zookeeper-mntr.html" title="ZooKeeper mntr metricset">mntr</a>
</li>
<li class="listitem">
<a class="xref" href="metricbeat-metricset-zookeeper-server.html" title="ZooKeeper server metricset">server</a>
</li>
</ul>
</div>



</div>
<div class="navfooter">
<span class="prev">
<a href="metricbeat-metricset-windows-service.html">« Windows service metricset</a>
</span>
<span class="next">
<a href="metricbeat-metricset-zookeeper-connection.html">ZooKeeper connection metricset »</a>
</span>
</div>
</div>
</body>
</html>
