<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AWS awshealth metricset | Metricbeat Reference [8.14] | Elastic</title>
<meta class="elastic" name="content" content="AWS awshealth metricset | Metricbeat Reference [8.14]">

<link rel="home" href="index.html" title="Metricbeat Reference [8.14]"/>
<link rel="up" href="metricbeat-module-aws.html" title="AWS module"/>
<link rel="prev" href="metricbeat-module-aws.html" title="AWS module"/>
<link rel="next" href="metricbeat-metricset-aws-billing.html" title="AWS billing metricset"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="Metricbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Metricbeat/Reference/8.14"/>
<meta name="DC.subject" content="Metricbeat"/>
<meta name="DC.identifier" content="8.14"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference [8.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="metricbeat-modules.html">Modules</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="metricbeat-module-aws.html">AWS module</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="metricbeat-module-aws.html">« AWS module</a>
</span>
<span class="next">
<a href="metricbeat-metricset-aws-billing.html">AWS billing metricset »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="metricbeat-metricset-aws-awshealth"></a>AWS awshealth metricset<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/aws/awshealth/_meta/docs.asciidoc">edit</a></h2>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>AWS Health metrics provide insights into the health of your AWS environment by monitoring various aspects such as open issues, scheduled maintenance events, security advisories, compliance status, notification counts, and service disruptions. These metrics help you proactively identify and address issues impacting your AWS resources, ensuring the reliability, security, and compliance of your infrastructure.</p>
<h3><a id="_aws_permissions"></a>AWS Permissions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/aws/awshealth/_meta/docs.asciidoc">edit</a></h3>
<p>To collect AWS Health metrics using Elastic Metricbeat, you would need specific AWS permissions to access the necessary data. Here&#8217;s a list of permissions required for an IAM user to collect AWS Health metrics:</p>
<pre class="screen">health:DescribeAffectedEntities
health:DescribeEventDetails
health:DescribeEvents</pre>
<h3><a id="_configuration_example"></a>Configuration example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/x-pack/metricbeat/module/aws/awshealth/_meta/docs.asciidoc">edit</a></h3>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">- module: aws
  period: 24h
  metricsets:
    - awshealth</pre>
</div>
<p>This is a default metricset. If the host module is unconfigured, this metricset is enabled by default.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_fields_10"></a>Fields</h3>
</div></div></div>
<p>For a description of each field in the metricset, see the
<a class="xref" href="exported-fields-aws.html" title="AWS fields">exported fields</a> section.</p>
<p>Here is an example document generated by this metricset:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
    "@timestamp": "2017-10-12T08:05:34.853Z",
    "aws": {
        "awshealth": {
            "affected_entities": [
                {
                    "aws_account_id": "12301234013123",
                    "entity_url": "",
                    "entity_value": "arn:aws:eks:us-east-2:627286350134:cluster/XXXXXXXXXXXXX",
                    "last_updated_time": "2024-04-12T12:56:29.7Z",
                    "status_code": "PENDING",
                    "entity_arn": "arn:aws:health:us-east-2:627286350134:entity/YYYYYYYYYYYYYYYYYYYY"
                }
            ],
            "affected_entities_others": 0,
            "affected_entities_pending": 1,
            "affected_entities_resolved": 0,
            "end_time": "0001-01-01T00:00:00Z",
            "event_arn": "arn:aws:health:us-east-2::event/EKS/AWS_EKS_PLANNED_LIFECYCLE_EVENT/AWS_EKS_PLANNED_LIFECYCLE_EVENT_a7e64e77680080d19971a80f0131ff2239909cdbe7647dd57710b764b988f476",
            "event_description": "On May 1, 2024, standard support for Kubernetes version 1.25 in Amazon EKS will end. From May 2, 2024 all Amazon EKS clusters running on 1.25 will enter extended support and will remain in extended support until May 1, 2025.\n\nAfter May 1, 2025, Kubernetes 1.25 will no longer be supported on Amazon EKS, and all Amazon EKS clusters running on 1.25 will be automatically updated to Kubernetes version 1.26.\n\nYou are receiving this message because you currently have 1 or more Amazon EKS clusters running on Kubernetes version 1.25. A list of your impacted clusters can be found in the \"Affected resources\" tab.\n\nExtended support is currently in free preview and is available to all customers. Effective April 1 2024, your Amazon EKS clusters running on a Kubernetes version in extended support will be charged at $0.60 per cluster hour.\n\nIf you do not want to use extended support, we recommend that you update your 1.25 clusters to Kubernetes version 1.26 or newer before May 1, 2024. To learn more about the extended support for Kubernetes versions pricing, see our announcement [1]. For instructions on how to update your cluster(s), see the Amazon EKS service 'Updating an Amazon EKS cluster Kubernetes version' documentation [2].\n\nTo learn more on Kubernetes version support, see the 'Amazon EKS Kubernetes versions' documentation [3].\n\nFor any questions or assistance, please contact AWS Support [4].\n\n\n[1] https://aws.amazon.com/blogs/containers/amazon-eks-extended-support-for-kubernetes-versions-pricing/\n[2] https://docs.aws.amazon.com/eks/latest/userguide/update-cluster.html\n[3] https://docs.aws.amazon.com/eks/latest/userguide/kubernetes-versions.html\n[4] https://aws.amazon.com/support",
            "event_scope_code": "ACCOUNT_SPECIFIC",
            "event_type_category": "scheduledChange",
            "event_type_code": "AWS_EKS_PLANNED_LIFECYCLE_EVENT",
            "last_updated_time": "2024-04-12T13:12:39.273Z",
            "region": "us-east-2",
            "service": "EKS",
            "start_time": "2024-05-01T07:00:00Z",
            "status_code": "upcoming"
        }
    },
    "cloud.provider": "aws",
    "event": {
        "dataset": "aws.awshealth",
        "duration": 115000,
        "module": "aws"
    },
    "metricset": {
        "name": "awshealth",
        "period": 10000
    },
    "service": {
        "type": "aws-health"
    }
}</pre>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="metricbeat-module-aws.html">« AWS module</a>
</span>
<span class="next">
<a href="metricbeat-metricset-aws-billing.html">AWS billing metricset »</a>
</span>
</div>
</div>
</body>
</html>
