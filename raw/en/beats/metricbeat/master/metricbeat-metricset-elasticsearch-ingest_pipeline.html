<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elasticsearch ingest_pipeline metricset | Metricbeat Reference [master] | Elastic</title>
<meta class="elastic" name="content" content="Elasticsearch ingest_pipeline metricset | Metricbeat Reference [master]">

<link rel="home" href="index.html" title="Metricbeat Reference [master]"/>
<link rel="up" href="metricbeat-module-elasticsearch.html" title="Elasticsearch module"/>
<link rel="prev" href="metricbeat-metricset-elasticsearch-index_summary.html" title="Elasticsearch index_summary metricset"/>
<link rel="next" href="metricbeat-metricset-elasticsearch-ml_job.html" title="Elasticsearch ml_job metricset"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Metricbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Metricbeat/Reference/master"/>
<meta name="DC.subject" content="Metricbeat"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Metricbeat Reference [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="metricbeat-modules.html">Modules</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="metricbeat-module-elasticsearch.html">Elasticsearch module</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="metricbeat-metricset-elasticsearch-index_summary.html">« Elasticsearch index_summary metricset</a>
</span>
<span class="next">
<a href="metricbeat-metricset-elasticsearch-ml_job.html">Elasticsearch ml_job metricset »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="metricbeat-metricset-elasticsearch-ingest_pipeline"></a>Elasticsearch ingest_pipeline metricset<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/metricbeat/module/elasticsearch/ingest_pipeline/_meta/docs.asciidoc">edit</a></h2>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>This is the ingest_pipeline metricset of the module elasticsearch.</p>
<p>Collects metrics on ingest pipeline executions, with processor-level granularity.</p>
<h3><a id="_processor_level_metrics_sampling"></a>Processor-level metrics sampling<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/metricbeat/module/elasticsearch/ingest_pipeline/_meta/docs.asciidoc">edit</a></h3>
<p>Processor-level metrics can produce a high volume of data, so the default behavior is to collect those metrics less
frequently than the <code class="literal">period</code> for pipeline-level metrics, by applying a sampling strategy. By default, the
processor-level metrics will be collected during 25% of the time. This can be configured with the
<code class="literal">ingest.processor_sample_rate</code> setting:</p>
<h3><a id="_configuration_example_18"></a>Configuration example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/main/metricbeat/module/elasticsearch/ingest_pipeline/_meta/docs.asciidoc">edit</a></h3>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">- module: elasticsearch
  period: 10s
  metricsets:
    - ingest
  ingest.processor_sample_rate: 0.1 # decrease to 10% of fetches</pre>
</div>
<p>This is a default metricset. If the host module is unconfigured, this metricset is enabled by default.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_fields_84"></a>Fields</h3>
</div></div></div>
<p>For a description of each field in the metricset, see the
<a class="xref" href="exported-fields-elasticsearch.html" title="Elasticsearch fields">exported fields</a> section.</p>
<p>Here is an example document generated by this metricset:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "@timestamp": "2023-01-19T19:08:28.770Z",
  "elasticsearch": {
    "cluster": {
      "id": "WocBBA0QRma0sGpdQ7vLfQ",
      "name": "my-cluster"
    },
    "node": {
      "name": "27fb1c2fd783",
      "roles": [
        "ingest",
        "remote_cluster_client"
      ],
      "id": "f5i3v9hMT_q__q6B9WOo5A"
    },
    "ingest_pipeline": {
      "name": "my-pipeline",
      "total": {
        "count": 64,
        "failed": 0,
        "time": {
          "total": {
            "ms": 39
          },
          "self": {
            "ms": 39
          }
        }
      }
    }
  },
  "ecs": {
    "version": "8.0.0"
  },
  "host": {
    "name": "myhost.local"
  },
  "agent": {
    "type": "metricbeat",
    "version": "8.7.0",
    "ephemeral_id": "80fe51b6-57df-46d1-9240-20424df6d675",
    "id": "faab8154-7ceb-470f-b2ca-0aee636951c3",
    "name": "myhost.local"
  },
  "event": {
    "dataset": "elasticsearch.ingest_pipeline",
    "module": "elasticsearch",
    "duration": 558169708
  },
  "metricset": {
    "period": 10000,
    "name": "ingest_pipeline"
  },
  "service": {
    "address": "https://localhost:9200",
    "type": "elasticsearch"
  }
}</pre>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="metricbeat-metricset-elasticsearch-index_summary.html">« Elasticsearch index_summary metricset</a>
</span>
<span class="next">
<a href="metricbeat-metricset-elasticsearch-ml_job.html">Elasticsearch ml_job metricset »</a>
</span>
</div>
</div>
</body>
</html>
