<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Processes | Packetbeat Reference [1.2] | Elastic</title>
<meta class="elastic" name="content" content="Processes | Packetbeat Reference [1.2]">

<link rel="home" href="index.html" title="Packetbeat Reference [1.2]"/>
<link rel="up" href="packetbeat-configuration.html" title="Configuration Options"/>
<link rel="prev" href="configuration-protocols.html" title="Protocols"/>
<link rel="next" href="elasticsearch-output.html" title="Elasticsearch Output"/>
<meta class="elastic" name="product_version" content="1.2"/>
<meta class="elastic" name="product_name" content="Packetbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Packetbeat/Reference/1.2"/>
<meta name="DC.subject" content="Packetbeat"/>
<meta name="DC.identifier" content="1.2"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<p>
  <strong>WARNING</strong>: Version 1.2 of Packetbeat has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div class="navheader">
<span class="prev">
<a href="configuration-protocols.html">« Protocols</a>
</span>
<span class="next">
<a href="elasticsearch-output.html">Elasticsearch Output »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Packetbeat Reference [1.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="reference.html">Reference</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="packetbeat-configuration.html">Configuration Options</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Processes</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/1.2/packetbeat/docs/reference/configuration/packetbeat-options.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="configuration-processes"></a>Processes</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/1.2/packetbeat/docs/reference/configuration/packetbeat-options.asciidoc">edit</a></div>
</div></div></div>
<p>Configuring the processes enables Packetbeat
to show you not only the servers that the traffic is flowing between, but
also the processes. Packetbeat can even show you the traffic between two
processes running on the same host, which is particularly useful when you
have many services running on the same server. By default, process matching
is disabled.</p>
<p>When Packetbeat starts, and then periodically afterwards, it scans the process table for
processes that match the configuration file. For each of these processes, it
monitors which file descriptors it has opened. When a new packet is captured,
it reads the list of active TCP connections and matches the corresponding one
with the list of file descriptors.</p>
<p>On a Linux system, all this information is available via the <code class="literal">/proc</code>
file system, so Packetbeat doesn&#8217;t need a kernel module.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Process monitoring is currently only supported on
      Linux systems. Packetbeat automatically disables
      process monitoring when it detects other operating systems.</p>
</div>
</div>
<p>Example configuration:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">procs:
  enabled: true
  monitored:
    - process: mysqld
      cmdline_grep: mysqld

    - process: pgsql
      cmdline_grep: postgres

    - process: nginx
      cmdline_grep: nginx

    - process: app
      cmdline_grep: gunicorn</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_process_monitoring_options"></a>Process Monitoring Options</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/1.2/packetbeat/docs/reference/configuration/packetbeat-options.asciidoc">edit</a></div>
</div></div></div>
<p>You can specify the following process monitoring options in the <code class="literal">monitored</code> section:</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="_process"></a>process</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/1.2/packetbeat/docs/reference/configuration/packetbeat-options.asciidoc">edit</a></div>
</div></div></div>
<p>The name of the process as it will appear in the published transactions. The name
doesn&#8217;t have to match the name of the executable, so feel free to choose something
more descriptive (for example,  "myapp" instead of "gunicorn").</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="_cmdline_grep"></a>cmdline_grep</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/1.2/packetbeat/docs/reference/configuration/packetbeat-options.asciidoc">edit</a></div>
</div></div></div>
<p>The name used to identify the process at run time. When Packetbeat starts, and then
periodically afterwards, it scans the process table for
processes that match the values specified for this option. The match is done against the
process' command line as read from <code class="literal">/proc/&lt;pid&gt;/cmdline</code>.</p>
</div>

</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="configuration-protocols.html">« Protocols</a>
</span>
<span class="next">
<a href="elasticsearch-output.html">Elasticsearch Output »</a>
</span>
</div>
</body>
</html>
