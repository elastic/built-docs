<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Capture Redis traffic | Packetbeat Reference [7.12] | Elastic</title>
<link rel="home" href="index.html" title="Packetbeat Reference [7.12]"/>
<link rel="up" href="configuration-protocols.html" title="Configure which transaction protocols to monitor"/>
<link rel="prev" href="configuration-tls.html" title="Capture TLS traffic"/>
<link rel="next" href="configuration-processes.html" title="Configure which processes to monitor"/>
<meta name="DC.type" content="Learn/Docs/Packetbeat/Reference/7.12"/>
<meta name="DC.subject" content="Packetbeat"/>
<meta name="DC.identifier" content="7.12"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Packetbeat Reference [7.12]</a></span>
»
<span class="breadcrumb-link"><a href="configuring-howto-packetbeat.html">Configure Packetbeat</a></span>
»
<span class="breadcrumb-link"><a href="configuration-protocols.html">Configure which transaction protocols to monitor</a></span>
»
<span class="breadcrumb-node">Capture Redis traffic</span>
</div>
<div class="navheader">
<span class="prev">
<a href="configuration-tls.html">« Capture TLS traffic</a>
</span>
<span class="next">
<a href="configuration-processes.html">Configure which processes to monitor »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="packetbeat-redis-options"></a>Capture Redis traffic<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.12/packetbeat/docs/packetbeat-options.asciidoc">edit</a></h2>
</div></div></div>

<p>The Redis protocol has several specific configuration options. Here is a
sample configuration for the <code class="literal">redis</code> section of the <code class="literal">packetbeat.yml</code> config file:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">packetbeat.protocols:
- type: redis
  ports: [6379]
  queue_max_bytes: 1048576
  queue_max_messages: 20000</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_configuration_options_13"></a>Configuration options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.12/packetbeat/docs/packetbeat-options.asciidoc">edit</a></h3>
</div></div></div>
<p>Also see <a class="xref" href="common-protocol-options.html" title="Common protocol options">Common protocol options</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_queue_max_bytes_and_queue_max_messages"></a><code class="literal">queue_max_bytes</code> and <code class="literal">queue_max_messages</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.12/packetbeat/docs/packetbeat-options.asciidoc">edit</a></h4>
</div></div></div>
<p>In order for request/response correlation to work, Packetbeat needs to
store requests in memory until a response is received. These settings impose
a limit on the number of bytes (<code class="literal">queue_max_bytes</code>) and number of requests
(<code class="literal">queue_max_messages</code>) that can be stored. These limits are per-connection.
The default is to queue up to 1MB or 20.000 requests per connection, which
allows to use request pipelining while at the same time limiting the amount
of memory consumed by replication sessions.</p>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="configuration-tls.html">« Capture TLS traffic</a>
</span>
<span class="next">
<a href="configuration-processes.html">Configure which processes to monitor »</a>
</span>
</div>
</div>
</body>
</html>
