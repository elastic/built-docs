<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Capture Redis traffic | Packetbeat Reference [7.4] | Elastic</title>
<meta class="elastic" name="content" content="Capture Redis traffic | Packetbeat Reference [7.4]">

<link rel="home" href="index.html" title="Packetbeat Reference [7.4]"/>
<link rel="up" href="configuration-protocols.html" title="Specify which transaction protocols to monitor"/>
<link rel="prev" href="configuration-tls.html" title="Capture TLS traffic"/>
<link rel="next" href="configuration-processes.html" title="Specify which processes to monitor"/>
<meta class="elastic" name="product_version" content="7.4"/>
<meta class="elastic" name="product_name" content="Packetbeat"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Packetbeat/Reference/7.4"/>
<meta name="DC.subject" content="Packetbeat"/>
<meta name="DC.identifier" content="7.4"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="configuration-tls.html">« Capture TLS traffic</a>
</span>
<span class="next">
<a href="configuration-processes.html">Specify which processes to monitor »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Packetbeat Reference [7.4]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuring-howto-packetbeat.html">Configuring Packetbeat</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration-protocols.html">Specify which transaction protocols to monitor</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Capture Redis traffic</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.4/packetbeat/docs/packetbeat-options.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/reference/beats/packetbeat/packetbeat-redis-options">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="packetbeat-redis-options"></a>Capture Redis traffic</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.4/packetbeat/docs/packetbeat-options.asciidoc">edit</a></div>
</div></div></div>

<p>The Redis protocol has several specific configuration options. Here is a
sample configuration for the <code class="literal">redis</code> section of the <code class="literal">packetbeat.yml</code> config file:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">packetbeat.protocols:
- type: redis
  ports: [6379]
  queue_max_bytes: 1048576
  queue_max_messages: 20000</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_configuration_options_13"></a>Configuration options</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.4/packetbeat/docs/packetbeat-options.asciidoc">edit</a></div>
</div></div></div>
<p>Also see <a class="xref" href="common-protocol-options.html" title="Common protocol options">Common protocol options</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="_queue_max_bytes_and_queue_max_messages"></a><code class="literal">queue_max_bytes</code> and <code class="literal">queue_max_messages</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.4/packetbeat/docs/packetbeat-options.asciidoc">edit</a></div>
</div></div></div>
<p>In order for request/response correlation to work, Packetbeat needs to
store requests in memory until a response is received. These settings impose
a limit on the number of bytes (<code class="literal">queue_max_bytes</code>) and number of requests
(<code class="literal">queue_max_messages</code>) that can be stored. These limits are per-connection.
The default is to queue up to 1MB or 20.000 requests per connection, which
allows to use request pipelining while at the same time limiting the amount
of memory consumed by replication sessions.</p>
</div>

</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="configuration-tls.html">« Capture TLS traffic</a>
</span>
<span class="next">
<a href="configuration-processes.html">Specify which processes to monitor »</a>
</span>
</div>
</body>
</html>
