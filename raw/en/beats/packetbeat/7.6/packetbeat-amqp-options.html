<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Capture AMQP traffic | Packetbeat Reference [7.6] | Elastic</title>
<link rel="home" href="index.html" title="Packetbeat Reference [7.6]"/>
<link rel="up" href="configuration-protocols.html" title="Configure which transaction protocols to monitor"/>
<link rel="prev" href="packetbeat-http-options.html" title="Capture HTTP traffic"/>
<link rel="next" href="configuration-cassandra.html" title="Capture Cassandra traffic"/>
<meta name="DC.type" content="Learn/Docs/Packetbeat/Reference/7.6"/>
<meta name="DC.subject" content="Packetbeat"/>
<meta name="DC.identifier" content="7.6"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Packetbeat Reference [7.6]</a></span>
»
<span class="breadcrumb-link"><a href="configuring-howto-packetbeat.html">Configure Packetbeat</a></span>
»
<span class="breadcrumb-link"><a href="configuration-protocols.html">Configure which transaction protocols to monitor</a></span>
»
<span class="breadcrumb-node">Capture AMQP traffic</span>
</div>
<div class="navheader">
<span class="prev">
<a href="packetbeat-http-options.html">« Capture HTTP traffic</a>
</span>
<span class="next">
<a href="configuration-cassandra.html">Capture Cassandra traffic »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="packetbeat-amqp-options"></a>Capture AMQP traffic<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.6/packetbeat/docs/packetbeat-options.asciidoc">edit</a></h2>
</div></div></div>

<p>The <code class="literal">amqp</code> section of the <code class="literal">packetbeat.yml</code> config file specifies configuration options for the AMQP 0.9.1
protocol. Here is a sample configuration:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">packetbeat.protocols:
- type: amqp
  ports: [5672]
  max_body_length: 1000
  parse_headers: true
  parse_arguments: false
  hide_connection_information: true</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_configuration_options_5"></a>Configuration options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.6/packetbeat/docs/packetbeat-options.asciidoc">edit</a></h3>
</div></div></div>
<p>Also see <a class="xref" href="common-protocol-options.html" title="Common protocol options">Common protocol options</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_max_body_length"></a><code class="literal">max_body_length</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.6/packetbeat/docs/packetbeat-options.asciidoc">edit</a></h4>
</div></div></div>
<p>The maximum size in bytes of the message displayed in the request or response fields.
Messages that are bigger than the specified size are truncated. Use this option to
avoid publishing huge messages when <a class="xref" href="common-protocol-options.html#send-request-option" title="send_request"><code class="literal">send_request</code></a> or <a class="xref" href="common-protocol-options.html#send-request-option" title="send_request"><code class="literal">send_request</code></a>
is enabled. The default is 1000 bytes.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_parse_headers"></a><code class="literal">parse_headers</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.6/packetbeat/docs/packetbeat-options.asciidoc">edit</a></h4>
</div></div></div>
<p>If set to true, Packetbeat parses the additional arguments specified in the headers field
of a message. Those arguments are key-value pairs that specify information such as the
content type of the message or the message priority. The default is true.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_parse_arguments"></a><code class="literal">parse_arguments</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.6/packetbeat/docs/packetbeat-options.asciidoc">edit</a></h4>
</div></div></div>
<p>If set to true, Packetbeat parses the additional arguments specified in AMQP methods.
Those arguments are key-value pairs specified by the user and can be of any length.
The default is true.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_hide_connection_information"></a><code class="literal">hide_connection_information</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/beats/edit/7.6/packetbeat/docs/packetbeat-options.asciidoc">edit</a></h4>
</div></div></div>
<p>If set to false, the connection layer methods of the protocol are also
displayed, such as the opening and closing of connections and channels by clients,
or the quality of service negotiation. The default is true.</p>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="packetbeat-http-options.html">« Capture HTTP traffic</a>
</span>
<span class="next">
<a href="configuration-cassandra.html">Capture Cassandra traffic »</a>
</span>
</div>
</div>
</body>
</html>
