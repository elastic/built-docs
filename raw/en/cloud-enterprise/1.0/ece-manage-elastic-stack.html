<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Manage Elastic Stack Versions | Elastic Cloud Enterprise Reference [1.0] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [1.0]"/>
<link rel="up" href="ece-administering-ece.html" title="Administering Your Installation"/>
<link rel="prev" href="ece-delete-runner.html" title="Delete Runners"/>
<link rel="next" href="ece-upgrade.html" title="Upgrade Your Installation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/1.0"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="1.0"/>
</head>
<body><div class="page_header">
<p>
  <strong>It is time to say goodbye</strong>: This version of Elastic Cloud Enterprise 
  has reached <a href="https://www.elastic.co/support/eol">end-of-life (EOL)</a>
  and is no longer supported. 
</p>  
<p>
  The documentation for this version is no longer being maintained. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [1.0]</a></span>
»
<span class="breadcrumb-link"><a href="ece-administering-ece.html">Administering Your Installation</a></span>
»
<span class="breadcrumb-node">Manage Elastic Stack Versions</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-delete-runner.html">« Delete Runners</a>
</span>
<span class="next">
<a href="ece-upgrade.html">Upgrade Your Installation »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-manage-elastic-stack"></a>Manage Elastic Stack Versions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.0/docs/cloud-enterprise/ce-managing-elastic-stack.asciidoc">edit</a></h2>
</div></div></div>
<p>Elastic Cloud Enterprise ships with a number of different versions of the Elastic Stack containing Elasticsearch and Kibana. Periodically, you might need to manage Elastic Stack versions for one of the following reasons:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To add new versions of the Elastic Stack as they become available
</li>
<li class="listitem">
To obtain information about existing Elastic Stack versions
</li>
<li class="listitem">
To update existing versions of the Elastic Stack
</li>
<li class="listitem">
To add the Elastic Stack versions that shipped with a version of ECE that you upgraded to
</li>
</ul>
</div>
<p>New or updated versions of the Elastic Stack must be prepared to work with Elastic Cloud Enterprise and are provided as packs that you can download.</p>
<p><a id="ece-elastic-stack-stackpacks"></a>The following packs containing Elastic Stack versions are available:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Elastic Stack pack</th>
<th align="left" valign="top">Contains</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.16.zip" class="ulink" target="_top">5.6.16</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.16</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.15.zip" class="ulink" target="_top">5.6.15</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.15</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.14.zip" class="ulink" target="_top">5.6.14</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.14</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.13.zip" class="ulink" target="_top">5.6.13</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.13</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.12.zip" class="ulink" target="_top">5.6.12</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.12</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.11.zip" class="ulink" target="_top">5.6.11</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.11</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.10.zip" class="ulink" target="_top">5.6.10</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.10</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.9.zip" class="ulink" target="_top">5.6.9</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.9</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.8.zip" class="ulink" target="_top">5.6.8</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.8</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.7.zip" class="ulink" target="_top">5.6.7</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.7</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.6.zip" class="ulink" target="_top">5.6.6</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.6</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.5.zip" class="ulink" target="_top">5.6.5</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.5</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.4.zip" class="ulink" target="_top">5.6.4</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.4</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.3.zip" class="ulink" target="_top">5.6.3</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.3</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.2.zip" class="ulink" target="_top">5.6.2</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.2</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.6.1.zip" class="ulink" target="_top">5.6.1</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.6.1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.5.3.zip" class="ulink" target="_top">5.5.3</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.5.3</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.5.2.zip" class="ulink" target="_top">5.5.2</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.5.2</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.5.1.zip" class="ulink" target="_top">5.5.1</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.5.1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.5.0.zip" class="ulink" target="_top">5.5.0</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.5.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.4.3.zip" class="ulink" target="_top">5.4.3</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.4.3</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.4.2.zip" class="ulink" target="_top">5.4.2</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.4.2</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.4.1.zip" class="ulink" target="_top">5.4.1</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.4.1</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/5.4.0.zip" class="ulink" target="_top">5.4.0</a></p></td>
<td align="left" valign="top"><p>Elasticsearch and Kibana version 5.4.0</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/2.4.6.zip" class="ulink" target="_top">2.4.6</a></p></td>
<td align="left" valign="top"><p>Elasticsearch version 2.4.6 and Kibana version 4.6.5</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a href="https://download.elastic.co/cloud-enterprise/versions/2.4.5.zip" class="ulink" target="_top">2.4.5</a></p></td>
<td align="left" valign="top"><p>Elasticsearch version 2.4.5 and Kibana version 4.6.4</p></td>
</tr>
</tbody>
</table>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>For <em>offline</em> or <em>air-gapped</em> installations, additional steps are required to add Elastic Stack packs, as these packs do not contain any Docker images. After downloading an Elastic Stack pack, you also need to pull and load the required Docker images. The <code class="literal">stack.json</code> file in each pack can tell you which Docker images you need. To learn more about pulling and loading Docker images, see <a class="xref" href="ece-installing-offline.html" title="Install ECE (Without Internet Access)">Install ECE (Without Internet Access)</a>.</p>
</div>
</div>
<p><span class="strong strong"><strong>Before you begin</strong></span></p>
<p>The examples shown all use HTTPS over port 12443, which requires that you have <a class="xref" href="ece-manage-certificates.html" title="Manage Security Certificates">a TLS certificate configured</a>. Alternatively, you can specify the <code class="literal">-k</code> option to turn off certificate verification or use HTTP over port 12400.</p>
<h3><a id="_get_elastic_stack_information"></a>Get Elastic Stack Information<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.0/docs/cloud-enterprise/ce-managing-elastic-stack.asciidoc">edit</a></h3>
<p>You can obtain information about existing Elastic Stack versions that are available in your installation through the Cloud UI or through the command line.</p>
<p>To obtain information about available Elastic Stack versions through the Cloud UI:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a class="xref" href="ece-provisioning.html#ece-login" title="Log into the Cloud UI">Log into the Cloud UI</a>.
</li>
<li class="listitem">
<p>Go to <span class="strong strong"><strong>Platform</strong></span>, select a Elastic Cloud Enterprise installation and click <span class="strong strong"><strong>Elastic Stack</strong></span>.</p>
<p>The available Elastic Stack versions are shown. More detailed information about Docker images, plugins, and related Kibana versions are also available for each Elasticsearch version.</p>
</li>
</ol>
</div>
<p>To obtain information about available Elastic Stack versions through the command line:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -X GET -u USER:PASSWORD https://COORDINATOR_HOST:12443/api/v1/stack/versions</pre>
</div>
<p>For example (output abridged for brevity):</p>
<pre class="literallayout">curl -X GET -u root:4Z52y8Gq7PrxMDy47ipJPSh4ozBMynOGa9HWxcy2D3j https://10.56.12.153:12443/api/v1/stack/versions
{
  "stacks": [
    {
      "version": "2.4.5",
      "template": {
        "template_version": "",
        "hashes": []
      },
      "elasticsearch": {
        "docker_image": "docker.elastic.co/cloud-enterprise/elasticsearch:2.4.5-0",
        "plugins": [
          "graph",
          "analysis-icu",
          "analysis-kuromoji",
          "analysis-smartcn",
          "analysis-stempel",
          "analysis-phonetic",
          "watcher",
          "mapper-attachments",
          "delete-by-query"
        ],
        "default_plugins": [
          "found-elasticsearch",
          "cloud-aws",
          "found-license-plugin",
          "shield",
          "marvel-agent"
        ...
        ]
      }
    },
    {
      "version": "5.2.2",
      "template": {
        "template_version": "",
        "hashes": []
      },
      "elasticsearch": {
        "docker_image": "docker.elastic.co/cloud-enterprise/elasticsearch:5.2.2-0",
        "plugins": [
          "analysis-icu",
          "analysis-kuromoji",
          "analysis-smartcn",
          "analysis-stempel",
          "analysis-phonetic",
          "mapper-attachments",
          "ingest-attachment",
          "ingest-geoip",
          "ingest-user-agent"
        ],
        "default_plugins": [
          "repository-s3",
          "found-elasticsearch",
          "x-pack"
        ...
        ]
      }
    }
  ]
}</pre>

<p>You can also query for a specific version with a URI such as <code class="literal">https://COORDINATOR_HOST:12443/api/v1/stack/versions/5.3.2</code>, for example.</p>
<h3><a id="ece-manage-elastic-stack-add"></a>Add Elastic Stack Packs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.0/docs/cloud-enterprise/ce-managing-elastic-stack.asciidoc">edit</a></h3>
<p>You can add new Elastic Stack packs to your installation
through the Elastic Cloud Enterprise installation script or through the RESTful API.</p>
<p>To add a new Elastic Stack pack through the Elastic Cloud Enterprise installation script from the command line:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Log into a host running Elastic Cloud Enterprise.
</li>
<li class="listitem">
<p>Add the Elastic Stack pack with the <code class="literal">add-stack-version</code> action:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./elastic-cloud-enterprise.sh add-stack-version \
    --user USER --pass PASSWORD \
    --version X.Y.Z <a id="CO1-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>A supported Elastic Stack version, such as <code class="literal">5.4.0</code></p>
</td>
</tr>
</table>
</div>
<p>For example:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">bash elastic-cloud-enterprise.sh add-stack-version \
    --user admin --pass pGX5DwKzVAAIeCIpTwwAkCuJDu0ASdFP33UmYpfogfF \
    --version 5.4.0</pre>
</div>
</li>
</ol>
</div>
<p>To add a new Elastic Stack pack through the RESTful API from the command line:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Download the pack on an internet-connected host from Elastic and make it available locally.
</li>
<li class="listitem">
<p>Add the Elastic Stack pack with the following API call:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -X POST -u USER:PASSWORD https://COORDINATOR_HOST:12443/api/v1/stack/versions \
    -H 'content-type: application/zip' \
    --data-binary "@PATH/STACK_PACK_FILE" <a id="CO2-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The local path and the new Elastic Stack pack .zip file</p>
</td>
</tr>
</table>
</div>
<p>For example:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -X POST -u admin:pGX5DwKzVAAIeCIpTwwAkCuJDu0ASdFP33UmYpfogfF https://10.56.12.153:12443/api/v1/stack/versions \
    -H 'content-type: application/zip' \
    --data-binary "@/Users/iuriitceretian/Documents/stacks/5.4.0.zip"</pre>
</div>
</li>
</ol>
</div>
<h3><a id="_update_elastic_stack_packs"></a>Update Elastic Stack Packs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.0/docs/cloud-enterprise/ce-managing-elastic-stack.asciidoc">edit</a></h3>
<p>Updating an Elastic Stack pack might become necessary if an Elastic Stack version has been updated with security fixes, for example. You can update an existing Elastic Stack version
through the command line.</p>
<p>Updated versions of Elasticsearch and Kibana are used when you create new clusters, but they are not automatically applied to already running clusters. To update existing Elasticsearch clusters and Kibana after an updated Elastic Stack pack has been added, you need to <a class="xref" href="ece-change-cluster.html" title="Change Your Cluster Configuration">change the cluster configuration</a>.</p>
<p>To update Elastic Stack packs through the RESTful API from the command line:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Download an updated pack on an internet-connected host from Elastic and make it available locally.
</li>
<li class="listitem">
<p>Update the Elastic Stack pack with the following API call:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">  curl -X PUT -u USER:PASSWORD https://COORDINATOR_HOST:12443/api/v1/stack/versions \
  -H 'content-type: application/zip' \
  --data-binary "@PATH/STACK_PACK_FILE" <a id="CO3-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The local path and the updated Elastic Stack pack .zip file</p>
</td>
</tr>
</table>
</div>
<p>For example:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl -X PUT -u admin:pGX5DwKzVAAIeCIpTwAAkCuJDu0ASdFP33UmYpfogfF https://10.58.12.153:12443/api/v1/stack/versions \
  -H 'content-type: application/octet-stream' \
  --data-binary "@/Users/johnsmith/Documents/stacks/5.4.0.zip"</pre>
</div>
</li>
</ol>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-delete-runner.html">« Delete Runners</a>
</span>
<span class="next">
<a href="ece-upgrade.html">Upgrade Your Installation »</a>
</span>
</div>
</div>
</body>
</html>
