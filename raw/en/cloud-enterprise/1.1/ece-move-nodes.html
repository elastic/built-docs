<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Move Nodes From Allocators | Elastic Cloud Enterprise Reference [1.1] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [1.1]"/>
<link rel="up" href="ece-administering-ece.html" title="Administering Your Installation"/>
<link rel="prev" href="ece-maintenance-mode.html" title="Enable Maintenance Mode"/>
<link rel="next" href="ece-delete-runner.html" title="Delete Runners"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/1.1"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="1.1"/>
</head>
<body><div class="page_header">
<p>
  <strong>It is time to say goodbye</strong>: This version of Elastic Cloud Enterprise 
  has reached <a href="https://www.elastic.co/support/eol">end-of-life (EOL)</a>
  and is no longer supported. 
</p>  
<p>
  The documentation for this version is no longer being maintained. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [1.1]</a></span>
»
<span class="breadcrumb-link"><a href="ece-administering-ece.html">Administering Your Installation</a></span>
»
<span class="breadcrumb-node">Move Nodes From Allocators</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-maintenance-mode.html">« Enable Maintenance Mode</a>
</span>
<span class="next">
<a href="ece-delete-runner.html">Delete Runners »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-move-nodes"></a>Move Nodes From Allocators<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.1/docs/cloud-enterprise/ce-administering-ece.asciidoc">edit</a></h2>
</div></div></div>
<p>You might need to move nodes between allocators from time to time for a number of reasons:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To prepare for removing the allocator role from the first host on which you installed Elastic Cloud Enterprise, as part of setting up your deployment.
</li>
<li class="listitem">
To avoid downtime during maintenance: You can create a new allocator, move all nodes from an existing allocator to the new one, and then deal with the allocator that needs maintenance.
</li>
<li class="listitem">
To make room on an allocator: You can move some smaller nodes to another allocator if you need additional room for a larger node on an allocator.
</li>
<li class="listitem">
To move nodes after a failure: When host failures happen, you can move all nodes from the affected allocator to a healthy allocator quickly before spending any time on fixing the failure.
</li>
</ul>
</div>
<p>Note that moving nodes does not actually move the same node onto a different allocator. Under the covers, Elastic Cloud Enterprise creates a new node and then migrates the data for you.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>When you move all nodes from an existing allocator to the new one, ECE migrates the data to new nodes. The migration can take some time, especially when clusters contain large amounts of data and have a heavy workload. Is your cluster under a heavy workload? You might need to <a class="xref" href="ece-maintenance-mode-clusters.html" title="Stop Routing Requests or Pause Nodes">stop routing requests</a> first.</p>
</div>
</div>
<p>To move nodes from one allocator to another one, in this case from a failed allocator:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a class="xref" href="ece-provisioning.html#ece-login" title="Log into the Cloud UI">Log into the Cloud UI</a>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Platform</strong></span> and then select an installation.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Allocators</strong></span> to see a list of all allocators that are part of this installation and look for allocators that are unhealthy.
</li>
<li class="listitem">
Recommended: <a class="xref" href="ece-maintenance-mode.html" title="Enable Maintenance Mode">Put the allocator into maintenance mode</a> before continuing.
</li>
<li class="listitem">
Click the name of an unhealthy allocator and then click <span class="strong strong"><strong>Vacate Allocator</strong></span>.
</li>
<li class="listitem">
<p>Let the user interface guide you through the steps and the options available to move the nodes. You can move only one type of node at a time.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you did not enable maintenance mode, set a target allocator under the advanced options when moving nodes to make sure the nodes do not end up on the same allocator again. By default, moving a node moves it to any allocator that has enough capacity.</p>
</div>
</div>
</li>
<li class="listitem">
Repeat <span class="strong strong"><strong>step 5</strong></span> for each of the node types until no nodes remain on the allocator.
</li>
</ol>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-maintenance-mode.html">« Enable Maintenance Mode</a>
</span>
<span class="next">
<a href="ece-delete-runner.html">Delete Runners »</a>
</span>
</div>
</div>
</body>
</html>
