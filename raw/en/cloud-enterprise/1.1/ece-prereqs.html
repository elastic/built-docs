<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Prerequisites | Elastic Cloud Enterprise Reference [1.1] | Elastic</title>
<meta class="elastic" name="content" content="Prerequisites | Elastic Cloud Enterprise Reference [1.1]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [1.1]"/>
<link rel="up" href="ece-getting-started.html" title="Getting Started"/>
<link rel="prev" href="ece-planning.html" title="Plan Your Deployment"/>
<link rel="next" href="ece-limitations.html" title="Limitations and Known Problems"/>
<meta class="elastic" name="product_version" content="1.1"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/1.1"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="1.1"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<p>
  <strong>It is time to say goodbye</strong>: This version of Elastic Cloud Enterprise 
  has reached <a href="https://www.elastic.co/support/eol">end-of-life (EOL)</a>
  and is no longer supported. 
</p>  
<p>
  The documentation for this version is no longer being maintained. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [1.1]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-getting-started.html">Getting Started</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-planning.html">« Plan Your Deployment</a>
</span>
<span class="next">
<a href="ece-limitations.html">Limitations and Known Problems »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-prereqs"></a>Prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.1/docs/cloud-enterprise/ce-prerequisites.asciidoc">edit</a></h2>
</div></div></div>
<p>We want your experience with Elastic Cloud Enterprise to be a success, so we compiled a list of tried-and-tested prerequisites that will help get your installation off to a good start. To make it easier to look through these prerequisites, we separated them into sections for <a class="xref" href="ece-prereqs.html#ece-prereqs-hardware" title="Hardware">hardware</a>, <a class="xref" href="ece-prereqs.html#ece-prereqs-software" title="Software">software</a>, <a class="xref" href="ece-prereqs.html#ece-prereqs-users" title="Users">users</a>, <a class="xref" href="ece-prereqs.html#ece-prereqs-networking" title="Networking">networking</a>, and <a class="xref" href="ece-prereqs.html#ece-heap" title="JVM Heap Sizes">JVM Heap Sizes</a>.</p>
<h3><a id="ece-prereqs-hardware"></a>Hardware<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.1/docs/cloud-enterprise/ce-prerequisites.asciidoc">edit</a></h3>
<p>ECE has specific hardware requirements for memory and storage. We have compiled information for the minimums required to install ECE, recommended minimums, and specific deployment scenarios.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
<col class="col_5"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top"><span class="strong strong"><strong>Memory</strong></span></th>
<th align="left" valign="top">Coordinators</th>
<th align="left" valign="top">Directors</th>
<th align="left" valign="top">Proxies</th>
<th align="left" valign="top">
Allocators
</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Minimum to install</p></td>
<td align="left" valign="top"><p>8 GB RAM</p></td>
<td align="left" valign="top"><p>8 GB RAM</p></td>
<td align="left" valign="top"><p>8 GB RAM</p></td>
<td align="left" valign="top">
<p>8 GB RAM</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Minimum recommended</p></td>
<td align="left" valign="top"><p>16 GB RAM</p></td>
<td align="left" valign="top"><p>8 GB RAM</p></td>
<td align="left" valign="top"><p>8 GB RAM</p></td>
<td align="left" valign="top">
<p>128 GB to 256 GB RAM<sup>1</sup></p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong><a class="xref" href="ece-topology-example1.html" title="Example: A Small Baseline Installation">Small deployment</a></strong></span><sup>2</sup></p></td>
<td align="left" valign="top"><p>128 GB RAM</p></td>
<td align="left" valign="top"><p>128 GB RAM</p></td>
<td align="left" valign="top"><p>128 GB RAM</p></td>
<td align="left" valign="top">
<p>128 GB RAM</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong><a class="xref" href="ece-topology-example2.html" title="Example: A Medium Installation with Separate Management Services">Medium deployment</a></strong></span><sup>2</sup></p></td>
<td align="left" valign="top"><p>32 GB RAM</p></td>
<td align="left" valign="top"><p>32 GB RAM</p></td>
<td align="left" valign="top"><p>32 GB RAM</p></td>
<td align="left" valign="top">
<p>256 GB RAM</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong><a class="xref" href="ece-topology-example3.html" title="Example: A Large Installation with Separate Management Services and Proxies">Large deployment</a></strong></span><sup>3</sup></p></td>
<td align="left" valign="top"><p>32 GB RAM</p></td>
<td align="left" valign="top"><p>32 GB RAM</p></td>
<td align="left" valign="top"><p>16 GB RAM</p></td>
<td align="left" valign="top">
<p>256 GB RAM</p>
</td>
</tr>
</tbody>
</table>
</div>
<p><sup>1</sup> Allocators must be sized to support your Elasticsearch clusters and Kibana instances. We recommend host machines that provide between 128 GB and 256 GB of memory. Smaller hosts might not pack larger Elasticsearch clusters and Kibana instances as efficiently. Larger hosts might provide fewer CPU resources per GB of RAM on average.</p>
<p><sup>2</sup> For high availability, requires three hosts each of the capacities indicated, spread across three availability zones.</p>
<p><sup>3</sup> For high availability, requires three hosts each of the capacities indicated (except for allocators), spread across three availability zones. For allocators, requires three or more hosts of the capacity indicated, spread across three availability zones.</p>
<p>There are some additional hardware requirements to make sure that Elastic Cloud Enterprise can work as intended, such as the requirement to use fast SSD storage for ECE management services. To learn more, see <a class="xref" href="ece-planning.html#ece-planning-hw" title="Choose the Right Host Machines">Choose the Right Host Machines</a>.</p>
<p>The size of your ECE deployment has a bearing on the JVM heap sizes that you should specify during installation. To learn more, see <a class="xref" href="ece-prereqs.html#ece-heap" title="JVM Heap Sizes">JVM Heap Sizes</a>. For examples, see the deployment scenarios in our <a class="xref" href="ece-playbook.html" title="Playbook for Production">Playbook for Production</a>.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
<col class="col_5"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top"><span class="strong strong"><strong>Storage</strong></span></th>
<th align="left" valign="top">Coordinators</th>
<th align="left" valign="top">Directors</th>
<th align="left" valign="top">Proxies</th>
<th align="left" valign="top">Allocators</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Minimum to install</p></td>
<td align="left" valign="top"><p>10 GB</p></td>
<td align="left" valign="top"><p>10 GB</p></td>
<td align="left" valign="top"><p>10 GB</p></td>
<td align="left" valign="top"><p>10 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Minimum recommended</p></td>
<td align="left" valign="top"><p>-</p></td>
<td align="left" valign="top"><p>-</p></td>
<td align="left" valign="top"><p>-</p></td>
<td align="left" valign="top"><p>Enough storage to support the RAM-to-storage ratio<sup>1</sup></p></td>
</tr>
</tbody>
</table>
</div>
<p><sup>1</sup> For example, if you use a host with 256 GB of RAM and the default ratio of 1:32, your host must provide 8192 GB of disk space.</p>
<h3><a id="ece-prereqs-software"></a>Software<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.1/docs/cloud-enterprise/ce-prerequisites.asciidoc">edit</a></h3>
<p>The following software has been tested to work with ECE:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>One of the following Linux distributions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ubuntu 14.04 LTS (Trusty Tahr; <a class="xref" href="ece-configure-hosts-trusty.html" title="Ubuntu 14.04 LTS (Trusty Tahr)">instructions</a>)
</li>
<li class="listitem">
Ubuntu 16.04 LTS (Xenial Xerus; <a class="xref" href="ece-configure-hosts-xenial.html" title="Ubuntu 16.04 LTS (Xenial Xerus)">instructions</a>)
</li>
<li class="listitem">
Red Hat Enterprise Linux 7 or later (RHEL 7; <a class="xref" href="ece-configure-hosts-rhel-centos.html" title="Red Hat Enterprise Linux (RHEL) 7 and CentOS 7">instructions</a>, <a class="xref" href="ece-limitations.html" title="Limitations and Known Problems">limitations</a>)
</li>
<li class="listitem">
<p>CentOS 7 or later (<a class="xref" href="ece-configure-hosts-rhel-centos.html" title="Red Hat Enterprise Linux (RHEL) 7 and CentOS 7">instructions</a>, <a class="xref" href="ece-limitations.html" title="Limitations and Known Problems">limitations</a>)</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Amazon Linux is not currently supported. If you attempt to install ECE on Amazon Linux, installation will likely fail with an error.</p>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="listitem">
Linux kernel 3.10 or higher
</li>
<li class="listitem">
Docker 1.11
</li>
<li class="listitem">
<p>File system:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
We recommend that you use XFS, but any file system that supports the OverlayFS storage driver used by Docker can be used.
</li>
<li class="listitem">
XFS is required if you want to use disk space quotas for Elasticsearch data directories.
</li>
<li class="listitem">
On RHEL and CentOS, XFS file systems must be created with the <code class="literal">-n ftype=1</code> option to make sure they can work with the OverlayFS storage driver used by Docker.
</li>
</ul>
</div>
</li>
<li class="listitem">
If SELinux is enabled: Your SELinux configuration must allow mounting Docker sockets into containers (required for cluster management to work)
</li>
</ul>
</div>
<p>ECE is certified for Linux kernel 3.10 or higher and Docker 1.11. The latter is the only version of Docker Elastic recommends.</p>
<p>If you intend to use Docker 1.12 or higher, please note:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You should avoid Linux kernel version 4.4 or lower, as there is a known issue with kernel memory (kmem) accounting.
</li>
<li class="listitem">
While ECE may work with these Docker and kernel versions, it has not been thoroughly tested with them and might have issues. Elastic will attempt to support ECE running Docker version 1.12 or higher and kernel version 4.5 or higher, but we might not be able to resolve issues related to these configurations. In such cases, you will be asked to move to a certified kernel and Docker version, so that Elastic can support you.
</li>
</ul>
</div>
<h3><a id="ece-prereqs-users"></a>Users<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.1/docs/cloud-enterprise/ce-prerequisites.asciidoc">edit</a></h3>
<p>The following users and permissions are required:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To prepare your environment: A user with sudo permissions, such as the <code class="literal">elastic</code> user included with our AWS AMIs or the <em>ubuntu</em> user provided on Ubuntu.
</li>
<li class="listitem">
To install ECE: A user with a UID and GID greater than or equal to 1000 who is part of the <code class="literal">docker</code> group. You must not install ECE as the <code class="literal">root</code> user.
</li>
</ul>
</div>
<p>You can find out information about a user with the <code class="literal">id</code> command:</p>
<pre class="literallayout">id
uid=1000(elastic) gid=1000(elastic) groups=1000(elastic),4(adm),20(dialout),24(cdrom),25(floppy),27(sudo),29(audio),30(dip),44(video),46(plugdev),102(netdev),112(libvirtd),1001(docker)</pre>

<p>In this example, the user <code class="literal">elastic</code> with a UID and GID of 1000 belongs to both the <code class="literal">sudo</code> and the <code class="literal">docker</code> groups.</p>
<h3><a id="ece-prereqs-networking"></a>Networking<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.1/docs/cloud-enterprise/ce-prerequisites.asciidoc">edit</a></h3>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The first host you install ECE on initially requires the ports for all roles to be open, which includes the ports for the coordinator, allocator, director, and proxy roles. After you have brought up your initial ECE installation, only the ports for the roles that the initial host continues to hold need to remain open.</p>
</div>
</div>
<p>The following networking or internet access is required for ECE:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Internet access for a <a class="xref" href="ece-installing.html" title="Install ECE With Internet Access">typical installation</a> (<a class="xref" href="ece-installing-offline.html" title="Install ECE Without Internet Access">offline installation</a> is supported)
</li>
<li class="listitem">
<p>Outbound traffic open on the following ports:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Host role</th>
<th align="center" valign="top">Outbound ports</th>
<th align="left" valign="top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>All</p></td>
<td align="center" valign="top"><p>80</p></td>
<td align="left" valign="top"><p>Installation script and docker.elastic.co Docker registry access (HTTP)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>All</p></td>
<td align="center" valign="top"><p>443</p></td>
<td align="left" valign="top"><p>Installation script and docker.elastic.co Docker registry access (HTTPS)</p></td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="listitem">
<p>Inbound traffic open from any source on the following ports:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Host role</th>
<th align="left" valign="top">Inbound ports</th>
<th align="left" valign="top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>All</p></td>
<td align="left" valign="top"><p>22</p></td>
<td align="left" valign="top"><p>Installation and troubleshooting access only (SSH)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Coordinator</p></td>
<td align="left" valign="top"><p>12400</p></td>
<td align="left" valign="top"><p>Cloud UI and API access to the administration console (HTTP)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Coordinator</p></td>
<td align="left" valign="top"><p>12443</p></td>
<td align="left" valign="top"><p>Cloud UI and API access to the administration console (HTTPS)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Proxy</p></td>
<td align="left" valign="top"><p>9200/9243</p></td>
<td align="left" valign="top"><p>Kibana and Elasticsearch (HTTP/HTTPS), also required by load balancers</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Proxy</p></td>
<td align="left" valign="top"><p>9300/9343</p></td>
<td align="left" valign="top"><p>Elasticsearch (transport client/transport client with TLS/SSL), also required by load balancers</p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Internal components of ECE require inbound traffic open on the following ports:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Host role</th>
<th align="left" valign="top">Inbound ports</th>
<th align="left" valign="top">Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Coordinator</p></td>
<td align="left" valign="top"><p>22191-22195</p></td>
<td align="left" valign="top"><p>Connections to initial coordinator from allocators and proxies (for up to five coordinators)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Director</p></td>
<td align="left" valign="top"><p>12191-12201, 12898-12908, 13898-13908</p></td>
<td align="left" valign="top"><p>ZooKeeper stunnels (up to five are typically used)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Director</p></td>
<td align="left" valign="top"><p>2112</p></td>
<td align="left" valign="top"><p>ZooKeeper ensemble discovery/joining</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Allocator</p></td>
<td align="left" valign="top"><p>18000-20000</p></td>
<td align="left" valign="top"><p>Elasticsearch (HTTP and transport)</p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</div>
<p>A typical ECE installation should be contained within a single data center. We recommend that ECE installations not span different data centers, due to variations in networking latency and bandwidth that cannot be controlled.</p>
<p>Installation of ECE across multiple data centers might be feasible with sufficiently low latency and high bandwidth, with some restrictions around what we can support. Based on our experience with our hosted Elastic Cloud service, the following is required:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A typical network latency between the data centers of less than 10ms round-trip time during pings
</li>
<li class="listitem">
A network bandwidth of at least 10 Gigabit
</li>
</ul>
</div>
<p>If you choose to deploy a single ECE installation across multiple data centers, you might need to contend with additional disruptions due to bandwidth or latency issues. Both ECE and Elasticsearch are designed to be resilient to networking issues, but this resiliency is intended to handle exceptions and should not be depended on as part of normal operations. If Elastic determines during a support case that an issue is related to an installation across multiple data centers, the recommended resolution will be to consolidate your installation into a single data center, with further support limited until consolidation is complete.</p>
<h3><a id="ece-heap"></a>JVM Heap Sizes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.1/docs/cloud-enterprise/ce-prerequisites.asciidoc">edit</a></h3>
<p>ECE uses default JVM heap sizes for services that work for testing. For production systems, we recommend that you install ECE according to the JVM heap size recommendations in this section. Our recommendations are based on our longstanding experience with the Elastic Cloud hosted offering and our growing experience with ECE in customer settings. Other JVM heap sizes can be left at their defaults.</p>
<p>For <a class="xref" href="ece-topology-example1.html" title="Example: A Small Baseline Installation">small deployments</a>, we recommend:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Service</th>
<th align="left" valign="top">JVM Heap Size (Xms and Xmx)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">runner</code></p></td>
<td align="left" valign="top"><p>1 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">allocator</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">proxy</code></p></td>
<td align="left" valign="top"><p>8 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">zookeeper</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">director</code></p></td>
<td align="left" valign="top"><p>1 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">constructor</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">admin-console</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
</tbody>
</table>
</div>
<p>For <a class="xref" href="ece-topology-example2.html" title="Example: A Medium Installation with Separate Management Services">medium deployments</a>, we recommend:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Service</th>
<th align="left" valign="top">JVM Heap Size (Xms and Xmx)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">runner</code></p></td>
<td align="left" valign="top"><p>1 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">allocator</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">proxy</code></p></td>
<td align="left" valign="top"><p>8 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">zookeeper</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">director</code></p></td>
<td align="left" valign="top"><p>1 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">constructor</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">admin-console</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
</tbody>
</table>
</div>
<p>For <a class="xref" href="ece-topology-example3.html" title="Example: A Large Installation with Separate Management Services and Proxies">large deployments</a>, we recommend:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Service</th>
<th align="left" valign="top">JVM Heap Size (Xms and Xmx)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">runner</code></p></td>
<td align="left" valign="top"><p>1 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">allocator</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">proxy</code></p></td>
<td align="left" valign="top"><p>8 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">zookeeper</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">director</code></p></td>
<td align="left" valign="top"><p>1 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">constructor</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">admin-console</code></p></td>
<td align="left" valign="top"><p>4 GB</p></td>
</tr>
</tbody>
</table>
</div>
<p>You specify the recommended JVM heap sizes with <code class="literal">--memory-settings JVM_SETTINGS</code> parameter when you install ECE. For examples, see the deployment scenarios in our <a class="xref" href="ece-playbook.html" title="Playbook for Production">Playbook for Production</a>.</p>
<h4><a id="_elasticsearch_clusters_and_jvm_heap_size"></a>Elasticsearch clusters and JVM Heap Size<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/1.1/docs/cloud-enterprise/ce-prerequisites.asciidoc">edit</a></h4>
<p>For Elasticsearch clusters, ECE gives 50% of the available memory to the JVM heap used by Elasticsearch, while leaving the other 50% for the operating system. This memory won’t go unused, as Lucene is designed to leverage the underlying OS for caching in-memory data structures, meaning that Lucene will happily gobble up whatever is left over. The ideal heap size is somewhere below 32 GB, as heap sizes above 32 GB become less efficient.</p>
<p>What these recommendations mean is that on a 64 GB cluster, we dedicate 32 GB to the Elasticsearch heap and 32 GB to the operating system in the container that hosts your cluster. If you provision a 128 GB cluster, we create two 64 GB nodes, each node with 32 GB reserved for the Elasticsearch heap and 32 GB reserved for the operating system.</p>
<p>For more information about why heap sizes, memory for the operating system, and the 32 GB maximum for JVMs matter, see <a href="/guide/en/elasticsearch/reference/6.4/heap-size.html" class="ulink" target="_top">Heap: Sizing and Swapping</a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-planning.html">« Plan Your Deployment</a>
</span>
<span class="next">
<a href="ece-limitations.html">Limitations and Known Problems »</a>
</span>
</div>
</div>
</body>
</html>
