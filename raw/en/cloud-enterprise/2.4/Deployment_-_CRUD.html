<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Deployment - CRUD | Elastic Cloud Enterprise Reference [2.4] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [2.4]"/>
<link rel="up" href="ece-api-reference.html" title="API reference"/>
<link rel="prev" href="Comments.html" title="Comments"/>
<link rel="next" href="Deployment_-_Commands.html" title="Deployment - Commands"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/2.4"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="2.4"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [2.4]</a></span>
»
<span class="breadcrumb-link"><a href="ece-restful-api.html">RESTful API</a></span>
»
<span class="breadcrumb-link"><a href="ece-api-reference.html">API reference</a></span>
»
<span class="breadcrumb-node">Deployment - CRUD</span>
</div>
<div class="navheader">
<span class="prev">
<a href="Comments.html">« Comments</a>
</span>
<span class="next">
<a href="Deployment_-_Commands.html">Deployment - Commands »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="Deployment_-_CRUD"></a>Deployment - CRUD</h2>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="Deployment_-_CRUD.html#list-deployments" title="List Deployments">List Deployments</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_CRUD.html#create-deployment" title="Create Deployment">Create Deployment</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_CRUD.html#delete-deployment" title="Delete Deployment">Delete Deployment</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_CRUD.html#get-deployment" title="Get Deployment">Get Deployment</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_CRUD.html#update-deployment" title="Update Deployment">Update Deployment</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_CRUD.html#restore-deployment" title="Restores a shutdown Deployment">Restores a shutdown Deployment</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_CRUD.html#shutdown-deployment" title="Shuts down Deployment">Shuts down Deployment</a>
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="list-deployments"></a>List Deployments</h3>
</div></div></div>
<p>List Deployments.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_144"></a>Request</h4>
</div></div></div>
<p><code class="literal">GET /api/v1/deployments</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_responses_144"></a>Responses</h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#DeploymentsListResponse" title="DeploymentsListResponse"><code class="literal">DeploymentsListResponse</code></a>) The list of deployments that belong to the authenticated user</p>
</dd>
<dt>
<span class="term">
<code class="literal">401</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) You are not authorized to perform this action</p>
</dd>
</dl>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>To perform this operation, you must be authenticated by means of one of the following methods: apiKey, basicAuth.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_example_144"></a>Request example</h4>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">curl -XGET {{hostname}}/api/v1/deployments \
-H "Authorization: ApiKey $ECE_API_KEY"</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="create-deployment"></a>Create Deployment</h3>
</div></div></div>
<p>Creates a Deployment.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_145"></a>Request</h4>
</div></div></div>
<p><code class="literal">POST /api/v1/deployments</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_query_parameters_70"></a>Query parameters</h4>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">request_id</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>An optional idempotency token - if two create requests share the same request_id token (min size 32 characters, max 128) then only one deployment will be created, the second request will return the info of that deployment (in the same format described below, but with blanks for auth-related fields)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">validate_only</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>If true, will just validate the Deployment definition but will not perform the creation</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_body_43"></a>Request body</h4>
</div></div></div>
<p>(<a class="xref" href="definitions.html#DeploymentCreateRequest" title="DeploymentCreateRequest"><code class="literal">DeploymentCreateRequest</code></a>) (required) The deployment definition</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_responses_145"></a>Responses</h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">201</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#DeploymentCreateResponse" title="DeploymentCreateResponse"><code class="literal">DeploymentCreateResponse</code></a>) The request was valid and a new deployment was created</p>
</dd>
<dt>
<span class="term">
<code class="literal">202</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#DeploymentCreateResponse" title="DeploymentCreateResponse"><code class="literal">DeploymentCreateResponse</code></a>) The request was valid</p>
</dd>
<dt>
<span class="term">
<code class="literal">400</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The deployment request had errors</p>
</dd>
<dt>
<span class="term">
<code class="literal">401</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) You are not authorized to perform this action</p>
</dd>
</dl>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>To perform this operation, you must be authenticated by means of one of the following methods: apiKey, basicAuth.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_example_145"></a>Request example</h4>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">curl -XPOST {{hostname}}/api/v1/deployments \
-H "Authorization: ApiKey $ECE_API_KEY" \
-H 'Content-Type: application/json' \
-d '
{
   "metadata" : {
      "system_owned" : true
   },
   "name" : "string",
   "resources" : {
      "apm" : [
         {
            "display_name" : "string",
            "elasticsearch_cluster_ref_id" : "string",
            "plan" : {
               "apm" : {
                  "docker_image" : "string",
                  "system_settings" : {
                     "debug_enabled" : true,
                     "elasticsearch_password" : "string",
                     "elasticsearch_url" : "string",
                     "elasticsearch_username" : "string",
                     "kibana_url" : "string",
                     "secret_token" : "string"
                  },
                  "user_settings_json" : {},
                  "user_settings_override_json" : {},
                  "user_settings_override_yaml" : "string",
                  "user_settings_yaml" : "string",
                  "version" : "string"
               },
               "cluster_topology" : [
                  {
                     "apm" : null,
                     "instance_configuration_id" : "string",
                     "size" : {
                        "resource" : "string",
                        "value" : 0
                     },
                     "zone_count" : 0
                  }
               ],
               "transient" : {
                  "plan_configuration" : {
                     "calm_wait_time" : 0,
                     "cluster_reboot" : "string",
                     "extended_maintenance" : true,
                     "move_allocators" : [
                        {
                           "allocator_down" : true,
                           "from" : "string",
                           "to" : [
                              "string"
                           ]
                        }
                     ],
                     "move_instances" : [
                        {
                           "from" : "string",
                           "instance_down" : true,
                           "to" : [
                              "string"
                           ]
                        }
                     ],
                     "preferred_allocators" : [
                        "string"
                     ],
                     "reallocate_instances" : true,
                     "timeout" : 0
                  },
                  "strategy" : {
                     "grow_and_shrink" : {},
                     "rolling" : {
                        "allow_inline_resize" : true,
                        "group_by" : "string",
                        "shard_init_wait_time" : 0,
                        "skip_synced_flush" : true
                     },
                     "rolling_grow_and_shrink" : {}
                  }
               }
            },
            "ref_id" : "string",
            "region" : "string",
            "settings" : {
               "metadata" : {
                  "contact_email" : "string",
                  "hidden" : true,
                  "name" : "string",
                  "owner_id" : "string",
                  "resources" : {
                     "cpu" : {
                        "boost" : true,
                        "hard_limit" : true
                     }
                  },
                  "subscription_level" : "string",
                  "system_owned" : true
               }
            }
         }
      ],
      "appsearch" : [
         {
            "display_name" : "string",
            "elasticsearch_cluster_ref_id" : "string",
            "plan" : {
               "appsearch" : {
                  "docker_image" : "string",
                  "system_settings" : {
                     "elasticsearch_password" : "string",
                     "elasticsearch_url" : "string",
                     "elasticsearch_username" : "string",
                     "secret_session_key" : "string"
                  },
                  "user_settings_json" : {},
                  "user_settings_override_json" : {},
                  "user_settings_override_yaml" : "string",
                  "user_settings_yaml" : "string",
                  "version" : "string"
               },
               "cluster_topology" : [
                  {
                     "appsearch" : null,
                     "instance_configuration_id" : "string",
                     "node_type" : {
                        "appserver" : true,
                        "worker" : true
                     },
                     "size" : null,
                     "zone_count" : 0
                  }
               ],
               "transient" : {
                  "plan_configuration" : {
                     "calm_wait_time" : 0,
                     "cluster_reboot" : "string",
                     "extended_maintenance" : true,
                     "move_allocators" : [
                        null
                     ],
                     "move_instances" : [
                        null
                     ],
                     "preferred_allocators" : [
                        "string"
                     ],
                     "reallocate_instances" : true,
                     "timeout" : 0
                  },
                  "strategy" : null
               }
            },
            "ref_id" : "string",
            "region" : "string",
            "settings" : {
               "metadata" : null
            }
         }
      ],
      "elasticsearch" : [
         {
            "display_name" : "string",
            "plan" : {
               "cluster_topology" : [
                  {
                     "allocator_filter" : {},
                     "elasticsearch" : {
                        "curation" : {
                           "from_instance_configuration_id" : "string",
                           "to_instance_configuration_id" : "string"
                        },
                        "docker_image" : "string",
                        "enabled_built_in_plugins" : [
                           "string"
                        ],
                        "node_attributes" : {
                           "some_property" : "string"
                        },
                        "system_settings" : {
                           "auto_create_index" : true,
                           "default_shards_per_index" : 0,
                           "destructive_requires_name" : true,
                           "enable_close_index" : true,
                           "monitoring_collection_interval" : 0,
                           "monitoring_history_duration" : "string",
                           "reindex_whitelist" : [
                              "string"
                           ],
                           "scripting" : {
                              "expressions_enabled" : true,
                              "file" : {
                                 "enabled" : true,
                                 "sandbox_mode" : true
                              },
                              "inline" : null,
                              "mustache_enabled" : true,
                              "painless_enabled" : true,
                              "stored" : null
                           },
                           "use_disk_threshold" : true,
                           "watcher_trigger_engine" : "string"
                        },
                        "user_bundles" : [
                           {
                              "elasticsearch_version" : "string",
                              "name" : "string",
                              "url" : "string"
                           }
                        ],
                        "user_plugins" : [
                           {
                              "elasticsearch_version" : "string",
                              "name" : "string",
                              "url" : "string"
                           }
                        ],
                        "user_settings_json" : {},
                        "user_settings_override_json" : {},
                        "user_settings_override_yaml" : "string",
                        "user_settings_yaml" : "string",
                        "version" : "string"
                     },
                     "instance_configuration_id" : "string",
                     "memory_per_node" : 0,
                     "node_configuration" : "string",
                     "node_count_per_zone" : 0,
                     "node_type" : {
                        "data" : true,
                        "ingest" : true,
                        "master" : true,
                        "ml" : true
                     },
                     "size" : null,
                     "zone_count" : 0
                  }
               ],
               "deployment_template" : {
                  "id" : "string",
                  "version" : "string"
               },
               "elasticsearch" : null,
               "tiebreaker_override" : true,
               "tiebreaker_topology" : {
                  "memory_per_node" : 0
               },
               "transient" : {
                  "cluster_settings_json" : {},
                  "plan_configuration" : {
                     "calm_wait_time" : 0,
                     "cluster_reboot" : "string",
                     "extended_maintenance" : true,
                     "max_snapshot_age" : 0,
                     "max_snapshot_attempts" : 0,
                     "move_allocators" : [
                        null
                     ],
                     "move_instances" : [
                        null
                     ],
                     "move_only" : true,
                     "override_failsafe" : true,
                     "preferred_allocators" : [
                        "string"
                     ],
                     "reallocate_instances" : true,
                     "skip_data_migration" : true,
                     "skip_post_upgrade_steps" : true,
                     "skip_snapshot" : true,
                     "skip_snapshot_post_major_upgrade" : true,
                     "skip_upgrade_checker" : true,
                     "timeout" : 0
                  },
                  "restore_snapshot" : {
                     "repository_config" : {
                        "raw_settings" : {}
                     },
                     "repository_name" : "string",
                     "restore_payload" : {
                        "indices" : [
                           "string"
                        ],
                        "raw_settings" : {}
                     },
                     "snapshot_name" : "string",
                     "source_cluster_id" : "string",
                     "strategy" : "string"
                  },
                  "strategy" : null
               },
               "zone_count" : 0
            },
            "ref_id" : "string",
            "region" : "string",
            "settings" : {
               "ccs" : {
                  "remote_clusters" : {
                     "some_property" : {
                        "cluster_id" : "string",
                        "skip_unavailable" : true
                     }
                  }
               },
               "curation" : {
                  "specs" : [
                     {
                        "index_pattern" : "string",
                        "trigger_interval_seconds" : 0
                     }
                  ]
               },
               "dedicated_masters_threshold" : 0,
               "ip_filtering" : {
                  "rulesets" : [
                     "string"
                  ]
               },
               "metadata" : null,
               "monitoring" : {
                  "target_cluster_id" : "string"
               },
               "snapshot" : {
                  "enabled" : true,
                  "interval" : "string",
                  "pending_interval" : "string",
                  "repository" : {
                     "default" : {},
                     "reference" : {
                        "repository_name" : "string"
                     },
                     "static" : {
                        "repository_type" : "string",
                        "settings" : {}
                     }
                  },
                  "repository_name" : "string",
                  "retention" : {
                     "max_age" : "string",
                     "snapshots" : 0
                  },
                  "suspended" : [
                     "string"
                  ],
                  "wait_time_after_snapshotting" : "string"
               }
            }
         }
      ],
      "kibana" : [
         {
            "display_name" : "string",
            "elasticsearch_cluster_ref_id" : "string",
            "plan" : {
               "cluster_topology" : [
                  {
                     "allocator_filter" : {},
                     "instance_configuration_id" : "string",
                     "kibana" : {
                        "docker_image" : "string",
                        "system_settings" : {
                           "elasticsearch_password" : "string",
                           "elasticsearch_url" : "string",
                           "elasticsearch_username" : "string"
                        },
                        "user_settings_json" : {},
                        "user_settings_override_json" : {},
                        "user_settings_override_yaml" : "string",
                        "user_settings_yaml" : "string",
                        "version" : "string"
                     },
                     "memory_per_node" : 0,
                     "node_configuration" : "string",
                     "node_count_per_zone" : 0,
                     "size" : null,
                     "zone_count" : 0
                  }
               ],
               "kibana" : null,
               "transient" : {
                  "plan_configuration" : {
                     "calm_wait_time" : 0,
                     "cluster_reboot" : "string",
                     "extended_maintenance" : true,
                     "move_allocators" : [
                        null
                     ],
                     "move_instances" : [
                        null
                     ],
                     "preferred_allocators" : [
                        "string"
                     ],
                     "reallocate_instances" : true,
                     "timeout" : 0
                  },
                  "strategy" : null
               },
               "zone_count" : 0
            },
            "ref_id" : "string",
            "region" : "string",
            "settings" : {
               "metadata" : null
            }
         }
      ]
   },
   "settings" : {
      "ip_filtering_settings" : null
   }
}
'</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-deployment"></a>Delete Deployment</h3>
</div></div></div>
<p>Deletes a Deployment and all its resources.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_146"></a>Request</h4>
</div></div></div>
<p><code class="literal">DELETE /api/v1/deployments/{deployment_id}</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_path_parameters_116"></a>Path parameters</h4>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">deployment_id</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Y</p></td>
<td align="left" valign="top"><p>Identifier for the Deployment</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_responses_146"></a>Responses</h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#DeploymentDeleteResponse" title="DeploymentDeleteResponse"><code class="literal">DeploymentDeleteResponse</code></a>) The request was valid and the deployment was deleted</p>
</dd>
<dt>
<span class="term">
<code class="literal">400</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The Deployment resources have not been shutdown yet</p>
</dd>
<dt>
<span class="term">
<code class="literal">401</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) You are not authorized to perform this action</p>
</dd>
<dt>
<span class="term">
<code class="literal">404</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The Deployment specified by &#123;deployment_id&#125; cannot be found</p>
</dd>
</dl>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>To perform this operation, you must be authenticated by means of one of the following methods: apiKey, basicAuth.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_example_146"></a>Request example</h4>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">curl -XDELETE {{hostname}}/api/v1/deployments/{deployment_id} \
-H "Authorization: ApiKey $ECE_API_KEY"</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-deployment"></a>Get Deployment</h3>
</div></div></div>
<p>Retrieves information about a Deployment.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_147"></a>Request</h4>
</div></div></div>
<p><code class="literal">GET /api/v1/deployments/{deployment_id}</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_path_parameters_117"></a>Path parameters</h4>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">deployment_id</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Y</p></td>
<td align="left" valign="top"><p>Identifier for the Deployment</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_query_parameters_71"></a>Query parameters</h4>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">convert_legacy_plans</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>If showing plans, whether to leave pre-2.0.0 plans in their legacy format (the default), or whether to update them to 2.0.x&#43; format (if &#39;true&#39;)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">enrich_with_template</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">true</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>If showing plans, whether to enrich the plan by including the missing elements from the deployment template it is based on</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">show_metadata</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether to include the full cluster metadata in the response - can be large per cluster and also include credentials</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">show_plan_defaults</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>If showing plans, whether to show values that are left at their default value (less readable but more informative)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">show_plan_history</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether to include with the current and pending plan information the plan history- can be very large per cluster</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">show_plan_logs</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether to include with the current and pending plan information the attempt log - can be very large per cluster</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">show_plans</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">true</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether to include the full current and pending plan information in the response - can be large per cluster</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">show_security</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether to include the Elasticsearch 2.x security information in the response - can be large per cluster and also include credentials</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">show_settings</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether to show cluster settings in the response.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">show_system_alerts</code></p></td>
<td align="left" valign="top"><p><code class="literal">integer</code>; default: <code class="literal">0</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Number of system alerts (such as forced restarts due to memory limits) to be included in the response - can be large per cluster. Negative numbers or 0 will not return field.</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_responses_147"></a>Responses</h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#DeploymentGetResponse" title="DeploymentGetResponse"><code class="literal">DeploymentGetResponse</code></a>) The Deployment info response</p>
<p><span class="strong strong"><strong>Headers</strong></span></p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">x-cloud-resource-created</code> (<code class="literal">string</code>)
</span>
</dt>
<dd>
The date-time when the resource was created (ISO format relative to UTC)
</dd>
<dt>
<span class="term">
<code class="literal">x-cloud-resource-last-modified</code> (<code class="literal">string</code>)
</span>
</dt>
<dd>
The date-time when the resource was last modified (ISO format relative to UTC)
</dd>
<dt>
<span class="term">
<code class="literal">x-cloud-resource-version</code> (<code class="literal">string</code>)
</span>
</dt>
<dd>
The resource version, which is used to avoid update conflicts with concurrent operations
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">401</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) You are not authorized to perform this action</p>
</dd>
<dt>
<span class="term">
<code class="literal">404</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The Deployment specified by &#123;deployment_id&#125; cannot be found</p>
</dd>
<dt>
<span class="term">
<code class="literal">500</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) We have failed you.</p>
</dd>
</dl>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>To perform this operation, you must be authenticated by means of one of the following methods: apiKey, basicAuth.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_example_147"></a>Request example</h4>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">curl -XGET {{hostname}}/api/v1/deployments/{deployment_id} \
-H "Authorization: ApiKey $ECE_API_KEY"</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="update-deployment"></a>Update Deployment</h3>
</div></div></div>
<p>Updates a Deployment.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_148"></a>Request</h4>
</div></div></div>
<p><code class="literal">PUT /api/v1/deployments/{deployment_id}</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_path_parameters_118"></a>Path parameters</h4>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">deployment_id</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Y</p></td>
<td align="left" valign="top"><p>Identifier for the Deployment</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_query_parameters_72"></a>Query parameters</h4>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">hide_pruned_orphans</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether or not to hide orphaned resources that were shut down (relevant if prune on the request is true)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">skip_snapshot</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether or not to skip snapshots before shutting down orphaned resources (relevant if prune on the request is true)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">validate_only</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>If true, will just validate the Deployment definition but will not perform the update</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">version</code></p></td>
<td align="left" valign="top"><p><code class="literal">integer</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>If specified then checks for conflicts against the version stored in the persistent store (returned in &#39;x-cloud-resource-version&#39; of the GET request)</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_body_44"></a>Request body</h4>
</div></div></div>
<p>(<a class="xref" href="definitions.html#DeploymentUpdateRequest" title="DeploymentUpdateRequest"><code class="literal">DeploymentUpdateRequest</code></a>) (required) The deployment definition</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_responses_148"></a>Responses</h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#DeploymentUpdateResponse" title="DeploymentUpdateResponse"><code class="literal">DeploymentUpdateResponse</code></a>) The request was valid and the deployment was updated</p>
<p><span class="strong strong"><strong>Headers</strong></span></p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">x-cloud-resource-created</code> (<code class="literal">string</code>)
</span>
</dt>
<dd>
The date-time when the resource was created (ISO format relative to UTC)
</dd>
<dt>
<span class="term">
<code class="literal">x-cloud-resource-last-modified</code> (<code class="literal">string</code>)
</span>
</dt>
<dd>
The date-time when the resource was last modified (ISO format relative to UTC)
</dd>
<dt>
<span class="term">
<code class="literal">x-cloud-resource-version</code> (<code class="literal">string</code>)
</span>
</dt>
<dd>
The resource version, which is used to avoid update conflicts with concurrent operations
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">400</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The deployment request had errors</p>
</dd>
<dt>
<span class="term">
<code class="literal">401</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) You are not authorized to perform this action</p>
</dd>
<dt>
<span class="term">
<code class="literal">404</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The Deployment specified by &#123;deployment_id&#125; cannot be found</p>
</dd>
</dl>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>To perform this operation, you must be authenticated by means of one of the following methods: apiKey, basicAuth.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_example_148"></a>Request example</h4>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">curl -XPUT {{hostname}}/api/v1/deployments/{deployment_id} \
-H "Authorization: ApiKey $ECE_API_KEY" \
-H 'Content-Type: application/json' \
-d '
{
   "metadata" : {
      "hidden" : true,
      "system_owned" : true
   },
   "name" : "string",
   "prune_orphans" : true,
   "resources" : {
      "apm" : [
         {
            "display_name" : "string",
            "elasticsearch_cluster_ref_id" : "string",
            "plan" : {
               "apm" : {
                  "docker_image" : "string",
                  "system_settings" : {
                     "debug_enabled" : true,
                     "elasticsearch_password" : "string",
                     "elasticsearch_url" : "string",
                     "elasticsearch_username" : "string",
                     "kibana_url" : "string",
                     "secret_token" : "string"
                  },
                  "user_settings_json" : {},
                  "user_settings_override_json" : {},
                  "user_settings_override_yaml" : "string",
                  "user_settings_yaml" : "string",
                  "version" : "string"
               },
               "cluster_topology" : [
                  {
                     "apm" : null,
                     "instance_configuration_id" : "string",
                     "size" : {
                        "resource" : "string",
                        "value" : 0
                     },
                     "zone_count" : 0
                  }
               ],
               "transient" : {
                  "plan_configuration" : {
                     "calm_wait_time" : 0,
                     "cluster_reboot" : "string",
                     "extended_maintenance" : true,
                     "move_allocators" : [
                        {
                           "allocator_down" : true,
                           "from" : "string",
                           "to" : [
                              "string"
                           ]
                        }
                     ],
                     "move_instances" : [
                        {
                           "from" : "string",
                           "instance_down" : true,
                           "to" : [
                              "string"
                           ]
                        }
                     ],
                     "preferred_allocators" : [
                        "string"
                     ],
                     "reallocate_instances" : true,
                     "timeout" : 0
                  },
                  "strategy" : {
                     "grow_and_shrink" : {},
                     "rolling" : {
                        "allow_inline_resize" : true,
                        "group_by" : "string",
                        "shard_init_wait_time" : 0,
                        "skip_synced_flush" : true
                     },
                     "rolling_grow_and_shrink" : {}
                  }
               }
            },
            "ref_id" : "string",
            "region" : "string",
            "settings" : {
               "metadata" : {
                  "contact_email" : "string",
                  "hidden" : true,
                  "name" : "string",
                  "owner_id" : "string",
                  "resources" : {
                     "cpu" : {
                        "boost" : true,
                        "hard_limit" : true
                     }
                  },
                  "subscription_level" : "string",
                  "system_owned" : true
               }
            }
         }
      ],
      "appsearch" : [
         {
            "display_name" : "string",
            "elasticsearch_cluster_ref_id" : "string",
            "plan" : {
               "appsearch" : {
                  "docker_image" : "string",
                  "system_settings" : {
                     "elasticsearch_password" : "string",
                     "elasticsearch_url" : "string",
                     "elasticsearch_username" : "string",
                     "secret_session_key" : "string"
                  },
                  "user_settings_json" : {},
                  "user_settings_override_json" : {},
                  "user_settings_override_yaml" : "string",
                  "user_settings_yaml" : "string",
                  "version" : "string"
               },
               "cluster_topology" : [
                  {
                     "appsearch" : null,
                     "instance_configuration_id" : "string",
                     "node_type" : {
                        "appserver" : true,
                        "worker" : true
                     },
                     "size" : null,
                     "zone_count" : 0
                  }
               ],
               "transient" : {
                  "plan_configuration" : {
                     "calm_wait_time" : 0,
                     "cluster_reboot" : "string",
                     "extended_maintenance" : true,
                     "move_allocators" : [
                        null
                     ],
                     "move_instances" : [
                        null
                     ],
                     "preferred_allocators" : [
                        "string"
                     ],
                     "reallocate_instances" : true,
                     "timeout" : 0
                  },
                  "strategy" : null
               }
            },
            "ref_id" : "string",
            "region" : "string",
            "settings" : {
               "metadata" : null
            }
         }
      ],
      "elasticsearch" : [
         {
            "display_name" : "string",
            "plan" : {
               "cluster_topology" : [
                  {
                     "allocator_filter" : {},
                     "elasticsearch" : {
                        "curation" : {
                           "from_instance_configuration_id" : "string",
                           "to_instance_configuration_id" : "string"
                        },
                        "docker_image" : "string",
                        "enabled_built_in_plugins" : [
                           "string"
                        ],
                        "node_attributes" : {
                           "some_property" : "string"
                        },
                        "system_settings" : {
                           "auto_create_index" : true,
                           "default_shards_per_index" : 0,
                           "destructive_requires_name" : true,
                           "enable_close_index" : true,
                           "monitoring_collection_interval" : 0,
                           "monitoring_history_duration" : "string",
                           "reindex_whitelist" : [
                              "string"
                           ],
                           "scripting" : {
                              "expressions_enabled" : true,
                              "file" : {
                                 "enabled" : true,
                                 "sandbox_mode" : true
                              },
                              "inline" : null,
                              "mustache_enabled" : true,
                              "painless_enabled" : true,
                              "stored" : null
                           },
                           "use_disk_threshold" : true,
                           "watcher_trigger_engine" : "string"
                        },
                        "user_bundles" : [
                           {
                              "elasticsearch_version" : "string",
                              "name" : "string",
                              "url" : "string"
                           }
                        ],
                        "user_plugins" : [
                           {
                              "elasticsearch_version" : "string",
                              "name" : "string",
                              "url" : "string"
                           }
                        ],
                        "user_settings_json" : {},
                        "user_settings_override_json" : {},
                        "user_settings_override_yaml" : "string",
                        "user_settings_yaml" : "string",
                        "version" : "string"
                     },
                     "instance_configuration_id" : "string",
                     "memory_per_node" : 0,
                     "node_configuration" : "string",
                     "node_count_per_zone" : 0,
                     "node_type" : {
                        "data" : true,
                        "ingest" : true,
                        "master" : true,
                        "ml" : true
                     },
                     "size" : null,
                     "zone_count" : 0
                  }
               ],
               "deployment_template" : {
                  "id" : "string",
                  "version" : "string"
               },
               "elasticsearch" : null,
               "tiebreaker_override" : true,
               "tiebreaker_topology" : {
                  "memory_per_node" : 0
               },
               "transient" : {
                  "cluster_settings_json" : {},
                  "plan_configuration" : {
                     "calm_wait_time" : 0,
                     "cluster_reboot" : "string",
                     "extended_maintenance" : true,
                     "max_snapshot_age" : 0,
                     "max_snapshot_attempts" : 0,
                     "move_allocators" : [
                        null
                     ],
                     "move_instances" : [
                        null
                     ],
                     "move_only" : true,
                     "override_failsafe" : true,
                     "preferred_allocators" : [
                        "string"
                     ],
                     "reallocate_instances" : true,
                     "skip_data_migration" : true,
                     "skip_post_upgrade_steps" : true,
                     "skip_snapshot" : true,
                     "skip_snapshot_post_major_upgrade" : true,
                     "skip_upgrade_checker" : true,
                     "timeout" : 0
                  },
                  "restore_snapshot" : {
                     "repository_config" : {
                        "raw_settings" : {}
                     },
                     "repository_name" : "string",
                     "restore_payload" : {
                        "indices" : [
                           "string"
                        ],
                        "raw_settings" : {}
                     },
                     "snapshot_name" : "string",
                     "source_cluster_id" : "string",
                     "strategy" : "string"
                  },
                  "strategy" : null
               },
               "zone_count" : 0
            },
            "ref_id" : "string",
            "region" : "string",
            "settings" : {
               "ccs" : {
                  "remote_clusters" : {
                     "some_property" : {
                        "cluster_id" : "string",
                        "skip_unavailable" : true
                     }
                  }
               },
               "curation" : {
                  "specs" : [
                     {
                        "index_pattern" : "string",
                        "trigger_interval_seconds" : 0
                     }
                  ]
               },
               "dedicated_masters_threshold" : 0,
               "ip_filtering" : {
                  "rulesets" : [
                     "string"
                  ]
               },
               "metadata" : null,
               "monitoring" : {
                  "target_cluster_id" : "string"
               },
               "snapshot" : {
                  "enabled" : true,
                  "interval" : "string",
                  "pending_interval" : "string",
                  "repository" : {
                     "default" : {},
                     "reference" : {
                        "repository_name" : "string"
                     },
                     "static" : {
                        "repository_type" : "string",
                        "settings" : {}
                     }
                  },
                  "repository_name" : "string",
                  "retention" : {
                     "max_age" : "string",
                     "snapshots" : 0
                  },
                  "suspended" : [
                     "string"
                  ],
                  "wait_time_after_snapshotting" : "string"
               }
            }
         }
      ],
      "kibana" : [
         {
            "display_name" : "string",
            "elasticsearch_cluster_ref_id" : "string",
            "plan" : {
               "cluster_topology" : [
                  {
                     "allocator_filter" : {},
                     "instance_configuration_id" : "string",
                     "kibana" : {
                        "docker_image" : "string",
                        "system_settings" : {
                           "elasticsearch_password" : "string",
                           "elasticsearch_url" : "string",
                           "elasticsearch_username" : "string"
                        },
                        "user_settings_json" : {},
                        "user_settings_override_json" : {},
                        "user_settings_override_yaml" : "string",
                        "user_settings_yaml" : "string",
                        "version" : "string"
                     },
                     "memory_per_node" : 0,
                     "node_configuration" : "string",
                     "node_count_per_zone" : 0,
                     "size" : null,
                     "zone_count" : 0
                  }
               ],
               "kibana" : null,
               "transient" : {
                  "plan_configuration" : {
                     "calm_wait_time" : 0,
                     "cluster_reboot" : "string",
                     "extended_maintenance" : true,
                     "move_allocators" : [
                        null
                     ],
                     "move_instances" : [
                        null
                     ],
                     "preferred_allocators" : [
                        "string"
                     ],
                     "reallocate_instances" : true,
                     "timeout" : 0
                  },
                  "strategy" : null
               },
               "zone_count" : 0
            },
            "ref_id" : "string",
            "region" : "string",
            "settings" : {
               "metadata" : null
            }
         }
      ]
   }
}
'</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="restore-deployment"></a>Restores a shutdown Deployment</h3>
</div></div></div>
<p>Restores all resources in a Deployment.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_149"></a>Request</h4>
</div></div></div>
<p><code class="literal">POST /api/v1/deployments/{deployment_id}/_restore</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_path_parameters_119"></a>Path parameters</h4>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">deployment_id</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Y</p></td>
<td align="left" valign="top"><p>Identifier for the Deployment</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_query_parameters_73"></a>Query parameters</h4>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">restore_snapshot</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether or not to restore a snapshot for those resources that allow it.</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_responses_149"></a>Responses</h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#DeploymentRestoreResponse" title="DeploymentRestoreResponse"><code class="literal">DeploymentRestoreResponse</code></a>) The request was valid and the resources of the deployment were restored</p>
</dd>
<dt>
<span class="term">
<code class="literal">400</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) There are Elasticsearch resources in the deployment which are not shut down</p>
</dd>
<dt>
<span class="term">
<code class="literal">401</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) You are not authorized to perform this action</p>
</dd>
<dt>
<span class="term">
<code class="literal">404</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The Deployment specified by &#123;deployment_id&#125; cannot be found</p>
</dd>
</dl>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>To perform this operation, you must be authenticated by means of one of the following methods: apiKey, basicAuth.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_example_149"></a>Request example</h4>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">curl -XPOST {{hostname}}/api/v1/deployments/{deployment_id}/_restore \
-H "Authorization: ApiKey $ECE_API_KEY"</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="shutdown-deployment"></a>Shuts down Deployment</h3>
</div></div></div>
<p>Shuts down all resources in a Deployment.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_150"></a>Request</h4>
</div></div></div>
<p><code class="literal">POST /api/v1/deployments/{deployment_id}/_shutdown</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_path_parameters_120"></a>Path parameters</h4>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">deployment_id</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code></p></td>
<td align="left" valign="top"><p>Y</p></td>
<td align="left" valign="top"><p>Identifier for the Deployment</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_query_parameters_74"></a>Query parameters</h4>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">hide</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether or not to hide the deployment and its resources</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">skip_snapshot</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code>; default: <code class="literal">false</code></p></td>
<td align="left" valign="top"><p>N</p></td>
<td align="left" valign="top"><p>Whether or not to skip snapshots before shutting down the resources</p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_responses_150"></a>Responses</h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#DeploymentShutdownResponse" title="DeploymentShutdownResponse"><code class="literal">DeploymentShutdownResponse</code></a>) The request was valid and the resources of the deployment were shutdown</p>
</dd>
<dt>
<span class="term">
<code class="literal">400</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The deployment request had errors</p>
</dd>
<dt>
<span class="term">
<code class="literal">401</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) You are not authorized to perform this action</p>
</dd>
<dt>
<span class="term">
<code class="literal">404</code>
</span>
</dt>
<dd>
<p>(<a class="xref" href="definitions.html#BasicFailedReply" title="BasicFailedReply"><code class="literal">BasicFailedReply</code></a>) The Deployment specified by &#123;deployment_id&#125; cannot be found</p>
</dd>
</dl>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>To perform this operation, you must be authenticated by means of one of the following methods: apiKey, basicAuth.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ece_request_example_150"></a>Request example</h4>
</div></div></div>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">curl -XPOST {{hostname}}/api/v1/deployments/{deployment_id}/_shutdown \
-H "Authorization: ApiKey $ECE_API_KEY"</pre>
</div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="Comments.html">« Comments</a>
</span>
<span class="next">
<a href="Deployment_-_Commands.html">Deployment - Commands »</a>
</span>
</div>
</div>
</body>
</html>
