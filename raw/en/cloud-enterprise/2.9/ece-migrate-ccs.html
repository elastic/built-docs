<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Migrate the cross-cluster search deployment template | Elastic Cloud Enterprise Reference [2.9] | Elastic</title>
<meta class="elastic" name="content" content="Migrate the cross-cluster search deployment template | Elastic Cloud Enterprise Reference [2.9]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [2.9]"/>
<link rel="up" href="ece-enable-ccs.html" title="Enable cross-cluster search and cross-cluster replication"/>
<link rel="prev" href="ece-enable-ccs.html" title="Enable cross-cluster search and cross-cluster replication"/>
<link rel="next" href="ece-enable-appsearch.html" title="Enable App Search"/>
<meta class="elastic" name="product_version" content="2.9"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/2.9"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="2.9"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [2.9]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-administering-deployments.html">Administering deployments</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-enable-ccs.html">Enable cross-cluster search and cross-cluster replication</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-enable-ccs.html">« Enable cross-cluster search and cross-cluster replication</a>
</span>
<span class="next">
<a href="ece-enable-appsearch.html">Enable App Search »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-migrate-ccs"></a>Migrate the cross-cluster search deployment template<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-53/docs/shared/ec-ce-migrate-ccs.asciidoc">edit</a></h2>
</div></div></div>
<p>The cross-cluster search deployment template is now deprecated and will be removed in 3.0. You no longer need to use the dedicated cross-cluster template to search across deployments. Instead, you can now use any template to <a class="xref" href="ece-enable-ccs.html" title="Enable cross-cluster search and cross-cluster replication">configure remote clusters</a> and search across them when using stack version 6.7 or above. Existing deployments created using this template are not affected, but they are required to migrate to another template before upgrading to the next 8.0 major version.</p>
<p>In order to migrate your existing CCS deployment using the CCS Deployment template to the new mechanism which supports CCR and cross-environment remote clusters you will need to migrate your data a new deployment <a class="xref" href="ece-migrate-ccs.html#ece-migrate-ccs-deployment-using-snapshot" title="Use a snapshot to migrate deployments that use the cross-cluster search deployment template">following these steps</a>.</p>
<h3><a id="ece-migrate-ccs-deployment-using-snapshot"></a>Use a snapshot to migrate deployments that use the cross-cluster search deployment template<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-53/docs/shared/ec-ce-migrate-ccs.asciidoc">edit</a></h3>
<p>You can make this change in the user Cloud UI. The only drawback of this method is that it changes the URL used to access the Elasticsearch cluster and Kibana.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
The first step for any approach is to remove the remote clusters from your deployment. You will need to add them back later.
</li>
<li class="listitem">
From the deployment menu, open the <span class="strong strong"><strong>Snapshots</strong></span> page and click <span class="strong strong"><strong>Take Snapshot now</strong></span>. Wait for the snapshot to finish.
</li>
<li class="listitem">
<p>From the main <span class="strong strong"><strong>Deployments</strong></span> page, click <span class="strong strong"><strong>Create deployment</strong></span> and select any available template. Expand <span class="strong strong"><strong>Deployment settings</strong></span> to choose a <span class="strong strong"><strong>Snapshot source</strong></span>, and then select your deployment and the snapshot that you created.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/ce-create-from-snapshot.png" alt="Create a Deployment using a snapshot">
</div>
</div>
</li>
<li class="listitem">
Finally, configure the remote clusters using <a class="xref" href="ece-enable-ccs.html#ece-add-remotes-with-kibana" title="Configure remote clusters using Kibana">Kibana</a> or the <a class="xref" href="ece-enable-ccs.html#ece-add-remotes-with-cloud-api" title="Configure remote clusters in the same ECE environment using the Cloud RESTful API">Cloud API</a>.
</li>
</ol>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-enable-ccs.html">« Enable cross-cluster search and cross-cluster replication</a>
</span>
<span class="next">
<a href="ece-enable-appsearch.html">Enable App Search »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>
