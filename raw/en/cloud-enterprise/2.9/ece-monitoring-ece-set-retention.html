<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Set the retention period for logging and metrics indices | Elastic Cloud Enterprise Reference [2.9] | Elastic</title>
<meta class="elastic" name="content" content="Set the retention period for logging and metrics indices | Elastic Cloud Enterprise Reference [2.9]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [2.9]"/>
<link rel="up" href="ece-monitoring-ece.html" title="Monitoring your installation"/>
<link rel="prev" href="ece-capture-heap-dumps.html" title="Capture heap dumps"/>
<link rel="next" href="ece-monitoring-ece-proxies.html" title="Scenario: Knowing when you need more proxies"/>
<meta class="elastic" name="product_version" content="2.9"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/2.9"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="2.9"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<p>
  <strong>It is time to say goodbye</strong>: This version of Elastic Cloud Enterprise 
  has reached <a href="https://www.elastic.co/support/eol">end-of-life (EOL)</a>
  and is no longer supported. 
</p>  
<p>
  The documentation for this version is no longer being maintained. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [2.9]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-monitoring-ece.html">Monitoring your installation</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-capture-heap-dumps.html">« Capture heap dumps</a>
</span>
<span class="next">
<a href="ece-monitoring-ece-proxies.html">Scenario: Knowing when you need more proxies »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-monitoring-ece-set-retention"></a>Set the retention period for logging and metrics indices<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-53/docs/cloud-enterprise/ce-monitoring.asciidoc">edit</a></h2>
</div></div></div>
<p>Elastic Cloud Enterprise automatically curates the logging and metrics indices it collects. By default, metrics indices are kept for one day and logging indices are kept for seven days. This retention period can be adjusted.</p>
<p>You might need to adjust the retention period for one of the following reasons:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If your business requires you to retain logs and metrics for longer than the default period.
</li>
<li class="listitem">
If the volume of logs and metrics collected is high enough to require reducing the amount of storage space consumed.
</li>
</ul>
</div>
<p>To run the <code class="literal">elastic-cloud-enterprise.sh set-logging-and-metrics-policy</code> script that lets you set the retention period, a user must be part of the <code class="literal">docker</code> group. The host that you run this script on must be the first host that you installed Elastic Cloud Enterprise on or a host that holds the director role.</p>
<p>Extending the retention period can consume considerable amounts of disk space. If you extend the period, you must monitor the <code class="literal">logging-and-metrics</code> cluster to ensure that it does not run out of storage.</p>
<p>To change the retention period for the <code class="literal">cluster-logs-*</code> index pattern to 14 days from the command line:</p>
<pre class="literallayout">bash elastic-cloud-enterprise.sh set-logging-and-metrics-policy --pattern cluster-logs-* --days 14</pre>

<p>Additional options for working with these retention periods are available. To learn more, see <a class="xref" href="ece-installation-script-set-logging-and-metrics-policy.html" title="elastic-cloud-enterprise.sh set-logging-and-metrics-policy"><code class="literal">elastic-cloud-enterprise.sh set-logging-and-metrics-policy</code></a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-capture-heap-dumps.html">« Capture heap dumps</a>
</span>
<span class="next">
<a href="ece-monitoring-ece-proxies.html">Scenario: Knowing when you need more proxies »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>
