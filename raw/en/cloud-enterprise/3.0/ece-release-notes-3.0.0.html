<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elastic Cloud Enterprise 3.0.0 | Elastic Cloud Enterprise Reference [3.0] | Elastic</title>
<meta class="elastic" name="content" content="Elastic Cloud Enterprise 3.0.0 | Elastic Cloud Enterprise Reference [3.0]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [3.0]"/>
<link rel="up" href="ece-release-notes.html" title="Release notes"/>
<link rel="prev" href="ece-release-notes.html" title="Release notes"/>
<link rel="next" href="ece-release-notes-2.13.2.html" title="Elastic Cloud Enterprise 2.13.2"/>
<meta class="elastic" name="product_version" content="3.0"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/3.0"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="3.0"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [3.0]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="ece-release-notes-2.13.2.html">Elastic Cloud Enterprise 2.13.2 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-release-notes-3.0.0"></a>Elastic Cloud Enterprise 3.0.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-69/docs/cloud-enterprise/releases/3.0.0/index.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="ece_release_highlights"></a>Release highlights<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-69/docs/cloud-enterprise/releases/3.0.0/index.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Introducing Integrations Server</strong></span>. You can now use Integrations Server to add a combined <a href="/guide/en/apm/guide/8.7/apm-overview.html" class="ulink" target="_top">Application Performance Monitoring (APM) Server</a> and <a href="/guide/en/fleet/8.7/fleet-overview.html" class="ulink" target="_top">Fleet Server</a> to your deployment. APM allows you to monitor software services and applications in real time, turning that data into documents stored in the Elasticsearch cluster. Fleet allows you to centrally manage Elastic Agents on many hosts. To get started using Integrations Server in Elastic Cloud Enterprise, check <a class="xref" href="ece-manage-integrations-server.html" title="Manage your Integrations Server">Manage your Integrations Server</a>.</p>
<h3><a id="ece_features"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-69/docs/cloud-enterprise/releases/3.0.0/feature.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Implement per-target resource connection limits for the HTTP listener.</strong></span> Allow the user to setup per-target resource connection limits. Note that this is currently limited to HTTP(S) connections.</p>
<p><span class="strong strong"><strong>Make <code class="literal">X-Strict-Request-Payload</code> header toggle-on or inhibit strict deserialization.</strong></span> Previously, the <code class="literal">X-Strict-Request-Payload</code> API header was only able to inhibit configuration-enabled strict de-serialization. With this change, it permits enabling strict de-serialization in requests including it with value <code class="literal">true</code>, even when the global setting is off.</p>
<p><span class="strong strong"><strong>Add 8.0.0-SNAPSHOT to bundled ECE versions.</strong></span> This release of Elastic Cloud Enterprise comes with 8.0.0-SNAPSHOT.</p>
<h3><a id="ece_enhancements"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-69/docs/cloud-enterprise/releases/3.0.0/enhancement.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Formatting and display adjustments to PDF invoices template.</strong></span> Fixed minor layout issues in PDF statements and invoices.</p>
<p><span class="strong strong"><strong>Speed up some deplyment changes.</strong></span> At the end of plan changes that do not use the <code class="literal">RollingGrowShrink</code> strategy, non-master instances will all be stopped at the same time instead of one at a time. This will make some plans a bit faster.</p>
<p><span class="strong strong"><strong>Add audit log ignore filter by <code class="literal">actions</code> setting to allowlist.</strong></span> Allow setting to ignore audit event based on the content of the audit log <code class="literal">actions</code> field. Check the <a href="/guide/en/elasticsearch/reference/8.7/auditing-settings.html#audit-event-ignore-policies" class="ulink" target="_top">audit logfile event ignore policies</a> documentation for more details.</p>
<p><span class="strong strong"><strong>Add Deployment API endpoint for upgrade assistant Status.</strong></span> The deployments API can now be queried to get the upgrade status. The <a class="xref" href="get-deployment-upgrade-assistant-status.html" title="Get Deployment upgade assistant status">deployments upgrade assistant status</a> endpoint will provide information about whether the deployment is ready to be upgraded to the next major version or not.</p>
<p><span class="strong strong"><strong>Remove the max limit for the APM setting <code class="literal">bulk_max_size</code>.</strong></span> Remove the upper limit from the APM <code class="literal">output.elasticsearch.bulk_max_size</code> configuration.</p>
<p><span class="strong strong"><strong>Show plan warnings on activity page.</strong></span> Plans which use "move_only: true" will no longer fail with a message about ignored/unapplied changes. Instead, those plans will succeed, but will show a warning that there are unapplied changes.</p>
<p><span class="strong strong"><strong>Reduce usage of transient settings by constructor.</strong></span> This release reduces the constructors reliance on transient section for a few frequently used settings by having them always be set to null in the transient section whenever they&#8217;re added in the persistent section.</p>
<p><span class="strong strong"><strong>Update the default sizes of instances in the ECE <code class="literal">default</code> template.</strong></span> The default template now includes machine learning, APM and Fleet, and Enterprise Search by default in ECE.</p>
<p><span class="strong strong"><strong>Prevent Route Server from failing if no routes exist.</strong></span> If an entire route is deleted from the route-server we will now mark the file as soft-deleted, and at a later point actually delete the route. This operates using the existing <code class="literal">graveyard-expiration</code> and <code class="literal">graveyard-interval</code> options. This has the minor side effects of routes that have recently been deleted returning a 502 instead of a 404 when requested via the proxy. Additionally this should resolve some amount of issues around flapping routes, which in turn get cached (due to being 404s) even after they are no longer flapping.</p>
<p><span class="strong strong"><strong>Add Kibana&#8217;s <code class="literal">migrations.maxBatchSizeBytes</code> config option.</strong></span> Adds support for Kibana&#8217;s <code class="literal">migrations.maxBatchSizeBytes</code> Kibana user setting.</p>
<p><span class="strong strong"><strong>Enable Node Shutdown everywhere.</strong></span> When executing plans against Elasticsearch clusters with version 7.15.2 or greater, if the plan stops nodes, a new step "Calling Elasticsearch node shutdown API" will replace the "Migrating shard data" step.</p>
<p><span class="strong strong"><strong>Include <code class="literal">zkstat</code> tool in the ECE image thus enabling the path to generate ECE diagnostics with zkstats.</strong></span> Make <code class="literal">zkstat</code> tool generally available through the <code class="literal">elastic-cloud-enterprise</code> image to help operators and customers when debugging ECE Zookeeper issues.</p>
<p><span class="strong strong"><strong>Remove <code class="literal">xpack.searchable.snapshot.shared_cache.size</code> for versions &gt;= 7.13.0.</strong></span> Remove the setting <code class="literal">xpack.searchable.snapshot.shared_cache.size</code> for versions &gt;= 7.13.0</p>
<p><span class="strong strong"><strong>Beats upgrade to 7.12.</strong></span> Filebeat and Metricbeat used to ingest logs and metrics into the <code class="literal">logging-and-metrics</code> system cluster are upgraded to version 7.12.</p>
<p><span class="strong strong"><strong>Collect proxy metrics.</strong></span> Ingest proxy metrics into logging-and-metrics on ECE.</p>
<p><span class="strong strong"><strong>Add cross-org trust flyout.</strong></span> Bidirectional trust can now be established between deployments in different Elastic Cloud organizations.</p>
<p><span class="strong strong"><strong>Update user settings on major version upgrades that will otherwise fail.</strong></span> Major version upgrades will now prompt for changes to incompatible user settings.</p>
<p><span class="strong strong"><strong>Enable the Kibana user setting <code class="literal">execution_context.enabled: boolean</code>.</strong></span> It might be hard, in the distributed environment, to understand which Kibana entity initiated a request to the Elasticsearch server. To overcome this problem Kibana introduced the <code class="literal">execution_context</code> service to attach domain-specific metadata to every request. <code class="literal">execution_context</code> propagates specified metadata from the Kibana browser app or Kibana server to the Elasticsearch server by way of the <code class="literal">x-opaque-id</code> header emitted to the Elasticsearch slow logs.</p>
<p>To enable <code class="literal">execution_context</code> propagation from Kibana to Elasticsearch logs, set <code class="literal">execution_context.enabled: true</code>.
To disable the <code class="literal">execution_context</code> feature set <code class="literal">execution_context.enabled: false</code>.</p>
<p><span class="strong strong"><strong>Prevent users from deleting Elasticsearch Settings when updating other settings (using the Deployments API).</strong></span> The endpoint to update deployments supports updating the settings of the Elasticsearch resource (<code class="literal">PUT "/api/v1/deployments/{deployment_id}"</code>).</p>
<pre class="screen">PUT "api/v1/deployments/{deployment_id}" -X PUT --data '{
  "prune_orphans": false,
  "resources": {
    "elasticsearch": [
      {
        "ref_id": "main-elasticsearch",
        "region": "us-east-1",
        "plan": {
          "cluster_topology": [...],
          "elasticsearch": {
            "version": "7.16.0"
          },
          "deployment_template": {
            "id": "default"
          }
        },
        "settings": {
          "dedicated_masters_threshold": 2 &lt;-- THESE SETTINGS
        }
      }
    ]
  }
}'</pre>
<p>Previously, the settings passed in the body would override all the settings (even the ones not included in the request). Now, the settings not included in the request will be kept and only the ones included will be passed. In order to delete a setting, it has to be passed as <code class="literal">null</code>.</p>
<p>For example, this will update just the <code class="literal">dedicated_masters_threshold</code> and the <code class="literal">snapshot</code> settings, leaving the rest unmodified (trust, curation, monitoring&#8230;&#8203; and so on)</p>
<pre class="screen">"settings": {
          "dedicated_masters_threshold": 10,
          "snapshot": {
            "enabled": false
          }
        }</pre>
<p>This would delete the <code class="literal">snapshot</code> setting:</p>
<pre class="screen">"settings": {
          "snapshot": {
            "enabled": null
          }
        }</pre>
<p><span class="strong strong"><strong>Update Zookeeper version.</strong></span> Internal service upgrade: Zookeeper has been upgraded from version 3.5 to 3.7.</p>
<p><span class="strong strong"><strong>Update the Elasticsearch deprecation logger.</strong></span> Incorporate version 7.16+ deprecation level (CRITICAL/WARN) changes <a href="https://github.com/elastic/elasticsearch/pull/77030" class="ulink" target="_top">https://github.com/elastic/elasticsearch/pull/77030</a></p>
<p><span class="strong strong"><strong>Naive implementation always clearing any archived settings.</strong></span> During upgrade to Elasticsearch 8.0 and later Elastic Cloud Enterprise will now clear any old discovery settings left over by version upgrades.</p>
<p><span class="strong strong"><strong>Run ConfigureAutoExpandIndexes less often.</strong></span> Step "Adjusting auto-expand indexes in Elasticsearch" will no longer run during plans on Elasticsearch clusters &gt;= 7.13.0</p>
<p><span class="strong strong"><strong>Remove Enterprise Search standalone UI in version 8.0 and higher deployments.</strong></span> Removes the "Open" link for Enterprise Search on deployments &gt;=8.0, and the "Copy endpoint" link results in a URL to <em>/</em> instead of <em>/login</em>.</p>
<p><span class="strong strong"><strong>Allow overlapping SLM schedules.</strong></span> Allows deployments running Elastic Stack version 7.12.1 or higher to change the SLM retention schedule. In previous versions, changes to this schedule are reverted due to a race condition within Elasticsearch.</p>
<p><span class="strong strong"><strong>Update the Elasticsearch deprecation log.</strong></span> Updates the Elasticsearch log4j config for version 7.17 to contain the additional field <code class="literal">x-elastic-product-origin</code> which can be used to filter deprecation log entries. <a href="https://github.com/elastic/elasticsearch/pull/81381" class="ulink" target="_top">https://github.com/elastic/elasticsearch/pull/81381</a></p>
<h3><a id="ece_bug_fixes"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-69/docs/cloud-enterprise/releases/3.0.0/bug.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>display customers' current hourly rate for trial converted customers.</strong></span> Fixed a bug where the hourly rate value displayed in Account &amp; Billing &gt; Usage was always zero for trial converted users.</p>
<p><span class="strong strong"><strong>Fix user access to API for 5.x clusters.</strong></span> Fixed the Elasticsearch API console for 5.x clusters. All requests were refused with <code class="literal">Endpoint is unavailable right now. Please retry in 30s.</code>. This was due to a new user for the API console that was not supported by 5.x clusters.</p>
<p><span class="strong strong"><strong>Retain autoscaling values on change instance configuration.</strong></span> Fixed a bug that removes autoscaling values when switching to a custom instance configuration when creating a deployment template.</p>
<p><span class="strong strong"><strong>Cannot reapply a plan through the UI on a deployment with a disabled Enterprise Search application.</strong></span> Fixed a bug that would prevent re-applying previous changes through the UI if the deployment had a disabled Enterprise Search application.</p>
<p><span class="strong strong"><strong>Fix bug in heap dump compression.</strong></span> Fixed an issue where OOM heap dump compression would take hours while an instance is unavailable.</p>
<p><span class="strong strong"><strong>Do not restart after update of disk quota.</strong></span> Fixed a bug where, when adding a disk quota override in the UI, the instance would restart. The behaviour is now that the instance does not restart.</p>
<p><span class="strong strong"><strong>Add rate limiting filter to log delivery deprecation logger.</strong></span> Added a rate limiting filter to log delivery deprecation logs to reduce duplicate deprecation logs.</p>
<p><span class="strong strong"><strong>Don&#8217;t start extra instances when upgrading stateless clusters.</strong></span> This fixes a bug where the upgrade process attempted to start unrequired resources. Now, Kibana, APM, and Enterprise Search upgrade plans will succeed more often in cases where previous failed plans left behind mixed instance versions.</p>
<p><span class="strong strong"><strong>Add missing OIDC setting to allowlist.</strong></span> All OIDC settings should be allowed on Elastic Cloud Enterprise. The <code class="literal">rp.client_auth_method</code> setting had been omitted and has now been added to the allowlist for OIDC realms.</p>
<p><span class="strong strong"><strong>Make a field optional for the sake of Elasticsearch 2.x.</strong></span> Fixed a bug that would cause plans for Elasticsearch versions older than 2.4.1 to fail with an error message that included "Null value for creator property <em>cluster_uuid</em>".</p>
<p><span class="strong strong"><strong>Stop overwriting templates from Filebeat.</strong></span> Changed log delivery Filebeat to disable <code class="literal">setup.template.overwrite</code>. This flag was causing many <code class="literal">PUT _template/elastic-cloud-logs-*</code> requests which could cause increased load on monitoring deployments when using log delivery.</p>
<p><span class="strong strong"><strong>Re-add supporting alias lookup by X-Found-Cluster.</strong></span> Allow requests to resolve hosts by alias passed in the <code class="literal">X-Found-Cluster</code> header.</p>
<p><span class="strong strong"><strong>Show operations when pending plan is running if it isn&#8217;t a create plan.</strong></span> Fixed a bug where the Operations page was not displayed when a plan is in progress.</p>
<p><span class="strong strong"><strong>Fix deserialization of slm.retention_duration.</strong></span> Fixed a bug that would cause most plans to fail for clusters which have a non-null value set for <code class="literal">slm.retention_duration</code> in the Elasticsearch cluster settings.</p>
<h3><a id="ece_breaking_changes"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-69/docs/cloud-enterprise/releases/3.0.0/breaking.asciidoc">edit</a></h3>
<p>For the full list of features and API endpoints that are being removed with ECE 3.0, and migration options where appropriate, check <a class="xref" href="ece-3-0-removals.html" title="Removals for ECE 3.0">Removals for ECE 3.0</a>.</p>
<p><span class="strong strong"><strong>App Search is no longer supported.</strong></span> App Search is no longer supported. Upgrading to ECE version 3.0 requires first to migrate all deployments that have App Search to use Enterprise Search. Check <a class="xref" href="ece-upgrade-appsearch.html" title="Upgrade App Search to Enterprise Search">Upgrading App Search to Enterprise Search</a> for instructions on how to migrate.</p>
<p><span class="strong strong"><strong>Curator is removed.</strong></span> The logs and metrics curator component has been removed from ECE. The curator component is responsible for enforcing log and metrics retention on the logs and metrics cluster cluster (not to be confused with index curation or the curator ZooKeeper framework). The functionality of curator has been replaced by installing ILM policies and attaching them to the system logs and metrics index templates.</p>
<p><span class="strong strong"><strong>Remove legacy cross cluster search API.</strong></span> Cross cluster search is no longer supported on ECE for Elastic Stack versions below 6.7.0.</p>
<p><span class="strong strong"><strong>Delete old stackpacks during ECE upgrade.</strong></span> This release of ECE removes all Elastic Stack versions below 6.0. If there are live clusters currently on any of these versions, the upgrade is stopped.</p>
<p><span class="strong strong"><strong>Reject upload of stackpacks older than 6.0.</strong></span> Elastic Stack packs with versions below 6.0 are no longer supported and cannot be uploaded to ECE.</p>
<p><span class="strong strong"><strong>Remove deprecated CORS header handling functionality.</strong></span> The deprecated  handling of Cross-Origin Resource Sharing (CORS) headers was removed from the proxy. These headers will be handled by the deployment components such as Elasticsearch, Kibana, and others.</p>
<p><span class="strong strong"><strong>Remove deprecated plan parameters.</strong></span> The following API parameters have been removed and are no longer supported in ECE:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ElasticsearchClusterPlan.zoneCount
</li>
<li class="listitem">
ElasticsearchClusterPlan.tiebreakerOverride
</li>
<li class="listitem">
ElasticsearchClusterPlan.tiebreakerTopology
</li>
<li class="listitem">
EsClusterTopologyElement.allocatorFilter
</li>
<li class="listitem">
EsClusterTopologyElement.nodeConfiguration
</li>
<li class="listitem">
KibanaClusterPlan.zoneCount
</li>
<li class="listitem">
KibanaClusterTopologyElement.allocatorFilter
</li>
<li class="listitem">
KibanaClusterTopologyElement.nodeConfiguration
</li>
<li class="listitem">
ClusterSnapshotSettings.repositoryName
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Node attributes not included by default.</strong></span> New deployments created in the Cloud UI and based on Elastic Stack versions 8.0 and higher will not have node attributes defined on data tiers. If these attributes are required, they can be added directly using the API.</p>
<p><span class="strong strong"><strong>Some APM user settings have been removed</strong></span>. The following APM settings have been removed in Elastic Stack version 8.0. This change is only relevant to users upgrading a standalone (legacy) deployment of APM Server to Elastic Stack version 8.0. Check <a class="xref" href="ece-manage-apm-settings.html" title="Add APM user settings">Add APM user settings</a> for more details.</p>
<div class="pre_wrapper lang-yml">
<pre class="programlisting prettyprint lang-yml">apm-server.api_key.enabled
apm-server.api_key.limit
apm-server.ilm.*
apm-server.frontend.*
apm-server.register.*
apm-server.rum.allow_service_names
apm-server.rum.event_rate.lru_size
apm-server.rum.event_rate.limit
apm-server.rum.rate_limit
output.elasticsearch.bulk_max_size
output.elasticsearch.index
output.elasticsearch.indices
output.elasticsearch.pipeline
output.elasticsearch.pipelines
output.elasticsearch.worker
setup.*
queue.*</pre>
</div>
<p><span class="strong strong"><strong>Remove Enterprise Search <code class="literal">login_assistance_message</code> in 8.0+.</strong></span> The Enterprise Search <code class="literal">login_assistance_message</code> setting is removed in Elastic Stack versions 8.0 and higher.</p>
<p><span class="strong strong"><strong>Remove APM payload in deployments API.</strong></span> Beginning with Elastic Stack version 8.0, the <code class="literal">Apm</code> payload in the deployments API is deprecated. New deployments should be created using the <code class="literal">integrations_server</code> payload. After the Elastic Stack 8.0 release is available, refer to the <a class="xref" href="definitions.html" title="Definitions">Definitions</a> section of the API documentation to see the expected payload format.</p>
<h3><a id="ece_deprecations"></a>Deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-69/docs/cloud-enterprise/releases/3.0.0/deprecation.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Avoid verbose SLM queries.</strong></span> To improve performance, deployments which use SLM (Snapshot Lifecycle Management) no longer display the basic snapshot list in the Elastic Cloud UI. The full snapshot interface is available in Kibana, linked to from the same Deployment &gt; Snapshots page. Additionally, when restoring from a snapshot in the Elastic Cloud UI, if the source deployment uses SLM, the name of a snapshot must be entered directly instead of selected from a dropdown.</p>
<p><span class="strong strong"><strong>Deprecate Templates - Deployments API.</strong></span> The Templates - Deployments - Legacy API is now deprecated and the associated endpoints will be removed in the next major release. Instead, you should now use the <a class="xref" href="Deployments_-_Templates.html" title="Deployments - Templates">Deployments - Templates</a> API.</p>
<p><span class="strong strong"><strong>Update max versions for apm_oss settings to 8.0.0.</strong></span> Elastic Stack version 8.0 is the maximum supported version for the following APM user settings:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">apm_oss.spanIndices</code>
</li>
<li class="listitem">
<code class="literal">apm_oss.errorIndices</code>
</li>
<li class="listitem">
<code class="literal">apm_oss.transactionIndices</code>
</li>
<li class="listitem">
<code class="literal">apm_oss.indexPattern</code>
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="ece-release-notes-2.13.2.html">Elastic Cloud Enterprise 2.13.2 »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>
