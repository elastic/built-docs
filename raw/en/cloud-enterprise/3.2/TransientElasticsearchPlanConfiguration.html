<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>TransientElasticsearchPlanConfiguration | Elastic Cloud Enterprise Reference [3.2] | Elastic</title>
<meta class="elastic" name="content" content="TransientElasticsearchPlanConfiguration | Elastic Cloud Enterprise Reference [3.2]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [3.2]"/>
<link rel="up" href="definitions.html" title="Definitions"/>
<link rel="prev" href="TransientAppSearchPlanConfiguration.html" title="TransientAppSearchPlanConfiguration"/>
<link rel="next" href="TransientEnterpriseSearchPlanConfiguration.html" title="TransientEnterpriseSearchPlanConfiguration"/>
<meta class="elastic" name="product_version" content="3.2"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/3.2"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="3.2"/>
</head>
<body>
<div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="TransientAppSearchPlanConfiguration.html">« <code class="literal">TransientAppSearchPlanConfiguration</code></a>
</span>
<span class="next">
<a href="TransientEnterpriseSearchPlanConfiguration.html"><code class="literal">TransientEnterpriseSearchPlanConfiguration</code> »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [3.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-restful-api.html">RESTful API</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-api-reference.html">API reference</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="definitions.html">Definitions</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>TransientElasticsearchPlanConfiguration</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/ce-api-swagger.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="TransientElasticsearchPlanConfiguration"></a><code class="literal">TransientElasticsearchPlanConfiguration</code></h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/ce-api-swagger.asciidoc">edit</a></div>
</div></div></div>
<p>Defines the configuration parameters that control how the plan is applied. For example, the Elasticsearch cluster topology and Elasticsearch settings.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="ece_properties_441"></a>Properties</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/ce-api-swagger.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">cluster_settings_json</code> (<code class="literal">object</code>)
</span>
</dt>
<dd>
<p>
If specified, contains transient settings to be applied to an Elasticsearch cluster during changes, default values shown below applied.
These can be overridden by specifying them in the map (or null to unset). Additional settings can also be set. Settings will be cleared after the plan has finished. If not specified, no settings will be applied.
NOTE: These settings are only explicitly cleared for 5.x&#43; clusters, they must be hand-reset to their defaults in 2.x- (or a cluster reboot will clear them).
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
indices.store.throttle.max_bytes_per_sec: 150Mb
</li>
<li class="listitem">
indices.recovery.max_bytes_per_sec: 150Mb
</li>
<li class="listitem">
cluster.routing.allocation.cluster_concurrent_rebalance: 10
</li>
<li class="listitem">
cluster.routing.allocation.node_initial_primaries_recoveries: 8
</li>
<li class="listitem">
cluster.routing.allocation.node_concurrent_incoming_recoveries: 8
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">plan_configuration</code> (<a class="xref" href="ElasticsearchPlanControlConfiguration.html" title="ElasticsearchPlanControlConfiguration"><code class="literal">ElasticsearchPlanControlConfiguration</code></a>)
</span>
</dt>
<dd>
The configuration settings for the timeout and fallback parameters.
</dd>
<dt>
<span class="term">
<code class="literal">remote_clusters</code> (<a class="xref" href="RemoteResources.html" title="RemoteResources"><code class="literal">RemoteResources</code></a>)
</span>
</dt>
<dd>
The list of resources that will be configured as remote clusters
</dd>
<dt>
<span class="term">
<code class="literal">restore_snapshot</code> (<a class="xref" href="RestoreSnapshotConfiguration.html" title="RestoreSnapshotConfiguration"><code class="literal">RestoreSnapshotConfiguration</code></a>)
</span>
</dt>
<dd>
Restores a snapshot from a local or remote repository.
</dd>
<dt>
<span class="term">
<code class="literal">strategy</code> (<a class="xref" href="PlanStrategy.html" title="PlanStrategy"><code class="literal">PlanStrategy</code></a>)
</span>
</dt>
<dd>
The options for performing a plan change. Specify only one property each time. The default is <code class="literal">grow_and_shrink</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="ece_example_451"></a>Example</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/ce-api-swagger.asciidoc">edit</a></div>
</div></div></div>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
   "cluster_settings_json" : {},
   "plan_configuration" : {
      "calm_wait_time" : 0,
      "cluster_reboot" : "string",
      "extended_maintenance" : true,
      "max_snapshot_age" : 0,
      "max_snapshot_attempts" : 0,
      "move_allocators" : [
         {
            "allocator_down" : true,
            "from" : "string",
            "to" : [
               "string"
            ]
         }
      ],
      "move_instances" : [
         {
            "from" : "string",
            "instance_down" : true,
            "to" : [
               "string"
            ]
         }
      ],
      "move_only" : true,
      "override_failsafe" : true,
      "preferred_allocators" : [
         "string"
      ],
      "reallocate_instances" : true,
      "skip_data_migration" : true,
      "skip_post_upgrade_steps" : true,
      "skip_snapshot" : true,
      "skip_snapshot_post_major_upgrade" : true,
      "skip_upgrade_checker" : true,
      "timeout" : 0
   },
   "remote_clusters" : {
      "resources" : [
         {
            "alias" : "string",
            "deployment_id" : "string",
            "elasticsearch_ref_id" : "string",
            "info" : {
               "compatible" : true,
               "connected" : true,
               "healthy" : true,
               "trusted" : true,
               "trusted_back" : true
            },
            "skip_unavailable" : true
         }
      ]
   },
   "restore_snapshot" : {
      "repository_config" : {
         "raw_settings" : {}
      },
      "repository_name" : "string",
      "restore_payload" : {
         "indices" : [
            "string"
         ],
         "raw_settings" : {}
      },
      "snapshot_name" : "string",
      "source_cluster_id" : "string",
      "strategy" : "string"
   },
   "strategy" : {
      "autodetect" : {},
      "grow_and_shrink" : {},
      "rolling" : {
         "allow_inline_resize" : true,
         "group_by" : "string",
         "shard_init_wait_time" : 0,
         "skip_synced_flush" : true
      },
      "rolling_grow_and_shrink" : {}
   }
}</pre>
</div>
</div>

</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</div><div class="navfooter">
<span class="prev">
<a href="TransientAppSearchPlanConfiguration.html">« <code class="literal">TransientAppSearchPlanConfiguration</code></a>
</span>
<span class="next">
<a href="TransientEnterpriseSearchPlanConfiguration.html"><code class="literal">TransientEnterpriseSearchPlanConfiguration</code> »</a>
</span>
</div>
</body>
</html>
