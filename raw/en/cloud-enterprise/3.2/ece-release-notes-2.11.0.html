<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elastic Cloud Enterprise 2.11.0 | Elastic Cloud Enterprise Reference [3.2] | Elastic</title>
<meta class="elastic" name="content" content="Elastic Cloud Enterprise 2.11.0 | Elastic Cloud Enterprise Reference [3.2]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [3.2]"/>
<link rel="up" href="ece-release-notes.html" title="Release notes"/>
<link rel="prev" href="ece-release-notes-2.11.1.html" title="Elastic Cloud Enterprise 2.11.1"/>
<link rel="next" href="ece-release-notes-2.10.1.html" title="Elastic Cloud Enterprise 2.10.1"/>
<meta class="elastic" name="product_version" content="3.2"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/3.2"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="3.2"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [3.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-release-notes-2.11.1.html">« Elastic Cloud Enterprise 2.11.1</a>
</span>
<span class="next">
<a href="ece-release-notes-2.10.1.html">Elastic Cloud Enterprise 2.10.1 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-release-notes-2.11.0"></a>Elastic Cloud Enterprise 2.11.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/releases/2.11.0/index.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="ece_release_highlights_3"></a>Release highlights<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/releases/2.11.0/index.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Fleet Server is now GA and supported on Elastic Cloud Enterprise.</strong></span> As part of the Elastic Stack 7.14 release, <a href="/guide/en/fleet/7.14/fleet-server.html" class="ulink" target="_top">Fleet server</a> is now generally available. Fleet Server lets you centrally manage an entire fleet of Elastic Agents from within Kibana.</p>
<p>You are required to upgrade to this ECE version to use the Fleet GA version that is included in the APM Server component. To learn more, check <a class="xref" href="ece-manage-apm-and-fleet.html" title="Manage your APM &amp; Fleet Server (7.13+)">Manage your APM &amp; Fleet Server</a>.</p>
<p>The following changes are included in this release.</p>
<h3><a id="ece_features_6"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/releases/2.11.0/feature.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Display storage for all data nodes.</strong></span> The <span class="strong strong"><strong>Create a deployment</strong></span> page now displays the amount of storage to be allocated to each data tier.</p>
<p><span class="strong strong"><strong>Make costs APIs available.</strong></span> Exposes the costs analysis API, a set of endpoints to fetch costs by organization.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">GET /billing/costs/{organization-id}?from=start_date&amp;to=end_date</code>
to fetch costs overview for the current organization.
</li>
<li class="listitem">
<code class="literal">GET /billing/costs/{organization-id}/deployments?from=start_date&amp;to=end_date</code>
to fetch deployments costs for the current organization.
</li>
<li class="listitem">
<code class="literal">GET /billing/costs/{organization-id}/items?from=start_date&amp;to=end_date</code>
to fetch itemized costs for the current organization.
</li>
<li class="listitem">
<code class="literal">GET /billing/costs/{organization-id}/deployments/{deployment-id}/items?from=start_date&amp;to=end_date</code>
to fetch itemized costs by deployment.
</li>
</ul>
</div>
<p>Depending on the role of the user consuming those APIs, end-user or administrator, the APIs allow them to fetch the costs of their own organization only or any organizations, respectively.</p>
<p><span class="strong strong"><strong>New create deployment experience.</strong></span> Removed the step to select different templates when creating a deployment and enhanced the overall deployment creation user experience.</p>
<h3><a id="ece_enhancements_7"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/releases/2.11.0/enhancement.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Rework conditional logic for ValidateEnoughDiskSpace.</strong></span> The step "Validating disk space" will not show up as often in the plan activity log for plans which do not downsize the cluster.</p>
<p><span class="strong strong"><strong>Force new Kibana instance if the deployment alias changes.</strong></span> Restart Kibana when the deployment alias is changed. This is to make sure the <code class="literal">server.publicBaseUrl</code> setting in Kibana is picked up on changes to the deployment alias.</p>
<p><span class="strong strong"><strong>Set server.publicBasePath for every Kibana deployment.</strong></span> Every cloud deployment of Kibana will have the setting <code class="literal">server.publicBasePath</code> automatically configured to the URL of Kibana.</p>
<p><span class="strong strong"><strong>Rework conditional logic for EnsureCleanAllocationsStep.</strong></span> The step "Ensuring valid shard allocation rules are present" will not run as often during plans when it doesn’t need to.</p>
<p><span class="strong strong"><strong>[ZK History pruning] Stale attempts detection and autocleaning.</strong></span> Adds a mechanism by which plan attempts entries older than 30 days (this age can be changed through the <code class="literal">STALE_ATTEMPTS_AGE</code> constructor service environment variable) will be deleted upon plan changes as long as they are not the last train of failed old attempts or the last old successful attempt.</p>
<p><span class="strong strong"><strong>Rework conditional logic for RunIndexCuration.</strong></span> The step "Running index curation" will not run during plans as often when it does not need to.</p>
<p><span class="strong strong"><strong>Enable data pipeline logging on director.</strong></span> Director service logs are now shipped to the logging-and-metrics cluster.</p>
<p><span class="strong strong"><strong>Rework conditional logic for ApplyCurationSettings.</strong></span> The step "Applying index curation settings" will not run as often when it does not need to.</p>
<p><span class="strong strong"><strong>Adding <code class="literal">monitoring.cluster_alerts.allowedSpaces</code> to Kibana settings.</strong></span> Allows users to restrict which spaces the auto generated cluster alerts are created in for Elastic Stack monitoring.</p>
<p><span class="strong strong"><strong>Add Kibana ECS audit settings.</strong></span> Adds support for the new Kibana  <a href="/guide/en/kibana/8.8/security-settings-kb.html#audit-logging-settings" class="ulink" target="_top">ECS audit logging settings</a>.</p>
<p><span class="strong strong"><strong>Support Enterprise Search with on-demand heap dump capture.</strong></span> Extended on-demand heap dump capture to Enterprise Search instances.</p>
<p><span class="strong strong"><strong>Change the default overcommit to 1.0.</strong></span> ECE no longer overcommits CPU resources to hosted applications, to improve the performance predictability of those applications.</p>
<p><span class="strong strong"><strong>Improvements in vacate performance.</strong></span> Improves the performance of moving instances off an allocator by consolidating resource fetching and parallelizing resources.</p>
<p><span class="strong strong"><strong>Support <em>validate_only</em> in deployment template endpoints.</strong></span> This PR adds a <code class="literal">validate_only</code> parameter to the deployment template endpoints, allowing the user to validate a <code class="literal">create</code> or <code class="literal">update</code> request, without actually making any changes.</p>
<p><span class="strong strong"><strong>Make WaitForIndexCurationLock step optional.</strong></span> The step "Wait for index curation lock" will no longer run during plans where index curation will not be performed.</p>
<p><span class="strong strong"><strong>Extend ConfigSettingsService to configure Enterprise Search setting.</strong></span> A new Enterprise Search setting <code class="literal">kibana.external_url</code> is added. This setting is used by Enterprise Search to link to the Kibana instance in the same deployment.</p>
<p><span class="strong strong"><strong>Skip some validation steps if not removing data nodes.</strong></span> Plans for clusters that are unhealthy,  with red shards, will no longer fail during validation. This only applies if the plan does not remove any data nodes, unless the cluster has no master. This will make it easier to run rolling or scale-up plans to resolve cluster issues without using the <code class="literal">override_failsafe</code> option.</p>
<p><span class="strong strong"><strong>Improved create deployment waiting experience.</strong></span> Simplified the user experience while a new deployment is being created.</p>
<p><span class="strong strong"><strong>Download heap dumps Allocator API.</strong></span> Adds API for downloading heap dumps directly from allocator.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">GET /api/&lt;clustertype&gt;/&lt;clusterid&gt;/instances/&lt;instanceid&gt;/heap_dump</code> returns details about an existing heap dump on disk
</li>
<li class="listitem">
<code class="literal">GET /api/&lt;clustertype&gt;/&lt;clusterid&gt;/instances/&lt;instanceid&gt;/heap_dump/_download</code> returns the binary heap dump file
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Adjust internal cert expirations.</strong></span> Changes the default certificate expiration to 10 years for internal services, including client forwarders and Elasticsearch nodes. Leaves a 398 day expiration for user-facing certificates, including those for the cloud UI and the adminconsole stunnels.</p>
<h3><a id="ece_bug_fixes_14"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/releases/2.11.0/bug.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Use validated deployment alias for ConfigSettingsService.</strong></span> Updates <code class="literal">server.publicBaseUrl</code> when removing the alias from a deployment.</p>
<p><span class="strong strong"><strong>Tolerate absent awareness.attributes.</strong></span> Fixed a bug that would cause plans to fail if an Elasticsearch cluster had transient awareness settings without specific attributes set.</p>
<p><span class="strong strong"><strong>Show "Delete APM" only once during a plan change.</strong></span> After removing Enterprise Search or APM from a deployment, they would continue to appear in the UI plan summary in subsequent plan changes, making it unclear if they had been removed from the deployment.</p>
<p><span class="strong strong"><strong>Limit master instances to 1 node per zone.</strong></span> Fixed a bug that allowed more than one dedicated master node in a zone.</p>
<p><span class="strong strong"><strong>Fix move instance validation performance issue.</strong></span> Fixed a performance issue that occurred when moving instances are validated.</p>
<p><span class="strong strong"><strong>Frozen autoscaling size display.</strong></span> Fixed the display of searchable storage sizing for frozen tiers, when autoscaling is turned on.</p>
<p><span class="strong strong"><strong>Display frozen tier usage as MB.</strong></span> Fixed a unit conversion bug where the number of bytes was shown as the number of megabytes for frozen tier usage.</p>
<p><span class="strong strong"><strong>Remove StatelessIPTablesPublisher.</strong></span> Removed the IP Tables Publisher. The publisher can result in resource leaks in the allocator which could cause instability in the allocator.</p>
<h3><a id="ece_deprecations_6"></a>Deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/releases/2.11.0/deprecation.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Deprecating the CPU factor deployment setting.</strong></span> The CPU factor setting was used to provide a deployment with more CPU resources than it was entitled to, based on its relative size. This could lead to inconsistent and unpredictable behavior since it depends on how many other instances are running on the same host. We are deprecating support for the  <a href="/guide/en/cloud-enterprise/current/ece-manage-capacity.html#ece-alloc-cpu" class="ulink" target="_top">CPU factor setting</a> and we will completely remove support for this setting in the future and will instead use a factor of 1.0 in all deployments. You can set the hard_limit to <code class="literal">false</code> if you would like the operating system to allocate more CPU resources when possible.</p>
<p><span class="strong strong"><strong>Deprecating CORS handling by the proxy.</strong></span> We will deprecate handling of <a class="xref" href="ece-configure-cors.html" title="Configure Cross-Origin Resource Sharing (CORS)">Cross-Origin Resource Sharing (CORS) headers</a> by the proxy in ECE 3.0. These will be handled by the deployment components such as Elasticsearch, Kibana, and others. in ECE 2.12, we will provide a migration script with instructions to migrate the CORS handling to the deployment components.</p>
<h3><a id="ece_docs_4"></a>Docs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/releases/2.11.0/docs.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Clarify anonymous user policy information.</strong></span> We&#8217;ve updated the upgrade documentation to indicate that <code class="literal">anonymous</code> user access is disabled by default in Elasticsearch versions 7.10 and higher. If your use-case involves unauthenticated access, you can enable this user by adding the <code class="literal">xpack.security.authc.anonymous</code> setting to the <code class="literal">elasticsearch.yml</code> file. For details, check <a href="/guide/en/elasticsearch/reference/8.8/anonymous-access.html" class="ulink" target="_top">enabling anonymous access</a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-release-notes-2.11.1.html">« Elastic Cloud Enterprise 2.11.1</a>
</span>
<span class="next">
<a href="ece-release-notes-2.10.1.html">Elastic Cloud Enterprise 2.10.1 »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>
