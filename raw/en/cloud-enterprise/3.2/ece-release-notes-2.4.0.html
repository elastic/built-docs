<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elastic Cloud Enterprise 2.4.0 | Elastic Cloud Enterprise Reference [3.2] | Elastic</title>
<meta class="elastic" name="content" content="Elastic Cloud Enterprise 2.4.0 | Elastic Cloud Enterprise Reference [3.2]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [3.2]"/>
<link rel="up" href="ece-release-notes.html" title="Release notes"/>
<link rel="prev" href="ece-release-notes-2.4.1.html" title="Elastic Cloud Enterprise 2.4.1"/>
<link rel="next" href="ece-release-notes-2.3.2.html" title="Elastic Cloud Enterprise 2.3.2"/>
<meta class="elastic" name="product_version" content="3.2"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/3.2"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="3.2"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [3.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-release-notes-2.4.1.html">« Elastic Cloud Enterprise 2.4.1</a>
</span>
<span class="next">
<a href="ece-release-notes-2.3.2.html">Elastic Cloud Enterprise 2.3.2 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-release-notes-2.4.0"></a>Elastic Cloud Enterprise 2.4.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/ce-release-notes-up-to-2.7.0.asciidoc">edit</a></h2>
</div></div></div>
<p>New for Elastic Cloud Enterprise 2.4.0:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Elastic App Search (beta)</strong></span>. You can now add Elastic App Search to your deployments for a more streamlined search experience: From mobile applications to geo-localized search, Elastic App Search offers customization tools, such as query-time synonyms and relevance tuning interfaces, that cater to both technical and non-technical search managers on your team. Check <a class="xref" href="ece-enable-appsearch.html" title="Enable App Search">Enable App Search</a>.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Elastic Cloud Control tooling (ecctl, beta)</strong></span>. A new command-line interface, ecctl is built on top of our existing ECE API and used by our own engineers. With ecctl, you can perform many of the operations that traditionally require using the Cloud UI or authenticating with the ECE API directly from the command line. This new tool provides added value if you want to script or automate portions of your ECE operations. The code is open for contributions on GitHub, so that you can build your own solution on top or add your own commands. New releases of ecctl  happen separately from the ECE release cadence. Check  <a href="/guide/en/ecctl/current/index.html" class="ulink" target="_top">Elastic Cloud Control Documentation</a>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Better control through API keys</strong></span>. ECE now supports API keys that you can hand out to teams so that they can view or modify deployments. These API keys include tight integration with ECE role-based access controls (RBAC), so that an ECE administrator can create unique API keys for each user. Additionally, these user-specific API keys can be revoked as needed, for example in the case of a security compromise. Check <a class="xref" href="ece-restful-api-authentication.html#ece-api-keys" title="Authenticate using an API key">Authenticate using an API key</a>.
</li>
<li class="listitem">
<p><span class="strong strong"><strong>New API endpoints to manage deployments</strong></span>. This version of ECE introduces new API endpoints that treat deployments as a single entity, so that you can manage an entire deployment as a whole. Gone are the days when you needed to use different endpoints to upgrade the Elastic Stack components of a deployment, for example. The following endpoints are all new:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="Deployment_-_CRUD.html" title="Deployment - CRUD">Deployment - CRUD</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_Commands.html" title="Deployment - Commands">Deployment - Commands</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_Info.html" title="Deployment - Info">Deployment - Info</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_-_resync.html" title="Deployment - resync">Deployment - resync</a>
</li>
<li class="listitem">
<a class="xref" href="Deployment_Resources_-_CRUD.html" title="Deployment Resources - CRUD">Deployment Resources - CRUD</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<span class="strong strong"><strong>New deployment distribution strategies</strong></span>. One of the benefits of the ECE platform is its robust deployment distribution logic that maximizes the utilization of the underlying resources you deploy the Elastic Stack on. With ECE 2.4, we are introducing several new deployment distribution strategies that let you customize how the Elastic Stack gets distributed across the available set of allocators in your ECE installation. Check <a class="xref" href="ece-configuring-allocator-affinity.html" title="Configure allocator affinity">Configure allocator affinity</a>.
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>A replacement proxy for ECE</strong></span>. One of the most important components of Elastic Cloud Enterprise is the proxy that most users interact with and that routes all incoming requests to the right deployment. ECE 2.4 includes a brand new proxy layer that brings improved stability and fault tolerance, along with the ability to keep routing traffic to Elastic Stack deployments even if the ECE coordination layer fails completely. Although new to ECE 2.4, this replacement proxy  has been running in production as part of the <a href="/products/elasticsearch/service" class="ulink" target="_top">Elasticsearch Service</a> for several months, across three major cloud providers and dozens of regions. The new proxy is also more memory and CPU efficient, outperforming the previous implementation.
</li>
<li class="listitem">
<span class="strong strong"><strong>Updated proxy layer defaults.</strong></span> In previous versions, the Elastic Cloud Enterprise proxy layer permitted negotiation with a client using TLS 1.0 and an intermediate level cipher suite. The proxy settings are now updated to default to a minimum of TLS 1.2 and a modern cipher suite, but we also include support for reverting to the legacy behavior. Check <a class="xref" href="ece-configure-tls-version.html" title="Configuring the TLS version">Configuring the TLS version</a>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Elasticsearch and Kibana 7.4.1 and 6.8.4</strong></span>. This version of Elastic Cloud Enterprise includes new Elastic Stack versions. Previous versions of ECE can download these versions and <a class="xref" href="ece-manage-elastic-stack.html#ece-manage-elastic-stack-add" title="Add Elastic Stack packs">add them as Elastic Stack packs</a>. To learn more about best practices when upgrading, check <a class="xref" href="ece-upgrade-deployment.html" title="Upgrade versions">Upgrade versions</a>.
</li>
</ul>
</div>
<p>Want to learn more about what&#8217;s in this release? Check out our <a href="elastic.co/blog/elastic-cloud-enterprise-2-4-app-search-new-cli-api-keys-and-more" class="ulink" target="_top">Elastic Cloud Enterprise 2.4 announcement blog post</a>.
To upgrade to your Elastic Cloud Enterprise installation to this latest version, check <a class="xref" href="ece-upgrade.html" title="Upgrade your installation">Upgrade your installation</a>.</p>
<h3><a id="ece-release-notes-2.4.0-known-problems"></a>Known problems<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-72/docs/cloud-enterprise/ce-release-notes-up-to-2.7.0.asciidoc">edit</a></h3>
<p>This version of ECE has a known problem with traffic filtering, where users are unable to add or manage rule sets within the Cloud UI correctly. When attempting to add a rule while creating a new rule set, there is no option to save the rule or add more rules. Instead, a <span class="strong strong"><strong>Create rule set</strong></span> button is displayed and while attempting to create the rule set the request appears to complete successfully, the new rule set does not include the rule. As a workaround, you can create and manage rule sets with the REST API.</p>
<p>This issue is fixed in <a class="xref" href="ece-release-notes-2.4.1.html" title="Elastic Cloud Enterprise 2.4.1">Elastic Cloud Enterprise 2.4.1</a>.</p>
<p>This version of Elastic Cloud Enterprise has a known problem with the installation or upgrade script yielding a <span class="strong strong"><strong>false negative</strong></span> exception when journaldis used as a logging driver in Docker daemon versions 1.12 and 1.13. This error occurs even though the underlying bootstrap or upgrade process has completed successfully. Users need to check the output of <code class="literal">bootstrap.log</code> or <code class="literal">upgrade.log</code> to determine if the process completed successfully.</p>
<p>ECE versions from 2.4.0 to 2.4.3 are affected.</p>
<p>This version of ECE has a known problem with App Search upgrades from versions 7.5 to 7.6: Rolling upgrades can lead to limited data loss if you are actively modifying new engines during the upgrade process. The upgrade requires App Search instances for 7.5 to be stopped before the 7.6 ones are started.
As a workaround, before upgrading the 7.5 App Search instances to 7.6, you can stop the traffic towards those instances by selecting <span class="strong strong"><strong>Stop routing</strong></span> in the UI. Once all 7.5 instances are no longer routing traffic, it is safe to perform the upgrade by selecting <span class="strong strong"><strong>Upgrade</strong></span>.</p>
<p>ECE versions from 2.4.0 to 2.4.4 are affected.</p>
<p>This version of ECE has a known problem with upgrading Elasticsearch to versions 7.7 and higher in deployments with App Search.
App Search is no longer present in those stack versions and will be replaced by Enterprise Search, which will be available in an upcoming minor version of Elastic Cloud Enterprise.</p>
<p>ECE versions from 2.4 and 2.5 are affected.</p>
<p>All App Search versions from 7.5 to 7.6 have a bug in which the <code class="literal">system.log</code> file is not rotated.</p>
<p><em>Release date: October 29, 2019</em></p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-release-notes-2.4.1.html">« Elastic Cloud Enterprise 2.4.1</a>
</span>
<span class="next">
<a href="ece-release-notes-2.3.2.html">Elastic Cloud Enterprise 2.3.2 »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>
