<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Migrate the cross-cluster search deployment template | Elastic Cloud Enterprise Reference [3.7] | Elastic</title>
<meta class="elastic" name="content" content="Migrate the cross-cluster search deployment template | Elastic Cloud Enterprise Reference [3.7]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [3.7]"/>
<link rel="up" href="ece-enable-ccs.html" title="Enable cross-cluster search and cross-cluster replication"/>
<link rel="prev" href="ece-edit-remove-trusted-environment.html" title="Edit or remove a trusted environment"/>
<link rel="next" href="ece-enable-appsearch.html" title="Enable App Search"/>
<meta class="elastic" name="product_version" content="3.7"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/3.7"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="3.7"/>
</head>
<body>
<div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="ece-edit-remove-trusted-environment.html">« Edit or remove a trusted environment</a>
</span>
<span class="next">
<a href="ece-enable-appsearch.html">Enable App Search »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [3.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-administering-deployments.html">Administering deployments</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-enable-ccs.html">Enable cross-cluster search and cross-cluster replication</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Migrate the cross-cluster search deployment template</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/shared/ec-ce-migrate-ccs.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/deploy-manage/remote-clusters/ece-migrate-ccs">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="ece-migrate-ccs"></a>Migrate the cross-cluster search deployment template</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/shared/ec-ce-migrate-ccs.asciidoc">edit</a></div>
</div></div></div>
<p>The cross-cluster search deployment template is now deprecated and will be removed in 3.0. You no longer need to use the dedicated cross-cluster template to search across deployments. Instead, you can now use any template to <a class="xref" href="ece-enable-ccs.html" title="Enable cross-cluster search and cross-cluster replication">configure remote clusters</a> and search across them when using stack version 6.7 or above. Existing deployments created using this template are not affected, but they are required to migrate to another template before upgrading to the next 8.0 major version.</p>
<p>In order to migrate your existing CCS deployment using the CCS Deployment template to the new mechanism which supports CCR and cross-environment remote clusters you will need to migrate your data a new deployment <a class="xref" href="ece-migrate-ccs.html#ece-migrate-ccs-deployment-using-snapshot" title="Use a snapshot to migrate deployments that use the cross-cluster search deployment template">following these steps</a>.</p>
<div class="position-relative"><h3><a id="ece-migrate-ccs-deployment-using-snapshot"></a>Use a snapshot to migrate deployments that use the cross-cluster search deployment template</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/shared/ec-ce-migrate-ccs.asciidoc">edit</a></div>
<p>You can make this change in the user Cloud UI. The only drawback of this method is that it changes the URL used to access the Elasticsearch cluster and Kibana.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
The first step for any approach is to remove the remote clusters from your deployment. You will need to add them back later.
</li>
<li class="listitem">
From the deployment menu, open the <span class="strong strong"><strong>Snapshots</strong></span> page and click <span class="strong strong"><strong>Take Snapshot now</strong></span>. Wait for the snapshot to finish.
</li>
<li class="listitem">
<p>From the main <span class="strong strong"><strong>Deployments</strong></span> page, click <span class="strong strong"><strong>Create deployment</strong></span>. Next to <span class="strong strong"><strong>Settings</strong></span> toggle on <span class="strong strong"><strong>Restore snapshot data</strong></span>, and then select your deployment and the snapshot that you created.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/ce-create-from-snapshot-updated.png" alt="Create a Deployment using a snapshot">
</div>
</div>
</li>
<li class="listitem">
Finally, <a href="/guide/en/cloud-enterprise/3.7/ece-remote-cluster-other-ece.html" class="ulink" target="_top">configure the remote clusters</a>.
</li>
</ol>
</div>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</div><div class="navfooter">
<span class="prev">
<a href="ece-edit-remove-trusted-environment.html">« Edit or remove a trusted environment</a>
</span>
<span class="next">
<a href="ece-enable-appsearch.html">Enable App Search »</a>
</span>
</div>
</body>
</html>
