<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Remove unwanted deployment templates and instance configurations | Elastic Cloud Enterprise Reference [3.7] | Elastic</title>
<meta class="elastic" name="content" content="Remove unwanted deployment templates and instance configurations | Elastic Cloud Enterprise Reference [3.7]">

<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [3.7]"/>
<link rel="up" href="ece-restful-api-examples.html" title="API examples"/>
<link rel="prev" href="ece-restful-api-examples-customize-deployment.html" title="Customize your deployment"/>
<link rel="next" href="ece-restful-api-examples-configuring-keystore.html" title="Secure your settings"/>
<meta class="elastic" name="product_version" content="3.7"/>
<meta class="elastic" name="product_name" content="ECE"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/3.7"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="3.7"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="ece-restful-api-examples-customize-deployment.html">« Customize your deployment</a>
</span>
<span class="next">
<a href="ece-restful-api-examples-configuring-keystore.html">Secure your settings »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [3.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-restful-api.html">RESTful API</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-restful-api-examples.html">API examples</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Remove unwanted deployment templates and instance configurations</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/cloud-enterprise/ce-api-examples.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="ece-restful-api-examples-remove-deplopyment-instances-or-templates"></a>Remove unwanted deployment templates and instance configurations</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/cloud-enterprise/ce-api-examples.asciidoc">edit</a></div>
</div></div></div>
<p>If you <a class="xref" href="ece-configuring-ece-templates.html" title="Configure deployment templates">configure the deployment templates</a> in ECE and find that you created instance configurations or deployment templates that you no longer need, you can use these steps to delete them through the RESTful API. Alternatively, you can also use the UI to delete these artifacts.</p>
<div class="position-relative"><h4><a id="ece_before_you_begin_28"></a>Before you begin</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/cloud-enterprise/ce-api-examples.asciidoc">edit</a></div>
<p>Make sure that your deployment template is no longer in use by any deployment. You cannot delete system-owned instance configurations or deployment templates.</p>
<div class="position-relative"><h4><a id="ece_steps_8"></a>Steps</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-105/docs/cloud-enterprise/ce-api-examples.asciidoc">edit</a></div>
<p>To remove an instance configuration:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>List the available instance configurations to find out the ID for the instance configuration you want to delete:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -k -X GET -H "Authorization: ApiKey $ECE_API_KEY" https://$COORDINATOR_HOST:12443/api/v1/platform/configuration/instances</pre>
</div>
</li>
<li class="listitem">
<p>Delete the instance configuration using the ID:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -k -X  DELETE -H "Authorization: ApiKey $ECE_API_KEY" https://$COORDINATOR_HOST:12443/api/v1/platform/configuration/instances/INSTANCE_CONFIGURATION_ID</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">INSTANCE_CONFIGURATION_ID</code>
</span>
</dt>
<dd>
The instance configuration ID as returned by the <code class="literal">instance_configuration_id</code> field
</dd>
</dl>
</div>
</li>
</ol>
</div>
<p>To remove a deployment template through the RESTful API:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>List the available deployment templates to find out the ID:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -k -X GET -H "Authorization: ApiKey $ECE_API_KEY" https://$COORDINATOR_HOST:12443/api/v1/platform/configuration/templates/deployments</pre>
</div>
</li>
<li class="listitem">
<p>Delete the deployment templates using the ID:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -k -X DELETE -H "Authorization: ApiKey $ECE_API_KEY" https://$COORDINATOR_HOST:12443/api/v1/platform/configuration/templates/deployments/DEPLOYMENT_TEMPLATE_ID</pre>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">DEPLOYMENT_TEMPLATE_ID</code>
</span>
</dt>
<dd>
The deployment template ID as returned by the <code class="literal">id</code> field
</dd>
</dl>
</div>
</li>
</ol>
</div>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</div><div class="navfooter">
<span class="prev">
<a href="ece-restful-api-examples-customize-deployment.html">« Customize your deployment</a>
</span>
<span class="next">
<a href="ece-restful-api-examples-configuring-keystore.html">Secure your settings »</a>
</span>
</div>
</body>
</html>
