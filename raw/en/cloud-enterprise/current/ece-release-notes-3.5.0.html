<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elastic Cloud Enterprise 3.5.0 | Elastic Cloud Enterprise Reference [3.5] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud Enterprise Reference [3.5]"/>
<link rel="up" href="ece-release-notes.html" title="Release notes"/>
<link rel="prev" href="ece-release-notes-3.5.1.html" title="Elastic Cloud Enterprise 3.5.1"/>
<link rel="next" href="ece-release-notes-3.4.1.html" title="Elastic Cloud Enterprise 3.4.1"/>
<meta name="DC.type" content="Learn/Docs/CloudEnterprise/Reference/3.5"/>
<meta name="DC.subject" content="ECE"/>
<meta name="DC.identifier" content="3.5"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud Enterprise Reference [3.5]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ece-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ece-release-notes-3.5.1.html">« Elastic Cloud Enterprise 3.5.1</a>
</span>
<span class="next">
<a href="ece-release-notes-3.4.1.html">Elastic Cloud Enterprise 3.4.1 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ece-release-notes-3.5.0"></a>Elastic Cloud Enterprise 3.5.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-81/docs/cloud-enterprise/releases/3.5.0/index.asciidoc">edit</a></h2>
</div></div></div>
<p>The following changes are included in this release.</p>
<h3><a id="ece_features"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-81/docs/cloud-enterprise/releases/3.5.0/feature.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Show name for External trusts.</strong></span> Added read-only name field to External trusts in deployments API that show the name of the referenced <code class="literal">TrustRelationship</code>.</p>
<p><span class="strong strong"><strong>Nodestats output to Elasticsearch and Zookeeper storage analysis Kibana objects.</strong></span> New command in <code class="literal">zkstat</code>: <code class="literal">zkstat node-stats-elasticsearch</code> which is equivalent to <code class="literal">node-stats</code> with the difference that its output is replaced by sending the collected data to an Elasticsearch instance by indexing each entry accordingly, and optionally creating the required Kibana objects to easily analyze this data.</p>
<p><span class="strong strong"><strong>Force social login if the organization mandates it.</strong></span> Adds a feature where organizations can mandate all the members to use social login.</p>
<p><span class="strong strong"><strong>Validate cert UID consistency.</strong></span> Validates that within the same organization a fingerprint is only used with one trust relationship UID and that a trust relationship always has all known valid certificates for the environment.</p>
<p><span class="strong strong"><strong>Disable Proxy RouteStatus loading for Kubernetes.</strong></span> Disable loading of status files in proxy for Kubernetes.</p>
<p><span class="strong strong"><strong>Update other deployments when updating certificates in DirectTrustRelationships.</strong></span> Simplified certificate rotation and revocation for remote cluster connections to clusters running outside of the current ECE environment. When multiple clusters in ECE trust the same external environment defined with a <code class="literal">DirectTrustRelationship</code>, then the certificates update for this environment for one deployment will automatically be applied to all other deployments trusting this environment.</p>
<p><span class="strong strong"><strong>Organizations mandate MFA.</strong></span> Adds a feature where organizations can mandate the usage of MFA for new members.</p>
<p><span class="strong strong"><strong>[Deployment Monitoring] Improved health experience.</strong></span> This PR adds uses the newly created <code class="literal">es health api</code> in installations &gt;=8.4 in order to give the user a better way of troubleshooting their issues. If using deployments &lt; 8.4, users are prompted to upgrade their deployments to get better troubleshooting suggestions.</p>
<h3><a id="ece_enhancements_2"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-81/docs/cloud-enterprise/releases/3.5.0/enhancement.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Allow ECE upgrade if the version is already up to date.</strong></span> Allows ECE upgrade to proceed even if ECE is already at the desired version. This allows the upgrader to perform upgrades of the system clusters if a newer stack version is available.</p>
<p><span class="strong strong"><strong>Use the Elasticsearch scoring when querying deployments.</strong></span> Searching deployments will now score and sort results based on the search query.</p>
<p><span class="strong strong"><strong>Add a name field to accounts.</strong></span> There is now a <code class="literal">name</code> field for account trust relationships.</p>
<p><span class="strong strong"><strong>Remove storageMultiplier from the list of immutable fields.</strong></span> Allow changes to the <code class="literal">storage_multiplier</code> field on existing instance configurations.</p>
<p><span class="strong strong"><strong>Add info to the Edit page when tier addition fails but instances still exist.</strong></span> If the addition of a new tier fails, but some instances are added, the user is now notified through the <span class="strong strong"><strong>Edit</strong></span> page.</p>
<p><span class="strong strong"><strong>Add usage and creation timestamps to Usage Records.</strong></span> The <code class="literal">usage_timestamp</code> and <code class="literal">creation_timestamp</code> fields are now added to Usage Records generated by metering CTS tasks. The <code class="literal">@timestamp</code> field is now deprecated.</p>
<p><span class="strong strong"><strong>Populate deployment level autoscaling in deployment templates on upgrade.</strong></span> Copies the <code class="literal">autoscaling_enabled</code> field from the Elasticsearch plan into the deployment settings for all defined deployment templates.</p>
<p><span class="strong strong"><strong>Add the upgrade button to the portal for each deployment.</strong></span> When a new version is available, you are notified and you can upgrade your deployment from the portal.</p>
<p><span class="strong strong"><strong>Add trusted relationship dropdown.</strong></span> Adding a dropdown of existing Trust Relationships so that users can select those as templates when creating new ones.</p>
<p><span class="strong strong"><strong>Ingest allocator GC logs.</strong></span> This change will ingest allocator GC logs into Elasticsearch logging clusters via filebeat for longer retention and better search capabilities. Disk space used will increase in the Elasticsearch cluster in which allocator logs are ingested. This is about 70 megabytes per allocator per day.</p>
<p><span class="strong strong"><strong>Reconfigure monitors.</strong></span> We have improved the monitoring runner to reconfigure monitors using configurations optionally stored in the Usage Cluster&#8217;s <code class="literal">billing-configuration</code> index.</p>
<p><span class="strong strong"><strong>Conditionally set datastore clients.</strong></span> We have improved the monitoring runner to conditionally set PG and/or Usage Cluster clients on monitors, depending on whether they need them.</p>
<p><span class="strong strong"><strong>Pricing on template migration.</strong></span> Price details are now visible when you migrate from one template to another.</p>
<p><span class="strong strong"><strong>Enrich platform API health checks.</strong></span> Enriched the platform API to expose more information about the checks used to determine the health status of an allocator/runner.</p>
<p><span class="strong strong"><strong>Show a full architecture vizualisation in the restore modal.</strong></span> Show a full architecture vizualisation, including stateless components when restoring a terminated deployment. Previously, this modal would simply sum the single zone Elasticsearch capacity which was confusing when multiple data tiers were in use, or a deployment spanned multiple availability zones.</p>
<p><span class="strong strong"><strong>Flush response without buffering if <code class="literal">X-Accel-Buffering: no</code> header exists in backend response.</strong></span> Proxy will flush response without buffering if <code class="literal">X-Accel-Buffering: no</code> header exists in backend response.</p>
<h3><a id="ece_bug_fixes_2"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-81/docs/cloud-enterprise/releases/3.5.0/bug.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Handle the security realm warnings on upgrade similarly to other warnings.</strong></span> Fixes a bug preventing users from updating their security realm settings during an upgrade.</p>
<p><span class="strong strong"><strong>ECE upgrader refactoring.</strong></span> Fixes a bug where ECE upgrade from versions older than 2.13 to versions greater or equal to 3.0 would be possible even if an ongoing upgrade was detected.</p>
<p><span class="strong strong"><strong>Disabled Enterprise Search not rendered in the UI.</strong></span> Fixes a bug in the UI that was preventing Enterprise Search to be re-enabled from the deployment <span class="strong strong"><strong>Edit</strong></span> page.</p>
<p><span class="strong strong"><strong>Compare plans against the previously successful plan, not just the previous plan.</strong></span> The plan activity now correctly compares plans to the previous successful plan, rather than just the previous plan.</p>
<p><span class="strong strong"><strong>Set the idle timeout on Elasticsearch connections.</strong></span> Prevents connection leaks from the Container Task Service (CTS).</p>
<p><span class="strong strong"><strong>Correctly remove incompatible extensions on upgrade.</strong></span> Upgrades for deployments that use custom extensions should no longer fail if an extension is incompatible with the target version.</p>
<p><span class="strong strong"><strong>Added reset to waitLoop/recursion.</strong></span> With this fix, the step <code class="literal">Waiting on Elastic Search to upgrade</code> will wait until Elasticsearch completes (or fails) the upgrade. The time elapsed during this step won&#8217;t be counted towards the overall plan timeout.</p>
<h3><a id="ece_breaking_changes"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-81/docs/cloud-enterprise/releases/3.5.0/breaking.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Append 6 first digits of deployment ID to cluster.metadata.display_name.</strong></span> Update the default ES <code class="literal">cluster.metadata.display_name</code> to contain <code class="literal">&lt;deployment_name&gt; (&lt;first_6_chars_of_deployment_ID&gt;)</code>, instead of simply containing the deployment name.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ece-release-notes-3.5.1.html">« Elastic Cloud Enterprise 3.5.1</a>
</span>
<span class="next">
<a href="ece-release-notes-3.4.1.html">Elastic Cloud Enterprise 3.4.1 »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>
