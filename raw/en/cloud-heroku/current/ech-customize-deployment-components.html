<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>How can I customize the components of my deployment? | Elasticsearch Add-On for Heroku Documentation | Elastic</title>
<meta class="elastic" name="content" content="How can I customize the components of my deployment? | Elasticsearch Add-On for Heroku Documentation">

<link rel="home" href="index.html" title="Elasticsearch Add-On for Heroku Documentation"/>
<link rel="up" href="ech-configure-settings.html" title="Configure your deployment"/>
<link rel="prev" href="ech-configure-deployment-settings.html" title="What deployment settings are available?"/>
<link rel="next" href="ech-adding-plugins.html" title="Add plugins and extensions"/>
<meta class="elastic" name="product_version" content="latest"/>
<meta class="elastic" name="product_name" content="Elasticsearch Add-On for Heroku"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Cloud-Heroku/Reference"/>
<meta name="DC.subject" content="Elasticsearch Add-On for Heroku"/>
<meta name="DC.identifier" content="latest"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Add-On for Heroku Documentation</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ech-configure.html">Configuring your deployment</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ech-configure-settings.html">Configure your deployment</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ech-configure-deployment-settings.html">« What deployment settings are available?</a>
</span>
<span class="next">
<a href="ech-adding-plugins.html">Add plugins and extensions »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ech-customize-deployment-components"></a>How can I customize the components of my deployment?<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h2>
</div></div></div>
<p>When you create or edit an existing deployment, you can fine-tune the capacity, add extensions, and select additional features.</p>
<h4><a id="ech-customize-autoscaling"></a>Autoscaling<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
<p>Autoscaling reduces some of the manual effort required to manage a deployment by adjusting the capacity as demands on the deployment change. Currently, autoscaling is supported to scale Elasticsearch data tiers upwards, and to scale machine learning nodes both upwards and downwards. Check <a class="xref" href="ech-autoscaling.html" title="Deployment autoscaling">Deployment autoscaling</a> to learn more.</p>
<h4><a id="ech-cluster-size"></a>Elasticsearch<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
<p>Depending upon how much data you have and what queries you plan to run, you need to select a cluster size that fits your needs. There is no silver bullet for deciding how much memory you need other than simply testing it. The <a class="xref" href="ech-monitoring.html" title="Keeping your deployment healthy">cluster performance metrics</a> in the <a href="https://cloud.elastic.co?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">Elasticsearch Add-On for Heroku console</a> can tell you if your cluster is sized appropriately. You can also <a class="xref" href="ech-enable-logging-and-monitoring.html" title="Enable logging and monitoring">enable deployment monitoring</a> for more detailed performance metrics. Fortunately, you can change the amount of memory allocated to the cluster later without any downtime for HA deployments.</p>
<p>To change a cluster&#8217;s topology, from deployment management, select <span class="strong strong"><strong>Edit deployment</strong></span> from the <span class="strong strong"><strong>Actions</strong></span> dropdown. Next, select a storage and RAM setting from the <span class="strong strong"><strong>Size per zone</strong></span> drop-down list, and save your changes. When downsizing the cluster, make sure to have enough resources to handle the current load, otherwise your cluster will be under stress.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-capacity.png" alt="Capacity slider to adjust Elasticsearch cluster size">
</div>
</div>
<p>Currently, half the memory is assigned to the JVM heap (a bit less when monitoring is activated). For example, on a 32 GB cluster, 16 GB are allotted to heap. The disk-to-RAM ratio currently is 1:24, meaning that you get 24 GB of storage space for each 1 GB of RAM. All clusters are backed by SSD drives.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>For production systems, we recommend not using less than 4 GB of RAM for your cluster, which assigns 2 GB to the JVM heap.</p>
</div>
</div>
<p>The CPU resources assigned to a cluster are relative to the size of your cluster, meaning that a 32 GB cluster gets twice as much CPU resources as a 16 GB cluster. All clusters are guaranteed their share of CPU resources, as we do not overcommit resources. Smaller clusters up to and including 8 GB of RAM benefit from temporary CPU boosting to improve performance when needed most.</p>
<h4><a id="ech-high-availability"></a>Fault tolerance<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
<p>High availability is achieved by running a cluster with replicas in multiple data centers (availability zones), to prevent against downtime when infrastructure problems occur or when resizing or upgrading deployments. We offer the options of running in one, two, or three data centers.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-fault-tolerance.png" alt="High availability features">
</div>
</div>
<p>Running in two data centers or availability zones is our default high availability configuration. It provides reasonably high protection against infrastructure failures and intermittent network problems. You might want three data centers if you need even higher fault tolerance. Just one zone might be sufficient, if the cluster is mainly used for testing or development.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Some <a class="xref" href="ech-reference-regions.html" title="Elasticsearch Add-On for Heroku regions">regions</a> might have only two availability zones.</p>
</div>
</div>
<p>Like many other changes, you change the level of fault tolerance while the cluster is running. For example, when you prepare a new cluster for production use, you can first run it in a single data center and then add another data center right before deploying to production.</p>
<p>While multiple data centers or availability zones increase a cluster&#8217;s fault tolerance, they do not protect against problematic searches that cause nodes to run out of memory. For a cluster to be highly reliable and available, it is also important to <a class="xref" href="ech-metrics-memory-pressure.html" title="How does high memory pressure affect performance?">have enough memory</a>.</p>
<p>The node capacity you choose is per data center. The reason for this is that there is no point in having two data centers if the failure of one will result in a cascading error because the remaining data center cannot handle the total load. Through the allocation awareness in Elasticsearch, we configure the nodes so that your Elasticsearch cluster will automatically allocate replicas between each availability zone.</p>
<h4><a id="echsharding"></a>Sharding<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
<p>You can get an at-a-glance status of all the shards in the deployment on the <span class="strong strong"><strong>Elasticsearch</strong></span> page.</p>
<div class="imageblock">
<div class="content">
<img src="images/ec-shard-activity.gif" alt="Shard activity">
</div>
</div>
<p>We recommend that you read <a href="/guide/en/elasticsearch/reference/8.8/size-your-shards.html" class="ulink" target="_top">Size your shards</a> before you change the number of shards.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="echmanage_user_settings_and_extensions"></a>Manage user settings and extensions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h3>
</div></div></div>
<p>Here, you can configure user settings, extensions, and system settings  (older versions only).</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ech-user-settings"></a>User settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
</div></div></div>
<p>Set specific configuration parameters to change how Elasticsearch and other Elastic products run. User settings are appended to the appropriate YAML configuration file, but not all settings are supported in Elasticsearch Add-On for Heroku.</p>
<p>For more information, refer to <a class="xref" href="ech-editing-user-settings.html" title="Edit your user settings">Edit your user settings</a>.</p>
<h5><a id="echextensions"></a>Extensions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h5>
<p>Lists the official plugins available for your selected Elasticsearch version, as well as any custom plugins and user bundles with dictionaries or scripts.</p>
<p>The reason we do not list the version chosen on this page is because we reserve the option to change it when necessary. That said, we will not force a cluster restart for a simple plugin upgrade unless there are severe issues with the current version. In most cases, plugin upgrades are applied lazily, in other words when something else forces a restart like you changing the plan or Elasticsearch runs out of memory.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only Gold and Platinum subscriptions have access to uploading custom plugins. All subscription levels, including Standard, can upload scripts and dictionaries.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="ech-scripting"></a>System settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
</div></div></div>
<p>For versions 5.x and older, you can configure several script settings. The defaults for the different supported script types are generally safe to accept as is, unless you have a specific requirement.</p>
<p>For each supported script type, you have three levels of scripting control:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Disable the scripts completely
</li>
<li class="listitem">
Enable scripts to run in a sandbox
</li>
<li class="listitem">
Enable all scripts
</li>
</ul>
</div>
<h4><a id="echkibana"></a>Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
<p>A Kibana instance is created automatically as part of every deployment.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use a version before 5.0 or if your deployment didn&#8217;t include a Kibana instance initially, there might not be a Kibana endpoint URL shown, yet. To enable Kibana, select <span class="strong strong"><strong>Enable</strong></span>. Enabling Kibana provides you with an endpoint URL, where you can access Kibana. It can take a short while to provision Kibana right after you select <span class="strong strong"><strong>Enable</strong></span>, so if you get an error message when you first access the endpoint URL, try again.</p>
</div>
</div>
<p>Selecting <span class="strong strong"><strong>Open</strong></span> will log you in to Kibana using single sign-on (SSO). For versions older than 7.9.2, you need to log in to Kibana with the <code class="literal">elastic</code> superuser. The password was provided when you created your deployment or <a class="xref" href="ech-password-reset.html" title="Reset the elastic user password">can be reset</a>.</p>
<p>In production systems, you might need to control what Elasticsearch data users can access through Kibana. Refer to <a class="xref" href="ech-security.html" title="Securing your deployment">Securing your deployment</a> to learn more.</p>
<h4><a id="echintegrations_server"></a>Integrations Server<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
<p>Integrations Server connects observability and security data from Elastic Agents and APM to Elasticsearch. An Integrations Server instance is created automatically as part of every deployment.</p>
<h4><a id="echenterprise_search"></a>Enterprise Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
<p>Enterprise Search enables you to add modern search to your application or connect and unify content across your workplace. An Enterprise Search instance is created automatically as part of every deployment.</p>
<h4><a id="echsecurity"></a>Security<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
<p>Here, you can configure features that keep your deployment secure: reset the password for the <code class="literal">elastic</code> user, set up traffic filters, and add settings to the Elasticsearch keystore. You can also set up remote connections to other deployments.</p>
<h4><a id="ech-maintenance-mode"></a>Maintenance mode<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
<p>In maintenance mode, requests to your cluster are blocked during configuration changes. You use maintenance mode to perform corrective actions that might otherwise be difficult to complete. Maintenance mode lasts for the duration of a configuration change and is turned off after the change completes.</p>
<p>We strongly recommend that you use maintenance mode when your cluster is overwhelmed by requests and you need to increase capacity. If your cluster is being overwhelmed because it is undersized for its workload, nodes might not respond to efforts to resize. Putting the cluster into maintenance mode as part of the configuration change can stop the cluster from becoming completely unresponsive during the configuration change, so that you can resolve the capacity issue. Without this option, configuration changes for clusters that are overwhelmed can take longer and are more likely to fail.</p>
<h4><a id="echactions"></a>Actions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-91/docs/saas/ec-configuring.asciidoc">edit</a></h4>
<p>There are a few actions you can perform from the <span class="strong strong"><strong>Actions</strong></span> dropdown:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Restart Elasticsearch - Needed only rarely, but full cluster restarts can help with a suspected operational issue before reaching out to Elastic for help.
</li>
<li class="listitem">
Delete your deployment - For deployment that you no longer need and don&#8217;t want to be charged for any longer. Deleting a deployment removes the Elasticsearch cluster and all your data permanently.
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Use these actions with care. Deployments are not available while they restart and deleting a deployment does really remove the Elasticsearch cluster and all your data permanently.</p>
</div>
</div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="ech-configure-deployment-settings.html">« What deployment settings are available?</a>
</span>
<span class="next">
<a href="ech-adding-plugins.html">Add plugins and extensions »</a>
</span>
</div>
</div>
</body>
</html>
