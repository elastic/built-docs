<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Best practices for major version upgrades | Elasticsearch Add-On for Heroku Documentation | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Add-On for Heroku Documentation"/>
<link rel="up" href="ech-upgrade-deployment.html" title="Upgrade versions"/>
<link rel="prev" href="ech-upgrade-deployment.html" title="Upgrade versions"/>
<link rel="next" href="ech-upgrading-v7.html" title="Upgrade to Elasticsearch 7.x"/>
<meta name="DC.type" content="Learn/Docs/Cloud-Heroku/Reference"/>
<meta name="DC.subject" content="Elasticsearch Add-On for Heroku"/>
<meta name="DC.identifier" content="ms-48"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Add-On for Heroku Documentation</a></span>
»
<span class="breadcrumb-link"><a href="ech-configure.html">Configuring your deployment</a></span>
»
<span class="breadcrumb-link"><a href="ech-upgrade-deployment.html">Upgrade versions</a></span>
»
<span class="breadcrumb-node">Best practices for major version upgrades</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ech-upgrade-deployment.html">« Upgrade versions</a>
</span>
<span class="next">
<a href="ech-upgrading-v7.html">Upgrade to Elasticsearch 7.x »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ech-upgrading-major"></a>Best practices for major version upgrades<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-48/docs/shared/ec-ce-upgrade-deployment.asciidoc">edit</a></h2>
</div></div></div>
<p>For major version upgrades, we have to bring the deployment to a full stop before upgrading, as the nodes cannot communicate with each other. This is done by flushing all changes so we are sure we can recover them, then we start the deployment with the new version.</p>
<p>While Elasticsearch is working on making upgrades across major versions possible, major version upgrades often include so many changes that upgrades can be risky. This is usually true for any kind of software. Our recommended approach for major version upgrades is to simply make a new deployment with the latest major version, <a href="/guide/en/elasticsearch/reference/7.10/reindex-upgrade.html" class="ulink" target="_top">reindex everything</a>, and make sure index requests are temporarily sent to the Elasticsearch clusters in both deployments. With the new cluster ready, you can then do a hot swap and send requests to the new cluster. As you are billed only for the hours that a deployment runs, the few extra dollars added to your bill is money well spent. Since the deployment with the previous working version is still running, you can quickly roll back if the new version has errors.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ech-upgrade-deployment.html">« Upgrade versions</a>
</span>
<span class="next">
<a href="ech-upgrading-v7.html">Upgrade to Elasticsearch 7.x »</a>
</span>
</div>
</div>
</body>
</html>
