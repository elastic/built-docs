<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Customize Pods | Elastic Cloud on Kubernetes [1.1] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [1.1]"/>
<link rel="up" href="k8s-orchestrating-elastic-stack-applications.html" title="Orchestrating Elastic Stack applications"/>
<link rel="prev" href="k8s-request-elasticsearch-endpoint.html" title="Access the Elasticsearch endpoint"/>
<link rel="next" href="k8s-managing-compute-resources.html" title="Manage compute resources"/>
<meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/1.1"/>
<meta name="DC.subject" content="ECK"/>
<meta name="DC.identifier" content="1.1"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes [1.1]</a></span>
»
<span class="breadcrumb-link"><a href="k8s-orchestrating-elastic-stack-applications.html">Orchestrating Elastic Stack applications</a></span>
»
<span class="breadcrumb-node">Customize Pods</span>
</div>
<div class="navheader">
<span class="prev">
<a href="k8s-request-elasticsearch-endpoint.html">« Access the Elasticsearch endpoint</a>
</span>
<span class="next">
<a href="k8s-managing-compute-resources.html">Manage compute resources »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="k8s-customize-pods"></a>Customize Pods<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/orchestrating-elastic-stack-applications/customize-pods.asciidoc">edit</a></h2>
</div></div></div>
<p>You can customize the Pods created for each Elasticsearch, Kibana, or APM Server resource by modifying the respective <code class="literal">podTemplate</code> field in the manifest. Pod templates allow you to define labels, annotations, environment variables, volume mounts, and other custom configuration settings that are then merged with the default Pod configuration generated by ECK to produce the final Pod definition that gets deployed to the Kubernetes cluster.</p>
<p>The following example illustrates how to add a custom label, annotation, and an environment variable using the <code class="literal">podTemplate</code> field.</p>
<p><strong>Elasticsearch.</strong></p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">apiVersion: elasticsearch.k8s.elastic.co/v1
kind: Elasticsearch
metadata:
  name: quickstart
spec:
  version: 7.9.3
  nodeSets:
  - name: default
    count: 1
    podTemplate:
      metadata:
        labels:
          my.custom.domain/label: "label-value"
        annotations:
          my.custom.domain/annotation: "annotation-value"
      spec:
        containers:
          - name: elasticsearch
            env:
              - name: ES_JAVA_OPTS
                value: "-Xms4g -Xmx4g"</pre>
</div>
<p><strong>Kibana.</strong></p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">apiVersion: kibana.k8s.elastic.co/v1
kind: Kibana
metadata:
  name: quickstart
spec:
  version: 7.9.3
  count: 1
  podTemplate:
    metadata:
      labels:
        my.custom.domain/label: "label-value"
      annotations:
        my.custom.domain/annotation: "annotation-value"
    spec:
      containers:
        - name: kibana
          env:
            - name: LOGGING_VERBOSE
              value: "true"</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>APM Server configuration is identical to the Kibana configuration except for the <code class="literal">apiVersion</code> and <code class="literal">kind</code> fields.</p>
</div>
</div>
<h3><a id="k8s_more_examples"></a>More examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/orchestrating-elastic-stack-applications/customize-pods.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="k8s-init-containers-plugin-downloads.html" title="Init containers for plugin downloads">Init containers for plugin downloads</a>
</li>
<li class="listitem">
<a class="xref" href="k8s-managing-compute-resources.html" title="Manage compute resources"><em>Manage compute resources</em></a>
</li>
</ul>
</div>
<p>For further information, see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/#pod-templates" class="ulink" target="_top">Pod templates overview</a>
</li>
<li class="listitem">
<a href="https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.17/#podtemplatespec-v1-core" class="ulink" target="_top">Pod template spec API reference</a>
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="k8s-request-elasticsearch-endpoint.html">« Access the Elasticsearch endpoint</a>
</span>
<span class="next">
<a href="k8s-managing-compute-resources.html">Manage compute resources »</a>
</span>
</div>
</div>
</body>
</html>
