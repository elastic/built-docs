<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>1.1.0 release highlights | Elastic Cloud on Kubernetes [1.1] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [1.1]"/>
<link rel="up" href="release-highlights.html" title="Release highlights"/>
<link rel="prev" href="release-highlights-1.1.1.html" title="1.1.1 release highlights"/>
<link rel="next" href="release-highlights-1.0.1.html" title="1.0.1 release highlights"/>
<meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/1.1"/>
<meta name="DC.subject" content="ECK"/>
<meta name="DC.identifier" content="1.1"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes [1.1]</a></span>
»
<span class="breadcrumb-link"><a href="release-highlights.html">Release highlights</a></span>
»
<span class="breadcrumb-node">1.1.0 release highlights</span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-highlights-1.1.1.html">« 1.1.1 release highlights</a>
</span>
<span class="next">
<a href="release-highlights-1.0.1.html">1.0.1 release highlights »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-highlights-1.1.0"></a>1.1.0 release highlights<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="k8s-110-new-and-notable"></a>New and notable<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h3>
<p>New and notable changes in version 1.1.0 of Elastic Cloud on Kubernetes. See <a class="xref" href="release-notes-1.1.0.html" title="Elastic Cloud on Kubernetes version 1.1.0"><em>Elastic Cloud on Kubernetes version 1.1.0</em></a> for the full list of changes.</p>
<h4><a id="k8s-110-remote-clusters"></a>Remote cluster support<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h4>
<p>Establishing uni-directional connections from ECK-managed Elasticsearch clusters to other Elasticsearch clusters for <a href="/guide/en/elasticsearch/reference/current/xpack-ccr.html" class="ulink" target="_top">cross-cluster replication</a> and <a href="/guide/en/elasticsearch/reference/current/modules-cross-cluster-search.html" class="ulink" target="_top">cross-cluster search</a> purposes is now easy to achieve through a <a class="xref" href="k8s-remote-clusters.html" title="Remote clusters">few additions to the YAML manifest</a>. This feature is available for all managed clusters running a supported version of Elasticsearch with an Enterprise or Enterprise trial licence.</p>
<h4><a id="k8s-110-declarative-user-management"></a>Declarative user management<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h4>
<p>File realm users and roles are now <a class="xref" href="k8s-users-and-roles.html" title="Users and roles">configurable using Kubernetes secrets</a>. This enables consistent and auditable user management practices and GitOps use cases.</p>
<h4><a id="k8s-110-enhanced-validation"></a>Enhanced validation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h4>
<p>Validation has been extended to more ECK resource types to catch invalid configurations during admission. Enabling the <a class="xref" href="k8s-webhook.html" title="Configure validating webhook">validating webhook</a> will extend the capabilities of ECK to catch most common configuration issues during update operations as well.</p>
<h4><a id="k8s-110-rbac"></a>Enforce RBAC on associations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h4>
<p>Access control policies can be enforced on cross-namespace Elasticsearch associations created by Kibana and APM Server instances. This feature is disabled by default to avoid breaking existing deployments. See <a class="xref" href="k8s-restrict-cross-namespace-associations.html" title="Restrict cross namespace resource associations"><em>Restrict cross namespace resource associations</em></a> for more information.</p>
<h4><a id="k8s-110-beats-discovery"></a>Filebeat discovery hints<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h4>
<p>ECK resources have the correct <a href="/guide/en/beats/filebeat/current/configuration-autodiscover-hints.html" class="ulink" target="_top">discovery hints</a> added by default to facilitate Filebeat discovery.</p>
<h4><a id="k8s-110-container-registry"></a>Default container registry for air-gapped installations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h4>
<p>The default container registry used by the operator can be configured to ease deployments in air-gapped environments. When the <a class="xref" href="k8s-custom-images.html#k8s-container-registry-override" title="Override the default container registry">container registry is correctly configured</a>, users no longer need to specify the container image field in their manifests.</p>
<h3><a id="k8s-110-breaking-changes"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h3>
<h4><a id="k8s-110-breaking-roles"></a>Removal of operator roles<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h4>
<p>The concept of <code class="literal">global</code> and <code class="literal">namespace</code> operator roles no longer exists, and as such, the <code class="literal">--operator-roles</code> flag has been removed. Instead, you can configure the operator to manage a pre-defined set of namespaces by passing a comma-separated list of namespaces to the <code class="literal">--namespaces</code> flag (default behaviour is to manage all namespaces). Instead of the <code class="literal">webhook</code> role, use the dedicated <code class="literal">--enable-webhook</code> flag to manage the webhook. See <a class="xref" href="k8s-operator-config.html" title="Configure ECK"><em>Configure ECK</em></a> for more information about operator configuration flags.</p>
<h4><a id="k8s-110-breaking-port-names"></a>Container port name change<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h4>
<p>Container ports of managed resources are now named according to the protocol (<code class="literal">https</code> for TLS enabled ports and <code class="literal">http</code> for TLS disabled ports). Previously they were named <code class="literal">http</code> regardless of the protocol being used. If you have any configurations that refer to the container ports by name (Ingress configurations, for example), review those to ensure that they use the correct name. One option may be to temporarily change to targeting the port number (e.g. <code class="literal">9200</code> for Elasticsearch), rather than the name, before updating ECK. Once the container port is updated to the new name, you can change to targeting the port name again.</p>
<h4><a id="k8s-110-breaking-readiness-probe"></a>Readiness probe change for Kibana and APM Server<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h4>
<p>Default readiness probes generated by the operator for Kibana and APM Server resources have changed from HTTP GET actions to exec actions. This is to accommodate environments where host-to-pod communication is restricted for security reasons. This change will affect ingress resources that are used to expose Kibana or APM Server, as some ingress controllers re-purpose the pod readiness probe as a health check. If you are unable to access Kibana or APM Server through the ingress after upgrading to ECK 1.1.0, override the readiness probe definitions as follows:</p>
<p><strong>Kibana.</strong></p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">apiVersion: kibana.k8s.elastic.co/v1
kind: Kibana
metadata:
  name: quickstart
spec:
  version: 7.10.0
  count: 1
  elasticsearchRef:
    name: quickstart
  podTemplate:
    spec:
      containers:
        - name: kibana
          readinessProbe:
            httpGet:
              scheme: HTTPS
              path: "/login"
              port: 5601</pre>
</div>
<p><strong>APM Server.</strong></p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">apiVersion: apm.k8s.elastic.co/v1
kind: ApmServer
metadata:
  name: quickstart
spec:
  version: 7.10.0
  count: 1
  elasticsearchRef:
    name: quickstart
  podTemplate:
    spec:
      containers:
        - name: apm-server
          readinessProbe:
            httpGet:
              scheme: HTTPS
              path: "/"
              port: 8200</pre>
</div>
<h3><a id="k8s-110-security"></a>Security Advisory<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.1/docs/release-notes/highlights-1.1.0.asciidoc">edit</a></h3>
<p>ECK versions prior to 1.1.0 generate Elasticsearch passwords using a weak random number generator. If an attacker is able to determine when an Elasticsearch cluster was deployed, they may be able to more easily brute force the Elasticsearch credentials generated by ECK. For existing clusters, we recommend users regenerate credentials following the steps detailed <a class="xref" href="k8s-rotate-credentials.html" title="Rotate auto-generated credentials">here</a>. Resources created by ECK 1.1.0 do not require any action.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-highlights-1.1.1.html">« 1.1.1 release highlights</a>
</span>
<span class="next">
<a href="release-highlights-1.0.1.html">1.0.1 release highlights »</a>
</span>
</div>
</div>
</body>
</html>
