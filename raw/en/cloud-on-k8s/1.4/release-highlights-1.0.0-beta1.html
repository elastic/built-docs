<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>1.0.0-beta1 release highlights | Elastic Cloud on Kubernetes [1.4] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [1.4]"/>
<link rel="up" href="release-highlights.html" title="Release highlights"/>
<link rel="prev" href="release-highlights-1.0.0.html" title="1.0.0 release highlights"/>
<link rel="next" href="eck-release-notes.html" title="Release notes"/>
<meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/1.4"/>
<meta name="DC.subject" content="ECK"/>
<meta name="DC.identifier" content="1.4"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes [1.4]</a></span>
»
<span class="breadcrumb-link"><a href="release-highlights.html">Release highlights</a></span>
»
<span class="breadcrumb-node">1.0.0-beta1 release highlights</span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-highlights-1.0.0.html">« 1.0.0 release highlights</a>
</span>
<span class="next">
<a href="eck-release-notes.html">Release notes »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-highlights-1.0.0-beta1"></a>1.0.0-beta1 release highlights<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="k8s-release-ssets"></a>StatefulSets<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h3>
<p>ECK now uses StatefulSets under the hood to orchestrate Elasticsearch clusters. Prior to 1.0.0-beta1, upgrading a cluster storing large volumes of data could take hours or even days because data had to be replicated to newly created Elasticsearch nodes. With StatefulSets, you can simply reuse persistent volumes and significantly reduce the time and resources used to upgrade an Elasticsearch cluster. See <a class="xref" href="k8s-orchestration.html" title="Nodes orchestration">Nodes orchestration</a> for more detail.</p>
<h3><a id="k8s-release-v1beta1"></a>Resource version promotion<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h3>
<p>Custom resources have graduated to version <code class="literal">v1beta1</code>.  Old resources must be migrated to the new version to work with ECK 1.0.0-beta1. Resources created using an older version will continue to run but the operator will not manage them. To receive all the benefits of ECK 1.0.0-beta1, we recommend deleting old custom resources and recreating them. See <a class="xref" href="k8s-upgrading-eck.html" title="Upgrade ECK"><em>Upgrade ECK</em></a> for more information.</p>
<h3><a id="k8s-release-validation"></a>Validation changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h3>
<p>OpenAPI validation of resources on admission is no longer enforced on Kubernetes versions 1.13 or lower. This is due to a limitation in older versions of Kubernetes where multiple versions for CRDs are not supported.</p>
<p>Webhook validation has also temporarily been removed from this release. It is currently being reworked.</p>
<h3><a id="k8s-release-tls"></a>More control over TLS settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h3>
<p>Users have more control over TLS settings of the Elasticsearch HTTP layer, Kibana, and APM Server in this release. It is now possible to use external certificates from well-known CAs, utilities like cert-manager, or even completely disable automatic provisioning of TLS certificates. The latter can be useful when TLS is handled at a different layer, for instance, with Istio deployments. See: <a class="xref" href="k8s-tls-certificates.html#k8s-setting-up-your-own-certificate" title="Setup your own certificate">Setup your own certificate</a> and <a class="xref" href="k8s-tls-certificates.html#k8s-disable-tls" title="Disable TLS">Disable TLS</a>.</p>
<h3><a id="k8s-release-secure-settings"></a>Secure settings enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h3>
<p>Secure settings have received multiple ergonomics improvements. It is now possible to specify secure settings from mutiple secrets. It is also possible to specify specific items in a Kubernetes secret to be used as a secure setting, rather than having to use all items in a secret.</p>
<h3><a id="k8s-release-default-limits"></a>Default limits<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h3>
<p>Default limits are now set for the various resource types if none are explicitly specified. Previously, if left at the default, Pods would consume unbounded amounts of memory, which could lead them to be OOM killed. This allows for a better experience in demo scenarios. We recommend in production that both requests and limits be set appropriately. See <a class="xref" href="k8s-managing-compute-resources.html" title="Manage compute resources"><em>Manage compute resources</em></a> for more information.</p>
<h3><a id="k8s-breaking-changes-1.0.0-beta1"></a>Breaking Changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h3>
<p>The 1.0.0-beta version of the operator does not delete resources created by older versions of the operator, but it also does not manage them.
Attempting to delete resources created with a 0.9.0 version will hang if ECK 1.0.0-beta1 is running. Please see the <a class="xref" href="k8s-upgrading-eck.html" title="Upgrade ECK">upgrading documentation</a> for more information.</p>
<h3><a id="k8s-known-issues-1.0.0-beta1"></a>Known Issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h3>
<p>The following are known issues that will be addressed in the next release:</p>
<h4><a id="k8s_native_realm_disabled"></a>Native realm disabled<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h4>
<p>The native realm is incorrectly disabled by default. Users can reenable the native realm by <a href="/guide/en/elasticsearch/reference/current/configuring-native-realm.html" class="ulink" target="_top">adding it to the realm chain</a> in their
Elasticsearch configuration (<a href="https://github.com/elastic/cloud-on-k8s/issues/2037" class="ulink" target="_top">#2037</a>)</p>
<h4><a id="k8s_memory_leak_in_the_eck_process"></a>Memory leak in the ECK process<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h4>
<p>The operator process is slowly leaking memory which will eventually lead to an out of memory situation and a restart of the operator process. The operator is designed to be resilient to restarts and will resume functioning once it is restarted. Managed resources (Elasticsearch, Kibana and APM Server) are not affected. There is no workaround.  (<a href="https://github.com/elastic/cloud-on-k8s/issues/1984" class="ulink" target="_top">#1984</a>)</p>
<h4><a id="k8s_eck_restarts_when_using_non_default_change_budget"></a>ECK restarts when using non-default change budget<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/1.4/docs/release-notes/highlights-1.0.0-beta1.asciidoc">edit</a></h4>
<p>When using a non-default <a class="xref" href="k8s-update-strategy.html" title="Update strategy">change budget</a> with <code class="literal">maxUnavailable</code> set to a value greater than 1 to manage an Elasticsearch cluster with dedicated master nodes, the process will continuously crash with a nil pointer dereference related panic and restart. There is no workaround other than using the default change budget. (<a href="https://github.com/elastic/cloud-on-k8s/issues/2034" class="ulink" target="_top">#2034</a>)</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-highlights-1.0.0.html">« 1.0.0 release highlights</a>
</span>
<span class="next">
<a href="eck-release-notes.html">Release notes »</a>
</span>
</div>
</div>
</body>
</html>
