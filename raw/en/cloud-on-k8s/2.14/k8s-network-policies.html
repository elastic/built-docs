<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Network policies | Elastic Cloud on Kubernetes [2.14] | Elastic</title>
<meta class="elastic" name="content" content="Network policies | Elastic Cloud on Kubernetes [2.14]">

<link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [2.14]"/>
<link rel="up" href="k8s-advanced-topics.html" title="Advanced topics"/>
<link rel="prev" href="k8s-traffic-splitting.html" title="Traffic Splitting"/>
<link rel="next" href="k8s_prerequisites.html" title="Prerequisites"/>
<meta class="elastic" name="product_version" content="2.14"/>
<meta class="elastic" name="product_name" content="ECK"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/2.14"/>
<meta name="DC.subject" content="ECK"/>
<meta name="DC.identifier" content="2.14"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="k8s-traffic-splitting.html">« Traffic Splitting</a>
</span>
<span class="next">
<a href="k8s_prerequisites.html">Prerequisites »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes [2.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="k8s-advanced-topics.html">Advanced topics</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Network policies</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/2.14/docs/advanced-topics/network-policies.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="k8s-network-policies"></a>Network policies<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/2.14/docs/advanced-topics/network-policies.asciidoc">edit</a></h2>
</div></div></div>
<p><a href="https://kubernetes.io/docs/concepts/services-networking/network-policies/" class="ulink" target="_top">Network policies</a> allow you to isolate pods by restricting incoming and outgoing network connections to a trusted set of sources and destinations. This section describes how to use network policies to isolate the ECK operator and the Elastic Stack applications to a set of namespaces to implement a form of soft multi-tenancy. Soft multi-tenancy is a term used to describe a scenario where a group of trusted users (different teams within an organization, for example) share a single resource such as a Kubernetes cluster. Note that network policies alone are not sufficient for security. You should complement them with strict RBAC policies, resource quotas, node taints, and other available security mechanisms to ensure that tenants cannot access, modify, or disrupt resources belonging to each other.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>There are several efforts to support multi-tenancy on Kubernetes, including the <a href="https://github.com/kubernetes-sigs/multi-tenancy" class="ulink" target="_top">official working group for multi-tenancy</a> and community extensions such as <a href="https://loft.sh" class="ulink" target="_top">loft</a> and <a href="https://github.com/kiosk-sh/kiosk" class="ulink" target="_top">kiosk</a>, that can make configuration and management easier. You might need to employ network policies such the ones described in this section to have fine-grained control over Elastic Stack applications deployed by your tenants.</p>
</div>
</div>
<p>The following sections assume that the operator is installed in the <code class="literal">elastic-system</code> namespace with the <a class="xref" href="k8s-operator-config.html" title="Configure ECK"><code class="literal">namespaces</code> configuration</a> set to <code class="literal">team-a,team-b</code>. Each namespace is expected to be labelled as follows:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">kubectl label namespace elastic-system eck.k8s.elastic.co/operator-name=elastic-operator
kubectl label namespace team-a eck.k8s.elastic.co/tenant=team-a
kubectl label namespace team-b eck.k8s.elastic.co/tenant=team-b</pre>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="k8s-traffic-splitting.html">« Traffic Splitting</a>
</span>
<span class="next">
<a href="k8s_prerequisites.html">Prerequisites »</a>
</span>
</div>
</body>
</html>
