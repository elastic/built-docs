<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Upgrade the Elastic Stack version | Elastic Cloud on Kubernetes [2.14] | Elastic</title>
<meta class="elastic" name="content" content="Upgrade the Elastic Stack version | Elastic Cloud on Kubernetes [2.14]">

<link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [2.14]"/>
<link rel="up" href="k8s-orchestrating-elastic-stack-applications.html" title="Orchestrating Elastic Stack applications"/>
<link rel="prev" href="k8s-stack-config-policy.html" title="Elastic Stack configuration policies"/>
<link rel="next" href="k8s-connect-to-unmanaged-resources.html" title="Connect to external Elastic resources"/>
<meta class="elastic" name="product_version" content="2.14"/>
<meta class="elastic" name="product_name" content="ECK"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/2.14"/>
<meta name="DC.subject" content="ECK"/>
<meta name="DC.identifier" content="2.14"/>
</head>
<body>
<div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="k8s-stack-config-policy.html">« Elastic Stack configuration policies</a>
</span>
<span class="next">
<a href="k8s-connect-to-unmanaged-resources.html">Connect to external Elastic resources »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes [2.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="k8s-orchestrating-elastic-stack-applications.html">Orchestrating Elastic Stack applications</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Upgrade the Elastic Stack version</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/2.14/docs/orchestrating-elastic-stack-applications/upgrading-stack.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="k8s-upgrading-stack"></a>Upgrade the Elastic Stack version</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/2.14/docs/orchestrating-elastic-stack-applications/upgrading-stack.asciidoc">edit</a></div>
</div></div></div>
<div class="caution admon">
<div class="icon"></div>
<div class="admon_content">
<p>We have identified an issue with Elasticsearch 8.15.1 and 8.15.2 that prevents security role mappings configured via Stack configuration policies to work correctly. The only workaround is to specify the security role mappings via the <a href="/guide/en/elasticsearch/reference/current/security-api-put-role-mapping.html" class="ulink" target="_top">Elasticsearch REST API</a>. After upgrading to these versions role mappings will be preserved but will not receive future updates from the Stack configuration policy. Follow the instructions to <a class="xref" href="k8s-common-problems.html#k8s-common-problems-815-reconfigure-role-mappings" title="Reconfigure stack config policy based role mappings after an upgrade to 8.15.3 from 8.14.x or 8.15.x">reconfigure role mappings after upgrading to 8.15.3</a>.</p>
</div>
</div>
<p>The operator can safely perform upgrades to newer versions of the various Elastic Stack resources.</p>
<p>Follow the instructions in the <a href="/guide/en/elastic-stack/current/upgrading-elastic-stack.html" class="ulink" target="_top">Elasticsearch documentation</a>. Make sure that your cluster is compatible with the target version, take backups, and follow the specific upgrade instructions for each resource type. When you are ready, modify the <code class="literal">version</code> field in the resource spec to the desired stack version and the operator will start the upgrade process automatically.</p>
<p>ECK will make sure that Elastic Stack resources are upgraded in the correct order. Upgrades to dependent stack resources are delayed until the dependency is upgraded. For example, the Kibana upgrade will be rolled out only when the associated Elasticsearch cluster has been upgraded.</p>
<p>Check <a class="xref" href="k8s-orchestration.html" title="Nodes orchestration">Nodes orchestration</a> for more information on how the operator performs upgrades and how to tune its behavior.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="k8s-stack-config-policy.html">« Elastic Stack configuration policies</a>
</span>
<span class="next">
<a href="k8s-connect-to-unmanaged-resources.html">Connect to external Elastic resources »</a>
</span>
</div>
</body>
</html>
