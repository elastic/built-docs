<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Update your deployment | Elastic Cloud on Kubernetes [2.16] | Elastic</title>
<meta class="elastic" name="content" content="Update your deployment | Elastic Cloud on Kubernetes [2.16]">

<link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [2.16]"/>
<link rel="up" href="k8s-quickstart.html" title="Quickstart"/>
<link rel="prev" href="k8s-deploy-kibana.html" title="Deploy a Kibana instance"/>
<link rel="next" href="k8s-operating-eck.html" title="Operating ECK"/>
<meta class="elastic" name="product_version" content="2.16"/>
<meta class="elastic" name="product_name" content="ECK"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/2.16"/>
<meta name="DC.subject" content="ECK"/>
<meta name="DC.identifier" content="2.16"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="k8s-deploy-kibana.html">« Deploy a Kibana instance</a>
</span>
<span class="next">
<a href="k8s-operating-eck.html">Operating ECK »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes [2.16]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="k8s-quickstart.html">Quickstart</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Update your deployment</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/2.16/docs/quickstart.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="k8s-update-deployment"></a>Update your deployment</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/2.16/docs/quickstart.asciidoc">edit</a></div>
</div></div></div>
<p>You can add and modify most elements of the original Kubernetes cluster specification provided that they translate to valid transformations of the underlying Kubernetes resources (for example <a class="xref" href="k8s-volume-claim-templates.html" title="Volume claim templates">existing volume claims cannot be downsized</a>). The ECK operator will attempt to apply your changes with minimal disruption to the existing cluster. You should ensure that the Kubernetes cluster has sufficient resources to accommodate the changes (extra storage space, sufficient memory and CPU resources to temporarily spin up new pods, and so on).</p>
<p>For example, you can grow the cluster to three Elasticsearch nodes from the <a class="xref" href="k8s-deploy-elasticsearch.html" title="Deploy an Elasticsearch cluster">deployed Elasticsearch cluster</a> example by updating the <code class="literal">count</code> with <a href="https://kubernetes.io/docs/reference/kubectl/generated/kubectl_apply/" class="ulink" target="_top"><code class="literal">apply</code></a>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: elasticsearch.k8s.elastic.co/v1
kind: Elasticsearch
metadata:
  name: quickstart
spec:
  version: 8.17.0
  nodeSets:
  - name: default
    count: 3
    config:
      node.store.allow_mmap: false
EOF</pre>
</div>
<p>ECK will automatically schedule the requested update. Changes can be monitored with the <a class="xref" href="k8s-deploy-eck.html" title="Deploy ECK in your Kubernetes cluster">ECK operator logs</a>, <a href="https://kubernetes.io/docs/reference/kubernetes-api/cluster-resources/event-v1/" class="ulink" target="_top"><code class="literal">events</code></a>, and applicable product&#8217;s <a href="https://kubernetes.io/docs/reference/kubectl/generated/kubectl_logs/" class="ulink" target="_top">pod <code class="literal">logs</code></a>. These will either report successful application of changes or provide context for further troubleshooting. Kindly note, Kubernetes restricts some changes, for example refer to <a class="xref" href="k8s-volume-claim-templates.html#k8s-volume-claim-templates-update" title="Updating the volume claim settings">Updating Volume Claims</a>.</p>
<p>This completes our quickstart guide for deploying an Elasticsearch cluster and Kibana instance with our ECK operator. We recommend continuing to <a class="xref" href="k8s-orchestrating-elastic-stack-applications.html" title="Orchestrating Elastic Stack applications">Orchestrating Elastic Stack applications</a> for more configuration options</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="k8s-deploy-kibana.html">« Deploy a Kibana instance</a>
</span>
<span class="next">
<a href="k8s-operating-eck.html">Operating ECK »</a>
</span>
</div>
</body>
</html>
