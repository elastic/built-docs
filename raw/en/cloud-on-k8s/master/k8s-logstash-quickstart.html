<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Quickstart | Elastic Cloud on Kubernetes [master] | Elastic</title>
<meta class="elastic" name="content" content="Quickstart | Elastic Cloud on Kubernetes [master]">

<link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [master]"/>
<link rel="up" href="k8s-logstash.html" title="Run Logstash on ECK"/>
<link rel="prev" href="k8s-logstash.html" title="Run Logstash on ECK"/>
<link rel="next" href="k8s-logstash-configuration.html" title="Configuration"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="ECK"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/master"/>
<meta name="DC.subject" content="ECK"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="k8s-orchestrating-elastic-stack-applications.html">Orchestrating Elastic Stack applications</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="k8s-logstash.html">Run Logstash on ECK</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="k8s-logstash.html">« Run Logstash on ECK</a>
</span>
<span class="next">
<a href="k8s-logstash-configuration.html">Configuration »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="k8s-logstash-quickstart"></a>Quickstart<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/main/docs/orchestrating-elastic-stack-applications/logstash.asciidoc">edit</a></h2>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in technical preview and may be changed or removed in a future release. Elastic will apply best effort to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>Add the following specification to create a minimal Logstash deployment that will listen to a Beats agent or Elastic Agent configured to send to Logstash on port 5044, create the service and write the output to an Elasticsearch cluster named <code class="literal">quickstart</code>, created in the <a href="k8s-quickstart.html" class="ulink" target="_top">Elasticsearch quickstart</a>.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">cat &lt;&lt;EOF | kubectl apply -f -
apiVersion: logstash.k8s.elastic.co/v1alpha1
kind: Logstash
metadata:
  name: quickstart
spec:
  count: 1
  elasticsearchRefs:
    - name: quickstart
      clusterName: qs
  version: 8.7.1
  pipelines:
    - pipeline.id: main
      config.string: |
        input {
          beats {
            port =&gt; 5044
          }
        }
        output {
          elasticsearch {
            hosts =&gt; [ "${QS_ES_HOSTS}" ]
            user =&gt; "${QS_ES_USER}"
            password =&gt; "${QS_ES_PASSWORD}"
            cacert =&gt; "${QS_ES_SSL_CERTIFICATE_AUTHORITY}"
          }
        }
  services:
    - name: beats
      service:
        spec:
          type: NodePort
          ports:
            - port: 5044
              name: "filebeat"
              protocol: TCP
              targetPort: 5044
EOF</pre>
</div>
<p>Check <a class="xref" href="k8s-logstash-configuration-examples.html" title="Configuration examples">Configuration examples</a> for more ready-to-use manifests.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Check the status of Logstash</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">kubectl get logstash</pre>
</div>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">NAME              AVAILABLE   EXPECTED   AGE   VERSION
quickstart        3           3          4s    8.7.1</pre>
</div>
</li>
<li class="listitem">
<p>List all the Pods that belong to a given Logstash specification.</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">kubectl get pods --selector='logstash.k8s.elastic.co/name=quickstart'</pre>
</div>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">NAME              READY   STATUS    RESTARTS   AGE
quickstart-ls-0   1/1     Running   0          91s</pre>
</div>
</li>
<li class="listitem">
Access logs for a Pod.
</li>
</ol>
</div>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">kubectl logs -f quickstart-ls-0</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="k8s-logstash.html">« Run Logstash on ECK</a>
</span>
<span class="next">
<a href="k8s-logstash-configuration.html">Configuration »</a>
</span>
</div>
</div>
</body>
</html>
