<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Webhook namespace selectors | Elastic Cloud on Kubernetes [master] | Elastic</title>
<meta class="elastic" name="content" content="Webhook namespace selectors | Elastic Cloud on Kubernetes [master]">

<link rel="home" href="index.html" title="Elastic Cloud on Kubernetes [master]"/>
<link rel="up" href="k8s-advanced-topics.html" title="Advanced topics"/>
<link rel="prev" href="k8s_prerequisites.html" title="Prerequisites"/>
<link rel="next" href="k8s-stack-monitoring.html" title="Stack Monitoring"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="ECK"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kubernetes/Reference/master"/>
<meta name="DC.subject" content="ECK"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Cloud on Kubernetes [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="k8s-advanced-topics.html">Advanced topics</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="k8s_prerequisites.html">« Prerequisites</a>
</span>
<span class="next">
<a href="k8s-stack-monitoring.html">Stack Monitoring »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="k8s-webhook-namespace-selectors"></a>Webhook namespace selectors<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/cloud-on-k8s/edit/main/docs/advanced-topics/webhook-namespace-selectors.asciidoc">edit</a></h2>
</div></div></div>
<p>If you install ECK through the Helm chart, you can now set <code class="literal">namespaceSelector</code> and <code class="literal">objectSelector</code> on the webhook. The webhook name is generated as <code class="literal">&lt;operator-name&gt;.&lt;operator-namespace&gt;.k8s.elastic.co</code> so that multiple operators can be installed side-by-side in the same cluster.</p>
<p>This can be useful in large and busy clusters, where you might want to divide the set of namespaces across several operators to speed up reconciliation times and reduce the amount of resources required per operator.</p>
<p>Webhook resources are cluster-scoped, therefore <code class="literal">createClusterScopedResources</code> must be set to true when installing the chart. This means that each operator gets a ClusterRole that applies to the whole cluster and not just the set of namespaces it is configured to manage. This approach is suitable only if you want to do load-splitting in a trusted cluster.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>It is not recommended to deploy webhook resources in environments where operators are run by untrusted users and need to be locked down tightly.</p>
</div>
</div>
<p>For more information, check <a class="xref" href="k8s-webhook.html" title="Configure the validating webhook">Configure the validating webhook</a> and <a href="https://kubernetes.io/docs/reference/access-authn-authz/extensible-admission-controllers/" class="ulink" target="_top">Dynamic Admission Control</a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="k8s_prerequisites.html">« Prerequisites</a>
</span>
<span class="next">
<a href="k8s-stack-monitoring.html">Stack Monitoring »</a>
</span>
</div>
</div>
</body>
</html>
