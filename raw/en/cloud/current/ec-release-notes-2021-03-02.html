<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Autoscaling, and more | Elasticsearch Service Documentation | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Service Documentation"/>
<link rel="up" href="ec-release-notes.html" title="Release notes"/>
<link rel="prev" href="ec-release-notes.html" title="Release notes"/>
<link rel="next" href="ec-release-notes-2021-02-09.html" title="Cross-region and cross-provider support, warm and cold data tiers, and more"/>
<meta name="DC.type" content="Learn/Docs/Cloud/Reference"/>
<meta name="DC.subject" content="Elastic Cloud"/>
<meta name="DC.identifier" content="ms-53"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Service Documentation</a></span>
»
<span class="breadcrumb-link"><a href="ec-release-notes.html">Release notes</a></span>
»
<span class="breadcrumb-node">Autoscaling, and more</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ec-release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="ec-release-notes-2021-02-09.html">Cross-region and cross-provider support, warm and cold data tiers, and more »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ec-release-notes-2021-03-02"></a>Autoscaling, and more<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-53/docs/saas/releases/ms-53.0/index.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="ec_release_highlights"></a>Release highlights<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-53/docs/saas/releases/ms-53.0/index.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Introducing deployment autoscaling!</strong></span></p>
<div class="imageblock">
<div class="content">
<img src="images/ec-autoscaling-animation.gif" alt="Autoscaling animated graphic">
</div>
</div>
<p>New autoscaling support on Elasticsearch Service helps you to balance cost with efficient performance by adjusting the resources available to your deployments automatically. This reduces the need for you to adjust capacity manually as requirements and loads change over time. In this initial release, data tiers can scale up automatically in response to past and present storage usage, and machine learning nodes can scale both up and down based on memory requirements for the current jobs. <a class="xref" href="ec-autoscaling.html" title="Deployment autoscaling">Learn more&#8230;&#8203;</a></p>
<h3><a id="ec_features"></a>Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-53/docs/saas/releases/ms-53.0/feature.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Publish Elasticsearch Service prices.</strong></span> Elasticsearch service pricing is now published on the Elastic website so that current pricing for all providers, regions, and instance types can be seen in one location.</p>
<p><span class="strong strong"><strong>Include internal details and failure type in logs.</strong></span> The logs generated from a plan change now contain more detail, making it easier for you to debug problems and understand why a plan may have failed. Three new attributes are now included in the step logs:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">details</code>: Contains details about a step failure, visible to all console users.
</li>
<li class="listitem">
<code class="literal">internal_details</code>: Contains sensitive details about the step failure, visible only to admin console users.
</li>
<li class="listitem">
<code class="literal">failure_type</code>: Describes the type of failure that occurred.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Add Copy ID link to the application links.</strong></span> The deployment overview now has a <code class="literal">Copy ID</code> link. This simplifies getting the application IDs required to set up cross-cluster search and cross-cluster replication.</p>
<p><span class="strong strong"><strong>Add prices app to the billing service.</strong></span> A prices application is added to the billing service to expose the <code class="literal">/v1/prices/adjustment?domain=&lt;domain-id&gt;</code> endpoint as a REST API. Note that the API will validate that <code class="literal">domain-id</code> is one of the <code class="literal">types.adjustments</code> fields (currently "aws", "azure", "gcp", and "found") and will always return the <code class="literal">current</code> adjustment.</p>
<p><span class="strong strong"><strong>Enable Elasticsearch searchable snapshots partial cache settings.</strong></span> Searchable Snapshots partial storage settings can now be configured when you create a new deployment.</p>
<h3><a id="ec_enhancements"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-53/docs/saas/releases/ms-53.0/enhancement.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Send an email on GCP paused/ended unsubscribe events.</strong></span> GCP Marketplace customers are now emailed after disconnecting a project with the list of deployments that will be terminated if they don&#8217;t reconnect the project. The email includes the timestamp when deployment termination will occur and other details.</p>
<p><span class="strong strong"><strong>Turn on marketplace toggle always.</strong></span> Users can now see both marketplace and non-marketplace prices for AWS on the pricing page.</p>
<p><span class="strong strong"><strong>Enable subscription self-serve for AWS Marketplace users.</strong></span> AWS Marketplace users can now self-select their billing subscription level.</p>
<p><span class="strong strong"><strong>Improve snapshot repository logging.</strong></span> Error reporting is improved for certain failures that can occur when creating snapshot repositories.</p>
<p><span class="strong strong"><strong>Disable internal collection when Metricbeat enabled.</strong></span> Metricbeat monitoring performance is optimized by disabling legacy monitoring collection in Elasticsearch, Kibana, and APM when Metricbeat is in use.</p>
<p><span class="strong strong"><strong>Change user settings validation to validate objects as a whole .</strong></span> New validation rules for user settings require the order setting when specifying a custom realm through user settings for Elasticsearch clusters on version 8.0 or higher.</p>
<p><span class="strong strong"><strong>Stop sending extraneous exception details.</strong></span> Plan failures shown in the user console now have fewer extraneous, unactionable details in them.</p>
<p><span class="strong strong"><strong>Update go to 1.15.8.</strong></span> The Elasticsearch Service proxy has been updated to go version 1.15.8.</p>
<h3><a id="ec_bug_fixes"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-53/docs/saas/releases/ms-53.0/bug.asciidoc">edit</a></h3>
<p><span class="strong strong"><strong>Display all snapshots</strong></span> Fixes a bug where only a subset of available snapshots were displayed in the UI, sometimes causing a message inconsistent with the snapshots that actually exist in the cluster.</p>
<p><span class="strong strong"><strong>Update full name and email for SSO if needed.</strong></span> This fix ensures that Elasticsearch Service users will get an updated display name when they SSO into a Stack application, such as Kibana, after updating their email address.</p>
<p><span class="strong strong"><strong>Use disk queue in Metricbeat.</strong></span> Fixes issues on dedicated master instances on version 7.6+ that use the monitoring feature, where memory pressure is elevated and garbage collection is more frequent on the elected master, by using the Metricbeat disk queue.</p>
<p><span class="strong strong"><strong>Add voting exclusion for instances losing master role.</strong></span> Fixes a variety of edge cases that could lead to cluster quorum loss on 7.x+ clusters, such as running a plan that switches from multiple master nodes to a single master node.</p>
<p><span class="strong strong"><strong>Fix "GC Overhead Per Node" metric.</strong></span> Fixes a bug that prevented the "GC Overhead Per Node" metric on the console Performance page from working properly.</p>
<p><span class="strong strong"><strong>Fix console request metrics query.</strong></span> Fixes bug where user console metrics would not show request metrics.</p>
<p><span class="strong strong"><strong>Handle terminated deployments and missing templates on Edit screen.</strong></span> Editing terminated or certain system deployments should no longer throw an error.</p>
<p><span class="strong strong"><strong>Keep legacy exporter enabled when monitoring with Metricbeat.</strong></span> Fixes the following three bugs:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Legacy collection monitoring of externally deployed services (e.g. Logstash) was disabled when Metricbeat monitoring is enabled in Cloud.
</li>
<li class="listitem">
Monitoring index retention was not being enforced when self-monitoring is enabled.
</li>
<li class="listitem">
Restoring a snapshot into a new deployment with cluster state could restore broken monitoring settings that require manual Elasticsearch settings changes.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Apply correct timestamps to downloaded bundles.</strong></span> Fixes a bug that could cause instances to bootloop during rolling plans if a cluster is configured with user bundles.</p>
<p><span class="strong strong"><strong>Enable AttemptClusterStabilisation feature flag.</strong></span> Running a plan in which some instances will be mutated will now first (re-)start any other instances that are not running. This mitigates the risk of losing cluster quorum during certain plans (such as adding dedicated masters) when the cluster is in an abnormal state.</p>
<p><span class="strong strong"><strong>Use recommended JVM heap allocation for dedicated masters.</strong></span> Fixes an issue where dedicated masters can OOM due to over-allocated heap size</p>
<p><span class="strong strong"><strong>Get rid of nested retry loop.</strong></span> Cluster creation plans which fail will now fail faster instead of hanging unnecessarily during the rollback-migrate step.</p>
<p><span class="strong strong"><strong>Avoid chown of home directory when log delivery is enabled.</strong></span> Fixes a bug where Kibana can take a long time to start when log delivery is enabled.</p>
<p><span class="strong strong"><strong>Use smaller Elasticsearch heap when Filebeat and Metricbeat are running.</strong></span> Fixes a bug where when logs and metrics are enabled on Elasticsearch clusters: Small, master-only, instances and tiebreaker instances have memory swapping issues.</p>
<p><span class="strong strong"><strong>Make some ES domain fields optional.</strong></span> Fixes a bug that would sometimes cause plans to fail during the <code class="literal">Migrating shard data</code> step.</p>
<p><span class="strong strong"><strong>Clear (don&#8217;t set) initial-master-nodes if cluster already bootstrapped.</strong></span> Clusters will no longer end up in a split brain state if masters are added while all other masters are currently offline.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ec-release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="ec-release-notes-2021-02-09.html">Cross-region and cross-provider support, warm and cold data tiers, and more »</a>
</span>
</div>
</div>
</body>
</html>
