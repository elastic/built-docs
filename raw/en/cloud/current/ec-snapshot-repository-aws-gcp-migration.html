<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AWS/GCP: Setup isolation for snapshots repository | Elasticsearch Service Documentation | Elastic</title>
<meta class="elastic" name="content" content="AWS/GCP: Setup isolation for snapshots repository | Elasticsearch Service Documentation">

<link rel="home" href="index.html" title="Elasticsearch Service Documentation"/>
<link rel="up" href="ec-snapshot-repository-migration.html" title="Setup access isolation for found-snapshots repository"/>
<link rel="prev" href="ec-snapshot-repository-azure-migration.html" title="Azure: Store snapshots of a deployment in a dedicated repository"/>
<link rel="next" href="ec-organizations.html" title="Managing your organization"/>
<meta class="elastic" name="product_version" content="latest"/>
<meta class="elastic" name="product_name" content="Elastic Cloud"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Cloud/Reference"/>
<meta name="DC.subject" content="Elastic Cloud"/>
<meta name="DC.identifier" content="latest"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="ec-snapshot-repository-azure-migration.html">« Azure: Store snapshots of a deployment in a dedicated repository</a>
</span>
<span class="next">
<a href="ec-organizations.html">Managing your organization »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Service Documentation</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ec-snapshot-restore.html">Snapshot and restore</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ec-snapshot-repository-migration.html">Setup access isolation for <code class="literal">found-snapshots</code> repository</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>AWS/GCP: Setup isolation for snapshots repository</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-119/docs/saas/snapshot-repository-aws-gcp-migration.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="ec-snapshot-repository-aws-gcp-migration"></a>AWS/GCP: Setup isolation for snapshots repository</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-119/docs/saas/snapshot-repository-aws-gcp-migration.asciidoc">edit</a></div>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This configuration is automatic for all newly created deployments, but may be necessary for some existing deployments you have. If a deployment is not yet using an isolated snapshot repository, a notification will show up in the deployments menu under <span class="strong strong"><strong>Elasticsearch</strong></span> &gt; <span class="strong strong"><strong>Snapshots</strong></span>.</p>
</div>
</div>
<p>Deployments of your organization in the same region currently may have access to each other&#8217;s snapshots via the Elastic provided <code class="literal">found-snapshots</code> repository. For improved security between deployments, each deployment should only have access to its own snapshots.</p>
<p>If a deployment can still access the snapshots of other deployments, a notification will show up in the deployments menu under <span class="strong strong"><strong>Elasticsearch</strong></span> &gt; <span class="strong strong"><strong>Snapshots</strong></span>. After applying the action, the notification will disappear.</p>
<div class="position-relative"><h3><a id="ec_removing_a_repository_of_another_deployment"></a>Removing a repository of another deployment</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-119/docs/saas/snapshot-repository-aws-gcp-migration.asciidoc">edit</a></div>
<p>The deployment may have access to other deployments if it has been restored from a snapshot. If this is the case, the access permissions will be listed under <span class="strong strong"><strong>Elasticsearch</strong></span> &gt; <span class="strong strong"><strong>Snapshots</strong></span> under the title <span class="strong strong"><strong>Snapshot repositories of other deployments</strong></span>.</p>
<p>If you no longer need access to the snapshot of another deployment, you can remove the access. By doing this, you prevent accessing snapshots of other deployments from this deployment:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From your deployment menu, go to <span class="strong strong"><strong>Elasticsearch</strong></span> &gt; <span class="strong strong"><strong>Snapshots</strong></span>.
</li>
<li class="listitem">
On the <span class="strong strong"><strong>Snapshots</strong></span> page, <span class="strong strong"><strong>Snapshot repositories of other deployments</strong></span> shows the old repository.
</li>
<li class="listitem">
With <span class="strong strong"><strong>Remove Access</strong></span>, the snapshot repository will be removed.
</li>
</ol>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If the repository is still in use (for example by mounted searchable snapshots), it can’t be removed. Please first remove any indices stored in this repository.</p>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ec-elasticsearch-snapshots-of-other-deployments-aws-gcp.png" alt="View of the old snapshot repository in the Cloud UI">
</div>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ec-snapshot-repository-azure-migration.html">« Azure: Store snapshots of a deployment in a dedicated repository</a>
</span>
<span class="next">
<a href="ec-organizations.html">Managing your organization »</a>
</span>
</div>
</body>
</html>
