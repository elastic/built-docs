<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Register Elastic Cloud SAML in Microsoft Entra ID | Elasticsearch Service Documentation | Elastic</title>
<meta class="elastic" name="content" content="Register Elastic Cloud SAML in Microsoft Entra ID | Elasticsearch Service Documentation">

<link rel="home" href="index.html" title="Elasticsearch Service Documentation"/>
<link rel="up" href="ec-saml-sso.html" title="Configure Elastic Cloud SAML single sign-on"/>
<link rel="prev" href="ec-saml-sso-okta.html" title="Register Elastic Cloud SAML in Okta"/>
<link rel="next" href="ec-organizations-notifications-domain-allowlist.html" title="Notifications domain allowlist"/>
<meta class="elastic" name="product_version" content="latest"/>
<meta class="elastic" name="product_name" content="Elastic Cloud"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Cloud/Reference"/>
<meta name="DC.subject" content="Elastic Cloud"/>
<meta name="DC.identifier" content="latest"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="ec-saml-sso-okta.html">« Register Elastic Cloud SAML in Okta</a>
</span>
<span class="next">
<a href="ec-organizations-notifications-domain-allowlist.html">Notifications domain allowlist »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Service Documentation</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ec-organizations.html">Managing your organization</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ec-saml-sso.html">Configure Elastic Cloud SAML single sign-on</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Register Elastic Cloud SAML in Microsoft Entra ID</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-119/docs/saas/ec-organizations-saml-sso-entra.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="ec-saml-sso-entra"></a>Register Elastic Cloud SAML in Microsoft Entra ID</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-119/docs/saas/ec-organizations-saml-sso-entra.asciidoc">edit</a></div>
</div></div></div>
<p>To <a class="xref" href="ec-saml-sso.html" title="Configure Elastic Cloud SAML single sign-on">configure Elastic Cloud SAML SSO</a> with Microsoft Entra ID (formerly Azure AD) as the identity provider (IdP), perform the following steps.</p>
<div class="position-relative"><h4><a id="ec_create_a_new_entra_id_enterprise_application"></a>Create a new Entra ID Enterprise application</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-119/docs/saas/ec-organizations-saml-sso-entra.asciidoc">edit</a></div>
<p>In Microsoft Entra ID, create a new Entra ID Enterprise application.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the Microsoft Entra Gallery, create a non-gallery application.
</li>
<li class="listitem">
Provide a name and basic information about the application.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Single sign-on</strong></span> section, select <span class="strong strong"><strong>SAML</strong></span> as the single sign-on method.
</li>
<li class="listitem">
In the basic SAML configuration, enter placeholder values for the entity ID and the reply or assertion consumer service (ACS) URL.
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Attributes &amp; Claims</strong></span> section, configure claims:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Configure a claim named <code class="literal">email</code> to send the email address of your users. This attribute is required in the SAML response.
</li>
<li class="listitem">
Optional: Configure a <code class="literal">firstName</code> and <code class="literal">lastName</code> claim to set the Elastic Cloud user&#8217;s name during SSO.
</li>
<li class="listitem">
Optional: If you plan to use <a class="xref" href="ec-saml-sso.html#role-mappings" title="Role mappings">role mappings</a> to automate role assignments, add a group claim and customize which groups are sent. Make sure that you customize the name of the group claim under the <span class="strong strong"><strong>Advanced options</strong></span> section to set the groups claim attribute name <code class="literal">groups</code>.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Collect information about the application from the Entra ID screen.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Get the <span class="strong strong"><strong>Login URL</strong></span> for the SSO URL, which is the URL where users will be redirected at login.
</li>
<li class="listitem">
Get the <span class="strong strong"><strong>Microsoft Entra Identifier</strong></span> for use as the issuer.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>SAML Certificates</strong></span> section, download the Base64 signing certificate.
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="position-relative"><h4><a id="ec_register_with_elastic_cloud_2"></a>Register with Elastic Cloud</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-119/docs/saas/ec-organizations-saml-sso-entra.asciidoc">edit</a></div>
<p><a class="xref" href="ec-saml-sso.html#ec-saml-sso-register-idp" title="Register a SAML IdP">Register the IdP with Elastic Cloud</a>.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open your organization&#8217;s <a href="https://cloud.elastic.co/account/idp" class="ulink" target="_top"><span class="strong strong"><strong>Security</strong></span></a> tab.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>User authentication</strong></span> section, click <span class="strong strong"><strong>Configure SSO</strong></span>.
</li>
<li class="listitem">
<p>Fill the following fields:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<span class="strong strong"><strong>Identity Provider Entity ID</strong></span>: Enter the <span class="strong strong"><strong>Microsoft Entra Identifier</strong></span> that you collected in the previous step.
</li>
<li class="listitem">
<span class="strong strong"><strong>Identity Provider SSO URL</strong></span>: Enter the <span class="strong strong"><strong>Login URL</strong></span> that you collected in the previous step. Users will be redirected to this URL when they attempt to log in.
</li>
<li class="listitem">
<span class="strong strong"><strong>Public x509 certificate</strong></span>: Paste the contents of the downloaded signing certificate.
</li>
<li class="listitem">
<span class="strong strong"><strong>Login identifier prefix</strong></span>: A customizable piece of the Elastic Cloud SSO URL that your organization members can use to authenticate. This could be the name of your business. You can use lowercase alphanumeric characters and hyphens in this value, and you can change it later.
</li>
</ol>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Update configuration</strong></span>.
</li>
</ol>
</div>
<p>If successful, the API will return additional details that will need to be provided to the IdP.</p>
<div class="position-relative"><h4><a id="ec_update_the_entra_id_enterprise_application"></a>Update the Entra ID Enterprise application</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/cloud/edit/ms-119/docs/saas/ec-organizations-saml-sso-entra.asciidoc">edit</a></div>
<p>Update the <span class="strong strong"><strong>Basic SAML Configuration</strong></span> section of the Entra ID Enterprise application to use the values returned in the <span class="strong strong"><strong>User authentication</strong></span> page.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Set the entity ID to the <span class="strong strong"><strong>Service provider Entity ID</strong></span> value.
</li>
<li class="listitem">
Set the reply or ACS URL to the <span class="strong strong"><strong>Service provider ACS URL</strong></span> value.
</li>
<li class="listitem">
Set the sign on URL to the <span class="strong strong"><strong>SSO Login URL</strong></span> value.
</li>
<li class="listitem">
Optional: Fill in other details using information from the metadata file available at the <span class="strong strong"><strong>metadata URL</strong></span>.
</li>
</ol>
</div>
<p>When these steps are complete, you should be able to test SSO as described in <a class="xref" href="ec-saml-sso.html" title="Configure Elastic Cloud SAML single sign-on"><em>Configure Elastic Cloud SAML SSO</em></a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ec-saml-sso-okta.html">« Register Elastic Cloud SAML in Okta</a>
</span>
<span class="next">
<a href="ec-organizations-notifications-domain-allowlist.html">Notifications domain allowlist »</a>
</span>
</div>
</body>
</html>
