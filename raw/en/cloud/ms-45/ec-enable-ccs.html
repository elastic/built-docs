<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Enable cross-cluster search | Elasticsearch Service Documentation | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Service Documentation"/>
<link rel="up" href="ec-configure.html" title="Configuring your deployment"/>
<link rel="prev" href="ec-watcher.html" title="Enable Alerting (Watcher)"/>
<link rel="next" href="ec-enable-appsearch.html" title="Enable App Search"/>
<meta name="DC.type" content="Learn/Docs/Cloud/Reference"/>
<meta name="DC.subject" content="Elastic Cloud"/>
<meta name="DC.identifier" content="ms-45"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Service Documentation</a></span>
»
<span class="breadcrumb-link"><a href="ec-configure.html">Configuring your deployment</a></span>
»
<span class="breadcrumb-node">Enable cross-cluster search</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ec-watcher.html">« Enable Alerting (Watcher)</a>
</span>
<span class="next">
<a href="ec-enable-appsearch.html">Enable App Search »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ec-enable-ccs"></a>Enable cross-cluster search</h2>
</div></div></div>
<p>Cross-cluster search (CCS) allows you to configure multiple remote deployments, and enable federated search queries across all of the configured deployments.</p>
<p>Cluster settings are automatically maintained and updated when cluster topologies change. For example, all connected clusters are updated when:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A cluster is deleted
</li>
<li class="listitem">
A node is added or removed from a cluster
</li>
</ul>
</div>
<p>Once your remotes are configured, you can <a href="/guide/en/elasticsearch/reference/7.9/modules-cross-cluster-search.html" class="ulink" target="_top">run CCS queries from Elasticsearch</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Cross-cluster search is not supported for AWS Marketplace accounts.</p>
</div>
</div>
<h3><a id="ec_before_you_begin_11"></a>Before you begin</h3>
<p>To enable CCS, you must meet the following criteria:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>All deployments must be version 6.7.x or later.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Review the <a href="/guide/en/elasticsearch/reference/7.9/modules-remote-clusters.html#gateway-nodes-selection" class="ulink" target="_top">Elasticsearch version compatibility</a> table.
</li>
<li class="listitem">
System deployments are not compatible with CCS.
</li>
</ul>
</div>
</li>
<li class="listitem">
To access the RESTful API for Elasticsearch Service, you must use your Elasticsearch Service credentials.
</li>
</ul>
</div>
<h3><a id="ec-add-remotes"></a>Establish remote deployment relationships</h3>
<p>The CCS deployment acts as a hub that manages all of the remote deployment connections.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Log in to the <a href="https://cloud.elastic.co/" class="ulink" target="_top">Elasticsearch Service Console</a>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create deployment</strong></span>.
</li>
<li class="listitem">
Select the <span class="strong strong"><strong>Elastic Stack</strong></span> solution
</li>
<li class="listitem">
Select the <span class="strong strong"><strong>Cross Cluster Search</strong></span> hardware profile.
</li>
<li class="listitem">
<p>Decide when to add the remote connections:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If you know the deployments that you want to include, click <span class="strong strong"><strong>Customize deployment</strong></span> to define the remotes while creating the deployment.
</li>
<li class="listitem">
After the deployment is spun up, you can add remotes from the deployment overview page.
</li>
</ul>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add deployment</strong></span>.
</li>
<li class="listitem">
<p>Select a target deployment from the <span class="strong strong"><strong>Deployment name</strong></span> drop-down list.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only the compatible deployments appear on this list.</p>
</div>
</div>
</li>
<li class="listitem">
Optional: Update the generated alias to something meaningful to you.
</li>
<li class="listitem">
Save your changes.
</li>
<li class="listitem">
Verify the configuration by running <a href="/guide/en/elasticsearch/reference/7.9/modules-cross-cluster-search.html" class="ulink" target="_top">CCS queries from Elasticsearch</a>.
</li>
<li class="listitem">
As needed, from the Elasticsearch API or Kibana, update the <a href="/guide/en/elasticsearch/reference/7.9/cross-cluster-configuring.html" class="ulink" target="_top">Elasticsearch cluster security</a> and user access roles
to allow them to access the remote deployments.
</li>
</ol>
</div>
<p>The target deployment overview page shows which CCS deployments can search the target.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ec-watcher.html">« Enable Alerting (Watcher)</a>
</span>
<span class="next">
<a href="ec-enable-appsearch.html">Enable App Search »</a>
</span>
</div>
</div>
</body>
</html>
