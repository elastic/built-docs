<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Buckets
        | Elastic Stack Overview [6.6]
      | Elastic
    </title><link rel="home" href="index.html" title="Elastic Stack Overview [6.6]" /><link rel="up" href="ml-overview.html" title="Overview" /><link rel="prev" href="ml-dfeeds.html" title="Datafeeds" /><link rel="next" href="ml-calendars.html" title="Calendars and Scheduled Events" /><meta name="DC.type" content="Learn/Docs/Elastic Stack/Overview/6.6" /><meta name="DC.subject" content="Elastic Stack" /><meta name="DC.identifier" content="6.6" /><meta name="robots" content="noindex,nofollow" /></head><body><div class="page_header">You are looking at documentation for an older release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elastic Stack Overview
      [6.6]
    </a></span> » <span class="breadcrumb-link"><a href="xpack-ml.html">Machine learning in the Elastic Stack</a></span> » <span class="breadcrumb-link"><a href="ml-overview.html">Overview</a></span> » <span class="breadcrumb-node">Buckets</span></div><div class="navheader"><span class="prev"><a href="ml-dfeeds.html">
              « 
              Datafeeds</a>
           
        </span><span class="next">
           
          <a href="ml-calendars.html">Calendars and Scheduled Events
               »
            </a></span></div><div class="xpack section"><div class="titlepage"><div><div><h2 class="title"><a id="ml-buckets"></a>Buckets<a href="https://github.com/elastic/stack-docs/edit/6.6/docs/en/stack/ml/buckets.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2></div></div></div><p>The machine learning features use the concept of a <span class="emphasis"><em>bucket</em></span> to divide the time series
into batches for processing.</p><p>The <span class="emphasis"><em>bucket span</em></span> is part of the configuration information for a job. It defines
the time interval that is used to summarize and model the data. This is
typically between 5 minutes to 1 hour and it depends on your data characteristics.
When you set the bucket span, take into account the granularity at which you
want to analyze, the frequency of the input data, the typical duration of the
anomalies, and the frequency at which alerting is required.</p><p>When you view your machine learning results, each bucket has an anomaly score. This score is
a statistically aggregated and normalized view of the combined anomalousness of
all the record results in the bucket.</p><p>In 6.5 and later releases, the machine learning analytics enhance the anomaly score for each
bucket by considering contiguous buckets. This extra <span class="emphasis"><em>multi-bucket analysis</em></span>
effectively uses a sliding window to evaluate the events in each bucket relative
to the larger context of recent events. When you review your machine learning results, there
is a <code class="literal">multi_bucket_impact</code> property that indicates how strongly the final anomaly
score is influenced by multi-bucket analysis. In Kibana, anomalies with medium or
high multi-bucket impact are depicted in the <span class="strong strong"><strong>Anomaly Explorer</strong></span> and the
<span class="strong strong"><strong>Single Metric Viewer</strong></span> with a cross symbol instead of a dot. For example:</p><div class="screenshot informalfigure"><div class="mediaobject"><img src="ml/images/multibucketanalysis.jpg" alt="Examples of anomalies with multi-bucket impact in Kibana" /></div></div><p>In this example, you can see that some of the anomalies fall within the shaded
blue area, which represents the bounds for the expected values. The bounds are
calculated per bucket, but multi-bucket analysis is not limited by that scope.</p><p>If you have more than one job, you can
also obtain overall bucket results, which combine and correlate anomalies from
multiple jobs into an overall score. When you view the results for job groups
in Kibana, it provides the overall bucket scores. For more information, see
<a class="ulink" href="/guide/en/elasticsearch/reference/6.6/ml-results-resource.html" target="_top">Results resources</a> and
<a class="ulink" href="/guide/en/elasticsearch/reference/6.6/ml-get-overall-buckets.html" target="_top">Get overall buckets API</a>.</p></div><div class="navfooter"><span class="prev"><a href="ml-dfeeds.html">
              « 
              Datafeeds</a>
           
        </span><span class="next">
           
          <a href="ml-calendars.html">Calendars and Scheduled Events
               »
            </a></span></div></body></html>
