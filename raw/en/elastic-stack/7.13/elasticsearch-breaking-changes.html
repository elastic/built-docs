<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elasticsearch breaking changes | Installation and Upgrade Guide [7.13] | Elastic</title>
<meta class="elastic" name="content" content="Elasticsearch breaking changes | Installation and Upgrade Guide [7.13]">

<link rel="home" href="index.html" title="Installation and Upgrade Guide [7.13]"/>
<link rel="up" href="elastic-stack-breaking-changes.html" title="Breaking changes"/>
<link rel="prev" href="beats-breaking-changes.html" title="Beats breaking changes"/>
<link rel="next" href="elasticsearch-hadoop-breaking-changes.html" title="Elasticsearch Hadoop breaking changes"/>
<meta class="elastic" name="product_version" content="7.13"/>
<meta class="elastic" name="product_name" content="Elastic Stack"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Installation and Upgrade/7.13"/>
<meta name="DC.subject" content="Elastic Stack"/>
<meta name="DC.identifier" content="7.13"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="beats-breaking-changes.html">« Beats breaking changes</a>
</span>
<span class="next">
<a href="elasticsearch-hadoop-breaking-changes.html">Elasticsearch Hadoop breaking changes »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Installation and Upgrade Guide [7.13]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elastic-stack-breaking-changes.html">Breaking changes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Elasticsearch breaking changes</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.13/docs/en/install-upgrade/breaking.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="elasticsearch-breaking-changes"></a>Elasticsearch breaking changes</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.13/docs/en/install-upgrade/breaking.asciidoc">edit</a></div>
</div></div></div>

<p>This list summarizes the most important breaking changes in Elasticsearch 7.13.4. For
the complete list, go to <a href="/guide/en/elasticsearch/reference/7.13/breaking-changes.html" class="ulink" target="_top">Elasticsearch breaking changes</a>.</p>
<div class="position-relative"><h4><a id="breaking_713_mapping_changes"></a>Mapping changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/migration/migrate_7_13.asciidoc">edit</a></div>
<details id="geo-mappers-external-values">
<summary class="title">Geo mappers no longer accept external values from multifields.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
In earlier versions, geo fields could theoretically be used as a subfield
if their parent field set a geometry object as an external value during
parsing. This functionality was unused within the Elasticsearch codebase and
blocked required changes to allow index-time scripts on <code class="literal">geo_point</code> fields,
so it has been removed.</p>
</div>
</details>
<details id="geo-point-geohash-subfields">
<summary class="title">Geopoint mappers pass geohashes to subfields one-by-one.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
In earlier versions, a multiply-valued geopoint field would pass
its values as geohashes to subfields by combining them in to a single
comma-delimited string. These are now passed one-by-one as single
geohash strings.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_713_ssl_changes"></a>SSL/TLS changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/migration/migrate_7_13.asciidoc">edit</a></div>
<details id="breaking_713_bundled_jdk_tls_versions">
<summary class="title">TLSv1.1 and TLSv1.0 are disabled in the bundled JDK</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
When using the bundled JDK, TLSv1.1 and TLSv1.0 are disabled by default.
This may affect SSL connections to the Rest API for some older clients.
It also has the potential to affect outgoing connections such as Watcher webhooks,
LDAP authentication or access to snapshot repositories.</p>
<p>Most Elasticsearch deployments will not be affected by this change, as these older
TLS versions have known vulnerabilities and are no longer heavily used.</p>
<p>For instructions on how to enable these older TLS versions in your Elasticsearch cluster,
see <a href="/guide/en/elasticsearch/reference/7.13/jdk-tls-versions.html#jdk-enable-tls-protocol" class="ulink" target="_top">Enabling additional
SSL/TLS versions on your JDK</a>.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_713_settings_changes"></a>Settings changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/migration/migrate_7_13.asciidoc">edit</a></div>
<details id="breaking_713_searchable_snapshot_cache_ess">
<summary class="title"><code class="literal">xpack.searchable.snapshot.shared_cache.size</code> is no longer a supported user setting for Elasticsearch Service</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
You can no longer configure
<a href="/guide/en/elasticsearch/reference/7.13/searchable-snapshots.html#searchable-snapshots-shared-cache" class="ulink" target="_top"><code class="literal">xpack.searchable.snapshot.shared_cache.size</code></a>
on Elasticsearch Service deployments running Elasticsearch 7.13 or a later version. This setting reserves
disk space for the shared cache of partially mounted indices. Elasticsearch now
automatically configures the setting to 90% of total disk space for frozen data
tier nodes and to <code class="literal">0b</code> for non-frozen data tier nodes.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If you use Elasticsearch Service and previously configured
<code class="literal">xpack.searchable.snapshot.shared_cache.size</code>, remove it from your
<a href="/guide/en/cloud/current/ec-add-user-settings.html" class="ulink" target="_top">user settings</a> before upgrading to 7.13 or a
later version. Otherwise, attempts to upgrade the deployment will fail and
return an error.</p>
</div>
</details>
<details id="breaking_713_frozen_multiple_data_paths_changes">
<summary class="title">Changes to the frozen tier and multiple data paths</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Elasticsearch 7.12 included a technical preview of the frozen tier, being able to use
partially mounted indices (searchable snapshots mounted with the shared cache
option). Trying out this feature required configuring a shared cache using the
<code class="literal">xpack.searchable.snapshot.shared_cache.size</code> setting.</p>
<p>In Elasticsearch 7.13+, having a non-zero <code class="literal">xpack.searchable.snapshot.shared_cache.size</code>
on nodes utilizing multiple data paths (<code class="literal">path.data</code> points to multiple
locations) is no longer supported and will prevent the node from starting. If
you do not utilize multiple data paths this will not affect you. Likewise, if
you have not set <code class="literal">xpack.searchable.snapshot.shared_cache.size</code> and have not
configured dedicated frozen nodes (nodes with the <code class="literal">data_frozen</code> role and no
other data roles) this will not affect you.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_713_tls_changes"></a>Security changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/migration/migrate_7_13.asciidoc">edit</a></div>
<details id="tls-ssl-transport-enabled-required">
<summary class="title">The <code class="literal">xpack.security.transport.ssl.enabled</code> setting will be required to configure <code class="literal">xpack.security.transport.ssl</code> settings.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Configuring any SSL settings for
<code class="literal">xpack.security.transport.ssl</code> without also configuring
<code class="literal">xpack.security.transport.ssl.enabled</code> generates warnings in the deprecation
log. In 8.0, this configuration will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, either:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Explicitly set <code class="literal">xpack.security.transport.ssl.enabled</code> as <code class="literal">false</code>
</li>
<li class="listitem">
Discontinue use of other <code class="literal">xpack.security.transport.ssl</code> settings
</li>
</ul>
</div>
<p>If you want to enable SSL, follow the instructions to
<a href="/guide/en/elasticsearch/reference/7.13/security-basic-setup.html#encrypt-internode-communication" class="ulink" target="_top">encrypt internode communications with TLS</a>. As part of this configuration, explicitly set
<code class="literal">xpack.security.transport.ssl.enabled</code> as <code class="literal">true</code>.</p>
<p>For example:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">xpack.security.transport.ssl.enabled: true <a id="CO1-1"></a><i class="conum" data-value="1"></i>
xpack.security.transport.ssl.keystore.path: elastic-certificates.p12
xpack.security.transport.ssl.truststore.path: elastic-certificates.p12</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO1-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>or <code class="literal">false</code>.</p>
</td>
</tr>
</table>
</div>
</div>
</details>
<details id="tls-ssl-http-enabled-required">
<summary class="title">The <code class="literal">xpack.security.http.ssl.enabled</code> setting will be required to configure <code class="literal">xpack.security.http.ssl</code> settings.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Configuring any SSL settings for <code class="literal">xpack.security.http.ssl</code> without also
configuring <code class="literal">xpack.security.http.ssl.enabled</code> generates warnings in the
deprecation log. In 8.0, this configuration will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, either:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Explicitly set <code class="literal">xpack.security.http.ssl.enabled</code> as <code class="literal">false</code>
</li>
<li class="listitem">
Discontinue use of other <code class="literal">xpack.security.http.ssl</code> settings
</li>
</ul>
</div>
<p>If you want to enable SSL, follow the instructions to
<a href="/guide/en/elasticsearch/reference/7.13/security-basic-setup-https.html#encrypt-http-communication" class="ulink" target="_top">encrypt HTTP client communications for Elasticsearch</a>. As part
of this configuration, explicitly set <code class="literal">xpack.security.http.ssl.enabled</code>
as <code class="literal">true</code>.</p>
<p>For example:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">xpack.security.http.ssl.enabled: true <a id="CO2-1"></a><i class="conum" data-value="1"></i>
xpack.security.http.ssl.certificate: elasticsearch.crt
xpack.security.http.ssl.key: elasticsearch.key
xpack.security.http.ssl.certificate_authorities: [ "corporate-ca.crt" ]</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO2-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>or <code class="literal">false</code>.</p>
</td>
</tr>
</table>
</div>
</div>
</details>
<details id="tls-ssl-transport-cert-required">
<summary class="title">A <code class="literal">xpack.security.transport.ssl</code> certificate and key will be required to enable SSL for the transport interface.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Enabling SSL for the transport interface without also configuring a certificate
and key through use of the <code class="literal">xpack.security.transport.ssl.keystore.path</code>
setting or the <code class="literal">xpack.security.transport.ssl.certificate</code> and
<code class="literal">xpack.security.transport.ssl.key</code> settings generates warnings in the
deprecation log. In 8.0, this configuration will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If <code class="literal">xpack.security.transport.ssl.enabled</code> is set to <code class="literal">true</code>, provide a
certificate and key using the <code class="literal">xpack.security.transport.ssl.keystore.path</code>
setting or the <code class="literal">xpack.security.transport.ssl.certificate</code> and
<code class="literal">xpack.security.transport.ssl.key</code> settings. If a certificate and key is not
provided, Elasticsearch will generate warnings in the deprecation log.</p>
</div>
</details>
<details id="tls-ssl-http-cert-required">
<summary class="title">A <code class="literal">xpack.security.http.ssl</code> certificate and key will be required to enable SSL for the HTTP layer.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Enabling SSL for the HTTP layer without also configuring a certificate and key
through use of the <code class="literal">xpack.security.http.ssl.keystore.path</code> setting or
the <code class="literal">xpack.security.http.ssl.certificate</code> and <code class="literal">xpack.security.http.ssl.key</code>
settings generates warnings in the deprecation log. In 8.0, this configuration
will result in errors.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If <code class="literal">xpack.security.http.ssl.enabled</code> is set to <code class="literal">true</code>, provide a
certificate and key using the <code class="literal">xpack.security.http.ssl.keystore.path</code>
setting or the <code class="literal">xpack.security.http.ssl.certificate</code> and
<code class="literal">xpack.security.http.ssl.key</code> settings. If a certificate and key is not
provided, Elasticsearch will generate warnings in the deprecation log.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_713_agg_deprecations"></a>Aggregation deprecations</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/migration/migrate_7_13.asciidoc">edit</a></div>
<details id="breaking_713_boolean-field-support-deprecated-date-aggs">
<summary class="title">Date aggregations on <code class="literal">boolean</code> fields are deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Support for auto-interval date histogram, date histogram, and date range
aggregations on <code class="literal">boolean</code> fields is now deprecated. On <code class="literal">boolean</code> fields, these
aggregations are rarely useful and often unintended.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_713_infra_core_deprecations"></a>Core deprecations</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/migration/migrate_7_13.asciidoc">edit</a></div>
<details id="multiple-data-path-support-deprecated">
<summary class="title">Multiple data path support is deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">path.data</code> setting accepts a list of data paths, but if you specify
multiple paths then the behaviour is unintuitive and usually does not give the
desired outcomes. Support for multiple data paths is now deprecated and will be
removed in a future release.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, specify a single path in <code class="literal">path.data</code>. If needed,
you can create a filesystem which spans multiple disks with a hardware
virtualisation layer such as RAID, or a software virtualisation layer such as
Logical Volume Manager (LVM) on Linux or Storage Spaces on Windows. If you wish
to use multiple data paths on a single machine then you must run one node for
each data path.</p>
<p>If you currently use multiple data paths in a
<a href="/guide/en/elasticsearch/reference/7.13/high-availability-cluster-design.html" class="ulink" target="_top">highly available cluster</a> then you
can migrate to a setup that uses a single path for each node without downtime
using a process similar to a
<a href="/guide/en/elasticsearch/reference/7.13/restart-cluster.html#restart-cluster-rolling" class="ulink" target="_top">rolling restart</a>: shut each
node down in turn and replace it with one or more nodes each configured to use
a single data path. In more detail, for each node that currently has multiple
data paths you should follow the following process.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Take a snapshot to protect your data in case of disaster.
</li>
<li class="listitem">
<p>Optionally, migrate the data away from the target node by using an
<a href="/guide/en/elasticsearch/reference/7.13/modules-cluster.html#cluster-shard-allocation-filtering" class="ulink" target="_top">allocation filter</a>:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT _cluster/settings
{
  "transient": {
    "cluster.routing.allocation.exclude._name": "target-node-name"
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/1.console"></div>
<p>You can use the <a href="/guide/en/elasticsearch/reference/7.13/cat-allocation.html" class="ulink" target="_top">cat allocation API</a> to track progress
of this data migration. If some shards do not migrate then the
<a href="/guide/en/elasticsearch/reference/7.13/cluster-allocation-explain.html" class="ulink" target="_top">cluster allocation explain API</a> will help
you to determine why.</p>
</li>
<li class="listitem">
Follow the steps in the
<a href="/guide/en/elasticsearch/reference/7.13/restart-cluster.html#restart-cluster-rolling" class="ulink" target="_top">rolling restart process</a>
up to and including shutting the target node down.
</li>
<li class="listitem">
Ensure your cluster health is <code class="literal">yellow</code> or <code class="literal">green</code>, so that there is a copy
of every shard assigned to at least one of the other nodes in your cluster.
</li>
<li class="listitem">
<p>If applicable, remove the allocation filter applied in the earlier step.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT _cluster/settings
{
  "transient": {
    "cluster.routing.allocation.exclude._name": null
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2.console"></div>
</li>
<li class="listitem">
Discard the data held by the stopped node by deleting the contents of its
data paths.
</li>
<li class="listitem">
Reconfigure your storage. For instance, combine your disks into a single
filesystem using LVM or Storage Spaces. Ensure that your reconfigured storage
has sufficient space for the data that it will hold.
</li>
<li class="listitem">
Reconfigure your node by adjusting the <code class="literal">path.data</code> setting in its
<code class="literal">elasticsearch.yml</code> file. If needed, install more nodes each with their own
<code class="literal">path.data</code> setting pointing at a separate data path.
</li>
<li class="listitem">
Start the new nodes and follow the rest of the
<a href="/guide/en/elasticsearch/reference/7.13/restart-cluster.html#restart-cluster-rolling" class="ulink" target="_top">rolling restart process</a> for
them.
</li>
<li class="listitem">
Ensure your cluster health is <code class="literal">green</code>, so that every shard has been
assigned.
</li>
</ol>
</div>
<p>You can alternatively add some number of single-data-path nodes to your
cluster, migrate all your data over to these new nodes using
<a href="/guide/en/elasticsearch/reference/7.13/modules-cluster.html#cluster-shard-allocation-filtering" class="ulink" target="_top">allocation filters</a>,
and then remove the old nodes from the cluster. This approach will temporarily
double the size of your cluster so it will only work if you have the capacity to
expand your cluster like this.</p>
<p>If you currently use multiple data paths but your cluster is not highly
available then the you can migrate to a non-deprecated configuration by taking
a snapshot, creating a new cluster with the desired configuration and restoring
the snapshot into it.</p>
</div>
</details>
<details id="action-destructive-defaults-to-true">
<summary class="title">The <code class="literal">action.destructive_requires_name</code> setting will default to <code class="literal">true</code> in 8.0.0.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
In 8.0.0, the <code class="literal">action.destructive_requires_name</code> setting will default to <code class="literal">true</code>.
Currently, the setting defaults to <code class="literal">false</code>.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If you use a wildcard (<code class="literal">*</code>) or <code class="literal">_all</code> to delete indices or perform other
destructive actions, use the <a href="/guide/en/elasticsearch/reference/7.13/cluster-update-settings.html" class="ulink" target="_top">update cluster
settings API</a> to set <code class="literal">action.destructive_requires_name</code> to <code class="literal">false</code> to avoid
errors in 8.0.0.</p>
</div>
</details>
<details id="slow-log-level-removal">
<summary class="title"><code class="literal">index.indexing.slowlog.level</code> and <code class="literal">index.search.slowlog.level</code> are deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">index.indexing.slowlog.level</code> and <code class="literal">index.search.slowlog.level</code> index
settings are now deprecated. You use these setting to set the logging level for
the search and indexing slow logs. To reproduce similar results, use the
respective <code class="literal">index.*.slowlog.threshold.index.debug</code> and
<code class="literal">index.*.slowlog.threshold.index.trace</code> index settings instead.</p>
<p>For example, to reproduce a <code class="literal">index.indexing.slowlog.level</code> setting of <code class="literal">INFO</code>,
set <code class="literal">index.indexing.slowlog.threshold.index.debug</code> and
<code class="literal">index.indexing.slowlog.threshold.index.trace</code> to <code class="literal">-1</code>.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, discontinue use of the deprecated settings.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_713_eql_deprecations"></a>EQL deprecations</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/migration/migrate_7_13.asciidoc">edit</a></div>
<details id="wildcard-function-deprecated">
<summary class="title">The <code class="literal">wildcard</code> function is deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Impact</strong></span><br>
Use the <a href="/guide/en/elasticsearch/reference/7.13/eql-syntax.html#eql-syntax-pattern-comparison-keywords" class="ulink" target="_top"><code class="literal">like</code></a> or
<a href="/guide/en/elasticsearch/reference/7.13/eql-syntax.html#eql-syntax-pattern-comparison-keywords" class="ulink" target="_top"><code class="literal">regex</code></a> keyword
instead.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_713_security_deprecations"></a>Security deprecations</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/migration/migrate_7_13.asciidoc">edit</a></div>
<details id="implicitly-disabled-basic-realms">
<summary class="title">Implicit enablement of the file and native realms is deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Currently, the file and native realms have the following implicit behaviors:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If file and native realms are not configured, they are implicitly disabled
if there are other explicitly configured realms.
</li>
<li class="listitem">
If no realm is available because realms are unconfigured, explicitly
disabled, or not allowed by your license, the file and native realms are always
enabled, even if explicitly disabled.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Both of the above behaviors are deprecated. In 8.0.0, the file and
native realms will always be enabled unless explicitly disabled. If they are
explicitly disabled, they remain disabled at all times.</p>
</div>
</details>
<details id="system-call-filter-setting">
<summary class="title">System call filter setting deprecated</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Elasticsearch uses system call filters to remove its ability to fork another
process. This is useful to mitigate remote code exploits. These system call
filters are enabled by default, and controlled via the setting
<code class="literal">bootstrap.system_call_filter</code>. Starting in Elasticsearch 8.0, system call
filters will be required. As such, the setting <code class="literal">bootstrap.system_call_filter</code> is
deprecated and will be removed in Elasticsearch 8.0.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Discontinue use of the removed setting. Specifying this setting in Elasticsearch
configuration will result in an error on startup.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_713_settings_deprecations"></a>Settings deprecations</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/migration/migrate_7_13.asciidoc">edit</a></div>
<details id="deprecate-tier-filter-setting">
<summary class="title">Several tier filtering settings are deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The following cluster settings are now deprecated:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">cluster.routing.allocation.include._tier</code>
</li>
<li class="listitem">
<code class="literal">cluster.routing.allocation.exclude._tier</code>
</li>
<li class="listitem">
<code class="literal">cluster.routing.allocation.require._tier</code>
</li>
</ul>
</div>
<p>The following index settings are also now deprecated:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">index.routing.allocation.include._tier</code>
</li>
<li class="listitem">
<code class="literal">index.routing.allocation.exclude._tier</code>
</li>
<li class="listitem">
<code class="literal">index.routing.allocation.require._tier</code>
</li>
</ul>
</div>
<p>These settings are used to filter the allocation of a shard to a specific set of
nodes. Instead, use the
<a href="/guide/en/elasticsearch/reference/7.13/data-tier-shard-filtering.html#tier-preference-allocation-filter" class="ulink" target="_top"><code class="literal">index.routing.allocation.include._tier_preference</code></a>
index setting.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, discontinue use of the deprecated settings.</p>
</div>
</details>
<details id="deprecate-shared-data-path-settings">
<summary class="title">The <code class="literal">path.shared_data</code> and <code class="literal">index.data_path</code> settings are deprecated.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">path.shared_data</code> node setting and <code class="literal">index.data_path</code> index setting are
now deprecated. Elasticsearch previously used these settings for
<a href="/guide/en/elasticsearch/reference/5.6/indices-shadow-replicas.html" class="ulink" target="_top">shadow replicas</a>. The shadow
replicas feature was deprecated in 5.2 and removed in 6.0.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To avoid deprecation warnings, discontinue use of the deprecated settings.</p>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="beats-breaking-changes.html">« Beats breaking changes</a>
</span>
<span class="next">
<a href="elasticsearch-hadoop-breaking-changes.html">Elasticsearch Hadoop breaking changes »</a>
</span>
</div>
</body>
</html>
