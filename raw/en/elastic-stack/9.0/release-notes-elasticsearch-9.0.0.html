<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elasticsearch release notes | Elastic Installation and Upgrade Guide [9.0] | Elastic</title>
<meta class="elastic" name="content" content="Elasticsearch release notes | Elastic Installation and Upgrade Guide [9.0]">

<link rel="home" href="index.html" title="Elastic Installation and Upgrade Guide [9.0]"/>
<link rel="up" href="elastic-stack-release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-security-9.0.0.html" title="Elastic Security release notes"/>
<link rel="next" href="release-notes-fleet-agent-9.0.0.html" title="Fleet and Elastic Agent release notes"/>
<meta class="elastic" name="product_version" content="9.0"/>
<meta class="elastic" name="product_name" content="Elastic Stack"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Installation and Upgrade/9.0"/>
<meta name="DC.subject" content="Elastic Stack"/>
<meta name="DC.identifier" content="9.0"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-security-9.0.0.html">« Elastic Security release notes</a>
</span>
<span class="next">
<a href="release-notes-fleet-agent-9.0.0.html">Fleet and Elastic Agent release notes »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Installation and Upgrade Guide [9.0]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elastic-stack-release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Elasticsearch release notes</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-notes-elasticsearch-9.0.0"></a>Elasticsearch release notes</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch.asciidoc">edit</a></div>
</div></div></div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_elasticsearch_version_9_0_0_rc1"></a>Elasticsearch version 9.0.0-rc1</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-rc1.asciidoc">edit</a></div>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Coming in 9.0.0-rc1.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_elasticsearch_version_9_0_0_beta1"></a>Elasticsearch version 9.0.0-beta1</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
</div></div></div>
<div class="position-relative"><h5><a id="breaking-changes-9.0"></a>Breaking changes</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<p>The following changes in Elasticsearch 9.0 might affect your applications
and prevent them from operating normally.
Before upgrading to 9.0, review these changes and take the described steps
to mitigate the impact.</p>
<div class="position-relative"><h6><a id="breaking_90_aggregations_changes"></a>Aggregations changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="remove_date_histogram_boolean_support">
<summary class="title">Remove date histogram boolean support</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Elasticsearch no longer allows running Date Histogram aggregations over boolean fields. Instead, use Terms aggregation for boolean fields.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
We expect the impact to be minimal, as this never produced good results, and has been deprecated for years.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_analysis_changes"></a>Analysis changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="snowball_stemmers_have_been_upgraded">
<summary class="title">Snowball stemmers have been upgraded</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Lucene 10 ships with an upgrade of its Snowball stemmers.  For details see <a href="https://github.com/apache/lucene/issues/13209" class="ulink" target="_top">https://github.com/apache/lucene/issues/13209</a>. Users using Snowball stemmers that are experiencing changes in search behaviour on  existing data are advised to reindex.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
The upgrade should generally provide improved stemming results. Small changes in token analysis can lead to mismatches with previously index data, so existing indices using Snowball stemmers as part of their analysis chain should be reindexed.</p>
</div>
</details>
<details id="german2_snowball_stemmer_an_alias_for_german_stemmer">
<summary class="title">The "german2" snowball stemmer is now an alias for the "german" stemmer</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Lucene 10 has merged the improved "german2" snowball language stemmer with the "german" stemmer. For Elasticsearch, "german2" is now a deprecated alias for "german". This may results in slightly different tokens being generated for terms with umlaut substitution (like "ue" for "ü" etc&#8230;&#8203;)</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Replace usages of "german2" with "german" in analysis configuration. Old indices that use the "german" stemmer should be reindexed if possible.</p>
</div>
</details>
<details id="persian_analyzer_has_stemmer_by_default">
<summary class="title">The <em>persian</em> analyzer has stemmer by default</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Lucene 10 has added a final stemming step to its PersianAnalyzer that Elasticsearch exposes as <em>persian</em> analyzer. Existing indices will keep the old non-stemming behaviour while new indices will see the updated behaviour with added stemming. Users that wish to maintain the non-stemming behaviour need to define their own analyzer as outlined in <a href="/guide/en/elasticsearch/reference/current/analysis-lang-analyzer.html#persian-analyzer" class="ulink" target="_top">Persion analyzer</a>. Users that wish to use the new stemming behaviour for existing indices will have to reindex their data.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Indexing with the <em>persian</em> analyzer will produce slightly different tokens. Users should check if this impacts their search results. If they wish to maintain the legacy non-stemming behaviour they can define their own analyzer equivalent as explained in <a href="/guide/en/elasticsearch/reference/current/analysis-lang-analyzer.html#persian-analyzer" class="ulink" target="_top">Persian analyzer</a>.</p>
</div>
</details>
<details id="korean_dictionary_for_nori_has_been_updated">
<summary class="title">The Korean dictionary for Nori has been updated</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Lucene 10 ships with an updated Korean dictionary (mecab-ko-dic-2.1.1).  For details see <a href="https://github.com/apache/lucene/issues/11452" class="ulink" target="_top">https://github.com/apache/lucene/issues/11452</a>. Users experiencing changes in search behaviour on existing data are advised to reindex.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
The change is small and should generally provide better analysis results. Existing indices for full-text use cases should be reindexed though.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_cluster_and_node_setting_changes"></a>Cluster and node setting changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="configuring_bind_dn_in_an_ldap_or_active_directory_ad_realm_without_corresponding_bind_password_will_prevent_node_from_starting">
<summary class="title">Configuring a bind DN in an LDAP or Active Directory (AD) realm without a corresponding bind password will prevent node from starting</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
For LDAP or AD authentication realms, setting a bind DN (via the <code class="literal">xpack.security.authc.realms.ldap.*.bind_dn</code> or <code class="literal">xpack.security.authc.realms.active_directory.*.bind_dn</code> realm settings) without a bind password is a misconfiguration that may prevent successful authentication to the node. Nodes will fail to start if a bind DN is specified without a password.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If you have a bind DN configured for an LDAP or AD authentication realm, set a bind password for <a href="/guide/en/elasticsearch/reference/current/ldap-realm.html#ldap-realm-configuration" class="ulink" target="_top">LDAP</a> or <a href="/guide/en/elasticsearch/reference/current/active-directory-realm.html#ad-realm-configuration" class="ulink" target="_top">Active Directory</a>. Configuring a bind DN without a password prevents the misconfigured node from starting.</p>
</div>
</details>
<details id="deprecated_tracing_apm_settings_got_removed">
<summary class="title">Deprecated tracing.apm.* settings got removed.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Deprecated <code class="literal">tracing.apm.*</code> settings got removed, use respective <code class="literal">telemetry.*</code> / <code class="literal">telemetry.tracing.*</code> settings instead.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
9.x nodes will refuse to start if any such setting (including secret settings) is still present.</p>
</div>
</details>
<details id="limit_bytesizeunit_to_2_decimals">
<summary class="title">Limit <code class="literal">ByteSizeUnit</code> to 2 decimals</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
In the past, byte values like <code class="literal">1.25 mb</code> were allowed but deprecated. Now, values with up to two decimal places are allowed, unless the unit is bytes, in which case no decimals are allowed. Values with too many decimal places result in an error.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Values with more than two decimal places, like <code class="literal">0.123 mb</code> will be rejected as an error, where in the past, they&#8217;d be accepted with a deprecation warning.</p>
</div>
</details>
<details id="minimum_shard_balancer_threshold_1_0">
<summary class="title">Minimum shard balancer threshold is now 1.0</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Earlier versions of Elasticsearch accepted any non-negative value for <code class="literal">cluster.routing.allocation.balance.threshold</code>, but values smaller than <code class="literal">1.0</code> do not make sense and have been ignored since version 8.6.1. From 9.0.0 these nonsensical values are now forbidden.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Do not set <code class="literal">cluster.routing.allocation.balance.threshold</code> to a value less than <code class="literal">1.0</code>.</p>
</div>
</details>
<details id="remove_tlsv1_1_from_default_protocols">
<summary class="title">Remove TLSv1.1 from default protocols</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
TLSv1.1 is no longer enabled by default. Prior to version 9.0, Elasticsearch would attempt to enable TLSv1.1 if the JDK supported it. In most cases, including all cases where Elasticsearch 8 was running with the bundled JDK, the JDK would not support TLSv1.1, so that protocol would not be available in Elasticsearch. However, if Elasticsearch was running on an old JDK or a JDK that have been reconfigured to support TLSv1.1, then the protocol would automatically be available within Elasticsearch. As of Elasticsearch 9.0, this is no longer true. If you wish to enable TLSv1.1 then you must enable it within the JDK and also enable it within Elasticsearch by using the <code class="literal">ssl.supported_protocols</code> setting.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Most users will not be impacted. If your Elastisearch 8 cluster was using a custom JDK and you relied on TLSv1.1, then you will need to explicitly enable TLSv1.1 within Elasticsearch (as well as enabling it within your JDK)</p>
</div>
</details>
<details id="remove_client_type_setting">
<summary class="title">Remove <code class="literal">client.type</code> setting</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The node setting <code class="literal">client.type</code> has been ignored since the node client was removed in 8.0. The setting is now removed.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Remove the <code class="literal">client.type</code> setting from <code class="literal">elasticsearch.yml</code></p>
</div>
</details>
<details id="remove_cluster_routing_allocation_disk_watermark_enable_for_single_data_node_setting">
<summary class="title">Remove <code class="literal">cluster.routing.allocation.disk.watermark.enable_for_single_data_node</code> setting</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Prior to 7.8, whenever a cluster had only a single data node, the watermarks would not be respected. In order to change this in 7.8+ in a backwards compatible way, we introduced the  <code class="literal">cluster.routing.allocation.disk.watermark.enable_for_single_data_node</code> node setting. The setting was deprecated in 7.14 and was made to accept only true in 8.0</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
No known end user impact</p>
</div>
</details>
<details id="remove_deprecated_xpack_searchable_snapshot_allocate_on_rolling_restart_setting">
<summary class="title">Remove deprecated <code class="literal">xpack.searchable.snapshot.allocate_on_rolling_restart</code> setting</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">xpack.searchable.snapshot.allocate_on_rolling_restart</code> setting was created as an escape-hatch just in case relying on the <code class="literal">cluster.routing.allocation.enable=primaries</code> setting for allocating searchable snapshots during rolling restarts had some unintended side-effects. It has been deprecated since 8.2.0.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Remove <code class="literal">xpack.searchable.snapshot.allocate_on_rolling_restart</code> from your settings if present.</p>
</div>
</details>
<details id="remove_unsupported_legacy_value_for_discovery_type">
<summary class="title">Remove unsupported legacy value for <code class="literal">discovery.type</code></summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Earlier versions of Elasticsearch had a <code class="literal">discovery.type</code> setting which permitted values that referred to legacy discovery types. From v9.0.0 onwards, the only supported values for this setting are <code class="literal">multi-node</code> (the default) and <code class="literal">single-node</code>.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Remove any value for <code class="literal">discovery.type</code> from your <code class="literal">elasticsearch.yml</code> configuration file.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_index_setting_changes"></a>Index setting changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="remove_ability_to_read_frozen_indices">
<summary class="title">Remove the ability to read frozen indices</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The ability to read frozen indices has been removed. (Frozen indices are no longer useful due to improvements in heap memory usage. The ability to freeze indices was removed in 8.0.)</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users must unfreeze any frozen indices before upgrading.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_ingest_changes"></a>Ingest changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="remove_ecs_option_on_user_agent_processor">
<summary class="title">Remove <code class="literal">ecs</code> option on <code class="literal">user_agent</code> processor</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">user_agent</code> ingest processor no longer accepts the <code class="literal">ecs</code> option. (It was previously deprecated and ignored.)</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users should stop using the <code class="literal">ecs</code> option when creating instances of the <code class="literal">user_agent</code> ingest processor. The option will be removed from existing processors stored in the cluster state on upgrade.</p>
</div>
</details>
<details id="remove_ignored_fallback_option_on_geoip_processor">
<summary class="title">Remove ignored fallback option on GeoIP processor</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The option fallback_to_default_databases on the geoip ingest processor has been removed. (It was deprecated and ignored since 8.0.0.)</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Customers should stop remove the noop fallback_to_default_databases option on any geoip ingest processors.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_logging_changes"></a>Logging changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="deprecation_logging_value_change_for_data_stream_dataset_event_dataset">
<summary class="title">Deprecation logging value change for "data_stream.dataset" and "event.dataset"</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
This change modifies the "data_stream.dataset" and "event.dataset" value for deprecation logging
to use the value <code class="literal">elasticsearch.deprecation</code> instead of <code class="literal">deprecation.elasticsearch</code>. This is now
consistent with other values where the name of the service is the first part of the key.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If you are directly consuming deprecation logs for "data_stream.dataset" and "event.dataset" and filtering on
this value, you will need to update your filters to use <code class="literal">elasticsearch.deprecation</code> instead of
<code class="literal">deprecation.elasticsearch</code>.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_logs_changes"></a>Logs changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="conditionally_enable_logsdb_by_default">
<summary class="title">Conditionally enable logsdb by default</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Logsdb will be enabled by default for data streams matching with logs-<span class="strong strong"><strong>-</strong></span> pattern.
If upgrading from 8.x to 9.x and data streams matching with log-<span class="strong strong"><strong>-</strong></span> do exist,
then Logsdb will not be enabled by default.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Logsdb reduce storage footprint in Elasticsearch for logs, but there are side effects
to be taken into account that are described in the <a href="/guide/en/elasticsearch/reference/current/logs-data-stream.html" class="ulink" target="_top">Logsdb docs</a>.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_mapping_changes"></a>Mapping changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="remove_support_for_type_fields_copy_to_boost_in_metadata_field_definition">
<summary class="title">Remove support for type, fields, copy_to and boost in metadata field definition</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The type, fields, copy_to and boost parameters are no longer supported in metadata field definition starting with version 9.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users providing type, fields, copy_to or boost as part of metadata field definition should remove them from their mappings.</p>
</div>
</details>
<details id="turn_source_meta_fieldmappers_mode_attribute_into_no_op">
<summary class="title">Turn <code class="literal">_source</code> meta fieldmapper&#8217;s mode attribute into a no-op</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">mode</code> mapping attribute of <code class="literal">_source</code> metadata field mapper has been turned into a no-op. Instead the <code class="literal">index.mapping.source.mode</code> index setting should be used to configure source mode.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Configuring the <code class="literal">mode</code> attribute for the <code class="literal">_source</code> meta field mapper will have no effect on indices created with Elasticsearch 9.0.0 or later. Note that <code class="literal">_source.mode</code> configured on indices before upgrading to 9.0.0 or later will remain efficive after upgrading.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_packaging_changes"></a>Packaging changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="disable_machine_learning_on_macos_x86_64">
<summary class="title">Disable machine learning on macOS x86_64</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The machine learning plugin is permanently disabled on macOS x86_64. For the last three years Apple has been selling hardware based on the arm64 architecture, and support will increasingly focus on this architecture in the future. Changes to upstream dependencies of Elastic&#8217;s machine learning functionality have made it unviable for Elastic to continue to build machine learning on macOS x86_64.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To continue to use machine learning functionality on macOS please switch to an arm64 machine (Apple silicon). Alternatively, it will still be possible to run Elasticsearch with machine learning enabled in a Docker container on macOS x86_64.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_rest_api_changes"></a>REST API changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="apply_more_strict_parsing_of_actions_in_bulk_api">
<summary class="title">Apply more strict parsing of actions in bulk API</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Previously, the following classes of malformed input were deprecated but not rejected in the action lines of the a bulk request: missing closing brace; additional keys after the action (which were ignored); additional data after the closing brace (which was ignored). They will now be considered errors and rejected.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users must provide well-formed input when using the bulk API. (They can request REST API compatibility with v8 to get the previous behaviour back as an interim measure.)</p>
</div>
</details>
<details id="change_most_elasticsearch_timeouts_to_429_response_instead_of_5xx">
<summary class="title">Change most Elasticsearch timeouts to 429 response instead of 5xx</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
When a timeout occurs in most REST requests, whether via a per-request timeout, or a system default, the request would return a 5xx response code. The response code from those APIs when a timeout occurs is now 429.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Adjust any code relying on retrying on 5xx responses for timeouts to look for a 429 response code and inspect the response to determine whether a timeout occured.</p>
</div>
</details>
<details id="error_json_structure_has_changed_when_detailed_errors_are_disabled">
<summary class="title">Error JSON structure has changed when detailed errors are disabled</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
This change modifies the JSON format of error messages returned to REST clients
when detailed messages are turned off.
Previously, JSON returned when an exception occurred, and <code class="literal">http.detailed_errors.enabled: false</code> was set,
just consisted of a single <code class="literal">"error"</code> text field with some basic information.
Setting <code class="literal">http.detailed_errors.enabled: true</code> (the default) changed this field
to an object with more detailed information.
With this change, non-detailed errors now have the same structure as detailed errors. <code class="literal">"error"</code> will now always
be an object with, at a minimum, a <code class="literal">"type"</code> and <code class="literal">"reason"</code> field. Additional fields are included when detailed
errors are enabled.
To use the previous structure for non-detailed errors, use the v8 REST API.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If you have set <code class="literal">http.detailed_errors.enabled: false</code> (the default is <code class="literal">true</code>)
the structure of JSON when any exceptions occur now matches the structure when
detailed errors are enabled.
To use the previous structure for non-detailed errors, use the v8 REST API.</p>
</div>
</details>
<details id="remove_any_references_to_org_elasticsearch_core_restapiversion_v_7">
<summary class="title">Remove any references to org.elasticsearch.core.RestApiVersion#V_7</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
This PR removes all references to V_7 in the Rest API. V7 features marked for deprecation have been removed.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
This change is breaking for any external plugins/clients that rely on the V_7 enum or deprecated version 7 functionality</p>
</div>
</details>
<details id="remove_cluster_state_from_cluster_reroute_response">
<summary class="title">Remove cluster state from <code class="literal">/_cluster/reroute</code> response</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">POST /_cluster/reroute</code> API no longer returns the cluster state in its response. The <code class="literal">?metric</code> query parameter to this API now has no effect and its use will be forbidden in a future version.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Cease usage of the <code class="literal">?metric</code> query parameter when calling the <code class="literal">POST /_cluster/reroute</code> API.</p>
</div>
</details>
<details id="remove_deprecated_local_attribute_from_alias_apis">
<summary class="title">Remove deprecated local attribute from alias APIs</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The following APIs no longer accept the <code class="literal">?local</code> query parameter: <code class="literal">GET /_alias</code>, <code class="literal">GET /_aliases</code>, <code class="literal">GET /_alias/{name}</code>, <code class="literal">HEAD /_alias/{name}</code>, <code class="literal">GET /{index}/_alias</code>, <code class="literal">HEAD /{index}/_alias</code>, <code class="literal">GET /{index}/_alias/{name}</code>, <code class="literal">HEAD /{index}/_alias/{name}</code>, <code class="literal">GET /_cat/aliases</code>, and <code class="literal">GET /_cat/aliases/{alias}</code>. This parameter has been deprecated and ignored since version 8.12.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Cease usage of the <code class="literal">?local</code> query parameter when calling the listed APIs.</p>
</div>
</details>
<details id="remove_legacy_params_from_range_query">
<summary class="title">Remove legacy params from range query</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The deprecated range query parameters <code class="literal">to</code>, <code class="literal">from</code>, <code class="literal">include_lower</code>, and <code class="literal">include_upper</code> are no longer supported.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users should use <code class="literal">lt</code>, <code class="literal">lte</code>, <code class="literal">gt</code>, and <code class="literal">gte</code> query parameters instead.</p>
</div>
</details>
<details id="remove_old_knn_search_tech_preview_api_in_v9">
<summary class="title">Remove old <code class="literal">_knn_search</code> tech preview API in v9</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The original, tech-preview api for vector search, <code class="literal">_knn_search</code>, has been removed in v9. For all vector search operations, you should utilize the <code class="literal">_search</code> endpoint.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
The <code class="literal">_knn_search</code> API is now inaccessible without providing a compatible-with flag for v8.</p>
</div>
</details>
<details id="remove_support_for_deprecated_force_source_highlighting_parameter">
<summary class="title">Remove support for deprecated <code class="literal">force_source</code> highlighting parameter</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The deprecated highlighting <code class="literal">force_source</code> parameter is no longer supported.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users should remove usages of the <code class="literal">force_source</code> parameter from their search requests.</p>
</div>
</details>
<details id="remove_unfreeze_rest_endpoint">
<summary class="title">Remove unfreeze REST endpoint</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">/{index}/_unfreeze</code> REST endpoint is no longer supported. This API was deprecated, and the corresponding <code class="literal">/{index}/_freeze</code> endpoint was removed in 8.0.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
None, since it is not possible to have a frozen index in a version which is readable by Elasticsearch 9.0</p>
</div>
</details>
<details id="removing_support_for_types_field_in_watcher_search">
<summary class="title">Removing support for types field in watcher search</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Previously, setting the <code class="literal">input.search.request.types</code> field in the payload when creating a watcher to an empty array was  allowed, although it resulted in a deprecation warning and had no effect (and any value other than an empty array would result in an error). Now, support for this field is entirely removed, and the empty array will also result in an error.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users should stop setting this field (which did not have any effect anyway).</p>
</div>
</details>
<details id="restrict_connector_apis_to_manage_monitor_connector_privileges">
<summary class="title">Restrict Connector APIs to manage/monitor_connector privileges</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Connector APIs now enforce the manage_connector and monitor_connector privileges (introduced in 8.15), replacing the previous reliance on index-level permissions for .elastic-connectors and .elastic-connectors-sync-jobs in API calls.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Connector APIs now require manage_connector and monitor_connector privileges</p>
</div>
</details>
<details id="set_allow_partial_search_results_true_by_default">
<summary class="title">Set allow_partial_search_results=true by default</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Before this change, in case of shard failures, EQL queries always returned an error. With this change, they will keep running and will return partial results.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
EQL queries that would previously fail due to shard failures, will now succeed and return partial results. The previous defaults can be restored by setting <code class="literal">xpack.eql.default_allow_partial_results</code> cluster setting to <code class="literal">false</code> or setting with <code class="literal">allow_partial_search_results</code> to <code class="literal">false</code> in the query request.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_search_changes1"></a>Search changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="adjust_random_score_default_field_to_seq_no_field">
<summary class="title">Adjust <code class="literal">random_score</code> default field to <code class="literal">_seq_no</code> field</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
When providing a <em>seed</em> parameter to a <em>random_score</em> function in the <em>function_score</em> query but NOT providing a <em>field</em>, the default <em>field</em> is switched from <em>_id</em> to <em>_seq_no</em>.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
The random scoring and ordering may change when providing a <em>seed</em> and not providing a <em>field</em> to a <em>random_score</em> function.</p>
</div>
</details>
<details id="change_semantic_text_to_act_like_normal_text_field">
<summary class="title">Change semantic text to act like a normal text field</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The previous semantic_text format used a complex subfield structure in _source to store the embeddings. This complicated interactions/integrations with semantic_text fields and _source in general. This new semantic_text format treats it as a normal text field, where the field&#8217;s value in _source is the value assigned by the user.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users who parsed the subfield structure of the previous semantic_text format in _source will need to update their parsing logic. The new format does not directly expose the chunks and embeddings generated from the input text. The new format will be applied to all new indices, any existing indices will continue to use the previous format.</p>
</div>
</details>
<div class="position-relative"><h6><a id="breaking_90_transform_changes"></a>Transform changes</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="remove_data_frame_transforms_roles">
<summary class="title">Remove <code class="literal">data_frame_transforms</code> roles</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
<code class="literal">data_frame_transforms_admin</code> and <code class="literal">data_frame_transforms_user</code> were deprecated in Elasticsearch 7 and are being removed in Elasticsearch 9. <code class="literal">data_frame_transforms_admin</code> is now <code class="literal">transform_admin</code>. <code class="literal">data_frame_transforms_user</code> is now <code class="literal">transform_user</code>. Users must call the <code class="literal">_update</code> API to replace the permissions on the Transform before the Transform can be started.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Transforms created with either the <code class="literal">data_frame_transforms_admin</code> or the <code class="literal">data_frame_transforms_user</code> role will fail to start. The Transform will remain in a <code class="literal">stopped</code> state, and its health will be red while displaying permission failures.</p>
</div>
</details>
<p>The following pull requests relate to breaking changes:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove date histogram boolean support <a href="https://github.com/elastic/elasticsearch/pull/118484" class="ulink" target="_top">#118484</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Increase minimum threshold in shard balancer <a href="https://github.com/elastic/elasticsearch/pull/115831" class="ulink" target="_top">#115831</a>
</li>
<li class="listitem">
Remove <code class="literal">cluster.routing.allocation.disk.watermark.enable_for_single_data_node</code> setting <a href="https://github.com/elastic/elasticsearch/pull/114207" class="ulink" target="_top">#114207</a>
</li>
<li class="listitem">
Remove cluster state from <code class="literal">/_cluster/reroute</code> response <a href="https://github.com/elastic/elasticsearch/pull/114231" class="ulink" target="_top">#114231</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88978" class="ulink" target="_top">#88978</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Snowball stemmers have been upgraded <a href="https://github.com/elastic/elasticsearch/pull/114146" class="ulink" target="_top">#114146</a>
</li>
<li class="listitem">
The <em>german2</em> stemmer is now an alias for the <em>german</em> snowball stemmer <a href="https://github.com/elastic/elasticsearch/pull/113614" class="ulink" target="_top">#113614</a>
</li>
<li class="listitem">
The <em>persian</em> analyzer has stemmer by default <a href="https://github.com/elastic/elasticsearch/pull/113482" class="ulink" target="_top">#113482</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/113050" class="ulink" target="_top">#113050</a>)
</li>
<li class="listitem">
The Korean dictionary for Nori has been updated <a href="https://github.com/elastic/elasticsearch/pull/114124" class="ulink" target="_top">#114124</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Configuring a bind DN in an LDAP or Active Directory (AD) realm without a corresponding bind password
will prevent node from starting <a href="https://github.com/elastic/elasticsearch/pull/118366" class="ulink" target="_top">#118366</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove unsupported legacy value for <code class="literal">discovery.type</code> <a href="https://github.com/elastic/elasticsearch/pull/112903" class="ulink" target="_top">#112903</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set allow_partial_search_results=true by default <a href="https://github.com/elastic/elasticsearch/pull/120267" class="ulink" target="_top">#120267</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Extract&amp;Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Restrict Connector APIs to manage/monitor_connector privileges <a href="https://github.com/elastic/elasticsearch/pull/119863" class="ulink" target="_top">#119863</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove support for deprecated <code class="literal">force_source</code> highlighting parameter <a href="https://github.com/elastic/elasticsearch/pull/116943" class="ulink" target="_top">#116943</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Apply more strict parsing of actions in bulk API <a href="https://github.com/elastic/elasticsearch/pull/115923" class="ulink" target="_top">#115923</a>
</li>
<li class="listitem">
Remove deprecated local attribute from alias APIs <a href="https://github.com/elastic/elasticsearch/pull/115393" class="ulink" target="_top">#115393</a>
</li>
<li class="listitem">
Remove the ability to read frozen indices <a href="https://github.com/elastic/elasticsearch/pull/120108" class="ulink" target="_top">#120108</a>
</li>
<li class="listitem">
Remove unfreeze REST endpoint <a href="https://github.com/elastic/elasticsearch/pull/119227" class="ulink" target="_top">#119227</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change Elasticsearch timeouts to 429 response instead of 5xx <a href="https://github.com/elastic/elasticsearch/pull/116026" class="ulink" target="_top">#116026</a>
</li>
<li class="listitem">
Limit <code class="literal">ByteSizeUnit</code> to 2 decimals <a href="https://github.com/elastic/elasticsearch/pull/120142" class="ulink" target="_top">#120142</a>
</li>
<li class="listitem">
Remove <code class="literal">client.type</code> setting <a href="https://github.com/elastic/elasticsearch/pull/118192" class="ulink" target="_top">#118192</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/104574" class="ulink" target="_top">#104574</a>)
</li>
<li class="listitem">
Remove any references to org.elasticsearch.core.RestApiVersion#V_7 <a href="https://github.com/elastic/elasticsearch/pull/118103" class="ulink" target="_top">#118103</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change <code class="literal">deprecation.elasticsearch</code> keyword to <code class="literal">elasticsearch.deprecation</code> <a href="https://github.com/elastic/elasticsearch/pull/117933" class="ulink" target="_top">#117933</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/83251" class="ulink" target="_top">#83251</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Metrics
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecated tracing.apm.* settings got removed. <a href="https://github.com/elastic/elasticsearch/pull/119926" class="ulink" target="_top">#119926</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/REST API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Output a consistent format when generating error json <a href="https://github.com/elastic/elasticsearch/pull/90529" class="ulink" target="_top">#90529</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89387" class="ulink" target="_top">#89387</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove <code class="literal">ecs</code> option on <code class="literal">user_agent</code> processor <a href="https://github.com/elastic/elasticsearch/pull/116077" class="ulink" target="_top">#116077</a>
</li>
<li class="listitem">
Remove ignored fallback option on GeoIP processor <a href="https://github.com/elastic/elasticsearch/pull/116112" class="ulink" target="_top">#116112</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Logs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Conditionally enable logsdb by default for data streams matching with logs-<span class="strong strong"><strong>-</strong></span> pattern. <a href="https://github.com/elastic/elasticsearch/pull/121049" class="ulink" target="_top">#121049</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/106489" class="ulink" target="_top">#106489</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Disable machine learning on macOS x86_64 <a href="https://github.com/elastic/elasticsearch/pull/104125" class="ulink" target="_top">#104125</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove support for type, fields, <code class="literal">copy_to</code> and boost in metadata field definition <a href="https://github.com/elastic/elasticsearch/pull/118825" class="ulink" target="_top">#118825</a>
</li>
<li class="listitem">
Turn <code class="literal">_source</code> meta fieldmapper&#8217;s mode attribute into a no-op <a href="https://github.com/elastic/elasticsearch/pull/119072" class="ulink" target="_top">#119072</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118596" class="ulink" target="_top">#118596</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adjust <code class="literal">random_score</code> default field to <code class="literal">_seq_no</code> field <a href="https://github.com/elastic/elasticsearch/pull/118671" class="ulink" target="_top">#118671</a>
</li>
<li class="listitem">
Change Semantic Text To Act Like A Normal Text Field <a href="https://github.com/elastic/elasticsearch/pull/120813" class="ulink" target="_top">#120813</a>
</li>
<li class="listitem">
Remove legacy params from range query <a href="https://github.com/elastic/elasticsearch/pull/116970" class="ulink" target="_top">#116970</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove deprecated <code class="literal">xpack.searchable.snapshot.allocate_on_rolling_restart</code> setting <a href="https://github.com/elastic/elasticsearch/pull/114202" class="ulink" target="_top">#114202</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TLS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove TLSv1.1 from default protocols <a href="https://github.com/elastic/elasticsearch/pull/121731" class="ulink" target="_top">#121731</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove <code class="literal">data_frame_transforms</code> roles <a href="https://github.com/elastic/elasticsearch/pull/117519" class="ulink" target="_top">#117519</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove old <code class="literal">_knn_search</code> tech preview API in v9 <a href="https://github.com/elastic/elasticsearch/pull/118104" class="ulink" target="_top">#118104</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Removing support for types field in watcher search <a href="https://github.com/elastic/elasticsearch/pull/120748" class="ulink" target="_top">#120748</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h5><a id="deprecated-9.0"></a>Deprecations</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<p>The following functionality has been deprecated in Elasticsearch 9.0
and will be removed in a future version.
While this won&#8217;t have an immediate impact on your applications,
we strongly encourage you to take the described steps to update your code
after upgrading to 9.0.</p>
<p>To find out if you are using any deprecated functionality,
enable <a href="/guide/en/elasticsearch/reference/current/logging.html#deprecation-logging" class="ulink" target="_top">deprecation logging</a>.</p>
<div class="position-relative"><h6><a id="deprecations_90_authorization"></a>Authorization deprecations</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="deprecate_certificate_based_remote_cluster_security_model">
<summary class="title">Deprecate certificate based remote cluster security model</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
-| <a href="/guide/en/elasticsearch/reference/current/remote-clusters-cert.html" class="ulink" target="_top">Certificate-based remote cluster security model</a> is deprecated and will be removed in a future major version. Users are encouraged to <a href="/guide/en/elasticsearch/reference/current/remote-clusters-migrate.html" class="ulink" target="_top">migrate remote clusters from certificate to API key authentication</a>. The <a href="/guide/en/elasticsearch/reference/current/remote-clusters-api-key.html" class="ulink" target="_top">API key-based security model</a> is preferred way to configure remote clusters, as it allows to follow security best practices when setting up remote cluster connections and defining fine-grained access control.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
-| If you have configured remote clusters with certificate-based security model, you should <a href="/guide/en/elasticsearch/reference/current/remote-clusters-migrate.html" class="ulink" target="_top">migrate remote clusters from certificate to API key authentication</a>. Configuring a remote cluster using <a href="/guide/en/elasticsearch/reference/current/remote-clusters-cert.html" class="ulink" target="_top">certificate authentication</a>, generates a warning in the deprecation logs.</p>
</div>
</details>
<div class="position-relative"><h6><a id="deprecations_90_es_ql"></a>ES|QL deprecations</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="drop_support_for_brackets_from_metadata_syntax">
<summary class="title">Drop support for brackets from METADATA syntax</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Please describe the details of this change for the release notes. You can use asciidoc.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Please describe the impact of this change to users</p>
</div>
</details>
<div class="position-relative"><h6><a id="deprecations_90_rest_api"></a>REST API deprecations</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="document_type_deprecated_on_simulate_pipeline_api">
<summary class="title">Document <code class="literal">_type</code> deprecated on simulate pipeline API</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Passing a document with a <code class="literal">_type</code> property is deprecated in the <code class="literal">/_ingest/pipeline/{id}/_simulate</code> and <code class="literal">/_ingest/pipeline/_simulate</code> APIs.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users should already have stopped using mapping types, which were deprecated in Elasticsearch 7. This deprecation warning will fire if they specify mapping types on documents pass to the simulate pipeline API.</p>
</div>
</details>
<details id="inference_api_deprecate_elser_service">
<summary class="title">Deprecate elser service</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The <code class="literal">elser</code> service of the inference API will be removed in an upcoming release. Please use the elasticsearch service instead.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
In the current version there is no impact. In a future version, users of the <code class="literal">elser</code> service will no longer be able to use it, and will be required to use the <code class="literal">elasticsearch</code> service to access elser through the inference API.</p>
</div>
</details>
<div class="position-relative"><h6><a id="deprecations_90_rollup"></a>Rollup deprecations</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="emit_deprecation_warning_when_executing_one_of_rollup_apis">
<summary class="title">Emit deprecation warning when executing one of the rollup APIs</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Rollup is already deprecated since 8.11.0 via documentation and since 8.15.0 it is no longer possible to create new rollup jobs in clusters without rollup usage. This change updates the rollup APIs to emit a deprecation warning.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Returning a deprecation warning when using one of the rollup APIs.</p>
</div>
</details>
<div class="position-relative"><h6><a id="deprecations_90_transform"></a>Transform deprecations</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<details id="removing_index_alias_creation_for_deprecated_transforms_notification_index">
<summary class="title">Removing index alias creation for deprecated transforms notification index</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
As part of the migration from 7.x to 8.x, the <code class="literal">.data-frame-notifications-1</code> index was deprecated and replaced with the <code class="literal">.transform-notifications-000002</code> index. The index is no longer created by default, all writes are directed to the new index, and any clusters with the deprecated index will have an alias created to ensure that reads are still retrieving data that was written to the index before the migration to 8.x. This change removes the alias from the deprecated index in 9.x. Any clusters with the alias present will retain it, but it will not be created on new clusters.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
No known end user impact.</p>
</div>
</details>
<p>The following pull requests relate to deprecations:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
ES|QL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Drop support for brackets from METADATA syntax <a href="https://github.com/elastic/elasticsearch/pull/119846" class="ulink" target="_top">#119846</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/115401" class="ulink" target="_top">#115401</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">_type</code> deprecation on simulate pipeline API <a href="https://github.com/elastic/elasticsearch/pull/116259" class="ulink" target="_top">#116259</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Removing index alias creation for deprecated transforms notification index <a href="https://github.com/elastic/elasticsearch/pull/117583" class="ulink" target="_top">#117583</a>
</li>
<li class="listitem">
[Inference API] Deprecate elser service <a href="https://github.com/elastic/elasticsearch/pull/113216" class="ulink" target="_top">#113216</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Rollup
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Emit deprecation warning when executing one of the rollup APIs <a href="https://github.com/elastic/elasticsearch/pull/113131" class="ulink" target="_top">#113131</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate certificate based remote cluster security model <a href="https://github.com/elastic/elasticsearch/pull/120806" class="ulink" target="_top">#120806</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h5><a id="bug-9.0.0"></a>Bug fixes</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle with <code class="literal">illegalArgumentExceptions</code> negative values in HDR percentile aggregations <a href="https://github.com/elastic/elasticsearch/pull/116174" class="ulink" target="_top">#116174</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/115777" class="ulink" target="_top">#115777</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Analyze API to return 400 for wrong custom analyzer <a href="https://github.com/elastic/elasticsearch/pull/121568" class="ulink" target="_top">#121568</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/121443" class="ulink" target="_top">#121443</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CAT APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix cat_component_templates documentation <a href="https://github.com/elastic/elasticsearch/pull/120487" class="ulink" target="_top">#120487</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Preserve thread context when waiting for segment generation in RTG <a href="https://github.com/elastic/elasticsearch/pull/114623" class="ulink" target="_top">#114623</a>
</li>
<li class="listitem">
Preserve thread context when waiting for segment generation in RTG <a href="https://github.com/elastic/elasticsearch/pull/117148" class="ulink" target="_top">#117148</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Data streams
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid updating settings version in <code class="literal">MetadataMigrateToDataStreamService</code> when settings have not changed <a href="https://github.com/elastic/elasticsearch/pull/118704" class="ulink" target="_top">#118704</a>
</li>
<li class="listitem">
Block-writes cannot be added after read-only <a href="https://github.com/elastic/elasticsearch/pull/119007" class="ulink" target="_top">#119007</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/119002" class="ulink" target="_top">#119002</a>)
</li>
<li class="listitem">
Ensure removal of index blocks does not leave key with null value <a href="https://github.com/elastic/elasticsearch/pull/122246" class="ulink" target="_top">#122246</a>
</li>
<li class="listitem">
Match dot prefix of migrated DS backing index with the source index <a href="https://github.com/elastic/elasticsearch/pull/120042" class="ulink" target="_top">#120042</a>
</li>
<li class="listitem">
Refresh source index before reindexing data stream index <a href="https://github.com/elastic/elasticsearch/pull/120752" class="ulink" target="_top">#120752</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/120314" class="ulink" target="_top">#120314</a>)
</li>
<li class="listitem">
<code class="literal">ReindexDataStreamIndex</code> bug in assertion caused by reference equality <a href="https://github.com/elastic/elasticsearch/pull/121325" class="ulink" target="_top">#121325</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Downsampling
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Copy metrics and <code class="literal">default_metric</code> properties when downsampling <code class="literal">aggregate_metric_double</code> <a href="https://github.com/elastic/elasticsearch/pull/121727" class="ulink" target="_top">#121727</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/119696" class="ulink" target="_top">#119696</a>, <a href="https://github.com/elastic/elasticsearch/issues/96076" class="ulink" target="_top">#96076</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix JOIN command validation (not supported) <a href="https://github.com/elastic/elasticsearch/pull/122011" class="ulink" target="_top">#122011</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ES|QL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow the data type of <code class="literal">null</code> in filters <a href="https://github.com/elastic/elasticsearch/pull/118324" class="ulink" target="_top">#118324</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/116351" class="ulink" target="_top">#116351</a>)
</li>
<li class="listitem">
Correct line and column numbers of missing named parameters <a href="https://github.com/elastic/elasticsearch/pull/120852" class="ulink" target="_top">#120852</a>
</li>
<li class="listitem">
Drop null columns in text formats <a href="https://github.com/elastic/elasticsearch/pull/117643" class="ulink" target="_top">#117643</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/116848" class="ulink" target="_top">#116848</a>)
</li>
<li class="listitem">
Fix ENRICH validation for use of wildcards <a href="https://github.com/elastic/elasticsearch/pull/121911" class="ulink" target="_top">#121911</a>
</li>
<li class="listitem">
Fix ROUND() with unsigned longs throwing in some edge cases <a href="https://github.com/elastic/elasticsearch/pull/119536" class="ulink" target="_top">#119536</a>
</li>
<li class="listitem">
Fix TDigestState.read CB leaks <a href="https://github.com/elastic/elasticsearch/pull/114303" class="ulink" target="_top">#114303</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/114194" class="ulink" target="_top">#114194</a>)
</li>
<li class="listitem">
Fix TopN row size estimate <a href="https://github.com/elastic/elasticsearch/pull/119476" class="ulink" target="_top">#119476</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/106956" class="ulink" target="_top">#106956</a>)
</li>
<li class="listitem">
Fix <code class="literal">AbstractShapeGeometryFieldMapperTests</code> <a href="https://github.com/elastic/elasticsearch/pull/119265" class="ulink" target="_top">#119265</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/119201" class="ulink" target="_top">#119201</a>)
</li>
<li class="listitem">
Fix a bug in TOP <a href="https://github.com/elastic/elasticsearch/pull/121552" class="ulink" target="_top">#121552</a>
</li>
<li class="listitem">
Fix async stop sometimes not properly collecting result <a href="https://github.com/elastic/elasticsearch/pull/121843" class="ulink" target="_top">#121843</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/121249" class="ulink" target="_top">#121249</a>)
</li>
<li class="listitem">
Fix attribute set equals <a href="https://github.com/elastic/elasticsearch/pull/118823" class="ulink" target="_top">#118823</a>
</li>
<li class="listitem">
Fix double lookup failure on ESQL <a href="https://github.com/elastic/elasticsearch/pull/115616" class="ulink" target="_top">#115616</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/111398" class="ulink" target="_top">#111398</a>)
</li>
<li class="listitem">
Fix queries with document level security on lookup indexes <a href="https://github.com/elastic/elasticsearch/pull/120617" class="ulink" target="_top">#120617</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/120509" class="ulink" target="_top">#120509</a>)
</li>
<li class="listitem">
Fix writing for LOOKUP status <a href="https://github.com/elastic/elasticsearch/pull/119296" class="ulink" target="_top">#119296</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/119086" class="ulink" target="_top">#119086</a>)
</li>
<li class="listitem">
Limit memory usage of <code class="literal">fold</code> <a href="https://github.com/elastic/elasticsearch/pull/118602" class="ulink" target="_top">#118602</a>
</li>
<li class="listitem">
Limit size of query <a href="https://github.com/elastic/elasticsearch/pull/117898" class="ulink" target="_top">#117898</a>
</li>
<li class="listitem">
Remove redundant sorts from execution plan <a href="https://github.com/elastic/elasticsearch/pull/121156" class="ulink" target="_top">#121156</a>
</li>
<li class="listitem">
Revert unwanted ES|QL lexer changes from PR #120354 <a href="https://github.com/elastic/elasticsearch/pull/120538" class="ulink" target="_top">#120538</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Do not recommend increasing <code class="literal">max_shards_per_node</code> <a href="https://github.com/elastic/elasticsearch/pull/120458" class="ulink" target="_top">#120458</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">?master_timeout</code> to <code class="literal">POST /_ilm/migrate_to_data_tiers</code> <a href="https://github.com/elastic/elasticsearch/pull/120883" class="ulink" target="_top">#120883</a>
</li>
<li class="listitem">
Fix broken yaml test <code class="literal">30_create_from</code> <a href="https://github.com/elastic/elasticsearch/pull/120662" class="ulink" target="_top">#120662</a>
</li>
<li class="listitem">
Include hidden indices in <code class="literal">DeprecationInfoAction</code> <a href="https://github.com/elastic/elasticsearch/pull/118035" class="ulink" target="_top">#118035</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118020" class="ulink" target="_top">#118020</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Inference
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[Inference API] Put back legacy EIS URL setting <a href="https://github.com/elastic/elasticsearch/pull/121207" class="ulink" target="_top">#121207</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Epoch Millis Rounding Down and Not Up 2 <a href="https://github.com/elastic/elasticsearch/pull/118353" class="ulink" target="_top">#118353</a>
</li>
<li class="listitem">
Wrap jackson exception on malformed json string <a href="https://github.com/elastic/elasticsearch/pull/114445" class="ulink" target="_top">#114445</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/114142" class="ulink" target="_top">#114142</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move <code class="literal">SlowLogFieldProvider</code> instantiation to node construction <a href="https://github.com/elastic/elasticsearch/pull/117949" class="ulink" target="_top">#117949</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Metrics
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make <code class="literal">randomInstantBetween</code> always return value in range [minInstant, <code class="literal">maxInstant]</code> <a href="https://github.com/elastic/elasticsearch/pull/114177" class="ulink" target="_top">#114177</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove unnecessary entitlement <a href="https://github.com/elastic/elasticsearch/pull/120959" class="ulink" target="_top">#120959</a>
</li>
<li class="listitem">
Restrict agent entitlements to the system classloader unnamed module <a href="https://github.com/elastic/elasticsearch/pull/120546" class="ulink" target="_top">#120546</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/REST API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed a <code class="literal">NullPointerException</code> in <code class="literal">_capabilities</code> API when the <code class="literal">path</code> parameter is null. <a href="https://github.com/elastic/elasticsearch/pull/113413" class="ulink" target="_top">#113413</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/113413" class="ulink" target="_top">#113413</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Register mustache size limit setting <a href="https://github.com/elastic/elasticsearch/pull/119291" class="ulink" target="_top">#119291</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Don&#8217;t allow secure settings in YML config (109115) <a href="https://github.com/elastic/elasticsearch/pull/115779" class="ulink" target="_top">#115779</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/109115" class="ulink" target="_top">#109115</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add warning headers for ingest pipelines containing special characters <a href="https://github.com/elastic/elasticsearch/pull/114837" class="ulink" target="_top">#114837</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/104411" class="ulink" target="_top">#104411</a>)
</li>
<li class="listitem">
Fix geoip databases index access after system feature migration <a href="https://github.com/elastic/elasticsearch/pull/121196" class="ulink" target="_top">#121196</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Logs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Always check if index mode is logsdb <a href="https://github.com/elastic/elasticsearch/pull/116922" class="ulink" target="_top">#116922</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change format for Unified Chat <a href="https://github.com/elastic/elasticsearch/pull/121396" class="ulink" target="_top">#121396</a>
</li>
<li class="listitem">
Fix get all inference endponts not returning multiple endpoints sharing model deployment <a href="https://github.com/elastic/elasticsearch/pull/121821" class="ulink" target="_top">#121821</a>
</li>
<li class="listitem">
Fixing bedrock event executor terminated cache issue <a href="https://github.com/elastic/elasticsearch/pull/118177" class="ulink" target="_top">#118177</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/117916" class="ulink" target="_top">#117916</a>)
</li>
<li class="listitem">
Fixing bug setting index when parsing Google Vertex AI results <a href="https://github.com/elastic/elasticsearch/pull/117287" class="ulink" target="_top">#117287</a>
</li>
<li class="listitem">
Updating Inference Update API documentation to have the correct PUT method <a href="https://github.com/elastic/elasticsearch/pull/121048" class="ulink" target="_top">#121048</a>
</li>
<li class="listitem">
Wait for up to 2 seconds for yellow status before starting search <a href="https://github.com/elastic/elasticsearch/pull/115938" class="ulink" target="_top">#115938</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/107777" class="ulink" target="_top">#107777</a>, <a href="https://github.com/elastic/elasticsearch/issues/105955" class="ulink" target="_top">#105955</a>, <a href="https://github.com/elastic/elasticsearch/issues/107815" class="ulink" target="_top">#107815</a>, <a href="https://github.com/elastic/elasticsearch/issues/112191" class="ulink" target="_top">#112191</a>)
</li>
<li class="listitem">
[Inference API] Fix unique ID message for inference ID matches trained model ID <a href="https://github.com/elastic/elasticsearch/pull/119543" class="ulink" target="_top">#119543</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/111312" class="ulink" target="_top">#111312</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable New Semantic Text Format Only On Newly Created Indices <a href="https://github.com/elastic/elasticsearch/pull/121556" class="ulink" target="_top">#121556</a>
</li>
<li class="listitem">
Fix propagation of dynamic mapping parameter when applying <code class="literal">copy_to</code> <a href="https://github.com/elastic/elasticsearch/pull/121109" class="ulink" target="_top">#121109</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/113049" class="ulink" target="_top">#113049</a>)
</li>
<li class="listitem">
Fix realtime get of nested fields with synthetic source <a href="https://github.com/elastic/elasticsearch/pull/119575" class="ulink" target="_top">#119575</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/119553" class="ulink" target="_top">#119553</a>)
</li>
<li class="listitem">
Merge field mappers when updating mappings with [subobjects:false] <a href="https://github.com/elastic/elasticsearch/pull/120370" class="ulink" target="_top">#120370</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/120216" class="ulink" target="_top">#120216</a>)
</li>
<li class="listitem">
Tweak <code class="literal">copy_to</code> handling in synthetic <code class="literal">_source</code> to account for nested objects <a href="https://github.com/elastic/elasticsearch/pull/120974" class="ulink" target="_top">#120974</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/120831" class="ulink" target="_top">#120831</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove ChunkedToXContentBuilder <a href="https://github.com/elastic/elasticsearch/pull/119310" class="ulink" target="_top">#119310</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118647" class="ulink" target="_top">#118647</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Catch and handle disconnect exceptions in search <a href="https://github.com/elastic/elasticsearch/pull/115836" class="ulink" target="_top">#115836</a>
</li>
<li class="listitem">
Fix leak in <code class="literal">DfsQueryPhase</code> and introduce search disconnect stress test <a href="https://github.com/elastic/elasticsearch/pull/116060" class="ulink" target="_top">#116060</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/115056" class="ulink" target="_top">#115056</a>)
</li>
<li class="listitem">
Fix/QueryBuilderBWCIT_muted_test <a href="https://github.com/elastic/elasticsearch/pull/117831" class="ulink" target="_top">#117831</a>
</li>
<li class="listitem">
In this pr, a 400 error is returned when _source / _seq_no / _feature / _nested_path / _field_names is requested, rather a 5xx <a href="https://github.com/elastic/elasticsearch/pull/117229" class="ulink" target="_top">#117229</a>
</li>
<li class="listitem">
Inconsistency in the _analyzer api when the index is not included <a href="https://github.com/elastic/elasticsearch/pull/115930" class="ulink" target="_top">#115930</a>
</li>
<li class="listitem">
Remove duplicate code in ESIntegTestCase <a href="https://github.com/elastic/elasticsearch/pull/120799" class="ulink" target="_top">#120799</a>
</li>
<li class="listitem">
SearchStatesIt failures reported by CI <a href="https://github.com/elastic/elasticsearch/pull/117618" class="ulink" target="_top">#117618</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/116617" class="ulink" target="_top">#116617</a>, <a href="https://github.com/elastic/elasticsearch/issues/116618" class="ulink" target="_top">#116618</a>)
</li>
<li class="listitem">
Skip fetching _inference_fields field in legacy semantic_text format <a href="https://github.com/elastic/elasticsearch/pull/121720" class="ulink" target="_top">#121720</a>
</li>
<li class="listitem">
Test/107515 restore template with match only text mapper it fail <a href="https://github.com/elastic/elasticsearch/pull/120392" class="ulink" target="_top">#120392</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/107515" class="ulink" target="_top">#107515</a>)
</li>
<li class="listitem">
Updated Date Range to Follow Documentation When Assuming Missing Values <a href="https://github.com/elastic/elasticsearch/pull/112258" class="ulink" target="_top">#112258</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/111484" class="ulink" target="_top">#111484</a>)
</li>
<li class="listitem">
<code class="literal">CrossClusterIT</code> <code class="literal">testCancel</code> failure <a href="https://github.com/elastic/elasticsearch/pull/117750" class="ulink" target="_top">#117750</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/108061" class="ulink" target="_top">#108061</a>)
</li>
<li class="listitem">
<code class="literal">SearchServiceTests.testParseSourceValidation</code> failure <a href="https://github.com/elastic/elasticsearch/pull/117963" class="ulink" target="_top">#117963</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add undeclared Azure settings, modify test to exercise them <a href="https://github.com/elastic/elasticsearch/pull/118634" class="ulink" target="_top">#118634</a>
</li>
<li class="listitem">
Fork post-snapshot-delete cleanup off master thread <a href="https://github.com/elastic/elasticsearch/pull/122047" class="ulink" target="_top">#122047</a>
</li>
<li class="listitem">
Retry throttled snapshot deletions <a href="https://github.com/elastic/elasticsearch/pull/113237" class="ulink" target="_top">#113237</a>
</li>
<li class="listitem">
Use the system index descriptor in the snapshot blob cache cleanup task <a href="https://github.com/elastic/elasticsearch/pull/120937" class="ulink" target="_top">#120937</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/120518" class="ulink" target="_top">#120518</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Do not capture <code class="literal">ClusterChangedEvent</code> in <code class="literal">IndicesStore</code> call to #onClusterStateShardsClosed <a href="https://github.com/elastic/elasticsearch/pull/120193" class="ulink" target="_top">#120193</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Apply default k for knn query eagerly <a href="https://github.com/elastic/elasticsearch/pull/118774" class="ulink" target="_top">#118774</a>
</li>
<li class="listitem">
Fix <code class="literal">bbq_hnsw</code> merge file cleanup on random IO exceptions <a href="https://github.com/elastic/elasticsearch/pull/119691" class="ulink" target="_top">#119691</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/119392" class="ulink" target="_top">#119392</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Watcher history index has too many indexed fields - <a href="https://github.com/elastic/elasticsearch/pull/117701" class="ulink" target="_top">#117701</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/71479" class="ulink" target="_top">#71479</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h5><a id="enhancement-9.0.0"></a>Enhancements</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a not-master state for desired balance <a href="https://github.com/elastic/elasticsearch/pull/116904" class="ulink" target="_top">#116904</a>
</li>
<li class="listitem">
Only publish desired balance gauges on master <a href="https://github.com/elastic/elasticsearch/pull/115383" class="ulink" target="_top">#115383</a>
</li>
<li class="listitem">
Reset relocation/allocation failure counter on node join/shutdown <a href="https://github.com/elastic/elasticsearch/pull/119968" class="ulink" target="_top">#119968</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow <code class="literal">SSHA-256</code> for API key credential hash <a href="https://github.com/elastic/elasticsearch/pull/120997" class="ulink" target="_top">#120997</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow kibana_system user to manage .reindexed-v8-internal.alerts indices <a href="https://github.com/elastic/elasticsearch/pull/118959" class="ulink" target="_top">#118959</a>
</li>
<li class="listitem">
Grant necessary Kibana application privileges to <code class="literal">reporting_user</code> role <a href="https://github.com/elastic/elasticsearch/pull/118058" class="ulink" target="_top">#118058</a>
</li>
<li class="listitem">
Make reserved built-in roles queryable <a href="https://github.com/elastic/elasticsearch/pull/117581" class="ulink" target="_top">#117581</a>
</li>
<li class="listitem">
[Security Solution] Add <code class="literal">create_index</code> to <code class="literal">kibana_system</code> role for index/DS <code class="literal">.logs-endpoint.action.responses-*</code> <a href="https://github.com/elastic/elasticsearch/pull/115241" class="ulink" target="_top">#115241</a>
</li>
<li class="listitem">
[Security Solution] allows <code class="literal">kibana_system</code> user to manage .reindexed-v8-* Security Solution indices <a href="https://github.com/elastic/elasticsearch/pull/119054" class="ulink" target="_top">#119054</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CCS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Resolve/cluster allows querying for cluster info only (no index expression required) <a href="https://github.com/elastic/elasticsearch/pull/119898" class="ulink" target="_top">#119898</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove INDEX_REFRESH_BLOCK after index becomes searchable <a href="https://github.com/elastic/elasticsearch/pull/120807" class="ulink" target="_top">#120807</a>
</li>
<li class="listitem">
Suppress merge-on-recovery for older indices <a href="https://github.com/elastic/elasticsearch/pull/113462" class="ulink" target="_top">#113462</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Include <code class="literal">clusterApplyListener</code> in long cluster apply warnings <a href="https://github.com/elastic/elasticsearch/pull/120087" class="ulink" target="_top">#120087</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Data streams
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add action to create index from a source index <a href="https://github.com/elastic/elasticsearch/pull/118890" class="ulink" target="_top">#118890</a>
</li>
<li class="listitem">
Add index and reindex request settings to speed up reindex <a href="https://github.com/elastic/elasticsearch/pull/119780" class="ulink" target="_top">#119780</a>
</li>
<li class="listitem">
Add rest endpoint for <code class="literal">create_from_source_index</code> <a href="https://github.com/elastic/elasticsearch/pull/119250" class="ulink" target="_top">#119250</a>
</li>
<li class="listitem">
Add sanity check to <code class="literal">ReindexDatastreamIndexAction</code> <a href="https://github.com/elastic/elasticsearch/pull/120231" class="ulink" target="_top">#120231</a>
</li>
<li class="listitem">
Adding a migration reindex cancel API <a href="https://github.com/elastic/elasticsearch/pull/118291" class="ulink" target="_top">#118291</a>
</li>
<li class="listitem">
Adding get migration reindex status <a href="https://github.com/elastic/elasticsearch/pull/118267" class="ulink" target="_top">#118267</a>
</li>
<li class="listitem">
Consistent mapping for OTel log and event bodies <a href="https://github.com/elastic/elasticsearch/pull/120547" class="ulink" target="_top">#120547</a>
</li>
<li class="listitem">
Filter deprecated settings when making dest index <a href="https://github.com/elastic/elasticsearch/pull/120163" class="ulink" target="_top">#120163</a>
</li>
<li class="listitem">
Ignore closed indices for reindex <a href="https://github.com/elastic/elasticsearch/pull/120244" class="ulink" target="_top">#120244</a>
</li>
<li class="listitem">
Improve how reindex data stream index action handles api blocks <a href="https://github.com/elastic/elasticsearch/pull/120084" class="ulink" target="_top">#120084</a>
</li>
<li class="listitem">
Initial work on <code class="literal">ReindexDatastreamIndexAction</code> <a href="https://github.com/elastic/elasticsearch/pull/116996" class="ulink" target="_top">#116996</a>
</li>
<li class="listitem">
Make <code class="literal">requests_per_second</code> configurable to throttle reindexing <a href="https://github.com/elastic/elasticsearch/pull/120207" class="ulink" target="_top">#120207</a>
</li>
<li class="listitem">
Optimized index sorting for OTel logs <a href="https://github.com/elastic/elasticsearch/pull/119504" class="ulink" target="_top">#119504</a>
</li>
<li class="listitem">
Report Deprecated Indices That Are Flagged To Ignore Migration Reindex As A Warning <a href="https://github.com/elastic/elasticsearch/pull/120629" class="ulink" target="_top">#120629</a>
</li>
<li class="listitem">
Update data stream deprecations warnings to new format and filter searchable snapshots from response <a href="https://github.com/elastic/elasticsearch/pull/118562" class="ulink" target="_top">#118562</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make various alias retrieval APIs wait for cluster to unblock <a href="https://github.com/elastic/elasticsearch/pull/117230" class="ulink" target="_top">#117230</a>
</li>
<li class="listitem">
Metrics for incremental bulk splits <a href="https://github.com/elastic/elasticsearch/pull/116765" class="ulink" target="_top">#116765</a>
</li>
<li class="listitem">
Use Azure blob batch API to delete blobs in batches <a href="https://github.com/elastic/elasticsearch/pull/114566" class="ulink" target="_top">#114566</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for partial shard results <a href="https://github.com/elastic/elasticsearch/pull/116388" class="ulink" target="_top">#116388</a>
</li>
<li class="listitem">
Optional named arguments for function in map <a href="https://github.com/elastic/elasticsearch/pull/118619" class="ulink" target="_top">#118619</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ES|QL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add ES|QL cross-cluster query telemetry collection <a href="https://github.com/elastic/elasticsearch/pull/119474" class="ulink" target="_top">#119474</a>
</li>
<li class="listitem">
Add a <code class="literal">LicenseAware</code> interface for licensed Nodes <a href="https://github.com/elastic/elasticsearch/pull/118931" class="ulink" target="_top">#118931</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/117405" class="ulink" target="_top">#117405</a>)
</li>
<li class="listitem">
Add a <code class="literal">PostAnalysisAware,</code> distribute verification <a href="https://github.com/elastic/elasticsearch/pull/119798" class="ulink" target="_top">#119798</a>
</li>
<li class="listitem">
Add a standard deviation aggregating function: STD_DEV <a href="https://github.com/elastic/elasticsearch/pull/116531" class="ulink" target="_top">#116531</a>
</li>
<li class="listitem">
Add cluster level reduction <a href="https://github.com/elastic/elasticsearch/pull/117731" class="ulink" target="_top">#117731</a>
</li>
<li class="listitem">
Add nulls support to Categorize <a href="https://github.com/elastic/elasticsearch/pull/117655" class="ulink" target="_top">#117655</a>
</li>
<li class="listitem">
Async search responses have CCS metadata while searches are running <a href="https://github.com/elastic/elasticsearch/pull/117265" class="ulink" target="_top">#117265</a>
</li>
<li class="listitem">
Check for early termination in Driver <a href="https://github.com/elastic/elasticsearch/pull/118188" class="ulink" target="_top">#118188</a>
</li>
<li class="listitem">
Do not serialize <code class="literal">EsIndex</code> in plan <a href="https://github.com/elastic/elasticsearch/pull/119580" class="ulink" target="_top">#119580</a>
</li>
<li class="listitem">
ESQL - Remove restrictions for disjunctions in full text functions <a href="https://github.com/elastic/elasticsearch/pull/118544" class="ulink" target="_top">#118544</a>
</li>
<li class="listitem">
ESQL - enabling scoring with METADATA <code class="literal">_score</code> <a href="https://github.com/elastic/elasticsearch/pull/113120" class="ulink" target="_top">#113120</a>
</li>
<li class="listitem">
ESQL Add esql hash function <a href="https://github.com/elastic/elasticsearch/pull/117989" class="ulink" target="_top">#117989</a>
</li>
<li class="listitem">
ESQL Support IN operator for Date nanos <a href="https://github.com/elastic/elasticsearch/pull/119772" class="ulink" target="_top">#119772</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118578" class="ulink" target="_top">#118578</a>)
</li>
<li class="listitem">
ESQL: CATEGORIZE as a <code class="literal">BlockHash</code> <a href="https://github.com/elastic/elasticsearch/pull/114317" class="ulink" target="_top">#114317</a>
</li>
<li class="listitem">
ESQL: Enterprise license enforcement for CCS <a href="https://github.com/elastic/elasticsearch/pull/118102" class="ulink" target="_top">#118102</a>
</li>
<li class="listitem">
ES|QL: Partial result on demand for async queries <a href="https://github.com/elastic/elasticsearch/pull/118122" class="ulink" target="_top">#118122</a>
</li>
<li class="listitem">
Enable KQL function as a tech preview <a href="https://github.com/elastic/elasticsearch/pull/119730" class="ulink" target="_top">#119730</a>
</li>
<li class="listitem">
Enable LOOKUP JOIN in non-snapshot builds <a href="https://github.com/elastic/elasticsearch/pull/121193" class="ulink" target="_top">#121193</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/121185" class="ulink" target="_top">#121185</a>)
</li>
<li class="listitem">
Enable node-level reduction by default <a href="https://github.com/elastic/elasticsearch/pull/119621" class="ulink" target="_top">#119621</a>
</li>
<li class="listitem">
Enable physical plan verification <a href="https://github.com/elastic/elasticsearch/pull/118114" class="ulink" target="_top">#118114</a>
</li>
<li class="listitem">
Ensure cluster string could be quoted <a href="https://github.com/elastic/elasticsearch/pull/120355" class="ulink" target="_top">#120355</a>
</li>
<li class="listitem">
Esql - Support date nanos in date extract function <a href="https://github.com/elastic/elasticsearch/pull/120727" class="ulink" target="_top">#120727</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/110000" class="ulink" target="_top">#110000</a>)
</li>
<li class="listitem">
Esql - support date nanos in date format function <a href="https://github.com/elastic/elasticsearch/pull/120143" class="ulink" target="_top">#120143</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/109994" class="ulink" target="_top">#109994</a>)
</li>
<li class="listitem">
Esql Support date nanos on date diff function <a href="https://github.com/elastic/elasticsearch/pull/120645" class="ulink" target="_top">#120645</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/109999" class="ulink" target="_top">#109999</a>)
</li>
<li class="listitem">
Esql bucket function for date nanos <a href="https://github.com/elastic/elasticsearch/pull/118474" class="ulink" target="_top">#118474</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118031" class="ulink" target="_top">#118031</a>)
</li>
<li class="listitem">
Esql compare nanos and millis <a href="https://github.com/elastic/elasticsearch/pull/118027" class="ulink" target="_top">#118027</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/116281" class="ulink" target="_top">#116281</a>)
</li>
<li class="listitem">
Esql implicit casting for date nanos <a href="https://github.com/elastic/elasticsearch/pull/118697" class="ulink" target="_top">#118697</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118476" class="ulink" target="_top">#118476</a>)
</li>
<li class="listitem">
Extend <code class="literal">TranslationAware</code> to all pushable expressions <a href="https://github.com/elastic/elasticsearch/pull/120192" class="ulink" target="_top">#120192</a>
</li>
<li class="listitem">
Hash functions <a href="https://github.com/elastic/elasticsearch/pull/118938" class="ulink" target="_top">#118938</a>
</li>
<li class="listitem">
Implement a <code class="literal">MetricsAware</code> interface <a href="https://github.com/elastic/elasticsearch/pull/121074" class="ulink" target="_top">#121074</a>
</li>
<li class="listitem">
LOOKUP JOIN using field-caps for field mapping <a href="https://github.com/elastic/elasticsearch/pull/117246" class="ulink" target="_top">#117246</a>
</li>
<li class="listitem">
Lookup join on multiple join fields not yet supported <a href="https://github.com/elastic/elasticsearch/pull/118858" class="ulink" target="_top">#118858</a>
</li>
<li class="listitem">
Move scoring in ES|QL out of snapshot <a href="https://github.com/elastic/elasticsearch/pull/120354" class="ulink" target="_top">#120354</a>
</li>
<li class="listitem">
Optimize ST_EXTENT_AGG for <code class="literal">geo_shape</code> and <code class="literal">cartesian_shape</code> <a href="https://github.com/elastic/elasticsearch/pull/119889" class="ulink" target="_top">#119889</a>
</li>
<li class="listitem">
Push down filter passed lookup join <a href="https://github.com/elastic/elasticsearch/pull/118410" class="ulink" target="_top">#118410</a>
</li>
<li class="listitem">
Resume Driver on cancelled or early finished <a href="https://github.com/elastic/elasticsearch/pull/120020" class="ulink" target="_top">#120020</a>
</li>
<li class="listitem">
Rewrite TO_UPPER/TO_LOWER comparisons <a href="https://github.com/elastic/elasticsearch/pull/118870" class="ulink" target="_top">#118870</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118304" class="ulink" target="_top">#118304</a>)
</li>
<li class="listitem">
ST_EXTENT_AGG optimize envelope extraction from doc-values for cartesian_shape <a href="https://github.com/elastic/elasticsearch/pull/118802" class="ulink" target="_top">#118802</a>
</li>
<li class="listitem">
Smarter field caps with subscribable listener <a href="https://github.com/elastic/elasticsearch/pull/116755" class="ulink" target="_top">#116755</a>
</li>
<li class="listitem">
Support partial sort fields in TopN pushdown <a href="https://github.com/elastic/elasticsearch/pull/116043" class="ulink" target="_top">#116043</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/114515" class="ulink" target="_top">#114515</a>)
</li>
<li class="listitem">
Support some stats on aggregate_metric_double <a href="https://github.com/elastic/elasticsearch/pull/120343" class="ulink" target="_top">#120343</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/110649" class="ulink" target="_top">#110649</a>)
</li>
<li class="listitem">
Take named parameters for identifier and pattern out of snapshot <a href="https://github.com/elastic/elasticsearch/pull/121850" class="ulink" target="_top">#121850</a>
</li>
<li class="listitem">
Term query for ES|QL <a href="https://github.com/elastic/elasticsearch/pull/117359" class="ulink" target="_top">#117359</a>
</li>
<li class="listitem">
Update grammar to rely on <code class="literal">indexPattern</code> instead of identifier in join target <a href="https://github.com/elastic/elasticsearch/pull/120494" class="ulink" target="_top">#120494</a>
</li>
<li class="listitem">
<code class="literal">_score</code> should not be a reserved attribute in ES|QL <a href="https://github.com/elastic/elasticsearch/pull/118435" class="ulink" target="_top">#118435</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118460" class="ulink" target="_top">#118460</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Defer unpromotable shard refreshes until index refresh blocks are cleared <a href="https://github.com/elastic/elasticsearch/pull/120642" class="ulink" target="_top">#120642</a>
</li>
<li class="listitem">
POC mark read-only <a href="https://github.com/elastic/elasticsearch/pull/119743" class="ulink" target="_top">#119743</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Experiences
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Integrate IBM watsonx to Inference API for re-ranking task <a href="https://github.com/elastic/elasticsearch/pull/117176" class="ulink" target="_top">#117176</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Optimize indexing points with index and doc values set to true <a href="https://github.com/elastic/elasticsearch/pull/120271" class="ulink" target="_top">#120271</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Increase <code class="literal">replica_unassigned_buffer_time</code> default from 3s to 5s <a href="https://github.com/elastic/elasticsearch/pull/112834" class="ulink" target="_top">#112834</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a <code class="literal">replicate_for</code> option to the ILM <code class="literal">searchable_snapshot</code> action <a href="https://github.com/elastic/elasticsearch/pull/119003" class="ulink" target="_top">#119003</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">remove_index_block</code> arg to <code class="literal">_create_from</code> api <a href="https://github.com/elastic/elasticsearch/pull/120548" class="ulink" target="_top">#120548</a>
</li>
<li class="listitem">
Remove index blocks by default in <code class="literal">create_from</code> <a href="https://github.com/elastic/elasticsearch/pull/120643" class="ulink" target="_top">#120643</a>
</li>
<li class="listitem">
Run <code class="literal">TransportGetComponentTemplateAction</code> on local node <a href="https://github.com/elastic/elasticsearch/pull/116868" class="ulink" target="_top">#116868</a>
</li>
<li class="listitem">
Run <code class="literal">TransportGetComposableIndexTemplate</code> on local node <a href="https://github.com/elastic/elasticsearch/pull/119830" class="ulink" target="_top">#119830</a>
</li>
<li class="listitem">
Run <code class="literal">TransportGetIndexTemplateAction</code> on local node <a href="https://github.com/elastic/elasticsearch/pull/119837" class="ulink" target="_top">#119837</a>
</li>
<li class="listitem">
introduce new categories for deprecated resources in deprecation API <a href="https://github.com/elastic/elasticsearch/pull/120505" class="ulink" target="_top">#120505</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Inference
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add version prefix to Inference Service API path <a href="https://github.com/elastic/elasticsearch/pull/117095" class="ulink" target="_top">#117095</a>
</li>
<li class="listitem">
Remove Elastic Inference Service feature flag and deprecated setting <a href="https://github.com/elastic/elasticsearch/pull/120842" class="ulink" target="_top">#120842</a>
</li>
<li class="listitem">
Update sparse text embeddings API route for Inference Service <a href="https://github.com/elastic/elasticsearch/pull/118025" class="ulink" target="_top">#118025</a>
</li>
<li class="listitem">
[Elastic Inference Service] Add ElasticInferenceService Unified ChatCompletions Integration <a href="https://github.com/elastic/elasticsearch/pull/118871" class="ulink" target="_top">#118871</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/CLI
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Strengthen encryption for elasticsearch-keystore tool to AES 256 <a href="https://github.com/elastic/elasticsearch/pull/119749" class="ulink" target="_top">#119749</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Circuit Breakers
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add link to Circuit Breaker "Data too large" exception message <a href="https://github.com/elastic/elasticsearch/pull/113561" class="ulink" target="_top">#113561</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for specifying reindexing script for system index migration <a href="https://github.com/elastic/elasticsearch/pull/119001" class="ulink" target="_top">#119001</a>
</li>
<li class="listitem">
Change default Docker image to be based on UBI minimal instead of Ubuntu <a href="https://github.com/elastic/elasticsearch/pull/116739" class="ulink" target="_top">#116739</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Metrics
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">ensureGreen</code> test method for use with <code class="literal">adminClient</code> <a href="https://github.com/elastic/elasticsearch/pull/113425" class="ulink" target="_top">#113425</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/REST API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A new query parameter <code class="literal">?include_source_on_error</code> was added for create / index, update and bulk REST APIs to control
if to include the document source in the error response in case of parsing errors. The default value is <code class="literal">true</code>. <a href="https://github.com/elastic/elasticsearch/pull/120725" class="ulink" target="_top">#120725</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a <code class="literal">mustache.max_output_size_bytes</code> setting to limit the length of results from mustache scripts <a href="https://github.com/elastic/elasticsearch/pull/114002" class="ulink" target="_top">#114002</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce <code class="literal">IndexSettingDeprecatedInV8AndRemovedInV9</code> Setting property <a href="https://github.com/elastic/elasticsearch/pull/120334" class="ulink" target="_top">#120334</a>
</li>
<li class="listitem">
Run <code class="literal">TransportClusterGetSettingsAction</code> on local node <a href="https://github.com/elastic/elasticsearch/pull/119831" class="ulink" target="_top">#119831</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Optimize <code class="literal">IngestCtxMap</code> construction <a href="https://github.com/elastic/elasticsearch/pull/120833" class="ulink" target="_top">#120833</a>
</li>
<li class="listitem">
Optimize <code class="literal">IngestDocMetadata</code> <code class="literal">isAvailable</code> <a href="https://github.com/elastic/elasticsearch/pull/120753" class="ulink" target="_top">#120753</a>
</li>
<li class="listitem">
Optimize <code class="literal">IngestDocument</code> <code class="literal">FieldPath</code> allocation <a href="https://github.com/elastic/elasticsearch/pull/120573" class="ulink" target="_top">#120573</a>
</li>
<li class="listitem">
Optimize some per-document hot paths in the geoip processor <a href="https://github.com/elastic/elasticsearch/pull/120824" class="ulink" target="_top">#120824</a>
</li>
<li class="listitem">
Returning ignored fields in the simulate ingest API <a href="https://github.com/elastic/elasticsearch/pull/117214" class="ulink" target="_top">#117214</a>
</li>
<li class="listitem">
Run <code class="literal">GetPipelineTransportAction</code> on local node <a href="https://github.com/elastic/elasticsearch/pull/120445" class="ulink" target="_top">#120445</a>
</li>
<li class="listitem">
Run <code class="literal">TransportGetEnrichPolicyAction</code> on local node <a href="https://github.com/elastic/elasticsearch/pull/121124" class="ulink" target="_top">#121124</a>
</li>
<li class="listitem">
Run template simulation actions on local node <a href="https://github.com/elastic/elasticsearch/pull/120038" class="ulink" target="_top">#120038</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
License
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Bump <code class="literal">TrialLicenseVersion</code> to allow starting new trial on 9.0 <a href="https://github.com/elastic/elasticsearch/pull/120198" class="ulink" target="_top">#120198</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Logs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add LogsDB option to route on sort fields <a href="https://github.com/elastic/elasticsearch/pull/116687" class="ulink" target="_top">#116687</a>
</li>
<li class="listitem">
Add a new index setting to skip recovery source when synthetic source is enabled <a href="https://github.com/elastic/elasticsearch/pull/114618" class="ulink" target="_top">#114618</a>
</li>
<li class="listitem">
Configure index sorting through index settings for logsdb <a href="https://github.com/elastic/elasticsearch/pull/118968" class="ulink" target="_top">#118968</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118686" class="ulink" target="_top">#118686</a>)
</li>
<li class="listitem">
Optimize loading mappings when determining synthetic source usage and whether host.name can be sorted on. <a href="https://github.com/elastic/elasticsearch/pull/120055" class="ulink" target="_top">#120055</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add DeBERTa-V2/V3 tokenizer <a href="https://github.com/elastic/elasticsearch/pull/111852" class="ulink" target="_top">#111852</a>
</li>
<li class="listitem">
Add Inference Unified API for chat completions for OpenAI <a href="https://github.com/elastic/elasticsearch/pull/117589" class="ulink" target="_top">#117589</a>
</li>
<li class="listitem">
Add Jina AI API to do inference for Embedding and Rerank models <a href="https://github.com/elastic/elasticsearch/pull/118652" class="ulink" target="_top">#118652</a>
</li>
<li class="listitem">
Add enterprise license check for Inference API actions <a href="https://github.com/elastic/elasticsearch/pull/119893" class="ulink" target="_top">#119893</a>
</li>
<li class="listitem">
Adding chunking settings to <code class="literal">IbmWatsonxService</code> <a href="https://github.com/elastic/elasticsearch/pull/114914" class="ulink" target="_top">#114914</a>
</li>
<li class="listitem">
Adding default endpoint for Elastic Rerank <a href="https://github.com/elastic/elasticsearch/pull/117939" class="ulink" target="_top">#117939</a>
</li>
<li class="listitem">
Adding endpoint creation validation for all task types to remaining services <a href="https://github.com/elastic/elasticsearch/pull/115020" class="ulink" target="_top">#115020</a>
</li>
<li class="listitem">
Check for presence of error object when validating streaming responses from integrations in the inference API <a href="https://github.com/elastic/elasticsearch/pull/118375" class="ulink" target="_top">#118375</a>
</li>
<li class="listitem">
Ignore failures from renormalizing buckets in read-only index <a href="https://github.com/elastic/elasticsearch/pull/118674" class="ulink" target="_top">#118674</a>
</li>
<li class="listitem">
Inference duration and error metrics <a href="https://github.com/elastic/elasticsearch/pull/115876" class="ulink" target="_top">#115876</a>
</li>
<li class="listitem">
Migrate stream to core error parsing <a href="https://github.com/elastic/elasticsearch/pull/120722" class="ulink" target="_top">#120722</a>
</li>
<li class="listitem">
Remove all mentions of eis and gateway and deprecate flags that do <a href="https://github.com/elastic/elasticsearch/pull/116692" class="ulink" target="_top">#116692</a>
</li>
<li class="listitem">
Remove deprecated sort from reindex operation within dataframe analytics procedure <a href="https://github.com/elastic/elasticsearch/pull/117606" class="ulink" target="_top">#117606</a>
</li>
<li class="listitem">
Retry on <code class="literal">ClusterBlockException</code> on transform destination index <a href="https://github.com/elastic/elasticsearch/pull/118194" class="ulink" target="_top">#118194</a>
</li>
<li class="listitem">
[Inference API] fix spell words: covertToString to convertToString <a href="https://github.com/elastic/elasticsearch/pull/119922" class="ulink" target="_top">#119922</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Optional Source Filtering to Source Loaders <a href="https://github.com/elastic/elasticsearch/pull/113827" class="ulink" target="_top">#113827</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow http unsafe buffers by default <a href="https://github.com/elastic/elasticsearch/pull/116115" class="ulink" target="_top">#116115</a>
</li>
<li class="listitem">
Http stream activity tracker and exceptions handling <a href="https://github.com/elastic/elasticsearch/pull/119564" class="ulink" target="_top">#119564</a>
</li>
<li class="listitem">
Remove HTTP content copies <a href="https://github.com/elastic/elasticsearch/pull/117303" class="ulink" target="_top">#117303</a>
</li>
<li class="listitem">
<code class="literal">ConnectTransportException</code> returns retryable BAD_GATEWAY <a href="https://github.com/elastic/elasticsearch/pull/118681" class="ulink" target="_top">#118681</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118320" class="ulink" target="_top">#118320</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ranking
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set default reranker for text similarity reranker to Elastic reranker <a href="https://github.com/elastic/elasticsearch/pull/120551" class="ulink" target="_top">#120551</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow archive and searchable snapshots indices in N-2 version <a href="https://github.com/elastic/elasticsearch/pull/118941" class="ulink" target="_top">#118941</a>
</li>
<li class="listitem">
Trigger merges after recovery <a href="https://github.com/elastic/elasticsearch/pull/113102" class="ulink" target="_top">#113102</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reindex
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change Reindexing metrics unit from millis to seconds <a href="https://github.com/elastic/elasticsearch/pull/115721" class="ulink" target="_top">#115721</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add match support for <code class="literal">semantic_text</code> fields <a href="https://github.com/elastic/elasticsearch/pull/117839" class="ulink" target="_top">#117839</a>
</li>
<li class="listitem">
Add support for <code class="literal">sparse_vector</code> queries against <code class="literal">semantic_text</code> fields <a href="https://github.com/elastic/elasticsearch/pull/118617" class="ulink" target="_top">#118617</a>
</li>
<li class="listitem">
Add support for knn vector queries on <code class="literal">semantic_text</code> fields <a href="https://github.com/elastic/elasticsearch/pull/119011" class="ulink" target="_top">#119011</a>
</li>
<li class="listitem">
Adding linear retriever to support weighted sums of sub-retrievers <a href="https://github.com/elastic/elasticsearch/pull/120222" class="ulink" target="_top">#120222</a>
</li>
<li class="listitem">
Address and remove any references of RestApiVersion version 7 <a href="https://github.com/elastic/elasticsearch/pull/117572" class="ulink" target="_top">#117572</a>
</li>
<li class="listitem">
Feat: add a user-configurable timeout parameter to the <code class="literal">_resolve/cluster</code> API <a href="https://github.com/elastic/elasticsearch/pull/120542" class="ulink" target="_top">#120542</a>
</li>
<li class="listitem">
Make semantic text part of the text family <a href="https://github.com/elastic/elasticsearch/pull/119792" class="ulink" target="_top">#119792</a>
</li>
<li class="listitem">
Only aggregations require at least one shard request <a href="https://github.com/elastic/elasticsearch/pull/115314" class="ulink" target="_top">#115314</a>
</li>
<li class="listitem">
Prevent data nodes from sending stack traces to coordinator when <code class="literal">error_trace=false</code> <a href="https://github.com/elastic/elasticsearch/pull/118266" class="ulink" target="_top">#118266</a>
</li>
<li class="listitem">
Propagate status codes from shard failures appropriately <a href="https://github.com/elastic/elasticsearch/pull/118016" class="ulink" target="_top">#118016</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118482" class="ulink" target="_top">#118482</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add refresh <code class="literal">.security</code> index call between security migrations <a href="https://github.com/elastic/elasticsearch/pull/114879" class="ulink" target="_top">#114879</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add IMDSv2 support to <code class="literal">repository-s3</code> <a href="https://github.com/elastic/elasticsearch/pull/117748" class="ulink" target="_top">#117748</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/105135" class="ulink" target="_top">#105135</a>)
</li>
<li class="listitem">
Expose operation and request counts separately in repository stats <a href="https://github.com/elastic/elasticsearch/pull/117530" class="ulink" target="_top">#117530</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/104443" class="ulink" target="_top">#104443</a>)
</li>
<li class="listitem">
Retry <code class="literal">S3BlobContainer#getRegister</code> on all exceptions <a href="https://github.com/elastic/elasticsearch/pull/114813" class="ulink" target="_top">#114813</a>
</li>
<li class="listitem">
Retry internally when CAS upload is throttled [GCS] <a href="https://github.com/elastic/elasticsearch/pull/120250" class="ulink" target="_top">#120250</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/116546" class="ulink" target="_top">#116546</a>)
</li>
<li class="listitem">
Track shard snapshot progress during node shutdown <a href="https://github.com/elastic/elasticsearch/pull/112567" class="ulink" target="_top">#112567</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Suggesters
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Extensible Completion Postings Formats <a href="https://github.com/elastic/elasticsearch/pull/111494" class="ulink" target="_top">#111494</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDB
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Increase field limit for OTel metrics to 10 000 <a href="https://github.com/elastic/elasticsearch/pull/120591" class="ulink" target="_top">#120591</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for <code class="literal">extended_stats</code> <a href="https://github.com/elastic/elasticsearch/pull/120340" class="ulink" target="_top">#120340</a>
</li>
<li class="listitem">
Auto-migrate <code class="literal">max_page_search_size</code> <a href="https://github.com/elastic/elasticsearch/pull/119348" class="ulink" target="_top">#119348</a>
</li>
<li class="listitem">
Create upgrade mode <a href="https://github.com/elastic/elasticsearch/pull/117858" class="ulink" target="_top">#117858</a>
</li>
<li class="listitem">
Wait while index is blocked <a href="https://github.com/elastic/elasticsearch/pull/119542" class="ulink" target="_top">#119542</a>
</li>
<li class="listitem">
[Deprecation] Add <code class="literal">transform_ids</code> to outdated index <a href="https://github.com/elastic/elasticsearch/pull/120821" class="ulink" target="_top">#120821</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Even better(er) binary quantization <a href="https://github.com/elastic/elasticsearch/pull/117994" class="ulink" target="_top">#117994</a>
</li>
<li class="listitem">
Speed up bit compared with floats or bytes script operations <a href="https://github.com/elastic/elasticsearch/pull/117199" class="ulink" target="_top">#117199</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h5><a id="feature-9.0.0"></a>New features</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Metrics for indexing failures due to version conflicts <a href="https://github.com/elastic/elasticsearch/pull/119067" class="ulink" target="_top">#119067</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ES|QL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ESQL - Add Match function options <a href="https://github.com/elastic/elasticsearch/pull/120360" class="ulink" target="_top">#120360</a>
</li>
<li class="listitem">
ESQL - Allow full text functions disjunctions for non-full text functions <a href="https://github.com/elastic/elasticsearch/pull/120291" class="ulink" target="_top">#120291</a>
</li>
<li class="listitem">
ESQL: Enable async get to support formatting <a href="https://github.com/elastic/elasticsearch/pull/111104" class="ulink" target="_top">#111104</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/110926" class="ulink" target="_top">#110926</a>)
</li>
<li class="listitem">
Expand type compatibility for match function and operator <a href="https://github.com/elastic/elasticsearch/pull/117555" class="ulink" target="_top">#117555</a>
</li>
<li class="listitem">
ST_EXTENT aggregation <a href="https://github.com/elastic/elasticsearch/pull/117451" class="ulink" target="_top">#117451</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/104659" class="ulink" target="_top">#104659</a>)
</li>
<li class="listitem">
Support ST_ENVELOPE and related (ST_XMIN, ST_XMAX, ST_YMIN, ST_YMAX) functions <a href="https://github.com/elastic/elasticsearch/pull/116964" class="ulink" target="_top">#116964</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/104875" class="ulink" target="_top">#104875</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Extract&amp;Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[Connector API] Support hard deletes with new URL param in delete endpoint <a href="https://github.com/elastic/elasticsearch/pull/120200" class="ulink" target="_top">#120200</a>
</li>
<li class="listitem">
[Connector API] Support soft-deletes of connectors <a href="https://github.com/elastic/elasticsearch/pull/118669" class="ulink" target="_top">#118669</a>
</li>
<li class="listitem">
[Connector APIs] Enforce index prefix for managed connectors <a href="https://github.com/elastic/elasticsearch/pull/117778" class="ulink" target="_top">#117778</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Highlighter for Semantic Text Fields <a href="https://github.com/elastic/elasticsearch/pull/118064" class="ulink" target="_top">#118064</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Infrastructure for assuming cluster features in the next major version <a href="https://github.com/elastic/elasticsearch/pull/118143" class="ulink" target="_top">#118143</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ES|QL categorize with multiple groupings <a href="https://github.com/elastic/elasticsearch/pull/118173" class="ulink" target="_top">#118173</a>
</li>
<li class="listitem">
Support mTLS for the Elastic Inference Service integration inside the inference API <a href="https://github.com/elastic/elasticsearch/pull/119679" class="ulink" target="_top">#119679</a>
</li>
<li class="listitem">
[Inference API] Add node-local rate limiting for the inference API <a href="https://github.com/elastic/elasticsearch/pull/120400" class="ulink" target="_top">#120400</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add option to store <code class="literal">sparse_vector</code> outside <code class="literal">_source</code> <a href="https://github.com/elastic/elasticsearch/pull/117917" class="ulink" target="_top">#117917</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ranking
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a generic <code class="literal">rescorer</code> retriever based on the search request&#8217;s rescore functionality <a href="https://github.com/elastic/elasticsearch/pull/118585" class="ulink" target="_top">#118585</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118327" class="ulink" target="_top">#118327</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Relevance
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Multi-Field Support for Semantic Text Fields <a href="https://github.com/elastic/elasticsearch/pull/120128" class="ulink" target="_top">#120128</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add new experimental <code class="literal">rank_vectors</code> mapping for late-interaction second order ranking <a href="https://github.com/elastic/elasticsearch/pull/118804" class="ulink" target="_top">#118804</a>
</li>
<li class="listitem">
KNN vector rescoring for quantized vectors <a href="https://github.com/elastic/elasticsearch/pull/116663" class="ulink" target="_top">#116663</a>
</li>
<li class="listitem">
Mark bbq indices as GA and add rolling upgrade integration tests <a href="https://github.com/elastic/elasticsearch/pull/121105" class="ulink" target="_top">#121105</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h5><a id="upgrade-9.0.0"></a>Upgrades</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/9.0/docs/en/install-upgrade/release-notes/release-notes-elasticsearch-beta1.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Bump major version for feature migration system indices <a href="https://github.com/elastic/elasticsearch/pull/117243" class="ulink" target="_top">#117243</a>
</li>
<li class="listitem">
Update ASM 9.7 &#8594; 9.7.1 to support JDK 24 <a href="https://github.com/elastic/elasticsearch/pull/118094" class="ulink" target="_top">#118094</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Automatically rollover legacy .ml-anomalies indices <a href="https://github.com/elastic/elasticsearch/pull/120913" class="ulink" target="_top">#120913</a>
</li>
<li class="listitem">
Automatically rollover legacy ml indices <a href="https://github.com/elastic/elasticsearch/pull/120405" class="ulink" target="_top">#120405</a>
</li>
<li class="listitem">
Change the auditor to write via an alias <a href="https://github.com/elastic/elasticsearch/pull/120064" class="ulink" target="_top">#120064</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to Lucene 10 <a href="https://github.com/elastic/elasticsearch/pull/114741" class="ulink" target="_top">#114741</a>
</li>
<li class="listitem">
Upgrade to Lucene 10.1.0 <a href="https://github.com/elastic/elasticsearch/pull/119308" class="ulink" target="_top">#119308</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-security-9.0.0.html">« Elastic Security release notes</a>
</span>
<span class="next">
<a href="release-notes-fleet-agent-9.0.0.html">Fleet and Elastic Agent release notes »</a>
</span>
</div>
</body>
</html>
