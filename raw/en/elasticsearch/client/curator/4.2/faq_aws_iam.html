<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Q: Why doesn&#8217;t Curator 4 work with AWS Elasticsearch? | Curator Reference [4.2] | Elastic</title>
<link rel="home" href="index.html" title="Curator Reference [4.2]"/>
<link rel="up" href="faq.html" title="Frequently Asked Questions"/>
<link rel="prev" href="faq_old_indices.html" title="Q: Why doesn&#8217;t Curator 4 work with older indices?"/>
<link rel="next" href="faq_unicode.html" title="Q: Why am I getting an error message about ASCII encoding?"/>
<meta name="DC.type" content="Learn/Docs/Clients/Curator/4.2"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="4.2"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Curator Reference [4.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="faq.html">Frequently Asked Questions</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="faq_old_indices.html">« Q: Why doesn&#8217;t Curator 4 work with older indices?</a>
</span>
<span class="next">
<a href="faq_unicode.html">Q: Why am I getting an error message about ASCII encoding? »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="faq_aws_iam"></a>Q: Why doesn&#8217;t Curator 4 work with AWS Elasticsearch?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/curator/edit/4.2/docs/asciidoc/faq.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="_a_because_curator_4_requires_access_to_the_clusterstatemetadata_endpoint"></a>A: Because Curator 4 requires access to the <code class="literal">/_cluster/state/metadata</code> endpoint.<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/curator/edit/4.2/docs/asciidoc/faq.asciidoc">edit</a></h3>
<p>There is some confusion because Curator 3 supported AWS ES, but Curator 4 does
not.  There are even some IAM credentials listed as options for client
connections.  These are currently available, but not able to be used.  This may
change at some point, so they remain at the ready until then.</p>
<p>Curator 4 requires access to the <code class="literal">/_cluster/state/metadata</code> endpoint in order to
pull metadata at IndexList initialization time for <em>all</em> indices.  This metadata
is used to determine index routing information, index sizing, index state
(either <code class="literal">open</code> or <code class="literal">close</code>), aliases, and more.  Curator 4 switched to doing this
in order to reduce the number of repetitive client calls that were made in the
previous versions.</p>
<p>After Curator 4 was released, AWS announced it&#8217;s 2.3 version of Elasticsearch.
Unfortunately, this version did not support the <code class="literal">/_cluster/state/metadata</code>
endpoint, which means that Curator cannot be used to manage indices in AWS.</p>
<p><a href="https://forums.aws.amazon.com/thread.jspa?threadID=236643&amp;tstart=0" class="ulink" target="_top">This thread</a>
(requires AWS login credentials) tracks the issue on the Amazon side.</p>
<hr>
</div>
<div class="navfooter">
<span class="prev">
<a href="faq_old_indices.html">« Q: Why doesn&#8217;t Curator 4 work with older indices?</a>
</span>
<span class="next">
<a href="faq_unicode.html">Q: Why am I getting an error message about ASCII encoding? »</a>
</span>
</div>
</div>
</body>
</html>
