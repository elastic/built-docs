<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Command Line Interface | Curator Reference [8.0] | Elastic</title>
<meta class="elastic" name="content" content="Command Line Interface | Curator Reference [8.0]">

<link rel="home" href="index.html" title="Curator Reference [8.0]"/>
<link rel="up" href="cli.html" title="Running Curator"/>
<link rel="prev" href="cli.html" title="Running Curator"/>
<link rel="next" href="singleton-cli.html" title="Singleton Command Line Interface"/>
<meta class="elastic" name="product_version" content="8.0"/>
<meta class="elastic" name="product_name" content="Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Clients/Curator/8.0"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="8.0"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="cli.html">« Running Curator</a>
</span>
<span class="next">
<a href="singleton-cli.html">Singleton Command Line Interface »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Curator Reference [8.0]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="cli.html">Running Curator</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Command Line Interface</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/curator/edit/8.0/docs/asciidoc/command-line.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="command-line"></a>Command Line Interface</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/curator/edit/8.0/docs/asciidoc/command-line.asciidoc">edit</a></div>
</div></div></div>
<p>Most common client configuration settings are now available at the command-line.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>While both the configuration file and the command-line arguments can be used together,
  it is important to note that command-line options will override file-based configuration of the
  same setting.</p>
</div>
</div>
<p>The most basic command-line arguments are as follows:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curator [--config CONFIG.YML] [--dry-run] ACTION_FILE.YML</pre>
</div>
<p>The square braces indicate optional elements.</p>
<p>If <code class="literal">--config</code> and <code class="literal">CONFIG.YML</code> are not provided, Curator will look in
<code class="literal">~/.curator/curator.yml</code> for the configuration file.  <code class="literal">~</code> is the home directory
of the user executing Curator. In a Unix system, this might be
<code class="literal">/home/username/.curator/curator.yml</code>, while on a Windows system, it might be
<code class="literal">C:\Users\username\.curator\curator.yml</code></p>
<p>If <code class="literal">--dry-run</code> is included, Curator will simulate the action(s) in
ACTION_FILE.YML as closely as possible without actually making any changes.  The
results will be in the logfile, or STDOUT/command-line if no logfile is
specified.</p>
<p><code class="literal">ACTION_FILE.YML</code> is a YAML <a class="xref" href="actionfile.html" title="Action File">actionfile</a>.</p>
<p>For other client configuration options, command-line help is never far away:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curator --help</pre>
</div>
<p>The help output looks like this:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">$ curator --help
Usage: curator [OPTIONS] ACTION_FILE

  Curator for Elasticsearch indices

  The default $HOME/.curator/curator.yml configuration file (--config) can be used but is not needed.

  Command-line settings will always override YAML configuration settings.

  Some less-frequently used client configuration options are now hidden. To see the full list, run:

      curator_cli -h

Options:
  --config PATH                   Path to configuration file.
  --hosts TEXT                    Elasticsearch URL to connect to.
  --cloud_id TEXT                 Elastic Cloud instance id
  --api_token TEXT                The base64 encoded API Key token
  --id TEXT                       API Key "id" value
  --api_key TEXT                  API Key "api_key" value
  --username TEXT                 Elasticsearch username
  --password TEXT                 Elasticsearch password
  --request_timeout FLOAT         Request timeout in seconds
  --verify_certs / --no-verify_certs
                                  Verify SSL/TLS certificate(s)  [default: verify_certs]
  --ca_certs TEXT                 Path to CA certificate file or directory
  --client_cert TEXT              Path to client certificate file
  --client_key TEXT               Path to client key file
  --dry-run                       Do not perform any changes.
  --loglevel [DEBUG|INFO|WARNING|ERROR|CRITICAL]
                                  Log level
  --logfile TEXT                  Log file
  --logformat [default|ecs]       Log output format
  -v, --version                   Show the version and exit.
  -h, --help                      Show this message and exit.

  Learn more at https://www.elastic.co/guide/en/elasticsearch/client/curator/8.0/command-line.html</pre>
</div>
<p>You can use <a class="xref" href="envvars.html" title="Environment Variables">environment variables</a> in your configuration files.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="_running_curator_from_docker"></a>Running Curator from Docker</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/curator/edit/8.0/docs/asciidoc/command-line.asciidoc">edit</a></div>
</div></div></div>
<p>Running Curator from the command-line using Docker requires only a few additional steps.</p>
<p>Should you desire to use them, Docker-based Curator requires you to map a volume for your
configuration and/or log files. Attempting to read a YAML configuration file if you have
neglected to volume map your configuration directory to <code class="literal">/.curator</code> will not work.</p>
<p>It looks like this:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">docker run [-t] --rm --name myimagename \
  -v /PATH/TO/MY/CONFIGS:/.curator      \
  untergeek/curator:mytag               \
--config /.curator/config.yml /.curator/actionfile.yml</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>While testing, adding the <code class="literal">-t</code> flag will allocate a pseudo-tty, allowing you to see terminal
  output that would otherwise be hidden.</p>
</div>
</div>
<p>Both of the files <code class="literal">config.yml</code> and <code class="literal">actionfile.yml</code> should already exist in the path
<code class="literal">/PATH/TO/MY/CONFIGS</code> before run time.</p>
<p>The <code class="literal">--rm</code> in the command means that the container (not the image) will be deleted after
completing execution. You definitely want this as there is no reason to keep creating
containers for each run. The eventual cleanup from this would be unpleasant.</p>
<p>&nbsp;</p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="cli.html">« Running Curator</a>
</span>
<span class="next">
<a href="singleton-cli.html">Singleton Command Line Interface »</a>
</span>
</div>
</body>
</html>
