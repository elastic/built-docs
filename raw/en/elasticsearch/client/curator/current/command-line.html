<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Command Line Interface | Curator Reference [8.0] | Elastic</title>
<link rel="home" href="index.html" title="Curator Reference [8.0]"/>
<link rel="up" href="cli.html" title="Running Curator"/>
<link rel="prev" href="cli.html" title="Running Curator"/>
<link rel="next" href="singleton-cli.html" title="Singleton Command Line Interface"/>
<meta name="DC.type" content="Learn/Docs/Clients/Curator/8.0"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="8.0"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Curator Reference [8.0]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="cli.html">Running Curator</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="cli.html">« Running Curator</a>
</span>
<span class="next">
<a href="singleton-cli.html">Singleton Command Line Interface »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="command-line"></a>Command Line Interface<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/curator/edit/8.0/docs/asciidoc/command-line.asciidoc">edit</a></h2>
</div></div></div>
<p>Most common client configuration settings are now available at the command-line.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>While both the configuration file and the command-line arguments can be used together,
  it is important to note that command-line options will override file-based configuration of the
  same setting.</p>
</div>
</div>
<p>The most basic command-line arguments are as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curator [--config CONFIG.YML] [--dry-run] ACTION_FILE.YML</pre>
</div>
<p>The square braces indicate optional elements.</p>
<p>If <code class="literal">--config</code> and <code class="literal">CONFIG.YML</code> are not provided, Curator will look in
<code class="literal">~/.curator/curator.yml</code> for the configuration file.  <code class="literal">~</code> is the home directory
of the user executing Curator. In a Unix system, this might be
<code class="literal">/home/username/.curator/curator.yml</code>, while on a Windows system, it might be
<code class="literal">C:\Users\username\.curator\curator.yml</code></p>
<p>If <code class="literal">--dry-run</code> is included, Curator will simulate the action(s) in
ACTION_FILE.YML as closely as possible without actually making any changes.  The
results will be in the logfile, or STDOUT/command-line if no logfile is
specified.</p>
<p><code class="literal">ACTION_FILE.YML</code> is a YAML <a class="xref" href="actionfile.html" title="Action File">actionfile</a>.</p>
<p>For other client configuration options, command-line help is never far away:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curator --help</pre>
</div>
<p>The help output looks like this:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">$ curator --help
Usage: curator [OPTIONS] ACTION_FILE

  Curator for Elasticsearch indices.

  See http://elastic.co/guide/en/elasticsearch/client/curator/current

Options:
  --config PATH                   Path to configuration file.
  --hosts TEXT                    Elasticsearch URL to connect to
  --cloud_id TEXT                 Shorthand to connect to Elastic Cloud instance
  --id TEXT                       API Key "id" value
  --api_key TEXT                  API Key "api_key" value
  --username TEXT                 Username used to create "basic_auth" tuple
  --password TEXT                 Password used to create "basic_auth" tuple
  --bearer_auth TEXT
  --opaque_id TEXT
  --request_timeout FLOAT         Request timeout in seconds
  --http_compress                 Enable HTTP compression
  --verify_certs                  Verify SSL/TLS certificate(s)
  --ca_certs TEXT                 Path to CA certificate file or directory
  --client_cert TEXT              Path to client certificate file
  --client_key TEXT               Path to client certificate key
  --ssl_assert_hostname TEXT      Hostname or IP address to verify on the node's certificate.
  --ssl_assert_fingerprint TEXT   SHA-256 fingerprint of the node's certificate. If this value is given then root-of-trust
                                  verification isn't done and only the node's certificate fingerprint is verified.
  --ssl_version TEXT              Minimum acceptable TLS/SSL version
  --master-only                   Only run if the single host provided is the elected master
  --skip_version_test             Do not check the host version
  --dry-run                       Do not perform any changes.
  --loglevel [DEBUG|INFO|WARNING|ERROR|CRITICAL]
                                  Log level
  --logfile TEXT                  log file
  --logformat [default|logstash|json|ecs]
                                  Log output format
  --version                       Show the version and exit.
  --help                          Show this message and exit.</pre>
</div>
<p>You can use <a class="xref" href="envvars.html" title="Environment Variables">environment variables</a> in your configuration files.</p>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_running_curator_from_docker"></a>Running Curator from Docker<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/curator/edit/8.0/docs/asciidoc/command-line.asciidoc">edit</a></h2>
</div></div></div>
<p>Running Curator from the command-line using Docker requires only a few additional steps.</p>
<p>Docker-based Curator requires you to map a volume for your configuration files. Neglecting
to volume map your configuration directory to <code class="literal">/.curator</code> and attempting to pass options at the
command-line will not work.</p>
<p>It looks like this:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">docker run --rm --name myimagename \
  -v /PATH/TO/MY/CONFIGS:/.curator \
  untergeek/curator:mytag          \
--config /.curator/config.yml /.curator/actionfile.yml</pre>
</div>
<p>Both of the files <code class="literal">config.yml</code> and <code class="literal">actionfile.yml</code> should already exist in the path
<code class="literal">/PATH/TO/MY/CONFIGS</code> before run time.</p>
<p>The <code class="literal">--rm</code> in the command means that the container (not the image) will be deleted after
completing execution. You definitely want this as there is no reason to keep creating
containers for each run. The eventual cleanup from this would be unpleasant.</p>
<p>&nbsp;</p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="cli.html">« Running Curator</a>
</span>
<span class="next">
<a href="singleton-cli.html">Singleton Command Line Interface »</a>
</span>
</div>
</div>
</body>
</html>
