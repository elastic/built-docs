<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Forcemerge | Curator Reference [8.0] | Elastic</title>
<meta class="elastic" name="content" content="Forcemerge | Curator Reference [8.0]">

<link rel="home" href="index.html" title="Curator Reference [8.0]"/>
<link rel="up" href="actions.html" title="Actions"/>
<link rel="prev" href="delete_snapshots.html" title="Delete Snapshots"/>
<link rel="next" href="index_settings.html" title="Index Settings"/>
<meta class="elastic" name="product_version" content="8.0"/>
<meta class="elastic" name="product_name" content="Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Clients/Curator/8.0"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="8.0"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Curator Reference [8.0]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="actions.html">Actions</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="delete_snapshots.html">« Delete Snapshots</a>
</span>
<span class="next">
<a href="index_settings.html">Index Settings »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="forcemerge"></a>Forcemerge<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/curator/edit/8.0/docs/asciidoc/actions.asciidoc">edit</a></h2>
</div></div></div>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">action: forcemerge
description: &gt;-
  Perform a forceMerge on selected indices to 'max_num_segments' per shard
options:
  max_num_segments: 2
  timeout_override: 21600
filters:
- filtertype: ...</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Empty values and commented lines will result in the default value, if any,
    being selected.  If a setting is set, but not used by a given action, it
    will be ignored.</p>
</div>
</div>
<p>This action performs a forceMerge on the selected indices, merging them to
<a class="xref" href="option_mns.html" title="max_num_segments">max_num_segments</a> per shard.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>A <a href="http://www.elastic.co/guide/en/elasticsearch/reference/8.12/indices-forcemerge.html#indices-forcemerge" class="ulink" target="_top"><code class="literal">forcemerge</code></a> should
    never be executed on an index that is actively receiving data.  It should
    only ever be performed on indices where no more documents are ever
    anticipated to be added in the future.</p>
</div>
</div>
<p>You can optionally pause between each merge for <a class="xref" href="option_delay.html" title="delay">delay</a> seconds
to allow the cluster to quiesce:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">action: forcemerge
description: &gt;-
  Perform a forceMerge on selected indices to 'max_num_segments' per shard
options:
  max_num_segments: 2
  timeout_override: 21600
  delay: 120
filters:
- filtertype: ...</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_required_settings_6"></a>Required settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/curator/edit/8.0/docs/asciidoc/actions.asciidoc">edit</a></h2>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="option_mns.html" title="max_num_segments">max_num_segments</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_optional_settings_9"></a>Optional settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/curator/edit/8.0/docs/asciidoc/actions.asciidoc">edit</a></h2>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="option_delay.html" title="delay">delay</a>
</li>
<li class="listitem">
<a class="xref" href="option_ignore_empty.html" title="ignore_empty_list">ignore_empty_list</a>
</li>
<li class="listitem">
<a class="xref" href="option_timeout_override.html" title="timeout_override">timeout_override</a>
</li>
<li class="listitem">
<a class="xref" href="option_continue.html" title="continue_if_exception">continue_if_exception</a>
</li>
<li class="listitem">
<a class="xref" href="option_disable.html" title="disable_action">disable_action</a>
</li>
</ul>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>See an example of this action in an <a class="xref" href="actionfile.html" title="Action File">actionfile</a>
    <a class="xref" href="ex_forcemerge.html" title="forcemerge">here</a>.</p>
</div>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="delete_snapshots.html">« Delete Snapshots</a>
</span>
<span class="next">
<a href="index_settings.html">Index Settings »</a>
</span>
</div>
</div>
</body>
</html>
