<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Search API | Java API [6.1] | Elastic</title>
<meta class="elastic" name="content" content="Search API | Java API [6.1]">

<link rel="home" href="index.html" title="Java API [6.1]"/>
<link rel="up" href="index.html" title="Java API [6.1]"/>
<link rel="prev" href="java-docs-reindex.html" title="Reindex API"/>
<link rel="next" href="java-search-scrolling.html" title="Using scrolls in Java"/>
<meta class="elastic" name="product_version" content="6.1"/>
<meta class="elastic" name="product_name" content="Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Clients/Java/6.1"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="6.1"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="java-docs-reindex.html">« Reindex API</a>
</span>
<span class="next">
<a href="java-search-scrolling.html">Using scrolls in Java »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Java API [6.1]</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Search API</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.1/docs/java-api/search.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="java-search"></a>Search API</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.1/docs/java-api/search.asciidoc">edit</a></div>
</div></div></div>
<p>The search API allows one to execute a search query and get back search hits
that match the query. It can be executed across one or more indices and
across one or more types. The query can be provided using the <a class="xref" href="java-query-dsl.html" title="Query DSL">query Java API</a>.
The body of the search request is built using the <code class="literal">SearchSourceBuilder</code>. Here is an example:</p>
<div class="pre_wrapper lang-java">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-java">import org.elasticsearch.action.search.SearchResponse;
import org.elasticsearch.action.search.SearchType;
import org.elasticsearch.index.query.QueryBuilders.*;</pre>
</div>
<div class="pre_wrapper lang-java">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-java">SearchResponse response = client.prepareSearch("index1", "index2")
        .setTypes("type1", "type2")
        .setSearchType(SearchType.DFS_QUERY_THEN_FETCH)
        .setQuery(QueryBuilders.termQuery("multi", "test"))                 // Query
        .setPostFilter(QueryBuilders.rangeQuery("age").from(12).to(18))     // Filter
        .setFrom(0).setSize(60).setExplain(true)
        .get();</pre>
</div>
<p>Note that all parameters are optional. Here is the smallest search call
you can write:</p>
<div class="pre_wrapper lang-java">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-java">// MatchAll on the whole cluster with all default options
SearchResponse response = client.prepareSearch().get();</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Although the Java API defines the additional search types QUERY_AND_FETCH and
        DFS_QUERY_AND_FETCH, these modes are internal optimizations and should not
        be specified explicitly by users of the API.</p>
</div>
</div>
<p>For more information on the search operation, check out the REST
<a href="/guide/en/elasticsearch/reference/6.1/search.html" class="ulink" target="_top">search</a> docs.</p>





</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="java-docs-reindex.html">« Reindex API</a>
</span>
<span class="next">
<a href="java-search-scrolling.html">Using scrolls in Java »</a>
</span>
</div>
</body>
</html>
