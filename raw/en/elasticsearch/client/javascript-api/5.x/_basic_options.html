<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Basic options | Elasticsearch Node.js client [5.x] | Elastic</title>
<meta class="elastic" name="content" content="Basic options | Elasticsearch Node.js client [5.x]">

<link rel="home" href="index.html" title="Elasticsearch Node.js client [5.x]"/>
<link rel="up" href="client-configuration.html" title="Client configuration"/>
<link rel="prev" href="client-configuration.html" title="Client configuration"/>
<link rel="next" href="_advanced_configuration.html" title="Advanced configuration"/>
<meta class="elastic" name="product_version" content="5.x"/>
<meta class="elastic" name="product_name" content="Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Clients/JavaScript/5.x"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="5.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.x has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div class="navheader">
<span class="prev">
<a href="client-configuration.html">« Client configuration</a>
</span>
<span class="next">
<a href="_advanced_configuration.html">Advanced configuration »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Node.js client [5.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="client-configuration.html">Client configuration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Basic options</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/5.x/docs/configuration.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="_basic_options"></a>Basic options</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-js/edit/5.x/docs/configuration.asciidoc">edit</a></div>
</div></div></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">node</code> or <code class="literal">nodes</code></p></td>
<td align="left" valign="top">
<p>The Elasticsearch endpoint to use.<br>
It can be a single string or an array of strings:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">node: 'http://localhost:9200'</pre>
</div>
<p>Or it can be an object (or an array of objects) that represents the node</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">node: {
  url: new URL('http://localhost:9200'),
  ssl: 'ssl options',
  agent: 'http agent options',
  id: 'custom node id',
  headers: { 'custom': 'headers' }
  roles: {
    master: true,
    data: true,
    ingest: true,
    ml: false
  }
}</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">maxRetries</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code> - Max number of retries for each request.<br>
<em>Default:</em> <code class="literal">3</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">requestTimeout</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code> - Max request timeout for each request.<br>
<em>Default:</em> <code class="literal">30000</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">pingTimeout</code></p></td>
<td align="left" valign="top"><p><code class="literal">number</code> - Max ping request timeout for each request.<br>
<em>Default:</em> <code class="literal">3000</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">sniffInterval</code></p></td>
<td align="left" valign="top"><p><code class="literal">number, boolean</code> - Perform a sniff operation every <code class="literal">n</code> milliseconds.<br>
<em>Default:</em> <code class="literal">false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">sniffOnStart</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code> - Perform a sniff once the client is started.<br>
<em>Default:</em> <code class="literal">false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">sniffEndpoint</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code> - Endpoint to ping during a sniff.<br>
<em>Default:</em> <code class="literal">'_nodes/_all/http'</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">sniffOnConnectionFault</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code> - Perform a sniff on connection fault.<br>
<em>Default:</em> <code class="literal">false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">resurrectStrategy</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code> - Configure the node resurrection strategy.<br>
<em>Options:</em> <code class="literal">'ping'</code>, <code class="literal">'optimistic'</code>, <code class="literal">'none'</code><br>
<em>Default:</em> <code class="literal">'ping'</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">suggestCompression</code></p></td>
<td align="left" valign="top"><p><code class="literal">boolean</code> - Adds <code class="literal">accept-encoding</code> header to every request.<br>
<em>Default:</em> <code class="literal">false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">compression</code></p></td>
<td align="left" valign="top"><p><code class="literal">string, boolean</code> - Enables gzip request body compression.<br>
<em>Options:</em> <code class="literal">'gzip'</code>, <code class="literal">false</code><br>
<em>Default:</em> <code class="literal">false</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">ssl</code></p></td>
<td align="left" valign="top"><p><code class="literal">http.SecureContextOptions</code> - ssl <a href="https://nodejs.org/api/tls.html" class="ulink" target="_top">configuraton</a>.<br>
<em>Default:</em> <code class="literal">null</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">agent</code></p></td>
<td align="left" valign="top">
<p><code class="literal">http.AgentOptions, function</code> - http agent <a href="https://nodejs.org/api/http.html#http_new_agent_options" class="ulink" target="_top">options</a>, or a function that returns an actual http agent instance.<br>
<em>Default:</em> <code class="literal">null</code></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">const client = new Client({
  node: 'http://localhost:9200',
  agent: { agent: 'options' }
})

const client = new Client({
  node: 'http://localhost:9200',
  agent: () =&gt; new CustomAgent()
})</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">nodeFilter</code></p></td>
<td align="left" valign="top">
<p><code class="literal">function</code> - Filters which node not to use for a request.<br>
<em>Default:</em></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">function defaultNodeFilter (node) {
  // avoid master only nodes
  if (node.roles.master === true &amp;&amp;
      node.roles.data === false &amp;&amp;
      node.roles.ingest === false) {
    return false
  }
  return true
}</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">nodeSelector</code></p></td>
<td align="left" valign="top">
<p><code class="literal">function</code> - custom selection strategy.<br>
<em>Options:</em> <code class="literal">'round-robin'</code>, <code class="literal">'random'</code>, custom function<br>
<em>Default:</em> <code class="literal">'round-robin'</code><br>
<em>Custom function example:</em></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">function nodeSelector (connections) {
  const index = calculateIndex()
  return connections[index]
}</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">generateRequestId</code></p></td>
<td align="left" valign="top">
<p><code class="literal">function</code> - function to generate the request id for every request, it takes two parameters, the request parameters and options.<br>
By default it generates an incremental integer for every request.<br>
<em>Custom function example:</em></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">function generateRequestId (params, options) {
  // your id generation logic
  // must be syncronous
  return 'id'
}</pre>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">name</code></p></td>
<td align="left" valign="top"><p><code class="literal">string</code> - The name to identify the client instance in the events.<br>
<em>Default:</em> <code class="literal">elasticsearch-js</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">headers</code></p></td>
<td align="left" valign="top"><p><code class="literal">object</code> - A set of custom headers to send in every request.<br>
<em>Default:</em> <code class="literal">{}</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">cloud</code></p></td>
<td align="left" valign="top">
<p><code class="literal">object</code> - Custom configuration for connecting to <a href="https://cloud.elastic.co" class="ulink" target="_top">Elastic Cloud</a>. See <a href="/guide/en/elasticsearch/client/javascript-api/current/auth-reference.html" class="ulink" target="_top">Authentication</a> for more details.<br>
<em>Default:</em> <code class="literal">null</code><br>
<em>Cloud configuration example:</em></p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">const client = new Client({
  cloud: {
    id: 'name:bG9jYWxob3N0JGFiY2QkZWZnaA==',
    username: 'elastic',
    password: 'changeme'
  }
})</pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="client-configuration.html">« Client configuration</a>
</span>
<span class="next">
<a href="_advanced_configuration.html">Advanced configuration »</a>
</span>
</div>
</body>
</html>
