<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Bool Queries | Elasticsearch-PHP [2.x] | Elastic</title>
<meta class="elastic" name="content" content="Bool Queries | Elasticsearch-PHP [2.x]">

<link rel="home" href="index.html" title="Elasticsearch-PHP [2.x]"/>
<link rel="up" href="_search_operations.html" title="Search Operations"/>
<link rel="prev" href="_match_query.html" title="Match Query"/>
<link rel="next" href="_a_more_complicated_example.html" title="A more complicated example"/>
<meta class="elastic" name="product_version" content="2.x"/>
<meta class="elastic" name="product_name" content="Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Clients/PHP/2.x"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="2.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="_match_query.html">« Match Query</a>
</span>
<span class="next">
<a href="_a_more_complicated_example.html">A more complicated example »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch-PHP [2.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="_search_operations.html">Search Operations</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Bool Queries</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/2.x/docs/search-operations.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="_bool_queries"></a>Bool Queries</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/2.x/docs/search-operations.asciidoc">edit</a></div>
</div></div></div>
<p>Bool queries can be easily constructed using the client. For example, this query:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">curl -XGET 'localhost:9200/my_index/my_type/_search' -d '{
    "query" : {
        "bool" : {
            "must": [
                {
                    "match" : { "testField" : "abc" }
                },
                {
                    "match" : { "testField2" : "xyz" }
                }
            ]
        }
    }
}'</pre>
</div>
<p>&#8203;<br></p>
<p>Would be structured like this (Note the position of the square brackets):</p>
<div class="pre_wrapper lang-php">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-php">$params = [
    'index' =&gt; 'my_index',
    'type' =&gt; 'my_type',
    'body' =&gt; [
        'query' =&gt; [
            'bool' =&gt; [
                'must' =&gt; [
                    [ 'match' =&gt; [ 'testField' =&gt; 'abc' ] ],
                    [ 'match' =&gt; [ 'testField2' =&gt; 'xyz' ] ],
                ]
            ]
        ]
    ]
];

$results = $client-&gt;search($params);</pre>
</div>
<p>&#8203;<br></p>
<p>Notice that the <code class="literal">must</code> clause accepts an array of arrays.  This will be serialized into an array of JSON objects internally,
so the final resulting output will be identical to the curl example.  For more details about arrays vs objects in PHP,
see <a href="_php_json_objects.html" class="ulink" target="_top">Dealing with JSON Arrays and Objects in PHP</a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="_match_query.html">« Match Query</a>
</span>
<span class="next">
<a href="_a_more_complicated_example.html">A more complicated example »</a>
</span>
</div>
</body>
</html>
