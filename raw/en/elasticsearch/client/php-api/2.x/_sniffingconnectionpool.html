<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>sniffingConnectionPool | Elasticsearch-PHP [2.x] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch-PHP [2.x]"/>
<link rel="up" href="_connection_pool.html" title="Connection Pool"/>
<link rel="prev" href="_simpleconnectionpool.html" title="simpleConnectionPool"/>
<link rel="next" href="_custom_connection_pool.html" title="Custom Connection Pool"/>
<meta name="DC.type" content="Learn/Docs/Clients/PHP/2.x"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="2.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch-PHP [2.x]</a></span>
»
<span class="breadcrumb-link"><a href="_connection_pool.html">Connection Pool</a></span>
»
<span class="breadcrumb-node">sniffingConnectionPool</span>
</div>
<div class="navheader">
<span class="prev">
<a href="_simpleconnectionpool.html">« simpleConnectionPool</a>
</span>
<span class="next">
<a href="_custom_connection_pool.html">Custom Connection Pool »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_sniffingconnectionpool"></a>sniffingConnectionPool<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/2.x/docs/connection-pool.asciidoc">edit</a></h2>
</div></div></div>
<p>Unlike the two previous static connection pools, this one is dynamic.  The user provides a seed list of hosts, which the
client uses to "sniff" and discover the rest of the cluster.  It achieves this through the Cluster State API.  As new
nodes are added or removed from the cluster, the client will update its pool of active connections.</p>
<p>To use the <code class="literal">SniffingConnectionPool</code>:</p>
<div class="pre_wrapper lang-php">
<pre class="programlisting prettyprint lang-php">$client = ClientBuilder::create()
            -&gt;setConnectionPool('\Elasticsearch\ConnectionPool\SniffingConnectionPool', [])
            -&gt;build();</pre>
</div>
<p>Note that the implementation is specified via a namespace path to the class.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="_simpleconnectionpool.html">« simpleConnectionPool</a>
</span>
<span class="next">
<a href="_custom_connection_pool.html">Custom Connection Pool »</a>
</span>
</div>
</div>
</body>
</html>
