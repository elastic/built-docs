<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Building the client from a configuration hash | Elasticsearch-PHP [6.x] | Elastic</title>
<meta class="elastic" name="content" content="Building the client from a configuration hash | Elasticsearch-PHP [6.x]">

<link rel="home" href="index.html" title="Elasticsearch-PHP [6.x]"/>
<link rel="up" href="configuration.html" title="Configuration"/>
<link rel="prev" href="_set_the_endpoint_closure.html" title="Set the Endpoint closure"/>
<link rel="next" href="per_request_configuration.html" title="Per-request configuration"/>
<meta class="elastic" name="product_version" content="6.x"/>
<meta class="elastic" name="product_name" content="Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Clients/PHP/6.x"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="6.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="_set_the_endpoint_closure.html">« Set the Endpoint closure</a>
</span>
<span class="next">
<a href="per_request_configuration.html">Per-request configuration »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch-PHP [6.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration.html">Configuration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Building the client from a configuration hash</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/6.x/docs/configuration.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="_building_the_client_from_a_configuration_hash"></a>Building the client from a configuration hash</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/6.x/docs/configuration.asciidoc">edit</a></div>
</div></div></div>
<p>To help ease automated building of the client, all configurations can be provided in a setting
hash instead of calling the individual methods directly.  This functionality is exposed through
the <code class="literal">ClientBuilder::FromConfig()</code> static method, which accepts an array of configurations
and returns a fully built client.</p>
<p>Array keys correspond to the method name, e.g. <code class="literal">retries</code> key corresponds to <code class="literal">setRetries()</code> method.</p>
<div class="pre_wrapper lang-php">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-php">$params = [
    'hosts' =&gt; [
        'localhost:9200'
    ],
    'retries' =&gt; 2,
    'handler' =&gt; ClientBuilder::singleHandler()
];
$client = ClientBuilder::fromConfig($params);</pre>
</div>
<p>Unknown parameters will throw an exception, to help the user find potential problems.
If this behavior is not desired (e.g. you are using the hash for other purposes, and may have
keys unrelated to the Elasticsearch client), you can set $quiet = true in fromConfig() to
silence the exceptions.</p>
<div class="pre_wrapper lang-php">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-php">$params = [
    'hosts' =&gt; [
        'localhost:9200'
    ],
    'retries' =&gt; 2,
    'imNotReal' =&gt; 5
];

// Set $quiet to true to ignore the unknown `imNotReal` key
$client = ClientBuilder::fromConfig($params, true);</pre>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="_set_the_endpoint_closure.html">« Set the Endpoint closure</a>
</span>
<span class="next">
<a href="per_request_configuration.html">Per-request configuration »</a>
</span>
</div>
</body>
</html>
