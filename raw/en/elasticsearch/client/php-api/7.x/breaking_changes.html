<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Breaking changes from 6.x | Elasticsearch PHP Client [7.x] | Elastic</title>
<meta class="elastic" name="content" content="Breaking changes from 6.x | Elasticsearch PHP Client [7.x]">

<link rel="home" href="index.html" title="Elasticsearch PHP Client [7.x]"/>
<link rel="up" href="overview.html" title="Overview"/>
<link rel="prev" href="community-integrations.html" title="Community Integrations"/>
<link rel="next" href="installation.html" title="Installation"/>
<meta class="elastic" name="product_version" content="7.x"/>
<meta class="elastic" name="product_name" content="Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Clients/PHP/7.x"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="7.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="community-integrations.html">« Community Integrations</a>
</span>
<span class="next">
<a href="installation.html">Installation »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch PHP Client [7.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="overview.html">Overview</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Breaking changes from 6.x</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/7.x/docs/breaking-changes.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="breaking_changes"></a>Breaking changes from 6.x</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/7.x/docs/breaking-changes.asciidoc">edit</a></div>
</div></div></div>
<div class="position-relative"><h4><a id="_e_user_deprecated_notice_when_using_deprecated_parameters"></a>E_USER_DEPRECATED notice when using deprecated parameters</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/7.x/docs/breaking-changes.asciidoc">edit</a></div>
<p>Starting from elasticsearch-php 7.4.0, we generate a PHP
<a href="https://www.php.net/manual/en/errorfunc.constants.php" class="ulink" target="_top">E_USER_DEPRECATED</a> notice
every time you use a deprecated parameters for Elasticsearch. We decided to add this
notice to facilitate the code refactoring with the new API specification of Elasticsearch
(for example the usage of typeless APIs, see below).</p>
<p>From 7.4.1, we mitigated the usage of E_USER_DEPRICATED warning by using the <code class="literal">@</code>
<a href="https://www.php.net/manual/en/language.operators.errorcontrol.php" class="ulink" target="_top">operator</a>. The
operator suppresses the error message, however, it is still possible to catch it
by using a custom error handler:</p>
<div class="pre_wrapper lang-php">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-php">set_error_handler(function ($errno, $errstr) {
    var_dump($errstr);
}, E_USER_DEPRECATED);

@trigger_error('Deprecation message here', E_USER_DEPRECATED);</pre>
</div>
<div class="position-relative"><h4><a id="_moving_from_types_to_typeless_apis_in_elasticsearch_7_0"></a>Moving from types to typeless APIs in Elasticsearch 7.0</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/7.x/docs/breaking-changes.asciidoc">edit</a></div>
<p>Elasticsearch 7.0 deprecated APIs that accept types, introduced new typeless APIs, and
removed support for the <em>default</em> mapping. Read
<a href="/blog/moving-from-types-to-typeless-apis-in-elasticsearch-7-0" class="ulink" target="_top">this</a>
blog post for more information.</p>
<div class="position-relative"><h4><a id="_type_hint_and_return_type"></a>Type hint and return type</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/7.x/docs/breaking-changes.asciidoc">edit</a></div>
<p>Added type hints and return type declarations in all the code base where
possible. See PR <a href="https://github.com/elastic/elasticsearch-php/pull/897" class="ulink" target="_top">#897</a>.</p>
<div class="position-relative"><h4><a id="_php_7_1_requirement"></a>PHP 7.1+ Requirement</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-php/edit/7.x/docs/breaking-changes.asciidoc">edit</a></div>
<p>We require using PHP 7.1+ for elasticsearch-php. PHP 7.0 is not supported since
1st Jan 2019. Refer
<a href="https://www.php.net/supported-versions.php" class="ulink" target="_top">PHP supported version</a> for more
information.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="community-integrations.html">« Community Integrations</a>
</span>
<span class="next">
<a href="installation.html">Installation »</a>
</span>
</div>
</body>
</html>
