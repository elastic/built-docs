<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Creating an ES|QL query | Elasticsearch Python Client [8.19] | Elastic</title>
<meta class="elastic" name="content" content="Creating an ES|QL query | Elasticsearch Python Client [8.19]">

<link rel="home" href="index.html" title="Elasticsearch Python Client [8.19]"/>
<link rel="up" href="esql-query-builder.html" title="ES|QL Query Builder"/>
<link rel="prev" href="esql-query-builder.html" title="ES|QL Query Builder"/>
<link rel="next" href="_adding_processing_commands.html" title="Adding processing commands"/>
<meta class="elastic" name="product_version" content="8.19"/>
<meta class="elastic" name="product_name" content="Clients"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Clients/Python/8.19"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="8.19"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="esql-query-builder.html">« ES|QL Query Builder</a>
</span>
<span class="next">
<a href="_adding_processing_commands.html">Adding processing commands »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Python Client [8.19]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="esql-query-builder.html">ES|QL Query Builder</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Creating an ES|QL query</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-py/edit/8.19/docs/guide/esql-query-builder.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="_creating_an_esql_query"></a>Creating an ES|QL query</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-py/edit/8.19/docs/guide/esql-query-builder.asciidoc">edit</a></div>
</div></div></div>
<p>To construct an ES|QL query you start from one of the ES|QL source commands:</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_esql_from"></a><code class="literal">ESQL.from_</code></h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-py/edit/8.19/docs/guide/esql-query-builder.asciidoc">edit</a></div>
</div></div></div>
<p>The <code class="literal">FROM</code> command selects the indices, data streams or aliases to be queried.</p>
<p>Examples:</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">from elasticsearch.esql import ESQL

# FROM employees
query1 = ESQL.from_("employees")

# FROM &lt;logs-{now/d}&gt;
query2 = ESQL.from_("&lt;logs-{now/d}&gt;")

# FROM employees-00001, other-employees-*
query3 = ESQL.from_("employees-00001", "other-employees-*")

# FROM cluster_one:employees-00001, cluster_two:other-employees-*
query4 = ESQL.from_("cluster_one:employees-00001", "cluster_two:other-employees-*")

# FROM employees METADATA _id
query5 = ESQL.from_("employees").metadata("_id")</pre>
</div>
<p>Note how in the last example the optional <code class="literal">METADATA</code> clause of the <code class="literal">FROM</code> command is added as a chained method.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_esql_row"></a><code class="literal">ESQL.row</code></h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-py/edit/8.19/docs/guide/esql-query-builder.asciidoc">edit</a></div>
</div></div></div>
<p>The <code class="literal">ROW</code> command produces a row with one or more columns, with the values that you specify.</p>
<p>Examples:</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">from elasticsearch.esql import ESQL, functions

# ROW a = 1, b = "two", c = null
query1 = ESQL.row(a=1, b="two", c=None)

# ROW a = [1, 2]
query2 = ESQL.row(a=[1, 2])

# ROW a = ROUND(1.23, 0)
query3 = ESQL.row(a=functions.round(1.23, 0))</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_esql_show"></a><code class="literal">ESQL.show</code></h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-py/edit/8.19/docs/guide/esql-query-builder.asciidoc">edit</a></div>
</div></div></div>
<p>The <code class="literal">SHOW</code> command returns information about the deployment and its capabilities.</p>
<p>Example:</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">from elasticsearch.esql import ESQL

# SHOW INFO
query = ESQL.show("INFO")</pre>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="esql-query-builder.html">« ES|QL Query Builder</a>
</span>
<span class="next">
<a href="_adding_processing_commands.html">Adding processing commands »</a>
</span>
</div>
</body>
</html>
