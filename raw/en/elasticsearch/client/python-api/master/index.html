<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>elasticsearch-py | Elastic</title>

<meta name="DC.type" content="Learn/Docs/Clients/Python"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="master"/>
</head>
<body>
<div class="book" lang="en">
<div class="titlepage">
<div>
<div><h1 class="title"><a id="id-1"></a>elasticsearch-py</h1></div>
</div>
<hr>
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="_overview"></a>Overview<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/python/index.asciidoc">edit</a></h1>
</div></div></div>
<p>Official low-level client for Elasticsearch. Its goal is to provide common
ground for all Elasticsearch-related code in Python; because of this it tries
to be opinion-free and very extendable. The full documentation is available at
<a href="http://elasticsearch-py.readthedocs.org/" class="ulink" target="_top">http://elasticsearch-py.readthedocs.org/</a></p>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Elasticsearch DSL</strong></p>
</div></div></div>
<p>For a more high level client library with more limited scope, have a look at
<a href="http://elasticsearch-dsl.readthedocs.org/" class="ulink" target="_top">elasticsearch-dsl</a> - a more pythonic library
sitting on top of <code class="literal">elasticsearch-py</code>.</p>
<p>It provides a more convenient and idiomatic way to write and manipulate
<a href="http://elasticsearch-dsl.readthedocs.org/en/latest/search_dsl.html" class="ulink" target="_top">queries</a>. It
stays close to the Elasticsearch JSON DSL, mirroring its terminology and
structure while exposing the whole range of the DSL from Python either directly
using defined classes or a queryset-like expressions.</p>
<p>It also provides an optional
<a href="http://elasticsearch-dsl.readthedocs.org/en/latest/persistence.html#doctype" class="ulink" target="_top">persistence
layer</a> for working with documents as Python objects in an ORM-like fashion:
defining mappings, retrieving and saving documents, wrapping the document data
in user-defined classes.</p>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_installation"></a>Installation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/python/index.asciidoc">edit</a></h2>
</div></div></div>
<p>It can be installed with pip:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">pip install elasticsearch</pre>
</div>
<p>The legacy version for Elasticsearch version 2.x can be installed with pip:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">pip install elasticsearch2</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_versioning"></a>Versioning<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/python/index.asciidoc">edit</a></h2>
</div></div></div>
<p>Current development happens in the master branch.</p>
<p>The master branch is the only branch under current development and
is used to track all the changes for Elasticsearch 5.x and beyond.</p>
<p>Elasticsearch version 2.x is not longer under active development.
We will only backport severe bug fixes.</p>
<p>The recommended way to set your requirements in your <code class="literal">setup.py</code> or
<code class="literal">requirements.txt</code> is:</p>
<div class="pre_wrapper lang-txt">
<pre class="programlisting prettyprint lang-txt">    # Elasticsearch 6.x
    elasticsearch&gt;=6.0.0,&lt;7.0.0

    # Elasticsearch 2.x
    elasticsearch2</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_example_use"></a>Example use<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/python/index.asciidoc">edit</a></h2>
</div></div></div>
<p>Simple use-case:</p>
<div class="pre_wrapper lang-python">
<pre class="programlisting prettyprint lang-python">&gt;&gt;&gt; from datetime import datetime
&gt;&gt;&gt; from elasticsearch import Elasticsearch

# by default we connect to localhost:9200
&gt;&gt;&gt; es = Elasticsearch()

# datetimes will be serialized
&gt;&gt;&gt; es.index(index="my-index-000001", doc_type="test-type", id=42, body={"any": "data", "timestamp": datetime.now()})
{u'_id': u'42', u'_index': u'my-index-000001', u'_type': u'test-type', u'_version': 1, u'ok': True}

# but not deserialized
&gt;&gt;&gt; es.get(index="my-index-000001", doc_type="test-type", id=42)['_source']
{u'any': u'data', u'timestamp': u'2013-05-12T19:45:31.804229'}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>All the API calls map the raw REST api as closely as possible, including
the distinction between required and optional arguments to the calls. This
means that the code makes distinction between positional and keyword arguments;
we, however, recommend that people use keyword arguments for all calls for
consistency and safety.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_features"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/python/index.asciidoc">edit</a></h2>
</div></div></div>
<p>The client&#8217;s features include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
translating basic Python data types to and from json (datetimes are not
decoded for performance reasons)
</li>
<li class="listitem">
configurable automatic discovery of cluster nodes
</li>
<li class="listitem">
persistent connections
</li>
<li class="listitem">
load balancing (with pluggable selection strategy) across all available nodes
</li>
<li class="listitem">
failed connection penalization (time based - failed connections won&#8217;t be
retried until a timeout is reached)
</li>
<li class="listitem">
thread safety
</li>
<li class="listitem">
pluggable architecture
</li>
</ul>
</div>
<p>The client also contains a convenient set of
<a href="http://elasticsearch-py.readthedocs.org/en/master/helpers.html" class="ulink" target="_top">helpers</a> for
some of the more engaging tasks like bulk indexing and reindexing.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_license"></a>License<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/python/index.asciidoc">edit</a></h2>
</div></div></div>
<p>Copyright 2013-2018 Elasticsearch</p>
<p>Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<pre class="literallayout">http://www.apache.org/licenses/LICENSE-2.0</pre>

<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
</div>

</div>

</div>
</div></body>
</html>
