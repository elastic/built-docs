<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elasticsearch Rust Client | Elastic</title>

<meta name="DC.type" content="Learn/Docs/Clients/Rust"/>
<meta name="DC.subject" content="Clients"/>
<meta name="DC.identifier" content="master"/>
</head>
<body>
<div class="book" lang="en">
<div class="titlepage">
<div>
<div><h1 class="title"><a id="id-1"></a>Elasticsearch Rust Client</h1></div>
</div>
<hr>
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="overview"></a>Overview<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-rs/edit/master/docs/overview.asciidoc">edit</a></h1>
</div></div></div>
<p>This is the official Rust client for Elasticsearch. Full documentation is hosted on
<a href="https://docs.rs/elasticsearch" class="ulink" target="_top">docs.rs</a>&#8201;&#8212;&#8201;this page provides <em>only</em> an overview.</p>
<p>Further resources:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/elasticsearch-rs" class="ulink" target="_top">Source code</a>
</li>
<li class="listitem">
<a href="https://docs.rs/elasticsearch" class="ulink" target="_top">API documentation</a>
</li>
</ul>
</div>
<h3><a id="features"></a>Features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-rs/edit/master/docs/overview.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fluent builders for all Elasticsearch REST API endpoints
</li>
<li class="listitem">
Persistent keep-alive connections
</li>
<li class="listitem">
TLS support with system or custom certificates
</li>
<li class="listitem">
Proxy support with authentication
</li>
<li class="listitem">
Async support with Tokio
</li>
</ul>
</div>
<h3><a id="_elasticsearch_version_compatibility"></a>Elasticsearch Version Compatibility<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-rs/edit/master/docs/overview.asciidoc">edit</a></h3>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>Rust client</p></td>
<td align="left" valign="top"><p>Elasticsearch</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>7.x</p></td>
<td align="left" valign="top"><p>7.x</p></td>
</tr>
</tbody>
</table>
</div>
<p>A major version of the client is compatible with the same major version of Elasticsearch.
Since Elasticsearch is developed following <a href="https://semver.org/" class="ulink" target="_top">Semantic Versioning</a>
principles, any minor/patch version of the client can be used against any
minor/patch version of Elasticsearch <span class="strong strong"><strong>within the same major version lineage</strong></span>. For
example,</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A <code class="literal">7.5.0</code> client can be used against <code class="literal">7.0.0</code> Elasticsearch
</li>
<li class="listitem">
A <code class="literal">7.5.0</code> client can be used against <code class="literal">7.6.0</code> Elasticsearch
</li>
</ul>
</div>
<p>In the former case, a 7.5.0 client may contain additional API functions that are
not available in 7.0.0 Elasticsearch. In this case, these APIs cannot be used, but for
any APIs available in Elasticsearch, the respective API functions on the client will be
compatible.</p>
<p>In the latter case, a 7.5.0 client won&#8217;t contain API functions for APIs that are
introduced in Elasticsearch 7.6.0+, but for all other APIs available in Elasticsearch, the
respective API functions on the client will be compatible.</p>
<p><span class="strong strong"><strong>No compatibility assurances are given between different major versions of the
client and Elasticsearch.</strong></span> Major differences likely exist between major versions of
Elasticsearch, particularly around request and response object formats, but also around
API urls and behaviour.</p>
<h3><a id="_create_a_client"></a>Create a client<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-rs/edit/master/docs/overview.asciidoc">edit</a></h3>
<p>To create a client to make API calls to Elasticsearch running on <code class="literal">http://localhost:9200</code></p>
<div class="pre_wrapper lang-rust">
<pre class="programlisting prettyprint lang-rust">let client = Elasticsearch::default();</pre>
</div>
<p>Alternatively, you can create a client to make API calls against Elasticsearch running on a
specific <code class="literal">url::Url</code></p>
<div class="pre_wrapper lang-rust">
<pre class="programlisting prettyprint lang-rust">let transport = Transport::single_node("https://example.com")?;
let client = Elasticsearch::new(transport);</pre>
</div>
<p>If you&#8217;re running against an Elasticsearch deployment in <a href="/cloud/" class="ulink" target="_top">Elastic Cloud</a>,
a client can be created using a <a href="/guide/en/cloud/current/ec-cloud-id.html" class="ulink" target="_top">Cloud ID</a>
and credentials retrieved from the Cloud web console</p>
<div class="pre_wrapper lang-rust">
<pre class="programlisting prettyprint lang-rust">let cloud_id = "&lt;cloud id from cloud web console&gt;";
let credentials = Credentials::Basic("&lt;username&gt;".into(), "&lt;password&gt;".into());
let transport = Transport::cloud(cloud_id, credentials)?;
let client = Elasticsearch::new(transport);</pre>
</div>
<h3><a id="_making_api_calls"></a>Making API calls<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-rs/edit/master/docs/overview.asciidoc">edit</a></h3>
<p>The following makes an API call to <code class="literal">tweets/_search</code> with the json body
<code class="literal">{"query":{"match":{"message":"Elasticsearch"}}}</code></p>
<div class="pre_wrapper lang-rust">
<pre class="programlisting prettyprint lang-rust">let response = client
    .search(SearchParts::Index(&amp;["tweets"]))
    .from(0)
    .size(10)
    .body(json!({
        "query": {
            "match": {
                "message": "Elasticsearch rust"
            }
        }
    }))
    .send()
    .await?;

let response_body = response.json::&lt;Value&gt;().await?;
let took = response_body["took"].as_i64().unwrap();
for hit in response_body["hits"]["hits"].as_array().unwrap() {
    // print the source document
    println!("{:?}", hit["_source"]);
}</pre>
</div>
</div>

<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="installation"></a>Installation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch-rs/edit/master/docs/installation.asciidoc">edit</a></h1>
</div></div></div>
<p>Add <code class="literal">elasticsearch</code> crate and version to Cargo.toml. Choose the version that is
compatible with the version of Elasticsearch you are using:</p>
<div class="pre_wrapper lang-toml">
<pre class="programlisting prettyprint lang-toml">[dependencies]
elasticsearch = "8.0.0-alpha.1"</pre>
</div>
<p>The following <em>optional</em> dependencies may also be useful to create requests and
read responses:</p>
<div class="pre_wrapper lang-toml">
<pre class="programlisting prettyprint lang-toml">serde = "~1"
serde_json = "~1"</pre>
</div>
</div>

</div>
</div></body>
</html>
