<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Java Virtual Machine | Elasticsearch: The Definitive Guide [1.x] | Elastic</title>
<meta class="elastic" name="content" content="Java Virtual Machine | Elasticsearch: The Definitive Guide [1.x]">

<link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide [1.x]"/>
<link rel="up" href="deploy.html" title="Production Deployment"/>
<link rel="prev" href="hardware.html" title="Hardware"/>
<link rel="next" href="_transport_client_versus_node_client.html" title="Transport Client Versus Node Client"/>
<meta class="elastic" name="product_version" content="1.x"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Legacy/Elasticsearch/Definitive Guide/1.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="1.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<p>
  <strong>WARNING</strong>: The 1.x versions of Elasticsearch have passed their
  <a href="https://www.elastic.co/support/eol">EOL dates</a>. If you are running
  a 1.x version, we strongly advise you to upgrade.
</p>
<p>
  This documentation is no longer maintained and may be removed. For the latest
  information, see the <a
  href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html">current
  Elasticsearch documentation</a>.
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide [1.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="administration.html">Administration, Monitoring, and Deployment</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="deploy.html">Production Deployment</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="hardware.html">« Hardware</a>
</span>
<span class="next">
<a href="_transport_client_versus_node_client.html">Transport Client Versus Node Client »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_java_virtual_machine"></a>Java Virtual Machine<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-definitive-guide/edit/1.x/510_Deployment/30_other.asciidoc">edit</a></h2>
</div></div></div>
<p>You should always run the most recent version of the Java Virtual Machine (JVM),
unless otherwise stated on the Elasticsearch website.  Elasticsearch, and in
particular Lucene, is a demanding piece of software.  The unit and integration
tests from Lucene often expose bugs in the JVM itself.  These bugs range from
mild annoyances to serious segfaults, so it is best to use the latest version
of the JVM where possible.</p>
<p>Java 7 is strongly preferred over Java 6.  Either Oracle or OpenJDK are acceptable. They are comparable in performance and stability.</p>
<p>If your application is written in Java and you are using the transport client
or node client, make sure the JVM running your application is identical to the
server JVM.  In few locations in Elasticsearch, Java&#8217;s native serialization
is used (IP addresses, exceptions, and so forth).  Unfortunately, Oracle has been known to
change the serialization format between minor releases, leading to strange errors.
This happens rarely, but it is best practice to keep the JVM versions identical
between client and server.</p>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Please Do Not Tweak JVM Settings</strong></p>
</div></div></div>
<p>The JVM exposes dozens (hundreds even!) of settings, parameters, and configurations.
They allow you to tweak and tune almost every aspect of the JVM.</p>
<p>When a knob is encountered, it is human nature to want to turn it.  We implore
you to squash this desire and <em>not</em> use custom JVM settings.  Elasticsearch is
a complex piece of software, and the current JVM settings have been tuned
over years of real-world usage.</p>
<p>It is easy to start turning knobs, producing opaque effects that are hard to measure,
and eventually detune your cluster into a slow, unstable mess.  When debugging
clusters, the first step is often to remove all custom configurations.  About
half the time, this alone restores stability and performance.</p>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="hardware.html">« Hardware</a>
</span>
<span class="next">
<a href="_transport_client_versus_node_client.html">Transport Client Versus Node Client »</a>
</span>
</div>
</div>
</body>
</html>
