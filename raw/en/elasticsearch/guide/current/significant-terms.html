<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Significant Terms | Elasticsearch: The Definitive Guide [2.x] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch: The Definitive Guide [2.x]"/>
<link rel="up" href="aggregations.html" title="Aggregations"/>
<link rel="prev" href="percentiles.html" title="Calculating Percentiles"/>
<link rel="next" href="_significant_terms_demo.html" title="significant_terms Demo"/>
<meta name="DC.type" content="Learn/Docs/Legacy/Elasticsearch/Definitive Guide/2.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="2.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
This information applies to version 2.x of Elasticsearch. For the
most up to date information, see the current version of the
<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/index.html">
Elasticsearch Reference</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch: The Definitive Guide [2.x]</a></span>
»
<span class="breadcrumb-link"><a href="aggregations.html">Aggregations</a></span>
»
<span class="breadcrumb-node">Significant Terms</span>
</div>
<div class="navheader">
<span class="prev">
<a href="percentiles.html">« Calculating Percentiles</a>
</span>
<span class="next">
<a href="_significant_terms_demo.html">significant_terms Demo »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="significant-terms"></a>Significant Terms<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch-definitive-guide/edit/2.x/300_Aggregations/70_sigterms_intro.asciidoc">edit</a></h2>
</div></div></div>
<p>The <code class="literal">significant_terms</code> (SigTerms) aggregation is rather different from the rest of the
aggregations.  All the aggregations we have seen so far are essentially simple math
operations.  By combining the various building blocks, you can build sophisticated
aggregations and reports about your data.</p>
<p><code class="literal">significant_terms</code> has a different agenda. To some, it may even look a bit like
machine learning.  The <code class="literal">significant_terms</code> aggregation finds <em>uncommonly common</em> terms
in your data-set.</p>
<p>What do we mean by <em>uncommonly common</em>?  These are terms that are statistically
unusual&#8201;&#8212;&#8201;data that appears more frequently than the background rate would
suggest.  These statistical anomalies are usually indicative of something
interesting in your data.</p>
<p>For example, imagine you are in charge of detecting and tracking down credit
card fraud.  Customers call and complain about unusual transactions appearing
on their credit card&#8201;&#8212;&#8201;their account has been compromised.  These transactions
are just symptoms of a larger problem.  Somewhere in the recent past,
a merchant has either knowingly stolen the customers' credit card information,
or has unknowingly been compromised themselves.</p>
<p>Your job is to find the <em>common point of compromise</em>.  If you have 100 customers
complaining of unusual transactions, those customers likely share a single merchant&#8212;&#8203;and it is this merchant that is likely the source of
blame.</p>
<p>Of course, it is a little more nuanced than just finding a merchant that all
customers share.  For example, many of the customers will have large merchants
like Amazon in their recent transaction history.  We can rule out Amazon, however,
since many uncompromised credit cards also have Amazon as a recent merchant.</p>
<p>This is an example of a <em>commonly common</em> merchant.  Everyone, whether compromised
or not, shares the merchant.  This makes it of little interest to us.</p>
<p>On the opposite end of the spectrum, you have tiny merchants such as the corner
drug store.  These are <em>commonly uncommon</em>&#x2014;only one or two customers have
transactions from the merchant.  We can rule these out as well.  Since all of
the compromised cards did not interact with the merchant, we can be sure it was
not to blame for the security breach.</p>
<p>What we want are <em>uncommonly common</em> merchants.  These are merchants that every
compromised card shares, but that are not well represented in the background
noise of uncompromised cards.  These merchants are statistical anomalies; they
appear more frequently than they should.  It is highly likely that these
uncommonly common merchants are to blame.</p>
<p><code class="literal">significant_terms</code> aggregation does just this.  It analyzes your data and finds
terms that appear with a frequency that is statistically anomalous compared
to the background data.</p>
<p>What you <em>do</em> with this statistical anomaly depends on the data.  With the credit
card data, you might be looking for fraud.  With ecommerce, you might be looking
for an unidentified demographic so you can market to them more efficiently.
If you are analyzing logs, you might find one server that throws a certain type of error
more often than it should.  The applications of <code class="literal">significant_terms</code> is nearly endless.</p>

</div>
<div class="navfooter">
<span class="prev">
<a href="percentiles.html">« Calculating Percentiles</a>
</span>
<span class="next">
<a href="_significant_terms_demo.html">significant_terms Demo »</a>
</span>
</div>
</div>
</body>
</html>
