<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Help for plugin authors | Elasticsearch Plugins and Integrations [2.0] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Plugins and Integrations [2.0]"/>
<link rel="up" href="index.html" title="Elasticsearch Plugins and Integrations [2.0]"/>
<link rel="prev" href="integrations.html" title="Integrations"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Plugins/2.0"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="2.0"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Plugins and Integrations [2.0]</a></span>
»
<span class="breadcrumb-node">Help for plugin authors</span>
</div>
<div class="navheader">
<span class="prev">
<a href="integrations.html">« Integrations</a>
</span>
<span class="next">
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="plugin-authors"></a>Help for plugin authors<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/2.0/docs/plugins/authors.asciidoc">edit</a></h1>
</div></div></div>
<p>The Elasticsearch repository contains examples of:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
a <a href="https://github.com/elastic/elasticsearch/tree/2.0/plugins/site-example" class="ulink" target="_top">site plugin</a>
for serving static HTML, JavaScript, and CSS.
</li>
<li class="listitem">
a <a href="https://github.com/elastic/elasticsearch/tree/master/plugins/jvm-example" class="ulink" target="_top">Java plugin</a>
which contains Java code.
</li>
</ul>
</div>
<p>These examples provide the bare bones needed to get started.  For more
information about how to write a plugin, we recommend looking at the plugins
listed in this documentation for inspiration.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Site plugins</h3>
<p>The example site plugin mentioned above contains all of the scaffolding needed
for integrating with Maven builds.  If you don&#8217;t plan on using Maven, then all
you really need in your plugin is:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">plugin-descriptor.properties</code> file
</li>
<li class="listitem">
The <code class="literal">_site/</code> directory
</li>
<li class="listitem">
The <code class="literal">_site/index.html</code> file
</li>
</ul>
</div>
</div>
</div>
<h3><a id="_plugin_descriptor_file"></a>Plugin descriptor file<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/2.0/docs/plugins/authors.asciidoc">edit</a></h3>
<p>All plugins, be they site or Java plugins, must contain a file called
<code class="literal">plugin-descriptor.properties</code> in the root directory. The format for this file
is described in detail  here:</p>
<p><a href="https://github.com/elastic/elasticsearch/blob/master/dev-tools/src/main/resources/plugin-metadata/plugin-descriptor.properties" class="ulink" target="_top"><code class="literal">dev-tools/src/main/resources/plugin-metadata/plugin-descriptor.properties</code></a>.</p>
<p>Either fill in this template yourself (see
<a href="https://github.com/lmenezes/elasticsearch-kopf/blob/master/plugin-descriptor.properties" class="ulink" target="_top">elasticsearch-kopf</a>
as an example) or, if you are using Elasticsearch&#8217;s Maven build system, you
can fill in the necessary values in the <code class="literal">pom.xml</code> for your plugin. For
instance, see
<a href="https://github.com/elastic/elasticsearch/blob/2.0/plugins/site-example/pom.xml" class="ulink" target="_top"><code class="literal">plugins/site-example/pom.xml</code></a>.</p>
<h4><a id="_mandatory_elements_for_all_plugins"></a>Mandatory elements for all plugins<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/2.0/docs/plugins/authors.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Element</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">description</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>simple summary of the plugin</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">version</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>plugin&#8217;s version</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">name</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>the plugin name</p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="_mandatory_elements_for_java_plugins"></a>Mandatory elements for Java plugins<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/2.0/docs/plugins/authors.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Element</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">jvm</code></p></td>
<td align="left" valign="top"><p>Boolean</p></td>
<td align="left" valign="top"><p>true if the <code class="literal">classname</code> class should be loaded
from jar files in the root directory of the plugin.
Note that only jar files in the root directory are added to the classpath for the plugin!
If you need other resources, package them into a resources jar.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">classname</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>the name of the class to load, fully-qualified.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">java.version</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>version of java the code is built against.
Use the system property <code class="literal">java.specification.version</code>. Version string must be a sequence
of nonnegative decimal integers separated by "."'s and may have leading zeros.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">elasticsearch.version</code></p></td>
<td align="left" valign="top"><p>String</p></td>
<td align="left" valign="top"><p>version of elasticsearch compiled against.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Plugin release lifecycle</h3>
<p>You will have to release a new version of the plugin for each new elasticsearch release.
This version is checked when the plugin is loaded so Elasticsearch will refuse to start
in the presence of plugins with the incorrect <code class="literal">elasticsearch.version</code>.</p>
</div>
</div>
<h4><a id="_mandatory_elements_for_site_plugins"></a>Mandatory elements for Site plugins<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/2.0/docs/plugins/authors.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Element</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">site</code></p></td>
<td align="left" valign="top"><p>Boolean</p></td>
<td align="left" valign="top"><p>true to indicate contents of the <code class="literal">_site/</code>
directory in the root of the plugin should be served.</p></td>
</tr>
</tbody>
</table>
</div>
<h3><a id="_loading_plugins_from_the_classpath"></a>Loading plugins from the classpath<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/2.0/docs/plugins/authors.asciidoc">edit</a></h3>
<p>When testing a Java plugin, it will only be auto-loaded if it is in the
<code class="literal">plugins/</code> directory.  If, instead, it is in your classpath, you can tell
Elasticsearch to load it with the <code class="literal">plugin.types</code> setting:</p>
<div class="pre_wrapper lang-java">
<pre class="programlisting prettyprint lang-java">settingsBuilder()
    .put("cluster.name", cluster)
    .put("path.home", getHome())
    .put("plugin.types", MyCustomPlugin.class.getName()) <a id="CO18-1"></a><i class="conum" data-value="1"></i>
    .build();</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO18-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Tells Elasticsearch to load your plugin.</p>
</td>
</tr>
</table>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="integrations.html">« Integrations</a>
</span>
<span class="next">
</span>
</div>
</div>
</body>
</html>
