<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Linux | Reference [0.90] | Elastic</title>
<meta class="elastic" name="content" content="Linux | Reference [0.90]">

<link rel="home" href="index.html" title="Reference [0.90]"/>
<link rel="up" href="setup-service.html" title="Running As a Service on Linux"/>
<link rel="prev" href="setup-service.html" title="Running As a Service on Linux"/>
<link rel="next" href="setup-service-win.html" title="Running as a Service on Windows"/>
<meta class="elastic" name="product_version" content="0.90"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/0.90"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="0.90"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<p>
  <strong>WARNING</strong>: Version 0.90 of Elasticsearch has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div class="navheader">
<span class="prev">
<a href="setup-service.html">« Running As a Service on Linux</a>
</span>
<span class="next">
<a href="setup-service-win.html">Running as a Service on Windows »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Reference [0.90]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup.html">Setup</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup-service.html">Running As a Service on Linux</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Linux</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/setup/as-a-service.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="_linux"></a>Linux</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/setup/as-a-service.asciidoc">edit</a></div>
</div></div></div>
<p>Currently our build automatically creates a debian package and an RPM package, which is available on the download page. The package itself does not have any dependencies, but you have to make sure that you installed a JDK.</p>
<p>Each package features a configuration file, which allows you to set the following parameters</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">ES_USER</code>
</p>
</td>
<td valign="top">
<p>
The user to run as, defaults to <code class="literal">elasticsearch</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_GROUP</code>
</p>
</td>
<td valign="top">
<p>
The group to run as, defaults to <code class="literal">elasticsearch</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_HEAP_SIZE</code>
</p>
</td>
<td valign="top">
<p>
The heap size to start with
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_HEAP_NEWSIZE</code>
</p>
</td>
<td valign="top">
<p>
The size of the new generation heap
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_DIRECT_SIZE</code>
</p>
</td>
<td valign="top">
<p>
The maximum size of the direct memory
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MAX_OPEN_FILES</code>
</p>
</td>
<td valign="top">
<p>
Maximum number of open files, defaults to <code class="literal">65535</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MAX_LOCKED_MEMORY</code>
</p>
</td>
<td valign="top">
<p>
Maximum locked memory size. Set to "unlimited" if you use the bootstrap.mlockall option in elasticsearch.yml. You must also set ES_HEAP_SIZE.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MAX_MAP_COUNT</code>
</p>
</td>
<td valign="top">
<p>
Maximum number of memory map areas a process may have. If you use <code class="literal">mmapfs</code> as index store type, make sure this is set to a high value. For more information, check the <a href="https://github.com/torvalds/linux/blob/master/Documentation/sysctl/vm.txt" class="ulink" target="_top">linux kernel documentation</a> about <code class="literal">max_map_count</code>. This is set via <code class="literal">sysctl</code> before starting elasticsearch. Defaults to <code class="literal">65535</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">LOG_DIR</code>
</p>
</td>
<td valign="top">
<p>
Log directory, defaults to <code class="literal">/var/log/elasticsearch</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">DATA_DIR</code>
</p>
</td>
<td valign="top">
<p>
Data directory, defaults to <code class="literal">/var/lib/elasticsearch</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">WORK_DIR</code>
</p>
</td>
<td valign="top">
<p>
Work directory, defaults to <code class="literal">/tmp/elasticsearch</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">CONF_DIR</code>
</p>
</td>
<td valign="top">
<p>
Configuration file directory (which needs to include <code class="literal">elasticsearch.yml</code> and <code class="literal">logging.yml</code> files), defaults to <code class="literal">/etc/elasticsearch</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">CONF_FILE</code>
</p>
</td>
<td valign="top">
<p>
Path to configuration file, defaults to <code class="literal">/etc/elasticsearch/elasticsearch.yml</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ES_JAVA_OPTS</code>
</p>
</td>
<td valign="top">
<p>
Any additional java options you may want to apply. This may be useful, if you need to set the <code class="literal">node.name</code> property, but do not want to change the <code class="literal">elasticsearch.yml</code> configuration file, because it is distributed via a provisioning system like puppet or chef. Example: <code class="literal">ES_JAVA_OPTS="-Des.node.name=search-01"</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">RESTART_ON_UPGRADE</code>
</p>
</td>
<td valign="top">
<p>
Configure restart on package upgrade, defaults to <code class="literal">false</code>. This means you will have to restart your elasticsearch instance after installing a package manually. The reason for this is to ensure, that upgrades in a cluster do not result in a continouos shard reallocation resulting in high network traffic and reducing the response times of your cluster.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_debianubuntu"></a>Debian/Ubuntu</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/setup/as-a-service.asciidoc">edit</a></div>
</div></div></div>
<p>The debian package ships with everything you need as it uses standard debian tools like update <code class="literal">update-rc.d</code> to define the runlevels it runs on. The init script is placed at <code class="literal">/etc/init.d/elasticsearch</code> is you would expect it. The configuration file is placed at <code class="literal">/etc/default/elasticsearch</code>.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="_installing_the_oracle_jdk"></a>Installing the oracle JDK</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/setup/as-a-service.asciidoc">edit</a></div>
</div></div></div>
<p>The usual recommendation is to run the Oracle JDK with elasticsearch. However Ubuntu and Debian only ship the OpenJDK due to license issues. You can easily install the oracle installer package though. In case you are missing the <code class="literal">add-apt-repository</code> command under Debian GNU/Linux, make sure have at least Debian Wheezy and the package <code class="literal">python-software-properties</code> installed</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">sudo add-apt-repository ppa:webupd8team/java
sudo apt-get update
sudo apt-get install oracle-java7-installer
java -version</pre>
</div>
<p>The last command should verify a successful installation of the Oracle JDK.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="__redhat_centos_fedora"></a>RedHat/Centos/Fedora</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/setup/as-a-service.asciidoc">edit</a></div>
</div></div></div>
<p>RedHat based distributions are using <code class="literal">chkconfig</code> to enable and disable services. The init script is at <code class="literal">/etc/init.d/elasticsearch</code>, where as the configuration file is placed at <code class="literal">/etc/sysconfig/elasticsearch</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_suse"></a>SuSe</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/setup/as-a-service.asciidoc">edit</a></div>
</div></div></div>
<p>SuSe does not use the <code class="literal">chkconfig</code> tool to register services, but rather <code class="literal">systemd</code> and its command <code class="literal">/bin/systemctl</code> to start and stop services. The configuration file is also placed at <code class="literal">/etc/sysconfig/elasticsearch</code>.</p>
<p>Also note that changing the <code class="literal">MAX_MAP_COUNT</code> setting in <code class="literal">/etc/sysconfig/elasticsearch</code> does not have any effect, you will have to change it in <code class="literal">/usr/lib/sysctl.d/elasticsearch.conf</code> in order to have it applied at startup.</p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="setup-service.html">« Running As a Service on Linux</a>
</span>
<span class="next">
<a href="setup-service-win.html">Running as a Service on Windows »</a>
</span>
</div>
</body>
</html>
