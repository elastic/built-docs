<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Index Templates | Reference [0.90] | Elastic</title>
<link rel="home" href="index.html" title="Reference [0.90]"/>
<link rel="up" href="indices.html" title="Indices APIs"/>
<link rel="prev" href="indices-analyze.html" title="Analyze"/>
<link rel="next" href="indices-warmers.html" title="Warmers"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/0.90"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="0.90"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<p>
  <strong>WARNING</strong>: Version 0.90 of Elasticsearch has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Reference [0.90]</a></span>
»
<span class="breadcrumb-link"><a href="indices.html">Indices APIs</a></span>
»
<span class="breadcrumb-node">Index Templates</span>
</div>
<div class="navheader">
<span class="prev">
<a href="indices-analyze.html">« Analyze</a>
</span>
<span class="next">
<a href="indices-warmers.html">Warmers »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="indices-templates"></a>Index Templates<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/indices/templates.asciidoc">edit</a></h2>
</div></div></div>
<p>Index templates allow to define templates that will automatically be
applied to new indices created. The templates include both settings and
mappings, and a simple pattern template that controls if the template
will be applied to the index created. For example:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">curl -XPUT localhost:9200/_template/template_1 -d '
{
    "template" : "te*",
    "settings" : {
        "number_of_shards" : 1
    },
    "mappings" : {
        "type1" : {
            "_source" : { "enabled" : false }
        }
    }
}
'</pre>
</div>
<p>Defines a template named template_1, with a template pattern of <code class="literal">te*</code>.
The settings and mappings will be applied to any index name that matches
the <code class="literal">te*</code> template.</p>
<h3><a id="delete"></a>Deleting a Template<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/indices/templates.asciidoc">edit</a></h3>
<p>Index templates are identified by a name (in the above case
<code class="literal">template_1</code>) and can be delete as well:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">curl -XDELETE localhost:9200/_template/template_1</pre>
</div>
<h3><a id="getting"></a>GETting templates<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/indices/templates.asciidoc">edit</a></h3>
<p>Index templates are identified by a name (in the above case
<code class="literal">template_1</code>) and can be retrieved using the following:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">curl -XGET localhost:9200/_template/template_1</pre>
</div>
<p><span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono">0.90.4</span>]
<span class="Admonishment-detail">
Added in 0.90.4.
</span>
</span> You can also match several templates
by using wildcards like:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">curl -XGET localhost:9200/_template/temp*
curl -XGET localhost:9200/_template/template_1,template_2</pre>
</div>
<p>To get list of all index templates you can use
<a class="xref" href="cluster-state.html" title="Cluster State">Cluster State</a> API
and check for the metadata/templates section of the response.</p>
<p><span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono">0.90.4</span>]
<span class="Admonishment-detail">
Added in 0.90.4.
</span>
</span> Or run:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">curl -XGET localhost:9200/_template/</pre>
</div>
<h3><a id="multiple-templates"></a>Multiple Template Matching<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/indices/templates.asciidoc">edit</a></h3>
<p>Multiple index templates can potentially match an index, in this case,
both the settings and mappings are merged into the final configuration
of the index. The order of the merging can be controlled using the
<code class="literal">order</code> parameter, with lower order being applied first, and higher
orders overriding them. For example:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">curl -XPUT localhost:9200/_template/template_1 -d '
{
    "template" : "*",
    "order" : 0,
    "settings" : {
        "number_of_shards" : 1
    },
    "mappings" : {
        "type1" : {
            "_source" : { "enabled" : false }
        }
    }
}
'

curl -XPUT localhost:9200/_template/template_2 -d '
{
    "template" : "te*",
    "order" : 1,
    "settings" : {
        "number_of_shards" : 1
    },
    "mappings" : {
        "type1" : {
            "_source" : { "enabled" : true }
        }
    }
}
'</pre>
</div>
<p>The above will disable storing the <code class="literal">_source</code> on all <code class="literal">type1</code> types, but
for indices of that start with <code class="literal">te*</code>, source will still be enabled.
Note, for mappings, the merging is "deep", meaning that specific
object/property based mappings can easily be added/overridden on higher
order templates, with lower order templates providing the basis.</p>
<h3><a id="config"></a>Config<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/0.90/docs/reference/indices/templates.asciidoc">edit</a></h3>
<p>Index templates can also be placed within the config location
(<code class="literal">path.conf</code>) under the <code class="literal">templates</code> directory (note, make sure to place
them on all master eligible nodes). For example, a file called
<code class="literal">template_1.json</code> can be placed under <code class="literal">config/templates</code> and it will be
added if it matches an index. Here is a sample of the mentioned file:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
    "template_1" : {
        "template" : "*",
        "settings" : {
            "index.number_of_shards" : 2
        },
        "mappings" : {
            "_default_" : {
                "_source" : {
                    "enabled" : false
                }
            },
            "type1" : {
                "_all" : {
                    "enabled" : false
                }
            }
        }
    }
}</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="indices-analyze.html">« Analyze</a>
</span>
<span class="next">
<a href="indices-warmers.html">Warmers »</a>
</span>
</div>
</div>
</body>
</html>
