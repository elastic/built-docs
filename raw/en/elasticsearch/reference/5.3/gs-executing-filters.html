<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Executing Filters | Elasticsearch Reference [5.3] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [5.3]"/>
<link rel="up" href="gs-exploring-data.html" title="Exploring Your Data"/>
<link rel="prev" href="gs-executing-searches.html" title="Executing Searches"/>
<link rel="next" href="gs-executing-aggregations.html" title="Executing Aggregations"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/5.3"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="5.3"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [5.3]</a></span>
»
<span class="breadcrumb-link"><a href="getting-started.html">Getting Started</a></span>
»
<span class="breadcrumb-link"><a href="gs-exploring-data.html">Exploring Your Data</a></span>
»
<span class="breadcrumb-node">Executing Filters</span>
</div>
<div class="navheader">
<span class="prev">
<a href="gs-executing-searches.html">« Executing Searches</a>
</span>
<span class="next">
<a href="gs-executing-aggregations.html">Executing Aggregations »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="gs-executing-filters"></a>Executing Filters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.3/docs/reference/getting-started.asciidoc">edit</a></h2>
</div></div></div>
<p>In the previous section, we skipped over a little detail called the document score (<code class="literal">_score</code> field in the search results). The score is a numeric value that is a relative measure of how well the document matches the search query that we specified. The higher the score, the more relevant the document is, the lower the score, the less relevant the document is.</p>
<p>But queries do not always need to produce scores, in particular when they are only used for "filtering" the document set. Elasticsearch detects these situations and automatically optimizes query execution in order not to compute useless scores.</p>
<p>The <a class="xref" href="query-dsl-bool-query.html" title="Bool Query"><code class="literal">bool</code> query</a> that we introduced in the previous section also supports <code class="literal">filter</code> clauses which allow to use a query to restrict the documents that will be matched by other clauses, without changing how scores are computed. As an example, let&#8217;s introduce the <a class="xref" href="query-dsl-range-query.html" title="Range Query"><code class="literal">range</code> query</a>, which allows us to filter documents by a range of values. This is generally used for numeric or date filtering.</p>
<p>This example uses a bool query to return all accounts with balances between 20000 and 30000, inclusive. In other words, we want to find accounts with a balance that is greater than or equal to 20000 and less than or equal to 30000.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /bank/_search
{
  "query": {
    "bool": {
      "must": { "match_all": {} },
      "filter": {
        "range": {
          "balance": {
            "gte": 20000,
            "lte": 30000
          }
        }
      }
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/34.console"></div>
<p>Dissecting the above, the bool query contains a <code class="literal">match_all</code> query (the query part) and a <code class="literal">range</code> query (the filter part). We can substitute any other queries into the query and the filter parts. In the above case, the range query makes perfect sense since documents falling into the range all match "equally", i.e., no document is more relevant than another.</p>
<p>In addition to the <code class="literal">match_all</code>, <code class="literal">match</code>, <code class="literal">bool</code>, and <code class="literal">range</code> queries, there are a lot of other query types that are available and we won&#8217;t go into them here. Since we already have a basic understanding of how they work, it shouldn&#8217;t be too difficult to apply this knowledge in learning and experimenting with the other query types.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="gs-executing-searches.html">« Executing Searches</a>
</span>
<span class="next">
<a href="gs-executing-aggregations.html">Executing Aggregations »</a>
</span>
</div>
</div>
</body>
</html>
