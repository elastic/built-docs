<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Geo Distance Range Query | Elasticsearch Guide [5.3] | Elastic</title>
<meta class="elastic" name="content" content="Geo Distance Range Query | Elasticsearch Guide [5.3]">

<link rel="home" href="index.html" title="Elasticsearch Guide [5.3]"/>
<link rel="up" href="geo-queries.html" title="Geo queries"/>
<link rel="prev" href="query-dsl-geo-distance-query.html" title="Geo Distance Query"/>
<link rel="next" href="query-dsl-geo-polygon-query.html" title="Geo Polygon Query"/>
<meta class="elastic" name="product_version" content="5.3"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/5.3"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="5.3"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="query-dsl-geo-distance-query.html">« Geo Distance Query</a>
</span>
<span class="next">
<a href="query-dsl-geo-polygon-query.html">Geo Polygon Query »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [5.3]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="query-dsl.html">Query DSL</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="geo-queries.html">Geo queries</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Geo Distance Range Query</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.3/docs/reference/query-dsl/geo-distance-range-query.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="query-dsl-geo-distance-range-query"></a>Geo Distance Range Query</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.3/docs/reference/query-dsl/geo-distance-range-query.asciidoc">edit</a></div>
</div></div></div>
<p><span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">5.0.0</span>]
<span class="Admonishment-detail">
Deprecated in 5.0.0. Elasticsearch will continue to support geo_distance_range queries on indexes created prior to 5.0.0. Range searches on indexes created in 5.0.0 and later will no longer be supported. Distance aggregations or sorting should be used instead.
</span>
</span></p>
<p>Filters documents that exists within a range from a specific point:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">GET /_search
{
    "query": {
        "bool" : {
            "must" : {
                "match_all" : {}
            },
            "filter" : {
                "geo_distance_range" : {
                    "from" : "200km",
                    "to" : "400km",
                    "pin.location" : {
                        "lat" : 40,
                        "lon" : -70
                    }
                }
            }
        }
    }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/688.console"></div>
<p>Supports the same point location parameter and query options as the
<a class="xref" href="query-dsl-geo-distance-query.html" title="Geo Distance Query">geo_distance</a>
filter. And also support the common parameters for range (lt, lte, gt,
gte, from, to, include_upper and include_lower).</p>
<div class="position-relative"><h4><a id="_ignore_unmapped_6"></a>Ignore Unmapped</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/5.3/docs/reference/query-dsl/geo-distance-range-query.asciidoc">edit</a></div>
<p>When set to <code class="literal">true</code> the <code class="literal">ignore_unmapped</code> option will ignore an unmapped field
and will not match any documents for this query. This can be useful when
querying multiple indexes which might have different mappings. When set to
<code class="literal">false</code> (the default value) the query will throw an exception if the field
is not mapped.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="query-dsl-geo-distance-query.html">« Geo Distance Query</a>
</span>
<span class="next">
<a href="query-dsl-geo-polygon-query.html">Geo Polygon Query »</a>
</span>
</div>
</body>
</html>
