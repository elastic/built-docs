<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Configuring a Tribe Node to Work with Monitoring | Elasticsearch Reference [6.1] | Elastic</title>
<meta class="elastic" name="content" content="Configuring a Tribe Node to Work with Monitoring | Elasticsearch Reference [6.1]">

<link rel="home" href="index.html" title="Elasticsearch Reference [6.1]"/>
<link rel="up" href="configuring-monitoring.html" title="Configuring Monitoring in Elasticsearch"/>
<link rel="prev" href="config-monitoring-indices.html" title="Configuring Indices for Monitoring"/>
<link rel="next" href="monitoring-settings.html" title="Monitoring Settings in Elasticsearch"/>
<meta class="elastic" name="product_version" content="6.1"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.1"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="6.1"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<p>
  <strong>WARNING</strong>: Version 6.1 of Elasticsearch has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div class="navheader">
<span class="prev">
<a href="config-monitoring-indices.html">« Configuring Indices for Monitoring</a>
</span>
<span class="next">
<a href="monitoring-settings.html">Monitoring Settings in Elasticsearch »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [6.1]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup-xpack.html">Set up X-Pack</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuring-monitoring.html">Configuring Monitoring in Elasticsearch</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Configuring a Tribe Node to Work with Monitoring</h1></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="monitoring-tribe"></a>Configuring a Tribe Node to Work with Monitoring<a class="xpack_tag" href="/subscriptions"></a></h2></div>
</div></div></div>
<p>If you connect to a cluster through a <a class="xref" href="modules-tribe.html" title="Tribe node">tribe node</a>,
and you want to monitor the tribe node, then you will need to install X-Pack on
that node as well.</p>
<p>With this configuration, the tribe node is included in the node count displayed
in the Monitoring UI, but is not included in the node list because it does not
export any data to the monitoring cluster.</p>
<p>To include the tribe node in the monitoring data, enable Monitoring data
collection at the tribe level:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.name: my-tribe-node1

tribe:
  on_conflict: prefer_cluster1
  c1:
    cluster.name: cluster1
    discovery.zen.ping.unicast.hosts: [ "cluster1-node1:9300", "cluster1-node2:9300", "cluster1-node2:9300" ]
    xpack.monitoring.enabled: true <a id="CO12-1"></a><i class="conum" data-value="1"></i>
  c2:
    cluster.name: cluster2
    discovery.zen.ping.unicast.hosts: [ "cluster2-node3:9300", "cluster2-node3:9300", "cluster2-node3:9300" ]
    xpack.monitoring: <a id="CO12-2"></a><i class="conum" data-value="2"></i>
      enabled: true
      exporters:
        id1:
          type: http
          host: [ "monitoring-cluster:9200" ]</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO12-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Enable data collection from the tribe node using a Local Exporter.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO12-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Enable data collection from the tribe node using an HTTP Exporter.</p>
</td>
</tr>
</table>
</div>
<p>When you enable data collection from the tribe node, it is included in both the
node count and node list.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="config-monitoring-indices.html">« Configuring Indices for Monitoring</a>
</span>
<span class="next">
<a href="monitoring-settings.html">Monitoring Settings in Elasticsearch »</a>
</span>
</div>
</body>
</html>
