<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Install Elasticsearch with Windows MSI Installer | Elasticsearch Reference [6.4] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [6.4]"/>
<link rel="up" href="install-elasticsearch.html" title="Installing Elasticsearch"/>
<link rel="prev" href="rpm.html" title="Install Elasticsearch with RPM"/>
<link rel="next" href="docker.html" title="Install Elasticsearch with Docker"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.4"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="6.4"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [6.4]</a></span>
»
<span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
»
<span class="breadcrumb-link"><a href="install-elasticsearch.html">Installing Elasticsearch</a></span>
»
<span class="breadcrumb-node">Install Elasticsearch with Windows MSI Installer</span>
</div>
<div class="navheader">
<span class="prev">
<a href="rpm.html">« Install Elasticsearch with RPM</a>
</span>
<span class="next">
<a href="docker.html">Install Elasticsearch with Docker »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="windows"></a>Install Elasticsearch with Windows MSI Installer<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h2>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>Elasticsearch can be installed on Windows using the <code class="literal">.msi</code> package.  This can
install Elasticsearch as a Windows service or allow it to be run manually using
the included <code class="literal">elasticsearch.exe</code> executable.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch has historically been installed on Windows using the <a class="xref" href="zip-windows.html" title="Install Elasticsearch with .zip on Windows">.zip</a> archive.
You can continue using the <code class="literal">.zip</code> approach if you prefer.</p>
</div>
</div>
<p>This package is free to use under the Elastic license. It contains open source
and free commercial features and access to paid commercial features.
<a href="/guide/en/elastic-stack-overview/6.4/license-management.html" class="ulink" target="_top">Start a 30-day trial</a> to try out all of the
paid commercial features. See the
<a href="/subscriptions" class="ulink" target="_top">Subscriptions</a> page for information about
Elastic license levels.</p>
<p>The latest stable version of Elasticsearch can be found on the
<a href="/downloads/elasticsearch" class="ulink" target="_top">Download Elasticsearch</a> page.
Other versions can be found on the
<a href="/downloads/past-releases" class="ulink" target="_top">Past Releases page</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elasticsearch requires Java 8 or later. Use the
<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" class="ulink" target="_top">official Oracle distribution</a>
or an open-source distribution such as <a href="http://openjdk.java.net" class="ulink" target="_top">OpenJDK</a>.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="download-msi"></a>Download the <code class="literal">.msi</code> package<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Download the <code class="literal">.msi</code> package for Elasticsearch v6.4.3 from <a href="https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.4.3.msi" class="ulink" target="_top">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-6.4.3.msi</a></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-msi-gui"></a>Install using the graphical user interface (GUI)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Double-click the downloaded <code class="literal">.msi</code> package to launch a GUI wizard that will guide you through the
installation process. You can view help on any step by clicking the <code class="literal">?</code> button, which reveals an
aside panel with additional information for each input:</p>
<div id="msi-installer-help" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_help.png" alt="msi installer help">
</div>
</div>
<p>Within the first screen, select the directory for the installation. In addition, select directories for where
data, logs and configuration will be placed or <a class="xref" href="windows.html#msi-command-line-options" title="Command line options">use the default locations</a>:</p>
<div id="msi-installer-locations" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_locations.png" alt="msi installer locations">
</div>
</div>
<p>Then select whether to install as a service or start Elasticsearch manually as needed. When
installing as a service, you can also configure the Windows account to run the service with,
whether the service should be started after installation and the Windows startup behaviour:</p>
<div id="msi-installer-service" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_service.png" alt="msi installer service">
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>When selecting a Windows account to run the service with, be sure that the chosen account
has sufficient privileges to access the installation and other deployment directories chosen. Also
ensure the account is able to run Windows services.</p>
</div>
</div>
<p>Common configuration settings are exposed within the Configuration section, allowing the cluster
name, node name and roles to be set, in addition to memory and network settings:</p>
<div id="msi-installer-configuration" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_configuration.png" alt="msi installer configuration">
</div>
</div>
<p>A list of common plugins that can be downloaded and installed as part of the installation, with the option to configure an HTTPS proxy through which to download these plugins.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Ensure the installation machine has access to the internet and that any corporate firewalls in place are configured to allow downloads from <code class="literal">artifacts.elastic.co</code>:</p>
</div>
</div>
<div id="msi-installer-selected-plugins" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_selected_plugins.png" alt="msi installer selected plugins">
</div>
</div>
<p>As of version 6.3.0, X-Pack is now <a href="/products/x-pack/open" class="ulink" target="_top">bundled by default</a>. The final step allows a choice of the type of X-Pack license to install, in addition to security configuration and built-in user configuration:</p>
<div id="msi-installer-xpack" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_xpack.png" alt="msi installer xpack">
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>X-Pack includes a choice of a Trial or Basic license. A Trial license is valid for 30 days, after which you can obtain one of the available subscriptions. The Basic license is free and perpetual. Consult the <a href="/subscriptions" class="ulink" target="_top">available subscriptions</a> for further details on which features are available under which license.</p>
</div>
</div>
<p>After clicking the install button, the installation will begin:</p>
<div id="msi-installer-installing" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_installing.png" alt="msi installer installing">
</div>
</div>
<p>&#8230;&#8203;and will indicate when it has been successfully installed:</p>
<div id="msi-installer-success" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_success.png" alt="msi installer success">
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="install-msi-command-line"></a>Install using the command line<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">.msi</code> can also install Elasticsearch using the command line. The simplest installation
using the same defaults as the GUI is achieved by first navigating to the download directory,
then running:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">msiexec.exe /i elasticsearch-6.4.3.msi /qn</pre>
</div>
<p>By default, <code class="literal">msiexec.exe</code> does not wait for the installation process to complete, since it runs in the
Windows subsystem. To wait on the process to finish and ensure that <code class="literal">%ERRORLEVEL%</code> is set
accordingly, it is recommended to use <code class="literal">start /wait</code> to create a process and wait for it to exit</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /i elasticsearch-6.4.3.msi /qn</pre>
</div>
<p>As with any MSI installation package, a log file for the installation process can be found
within the <code class="literal">%TEMP%</code> directory, with a randomly generated name adhering to the format
<code class="literal">MSI&lt;random&gt;.LOG</code>. The path to a log file can be supplied using the <code class="literal">/l</code> command line argument</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /i elasticsearch-6.4.3.msi /qn /l install.log</pre>
</div>
<p>Supported Windows Installer command line arguments can be viewed using</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">msiexec.exe /help</pre>
</div>
<p>&#8230;&#8203;or by consulting the <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa367988(v=vs.85).aspx" class="ulink" target="_top">Windows Installer SDK Command-Line Options</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="msi-command-line-options"></a>Command line options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>All settings exposed within the GUI are also available as command line arguments (referred to
as <em>properties</em> within Windows Installer documentation) that can be passed to <code class="literal">msiexec.exe</code>:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">INSTALLDIR</code>
</p>
</td>
<td valign="top">
<p>
The installation directory. The final directory in the path <span class="strong strong"><strong>must</strong></span>
be the version of Elasticsearch.
Defaults to <code class="literal">%ProgramW6432%\Elastic\Elasticsearch\6.4.3</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">DATADIRECTORY</code>
</p>
</td>
<td valign="top">
<p>
The directory in which to store your data.
Defaults to <code class="literal">%ALLUSERSPROFILE%\Elastic\Elasticsearch\data</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">CONFIGDIRECTORY</code>
</p>
</td>
<td valign="top">
<p>
The directory in which to store your configuration.
Defaults to <code class="literal">%ALLUSERSPROFILE%\Elastic\Elasticsearch\config</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">LOGSDIRECTORY</code>
</p>
</td>
<td valign="top">
<p>
The directory in which to store your logs.
Defaults to <code class="literal">%ALLUSERSPROFILE%\Elastic\Elasticsearch\logs</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">PLACEWRITABLELOCATIONSINSAMEPATH</code>
</p>
</td>
<td valign="top">
<p>
Whether the data, configuration and logs directories
should be created under the installation directory. Defaults to <code class="literal">false</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">INSTALLASSERVICE</code>
</p>
</td>
<td valign="top">
<p>
Whether Elasticsearch is installed and configured as a Windows Service.
Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">STARTAFTERINSTALL</code>
</p>
</td>
<td valign="top">
<p>
Whether the Windows Service is started after installation finishes.
Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">STARTWHENWINDOWSSTARTS</code>
</p>
</td>
<td valign="top">
<p>
Whether the Windows Service is started when Windows is started.
Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">USELOCALSYSTEM</code>
</p>
</td>
<td valign="top">
<p>
Whether the Windows service runs under the LocalSystem Account.
Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">USENETWORKSERVICE</code>
</p>
</td>
<td valign="top">
<p>
Whether the Windows service runs under the NetworkService Account. Defaults
to <code class="literal">false</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">USEEXISTINGUSER</code>
</p>
</td>
<td valign="top">
<p>
Whether the Windows service runs under a specified existing account. Defaults
to <code class="literal">false</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">USER</code>
</p>
</td>
<td valign="top">
<p>
The username for the account under which the Windows service runs. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">PASSWORD</code>
</p>
</td>
<td valign="top">
<p>
The password for the account under which the Windows service runs. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">CLUSTERNAME</code>
</p>
</td>
<td valign="top">
<p>
The name of the cluster. Defaults to <code class="literal">elasticsearch</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">NODENAME</code>
</p>
</td>
<td valign="top">
<p>
The name of the node. Defaults to <code class="literal">%COMPUTERNAME%</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MASTERNODE</code>
</p>
</td>
<td valign="top">
<p>
Whether Elasticsearch is configured as a master node. Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">DATANODE</code>
</p>
</td>
<td valign="top">
<p>
Whether Elasticsearch is configured as a data node. Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">INGESTNODE</code>
</p>
</td>
<td valign="top">
<p>
Whether Elasticsearch is configured as an ingest node. Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">SELECTEDMEMORY</code>
</p>
</td>
<td valign="top">
<p>
The amount of memory to allocate to the JVM heap for Elasticsearch.
Defaults to <code class="literal">2048</code> unless the target machine has less than 4GB in total, in which case
it defaults to 50% of total memory.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">LOCKMEMORY</code>
</p>
</td>
<td valign="top">
<p>
Whether <code class="literal">bootstrap.memory_lock</code> should be used to try to lock the process
address space into RAM. Defaults to <code class="literal">false</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">UNICASTNODES</code>
</p>
</td>
<td valign="top">
<p>
A comma separated list of hosts in the form <code class="literal">host:port</code> or <code class="literal">host</code> to be used for
unicast discovery. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">MINIMUMMASTERNODES</code>
</p>
</td>
<td valign="top">
<p>
The minimum number of master-eligible nodes that must be visible
in order to form a cluster. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">NETWORKHOST</code>
</p>
</td>
<td valign="top">
<p>
The hostname or IP address to bind the node to and <em>publish</em> (advertise) this
host to other nodes in the cluster. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">HTTPPORT</code>
</p>
</td>
<td valign="top">
<p>
The port to use for exposing Elasticsearch APIs over HTTP. Defaults to <code class="literal">9200</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">TRANSPORTPORT</code>
</p>
</td>
<td valign="top">
<p>
The port to use for internal communication between nodes within the cluster.
Defaults to <code class="literal">9300</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">PLUGINS</code>
</p>
</td>
<td valign="top">
<p>
A comma separated list of the plugins to download and install as part of the installation. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">HTTPSPROXYHOST</code>
</p>
</td>
<td valign="top">
<p>
The proxy host to use to download plugins over HTTPS. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">HTTPSPROXYPORT</code>
</p>
</td>
<td valign="top">
<p>
The proxy port to use to download plugins over HTTPS. Defaults to <code class="literal">443</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">HTTPPROXYHOST</code>
</p>
</td>
<td valign="top">
<p>
The proxy host to use to download plugins over HTTP. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">HTTPPROXYPORT</code>
</p>
</td>
<td valign="top">
<p>
The proxy port to use to download plugins over HTTP. Defaults to <code class="literal">80</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">XPACKLICENSE</code>
</p>
</td>
<td valign="top">
<p>
The type of X-Pack license to install, either <code class="literal">Basic</code> or <code class="literal">Trial</code>. Defaults to <code class="literal">Basic</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">XPACKSECURITYENABLED</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license, whether X-Pack Security should be enabled.
Defaults to <code class="literal">true</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">BOOTSTRAPPASSWORD</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license and X-Pack Security enabled, the password to
used to bootstrap the cluster and persisted as the <code class="literal">bootstrap.password</code> setting in the keystore.
Defaults to a randomized value.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">SKIPSETTINGPASSWORDS</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license and X-Pack Security enabled, whether the
installation should skip setting up the built-in users <code class="literal">elastic</code>, <code class="literal">kibana</code> and <code class="literal">logstash_system</code>.
Defaults to <code class="literal">false</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">ELASTICUSERPASSWORD</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license and X-Pack Security enabled, the password
to use for the built-in user <code class="literal">elastic</code>. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">KIBANAUSERPASSWORD</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license and X-Pack Security enabled, the password
to use for the built-in user <code class="literal">kibana</code>. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">LOGSTASHSYSTEMUSERPASSWORD</code>
</p>
</td>
<td valign="top">
<p>
When installing with a <code class="literal">Trial</code> license and X-Pack Security enabled, the password
to use for the built-in user <code class="literal">logstash_system</code>. Defaults to <code class="literal">""</code>
</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>To pass a value, simply append the property name and value using the format <code class="literal">&lt;PROPERTYNAME&gt;="&lt;VALUE&gt;"</code> to
the installation command. For example, to use a different installation directory to the default one and to install <a href="/products/x-pack" class="ulink" target="_top">X-Pack</a>:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /i elasticsearch-6.4.3.msi /qn INSTALLDIR="C:\Custom Install Directory{version}" PLUGINS="x-pack"</pre>
</div>
<p>Consult the <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa367988(v=vs.85).aspx" class="ulink" target="_top">Windows Installer SDK Command-Line Options</a>
for additional rules related to values containing quotation marks.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="msi-installer-enable-indices"></a>Enable automatic creation of X-Pack indices<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>X-Pack will try to automatically create a number of indices within Elasticsearch.
By default, Elasticsearch is configured to allow automatic index creation, and no
additional steps are required. However, if you have disabled automatic index
creation in Elasticsearch, you must configure
<a class="xref" href="docs-index_.html#index-creation" title="Automatic Index Creation"><code class="literal">action.auto_create_index</code></a> in <code class="literal">elasticsearch.yml</code> to allow
X-Pack to create the following indices:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">action.auto_create_index: .monitoring*,.watches,.triggered_watches,.watcher-history*,.ml*</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are using <a href="/products/logstash" class="ulink" target="_top">Logstash</a>
or <a href="/products/beats" class="ulink" target="_top">Beats</a> then you will most likely
require additional index names in your <code class="literal">action.auto_create_index</code> setting, and
the exact value will depend on your local configuration. If you are unsure of
the correct value for your environment, you may consider setting the value to
 <code class="literal">*</code> which will allow automatic creation of all indices.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="msi-installer-command-line-running"></a>Running Elasticsearch from the command line<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/msi-windows-start.asciidoc">edit</a></h3>
</div></div></div>
<p>Once installed, Elasticsearch can be started from the command line, if not installed as a service
and configured to start when installation completes, as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">.\bin\elasticsearch.exe</pre>
</div>
<p>The command line terminal will display output similar to the following:</p>
<div class="imageblock">
<div class="content">
<img src="images/msi_installer/elasticsearch_exe.png" alt="elasticsearch exe">
</div>
</div>
<p>By default, Elasticsearch runs in the foreground, prints its logs to <code class="literal">STDOUT</code> in addition
to the <code class="literal">&lt;cluster name&gt;.log</code> file within <code class="literal">LOGSDIRECTORY</code>, and can be stopped by pressing <code class="literal">Ctrl-C</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="msi-installer-command-line-configuration"></a>Configuring Elasticsearch on the command line<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch loads its configuration from the <code class="literal">%ES_PATH_CONF%\elasticsearch.yml</code>
file by default. The format of this config file is explained in
<a class="xref" href="settings.html" title="Configuring Elasticsearch"><em>Configuring Elasticsearch</em></a>.</p>
<p>Any settings that can be specified in the config file can also be specified on
the command line, using the <code class="literal">-E</code> syntax as follows:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">.\bin\elasticsearch.exe -E cluster.name=my_cluster -E node.name=node_1</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Values that contain spaces must be surrounded with quotes.  For instance <code class="literal">-E path.logs="C:\My Logs\logs"</code>.</p>
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Typically, any cluster-wide settings (like <code class="literal">cluster.name</code>) should be
added to the <code class="literal">elasticsearch.yml</code> config file, while any node-specific settings
such as <code class="literal">node.name</code> could be specified on the command line.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_checking_that_elasticsearch_is_running_3"></a>Checking that Elasticsearch is running<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/check-running.asciidoc">edit</a></h3>
</div></div></div>
<p>You can test that your Elasticsearch node is running by sending an HTTP
request to port <code class="literal">9200</code> on <code class="literal">localhost</code>:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /</pre>
</div>
<div class="console_widget" data-snippet="snippets/43.console"></div>
<p>which should give you a response something like this:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "name" : "Cp8oag6",
  "cluster_name" : "elasticsearch",
  "cluster_uuid" : "AT69_T_DTp-1qgIJlatQqA",
  "version" : {
    "number" : "6.4.3",
    "build_flavor" : "default",
    "build_type" : "zip",
    "build_hash" : "f27399d",
    "build_date" : "2016-03-30T09:51:41.449Z",
    "build_snapshot" : false,
    "lucene_version" : "7.4.0",
    "minimum_wire_compatibility_version" : "1.2.3",
    "minimum_index_compatibility_version" : "1.2.3"
  },
  "tagline" : "You Know, for Search"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="msi-installer-windows-service"></a>Installing Elasticsearch as a Service on Windows<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch can be installed as a service to run in the background or start
automatically at boot time without any user interaction. This can be achieved upon installation
using the following command line options</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">INSTALLASSERVICE=true</code>
</li>
<li class="listitem">
<code class="literal">STARTAFTERINSTALL=true</code>
</li>
<li class="listitem">
<code class="literal">STARTWHENWINDOWSSTARTS=true</code>
</li>
</ul>
</div>
<p>Once installed, Elasticsearch will appear within the Services control panel:</p>
<div id="msi-installer-installed-service" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_installed_service.png" alt="msi installer installed service">
</div>
</div>
<p>and can be stopped and restarted from within the control panel, or from the command line using:</p>
<p>with Command Prompt:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">sc.exe stop Elasticsearch
sc.exe start Elasticsearch</pre>
</div>
<p>with PowerShell:</p>
<div class="pre_wrapper lang-powershell">
<pre class="programlisting prettyprint lang-powershell">Get-Service Elasticsearch | Stop-Service
Get-Service Elasticsearch | Start-Service</pre>
</div>
<p>Changes can be made to <code class="literal">jvm.options</code> and <code class="literal">elasticsearch.yml</code> configuration files to configure the
service after installation. Most changes (like JVM settings) will require a restart of the
service in order to take effect.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="upgrade-msi-gui"></a>Upgrade using the graphical user interface (GUI)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">.msi</code> package supports upgrading an installed version of Elasticsearch to a newer
version. The upgrade process through the GUI handles upgrading all
installed plugins as well as retaining both your data and configuration.</p>
<p>Downloading and double-clicking on a newer version of the <code class="literal">.msi</code> package will launch the GUI wizard.
The first step will list the read-only properties from the previous installation:</p>
<div id="msi-installer-upgrade-notice" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_upgrade_notice.png" alt="msi installer upgrade notice">
</div>
</div>
<p>The next step allows certain configuration options to be changed:</p>
<div id="msi-installer-upgrade-configuration" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_upgrade_configuration.png" alt="msi installer upgrade configuration">
</div>
</div>
<p>Finally, the plugins step allows currently installed plugins to be upgraded or removed, and
for plugins not currently installed, to be downloaded and installed:</p>
<div id="msi-installer-upgrade-plugins" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_upgrade_plugins.png" alt="msi installer upgrade plugins">
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="upgrade-msi-command-line"></a>Upgrade using the command line<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">.msi</code> can also upgrade Elasticsearch using the command line.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>A command line upgrade requires passing the <span class="strong strong"><strong>same</strong></span> command line properties as
used at first install time; the Windows Installer does not remember these properties.</p>
<p>For example, if you originally installed with the command line options <code class="literal">PLUGINS="ingest-geoip"</code> and
<code class="literal">LOCKMEMORY="true"</code>, then you must pass these same values when performing an
upgrade from the command line.</p>
<p>The <span class="strong strong"><strong>exception</strong></span> to this is the <code class="literal">INSTALLDIR</code> parameter (if originally specified), which must be a different directory to the
current installation.
If setting <code class="literal">INSTALLDIR</code>, the final directory in the path <span class="strong strong"><strong>must</strong></span> be the version of Elasticsearch e.g.</p>
<p><code class="literal">C:\Program Files\Elastic\Elasticsearch\6.4.3</code></p>
</div>
</div>
<p>The simplest upgrade, assuming Elasticsearch was installed using all defaults,
is achieved by first navigating to the download directory, then running:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /i elasticsearch-6.4.3.msi /qn</pre>
</div>
<p>Similar to the install process, a path to a log file for the upgrade process can
be passed using the <code class="literal">/l</code> command line argument</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /i elasticsearch-6.4.3.msi /qn /l upgrade.log</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="uninstall-msi-gui"></a>Uninstall using Add/Remove Programs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>The <code class="literal">.msi</code> package handles uninstallation of all directories and files added as part of installation.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Uninstallation will remove <span class="strong strong"><strong>all</strong></span> contents created as part of
installation, <span class="strong strong"><strong>except for data, config or logs directories</strong></span>. It is recommended that you make a copy of your data directory before upgrading or consider using the snapshot API.</p>
</div>
</div>
<p>MSI installer packages do not provide a GUI for uninstallation. An installed program can be uninstalled
by pressing the Windows key and typing <code class="literal">add or remove programs</code> to open the system settings.</p>
<p>Once opened, find the Elasticsearch installation within the list of installed applications, click
and choose <code class="literal">Uninstall</code>:</p>
<div id="msi-installer-uninstall" class="imageblock">
<div class="content">
<img src="images/msi_installer/msi_installer_uninstall.png" alt="msi installer uninstall">
</div>
</div>
<p>This will launch the uninstallation process.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="uninstall-msi-command-line"></a>Uninstall using the command line<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/windows.asciidoc">edit</a></h3>
</div></div></div>
<p>Uninstallation can also be performed from the command line by navigating to the directory
containing the <code class="literal">.msi</code> package and running:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /x elasticsearch-6.4.3.msi /qn</pre>
</div>
<p>Similar to the install process, a path to a log file for the uninstallation process can
be passed using the <code class="literal">/l</code> command line argument</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">start /wait msiexec.exe /x elasticsearch-6.4.3.msi /qn /l uninstall.log</pre>
</div>
</div>

<div class="section exclude">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_next_steps_5"></a>Next steps<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.4/docs/reference/setup/install/next-steps.asciidoc">edit</a></h3>
</div></div></div>
<p>You now have a test Elasticsearch environment set up.  Before you start
serious development or go into production with Elasticsearch, you must do some additional
setup:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Learn how to <a class="xref" href="settings.html" title="Configuring Elasticsearch">configure Elasticsearch</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="important-settings.html" title="Important Elasticsearch configuration">important Elasticsearch settings</a>.
</li>
<li class="listitem">
Configure <a class="xref" href="system-config.html" title="Important System Configuration">important system settings</a>.
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="rpm.html">« Install Elasticsearch with RPM</a>
</span>
<span class="next">
<a href="docker.html">Install Elasticsearch with Docker »</a>
</span>
</div>
</div>
</body>
</html>
