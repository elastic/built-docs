<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Number of threads | Elasticsearch Reference [6.5] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [6.5]"/>
<link rel="up" href="system-config.html" title="Important System Configuration"/>
<link rel="prev" href="vm-max-map-count.html" title="Virtual memory"/>
<link rel="next" href="networkaddress-cache-ttl.html" title="DNS cache settings"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.5"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="6.5"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [6.5]</a></span>
»
<span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
»
<span class="breadcrumb-link"><a href="system-config.html">Important System Configuration</a></span>
»
<span class="breadcrumb-node">Number of threads</span>
</div>
<div class="navheader">
<span class="prev">
<a href="vm-max-map-count.html">« Virtual memory</a>
</span>
<span class="next">
<a href="networkaddress-cache-ttl.html">DNS cache settings »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="max-number-of-threads"></a>Number of threads<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.5/docs/reference/setup/sysconfig/threads.asciidoc">edit</a></h2>
</div></div></div>
<p>Elasticsearch uses a number of thread pools for different types of operations.
It is important that it is able to create new threads whenever needed. Make
sure that the number of threads that the Elasticsearch user can create is at
least 4096.</p>
<p>This can be done by setting <a class="xref" href="setting-system-settings.html#ulimit" title="ulimit"><code class="literal">ulimit -u 4096</code></a> as root before
starting Elasticsearch, or by setting <code class="literal">nproc</code> to <code class="literal">4096</code> in
<a class="xref" href="setting-system-settings.html#limits.conf" title="/etc/security/limits.conf"><code class="literal">/etc/security/limits.conf</code></a>.</p>
<p>The package distributions when run as services under <code class="literal">systemd</code> will configure
the number of threads for the Elasticsearch process automatically. No
additional configuration is required.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="vm-max-map-count.html">« Virtual memory</a>
</span>
<span class="next">
<a href="networkaddress-cache-ttl.html">DNS cache settings »</a>
</span>
</div>
</div>
</body>
</html>
