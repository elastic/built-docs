<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Compound Word Token Filters | Elasticsearch Guide [6.7] | Elastic</title>
<meta class="elastic" name="content" content="Compound Word Token Filters | Elasticsearch Guide [6.7]">

<link rel="home" href="index.html" title="Elasticsearch Guide [6.7]"/>
<link rel="up" href="analysis-tokenfilters.html" title="Token Filters"/>
<link rel="prev" href="analysis-synonym-graph-tokenfilter.html" title="Synonym Graph Token Filter"/>
<link rel="next" href="analysis-reverse-tokenfilter.html" title="Reverse Token Filter"/>
<meta class="elastic" name="product_version" content="6.7"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.7"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="6.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="analysis-synonym-graph-tokenfilter.html">« Synonym Graph Token Filter</a>
</span>
<span class="next">
<a href="analysis-reverse-tokenfilter.html">Reverse Token Filter »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [6.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="analysis.html">Analysis</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="analysis-tokenfilters.html">Token Filters</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Compound Word Token Filters</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.7/docs/reference/analysis/tokenfilters/compound-word-tokenfilter.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="analysis-compound-word-tokenfilter"></a>Compound Word Token Filters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.7/docs/reference/analysis/tokenfilters/compound-word-tokenfilter.asciidoc">edit</a></h2>
</div></div></div>
<p>The <code class="literal">hyphenation_decompounder</code> and <code class="literal">dictionary_decompounder</code> token filters can
decompose compound words found in many German languages into word parts.</p>
<p>Both token filters require a dictionary of word parts, which can be provided
as:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">word_list</code>
</p>
</td>
<td valign="top">
<p>
An array of words, specified inline in the token filter configuration, or
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">word_list_path</code>
</p>
</td>
<td valign="top">
<p>
The path (either absolute or relative to the <code class="literal">config</code> directory) to a UTF-8
encoded file containing one word per line.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<h3><a id="_hyphenation_decompounder"></a>Hyphenation decompounder<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.7/docs/reference/analysis/tokenfilters/compound-word-tokenfilter.asciidoc">edit</a></h3>
<p>The <code class="literal">hyphenation_decompounder</code> uses hyphenation grammars to find potential
subwords that are then checked against the word dictionary. The quality of the
output tokens is directly connected to the quality of the grammar file you
use. For languages like German they are quite good.</p>
<p>XML based hyphenation grammar files can be found in the
<a href="http://offo.sourceforge.net/#FOP+XML+Hyphenation+Patterns" class="ulink" target="_top">Objects For Formatting Objects</a>
(OFFO) Sourceforge project. Currently only FOP v1.2 compatible hyphenation files
are supported. You can download <a href="https://sourceforge.net/projects/offo/files/offo-hyphenation/1.2/offo-hyphenation_v1.2.zip/download" class="ulink" target="_top">offo-hyphenation_v1.2.zip</a>
directly and look in the <code class="literal">offo-hyphenation/hyph/</code> directory.
Credits for the hyphenation code go to the Apache FOP project .</p>
<h3><a id="_dictionary_decompounder"></a>Dictionary decompounder<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.7/docs/reference/analysis/tokenfilters/compound-word-tokenfilter.asciidoc">edit</a></h3>
<p>The <code class="literal">dictionary_decompounder</code> uses a brute force approach in conjunction with
only the word dictionary to find subwords in a compound word. It is much
slower than the hyphenation decompounder but can be used as a first start to
check the quality of your dictionary.</p>
<h3><a id="_compound_token_filter_parameters"></a>Compound token filter parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.7/docs/reference/analysis/tokenfilters/compound-word-tokenfilter.asciidoc">edit</a></h3>
<p>The following parameters can be used to configure a compound word token
filter:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">type</code>
</p>
</td>
<td valign="top">
<p>
Either <code class="literal">dictionary_decompounder</code> or <code class="literal">hyphenation_decompounder</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">word_list</code>
</p>
</td>
<td valign="top">
<p>
A array containing a list of words to use for the word dictionary.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">word_list_path</code>
</p>
</td>
<td valign="top">
<p>
The path (either absolute or relative to the <code class="literal">config</code> directory) to the word dictionary.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">hyphenation_patterns_path</code>
</p>
</td>
<td valign="top">
<p>
The path (either absolute or relative to the <code class="literal">config</code> directory) to a FOP XML hyphenation pattern file. (required for hyphenation)
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">min_word_size</code>
</p>
</td>
<td valign="top">
<p>
Minimum word size. Defaults to 5.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">min_subword_size</code>
</p>
</td>
<td valign="top">
<p>
Minimum subword size. Defaults to 2.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">max_subword_size</code>
</p>
</td>
<td valign="top">
<p>
Maximum subword size. Defaults to 15.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">only_longest_match</code>
</p>
</td>
<td valign="top">
<p>
Whether to include only the longest matching subword or not.  Defaults to <code class="literal">false</code>
</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>Here is an example:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT /compound_word_example
{
    "index": {
        "analysis": {
            "analyzer": {
                "my_analyzer": {
                    "type": "custom",
                    "tokenizer": "standard",
                    "filter": ["dictionary_decompounder", "hyphenation_decompounder"]
                }
            },
            "filter": {
                "dictionary_decompounder": {
                    "type": "dictionary_decompounder",
                    "word_list": ["one", "two", "three"]
                },
                "hyphenation_decompounder": {
                    "type" : "hyphenation_decompounder",
                    "word_list_path": "analysis/example_word_list.txt",
                    "hyphenation_patterns_path": "analysis/hyphenation_patterns.xml",
                    "max_subword_size": 22
                }
            }
        }
    }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/1246.console"></div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="analysis-synonym-graph-tokenfilter.html">« Synonym Graph Token Filter</a>
</span>
<span class="next">
<a href="analysis-reverse-tokenfilter.html">Reverse Token Filter »</a>
</span>
</div>
</body>
</html>
