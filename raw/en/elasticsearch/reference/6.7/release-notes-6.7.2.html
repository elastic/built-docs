<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elasticsearch version 6.7.2 | Elasticsearch Reference [6.7] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [6.7]"/>
<link rel="up" href="es-release-notes.html" title="Release Notes"/>
<link rel="prev" href="es-release-notes.html" title="Release Notes"/>
<link rel="next" href="release-notes-6.7.1.html" title="Elasticsearch version 6.7.1"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.7"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="6.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [6.7]</a></span>
»
<span class="breadcrumb-link"><a href="es-release-notes.html">Release Notes</a></span>
»
<span class="breadcrumb-node">Elasticsearch version 6.7.2</span>
</div>
<div class="navheader">
<span class="prev">
<a href="es-release-notes.html">« Release Notes</a>
</span>
<span class="next">
<a href="release-notes-6.7.1.html">Elasticsearch version 6.7.1 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-6.7.2"></a>Elasticsearch version 6.7.2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.7/docs/reference/release-notes/6.7.asciidoc">edit</a></h2>
</div></div></div>
<p>Also see <a class="xref" href="breaking-changes-6.7.html" title="Breaking changes in 6.7">Breaking changes in 6.7</a>.</p>
<h3><a id="enhancement-6.7.2"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.7/docs/reference/release-notes/6.7.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
CCR
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reduce security permissions in CCR plugin <a href="https://github.com/elastic/elasticsearch/pull/41391" class="ulink" target="_top">#41391</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid background sync on relocated primary <a href="https://github.com/elastic/elasticsearch/pull/40800" class="ulink" target="_top">#40800</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40731" class="ulink" target="_top">#40731</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Be lenient when parsing build flavor and type on the wire <a href="https://github.com/elastic/elasticsearch/pull/40734" class="ulink" target="_top">#40734</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/39378" class="ulink" target="_top">#39378</a>, <a href="https://github.com/elastic/elasticsearch/issues/40723" class="ulink" target="_top">#40723</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow xpack.ml.max_machine_memory_percent higher than 100% <a href="https://github.com/elastic/elasticsearch/pull/41193" class="ulink" target="_top">#41193</a>
</li>
<li class="listitem">
Add the "time" system call to the syscall filter <a href="https://github.com/elastic/ml-cpp/pull/459" class="ulink" target="_top">#459</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/41101" class="ulink" target="_top">#41101</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Mark Deleted Snapshot Directories with Tombstones <a href="https://github.com/elastic/elasticsearch/pull/40228" class="ulink" target="_top">#40228</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/39852" class="ulink" target="_top">#39852</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="bug-6.7.2"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.7/docs/reference/release-notes/6.7.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Short-circuit rebalancing when disabled <a href="https://github.com/elastic/elasticsearch/pull/40966" class="ulink" target="_top">#40966</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40942" class="ulink" target="_top">#40942</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix role mapping DN field wildcards for users with NULL DNs <a href="https://github.com/elastic/elasticsearch/pull/41343" class="ulink" target="_top">#41343</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/41305" class="ulink" target="_top">#41305</a>)
</li>
<li class="listitem">
Fix Has Privilege API check on restricted indices <a href="https://github.com/elastic/elasticsearch/pull/41226" class="ulink" target="_top">#41226</a>
</li>
<li class="listitem">
put mapping authorization for alias with write-index and multiple read indices <a href="https://github.com/elastic/elasticsearch/pull/40834" class="ulink" target="_top">#40834</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40831" class="ulink" target="_top">#40831</a>)
</li>
<li class="listitem">
Use alias name from rollover request to query indices stats <a href="https://github.com/elastic/elasticsearch/pull/40774" class="ulink" target="_top">#40774</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40771" class="ulink" target="_top">#40771</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CCR
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Suppress lease background sync failures if stopping <a href="https://github.com/elastic/elasticsearch/pull/40902" class="ulink" target="_top">#40902</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix NPE on Stale Index in IndicesService <a href="https://github.com/elastic/elasticsearch/pull/38891" class="ulink" target="_top">#38891</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/38845" class="ulink" target="_top">#38845</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/ILM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow ILM to stop if indices have nonexistent policies <a href="https://github.com/elastic/elasticsearch/pull/40820" class="ulink" target="_top">#40820</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40824" class="ulink" target="_top">#40824</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Properly handle Monitoring exporters all disabled <a href="https://github.com/elastic/elasticsearch/pull/40920" class="ulink" target="_top">#40920</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40919" class="ulink" target="_top">#40919</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Features/Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use setIfSeqNo(&#8230;&#8203;) and setIfPrimaryTerm(&#8230;&#8203;) for updating watch status if all nodes are at least on 6.7.0 <a href="https://github.com/elastic/elasticsearch/pull/40888" class="ulink" target="_top">#40888</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40841" class="ulink" target="_top">#40841</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Unified highlighter should ignore terms that target the _id field <a href="https://github.com/elastic/elasticsearch/pull/41275" class="ulink" target="_top">#41275</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/37525" class="ulink" target="_top">#37525</a>)
</li>
<li class="listitem">
Unified highlighter should respect no_match_size with number_of_fragments set to 0 <a href="https://github.com/elastic/elasticsearch/pull/41069" class="ulink" target="_top">#41069</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/41066" class="ulink" target="_top">#41066</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow single digit milliseconds in strict date parsing <a href="https://github.com/elastic/elasticsearch/pull/40676" class="ulink" target="_top">#40676</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40403" class="ulink" target="_top">#40403</a>)
</li>
<li class="listitem">
Bat scripts to work with JAVA_HOME with parentheses <a href="https://github.com/elastic/elasticsearch/pull/39712" class="ulink" target="_top">#39712</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/30606" class="ulink" target="_top">#30606</a>, <a href="https://github.com/elastic/elasticsearch/issues/33405" class="ulink" target="_top">#33405</a>, <a href="https://github.com/elastic/elasticsearch/issues/38578" class="ulink" target="_top">#38578</a>, <a href="https://github.com/elastic/elasticsearch/issues/38624" class="ulink" target="_top">#38624</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Suppress illegal access in plugin install <a href="https://github.com/elastic/elasticsearch/pull/41620" class="ulink" target="_top">#41620</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/41478" class="ulink" target="_top">#41478</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Correct bug in ScriptDocValues <a href="https://github.com/elastic/elasticsearch/pull/40864" class="ulink" target="_top">#40864</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40488" class="ulink" target="_top">#40488</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Always check for archiving broken index settings <a href="https://github.com/elastic/elasticsearch/pull/41209" class="ulink" target="_top">#41209</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Checking if p-tasks metadata is null before updating state <a href="https://github.com/elastic/elasticsearch/pull/41091" class="ulink" target="_top">#41091</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/41090" class="ulink" target="_top">#41090</a>)
</li>
<li class="listitem">
Write header to autodetect before it is visible to other calls <a href="https://github.com/elastic/elasticsearch/pull/41085" class="ulink" target="_top">#41085</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40385" class="ulink" target="_top">#40385</a>)
</li>
<li class="listitem">
Fix unsafe publication of invalid license enforcer <a href="https://github.com/elastic/elasticsearch/pull/40985" class="ulink" target="_top">#40985</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40957" class="ulink" target="_top">#40957</a>)
</li>
<li class="listitem">
Scrolling datafeed should clear scroll contexts on error <a href="https://github.com/elastic/elasticsearch/pull/40773" class="ulink" target="_top">#40773</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40772" class="ulink" target="_top">#40772</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Optimise rejection of out-of-range <code class="literal">long</code> values <a href="https://github.com/elastic/elasticsearch/pull/40325" class="ulink" target="_top">#40325</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/26137" class="ulink" target="_top">#26137</a>, <a href="https://github.com/elastic/elasticsearch/issues/40323" class="ulink" target="_top">#40323</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Resync should not send operations without sequence number <a href="https://github.com/elastic/elasticsearch/pull/40433" class="ulink" target="_top">#40433</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Rollup
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove timezone validation on rollup range queries <a href="https://github.com/elastic/elasticsearch/pull/40647" class="ulink" target="_top">#40647</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix bug with optimization of null related conditionals <a href="https://github.com/elastic/elasticsearch/pull/41355" class="ulink" target="_top">#41355</a>
</li>
<li class="listitem">
Predicate diff takes into account all values <a href="https://github.com/elastic/elasticsearch/pull/41346" class="ulink" target="_top">#41346</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40835" class="ulink" target="_top">#40835</a>)
</li>
<li class="listitem">
Fix LIMIT bug in agg sorting <a href="https://github.com/elastic/elasticsearch/pull/41258" class="ulink" target="_top">#41258</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40984" class="ulink" target="_top">#40984</a>)
</li>
<li class="listitem">
Allow current_date/time/timestamp to be also used as a function escape pattern <a href="https://github.com/elastic/elasticsearch/pull/41254" class="ulink" target="_top">#41254</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/41240" class="ulink" target="_top">#41240</a>)
</li>
<li class="listitem">
Translate MIN/MAX on keyword fields as FIRST/LAST <a href="https://github.com/elastic/elasticsearch/pull/41247" class="ulink" target="_top">#41247</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/37936" class="ulink" target="_top">#37936</a>, <a href="https://github.com/elastic/elasticsearch/issues/41195" class="ulink" target="_top">#41195</a>)
</li>
<li class="listitem">
Tweak pattern matching in SYS TABLES <a href="https://github.com/elastic/elasticsearch/pull/41243" class="ulink" target="_top">#41243</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40775" class="ulink" target="_top">#40775</a>)
</li>
<li class="listitem">
Change schema calls to empty set <a href="https://github.com/elastic/elasticsearch/pull/41034" class="ulink" target="_top">#41034</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/41028" class="ulink" target="_top">#41028</a>)
</li>
<li class="listitem">
Fix display size for DATE/DATETIME <a href="https://github.com/elastic/elasticsearch/pull/40669" class="ulink" target="_top">#40669</a>
</li>
<li class="listitem">
Use ResultSets over exceptions in metadata <a href="https://github.com/elastic/elasticsearch/pull/40641" class="ulink" target="_top">#40641</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40533" class="ulink" target="_top">#40533</a>)
</li>
<li class="listitem">
Fix catalog filtering in SYS COLUMNS <a href="https://github.com/elastic/elasticsearch/pull/40583" class="ulink" target="_top">#40583</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40582" class="ulink" target="_top">#40582</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Full text queries should not always ignore unmapped fields <a href="https://github.com/elastic/elasticsearch/pull/41062" class="ulink" target="_top">#41062</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/41022" class="ulink" target="_top">#41022</a>)
</li>
<li class="listitem">
Fix rewrite of inner queries in DisMaxQueryBuilder <a href="https://github.com/elastic/elasticsearch/pull/40956" class="ulink" target="_top">#40956</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40953" class="ulink" target="_top">#40953</a>)
</li>
<li class="listitem">
Fix alias resolution runtime complexity. <a href="https://github.com/elastic/elasticsearch/pull/40263" class="ulink" target="_top">#40263</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/40248" class="ulink" target="_top">#40248</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix unsafe publication in opt-out query cache <a href="https://github.com/elastic/elasticsearch/pull/40957" class="ulink" target="_top">#40957</a>
</li>
<li class="listitem">
Remove dynamic objects from security index <a href="https://github.com/elastic/elasticsearch/pull/40499" class="ulink" target="_top">#40499</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/35460" class="ulink" target="_top">#35460</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix Broken Index Shard Snapshot File Preventing Snapshot Creation <a href="https://github.com/elastic/elasticsearch/pull/41310" class="ulink" target="_top">#41310</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/41304" class="ulink" target="_top">#41304</a>)
</li>
<li class="listitem">
Do not create missing directories in readonly repo <a href="https://github.com/elastic/elasticsearch/pull/41249" class="ulink" target="_top">#41249</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/26909" class="ulink" target="_top">#26909</a>, <a href="https://github.com/elastic/elasticsearch/issues/41009" class="ulink" target="_top">#41009</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="upgrade-6.7.2"></a>Upgrades<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.7/docs/reference/release-notes/6.7.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Bump the bundled JDK to 12.0.1 <a href="https://github.com/elastic/elasticsearch/pull/41627" class="ulink" target="_top">#41627</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="es-release-notes.html">« Release Notes</a>
</span>
<span class="next">
<a href="release-notes-6.7.1.html">Elasticsearch version 6.7.1 »</a>
</span>
</div>
</div>
</body>
</html>
