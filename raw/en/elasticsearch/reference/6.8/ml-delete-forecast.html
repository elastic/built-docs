<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Delete forecast API | Elasticsearch Guide [6.8] | Elastic</title>
<meta class="elastic" name="content" content="Delete forecast API | Elasticsearch Guide [6.8]">

<link rel="home" href="index.html" title="Elasticsearch Guide [6.8]"/>
<link rel="up" href="ml-apis.html" title="Machine learning APIs"/>
<link rel="prev" href="ml-delete-filter.html" title="Delete filter API"/>
<link rel="next" href="ml-delete-job.html" title="Delete jobs API"/>
<meta class="elastic" name="product_version" content="6.8"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/6.8"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="6.8"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<p>
  <strong>NOTE</strong>: You are looking at documentation for an older release. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div class="navheader">
<span class="prev">
<a href="ml-delete-filter.html">« Delete filter API</a>
</span>
<span class="next">
<a href="ml-delete-job.html">Delete jobs API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [6.8]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="xpack-api.html">X-Pack APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-apis.html">Machine learning APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Delete forecast API</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/ml/apis/delete-forecast.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ml-delete-forecast"></a>Delete forecast API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/ml/apis/delete-forecast.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Deletes forecasts from a machine learning job.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_request_45"></a>Request<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/ml/apis/delete-forecast.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">DELETE _xpack/ml/anomaly_detectors/&lt;job_id&gt;/_forecast</code><br></p>
<p><code class="literal">DELETE _xpack/ml/anomaly_detectors/&lt;job_id&gt;/_forecast/&lt;forecast_id&gt;</code><br></p>
<p><code class="literal">DELETE _xpack/ml/anomaly_detectors/&lt;job_id&gt;/_forecast/_all</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_description_49"></a>Description<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/ml/apis/delete-forecast.asciidoc">edit</a></h3>
</div></div></div>
<p>By default, forecasts are retained for 14 days. You can specify a different
retention period with the <code class="literal">expires_in</code> parameter in the <a class="xref" href="ml-forecast.html" title="Forecast jobs API">forecast jobs API</a>. The delete forecast API enables you to delete one or more forecasts before they expire.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>When you delete a job its associated forecasts are deleted.</p>
</div>
</div>
<p>For more information, see <a href="/guide/en/machine-learning/6.8/ml-overview.html#ml-forecasting" class="ulink" target="_top">Forecasting the Future</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_path_parameters_33"></a>Path Parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/ml/apis/delete-forecast.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">job_id</code> (required)
</span>
</dt>
<dd>
(string) Identifier for the job.
</dd>
<dt>
<span class="term">
<code class="literal">forecast_id</code>
</span>
</dt>
<dd>
(string) A comma-separated list of forecast identifiers.
If you do not specify this optional parameter or if you specify <code class="literal">_all</code>, the
API deletes all forecasts from the job.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_request_parameters_13"></a>Request Parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/ml/apis/delete-forecast.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_forecasts</code>
</span>
</dt>
<dd>
(boolean) Specifies whether an error occurs when there are no forecasts. In
particular, if this parameter is set to <code class="literal">false</code> and there are no forecasts
associated with the job, attempts to delete all forecasts return an error.
The default value is <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(time units) Specifies the period of time to wait for the completion of the
delete operation. When this period of time elapses, the API fails and returns
an error. The default value is <code class="literal">30s</code>. For more information about time units,
see <a class="xref" href="common-options.html#time-units" title="Time units">Time units</a>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_authorization_39"></a>Authorization<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/ml/apis/delete-forecast.asciidoc">edit</a></h3>
</div></div></div>
<p>You must have <code class="literal">manage_ml</code>, or <code class="literal">manage</code> cluster privileges to use this API.
For more information, see <a class="xref" href="security-privileges.html" title="Security privileges">Security privileges</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_examples_48"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/6.8/docs/reference/ml/apis/delete-forecast.asciidoc">edit</a></h3>
</div></div></div>
<p>The following example deletes all forecasts from the <code class="literal">total-requests</code> job:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">DELETE _xpack/ml/anomaly_detectors/total-requests/_forecast/_all</pre>
</div>
<div class="console_widget" data-snippet="snippets/1619.console"></div>
<p>If the request does not encounter errors, you receive the following result:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">{
  "acknowledged": true
}</pre>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ml-delete-filter.html">« Delete filter API</a>
</span>
<span class="next">
<a href="ml-delete-job.html">Delete jobs API »</a>
</span>
</div>
</body>
</html>
