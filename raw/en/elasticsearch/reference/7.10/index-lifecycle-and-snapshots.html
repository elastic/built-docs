<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Restore a managed data stream or index | Elasticsearch Reference [7.10] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.10]"/>
<link rel="up" href="index-lifecycle-management.html" title="ILM: Manage the index lifecycle"/>
<link rel="prev" href="skipping-rollover.html" title="Skip rollover"/>
<link rel="next" href="monitor-elasticsearch-cluster.html" title="Monitor a cluster"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.10"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.10"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.10]</a></span>
»
<span class="breadcrumb-link"><a href="index-lifecycle-management.html">ILM: Manage the index lifecycle</a></span>
»
<span class="breadcrumb-node">Restore a managed data stream or index</span>
</div>
<div class="navheader">
<span class="prev">
<a href="skipping-rollover.html">« Skip rollover</a>
</span>
<span class="next">
<a href="monitor-elasticsearch-cluster.html">Monitor a cluster »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="index-lifecycle-and-snapshots"></a>Restore a managed data stream or index<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/ilm/ilm-and-snapshots.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<p>When you restore a managed index or a data stream with managed backing indices,
ILM automatically resumes executing the restored indices' policies.
A restored index&#8217;s <code class="literal">min_age</code> is relative to when it was originally created or rolled over,
not its restoration time.
Policy actions are performed on the same schedule whether or not
an index has been restored from a snapshot.
If you restore an index that was accidentally deleted half way through its month long lifecycle,
it proceeds normally through the last two weeks of its lifecycle.</p>
<p>In some cases, you might want to prevent ILM from immediately executing
its policy on a restored index.
For example, if you are restoring an older snapshot you might want to
prevent it from rapidly progressing through all of its lifecycle phases.
You might want to add or update documents before it&#8217;s marked read-only or shrunk,
or prevent the index from being immediately deleted.</p>
<p>To prevent ILM from executing a restored index&#8217;s policy:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Temporarily <a class="xref" href="ilm-stop.html" title="Stop index lifecycle management API">stop ILM</a>. This pauses execution of <em>all</em> ILM policies.
</li>
<li class="listitem">
Restore the snapshot.
</li>
<li class="listitem">
<a class="xref" href="ilm-remove-policy.html" title="Remove policy from index API">Remove the policy</a> from the index or perform whatever actions you need to
before ILM resumes policy execution.
</li>
<li class="listitem">
<a class="xref" href="ilm-start.html" title="Start index lifecycle management API">Restart ILM</a> to resume policy execution.
</li>
</ol>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="skipping-rollover.html">« Skip rollover</a>
</span>
<span class="next">
<a href="monitor-elasticsearch-cluster.html">Monitor a cluster »</a>
</span>
</div>
</div>
</body>
</html>
