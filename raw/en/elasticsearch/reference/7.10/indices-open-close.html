<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Open index API | Elasticsearch Reference [7.10] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.10]"/>
<link rel="up" href="indices.html" title="Index APIs"/>
<link rel="prev" href="indices-template-exists.html" title="Index template exists API"/>
<link rel="next" href="indices-put-template.html" title="Put index template API"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.10"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.10"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.10]</a></span>
»
<span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
»
<span class="breadcrumb-link"><a href="indices.html">Index APIs</a></span>
»
<span class="breadcrumb-node">Open index API</span>
</div>
<div class="navheader">
<span class="prev">
<a href="indices-template-exists.html">« Index template exists API</a>
</span>
<span class="next">
<a href="indices-put-template.html">Put index template API »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="indices-open-close"></a>Open index API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/indices/open-close.asciidoc">edit</a></h2>
</div></div></div>

<p>Opens a closed index. For data streams, the API
opens any closed backing indices.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST /my-index-000001/_open</pre>
</div>
<div class="console_widget" data-snippet="snippets/1909.console"></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="open-index-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/indices/open-close.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST /&lt;target&gt;/_open</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="open-index-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/indices/open-close.asciidoc">edit</a></h3>
</div></div></div>
<p>You can use the open index API to re-open closed indices. If the request targets
a data stream, the request re-opens any of the stream&#8217;s closed backing indices.</p>
<p>A closed index is blocked for read/write operations and does not allow
all operations that opened indices allow. It is not possible to index
documents or to search for documents in a closed index. This allows
closed indices to not have to maintain internal data structures for
indexing or searching documents, resulting in a smaller overhead on
the cluster.</p>
<p>When opening or closing an index, the master is responsible for
restarting the index shards to reflect the new state of the index.
The shards will then go through the normal recovery process. The
data of opened/closed indices is automatically replicated by the
cluster to ensure that enough shard copies are safely kept around
at all times.</p>
<p>You can open and close multiple indices. An error is thrown
if the request explicitly refers to a missing index. This behaviour can be
disabled using the <code class="literal">ignore_unavailable=true</code> parameter.</p>
<p>All indices can be opened or closed at once using <code class="literal">_all</code> as the index name
or specifying patterns that identify them all (e.g. <code class="literal">*</code>).</p>
<p>Identifying indices via wildcards or <code class="literal">_all</code> can be disabled by setting the
<code class="literal">action.destructive_requires_name</code> flag in the config file to <code class="literal">true</code>.
This setting can also be changed via the cluster update settings api.</p>
<p>Closed indices consume a significant amount of disk-space which can cause
problems in managed environments. Closing indices can be disabled via the cluster settings
API by setting <code class="literal">cluster.indices.close.enable</code> to <code class="literal">false</code>. The default is <code class="literal">true</code>.</p>
<p>The current write index on a data stream cannot be closed. In order to close
the current write index, the data stream must first be
<a class="xref" href="indices-rollover-index.html#rollover-data-stream-ex" title="Roll over a data stream">rolled over</a> so that a new write index is created
and then the previous write index can be closed.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="open-index-api-wait-for-active-shards"></a>Wait for active shards<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/indices/open-close.asciidoc">edit</a></h4>
</div></div></div>
<p>Because opening or closing an index allocates its shards, the
<a class="xref" href="indices-create-index.html#create-index-wait-for-active-shards" title="Wait for active shards"><code class="literal">wait_for_active_shards</code></a> setting on
index creation applies to the <code class="literal">_open</code> and <code class="literal">_close</code> index actions as well.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="open-index-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/indices/open-close.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;target&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Comma-separated list or wildcard (<code class="literal">*</code>) expression of data streams, indices, and
index aliases used to limit the request.
</p>
<p>To target all data streams and indices, use <code class="literal">_all</code> or <code class="literal">*</code>.</p>
<p>To disallow use of <code class="literal">_all</code> or wildcard expressions,
change the <code class="literal">action.destructive_requires_name</code> cluster setting to <code class="literal">true</code>.
You can update this setting in the <code class="literal">elasticsearch.yml</code> file
or using the <a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">cluster update settings</a> API.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="open-index-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/indices/open-close.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_indices</code>
</span>
</dt>
<dd>
<p>
(Optional, boolean)
If <code class="literal">false</code>, the request returns an error if any wildcard expression,
<a class="xref" href="indices-aliases.html" title="Update index alias API">index alias</a>, or <code class="literal">_all</code> value targets only missing or closed
indices. This behavior applies even if the request targets other open indices.
For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index
starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</p>
<p>Defaults to <code class="literal">true</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">expand_wildcards</code>
</span>
</dt>
<dd>
<p>(Optional, string) Controls what kind of indices that wildcard expressions can
expand to. Multiple values are accepted when separated by a comma, as in
<code class="literal">open,hidden</code>. Valid values are:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">all</code>
</span>
</dt>
<dd>
Expand to open and closed indices, including <a class="xref" href="index-modules.html#index-hidden">hidden indices</a>.
</dd>
<dt>
<span class="term">
<code class="literal">open</code>
</span>
</dt>
<dd>
Expand only to open indices.
</dd>
<dt>
<span class="term">
<code class="literal">closed</code>
</span>
</dt>
<dd>
Expand only to closed indices.
</dd>
<dt>
<span class="term">
<code class="literal">hidden</code>
</span>
</dt>
<dd>
Expansion of wildcards will include <a class="xref" href="index-modules.html#index-hidden">hidden indices</a>.
Must be combined with <code class="literal">open</code>, <code class="literal">closed</code>, or both.
</dd>
<dt>
<span class="term">
<code class="literal">none</code>
</span>
</dt>
<dd>
Wildcard expressions are not accepted.
</dd>
</dl>
</div>
<p>Defaults to <code class="literal">closed</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">ignore_unavailable</code>
</span>
</dt>
<dd>
(Optional, boolean) If <code class="literal">true</code>, missing or closed indices are not included in the
response. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">wait_for_active_shards</code>
</span>
</dt>
<dd>
<p>(Optional, string) The number of shard copies that must be active before
proceeding with the operation. Set to <code class="literal">all</code> or any positive integer up
to the total number of shards in the index (<code class="literal">number_of_replicas+1</code>).
Default: 1, the primary shard.</p>
<p>See <a class="xref" href="docs-index_.html#index-wait-for-active-shards" title="Active shards">Active shards</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="common-options.html#time-units" title="Time units">time units</a>) Specifies the period of time to wait for
a connection to the master node. If no response is received before the timeout
expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="common-options.html#time-units" title="Time units">time units</a>) Specifies the period of time to wait for
a response. If no response is received before the timeout expires, the request
fails and returns an error. Defaults to <code class="literal">30s</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="open-index-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.10/docs/reference/indices/open-close.asciidoc">edit</a></h3>
</div></div></div>
<p>The following request re-opens a closed index named <code class="literal">my-index-000001</code>.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST /my-index-000001/_open</pre>
</div>
<div class="console_widget" data-snippet="snippets/1910.console"></div>
<p>The API returns the following response:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "acknowledged" : true,
  "shards_acknowledged" : true
}</pre>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="indices-template-exists.html">« Index template exists API</a>
</span>
<span class="next">
<a href="indices-put-template.html">Put index template API »</a>
</span>
</div>
</div>
</body>
</html>
