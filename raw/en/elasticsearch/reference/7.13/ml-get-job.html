<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Get anomaly detection jobs API | Elasticsearch Guide [7.13] | Elastic</title>
<meta class="elastic" name="content" content="Get anomaly detection jobs API | Elasticsearch Guide [7.13]">

<link rel="home" href="index.html" title="Elasticsearch Guide [7.13]"/>
<link rel="up" href="ml-apis.html" title="Machine learning anomaly detection APIs"/>
<link rel="prev" href="ml-get-influencer.html" title="Get influencers API"/>
<link rel="next" href="ml-get-job-stats.html" title="Get anomaly detection job statistics API"/>
<meta class="elastic" name="product_version" content="7.13"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.13"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.13"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="ml-get-influencer.html">« Get influencers API</a>
</span>
<span class="next">
<a href="ml-get-job-stats.html">Get anomaly detection job statistics API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.13]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-apis.html">Machine learning anomaly detection APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Get anomaly detection jobs API</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/ml/anomaly-detection/apis/get-job.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/api/doc/elasticsearch/operation/operation-ml-get-jobs">latest documentation</a>.
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="ml-get-job"></a>Get anomaly detection jobs API</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/ml/anomaly-detection/apis/get-job.asciidoc">edit</a></div>
</div></div></div>

<p>Retrieves configuration information for anomaly detection jobs.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-job-request"></a>Request</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/ml/anomaly-detection/apis/get-job.asciidoc">edit</a></div>
</div></div></div>
<p><code class="literal">GET _ml/anomaly_detectors/&lt;job_id&gt;</code><br></p>
<p><code class="literal">GET _ml/anomaly_detectors/&lt;job_id&gt;,&lt;job_id&gt;</code><br></p>
<p><code class="literal">GET _ml/anomaly_detectors/</code><br></p>
<p><code class="literal">GET _ml/anomaly_detectors/_all</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-job-prereqs"></a>Prerequisites</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/ml/anomaly-detection/apis/get-job.asciidoc">edit</a></div>
</div></div></div>
<p>Requires the <code class="literal">monitor_ml</code> cluster privilege. This privilege is included in the
<code class="literal">machine_learning_user</code> built-in role.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-job-desc"></a>Description</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/ml/anomaly-detection/apis/get-job.asciidoc">edit</a></div>
</div></div></div>
<p>You can get information for multiple anomaly detection jobs in a single API request by
using a group name, a comma-separated list of jobs, or a wildcard expression.
You can get information for all anomaly detection jobs by using <code class="literal">_all</code>, by specifying
<code class="literal">*</code> as the <code class="literal">&lt;job_id&gt;</code>, or by omitting the <code class="literal">&lt;job_id&gt;</code>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>This API returns a maximum of 10,000 jobs.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-job-path-parms"></a>Path parameters</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/ml/anomaly-detection/apis/get-job.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;job_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string)
Identifier for the anomaly detection job. It can be a job identifier, a group name, or a
wildcard expression. If you do not specify one of these options, the API returns
information for all anomaly detection jobs.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-job-query-parms"></a>Query parameters</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/ml/anomaly-detection/apis/get-job.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_jobs</code>
</span>
</dt>
<dd>
(Optional, Boolean) <span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">7.10</span>]
<span class="Admonishment-detail">
Deprecated in 7.10. Use <code class="literal">allow_no_match</code> instead.
</span>
</span>
</dd>
<dt>
<span class="term">
<code class="literal">allow_no_match</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
Specifies what to do when the request:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Contains wildcard expressions and there are no jobs that match.
</li>
<li class="listitem">
Contains the <code class="literal">_all</code> string or no identifiers and there are no matches.
</li>
<li class="listitem">
Contains wildcard expressions and there are only partial matches.
</li>
</ul>
</div>
<p>The default value is <code class="literal">true</code>, which returns an empty <code class="literal">jobs</code> array
when there are no matches and the subset of results when there are partial
matches. If this parameter is <code class="literal">false</code>, the request returns a <code class="literal">404</code> status code
when there are no matches or only partial matches.</p>
</dd>
<dt>
<span class="term">
<code class="literal">exclude_generated</code>
</span>
</dt>
<dd>
(Optional, Boolean)
Indicates if certain fields should be removed from the configuration on
retrieval. This allows the configuration to be in an acceptable format to be retrieved
and then added to another cluster. Default is false.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-job-results"></a>Response body</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/ml/anomaly-detection/apis/get-job.asciidoc">edit</a></div>
</div></div></div>
<p>The API returns an array of anomaly detection job resources. For the full list of
properties, see <a class="xref" href="ml-put-job.html#ml-put-job-request-body" title="Request body">create anomaly detection jobs API</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">create_time</code>
</span>
</dt>
<dd>
(string) The time the job was created. For example, <code class="literal">1491007356077</code>. This
property is informational; you cannot change its value.
</dd>
<dt>
<span class="term">
<code class="literal">finished_time</code>
</span>
</dt>
<dd>
(string) If the job closed or failed, this is the time the job finished.
Otherwise, it is <code class="literal">null</code>. This property is informational; you cannot change its
value.
</dd>
<dt>
<span class="term">
<code class="literal">job_type</code>
</span>
</dt>
<dd>
(string) Reserved for future use, currently set to <code class="literal">anomaly_detector</code>.
</dd>
<dt>
<span class="term">
<code class="literal">job_version</code>
</span>
</dt>
<dd>
(string) The version of Elasticsearch that existed on the node when the job was created.
</dd>
<dt>
<span class="term">
<code class="literal">model_snapshot_id</code>
</span>
</dt>
<dd>
(string)
A numerical character string that uniquely identifies the model snapshot.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-job-response-codes"></a>Response codes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/ml/anomaly-detection/apis/get-job.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">404</code> (Missing resources)
</span>
</dt>
<dd>
If <code class="literal">allow_no_match</code> is <code class="literal">false</code>, this code indicates that there are no
resources that match the request or only partial matches for the request.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-job-example"></a>Examples</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.13/docs/reference/ml/anomaly-detection/apis/get-job.asciidoc">edit</a></div>
</div></div></div>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">GET _ml/anomaly_detectors/high_sum_total_sales</pre>
</div>
<div class="console_widget" data-snippet="snippets/2279.console"></div>
<p>The API returns the following results:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">{
  "count": 1,
  "jobs": [
    {
      "job_id" : "high_sum_total_sales",
      "job_type" : "anomaly_detector",
      "job_version" : "7.5.0",
      "groups" : [
        "kibana_sample_data",
        "kibana_sample_ecommerce"
      ],
      "description" : "Find customers spending an unusually high amount in an hour",
      "create_time" : 1577221534700,
      "analysis_config" : {
        "bucket_span" : "1h",
        "detectors" : [
          {
            "detector_description" : "High total sales",
            "function" : "high_sum",
            "field_name" : "taxful_total_price",
            "over_field_name" : "customer_full_name.keyword",
            "detector_index" : 0
          }
        ],
        "influencers" : [
          "customer_full_name.keyword",
          "category.keyword"
        ]
      },
      "analysis_limits" : {
        "model_memory_limit" : "10mb",
        "categorization_examples_limit" : 4
      },
      "data_description" : {
        "time_field" : "order_date",
        "time_format" : "epoch_ms"
      },
      "model_plot_config" : {
        "enabled" : true
      },
      "model_snapshot_retention_days" : 10,
      "daily_model_snapshot_retention_after_days" : 1,
      "custom_settings" : {
        "created_by" : "ml-module-sample",
        ...
      },
      "model_snapshot_id" : "1575402237",
      "results_index_name" : "shared",
      "allow_lazy_open" : false
    }
  ]
}</pre>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ml-get-influencer.html">« Get influencers API</a>
</span>
<span class="next">
<a href="ml-get-job-stats.html">Get anomaly detection job statistics API »</a>
</span>
</div>
</body>
</html>
