<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Get datafeeds API | Elasticsearch Guide [7.15] | Elastic</title>
<meta class="elastic" name="content" content="Get datafeeds API | Elasticsearch Guide [7.15]">

<link rel="home" href="index.html" title="Elasticsearch Guide [7.15]"/>
<link rel="up" href="ml-apis.html" title="Machine learning anomaly detection APIs"/>
<link rel="prev" href="ml-get-category.html" title="Get categories API"/>
<link rel="next" href="ml-get-datafeed-stats.html" title="Get datafeed statistics API"/>
<meta class="elastic" name="product_version" content="7.15"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.15"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.15"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="ml-get-category.html">« Get categories API</a>
</span>
<span class="next">
<a href="ml-get-datafeed-stats.html">Get datafeed statistics API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-apis.html">Machine learning anomaly detection APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Get datafeeds API</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/ml/anomaly-detection/apis/get-datafeed.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="ml-get-datafeed"></a>Get datafeeds API</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/ml/anomaly-detection/apis/get-datafeed.asciidoc">edit</a></div>
</div></div></div>

<p>Retrieves configuration information for datafeeds.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-datafeed-request"></a>Request</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/ml/anomaly-detection/apis/get-datafeed.asciidoc">edit</a></div>
</div></div></div>
<p><code class="literal">GET _ml/datafeeds/&lt;feed_id&gt;</code><br></p>
<p><code class="literal">GET _ml/datafeeds/&lt;feed_id&gt;,&lt;feed_id&gt;</code><br></p>
<p><code class="literal">GET _ml/datafeeds/</code><br></p>
<p><code class="literal">GET _ml/datafeeds/_all</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-datafeed-prereqs"></a>Prerequisites</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/ml/anomaly-detection/apis/get-datafeed.asciidoc">edit</a></div>
</div></div></div>
<p>Requires the <code class="literal">monitor_ml</code> cluster privilege. This privilege is included in the
<code class="literal">machine_learning_user</code> built-in role.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-datafeed-desc"></a>Description</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/ml/anomaly-detection/apis/get-datafeed.asciidoc">edit</a></div>
</div></div></div>
<p>You can get information for multiple datafeeds in a single API request by using a
comma-separated list of datafeeds or a wildcard expression. You can get
information for all datafeeds by using <code class="literal">_all</code>, by specifying <code class="literal">*</code> as the
<code class="literal">&lt;feed_id&gt;</code>, or by omitting the <code class="literal">&lt;feed_id&gt;</code>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>This API returns a maximum of 10,000 datafeeds.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-datafeed-path-parms"></a>Path parameters</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/ml/anomaly-detection/apis/get-datafeed.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;feed_id&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Identifier for the datafeed. It can be a datafeed identifier or a wildcard
expression.
</p>
<p>If you do not specify one of these options, the API returns information about
all datafeeds.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-datafeed-query-parms"></a>Query parameters</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/ml/anomaly-detection/apis/get-datafeed.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_datafeeds</code>
</span>
</dt>
<dd>
(Optional, Boolean) <span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">7.10</span>]
<span class="Admonishment-detail">
Deprecated in 7.10. Use <code class="literal">allow_no_match</code> instead.
</span>
</span>
</dd>
<dt>
<span class="term">
<code class="literal">allow_no_match</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
Specifies what to do when the request:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Contains wildcard expressions and there are no datafeeds that match.
</li>
<li class="listitem">
Contains the <code class="literal">_all</code> string or no identifiers and there are no matches.
</li>
<li class="listitem">
Contains wildcard expressions and there are only partial matches.
</li>
</ul>
</div>
<p>The default value is <code class="literal">true</code>, which returns an empty <code class="literal">datafeeds</code> array when
there are no matches and the subset of results when there are partial matches.
If this parameter is <code class="literal">false</code>, the request returns a <code class="literal">404</code> status code when there
are no matches or only partial matches.</p>
</dd>
<dt>
<span class="term">
<code class="literal">exclude_generated</code>
</span>
</dt>
<dd>
(Optional, Boolean)
Indicates if certain fields should be removed from the configuration on
retrieval. This allows the configuration to be in an acceptable format to be retrieved
and then added to another cluster. Default is false.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-datafeed-results"></a>Response body</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/ml/anomaly-detection/apis/get-datafeed.asciidoc">edit</a></div>
</div></div></div>
<p>The API returns an array of datafeed resources. For the full list of properties,
see <a class="xref" href="ml-put-datafeed.html#ml-put-datafeed-request-body" title="Request body">create datafeeds API</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-datafeed-response-codes"></a>Response codes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/ml/anomaly-detection/apis/get-datafeed.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">404</code> (Missing resources)
</span>
</dt>
<dd>
If <code class="literal">allow_no_match</code> is <code class="literal">false</code>, this code indicates that there are no
resources that match the request or only partial matches for the request.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ml-get-datafeed-example"></a>Examples</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.15/docs/reference/ml/anomaly-detection/apis/get-datafeed.asciidoc">edit</a></div>
</div></div></div>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">GET _ml/datafeeds/datafeed-high_sum_total_sales</pre>
</div>
<div class="console_widget" data-snippet="snippets/2301.console"></div>
<p>The API returns the following results:</p>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "count": 1,
  "datafeeds": [
    {
      "datafeed_id": "datafeed-high_sum_total_sales",
      "job_id": "high_sum_total_sales",
      "query_delay": "93169ms",
      "indices": [
        "kibana_sample_data_ecommerce"
      ],
      "query" : {
        "bool" : {
          "filter" : [
            {
              "term" : {
                "_index" : "kibana_sample_data_ecommerce"
              }
            }
          ]
        }
      },
      "scroll_size": 1000,
      "chunking_config": {
        "mode": "auto"
      },
      "delayed_data_check_config" : {
        "enabled" : true
      }
    }
  ]
}</pre>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ml-get-category.html">« Get categories API</a>
</span>
<span class="next">
<a href="ml-get-datafeed-stats.html">Get datafeed statistics API »</a>
</span>
</div>
</body>
</html>
