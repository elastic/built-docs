<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Reindex before upgrading | Elasticsearch Guide [7.17] | Elastic</title>
<meta class="elastic" name="content" content="Reindex before upgrading | Elasticsearch Guide [7.17]">

<link rel="home" href="index.html" title="Elasticsearch Guide [7.17]"/>
<link rel="up" href="setup-upgrade.html" title="Upgrade Elasticsearch"/>
<link rel="prev" href="restart-upgrade.html" title="Full cluster restart upgrade"/>
<link rel="next" href="reindex-upgrade-inplace.html" title="Reindex in place"/>
<meta class="elastic" name="product_version" content="7.17"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.17"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.17"/>
</head>
<body>
<div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="restart-upgrade.html">« Full cluster restart upgrade</a>
</span>
<span class="next">
<a href="reindex-upgrade-inplace.html">Reindex in place »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup-upgrade.html">Upgrade Elasticsearch</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Reindex before upgrading</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/upgrade/reindex_upgrade.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="reindex-upgrade"></a>Reindex before upgrading<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/upgrade/reindex_upgrade.asciidoc">edit</a></h2>
</div></div></div>
<p>Elasticsearch can read indices created in the previous major version. If you
have indices created in 5.x or before, you must reindex or delete them
before upgrading to 7.17.22. Elasticsearch nodes will fail to start if
incompatible indices are present. Snapshots of 5.x or earlier indices cannot be
restored to a 7.x cluster even if they were created by a 6.x cluster.
Any index created in 6.x is compatible with 7.x and does not require a reindex.</p>
<p>This restriction also applies to the internal indices that are used by
Kibana and the X-Pack features. Therefore, before you can use Kibana and
X-Pack features in 7.17.22, you must ensure the internal indices have a
compatible index structure.</p>
<p>You have two options for reindexing old indices:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="reindex-upgrade-inplace.html" title="Reindex in place">Reindex in place</a> on your 6.x cluster before upgrading.
</li>
<li class="listitem">
Create a new 7.17.22 cluster and <a class="xref" href="reindex-upgrade-remote.html" title="Reindex from a remote cluster">Reindex from remote</a>.
This enables you to reindex indices that reside on clusters running any version of Elasticsearch.
</li>
</ul>
</div>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Upgrading time-based indices</strong></p>
</div></div></div>
<p>If you use time-based indices, you likely won&#8217;t need to carry
pre-6.x indices forward to 7.17.22. Data in time-based indices
generally becomes less useful as time passes and are
deleted as they age past your retention period.</p>
<p>Unless you have an unusually long retention period, you can just
wait to upgrade to 6.x until all of your pre-6.x indices have
been deleted.</p>
</div>


</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="restart-upgrade.html">« Full cluster restart upgrade</a>
</span>
<span class="next">
<a href="reindex-upgrade-inplace.html">Reindex in place »</a>
</span>
</div>
</body>
</html>
