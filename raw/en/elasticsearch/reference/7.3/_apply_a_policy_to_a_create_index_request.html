<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Apply a policy to a create index request | Elasticsearch Guide [7.3] | Elastic</title>
<meta class="elastic" name="content" content="Apply a policy to a create index request | Elasticsearch Guide [7.3]">

<link rel="home" href="index.html" title="Elasticsearch Guide [7.3]"/>
<link rel="up" href="set-up-lifecycle-policy.html" title="Set up index lifecycle management policy"/>
<link rel="prev" href="applying-policy-to-template.html" title="Applying a policy to an index template"/>
<link rel="next" href="using-policies-rollover.html" title="Using policies to manage index rollover"/>
<meta class="elastic" name="product_version" content="7.3"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.3"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.3"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="applying-policy-to-template.html">« Applying a policy to an index template</a>
</span>
<span class="next">
<a href="using-policies-rollover.html">Using policies to manage index rollover »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [7.3]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index-lifecycle-management.html">Managing the index lifecycle</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="set-up-lifecycle-policy.html">Set up index lifecycle management policy</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Apply a policy to a create index request</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ilm/set-up-lifecycle-policy.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="_apply_a_policy_to_a_create_index_request"></a>Apply a policy to a create index request</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.3/docs/reference/ilm/set-up-lifecycle-policy.asciidoc">edit</a></div>
</div></div></div>
<p>The <code class="literal">index.lifecycle.name</code> setting can be set on an individual create index
request so index lifecycle management immediately starts managing the index:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT test-index
{
  "settings": {
    "number_of_shards": 1,
    "number_of_replicas": 1,
    "index.lifecycle.name": "my_policy"
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/921.console"></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Its recommended not to use the create index API with a policy that
defines a rollover action. If you do so, the new index as the result of the
rollover will not carry forward the policy. Always use index templates to
define policies with rollover actions.</p>
</div>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="applying-policy-to-template.html">« Applying a policy to an index template</a>
</span>
<span class="next">
<a href="using-policies-rollover.html">Using policies to manage index rollover »</a>
</span>
</div>
</body>
</html>
