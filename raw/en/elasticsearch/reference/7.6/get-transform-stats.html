<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Get transform statistics API | Elasticsearch Reference [7.6] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.6]"/>
<link rel="up" href="transform-apis.html" title="Transform APIs"/>
<link rel="prev" href="get-transform.html" title="Get transforms API"/>
<link rel="next" href="preview-transform.html" title="Preview transform API"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.6"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.6"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.6]</a></span>
»
<span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
»
<span class="breadcrumb-link"><a href="transform-apis.html">Transform APIs</a></span>
»
<span class="breadcrumb-node">Get transform statistics API</span>
</div>
<div class="navheader">
<span class="prev">
<a href="get-transform.html">« Get transforms API</a>
</span>
<span class="next">
<a href="preview-transform.html">Preview transform API »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="get-transform-stats"></a>Get transform statistics API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.6/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Retrieves usage information for transforms.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-request"></a>Request<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.6/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET _transform/&lt;transform_id&gt;/_stats</code></p>
<p><code class="literal">GET _transform/&lt;transform_id&gt;,&lt;transform_id&gt;/_stats</code><br></p>
<p><code class="literal">GET _transform/_stats</code><br></p>
<p><code class="literal">GET _transform/_all/_stats</code><br></p>
<p><code class="literal">GET _transform/*/_stats</code><br></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-prereqs"></a>Prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.6/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have <code class="literal">monitor_transform</code>
cluster privileges to use this API. The built-in <code class="literal">transform_user</code> role has these
privileges. For more information, see <a class="xref" href="security-privileges.html" title="Security privileges">Security privileges</a> and
<a class="xref" href="built-in-roles.html" title="Built-in roles">Built-in roles</a>.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-desc"></a>Description<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.6/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<p>You can get statistics for multiple transforms in a single API
request by using a comma-separated list of identifiers or a wildcard expression.
You can get statistics for all transforms by using <code class="literal">_all</code>, by
specifying <code class="literal">*</code> as the <code class="literal">&lt;transform_id&gt;</code>, or by omitting the
<code class="literal">&lt;transform_id&gt;</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-path-parms"></a>Path parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.6/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;transform_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string)
Identifier for the transform. It can be a transform identifier or a wildcard
expression. If you do not specify one of these options, the API returns
information for all transforms.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-query-parms"></a>Query parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.6/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_match</code>
</span>
</dt>
<dd>
<p>
(Optional, boolean)
Specifies what to do when the request:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Contains wildcard expressions and there are no transforms that match.
</li>
<li class="listitem">
Contains the <code class="literal">_all</code> string or no identifiers and there are no matches.
</li>
<li class="listitem">
Contains wildcard expressions and there are only partial matches.
</li>
</ul>
</div>
<p>The default value is <code class="literal">true</code>, which returns an empty <code class="literal">transforms</code> array when
there are no matches and the subset of results when there are partial matches.</p>
<p>If this parameter is <code class="literal">false</code>, the request returns a <code class="literal">404</code> status code when there
are no matches or only partial matches.</p>
</dd>
<dt>
<span class="term">
<code class="literal">from</code>
</span>
</dt>
<dd>
(Optional, integer)
Skips the specified number of transforms. The default value is <code class="literal">0</code>.
</dd>
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(Optional, integer)
Specifies the maximum number of transforms to obtain. The default value is
<code class="literal">100</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-response"></a>Response body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.6/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<p>The API returns an array of statistics objects for transforms, which are
sorted by the <code class="literal">id</code> value in ascending order. All of these properties are
informational; you cannot update their values.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">checkpointing</code>
</span>
</dt>
<dd>
<p>
(object) Contains statistics about <a class="xref" href="transform-checkpoints.html" title="How transform checkpoints work">checkpoints</a>.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">changes_last_detected_at</code>
</span>
</dt>
<dd>
(date) The timestamp when changes were last detected in the source indices.
</dd>
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">last</code>
</span>
</dt>
<dd>
<p>
(object) Contains statistics about the last completed checkpoint.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">last</code>.<code class="literal">checkpoint</code>
</span>
</dt>
<dd>
(integer) The sequence number for the checkpoint.
</dd>
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">last</code>.<code class="literal">time_upper_bound_millis</code>
</span>
</dt>
<dd>
(date) When using time-based synchronization, this timestamp indicates the
upper bound of data that is included in the checkpoint.
</dd>
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">last</code>.<code class="literal">timestamp_millis</code>
</span>
</dt>
<dd>
(date) The timestamp of the checkpoint, which indicates when the checkpoint
was created.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">next</code>
</span>
</dt>
<dd>
<p>
(object) Contains statistics about the next checkpoint that is currently in
progress. This object appears only when the transform <code class="literal">state</code> is <code class="literal">indexing</code>.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">next</code>.<code class="literal">checkpoint</code>
</span>
</dt>
<dd>
(integer) The sequence number for the checkpoint.
</dd>
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">next</code>.<code class="literal">checkpoint_progress</code>
</span>
</dt>
<dd>
(object) Contains statistics about the progress of the checkpoint. For example,
it lists the <code class="literal">total_docs</code>, <code class="literal">docs_remaining</code>, <code class="literal">percent_complete</code>,
<code class="literal">docs_processed</code>, and <code class="literal">docs_indexed</code>. This information is available only for
batch transforms and the first checkpoint of continuous transforms.
</dd>
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">next</code>.<code class="literal">time_upper_bound_millis</code>
</span>
</dt>
<dd>
(date) When using time-based synchronization, this timestamp indicates the
upper bound of data that is included in the checkpoint.
</dd>
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">next</code>.<code class="literal">timestamp_millis</code>
</span>
</dt>
<dd>
(date) The timestamp of the checkpoint, which indicates when the checkpoint was
created.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">checkpointing</code>.<code class="literal">operations_behind</code>
</span>
</dt>
<dd>
(integer) The number of operations that have occurred on the source index but
have not been applied to the destination index yet. A high number can indicate
that the transform is failing to keep up.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(string)
Identifier for the transform. This identifier can contain lowercase
alphanumeric characters (a-z and 0-9), hyphens, and underscores. It must start
and end with alphanumeric characters.
</dd>
<dt>
<span class="term">
<code class="literal">node</code>
</span>
</dt>
<dd>
<p>
(object) For started transforms only, the node upon which the transform is
started.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">node</code>.<code class="literal">attributes</code>
</span>
</dt>
<dd>
(object) A list of attributes for the node.
</dd>
<dt>
<span class="term">
<code class="literal">node</code>.<code class="literal">ephemeral_id</code>
</span>
</dt>
<dd>
(string) The node ephemeral ID.
</dd>
<dt>
<span class="term">
<code class="literal">node</code>.<code class="literal">id</code>
</span>
</dt>
<dd>
(string) The unique identifier of the node. For example, "0-o0tOoRTwKFZifatTWKNw".
</dd>
<dt>
<span class="term">
<code class="literal">node</code>.<code class="literal">name</code>
</span>
</dt>
<dd>
(string) The node name. For example, <code class="literal">0-o0tOo</code>.
</dd>
<dt>
<span class="term">
<code class="literal">node</code>.<code class="literal">transport_address</code>
</span>
</dt>
<dd>
(string) The host and port where transport HTTP connections are accepted. For
example, <code class="literal">127.0.0.1:9300</code>.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">state</code>
</span>
</dt>
<dd>
<p>
(string) The status of the transform, which can be one of the following values:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">aborting</code>: The transform is aborting.
</li>
<li class="listitem">
<code class="literal">failed</code>: The transform failed. For more information about the failure,
check the reason field.
</li>
<li class="listitem">
<code class="literal">indexing</code>: The transform is actively processing data and creating new
documents.
</li>
<li class="listitem">
<code class="literal">started</code>: The transform is running but not actively indexing data.
</li>
<li class="listitem">
<code class="literal">stopped</code>: The transform is stopped.
</li>
<li class="listitem">
<code class="literal">stopping</code>: The transform is stopping.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>
</span>
</dt>
<dd>
<p>
(object) An object that provides statistical information about the transform.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">documents_indexed</code>
</span>
</dt>
<dd>
(long) The number of documents that have been indexed into the destination index
for the transform.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">documents_processed</code>
</span>
</dt>
<dd>
(long) The number of documents that have been processed from the source index of
the transform.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">exponential_avg_checkpoint_duration_ms</code>
</span>
</dt>
<dd>
(double) Exponential moving average of the duration of the checkpoint, in milliseconds.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">exponential_avg_documents_indexed</code>
</span>
</dt>
<dd>
(double) Exponential moving average of the number of new documents that have been
indexed.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">exponential_avg_documents_processed</code>
</span>
</dt>
<dd>
(double) Exponential moving average of the number of documents that have been
processed.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">index_failures</code>
</span>
</dt>
<dd>
(long) The number of indexing failures.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">index_time_in_ms</code>
</span>
</dt>
<dd>
(long) The amount of time spent indexing, in milliseconds.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">index_total</code>
</span>
</dt>
<dd>
(long) The number of indices created.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">pages_processed</code>
</span>
</dt>
<dd>
(long) The number of search or bulk index operations processed. Documents are
processed in batches instead of individually.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">search_failures</code>
</span>
</dt>
<dd>
(long) The number of search failures.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">search_time_in_ms</code>
</span>
</dt>
<dd>
(long) The amount of time spent searching, in milliseconds.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">search_total</code>
</span>
</dt>
<dd>
(long) The number of search operations on the source index for the transform.
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>.<code class="literal">trigger_count</code>
</span>
</dt>
<dd>
(long) The number of times the transform has been triggered by the scheduler.
For example, the scheduler triggers the transform indexer to check for updates
or ingest new data at an interval specified in the
<a class="xref" href="put-transform.html#put-transform-request-body" title="Request body"><code class="literal">frequency</code> property</a>.
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-response-codes"></a>Response codes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.6/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">404</code> (Missing resources)
</span>
</dt>
<dd>
If <code class="literal">allow_no_match</code> is <code class="literal">false</code>, this code indicates that there are no
resources that match the request or only partial matches for the request.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-transform-stats-example"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/7.6/docs/reference/transform/apis/get-transform-stats.asciidoc">edit</a></h3>
</div></div></div>
<p>The following example skips for the first five transforms and
gets usage information for a maximum of ten results:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _transform/_stats?from=5&amp;size=10</pre>
</div>
<div class="console_widget" data-snippet="snippets/2104.console"></div>
<p>The following example gets usage information for the <code class="literal">ecommerce_transform</code>
transform:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _transform/ecommerce_transform/_stats</pre>
</div>
<div class="console_widget" data-snippet="snippets/2105.console"></div>
<p>The API returns the following results:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "count" : 1,
  "transforms" : [
    {
      "id" : "ecommerce_transform",
      "state" : "indexing",
      "stats" : {
        "pages_processed" : 2,
        "documents_processed" : 1220,
        "documents_indexed" : 13,
        "trigger_count" : 1,
        "index_time_in_ms" : 19,
        "index_total" : 1,
        "index_failures" : 0,
        "search_time_in_ms" : 52,
        "search_total" : 2,
        "search_failures" : 0,
        "exponential_avg_checkpoint_duration_ms" : 77,
        "exponential_avg_documents_indexed" : 2,
        "exponential_avg_documents_processed" : 12
      },
      "checkpointing" : {
        "last" : {
          "checkpoint" : 100,
          "timestamp_millis" : 1561740252497,
          "time_upper_bound_millis" : 1561740192497
        },
        "next" : {
          "checkpoint" : 101,
          "position" : {
            "indexer_position" : {
              "hashtag" : "abcd1234"
            },
            "buckets_position" : {
              "hashtag" : "abcd5678"
            }
          },
          "checkpoint_progress" : {
            "documents_processed": 100,
            "documents_indexed": 1
          },
          "changes_last_detected_at": 1561740629170,
          "timestamp_millis" : 1561740629172,
          "time_upper_bound_millis" : 1561740569172
        },
        "operations_behind": 27000
      }
    }
  ]
}</pre>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="get-transform.html">« Get transforms API</a>
</span>
<span class="next">
<a href="preview-transform.html">Preview transform API »</a>
</span>
</div>
</div>
</body>
</html>
