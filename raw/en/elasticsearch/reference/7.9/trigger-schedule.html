<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Schedule trigger | Elasticsearch Reference [7.9] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.9]"/>
<link rel="up" href="trigger.html" title="Triggers"/>
<link rel="prev" href="trigger.html" title="Triggers"/>
<link rel="next" href="condition.html" title="Conditions"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.9"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.9"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.9]</a></span>
»
<span class="breadcrumb-link"><a href="xpack-alerting.html">Alerting on cluster and index events</a></span>
»
<span class="breadcrumb-link"><a href="trigger.html">Triggers</a></span>
»
<span class="breadcrumb-node">Schedule trigger</span>
</div>
<div class="navheader">
<span class="prev">
<a href="trigger.html">« Triggers</a>
</span>
<span class="next">
<a href="condition.html">Conditions »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="trigger-schedule"></a>Schedule trigger<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<p>Schedule <a class="xref" href="trigger.html" title="Triggers">triggers</a> define when the watch execution should start based
on date and time. All times are specified in UTC time.</p>
<p>Watcher uses the system clock to determine the current time. To ensure schedules
are triggered when expected, you should synchronize the clocks of all nodes in the
cluster using a time service such as <a href="http://www.ntp.org/" class="ulink" target="_top">NTP</a>.</p>
<p>Keep in mind that the throttle period can affect when a watch is actually executed.
The default throttle period is five seconds (5000 ms). If you configure a schedule
that&#8217;s more frequent than the throttle period, the throttle period overrides the
schedule. For example, if you set the throttle period to one minute (60000 ms)
and set the schedule to every 10 seconds, the watch is executed no more than
once per minute. For more information about throttling, see
<a class="xref" href="actions.html#actions-ack-throttle" title="Acknowledgement and throttling">Acknowledgement and throttling</a>.</p>
<p>Watcher provides several types of schedule triggers:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="trigger-schedule.html#schedule-hourly" title="Hourly schedule"><code class="literal">hourly</code></a>
</li>
<li class="listitem">
<a class="xref" href="trigger-schedule.html#schedule-daily" title="Daily schedule"><code class="literal">daily</code></a>
</li>
<li class="listitem">
<a class="xref" href="trigger-schedule.html#schedule-weekly" title="Weekly schedule"><code class="literal">weekly</code></a>
</li>
<li class="listitem">
<a class="xref" href="trigger-schedule.html#schedule-monthly" title="Monthly schedule"><code class="literal">monthly</code></a>
</li>
<li class="listitem">
<a class="xref" href="trigger-schedule.html#schedule-yearly" title="Yearly schedule"><code class="literal">yearly</code></a>
</li>
<li class="listitem">
<a class="xref" href="trigger-schedule.html#schedule-cron" title="Cron schedule"><code class="literal">cron</code></a>
</li>
<li class="listitem">
<a class="xref" href="trigger-schedule.html#schedule-interval" title="Interval schedule"><code class="literal">interval</code></a>
</li>
</ul>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="schedule-hourly"></a>Hourly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/hourly.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>A <a class="xref" href="trigger-schedule.html" title="Schedule trigger"><code class="literal">schedule</code></a> that triggers at a particular minute every
hour of the day. To use the <code class="literal">hourly</code> schedule, you specify the minute (or minutes)
when you want the scheduler to start the watch execution with the <code class="literal">minute</code>
attribute.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you don&#8217;t specify the <code class="literal">minute</code> attribute for an <code class="literal">hourly</code> schedule, it
      defaults to <code class="literal">0</code> and the schedule triggers on the hour every hour--<code class="literal">12:00</code>,
      <code class="literal">13:00</code>, <code class="literal">14:00</code>, and so on.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_once_an_hour_schedule"></a>Configuring a once an hour schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/hourly.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a once an hour schedule, you specify a single time with the <code class="literal">minute</code>
attribute.</p>
<p>For example, the following <code class="literal">hourly</code> schedule triggers at minute 30 every hour--
<code class="literal">12:30</code>, <code class="literal">13:30</code>, <code class="literal">14:30</code>, &#8230;&#8203;:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "hourly" : { "minute" : 30 }
    }
  }
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_multiple_times_hourly_schedule"></a>Configuring a multiple times hourly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/hourly.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure an <code class="literal">hourly</code> schedule that triggers at multiple times during the
hour, you specify an array of minutes. For example, the following schedule
triggers every 15 minutes every hour--<code class="literal">12:00</code>, <code class="literal">12:15</code>, <code class="literal">12:30</code>, <code class="literal">12:45</code>,
<code class="literal">1:00</code>, <code class="literal">1:15</code>, &#8230;&#8203;:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "hourly" : { "minute" : [ 0, 15, 30, 45 ] }
    }
  }
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="schedule-daily"></a>Daily schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/daily.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>A <a class="xref" href="trigger-schedule.html" title="Schedule trigger"><code class="literal">schedule</code></a> that triggers at a particular time
every day. To use the <code class="literal">daily</code> schedule, you specify the time of day (or times)
when you want the scheduler to start the watch execution with the <code class="literal">at</code> attribute.</p>
<p>Times are specified in the form <code class="literal">HH:mm</code> on a 24-hour clock. You can also use the
reserved values <code class="literal">midnight</code> and <code class="literal">noon</code> for <code class="literal">00:00</code> and <code class="literal">12:00</code>, and
<a class="xref" href="trigger-schedule.html#specifying-times-using-objects" title="Specifying times using objects">specify times using objects</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you don&#8217;t specify the <code class="literal">at</code> attribute for a <code class="literal">daily</code> schedule, it defaults
      to firing once daily at midnight, <code class="literal">00:00</code>.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_daily_schedule"></a>Configuring a daily schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/daily.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a once a day schedule, you specify a single time with the <code class="literal">at</code>
attribute. For example, the following <code class="literal">daily</code> schedule triggers once every
day at 5:00 PM:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "daily" : { "at" : "17:00" }
    }
  }
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_multiple_times_daily_schedule"></a>Configuring a multiple times daily schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/daily.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a <code class="literal">daily</code> schedule that triggers at multiple times during the day,
you specify an array of times. For example, the following <code class="literal">daily</code> schedule
triggers at <code class="literal">00:00</code>, <code class="literal">12:00</code>, and <code class="literal">17:00</code> every day.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "daily" : { "at" : [ "midnight", "noon", "17:00" ] }
    }
  }
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="specifying-times-using-objects"></a>Specifying times using objects<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/daily.asciidoc">edit</a></h4>
</div></div></div>
<p>In addition to using the <code class="literal">HH:mm</code> string syntax to specify times, you can specify
a time as an object that has <code class="literal">hour</code> and <code class="literal">minute</code> attributes.</p>
<p>For example, the following <code class="literal">daily</code> schedule triggers once every day at 5:00 PM:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "daily" : {
        "at" : {
          "hour" : 17,
          "minute" : 0
        }
      }
    }
  }
}</pre>
</div>
<p>To specify multiple times using the object notation, you specify multiple hours
or minutes as an array. For example, following <code class="literal">daily</code> schedule triggers at
<code class="literal">00:00</code>, <code class="literal">00:30</code>, <code class="literal">12:00</code>, <code class="literal">12:30</code>, <code class="literal">17:00</code> and <code class="literal">17:30</code> every day:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "daily" : {
        "at" : {
          "hour" : [ 0, 12, 17 ],
          "minute" : [0, 30]
        }
      }
    }
  }
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="schedule-weekly"></a>Weekly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/weekly.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>A <a class="xref" href="trigger-schedule.html" title="Schedule trigger"><code class="literal">schedule</code></a> that triggers at a specific day and time
every week. To use the <code class="literal">weekly</code> schedule, you specify the day and time (or days
and times) when you want the scheduler to start the watch execution with the <code class="literal">on</code>
and <code class="literal">at</code> attributes.</p>
<p>You can specify the day of the week by name, abbreviation, or number (with Sunday
being the first day of the week):</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">sunday</code>, <code class="literal">monday</code>, <code class="literal">tuesday</code>, <code class="literal">wednesday</code>, <code class="literal">thursday</code>, <code class="literal">friday</code> and <code class="literal">saturday</code>
</li>
<li class="listitem">
<code class="literal">sun</code>, <code class="literal">mon</code>, <code class="literal">tue</code>, <code class="literal">wed</code>, <code class="literal">thu</code>, <code class="literal">fri</code> and <code class="literal">sat</code>
</li>
<li class="listitem">
<code class="literal">1</code>, <code class="literal">2</code>, <code class="literal">3</code>, <code class="literal">4</code>, <code class="literal">5</code>, <code class="literal">6</code> and <code class="literal">7</code>
</li>
</ul>
</div>
<p>Times are specified in the form <code class="literal">HH:mm</code> on a 24-hour clock. You can also use the
reserved values <code class="literal">midnight</code> and <code class="literal">noon</code> for <code class="literal">00:00</code> and <code class="literal">12:00</code>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_weekly_schedule"></a>Configuring a weekly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/weekly.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a once a week schedule, you specify the day with the <code class="literal">on</code> attribute
and the time with the <code class="literal">at</code> attribute. For example, the following <code class="literal">weekly</code> schedule
triggers once a week on Friday at 5:00 PM:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "weekly" : { "on" : "friday", "at" : "17:00" }
    }
  }
}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can also specify the day and time with the <code class="literal">day</code> and <code class="literal">time</code> attributes,
      they are interchangeable with <code class="literal">on</code> and <code class="literal">at</code>.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_multiple_times_weekly_schedule"></a>Configuring a multiple times weekly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/weekly.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a <code class="literal">weekly</code> schedule that triggers multiple times a week, you can
specify an array of day and time values. For example, the following <code class="literal">weekly</code>
schedule triggers every Tuesday at 12:00 PM and every Friday at 5:00 PM:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "weekly" : [
        { "on" : "tuesday", "at" : "noon" },
        { "on" : "friday", "at" : "17:00" }
      ]
    }
  }
}</pre>
</div>
<p>Alternatively, you can specify days and times in an object that has <code class="literal">on</code> and
<code class="literal">minute</code> attributes that contain an array of values. For example, the following
<code class="literal">weekly</code> schedule triggers every Tuesday and Friday at 12:00 PM and 17:00 PM:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "weekly" : {
        "on" : [ "tuesday", "friday" ],
        "at" : [ "noon", "17:00" ]
      }
    }
  }
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="schedule-monthly"></a>Monthly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/monthly.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>A <a class="xref" href="trigger-schedule.html" title="Schedule trigger"><code class="literal">schedule</code></a> that triggers at a specific day and time
every month. To use the <code class="literal">monthly</code> schedule, you specify the day of the month and
time (or days and times) when you want the scheduler to start the watch execution
with the <code class="literal">on</code> and <code class="literal">at</code> attributes.</p>
<p>You specify the day of month as a numeric value between <code class="literal">1</code> and <code class="literal">31</code> (inclusive).
Times are specified in the form <code class="literal">HH:mm</code> on a 24-hour clock. You can also use the
reserved values <code class="literal">midnight</code> and <code class="literal">noon</code> for <code class="literal">00:00</code> and <code class="literal">12:00</code>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_monthly_schedule"></a>Configuring a monthly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/monthly.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a once a month schedule, you specify a single day and time with the
<code class="literal">on</code> and <code class="literal">at</code> attributes. For example, the following <code class="literal">monthly</code> schedule triggers
on the 10th of each month at noon:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "monthly" : { "on" : 10, "at" : "noon" }
    }
  }
}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can also specify the day and time with the <code class="literal">day</code> and <code class="literal">time</code> attributes,
      they are interchangeable with <code class="literal">on</code> and <code class="literal">at</code>.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_multiple_times_monthly_schedule"></a>Configuring a multiple times monthly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/monthly.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a <code class="literal">monthly</code> schedule that triggers multiple times a month, you can
specify an array of day and time values. For example, the following <code class="literal">monthly</code>
schedule triggers at 12:00 PM on the 10th of each month and at 5:00 PM on the
20th of each month:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "monthly" : [
        { "on" : 10, "at" : "noon" },
        { "on" : 20, "at" : "17:00" }
      ]
    }
  }
}</pre>
</div>
<p>Alternatively, you can specify days and times in an object that has <code class="literal">on</code> and <code class="literal">at</code>
attributes that contain an array of values. For example, the following <code class="literal">monthly</code>
schedule triggers at 12:00 AM and 12:00 PM on the 10th and 20th of each month.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "monthly" : {
        "on" : [ 10, 20 ],
        "at" : [ "midnight", "noon" ]
      }
    }
  }
}</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="schedule-yearly"></a>Yearly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/yearly.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>A <a class="xref" href="trigger-schedule.html" title="Schedule trigger"><code class="literal">schedule</code></a> that triggers at a specific day and time
every year. To use the <code class="literal">yearly</code> schedule, you specify the month, day, and time
(or months, days, and times) when you want the scheduler to start the watch
execution with the <code class="literal">in</code>, <code class="literal">on</code>, and <code class="literal">at</code> attributes.</p>
<p>You can specify the month by name, abbreviation, or number:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">january</code>, <code class="literal">february</code>, <code class="literal">march</code>, <code class="literal">april</code>, <code class="literal">may</code>, <code class="literal">june</code>, <code class="literal">july</code>,
<code class="literal">august</code>, <code class="literal">september</code>, <code class="literal">october</code>, <code class="literal">november</code> and <code class="literal">december</code>
</li>
<li class="listitem">
<code class="literal">jan</code>, <code class="literal">feb</code>, <code class="literal">mar</code>, <code class="literal">apr</code>, <code class="literal">may</code>, <code class="literal">jun</code>, <code class="literal">jul</code>, <code class="literal">aug</code>,
<code class="literal">sep</code>, <code class="literal">oct</code>, <code class="literal">nov</code> and <code class="literal">dec</code>
</li>
<li class="listitem">
<code class="literal">1</code>, <code class="literal">2</code>, <code class="literal">3</code>, <code class="literal">4</code>, <code class="literal">5</code>, <code class="literal">6</code>, <code class="literal">7</code>, <code class="literal">8</code>, <code class="literal">9</code>, <code class="literal">10</code>, <code class="literal">11</code> and <code class="literal">12</code>
</li>
</ul>
</div>
<p>You specify the day of month as a numeric value between <code class="literal">1</code> and <code class="literal">31</code> (inclusive).
The Times are specified in the form <code class="literal">HH:mm</code> on a 24-hour clock. You can also use
the reserved values <code class="literal">midnight</code> and <code class="literal">noon</code> for <code class="literal">00:00</code> and <code class="literal">12:00</code>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_yearly_schedule"></a>Configuring a yearly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/yearly.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a once a year schedule, you specify the month with the <code class="literal">in</code> attribute,
the day with the  <code class="literal">on</code> attribute, and the time with the <code class="literal">at</code> attribute. For
example, the following <code class="literal">yearly</code> schedule triggers once a year at noon on January
10th:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "yearly" : { "in" : "january", "on" : 10, "at" : "noon" }
    }
  }
}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can also specify the month, day, and time with the <code class="literal">month</code>, <code class="literal">day</code>, and
      <code class="literal">time</code> attributes, they are interchangeable with <code class="literal">in</code>, <code class="literal">on</code>, and <code class="literal">at</code>.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_multiple_times_yearly_schedule"></a>Configuring a multiple times yearly schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/yearly.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a <code class="literal">yearly</code> schedule that triggers multiple times a year, you can
specify an array of month, day, and time values. For example, the following
<code class="literal">yearly</code> schedule triggers twice a year: at noon on January 10th, and at 5:00 PM
on July 20th.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "yearly" : [
        { "in" : "january", "on" : 10, "at" : "noon" },
        { "in" : "july", "on" : 20, "at" : "17:00" }
      ]
    }
  }
}</pre>
</div>
<p>Alternatively, you can specify the months, days, and times in an object that has
<code class="literal">in</code>, <code class="literal">on</code>, and <code class="literal">minute</code> attributes that contain an array of values. For example,
the following <code class="literal">yearly</code> schedule triggers at 12:00 AM and 12:00 PM on January 10th,
January 20th, December 10th, and December 20th.</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "yearly" : {
        "in" : [ "jan", "dec" ],
        "on" : [ 10, 20 ],
        "at" : [ "midnight", "noon" ]
      }
    }
  }
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="schedule-cron"></a>Cron schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/cron.asciidoc">edit</a></h3>
</div></div></div>
<p>Defines a <a class="xref" href="trigger-schedule.html" title="Schedule trigger"><code class="literal">schedule</code></a> using a <a class="xref" href="cron-expressions.html" title="Cron expressions">cron expression</a>
that specifiues when to execute a watch.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>While cron expressions are powerful, a regularly occurring schedule
is easier to configure with the other schedule types.
If you must use a cron schedule, make sure you verify it with
<a class="xref" href="elasticsearch-croneval.html" title="elasticsearch-croneval"><code class="literal">elasticsearch-croneval</code></a> .</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configure_a_cron_schedule_with_one_time"></a>Configure a cron schedule with one time<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/cron.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a <code class="literal">cron</code> schedule, you simply specify the cron expression as a
string value. For example, the following snippet configures a <code class="literal">cron</code> schedule
that triggers every day at noon:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  ...
  "trigger" : {
    "schedule" : {
      "cron" : "0 0 12 * * ?"
    }
  }
  ...
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_a_multiple_times_cron_schedule"></a>Configure a cron schedule with multiple times<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/cron.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure a <code class="literal">cron</code> schedule that triggers multiple times, you can
specify an array of cron expressions. For example, the following <code class="literal">cron</code>
schedule triggers every even minute during weekdays and every uneven
minute during the weekend:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  ...
  "trigger" : {
    "schedule" : {
      "cron" : [
        "0 0/2 * ? * MON-FRI"",
        "0 1-59/2 * ? * SAT-SUN"
      ]
    }
  }
  ...
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="croneval"></a>Use croneval to validate cron expressions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/cron.asciidoc">edit</a></h4>
</div></div></div>
<p>Elasticsearch provides a <a class="xref" href="elasticsearch-croneval.html" title="elasticsearch-croneval"><code class="literal">elasticsearch-croneval</code></a> command line tool
in the <code class="literal">$ES_HOME/bin</code> directory that you can use to check that your cron expressions
are valid and produce the expected results.</p>
<p>To validate a cron expression, pass it in as a parameter to <code class="literal">elasticsearch-croneval</code>:</p>
<div class="pre_wrapper lang-bash">
<pre class="programlisting prettyprint lang-bash">bin/elasticsearch-croneval "0 0/1 * * * ?"</pre>
</div>
</div>

</div>

<div class="section xpack">
<div class="titlepage"><div><div>
<h3 class="title"><a id="schedule-interval"></a>Interval schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/interval.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h3>
</div></div></div>
<p>A <a class="xref" href="trigger-schedule.html" title="Schedule trigger"><code class="literal">schedule</code></a> that triggers at a fixed time interval. The
interval can be set in seconds, minutes, hours, days, or weeks:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">"Xs"</code> - trigger every <code class="literal">X</code> seconds. For example, <code class="literal">"30s"</code> means every 30 seconds.
</li>
<li class="listitem">
<code class="literal">"Xm"</code> - trigger every <code class="literal">X</code> minutes. For example, <code class="literal">"5m"</code> means every 5 minutes.
</li>
<li class="listitem">
<code class="literal">"Xh"</code> - trigger every <code class="literal">X</code> hours. For example, <code class="literal">"12h"</code> means every 12 hours.
</li>
<li class="listitem">
<code class="literal">"Xd"</code> - trigger every <code class="literal">X</code> days. For example, <code class="literal">"3d"</code> means every 3 days.
</li>
<li class="listitem">
<code class="literal">"Xw"</code> - trigger every <code class="literal">X</code> weeks. For example, <code class="literal">"2w"</code> means every 2 weeks.
</li>
</ul>
</div>
<p>If you don&#8217;t specify a time unit, it defaults to seconds.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The interval value differs from the standard <em>time value</em> used in
      Elasticsearch. You cannot configure intervals in milliseconds or
      nanoseconds.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_configuring_an_interval_schedule"></a>Configuring an interval schedule<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.9/x-pack/docs/en/watcher/trigger/schedule/interval.asciidoc">edit</a></h4>
</div></div></div>
<p>To configure an <code class="literal">interval</code> schedule, you specify a string value that represents
the interval. If you omit the unit of time (<code class="literal">s</code>,<code class="literal">m</code>, <code class="literal">h</code>, <code class="literal">d</code>, or <code class="literal">w</code>), it
defaults to seconds.</p>
<p>For example, the following <code class="literal">interval</code> schedule triggers every five minutes:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "trigger" : {
    "schedule" : {
      "interval" : "5m"
    }
  }
}</pre>
</div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="trigger.html">« Triggers</a>
</span>
<span class="next">
<a href="condition.html">Conditions »</a>
</span>
</div>
</div>
</body>
</html>
