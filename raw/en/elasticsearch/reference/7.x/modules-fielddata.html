<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Field data cache settings | Elasticsearch Reference [7.x] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.x]"/>
<link rel="up" href="settings.html" title="Configuring Elasticsearch"/>
<link rel="prev" href="modules-discovery-settings.html" title="Discovery and cluster formation settings"/>
<link rel="next" href="ilm-settings.html" title="Index lifecycle management settings in Elasticsearch"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.x"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.x]</a></span>
»
<span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
»
<span class="breadcrumb-link"><a href="settings.html">Configuring Elasticsearch</a></span>
»
<span class="breadcrumb-node">Field data cache settings</span>
</div>
<div class="navheader">
<span class="prev">
<a href="modules-discovery-settings.html">« Discovery and cluster formation settings</a>
</span>
<span class="next">
<a href="ilm-settings.html">Index lifecycle management settings in Elasticsearch »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="modules-fielddata"></a>Field data cache settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/modules/indices/fielddata.asciidoc">edit</a></h2>
</div></div></div>
<p>The field data cache contains <a class="xref" href="text.html#fielddata-mapping-param" title="fielddata mapping parameter">field data</a> and <a class="xref" href="eager-global-ordinals.html" title="eager_global_ordinals">global ordinals</a>,
which are both used to support aggregations on certain field types.
Since these are on-heap data structures, it is important to monitor the cache&#8217;s use.</p>
<h4><a id="fielddata-sizing"></a>Cache size<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/modules/indices/fielddata.asciidoc">edit</a></h4>
<p>The entries in the cache are expensive to build, so the default behavior is
to keep the cache loaded in memory. The default cache size is unlimited,
causing the cache to grow until it reaches the limit set by the <a class="xref" href="circuit-breaker.html#fielddata-circuit-breaker" title="Field data circuit breaker">field data circuit breaker</a>. This behavior can be configured.</p>
<p>If the cache size limit is set, the cache will begin clearing the least-recently-updated
entries in the cache. This setting can automatically avoid the circuit breaker limit,
at the cost of rebuilding the cache as needed.</p>
<p>If the circuit breaker limit is reached, further requests that increase the cache
size will be prevented. In this case you should manually <a class="xref" href="indices-clearcache.html" title="Clear cache API">clear the cache</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">indices.fielddata.cache.size</code>
</span>
</dt>
<dd>
(<a class="xref" href="settings.html#static-cluster-setting">Static</a>)
The max size of the field data cache, eg <code class="literal">38%</code> of node heap space, or an
absolute value, eg <code class="literal">12GB</code>. Defaults to unbounded. If you choose to set it,
it should be smaller than <a class="xref" href="circuit-breaker.html#fielddata-circuit-breaker" title="Field data circuit breaker">Field data circuit breaker</a> limit.
</dd>
</dl>
</div>
<h4><a id="fielddata-monitoring"></a>Monitoring field data<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/modules/indices/fielddata.asciidoc">edit</a></h4>
<p>You can monitor memory usage for field data as well as the field data circuit
breaker using
the <a class="xref" href="cluster-nodes-stats.html" title="Nodes stats API">nodes stats API</a> or the <a class="xref" href="cat-fielddata.html" title="cat fielddata API">cat fielddata API</a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="modules-discovery-settings.html">« Discovery and cluster formation settings</a>
</span>
<span class="next">
<a href="ilm-settings.html">Index lifecycle management settings in Elasticsearch »</a>
</span>
</div>
</div>
</body>
</html>
