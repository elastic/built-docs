<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Search API | Elasticsearch Reference [7.x] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [7.x]"/>
<link rel="up" href="search.html" title="Search APIs"/>
<link rel="prev" href="search.html" title="Search APIs"/>
<link rel="next" href="async-search.html" title="Async search"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="7.x"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [7.x]</a></span>
»
<span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
»
<span class="breadcrumb-link"><a href="search.html">Search APIs</a></span>
»
<span class="breadcrumb-node">Search API</span>
</div>
<div class="navheader">
<span class="prev">
<a href="search.html">« Search APIs</a>
</span>
<span class="next">
<a href="async-search.html">Async search »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="search-search"></a>Search API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/search/search.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns search hits that match the query defined in the request.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /my-index-000001/_search</pre>
</div>
<div class="console_widget" data-snippet="snippets/2188.console"></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-search-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/search/search.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /&lt;target&gt;/_search</code></p>
<p><code class="literal">GET /_search</code></p>
<p><code class="literal">POST /&lt;target&gt;/_search</code></p>
<p><code class="literal">POST /_search</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-search-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/search/search.asciidoc">edit</a></h3>
</div></div></div>
<p>Allows you to execute a search query and get back search hits that match the
query. You can provide search queries using the <a class="xref" href="search-search.html#search-api-query-params-q"><code class="literal">q</code>
query string parameter</a> or <a class="xref" href="search-request-body.html" title="Request body search">request body</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-search-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/search/search.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;target&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Comma-separated list of data streams, indices, and index aliases to search.
Wildcard (<code class="literal">*</code>) expressions are supported.
</p>
<p>To search all data streams and indices in a cluster, omit this parameter or use
<code class="literal">_all</code> or <code class="literal">*</code>.</p>
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-search-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/search/search.asciidoc">edit</a></h3>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Several options for this API can be specified using a query parameter
or a request body parameter. If both parameters are specified, only the query
parameter is used.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_indices</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
If <code class="literal">false</code>, the request returns an error if any wildcard expression,
<a class="xref" href="indices-aliases.html" title="Update index alias API">index alias</a>, or <code class="literal">_all</code> value targets only missing or closed
indices. This behavior applies even if the request targets other open indices.
For example, a request targeting <code class="literal">foo*,bar*</code> returns an error if an index
starts with <code class="literal">foo</code> but no index starts with <code class="literal">bar</code>.
</p>
<p>Defaults to <code class="literal">true</code>.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="search-partial-responses"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_partial_search_results</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
If <code class="literal">true</code>, returns partial results if there are request timeouts or
<a class="xref" href="docs-replication.html#shard-failures" title="Shard failures">shard failures</a>. If <code class="literal">false</code>, returns an error with
no partial results. Defaults to <code class="literal">true</code>.
</p>
<p>To override the default for this field, set the
<code class="literal">search.default_allow_partial_results</code> cluster setting to <code class="literal">false</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">batched_reduce_size</code>
</span>
</dt>
<dd>
(Optional, integer) The number of shard results that should be reduced at once
on the coordinating node. This value should be used as a protection mechanism
to reduce the memory overhead per search request if the potential number of
shards in the request can be large. Defaults to <code class="literal">512</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="ccs-minimize-roundtrips"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ccs_minimize_roundtrips</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, network round-trips between the
coordinating node and the remote clusters are minimized when executing
cross-cluster search (CCS) requests. See <a class="xref" href="modules-cross-cluster-search.html#ccs-network-delays" title="How cross-cluster search handles network delays">How cross-cluster search handles network delays</a>. Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">docvalue_fields</code>
</span>
</dt>
<dd>
(Optional, string) A comma-separated list of fields to return as the docvalue
representation of a field for each hit.
</dd>
<dt>
<span class="term">
<code class="literal">expand_wildcards</code>
</span>
</dt>
<dd>
<p>(Optional, string)
Type of index that wildcard expressions can match. If the request can target
data streams, this argument determines whether wildcard expressions match
hidden data streams. Supports comma-separated values, such as <code class="literal">open,hidden</code>.
Valid values are:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">all</code>
</span>
</dt>
<dd>
Match any data stream or index, including <a class="xref" href="multi-index.html#hidden-indices" title="Hidden data streams and indices">hidden</a> ones.
</dd>
<dt>
<span class="term">
<code class="literal">open</code>
</span>
</dt>
<dd>
Match open, non-hidden indices. Also matches any non-hidden data stream.
</dd>
<dt>
<span class="term">
<code class="literal">closed</code>
</span>
</dt>
<dd>
Match closed, non-hidden indices. Also matches any non-hidden data stream. Data
streams cannot be closed.
</dd>
<dt>
<span class="term">
<code class="literal">hidden</code>
</span>
</dt>
<dd>
Match hidden data streams and hidden indices. Must be combined with <code class="literal">open</code>,
<code class="literal">closed</code>, or both.
</dd>
<dt>
<span class="term">
<code class="literal">none</code>
</span>
</dt>
<dd>
Wildcard expressions are not accepted.
</dd>
</dl>
</div>
<p>Defaults to <code class="literal">open</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">explain</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns detailed information about score
computation as part of a hit. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">from</code>
</span>
</dt>
<dd>
<p>
(Optional, integer) Starting document offset. Defaults to <code class="literal">0</code>.
</p>
<p>By default, you cannot page through more than 10,000 hits using the <code class="literal">from</code> and
<code class="literal">size</code> parameters. To page through more hits, use the
<a class="xref" href="paginate-search-results.html#search-after" title="Search after"><code class="literal">search_after</code></a> parameter.</p>
</dd>
<dt>
<span class="term">
<code class="literal">ignore_throttled</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, concrete, expanded or aliased indices will be
ignored when frozen. Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">ignore_unavailable</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, missing or closed indices are not included in the
response. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">max_concurrent_shard_requests</code>
</span>
</dt>
<dd>
(Optional, integer) Defines the number of concurrent shard requests per node
this search executes concurrently. This value should be used to limit the
impact of the search on the cluster in order to limit the number of concurrent
shard requests. Defaults to <code class="literal">5</code>.
</dd>
<dt>
<span class="term">
<code class="literal">pre_filter_shard_size</code>
</span>
</dt>
<dd>
<p>
(Optional, integer) Defines a threshold that enforces a pre-filter roundtrip
to prefilter search shards based on query rewriting if the number of shards
the search request expands to exceeds the threshold. This filter roundtrip can
limit the number of shards significantly if for instance a shard can not match
any documents based on its rewrite method ie. if date filters are mandatory
to match but the shard bounds and the query are disjoint.
When unspecified, the pre-filter phase is executed if any of these conditions is met:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The request targets more than <code class="literal">128</code> shards.
</li>
<li class="listitem">
The request targets one or more read-only index.
</li>
<li class="listitem">
The primary sort of the query targets an indexed field.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="search-preference"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">preference</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Nodes and shards used for the search. By default, Elasticsearch selects from eligible
nodes and shards using <a class="xref" href="search-shard-routing.html#search-adaptive-replica" title="Adaptive replica selection">adaptive replica selection</a>,
accounting for <a class="xref" href="modules-cluster.html#shard-allocation-awareness" title="Shard allocation awareness">allocation awareness</a>.
</p>
<details open>
<summary class="title">Valid values for <code class="literal">preference</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_only_local</code>
</span>
</dt>
<dd>
Run the search only on shards on the local node.
</dd>
<dt>
<span class="term">
<code class="literal">_local</code>
</span>
</dt>
<dd>
If possible, run the search on shards on the local node. If not, select shards
using the default method.
</dd>
<dt>
<span class="term">
<code class="literal">_only_nodes:&lt;node-id&gt;,&lt;node-id&gt;</code>
</span>
</dt>
<dd>
Run the search on only the specified nodes IDs. If suitable shards exist on more
than one selected nodes, use shards on those nodes using the default method. If
none of the specified nodes are available, select shards from any available node
using the default method.
</dd>
<dt>
<span class="term">
<code class="literal">_prefer_nodes:&lt;node-id&gt;,&lt;node-id&gt;</code>
</span>
</dt>
<dd>
If possible, run the search on the specified nodes IDs. If not, select shards
using the default method.
</dd>
<dt>
<span class="term">
<code class="literal">_shards:&lt;shard&gt;,&lt;shard&gt;</code>
</span>
</dt>
<dd>
Run the search only on the specified shards. This value can be combined with
other <code class="literal">preference</code> values, but this value must come first. For example:
<code class="literal">_shards:2,3|_local</code>
</dd>
<dt>
<span class="term">
&lt;custom-string&gt;
</span>
</dt>
<dd>
Any string that does not start with <code class="literal">_</code>. If the cluster state and selected
shards do not change, searches using the same <code class="literal">&lt;custom-string&gt;</code> value are routed
to the same shards in the same order.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="search-api-query-params-q"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">q</code>
</span>
</dt>
<dd>
<p>
(Optional, string) Query in the Lucene query string syntax.
</p>
<p>You can use the <code class="literal">q</code> parameter to run a query parameter search. Query parameter
searches do not support the full Elasticsearch <a class="xref" href="query-dsl.html" title="Query DSL">Query DSL</a> but are handy for
testing.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">q</code> parameter overrides the <a class="xref" href="search-search.html#request-body-search-query"><code class="literal">query</code></a>
parameter in the request body. If both parameters are specified, documents
matching the <code class="literal">query</code> request body parameter are not returned.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">request_cache</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, the caching of search results is enabled for
requests where <code class="literal">size</code> is <code class="literal">0</code>. See <a class="xref" href="shard-request-cache.html" title="Shard request cache settings">Shard request cache settings</a>. Defaults to index
level settings.
</dd>
<dt>
<span class="term">
<code class="literal">rest_total_hits_as_int</code>
</span>
</dt>
<dd>
(Optional, Boolean) Indicates whether hits.total should be rendered as an
integer or an object in the rest search response. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">routing</code>
</span>
</dt>
<dd>
(Optional, string) Target the specified primary shard.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="search-api-scroll-query-param"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">scroll</code>
</span>
</dt>
<dd>
<p>
(Optional, <a class="xref" href="common-options.html#time-units" title="Time units">time value</a>)
Period to retain the <a class="xref" href="paginate-search-results.html#scroll-search-context" title="Keeping the search context alive">search context</a> for scrolling. See
<a class="xref" href="paginate-search-results.html#scroll-search-results" title="Scroll search results">Scroll search results</a>.
</p>
<p>By default, this value cannot exceed <code class="literal">1d</code> (24 hours). You can change
this limit using the <code class="literal">search.max_keep_alive</code> cluster-level setting.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="search-type"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">search_type</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
How <a href="https://en.wikipedia.org/wiki/Tf–idf" class="ulink" target="_top">distributed term frequencies</a> are calculated for
<a class="xref" href="query-filter-context.html#relevance-scores" title="Relevance scores">relevance scoring</a>.
</p>
<details open>
<summary class="title">Valid values for <code class="literal">search_type</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">query_then_fetch</code>
</span>
</dt>
<dd>
(Default)
Distributed term frequencies are calculated locally for each shard running the
search. We recommend this option for faster searches with potentially less
accurate scoring.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="dfs-query-then-fetch"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">dfs_query_then_fetch</code>
</span>
</dt>
<dd>
Distributed term frequencies are calculated globally, using information gathered
from all shards running the search. While this option increases the accuracy of
scoring, it adds a round-trip to each shard, which can result in slower
searches.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">seq_no_primary_term</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns sequence number and primary term of the
last modification of each hit. See <a class="xref" href="optimistic-concurrency-control.html" title="Optimistic concurrency control">Optimistic concurrency control</a>.
</dd>
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
<p>
(Optional, integer) Defines the number of hits to return. Defaults to <code class="literal">10</code>.
</p>
<p>By default, you cannot page through more than 10,000 hits using the <code class="literal">from</code> and
<code class="literal">size</code> parameters. To page through more hits, use the
<a class="xref" href="paginate-search-results.html#search-after" title="Search after"><code class="literal">search_after</code></a> parameter.</p>
</dd>
<dt>
<span class="term">
<code class="literal">sort</code>
</span>
</dt>
<dd>
(Optional, string) A comma-separated list of &lt;field&gt;:&lt;direction&gt; pairs.
</dd>
<dt>
<span class="term">
<code class="literal">_source</code>
</span>
</dt>
<dd>
<p>
(Optional)
Indicates which <a class="xref" href="mapping-source-field.html" title="_source field">source fields</a> are returned for matching
documents. These fields are returned in the <code class="literal">hits._source</code> property of
the search response. Defaults to <code class="literal">true</code>.
</p>
<details open>
<summary class="title">Valid values for <code class="literal">_source</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">true</code>
</span>
</dt>
<dd>
(Boolean)
The entire document source is returned.
</dd>
<dt>
<span class="term">
<code class="literal">false</code>
</span>
</dt>
<dd>
(Boolean)
The document source is not returned.
</dd>
<dt>
<span class="term">
<code class="literal">&lt;string&gt;</code>
</span>
</dt>
<dd>
(string)
Comma-separated list of source fields to return.
Wildcard (<code class="literal">*</code>) patterns are supported.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">_source_excludes</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
A comma-separated list of <a class="xref" href="mapping-source-field.html" title="_source field">source fields</a> to exclude from
the response.
</p>
<p>You can also use this parameter to exclude fields from the subset specified in
<code class="literal">_source_includes</code> query parameter.</p>
<p>If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.</p>
</dd>
<dt>
<span class="term">
<code class="literal">_source_includes</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
A comma-separated list of <a class="xref" href="mapping-source-field.html" title="_source field">source fields</a> to
include in the response.
</p>
<p>If this parameter is specified, only these source fields are returned. You can
exclude fields from this subset using the <code class="literal">_source_excludes</code> query parameter.</p>
<p>If the <code class="literal">_source</code> parameter is <code class="literal">false</code>, this parameter is ignored.</p>
</dd>
<dt>
<span class="term">
<code class="literal">stats</code>
</span>
</dt>
<dd>
(Optional, string) Specific <code class="literal">tag</code> of the request for logging and statistical
purposes.
</dd>
<dt>
<span class="term">
<code class="literal">stored_fields</code>
</span>
</dt>
<dd>
<p>
(Optional, string) A comma-separated list of stored fields to return as part
of a hit. If no fields are specified, no stored fields are included in the
response.
</p>
<p>If this field is specified, the <code class="literal">_source</code> parameter defaults to <code class="literal">false</code>. You can
pass <code class="literal">_source: true</code> to return both source fields and
stored fields in the search response.</p>
</dd>
<dt>
<span class="term">
<code class="literal">suggest_field</code>
</span>
</dt>
<dd>
(Optional, string) Specifies which field to use for suggestions.
</dd>
<dt>
<span class="term">
<code class="literal">suggest_text</code>
</span>
</dt>
<dd>
(Optional, string) The source text for which the suggestions should be
returned.
</dd>
<dt>
<span class="term">
<code class="literal">terminate_after</code>
</span>
</dt>
<dd>
<p>
(Optional, integer) The maximum number of documents to collect for each shard,
upon reaching which the query execution will terminate early.
</p>
<p>Defaults to <code class="literal">0</code>, which does not terminate query execution early.</p>
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="common-options.html#time-units" title="Time units">time units</a>) Specifies the period of time to wait
for a response. If no response is received before the timeout expires, the
request fails and returns an error. Defaults to no timeout.
</dd>
<dt>
<span class="term">
<code class="literal">track_scores</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, calculate and return document scores, even if
the scores are not used for sorting. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">track_total_hits</code>
</span>
</dt>
<dd>
<p>
(Optional, integer or Boolean)
Number of hits matching the query to count accurately. Defaults to <code class="literal">10000</code>.
</p>
<p>If <code class="literal">true</code>, the exact number of hits is returned at the cost of some performance.
If <code class="literal">false</code>, the response does not include the total number of hits matching the query.</p>
</dd>
<dt>
<span class="term">
<code class="literal">typed_keys</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, aggregation and suggester names are be prefixed
by their respective types in the response. Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">version</code>
</span>
</dt>
<dd>
(Optional, Boolean)
If <code class="literal">true</code>, returns document version as part of a hit. Defaults to <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-search-api-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/search/search.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<a id="search-docvalue-fields-param"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">docvalue_fields</code>
</span>
</dt>
<dd>
<p>
(Optional, array of strings and objects)
Array of wildcard (<code class="literal">*</code>) patterns. The request returns doc values for field names
matching these patterns in the <code class="literal">hits.fields</code> property of the response.
</p>
<p>You can specify items in the array as a string or object.
See <a class="xref" href="search-fields.html#docvalue-fields" title="Doc value fields">Doc value fields</a>.</p>
<details open>
<summary class="title">Properties of <code class="literal">docvalue_fields</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">field</code>
</span>
</dt>
<dd>
(Required, string)
Wildcard pattern. The request returns doc values for field names matching this
pattern.
</dd>
<dt>
<span class="term">
<code class="literal">format</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Format in which the doc values are returned.
</p>
<p>For <a class="xref" href="date.html" title="Date field type">date fields</a>, you can specify a  date <a class="xref" href="mapping-date-format.html" title="format">date
<code class="literal">format</code></a>. For <a class="xref" href="number.html" title="Numeric field types">numeric fields</a> fields, you can specify a
<a href="https://docs.oracle.com/javase/8/docs/api/java/text/DecimalFormat.html" class="ulink" target="_top">DecimalFormat
pattern</a>.</p>
<p>For other field data types, this parameter is not supported.</p>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">fields</code>
</span>
</dt>
<dd>
<p>
(Optional, array of strings and objects)
Array of wildcard (<code class="literal">*</code>) patterns. The request returns values for field names
matching these patterns in the <code class="literal">hits.fields</code> property of the response.
</p>
<p>You can specify items in the array as a string or object.
See <a class="xref" href="search-fields.html#search-fields-param" title="Fields">Fields</a> for more details.</p>
<details open>
<summary class="title">Properties of <code class="literal">fields</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">field</code>
</span>
</dt>
<dd>
(Required, string)
Wildcard pattern. The request returns values for field names matching this pattern.
</dd>
<dt>
<span class="term">
<code class="literal">format</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Format in which the values are returned.
</p>
<p>The date fields <a class="xref" href="date.html" title="Date field type"><code class="literal">date</code></a> and <a class="xref" href="date_nanos.html" title="Date nanoseconds field type"><code class="literal">date_nanos</code></a> accept a
<a class="xref" href="mapping-date-format.html" title="format">date format</a>. <a class="xref" href="mapping-types.html#spatial_datatypes" title="Spatial data types">Spatial fields</a> accept either
<code class="literal">geojson</code> for <a href="http://www.geojson.org" class="ulink" target="_top">GeoJSON</a> (the default) or <code class="literal">wkt</code> for
<a href="https://en.wikipedia.org/wiki/Well-known_text_representation_of_geometry" class="ulink" target="_top">Well Known Text</a>.</p>
<p>For other field data types, this parameter is not supported.</p>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="request-body-search-explain"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">explain</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns detailed information about score
computation as part of a hit. Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">from</code>
</span>
</dt>
<dd>
<p>
(Optional, integer) Starting document offset. Defaults to <code class="literal">0</code>.
</p>
<p>By default, you cannot page through more than 10,000 hits using the <code class="literal">from</code> and
<code class="literal">size</code> parameters. To page through more hits, use the
<a class="xref" href="paginate-search-results.html#search-after" title="Search after"><code class="literal">search_after</code></a> parameter.</p>
</dd>
<dt>
<span class="term">
<code class="literal">indices_boost</code>
</span>
</dt>
<dd>
<p>
(Optional, array of objects)
Boosts the <a class="xref" href="query-filter-context.html#relevance-scores" title="Relevance scores"><code class="literal">_score</code></a> of documents from specified indices.
</p>
<details open>
<summary class="title">Properties of <code class="literal">indices_boost</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;index&gt;: &lt;boost-value&gt;</code>
</span>
</dt>
<dd>
<p>
(Required, float)
<code class="literal">&lt;index&gt;</code> is the name of the index or index alias. Wildcard (<code class="literal">*</code>) expressions
are supported.
</p>
<p><code class="literal">&lt;boost-value&gt;</code> is the factor by which scores are multiplied.</p>
<p>A boost value greater than <code class="literal">1.0</code> increases the score. A boost value between
<code class="literal">0</code> and <code class="literal">1.0</code> decreases the score.</p>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="search-api-min-score"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">min_score</code>
</span>
</dt>
<dd>
(Optional, float)
Minimum <a class="xref" href="query-filter-context.html#relevance-scores" title="Relevance scores"><code class="literal">_score</code></a> for matching documents. Documents with a
lower <code class="literal">_score</code> are not included in the search results.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="request-body-search-query"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">query</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="query-dsl.html" title="Query DSL">query object</a>) Defines the search definition using the
<a class="xref" href="query-dsl.html" title="Query DSL">Query DSL</a>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="request-body-search-seq-no-primary-term"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">seq_no_primary_term</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, returns sequence number and primary term of the
last modification of each hit. See <a class="xref" href="optimistic-concurrency-control.html" title="Optimistic concurrency control">Optimistic concurrency control</a>.
</dd>
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
<p>
(Optional, integer) The number of hits to return. Defaults to <code class="literal">10</code>.
</p>
<p>By default, you cannot page through more than 10,000 hits using the <code class="literal">from</code> and
<code class="literal">size</code> parameters. To page through more hits, use the
<a class="xref" href="paginate-search-results.html#search-after" title="Search after"><code class="literal">search_after</code></a> parameter.</p>
</dd>
<dt>
<span class="term">
<code class="literal">_source</code>
</span>
</dt>
<dd>
<p>
(Optional)
Indicates which <a class="xref" href="mapping-source-field.html" title="_source field">source fields</a> are returned for matching
documents. These fields are returned in the <code class="literal">hits._source</code> property of
the search response. Defaults to <code class="literal">true</code>.
</p>
<details open>
<summary class="title">Valid values for <code class="literal">_source</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">true</code>
</span>
</dt>
<dd>
(Boolean)
The entire document source is returned.
</dd>
<dt>
<span class="term">
<code class="literal">false</code>
</span>
</dt>
<dd>
(Boolean)
The document source is not returned.
</dd>
<dt>
<span class="term">
<code class="literal">&lt;wildcard_pattern&gt;</code>
</span>
</dt>
<dd>
(string or array of strings)
Wildcard (<code class="literal">*</code>) pattern or array of patterns containing source fields to return.
</dd>
<dt>
<span class="term">
<code class="literal">&lt;object&gt;</code>
</span>
</dt>
<dd>
<p>
(object)
Object containing a list of source fields to include or exclude.
</p>
<details open>
<summary class="title">Properties for <code class="literal">&lt;object&gt;</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">excludes</code>
</span>
</dt>
<dd>
<p>
(string or array of strings)
Wildcard (<code class="literal">*</code>) pattern or array of patterns containing source fields to exclude
from the response.
</p>
<p>You can also use this property to exclude fields from the subset specified in
<code class="literal">includes</code> property.</p>
</dd>
<dt>
<span class="term">
<code class="literal">includes</code>
</span>
</dt>
<dd>
<p>
(string or array of strings)
Wildcard (<code class="literal">*</code>) pattern or array of patterns containing source fields to return.
</p>
<p>If this property is specified, only these source fields are returned. You can
exclude fields from this subset using the <code class="literal">excludes</code> property.</p>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="stats-groups"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">stats</code>
</span>
</dt>
<dd>
(Optional, array of strings)
Stats groups to associate with the search. Each group maintains a statistics
aggregation for its associated searches. You can retrieve these stats using the
<a class="xref" href="indices-stats.html" title="Index stats API">indices stats API</a>.
</dd>
<dt>
<span class="term">
<code class="literal">terminate_after</code>
</span>
</dt>
<dd>
<p>
(Optional, integer) The maximum number of documents to collect for each shard,
upon reaching which the query execution will terminate early.
</p>
<p>Defaults to <code class="literal">0</code>, which does not terminate query execution early.</p>
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="common-options.html#time-units" title="Time units">time units</a>) Specifies the period of time to wait
for a response. If no response is received before the timeout expires, the
request fails and returns an error. Defaults to no timeout.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="request-body-search-version"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">version</code>
</span>
</dt>
<dd>
(Optional, Boolean)
If <code class="literal">true</code>, returns document version as part of a hit. Defaults to <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/search/search.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_scroll_id</code>
</span>
</dt>
<dd>
<p>
(string)
Identifier for the search and its <a class="xref" href="paginate-search-results.html#scroll-search-context" title="Keeping the search context alive">search context</a>.
</p>
<p>You can use this scroll ID with the <a class="xref" href="scroll-api.html" title="Scroll API">scroll API</a> to retrieve the
next batch of search results for the request. See
<a class="xref" href="paginate-search-results.html#scroll-search-results" title="Scroll search results">Scroll search results</a>.</p>
<p>This parameter is only returned if the <a class="xref" href="search-search.html#search-api-scroll-query-param"><code class="literal">scroll</code>
query parameter</a> is specified in the request.</p>
</dd>
<dt>
<span class="term">
<code class="literal">took</code>
</span>
</dt>
<dd>
<p>(integer)
Milliseconds it took Elasticsearch to execute the request.</p>
<p>This value is calculated by measuring the time elapsed
between receipt of a request on the coordinating node
and the time at which the coordinating node is ready to send the response.</p>
<p>Took time includes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Communication time between the coordinating node and data nodes
</li>
<li class="listitem">
Time the request spends in the <code class="literal">search</code> <a class="xref" href="modules-threadpool.html" title="Thread pools">thread pool</a>,
queued for execution
</li>
<li class="listitem">
Actual execution time
</li>
</ul>
</div>
<p>Took time does <span class="strong strong"><strong>not</strong></span> include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Time needed to send the request to Elasticsearch
</li>
<li class="listitem">
Time needed to serialize the JSON response
</li>
<li class="listitem">
Time needed to send the response to a client
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">timed_out</code>
</span>
</dt>
<dd>
(Boolean)
If <code class="literal">true</code>,
the request timed out before completion;
returned results may be partial or empty.
</dd>
<dt>
<span class="term">
<code class="literal">_shards</code>
</span>
</dt>
<dd>
<p>
(object)
Contains a count of shards used for the request.
</p>
<details open>
<summary class="title">Properties of <code class="literal">_shards</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
(integer)
Total number of shards that require querying,
including unallocated shards.
</dd>
<dt>
<span class="term">
<code class="literal">successful</code>
</span>
</dt>
<dd>
(integer)
Number of shards that executed the request successfully.
</dd>
<dt>
<span class="term">
<code class="literal">skipped</code>
</span>
</dt>
<dd>
(integer)
Number of shards that skipped the request because a lightweight check
helped realize that no documents could possibly match on this shard. This
typically happens when a search request includes a range filter and the
shard only has values that fall outside of that range.
</dd>
<dt>
<span class="term">
<code class="literal">failed</code>
</span>
</dt>
<dd>
(integer)
Number of shards that failed to execute the request. Note that shards
that are not allocated will be considered neither successful nor failed.
Having <code class="literal">failed+successful</code> less than <code class="literal">total</code> is thus an indication that
some of the shards were not allocated.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">hits</code>
</span>
</dt>
<dd>
<p>
(object)
Contains returned documents and metadata.
</p>
<details open>
<summary class="title">Properties of <code class="literal">hits</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">total</code>
</span>
</dt>
<dd>
<p>
(object)
Metadata about the number of returned documents.
</p>
<details open>
<summary class="title">Properties of <code class="literal">total</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">value</code>
</span>
</dt>
<dd>
(integer)
Total number of returned documents.
</dd>
<dt>
<span class="term">
<code class="literal">relation</code>
</span>
</dt>
<dd>
<p>
(string)
Indicates whether the number of returned documents in the <code class="literal">value</code>
parameter is accurate or a lower bound.
</p>
<details open>
<summary class="title">Values of <code class="literal">relation</code>:</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">eq</code>
</span>
</dt>
<dd>
Accurate
</dd>
<dt>
<span class="term">
<code class="literal">gte</code>
</span>
</dt>
<dd>
Lower bound, including returned documents
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">max_score</code>
</span>
</dt>
<dd>
<p>
(float)
Highest returned <a class="xref" href="search-search.html#search-api-response-body-score">document <code class="literal">_score</code></a>.
</p>
<p>This value is <code class="literal">null</code> for requests that do not sort by <code class="literal">_score</code>.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="search-api-response-body-hits"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">hits</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Array of returned document objects.
</p>
<details open>
<summary class="title">Properties of <code class="literal">hits</code> objects</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_index</code>
</span>
</dt>
<dd>
(string)
Name of the index containing the returned document.
</dd>
<dt>
<span class="term">
<code class="literal">_type</code>
</span>
</dt>
<dd>
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">6.0.0</span>]
<span class="Admonishment-detail">
Deprecated in 6.0.0. Mapping types are deprecated and will be removed in 8.0. See <a class="xref" href="removal-of-types.html" title="Removal of mapping types"><em>Removal of mapping types</em></a>.
</span>
</span>
(string)
Mapping type of the returned document.
</dd>
<dt>
<span class="term">
<code class="literal">_id</code>
</span>
</dt>
<dd>
(string)
Unique identifier for the returned document.
This ID is only unique within the returned index.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="search-api-response-body-score"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_score</code>
</span>
</dt>
<dd>
(float)
Positive 32-bit floating point number used to determine the relevance of the
returned document.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="search-api-response-body-source"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">_source</code>
</span>
</dt>
<dd>
<p>
(object)
Original JSON body passed for the document at index time.
</p>
<p>You can use the <code class="literal">_source</code> parameter to exclude this property from the response
or specify which source fields to return.</p>
</dd>
<dt>
<span class="term">
<code class="literal">fields</code>
</span>
</dt>
<dd>
<p>(object)
Contains field values for the documents. These fields must be specified in the
request using one or more of the following request parameters:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="search-search.html#search-docvalue-fields-param"><code class="literal">docvalue_fields</code></a>
</li>
<li class="listitem">
<a class="xref" href="search-fields.html#script-fields" title="Script fields"><code class="literal">script_fields</code></a>
</li>
<li class="listitem">
<a class="xref" href="search-fields.html#stored-fields" title="Stored fields"><code class="literal">stored_fields</code></a>
</li>
</ul>
</div>
<p>This property is returned only if one or more of these parameters are set.</p>
<details open>
<summary class="title">Properties of <code class="literal">fields</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;field&gt;</code>
</span>
</dt>
<dd>
(array)
Key is the field name. Value is the value for the field.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="search-search-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/search/search.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET /my-index-000001/_search
{
  "query": {
    "term": {
      "user.id": "kimchy"
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/2189.console"></div>
<p>The API returns the following response:</p>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "took": 5,
  "timed_out": false,
  "_shards": {
    "total": 1,
    "successful": 1,
    "skipped": 0,
    "failed": 0
  },
  "hits": {
    "total": {
      "value": 1,
      "relation": "eq"
    },
    "max_score": 1.3862942,
    "hits": [
      {
        "_index": "my-index-000001",
        "_type" : "_doc",
        "_id": "0",
        "_score": 1.3862942,
        "_source": {
          "@timestamp": "2099-11-15T14:12:12",
          "http": {
            "request": {
              "method": "get"
            },
            "response": {
              "status_code": 200,
              "bytes": 1070000
            },
            "version": "1.1"
          },
          "source": {
            "ip": "127.0.0.1"
          },
          "message": "GET /search HTTP/1.1 200 1070000",
          "user": {
            "id": "kimchy"
          }
        }
      }
    ]
  }
}</pre>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="search.html">« Search APIs</a>
</span>
<span class="next">
<a href="async-search.html">Async search »</a>
</span>
</div>
</div>
</body>
</html>
