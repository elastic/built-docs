<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Get Snapshot Lifecycle Policy API
        | Elasticsearch Reference [7.x]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [7.x]" /><link rel="up" href="snapshot-lifecycle-management-api.html" title="Snapshot lifecycle management API" /><link rel="prev" href="slm-api-put.html" title="Put Snapshot Lifecycle Policy API" /><link rel="next" href="slm-api-execute.html" title="Execute Snapshot Lifecycle Policy API" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/7.x" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="7.x" /></head><body><div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [7.x]
    </a></span> » <span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span> » <span class="breadcrumb-link"><a href="snapshot-lifecycle-management-api.html">Snapshot lifecycle management API</a></span> » <span class="breadcrumb-node">Get Snapshot Lifecycle Policy API</span></div><div class="navheader"><span class="prev"><a href="slm-api-put.html">
              « 
              Put Snapshot Lifecycle Policy API</a>
           
        </span><span class="next">
           
          <a href="slm-api-execute.html">Execute Snapshot Lifecycle Policy API
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="slm-api-get"></a>Get Snapshot Lifecycle Policy API<a href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/ilm/apis/slm-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Once a policy is in place, you can retrieve one or more of the policies using
the get snapshot lifecycle policy API. This also includes information about the
latest successful and failed invocation that the automatic snapshots have taken.</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_path_parameters_12"></a>Path Parameters<a href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/ilm/apis/slm-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">policy_ids</code> (optional)</span></dt><dd>(string) Comma-separated ids of policies to retrieve.</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_examples_33"></a>Examples<a href="https://github.com/elastic/elasticsearch/edit/7.x/docs/reference/ilm/apis/slm-api.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h3></div></div></div><p>To retrieve a policy, perform a <code class="literal">GET</code> with the policy’s id</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">GET /_slm/policy/daily-snapshots?human</pre></div><div class="console_widget" data-snippet="snippets/1910.console"></div><p>The output looks similar to the following:</p><div class="pre_wrapper lang-console-result"><pre class="programlisting prettyprint lang-console-result">{
  "daily-snapshots" : {
    "version": 1, <a id="CO643-1"></a><i class="conum" data-value="1"></i>
    "modified_date": "2019-04-23T01:30:00.000Z", <a id="CO643-2"></a><i class="conum" data-value="2"></i>
    "modified_date_millis": 1556048137314,
    "policy" : {
      "schedule": "0 30 1 * * ?",
      "name": "&lt;daily-snap-{now/d}&gt;",
      "repository": "my_repository",
      "config": {
        "indices": ["data-*", "important"],
        "ignore_unavailable": false,
        "include_global_state": false
      },
      "retention": {
        "expire_after": "30d",
        "min_count": 5,
        "max_count": 50
      }
    },
    "stats": {
      "policy": "daily-snapshots",
      "snapshots_taken": 0,
      "snapshots_failed": 0,
      "snapshots_deleted": 0,
      "snapshot_deletion_failures": 0
    },
    "next_execution": "2019-04-24T01:30:00.000Z", <a id="CO643-3"></a><i class="conum" data-value="3"></i>
    "next_execution_millis": 1556048160000
  }
}</pre></div><div class="calloutlist"><table border="0" summary="Callout list"><tr><td width="5%" valign="top" align="left"><p><a href="#CO643-1"><i class="conum" data-value="1"></i></a> </p></td><td valign="top" align="left"><p>The version of the snapshot policy, only the latest verison is stored and incremented when the policy is updated</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO643-2"><i class="conum" data-value="2"></i></a> </p></td><td valign="top" align="left"><p>The last time this policy was modified</p></td></tr><tr><td width="5%" valign="top" align="left"><p><a href="#CO643-3"><i class="conum" data-value="3"></i></a> </p></td><td valign="top" align="left"><p>The next time this policy will be executed</p></td></tr></table></div><p>Or, to retrieve all policies:</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">GET /_slm/policy</pre></div><div class="console_widget" data-snippet="snippets/1911.console"></div></div></div><div class="navfooter"><span class="prev"><a href="slm-api-put.html">
              « 
              Put Snapshot Lifecycle Policy API</a>
           
        </span><span class="next">
           
          <a href="slm-api-execute.html">Execute Snapshot Lifecycle Policy API
               »
            </a></span></div></body></html>
