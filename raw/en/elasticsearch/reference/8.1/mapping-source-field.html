<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>_source field | Elasticsearch Guide [8.1] | Elastic</title>
<meta class="elastic" name="content" content="_source field | Elasticsearch Guide [8.1]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.1]"/>
<link rel="up" href="mapping-fields.html" title="Metadata fields"/>
<link rel="prev" href="mapping-routing-field.html" title="_routing field"/>
<link rel="next" href="mapping-tier-field.html" title="_tier field"/>
<meta class="elastic" name="product_version" content="8.1"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.1"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.1"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="mapping-routing-field.html">« <code class="literal">_routing</code> field</a>
</span>
<span class="next">
<a href="mapping-tier-field.html"><code class="literal">_tier</code> field »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.1]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="mapping.html">Mapping</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="mapping-fields.html">Metadata fields</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>_source field</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/mapping/fields/source-field.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="mapping-source-field"></a><code class="literal">_source</code> field</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/mapping/fields/source-field.asciidoc">edit</a></div>
</div></div></div>
<p>The <code class="literal">_source</code> field contains the original JSON document body that was passed
at index time. The <code class="literal">_source</code> field itself is not indexed (and thus is not
searchable), but it is stored so that it can be returned when executing
<em>fetch</em> requests, like <a class="xref" href="docs-get.html" title="Get API">get</a> or <a class="xref" href="search-search.html" title="Search API">search</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="disable-source-field"></a>Disabling the <code class="literal">_source</code> field</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/mapping/fields/source-field.asciidoc">edit</a></div>
</div></div></div>
<p>Though very handy to have around, the source field does incur storage overhead
within the index. For this reason, it can be disabled as follows:</p>
<a id="b9f716219359a6c973dafc50b348de33"></a>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT my-index-000001
{
  "mappings": {
    "_source": {
      "enabled": false
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/299.console"></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Think before disabling the <code class="literal">_source</code> field</h3>
<p>Users often disable the <code class="literal">_source</code> field without thinking about the
consequences, and then live to regret it. If the <code class="literal">_source</code> field isn&#8217;t
available then a number of features are not supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <a class="xref" href="docs-update.html" title="Update API"><code class="literal">update</code></a>, <a class="xref" href="docs-update-by-query.html" title="Update By Query API"><code class="literal">update_by_query</code></a>,
and <a class="xref" href="docs-reindex.html" title="Reindex API"><code class="literal">reindex</code></a> APIs.
</li>
<li class="listitem">
On the fly <a class="xref" href="highlighting.html" title="Highlighting">highlighting</a>.
</li>
<li class="listitem">
The ability to reindex from one Elasticsearch index to another, either
to change mappings or analysis, or to upgrade an index to a new major
version.
</li>
<li class="listitem">
The ability to debug queries or aggregations by viewing the original
document used at index time.
</li>
<li class="listitem">
Potentially in the future, the ability to repair index corruption
automatically.
</li>
</ul>
</div>
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If disk space is a concern, rather increase the
<a class="xref" href="index-modules.html#index-codec">compression level</a> instead of disabling the <code class="literal">_source</code>.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="include-exclude"></a>Including / Excluding fields from <code class="literal">_source</code></h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.1/docs/reference/mapping/fields/source-field.asciidoc">edit</a></div>
</div></div></div>
<p>An expert-only feature is the ability to prune the contents of the <code class="literal">_source</code>
field after the document has been indexed, but before the <code class="literal">_source</code> field is
stored.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Removing fields from the <code class="literal">_source</code> has similar downsides to disabling
<code class="literal">_source</code>, especially the fact that you cannot reindex documents from one
Elasticsearch index to another. Consider using
<a class="xref" href="search-fields.html#source-filtering" title="The _source option">source filtering</a> instead.</p>
</div>
</div>
<p>The <code class="literal">includes</code>/<code class="literal">excludes</code> parameters (which also accept wildcards) can be used
as follows:</p>
<a id="b557f114e21dbc6f531d4e7621a08e8f"></a>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT logs
{
  "mappings": {
    "_source": {
      "includes": [
        "*.count",
        "meta.*"
      ],
      "excludes": [
        "meta.description",
        "meta.other.*"
      ]
    }
  }
}

PUT logs/_doc/1
{
  "requests": {
    "count": 10,
    "foo": "bar" <a id="CO88-1"></a><i class="conum" data-value="1"></i>
  },
  "meta": {
    "name": "Some metric",
    "description": "Some metric description", <a id="CO88-2"></a><i class="conum" data-value="1"></i>
    "other": {
      "foo": "one", <a id="CO88-3"></a><i class="conum" data-value="1"></i>
      "baz": "two" <a id="CO88-4"></a><i class="conum" data-value="1"></i>
    }
  }
}

GET logs/_search
{
  "query": {
    "match": {
      "meta.other.foo": "one" <a id="CO88-5"></a><i class="conum" data-value="2"></i>
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/300.console"></div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO88-1"><i class="conum" data-value="1"></i></a><a href="#CO88-2"></a><a href="#CO88-3"></a><a href="#CO88-4"></a></p>
</td>
<td align="left" valign="top">
<p>These fields will be removed from the stored <code class="literal">_source</code> field.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO88-5"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>We can still search on this field, even though it is not in the stored <code class="literal">_source</code>.</p>
</td>
</tr>
</table>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="mapping-routing-field.html">« <code class="literal">_routing</code> field</a>
</span>
<span class="next">
<a href="mapping-tier-field.html"><code class="literal">_tier</code> field »</a>
</span>
</div>
</body>
</html>
