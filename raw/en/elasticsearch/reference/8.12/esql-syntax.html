<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ES|QL syntax reference | Elasticsearch Guide [8.12] | Elastic</title>
<meta class="elastic" name="content" content="ES|QL syntax reference | Elasticsearch Guide [8.12]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.12]"/>
<link rel="up" href="esql-language.html" title="Learning ES|QL"/>
<link rel="prev" href="esql-language.html" title="Learning ES|QL"/>
<link rel="next" href="esql-commands.html" title="ES|QL commands"/>
<meta class="elastic" name="product_version" content="8.12"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.12"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.12"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.12]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="esql.html">ES|QL</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="esql-language.html">Learning ES|QL</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="esql-language.html">« Learning ES|QL</a>
</span>
<span class="next">
<a href="esql-commands.html">ES|QL commands »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="esql-syntax"></a>ES|QL syntax reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.12/docs/reference/esql/esql-syntax.asciidoc">edit</a></h2>
</div></div></div>

<h3><a id="esql-basic-syntax"></a>Basic syntax<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.12/docs/reference/esql/esql-syntax.asciidoc">edit</a></h3>
<p>An ES|QL query is composed of a <a class="xref" href="esql-commands.html" title="ES|QL commands">source command</a> followed
by an optional series of <a class="xref" href="esql-commands.html" title="ES|QL commands">processing commands</a>,
separated by a pipe character: <code class="literal">|</code>. For example:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">source-command
| processing-command1
| processing-command2</pre>
</div>
<p>The result of a query is the table produced by the final processing command.</p>
<p>For an overview of all supported commands, functions, and operators, refer to <a class="xref" href="esql-commands.html" title="ES|QL commands">Commands</a> and <a class="xref" href="esql-functions-operators.html" title="ES|QL functions and operators">Functions and operators</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>For readability, this documentation puts each processing command on a new
line. However, you can write an ES|QL query as a single line. The following
query is identical to the previous one:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">source-command | processing-command1 | processing-command2</pre>
</div>
</div>
</div>
<h4><a id="esql-identifiers"></a>Identifiers<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.12/docs/reference/esql/esql-syntax.asciidoc">edit</a></h4>
<p>The identifiers can be used as they are and don&#8217;t require quoting, unless
containing special characters, in which case they must be quoted with
backticks (<code class="literal">`</code>). What "special characters" means is command dependent.</p>
<p>For <a class="xref" href="esql-commands.html#esql-from" title="FROM">FROM</a>, <a class="xref" href="esql-commands.html#esql-keep" title="KEEP">KEEP</a>, <a class="xref" href="esql-commands.html#esql-drop" title="DROP">DROP</a>,
<a class="xref" href="esql-commands.html#esql-rename" title="RENAME">RENAME</a>, <a class="xref" href="esql-commands.html#esql-mv_expand" title="MV_EXPAND">MV_EXPAND</a> and
<a class="xref" href="esql-commands.html#esql-enrich" title="ENRICH">ENRICH</a> these are: <code class="literal">=</code>, <code class="literal">`</code>, <code class="literal">,</code>, ` ` (space), <code class="literal">|</code> ,
<code class="literal">[</code>, <code class="literal">]</code>, <code class="literal">\t</code> (TAB), <code class="literal">\r</code> (CR), <code class="literal">\n</code> (LF); one <code class="literal">/</code> is allowed unquoted, but
a sequence of two or more require quoting.</p>
<p>The rest of the commands - those allowing for identifiers be used in
expressions - require quoting if the identifier contains characters other than
letters, numbers and <code class="literal">_</code> and doesn&#8217;t start with a letter, <code class="literal">_</code> or <code class="literal">@</code>.</p>
<p>For instance:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">// Retain just one field
FROM index
| KEEP 1.field</pre>
</div>
<p>is legal. However, if same field is to be used with an <a class="xref" href="esql-commands.html#esql-eval" title="EVAL">EVAL</a>,
it&#8217;d have to be quoted:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">// Copy one field
FROM index
| EVAL my_field = `1.field`</pre>
</div>
<h4><a id="esql-literals"></a>Literals<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.12/docs/reference/esql/esql-syntax.asciidoc">edit</a></h4>
<p>ES|QL currently supports numeric and string literals.</p>
<h5><a id="esql-string-literals"></a>String literals<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.12/docs/reference/esql/esql-syntax.asciidoc">edit</a></h5>
<p>A string literal is a sequence of unicode characters delimited by double
quotes (<code class="literal">"</code>).</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">// Filter by a string value
FROM index
| WHERE first_name == "Georgi"</pre>
</div>
<p>If the literal string itself contains quotes, these need to be escaped (<code class="literal">\\"</code>).
ES|QL also supports the triple-quotes (<code class="literal">"""</code>) delimiter, for convenience:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">ROW name = """Indiana "Indy" Jones"""</pre>
</div>
<p>The special characters CR, LF and TAB can be provided with the usual escaping:
<code class="literal">\r</code>, <code class="literal">\n</code>, <code class="literal">\t</code>, respectively.</p>
<h5><a id="esql-numeric-literals"></a>Numerical literals<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.12/docs/reference/esql/esql-syntax.asciidoc">edit</a></h5>
<p>The numeric literals are accepted in decimal and in the scientific notation
with the exponent marker (<code class="literal">e</code> or <code class="literal">E</code>), starting either with a digit, decimal
point <code class="literal">.</code> or the negative sign <code class="literal">-</code>:</p>
<div class="pre_wrapper lang-sql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sql">1969    -- integer notation
3.14    -- decimal notation
.1234   -- decimal notation starting with decimal point
4E5     -- scientific notation (with exponent marker)
1.2e-3  -- scientific notation with decimal point
-.1e2   -- scientific notation starting with the negative sign</pre>
</div>
<p>The integer numeric literals are implicitly converted to the <code class="literal">integer</code>, <code class="literal">long</code>
or the <code class="literal">double</code> type, whichever can first accommodate the literal&#8217;s value.</p>
<p>The floating point literals are implicitly converted the <code class="literal">double</code> type.</p>
<p>To obtain constant values of different types, use one of the numeric
<a class="xref" href="esql-functions-operators.html#esql-type-conversion-functions" title="ES|QL type conversion functions">conversion functions</a>.</p>
<h4><a id="esql-comments"></a>Comments<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.12/docs/reference/esql/esql-syntax.asciidoc">edit</a></h4>
<p>ES|QL uses C++ style comments:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
double slash <code class="literal">//</code> for single line comments
</li>
<li class="listitem">
<code class="literal">/*</code> and <code class="literal">*/</code> for block comments
</li>
</ul>
</div>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">// Query the employees index
FROM employees
| WHERE height &gt; 2</pre>
</div>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM /* Query the employees index */ employees
| WHERE height &gt; 2</pre>
</div>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM employees
/* Query the
 * employees
 * index */
| WHERE height &gt; 2</pre>
</div>
<h4><a id="esql-timespan-literals"></a>Timespan literals<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.12/docs/reference/esql/esql-syntax.asciidoc">edit</a></h4>
<p>Datetime intervals and timespans can be expressed using timespan literals.
Timespan literals are a combination of a number and a qualifier. These
qualifiers are supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">millisecond</code>/<code class="literal">milliseconds</code>
</li>
<li class="listitem">
<code class="literal">second</code>/<code class="literal">seconds</code>
</li>
<li class="listitem">
<code class="literal">minute</code>/<code class="literal">minutes</code>
</li>
<li class="listitem">
<code class="literal">hour</code>/<code class="literal">hours</code>
</li>
<li class="listitem">
<code class="literal">day</code>/<code class="literal">days</code>
</li>
<li class="listitem">
<code class="literal">week</code>/<code class="literal">weeks</code>
</li>
<li class="listitem">
<code class="literal">month</code>/<code class="literal">months</code>
</li>
<li class="listitem">
<code class="literal">year</code>/<code class="literal">years</code>
</li>
</ul>
</div>
<p>Timespan literals are not whitespace sensitive. These expressions are all valid:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">1day</code>
</li>
<li class="listitem">
<code class="literal">1 day</code>
</li>
<li class="listitem">
<code class="literal">1       day</code>
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="esql-language.html">« Learning ES|QL</a>
</span>
<span class="next">
<a href="esql-commands.html">ES|QL commands »</a>
</span>
</div>
</div>
</body>
</html>
