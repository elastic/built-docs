<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Mapping limit settings | Elasticsearch Guide [8.14] | Elastic</title>
<meta class="elastic" name="content" content="Mapping limit settings | Elasticsearch Guide [8.14]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.14]"/>
<link rel="up" href="mapping.html" title="Mapping"/>
<link rel="prev" href="term-vector.html" title="term_vector"/>
<link rel="next" href="removal-of-types.html" title="Removal of mapping types"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.14"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.14"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="term-vector.html">« <code class="literal">term_vector</code></a>
</span>
<span class="next">
<a href="removal-of-types.html">Removal of mapping types »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="mapping.html">Mapping</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Mapping limit settings</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/mapping/mapping-settings-limit.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="mapping-settings-limit"></a>Mapping limit settings</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/mapping/mapping-settings-limit.asciidoc">edit</a></div>
</div></div></div>
<p>Use the following settings to limit the number of field mappings (created manually or dynamically) and prevent documents from causing a mapping explosion:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.mapping.total_fields.limit</code>
</span>
</dt>
<dd>
<p>
The maximum number of fields in an index. Field and object mappings, as well as
field aliases count towards this limit. Mapped runtime fields count towards this
limit as well. The default value is <code class="literal">1000</code>.
</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The limit is in place to prevent mappings and searches from becoming too
large. Higher values can lead to performance degradations and memory issues,
especially in clusters with a high load or few resources.</p>
<p>If you increase this setting, we recommend you also increase the
<a class="xref" href="search-settings.html" title="Search settings"><code class="literal">indices.query.bool.max_clause_count</code></a> setting, which
limits the maximum number of clauses in a query.</p>
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If your field mappings contain a large, arbitrary set of keys, consider using the <a class="xref" href="flattened.html" title="Flattened field type">flattened</a> data type,
or setting the index setting <code class="literal">index.mapping.total_fields.ignore_dynamic_beyond_limit</code> to <code class="literal">true</code>.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">index.mapping.total_fields.ignore_dynamic_beyond_limit</code>
</span>
</dt>
<dd>
This setting determines what happens when a dynamically mapped field would exceed the total fields limit.
When set to <code class="literal">false</code> (the default), the index request of the document that tries to add a dynamic field to the mapping will fail with the message <code class="literal">Limit of total fields [X] has been exceeded</code>.
When set to <code class="literal">true</code>, the index request will not fail.
Instead, fields that would exceed the limit are not added to the mapping, similar to <a class="xref" href="dynamic.html" title="dynamic"><code class="literal">dynamic: false</code></a>.
The fields that were not added to the mapping will be added to the <a class="xref" href="mapping-ignored-field.html" title="_ignored field"><code class="literal">_ignored</code> field</a>.
The default value is <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">index.mapping.depth.limit</code>
</span>
</dt>
<dd>
The maximum depth for a field, which is measured as the number of inner
objects. For instance, if all fields are defined at the root object level,
then the depth is <code class="literal">1</code>. If there is one object mapping, then the depth is
<code class="literal">2</code>, etc. Default is <code class="literal">20</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.mapping.nested_fields.limit</code>
</span>
</dt>
<dd>
The maximum number of distinct <code class="literal">nested</code> mappings in an index. The <code class="literal">nested</code> type should only be used in special cases, when arrays of objects need to be queried independently of each other. To safeguard against poorly designed mappings, this setting
limits the number of unique <code class="literal">nested</code> types per index. Default is <code class="literal">50</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.mapping.nested_objects.limit</code>
</span>
</dt>
<dd>
The maximum number of nested JSON objects that a single document can contain across all
<code class="literal">nested</code> types. This limit helps to prevent out of memory errors when a document contains too many nested
objects. Default is <code class="literal">10000</code>.
</dd>
<dt>
<span class="term">
<code class="literal">index.mapping.field_name_length.limit</code>
</span>
</dt>
<dd>
Setting for the maximum length of a field name. This setting isn&#8217;t really something that addresses
mappings explosion but might still be useful if you want to limit the field length.
It usually shouldn&#8217;t be necessary to set this setting. The default is okay
unless a user starts to add a huge number of fields with really long names. Default is
<code class="literal">Long.MAX_VALUE</code> (no limit).
</dd>
<dt>
<span class="term">
<code class="literal">index.mapping.dimension_fields.limit</code>
</span>
</dt>
<dd>
(<a class="xref" href="index-modules.html#dynamic-index-settings" title="Dynamic index settings">Dynamic</a>, integer)
Maximum number of <a class="xref" href="tsds.html#time-series-dimension" title="Dimensions">time series dimensions</a> for the
index. Defaults to <code class="literal">32768</code>.
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="term-vector.html">« <code class="literal">term_vector</code></a>
</span>
<span class="next">
<a href="removal-of-types.html">Removal of mapping types »</a>
</span>
</div>
</body>
</html>
