<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Migrating to 8.14 | Elasticsearch Guide [8.14] | Elastic</title>
<meta class="elastic" name="content" content="Migrating to 8.14 | Elasticsearch Guide [8.14]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.14]"/>
<link rel="up" href="breaking-changes.html" title="Migration guide"/>
<link rel="prev" href="breaking-changes.html" title="Migration guide"/>
<link rel="next" href="migrating-8.13.html" title="Migrating to 8.13"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.14"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.14"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="breaking-changes.html">« Migration guide</a>
</span>
<span class="next">
<a href="migrating-8.13.html">Migrating to 8.13 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="breaking-changes.html">Migration guide</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Migrating to 8.14</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/migration/migrate_8_14.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="migrating-8.14"></a>Migrating to 8.14<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/migration/migrate_8_14.asciidoc">edit</a></h2>
</div></div></div>

<p>This section discusses the changes that you need to be aware of when migrating
your application to Elasticsearch 8.14.</p>
<p>See also <a class="xref" href="release-highlights.html" title="What&#8217;s new in 8.14"><em>What&#8217;s new in 8.14</em></a> and <a class="xref" href="es-release-notes.html" title="Release notes">Release notes</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Coming in 8.14.0.</p>
</div>
</div>
<h3><a id="breaking-changes-8.14"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/migration/migrate_8_14.asciidoc">edit</a></h3>
<p>The following changes in Elasticsearch 8.14 might affect your applications
and prevent them from operating normally.
Before upgrading to 8.14, review these changes and take the described steps
to mitigate the impact.</p>
<p>There are no notable breaking changes in Elasticsearch 8.14.
But there are some less critical breaking changes.</p>
<h4><a id="breaking_814_rest_api_changes"></a>REST API changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/migration/migrate_8_14.asciidoc">edit</a></h4>
<details id="prevent_dls_fls_if_replication_assigned">
<summary class="title">Prevent DLS/FLS if <code class="literal">replication</code> is assigned</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
For cross-cluster API keys, Elasticsearch no longer allows specifying document-level security (DLS) or field-level security (FLS) in the <code class="literal">search</code> field, if <code class="literal">replication</code> is also specified. Elasticsearch likewise blocks the use of any existing cross-cluster API keys that meet this condition.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Remove any document-level security (DLS) or field-level security (FLS) definitions from the <code class="literal">search</code> field for cross-cluster API keys that also have a <code class="literal">replication</code> field, or create two separate cross-cluster API keys, one for search and one for replication.</p>
</div>
</details>
<h4><a id="breaking_814_dls_changes"></a>Stricter Document Level Security (DLS)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/migration/migrate_8_14.asciidoc">edit</a></h4>
<details id="stricter_dls_814">
<summary class="title">Document Level Security (DLS) applies stricter checks for the validate query API and for terms aggregations when min_doc_count is set to 0.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
When Document Level Security (DLS) is applied to terms aggregations and min_doc_count is set to 0, stricter security rules apply.</p>
<p>When Document Level Security (DLS) is applied to the validate query API with the rewrite parameter, stricter security rules apply.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If needed, test workflows with DLS enabled to ensure that the stricter security rules do not impact your application.</p>
</div>
</details>
<h3><a id="deprecated-8.14"></a>Deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/migration/migrate_8_14.asciidoc">edit</a></h3>
<p>The following functionality has been deprecated in Elasticsearch 8.14
and will be removed in a future version.
While this won&#8217;t have an immediate impact on your applications,
we strongly encourage you to take the described steps to update your code
after upgrading to 8.14.</p>
<p>To find out if you are using any deprecated functionality,
enable <a class="xref" href="logging.html#deprecation-logging" title="Deprecation logging">deprecation logging</a>.</p>
<h4><a id="deprecations_814_mapping"></a>Mapping deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/migration/migrate_8_14.asciidoc">edit</a></h4>
<details id="deprecate_allowing_fields_in_scenarios_where_it_ignored">
<summary class="title">Deprecate allowing <code class="literal">fields</code> in scenarios where it is ignored</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The following mapped types have always ignored <code class="literal">fields</code> when using multi-fields. This deprecation makes this clearer and we will completely disallow <code class="literal">fields</code> for these mapped types in the future.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
In the future, <code class="literal">join</code>, <code class="literal">aggregate_metric_double</code>, and <code class="literal">constant_keyword</code>, will all disallow supplying <code class="literal">fields</code> as a parameter in the mapping.</p>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="breaking-changes.html">« Migration guide</a>
</span>
<span class="next">
<a href="migrating-8.13.html">Migrating to 8.13 »</a>
</span>
</div>
</body>
</html>
