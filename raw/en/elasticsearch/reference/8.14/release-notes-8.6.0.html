<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Elasticsearch version 8.6.0 | Elasticsearch Guide [8.14] | Elastic</title>
<meta class="elastic" name="content" content="Elasticsearch version 8.6.0 | Elasticsearch Guide [8.14]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.14]"/>
<link rel="up" href="es-release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.6.1.html" title="Elasticsearch version 8.6.1"/>
<link rel="next" href="release-notes-8.5.3.html" title="Elasticsearch version 8.5.3"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.14"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.14"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.6.1.html">« Elasticsearch version 8.6.1</a>
</span>
<span class="next">
<a href="release-notes-8.5.3.html">Elasticsearch version 8.5.3 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="es-release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Elasticsearch version 8.6.0</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/release-notes/8.6.0.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-8.6.0"></a>Elasticsearch version 8.6.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/release-notes/8.6.0.asciidoc">edit</a></h2>
</div></div></div>
<p>Also see <a class="xref" href="migrating-8.6.html#breaking-changes-8.6" title="Breaking changes">Breaking changes in 8.6</a>.</p>
<h3><a id="known-issues-8.6.0"></a>Known issues<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/release-notes/8.6.0.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Orchestrators which use a <code class="literal">settings.json</code> file to configure Elasticsearch may
encounter deadlocks during master elections (issue: <a href="https://github.com/elastic/elasticsearch/issues/92812" class="ulink" target="_top">#92812</a>)</p>
<p>To resolve the deadlock, remove the <code class="literal">settings.json</code> file and restart the
affected node.</p>
</li>
<li class="listitem">
Parsing a request when the last element in an array is filtered out
(for instance using <code class="literal">_source_includes</code>) fails. This
is due to <a href="https://github.com/FasterXML/jackson-core/issues/882" class="ulink" target="_top">a bug in Jackson parser</a>.
Fixed in Elasticsearch 8.6.1 (<a href="https://github.com/elastic/elasticsearch/pull/92480" class="ulink" target="_top">#91456</a>)
</li>
<li class="listitem">
<p>When the <a href="/guide/en/elasticsearch/reference/8.14/attachment.html" class="ulink" target="_top">ingest attachment processor</a> is used, the
interaction of <a href="https://tika.apache.org/" class="ulink" target="_top">Tika</a> with log4j 2.18.0 and higher
(introduced in Elasticsearch 8.4.0) results in excessive logging. This logging is so
excessive that it can lead to cluster instability, to the point where the
cluster is unusable and nodes must be restarted. (issue: <a href="https://github.com/elastic/elasticsearch/issues/91964" class="ulink" target="_top">#91964</a>).
This issue is fixed in Elasticsearch 8.7.0 (<a href="https://github.com/elastic/elasticsearch/pull/93878" class="ulink" target="_top">#93878</a>)</p>
<p>To resolve the issue, upgrade to 8.7.0 or higher.</p>
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Shard rebalancing may temporarily unbalance cluster</p>
<p>From 8.6.0 onwards the default shard rebalancing algorithm will compute the
final desired balance and then make shard movements to reconcile the current
state of the cluster with the desired state. However the order in which the
shard movements take place may be skewed towards certain nodes, causing the
cluster to become temporarily unbalanced while the reconciliation is ongoing.
As always, once a node reaches a disk watermark it will not accept any
additional shards, but this skew may result in nodes reaching their disk
watermarks more often than expected in normal operation. Once the
reconciliation process completes, the cluster will be balanced again.</p>
<p>To avoid this problem, upgrade to 8.8.0 or later.</p>
</li>
</ul>
</div>
<h3><a id="bug-8.6.0"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/release-notes/8.6.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
GeoBoundsAggregations reject sub aggregations <a href="https://github.com/elastic/elasticsearch/pull/91073" class="ulink" target="_top">#91073</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/91072" class="ulink" target="_top">#91072</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid NPE when disassociateDeadNodes is executed for a node present in the desired balance <a href="https://github.com/elastic/elasticsearch/pull/91659" class="ulink" target="_top">#91659</a>
</li>
<li class="listitem">
Check <code class="literal">NodesShutdownMetadata</code> type before assuming restart <a href="https://github.com/elastic/elasticsearch/pull/90807" class="ulink" target="_top">#90807</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix time unit for connection request timeout of JWKs reload <a href="https://github.com/elastic/elasticsearch/pull/92080" class="ulink" target="_top">#92080</a>
</li>
<li class="listitem">
Improve performance for role mapping with DNs <a href="https://github.com/elastic/elasticsearch/pull/92074" class="ulink" target="_top">#92074</a>
</li>
<li class="listitem">
Improve robustness of <code class="literal">JwkSet</code> reloading <a href="https://github.com/elastic/elasticsearch/pull/92081" class="ulink" target="_top">#92081</a>
</li>
<li class="listitem">
Support stored authentication headers prior to version 6.7 <a href="https://github.com/elastic/elasticsearch/pull/92221" class="ulink" target="_top">#92221</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make adding auth info to REST responses more robust <a href="https://github.com/elastic/elasticsearch/pull/92168" class="ulink" target="_top">#92168</a>
</li>
<li class="listitem">
Security remove datemath special handling <a href="https://github.com/elastic/elasticsearch/pull/91047" class="ulink" target="_top">#91047</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">TransportMasterNodeAction</code> holding a CS reference needlessly <a href="https://github.com/elastic/elasticsearch/pull/90724" class="ulink" target="_top">#90724</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89220" class="ulink" target="_top">#89220</a>)
</li>
<li class="listitem">
Include last-committed data in publication <a href="https://github.com/elastic/elasticsearch/pull/92259" class="ulink" target="_top">#92259</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90158" class="ulink" target="_top">#90158</a>)
</li>
<li class="listitem">
Unsafe bootstrap memory optimization <a href="https://github.com/elastic/elasticsearch/pull/92493" class="ulink" target="_top">#92493</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
EQL sequences: support join on multi-values <a href="https://github.com/elastic/elasticsearch/pull/89965" class="ulink" target="_top">#89965</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Graph
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix potential issue with graph api&#8217;s timed out field in response <a href="https://github.com/elastic/elasticsearch/pull/91006" class="ulink" target="_top">#91006</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Don&#8217;t account for the unassigned reason when diagnosing NO_VALID_SHARD_COPY <a href="https://github.com/elastic/elasticsearch/pull/92416" class="ulink" target="_top">#92416</a>
</li>
<li class="listitem">
Fix NPE when evaluating the disk health for non-data nodes <a href="https://github.com/elastic/elasticsearch/pull/92643" class="ulink" target="_top">#92643</a>
</li>
<li class="listitem">
Use https in the short URLs for the <code class="literal">shards_availability</code> indicator <a href="https://github.com/elastic/elasticsearch/pull/92310" class="ulink" target="_top">#92310</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Trigger index settings providers when updating component templates <a href="https://github.com/elastic/elasticsearch/pull/91615" class="ulink" target="_top">#91615</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/91592" class="ulink" target="_top">#91592</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Check reserved state in Metadata.isGlobalStateEquals <a href="https://github.com/elastic/elasticsearch/pull/92124" class="ulink" target="_top">#92124</a>
</li>
<li class="listitem">
Datastream unavailable exception metadata <a href="https://github.com/elastic/elasticsearch/pull/91461" class="ulink" target="_top">#91461</a>
</li>
<li class="listitem">
Fix <code class="literal">BytesRefArray</code> on append empty <code class="literal">BytesRef</code> <a href="https://github.com/elastic/elasticsearch/pull/91364" class="ulink" target="_top">#91364</a>
</li>
<li class="listitem">
Fix index expression options for requests with a single name or pattern <a href="https://github.com/elastic/elasticsearch/pull/91231" class="ulink" target="_top">#91231</a>
</li>
<li class="listitem">
Force init of Unbox in log4j <a href="https://github.com/elastic/elasticsearch/pull/92377" class="ulink" target="_top">#92377</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/91964" class="ulink" target="_top">#91964</a>)
</li>
<li class="listitem">
In file based settings, wait until security index is ready for role mappings <a href="https://github.com/elastic/elasticsearch/pull/92173" class="ulink" target="_top">#92173</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/91939" class="ulink" target="_top">#91939</a>)
</li>
<li class="listitem">
Index expression exclusions never trigger "not found" <a href="https://github.com/elastic/elasticsearch/pull/90902" class="ulink" target="_top">#90902</a>
</li>
<li class="listitem">
Update error states from inside the main state executor <a href="https://github.com/elastic/elasticsearch/pull/90346" class="ulink" target="_top">#90346</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90337" class="ulink" target="_top">#90337</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix compile with hex literals ending with d/f <a href="https://github.com/elastic/elasticsearch/pull/91501" class="ulink" target="_top">#91501</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88614" class="ulink" target="_top">#88614</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixing a race condition in <code class="literal">EnrichCoordinatorProxyAction</code> that can leave an item stuck in its queue <a href="https://github.com/elastic/elasticsearch/pull/90688" class="ulink" target="_top">#90688</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90598" class="ulink" target="_top">#90598</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Copy more settings when creating DF analytics destination index <a href="https://github.com/elastic/elasticsearch/pull/91546" class="ulink" target="_top">#91546</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89795" class="ulink" target="_top">#89795</a>)
</li>
<li class="listitem">
Fix for <em>No statistics</em> error message <a href="https://github.com/elastic/ml-cpp/pull/2410" class="ulink" target="_top">#2410</a>
</li>
<li class="listitem">
Fix for <em>No counts available</em> error message <a href="https://github.com/elastic/ml-cpp/pull/2414" class="ulink" target="_top">#2414</a>
</li>
<li class="listitem">
Guard against input sequences that are too long for Question Answering models <a href="https://github.com/elastic/elasticsearch/pull/91924" class="ulink" target="_top">#91924</a>
</li>
<li class="listitem">
Improve performance of closing files before spawning <a href="https://github.com/elastic/ml-cpp/pull/2424" class="ulink" target="_top">#2424</a>
</li>
<li class="listitem">
Skip remote clusters when performing up front privileges validation for datafeeds <a href="https://github.com/elastic/elasticsearch/pull/91895" class="ulink" target="_top">#91895</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/87832" class="ulink" target="_top">#87832</a>)
</li>
<li class="listitem">
Support fields with commas in data frame analytics <code class="literal">analyzed_fields</code> <a href="https://github.com/elastic/elasticsearch/pull/91710" class="ulink" target="_top">#91710</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/72541" class="ulink" target="_top">#72541</a>)
</li>
<li class="listitem">
Validate rule filters are present on open anomaly detection api <a href="https://github.com/elastic/elasticsearch/pull/92207" class="ulink" target="_top">#92207</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Consolidate field name validation when parsing mappings and documents <a href="https://github.com/elastic/elasticsearch/pull/91328" class="ulink" target="_top">#91328</a>
</li>
<li class="listitem">
Fix handling empty key case in the terms aggregation <a href="https://github.com/elastic/elasticsearch/pull/90822" class="ulink" target="_top">#90822</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix logstash loadavg (xpack cases) <a href="https://github.com/elastic/elasticsearch/pull/90494" class="ulink" target="_top">#90494</a>
</li>
<li class="listitem">
[Stack Monitoring] Update ES module mappings <a href="https://github.com/elastic/elasticsearch/pull/90649" class="ulink" target="_top">#90649</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clean up on exception while chunking XContent <a href="https://github.com/elastic/elasticsearch/pull/92024" class="ulink" target="_top">#92024</a>
</li>
<li class="listitem">
Fix Chunked APIs sending incorrect responses to HEAD requests <a href="https://github.com/elastic/elasticsearch/pull/92042" class="ulink" target="_top">#92042</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/92032" class="ulink" target="_top">#92032</a>)
</li>
<li class="listitem">
Reject connection attempts while closing <a href="https://github.com/elastic/elasticsearch/pull/92465" class="ulink" target="_top">#92465</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix NPE on logging when not tracking total hits <a href="https://github.com/elastic/elasticsearch/pull/92425" class="ulink" target="_top">#92425</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow different decay values depending on the score function <a href="https://github.com/elastic/elasticsearch/pull/91195" class="ulink" target="_top">#91195</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/78887" class="ulink" target="_top">#78887</a>)
</li>
<li class="listitem">
Fix timing bug with DFS profiling <a href="https://github.com/elastic/elasticsearch/pull/92421" class="ulink" target="_top">#92421</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Simplify and optimize deduplication of <code class="literal">RepositoryData</code> for a non-caching repository instance <a href="https://github.com/elastic/elasticsearch/pull/91851" class="ulink" target="_top">#91851</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89952" class="ulink" target="_top">#89952</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix numOpenOutputs and modCount in ByteSizeCachingDirectory <a href="https://github.com/elastic/elasticsearch/pull/92440" class="ulink" target="_top">#92440</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/92434" class="ulink" target="_top">#92434</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Skip remote clusters when performing up front privileges validation <a href="https://github.com/elastic/elasticsearch/pull/91788" class="ulink" target="_top">#91788</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make <code class="literal">knn</code> search requests fully cancellable <a href="https://github.com/elastic/elasticsearch/pull/90612" class="ulink" target="_top">#90612</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="deprecation-8.6.0"></a>Deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/release-notes/8.6.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate state field in /_cluster/reroute response <a href="https://github.com/elastic/elasticsearch/pull/90399" class="ulink" target="_top">#90399</a>
</li>
<li class="listitem">
Ensure balance threshold is at least 1 <a href="https://github.com/elastic/elasticsearch/pull/92100" class="ulink" target="_top">#92100</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate <em>remove_binary</em> default of false for ingest attachment processor <a href="https://github.com/elastic/elasticsearch/pull/90460" class="ulink" target="_top">#90460</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate silently ignoring type, fields, copy_to and boost in metadata field definition <a href="https://github.com/elastic/elasticsearch/pull/90989" class="ulink" target="_top">#90989</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/35389" class="ulink" target="_top">#35389</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="enhancement-8.6.0"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/release-notes/8.6.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clear up forecasted write load and shard size from previous write index during rollovers <a href="https://github.com/elastic/elasticsearch/pull/91590" class="ulink" target="_top">#91590</a>
</li>
<li class="listitem">
Forecast average shard size during rollovers <a href="https://github.com/elastic/elasticsearch/pull/91561" class="ulink" target="_top">#91561</a>
</li>
<li class="listitem">
Forecast write load during rollovers <a href="https://github.com/elastic/elasticsearch/pull/91425" class="ulink" target="_top">#91425</a>
</li>
<li class="listitem">
Improve shard balancing <a href="https://github.com/elastic/elasticsearch/pull/91603" class="ulink" target="_top">#91603</a>
</li>
<li class="listitem">
Introduce desired-balance allocator <a href="https://github.com/elastic/elasticsearch/pull/91343" class="ulink" target="_top">#91343</a>
</li>
<li class="listitem">
Limit shard realocation retries <a href="https://github.com/elastic/elasticsearch/pull/90296" class="ulink" target="_top">#90296</a>
</li>
<li class="listitem">
Prevalidate node removal API <a href="https://github.com/elastic/elasticsearch/pull/88952" class="ulink" target="_top">#88952</a>
</li>
<li class="listitem">
Set default <code class="literal">cluster.routing.allocation.balance.disk_usage</code> <a href="https://github.com/elastic/elasticsearch/pull/91951" class="ulink" target="_top">#91951</a>
</li>
<li class="listitem">
Store write load in the <code class="literal">IndexMetadata</code> during data streams rollovers <a href="https://github.com/elastic/elasticsearch/pull/91019" class="ulink" target="_top">#91019</a>
</li>
<li class="listitem">
Update the default <code class="literal">cluster.routing.allocation.balance.disk_usage</code> <a href="https://github.com/elastic/elasticsearch/pull/92065" class="ulink" target="_top">#92065</a>
</li>
<li class="listitem">
<code class="literal">DesiredBalance:</code> expose it via _internal/desired_balance <a href="https://github.com/elastic/elasticsearch/pull/91038" class="ulink" target="_top">#91038</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90583" class="ulink" target="_top">#90583</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[Fleet] Added logs-elastic_agent* read privileges to <code class="literal">kibana_system</code> <a href="https://github.com/elastic/elasticsearch/pull/91701" class="ulink" target="_top">#91701</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Keep track of average shard write load <a href="https://github.com/elastic/elasticsearch/pull/90768" class="ulink" target="_top">#90768</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90102" class="ulink" target="_top">#90102</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Centroid aggregation for cartesian points and shapes <a href="https://github.com/elastic/elasticsearch/pull/89216" class="ulink" target="_top">#89216</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90156" class="ulink" target="_top">#90156</a>)
</li>
<li class="listitem">
Improve H3#hexRing logic and add H3#areNeighborCells method <a href="https://github.com/elastic/elasticsearch/pull/91140" class="ulink" target="_top">#91140</a>
</li>
<li class="listitem">
Move SpatialUtils to geo library <a href="https://github.com/elastic/elasticsearch/pull/88088" class="ulink" target="_top">#88088</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86607" class="ulink" target="_top">#86607</a>)
</li>
<li class="listitem">
Reduce number of object allocations in H3#geoToH3 and speed up computations <a href="https://github.com/elastic/elasticsearch/pull/91492" class="ulink" target="_top">#91492</a>
</li>
<li class="listitem">
Support <code class="literal">cartesian_bounds</code> aggregation on point and shape <a href="https://github.com/elastic/elasticsearch/pull/91298" class="ulink" target="_top">#91298</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90157" class="ulink" target="_top">#90157</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ILM: Get policy support wildcard name <a href="https://github.com/elastic/elasticsearch/pull/89238" class="ulink" target="_top">#89238</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle APM global labels as affix setting <a href="https://github.com/elastic/elasticsearch/pull/91438" class="ulink" target="_top">#91438</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/91278" class="ulink" target="_top">#91278</a>)
</li>
<li class="listitem">
Improve date math exclusions in expressions <a href="https://github.com/elastic/elasticsearch/pull/90298" class="ulink" target="_top">#90298</a>
</li>
<li class="listitem">
Introduce a phase to use String.equals on constant strings, rather than def equality <a href="https://github.com/elastic/elasticsearch/pull/91362" class="ulink" target="_top">#91362</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/91235" class="ulink" target="_top">#91235</a>)
</li>
<li class="listitem">
More actionable error for ancient indices <a href="https://github.com/elastic/elasticsearch/pull/91243" class="ulink" target="_top">#91243</a>
</li>
<li class="listitem">
Operator/index templates <a href="https://github.com/elastic/elasticsearch/pull/90143" class="ulink" target="_top">#90143</a>
</li>
<li class="listitem">
Operator/ingest <a href="https://github.com/elastic/elasticsearch/pull/89735" class="ulink" target="_top">#89735</a>
</li>
<li class="listitem">
Transport threads and <code class="literal">_hot_threads</code> <a href="https://github.com/elastic/elasticsearch/pull/90482" class="ulink" target="_top">#90482</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90334" class="ulink" target="_top">#90334</a>)
</li>
<li class="listitem">
Upgrade XContent to Jackson 2.14.0 and enable Fast Double Parser <a href="https://github.com/elastic/elasticsearch/pull/90553" class="ulink" target="_top">#90553</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Create placeholder plugin when loading stable plugins <a href="https://github.com/elastic/elasticsearch/pull/90870" class="ulink" target="_top">#90870</a>
</li>
<li class="listitem">
Example stable plugin <a href="https://github.com/elastic/elasticsearch/pull/90805" class="ulink" target="_top">#90805</a>
</li>
<li class="listitem">
Make <code class="literal">extendedPlugins,</code> <code class="literal">HasNativeController</code> and <code class="literal">moduleName</code> optional in plugin descriptor <a href="https://github.com/elastic/elasticsearch/pull/90835" class="ulink" target="_top">#90835</a>
</li>
<li class="listitem">
Rename <code class="literal">NamedComponent</code> name parameter to value <a href="https://github.com/elastic/elasticsearch/pull/91306" class="ulink" target="_top">#91306</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use an explicit null check for null receivers in painless, rather than an NPE <a href="https://github.com/elastic/elasticsearch/pull/91347" class="ulink" target="_top">#91347</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/91236" class="ulink" target="_top">#91236</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a filter parameter to frequent items <a href="https://github.com/elastic/elasticsearch/pull/91137" class="ulink" target="_top">#91137</a>
</li>
<li class="listitem">
Add a regex to the output of the <code class="literal">categorize_text</code> aggregation <a href="https://github.com/elastic/elasticsearch/pull/90723" class="ulink" target="_top">#90723</a>
</li>
<li class="listitem">
Add ability to filter and sort buckets by <code class="literal">change_point</code> numeric values <a href="https://github.com/elastic/elasticsearch/pull/91299" class="ulink" target="_top">#91299</a>
</li>
<li class="listitem">
Add api to update trained model deployment <code class="literal">number_of_allocations</code> <a href="https://github.com/elastic/elasticsearch/pull/90728" class="ulink" target="_top">#90728</a>
</li>
<li class="listitem">
Alias timestamp to @timestamp in anomaly detection results index <a href="https://github.com/elastic/elasticsearch/pull/90812" class="ulink" target="_top">#90812</a>
</li>
<li class="listitem">
Allow <code class="literal">model_aliases</code> to be used with Pytorch trained models <a href="https://github.com/elastic/elasticsearch/pull/91296" class="ulink" target="_top">#91296</a>
</li>
<li class="listitem">
Allow overriding timestamp field to null in file structure finder <a href="https://github.com/elastic/elasticsearch/pull/90764" class="ulink" target="_top">#90764</a>
</li>
<li class="listitem">
Audit a message every day the datafeed has seen no data <a href="https://github.com/elastic/elasticsearch/pull/91774" class="ulink" target="_top">#91774</a>
</li>
<li class="listitem">
Low priority trained model deployments <a href="https://github.com/elastic/elasticsearch/pull/91234" class="ulink" target="_top">#91234</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/91024" class="ulink" target="_top">#91024</a>)
</li>
<li class="listitem">
Provide additional information about anomaly score factors <a href="https://github.com/elastic/elasticsearch/pull/90675" class="ulink" target="_top">#90675</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Don&#8217;t create IndexCaps objects when recording unmapped fields <a href="https://github.com/elastic/elasticsearch/pull/90806" class="ulink" target="_top">#90806</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90796" class="ulink" target="_top">#90796</a>)
</li>
<li class="listitem">
aggregate metric double add a max min validation <a href="https://github.com/elastic/elasticsearch/pull/90381" class="ulink" target="_top">#90381</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Recovery
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove resize index settings once shards are started <a href="https://github.com/elastic/elasticsearch/pull/90391" class="ulink" target="_top">#90391</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90127" class="ulink" target="_top">#90127</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Rollup
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Test downsample runtime fields and security <a href="https://github.com/elastic/elasticsearch/pull/90593" class="ulink" target="_top">#90593</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add LimitedOffsetsEnum to Limited offset token <a href="https://github.com/elastic/elasticsearch/pull/86110" class="ulink" target="_top">#86110</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86109" class="ulink" target="_top">#86109</a>)
</li>
<li class="listitem">
Add profiling and documentation for dfs phase <a href="https://github.com/elastic/elasticsearch/pull/90536" class="ulink" target="_top">#90536</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89713" class="ulink" target="_top">#89713</a>)
</li>
<li class="listitem">
Bulk merge field-caps responses using mapping hash <a href="https://github.com/elastic/elasticsearch/pull/86323" class="ulink" target="_top">#86323</a>
</li>
<li class="listitem">
Enhance nested depth tracking when parsing queries <a href="https://github.com/elastic/elasticsearch/pull/90425" class="ulink" target="_top">#90425</a>
</li>
<li class="listitem">
Expose telemetry about search usage <a href="https://github.com/elastic/elasticsearch/pull/91528" class="ulink" target="_top">#91528</a>
</li>
<li class="listitem">
Return docs when using nested mappings in archive indices <a href="https://github.com/elastic/elasticsearch/pull/90585" class="ulink" target="_top">#90585</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90523" class="ulink" target="_top">#90523</a>)
</li>
<li class="listitem">
Use <code class="literal">IndexOrDocValues</code> query for IP range queries <a href="https://github.com/elastic/elasticsearch/pull/90303" class="ulink" target="_top">#90303</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/83658" class="ulink" target="_top">#83658</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Increase snaphot pool max size to 10 <a href="https://github.com/elastic/elasticsearch/pull/90282" class="ulink" target="_top">#90282</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89608" class="ulink" target="_top">#89608</a>)
</li>
<li class="listitem">
Tie snapshot speed to node bandwidth settings <a href="https://github.com/elastic/elasticsearch/pull/91021" class="ulink" target="_top">#91021</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/57023" class="ulink" target="_top">#57023</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow plugins to wrap Lucene directories created by the <code class="literal">IndexModule</code> <a href="https://github.com/elastic/elasticsearch/pull/91556" class="ulink" target="_top">#91556</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TLS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add certificate start/expiry dates to SSL Diagnostic message <a href="https://github.com/elastic/elasticsearch/pull/89461" class="ulink" target="_top">#89461</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDB
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Generate <em>index.routing_path</em> from dynamic mapping templates <a href="https://github.com/elastic/elasticsearch/pull/90552" class="ulink" target="_top">#90552</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90528" class="ulink" target="_top">#90528</a>)
</li>
<li class="listitem">
Support malformed numbers in synthetic <code class="literal">_source</code> <a href="https://github.com/elastic/elasticsearch/pull/90428" class="ulink" target="_top">#90428</a>
</li>
<li class="listitem">
Support synthetic <code class="literal">_source</code> for <code class="literal">_doc_count</code> field <a href="https://github.com/elastic/elasticsearch/pull/91465" class="ulink" target="_top">#91465</a>
</li>
<li class="listitem">
Synthetic _source: support <code class="literal">field</code> in many cases <a href="https://github.com/elastic/elasticsearch/pull/89950" class="ulink" target="_top">#89950</a>
</li>
<li class="listitem">
Synthetic <code class="literal">_source</code>: <code class="literal">ignore_malformed</code> for <code class="literal">ip</code> <a href="https://github.com/elastic/elasticsearch/pull/90038" class="ulink" target="_top">#90038</a>
</li>
<li class="listitem">
Synthetic <code class="literal">_source</code>: support <code class="literal">wildcard</code> field <a href="https://github.com/elastic/elasticsearch/pull/90196" class="ulink" target="_top">#90196</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a health section to transform stats <a href="https://github.com/elastic/elasticsearch/pull/90760" class="ulink" target="_top">#90760</a>
</li>
<li class="listitem">
Support <code class="literal">aggregate_metric_double</code> field type in transform aggregations <a href="https://github.com/elastic/elasticsearch/pull/91045" class="ulink" target="_top">#91045</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add profiling information for knn vector queries <a href="https://github.com/elastic/elasticsearch/pull/90200" class="ulink" target="_top">#90200</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="feature-8.6.0"></a>New features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/release-notes/8.6.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add "index" and "search" node roles with feature flag and setting <a href="https://github.com/elastic/elasticsearch/pull/90993" class="ulink" target="_top">#90993</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
EQL samples <a href="https://github.com/elastic/elasticsearch/pull/91312" class="ulink" target="_top">#91312</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use chunked encoding for <code class="literal">RestGetHealthAction</code> <a href="https://github.com/elastic/elasticsearch/pull/91515" class="ulink" target="_top">#91515</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90223" class="ulink" target="_top">#90223</a>)
</li>
<li class="listitem">
[HealthAPI] Use the <code class="literal">RestCancellableNodeClient</code> infrastructure <a href="https://github.com/elastic/elasticsearch/pull/91587" class="ulink" target="_top">#91587</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make <code class="literal">categorize_text</code> aggregation GA <a href="https://github.com/elastic/elasticsearch/pull/88600" class="ulink" target="_top">#88600</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add fielddata and scripting support for byte-sized vectors <a href="https://github.com/elastic/elasticsearch/pull/91184" class="ulink" target="_top">#91184</a>
</li>
<li class="listitem">
Add support for indexing byte-sized knn vectors <a href="https://github.com/elastic/elasticsearch/pull/90774" class="ulink" target="_top">#90774</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="regression-8.6.0"></a>Regressions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/release-notes/8.6.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Revert "Remove <code class="literal">ImmutableOpenMap</code> from snapshot services" <a href="https://github.com/elastic/elasticsearch/pull/90287" class="ulink" target="_top">#90287</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="upgrade-8.6.0"></a>Upgrades<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.14/docs/reference/release-notes/8.6.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to log4j 2.19.0 <a href="https://github.com/elastic/elasticsearch/pull/90589" class="ulink" target="_top">#90589</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/90584" class="ulink" target="_top">#90584</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to Netty 4.1.82.Final <a href="https://github.com/elastic/elasticsearch/pull/90604" class="ulink" target="_top">#90604</a>
</li>
<li class="listitem">
Upgrade to Netty 4.1.84 <a href="https://github.com/elastic/elasticsearch/pull/91271" class="ulink" target="_top">#91271</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade GCS SDK to 2.13.1 <a href="https://github.com/elastic/elasticsearch/pull/92327" class="ulink" target="_top">#92327</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-8.6.1.html">« Elasticsearch version 8.6.1</a>
</span>
<span class="next">
<a href="release-notes-8.5.3.html">Elasticsearch version 8.5.3 »</a>
</span>
</div>
</body>
</html>
