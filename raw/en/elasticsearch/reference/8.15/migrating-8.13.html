<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Migrating to 8.13 | Elasticsearch Guide [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Migrating to 8.13 | Elasticsearch Guide [8.15]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.15]"/>
<link rel="up" href="breaking-changes.html" title="Migration guide"/>
<link rel="prev" href="migrating-8.14.html" title="Migrating to 8.14"/>
<link rel="next" href="migrating-8.12.html" title="Migrating to 8.12"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.15"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.15"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="migrating-8.14.html">« Migrating to 8.14</a>
</span>
<span class="next">
<a href="migrating-8.12.html">Migrating to 8.12 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="breaking-changes.html">Migration guide</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Migrating to 8.13</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/migration/migrate_8_13.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="migrating-8.13"></a>Migrating to 8.13<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/migration/migrate_8_13.asciidoc">edit</a></h2>
</div></div></div>

<p>This section discusses the changes that you need to be aware of when migrating
your application to Elasticsearch 8.13.</p>
<p>See also <a class="xref" href="release-highlights.html" title="What&#8217;s new in 8.15"><em>What&#8217;s new in 8.15</em></a> and <a class="xref" href="es-release-notes.html" title="Release notes">Release notes</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Coming in 8.13.0.</p>
</div>
</div>
<h3><a id="breaking-changes-8.13"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/migration/migrate_8_13.asciidoc">edit</a></h3>
<p>There are no breaking changes in 8.13.</p>
<h3><a id="migrate-notable-changes-8.13"></a>Notable changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/migration/migrate_8_13.asciidoc">edit</a></h3>
<p>The following are notable, non-breaking updates to be aware of:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Changes to features that are in Technical Preview.
</li>
<li class="listitem">
Changes to log formats.
</li>
<li class="listitem">
Changes to non-public APIs.
</li>
<li class="listitem">
Behaviour changes that repair critical bugs.
</li>
</ul>
</div>
<h4><a id="breaking_813_index_setting_changes"></a>Index setting changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/migration/migrate_8_13.asciidoc">edit</a></h4>
<details id="change_index_look_ahead_time_index_settings_default_value_from_2_hours_to_30_minutes">
<summary class="title">Change <code class="literal">index.look_ahead_time</code> index setting&#8217;s default value from 2 hours to 30 minutes.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Lower the <code class="literal">index.look_ahead_time</code> index setting&#8217;s max value from 2 hours to 30 minutes.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Documents with @timestamp of 30 minutes or more in the future will be rejected. Before documents with @timestamp of 2 hours or more in the future were rejected. If the previous behaviour should be kept, then update the <code class="literal">index.look_ahead_time</code> setting to two hours before performing the upgrade.</p>
</div>
</details>
<details id="lower_look_ahead_time_index_settings_max_value">
<summary class="title">Lower the <code class="literal">look_ahead_time</code> index setting&#8217;s max value</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Lower the <code class="literal">look_ahead_time</code> index setting&#8217;s max value from 7 days to 2 hours.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Any value between 2 hours and 7 days will be as a look ahead time  of 2 hours is defined</p>
</div>
</details>
<h4><a id="breaking_813_rest_api_changes"></a>REST API changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/migration/migrate_8_13.asciidoc">edit</a></h4>
<details id="esql_grammar_from_metadata_no_longer_requires">
<summary class="title">ESQL: Grammar - FROM METADATA no longer requires []</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Remove [ ] for METADATA option inside FROM command statements</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Previously to return metadata fields, one had to use square brackets: (eg. <em>FROM index [METADATA _index]</em>). This is no longer needed: the [ ] are dropped and do not have to be specified, thus simplifying the command above to:'FROM index METADATA _index'.</p>
</div>
</details>
<details id="es_ql_remove_project_keyword_from_grammar">
<summary class="title">ES|QL: remove PROJECT keyword from the grammar</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Removes the PROJECT keyword (an alias for KEEP) from ES|QL grammar</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Before this change, users could use PROJECT as an alias for KEEP in ESQL queries, (eg. <em>FROM idx | PROJECT name, surname</em>) the parser replaced PROJECT with KEEP, emitted a warning: <em>PROJECT command is no longer supported, please use KEEP instead</em> and the query was executed normally. With this change, PROJECT command is no longer recognized by the query parser; queries using PROJECT command now return a parsing exception.</p>
</div>
</details>
<details id="esql_remove_nan_finite_infinite">
<summary class="title">[ESQL] Remove is_nan, is_finite, and <code class="literal">is_infinite</code></summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Removes the functions <code class="literal">is_nan</code>, <code class="literal">is_finite</code>, and <code class="literal">is_infinite</code>.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Attempting to use the above functions will now be a planner time error.  These functions are no longer supported.</p>
</div>
</details>
<h3><a id="deprecated-8.13"></a>Deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/migration/migrate_8_13.asciidoc">edit</a></h3>
<p>The following functionality has been deprecated in Elasticsearch 8.13
and will be removed in a future version.
While this won&#8217;t have an immediate impact on your applications,
we strongly encourage you to take the described steps to update your code
after upgrading to 8.13.</p>
<p>To find out if you are using any deprecated functionality,
enable <a class="xref" href="logging.html#deprecation-logging" title="Deprecation logging">deprecation logging</a>.</p>
<h4><a id="deprecations_813_cluster_and_node_setting"></a>Cluster and node setting deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/migration/migrate_8_13.asciidoc">edit</a></h4>
<details id="deprecate_client_type">
<summary class="title">Deprecate <code class="literal">client.type</code></summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The node setting <code class="literal">client.type</code> has been ignored since the node client was removed in 8.0. The setting is now deprecated and will be removed in a future release.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Remove the <code class="literal">client.type</code> setting from <code class="literal">elasticsearch.yml</code></p>
</div>
</details>
<h4><a id="deprecations_813_rest_api"></a>REST API deprecations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/migration/migrate_8_13.asciidoc">edit</a></h4>
<details id="desirednode_deprecate_node_version_field_make_it_optional_for_current_version">
<summary class="title"><code class="literal">DesiredNode:</code> deprecate <code class="literal">node_version</code> field and make it optional for the current version</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The desired_node API includes a <code class="literal">node_version</code> field to perform validation on the new node version required. This kind of check is too broad, and it&#8217;s better done by external logic, so it has been removed, making the <code class="literal">node_version</code> field not necessary. The field will be removed in a later version.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users should update their usages of <code class="literal">desired_node</code> to not include the <code class="literal">node_version</code> field anymore.</p>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="migrating-8.14.html">« Migrating to 8.14</a>
</span>
<span class="next">
<a href="migrating-8.12.html">Migrating to 8.12 »</a>
</span>
</div>
</body>
</html>
