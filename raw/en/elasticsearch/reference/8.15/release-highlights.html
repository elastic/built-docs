<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>What&#8217;s new in 8.15 | Elasticsearch Guide [8.15] | Elastic</title>
<meta class="elastic" name="content" content="What&#8217;s new in 8.15 | Elasticsearch Guide [8.15]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.15]"/>
<link rel="up" href="index.html" title="Elasticsearch Guide [8.15]"/>
<link rel="prev" href="scalability.html" title="Scalability and resilience: clusters, nodes, and shards"/>
<link rel="next" href="quickstart.html" title="Quickstart"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.15"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.15"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="scalability.html">« Scalability and resilience: clusters, nodes, and shards</a>
</span>
<span class="next">
<a href="quickstart.html">Quickstart »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.15]</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>What&#8217;s new in 8.15</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-highlights"></a>What&#8217;s new in 8.15<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h2>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Coming in 8.15.</p>
</div>
</div>
<p>Here are the highlights of what&#8217;s new and improved in Elasticsearch 8.15!
For detailed information about this release, see the <a class="xref" href="es-release-notes.html" title="Release notes">Release notes</a> and
<a class="xref" href="breaking-changes.html" title="Migration guide">Migration guide</a>.</p>
<p>Other versions:</p>
<p><a href="/guide/en/elasticsearch/reference/8.14/release-highlights.html" class="ulink" target="_top">8.14</a>
| <a href="/guide/en/elasticsearch/reference/8.13/release-highlights.html" class="ulink" target="_top">8.13</a>
| <a href="/guide/en/elasticsearch/reference/8.12/release-highlights.html" class="ulink" target="_top">8.12</a>
| <a href="/guide/en/elasticsearch/reference/8.11/release-highlights.html" class="ulink" target="_top">8.11</a>
| <a href="/guide/en/elasticsearch/reference/8.10/release-highlights.html" class="ulink" target="_top">8.10</a>
| <a href="/guide/en/elasticsearch/reference/8.9/release-highlights.html" class="ulink" target="_top">8.9</a>
| <a href="/guide/en/elasticsearch/reference/8.8/release-highlights.html" class="ulink" target="_top">8.8</a>
| <a href="/guide/en/elasticsearch/reference/8.7/release-highlights.html" class="ulink" target="_top">8.7</a>
| <a href="/guide/en/elasticsearch/reference/8.6/release-highlights.html" class="ulink" target="_top">8.6</a>
| <a href="/guide/en/elasticsearch/reference/8.5/release-highlights.html" class="ulink" target="_top">8.5</a>
| <a href="/guide/en/elasticsearch/reference/8.4/release-highlights.html" class="ulink" target="_top">8.4</a>
| <a href="/guide/en/elasticsearch/reference/8.3/release-highlights.html" class="ulink" target="_top">8.3</a>
| <a href="/guide/en/elasticsearch/reference/8.2/release-highlights.html" class="ulink" target="_top">8.2</a>
| <a href="/guide/en/elasticsearch/reference/8.1/release-highlights.html" class="ulink" target="_top">8.1</a>
| <a href="/guide/en/elasticsearch/reference/8.0/release-highlights.html" class="ulink" target="_top">8.0</a></p>
<h3><a id="stored_fields_are_compressed_with_zstandard_instead_of_lz4_deflate"></a>Stored fields are now compressed with ZStandard instead of LZ4/DEFLATE<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Stored fields are now compressed by splitting documents into blocks, which
are then compressed independently with ZStandard. <code class="literal">index.codec: default</code>
(default) uses blocks of at most 14kB or 128 documents compressed with level
0, while <code class="literal">index.codec: best_compression</code> uses blocks of at most 240kB or
2048 documents compressed at level 3. On most datasets that we tested
against, this yielded storage improvements in the order of 10%, slightly
faster indexing and similar retrieval latencies.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/103374" class="ulink" target="_top">#103374</a></p>
<h3><a id="stricter_failure_handling_in_multi_repo_get_snapshots_request_handling"></a>Stricter failure handling in multi-repo get-snapshots request handling<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>If a multi-repo get-snapshots request encounters a failure in one of the
targeted repositories then earlier versions of Elasticsearch would proceed
as if the faulty repository did not exist, except for a per-repository
failure report in a separate section of the response body. This makes it
impossible to paginate the results properly in the presence of failures. In
versions 8.15.0 and later this API&#8217;s failure handling behaviour has been
made stricter, reporting an overall failure if any targeted repository&#8217;s
contents cannot be listed.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/107191" class="ulink" target="_top">#107191</a></p>
<h3><a id="introduce_logs_index_mode_as_tech_preview"></a>Introduce <code class="literal">logsdb</code> index mode as Tech Preview<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>This change introduces a new index mode named <code class="literal">logsdb</code>.
When the new index mode is enabled then the following storage savings features are enabled automatically:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Synthetic source, which omits storing the <code class="literal">_source</code> field. When <code class="literal">_source</code> or part of it is requested it is synthesized on the fly at runtime.
</li>
<li class="listitem">
Index sorting. By default indices are sorted by <code class="literal">host.name</code> and <code class="literal">@timestamp</code> fields at index time. This can be overwritten if other sorting fields yield better compression rate.
</li>
<li class="listitem">
Enable more space efficient compression for fields with doc values enabled. These are the same codecs used
when <code class="literal">time_series</code> index mode is enabled.
</li>
</ul>
</div>
<p>The <code class="literal">index.mode</code> index setting set to <code class="literal">logsdb</code> should be configured in index templates or defined when creating a plain index.
Benchmarks and other tests have shown that logs data sets use around 2.5 times less storage with the new index mode enabled compared to not configuring it.
The new <code class="literal">logsdb</code> index mode is a tech preview feature.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/108896" class="ulink" target="_top">#108896</a></p>
<h3><a id="add_new_int4_quantization_to_dense_vector"></a>Add new int4 quantization to dense_vector<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>New int4 (half-byte) scalar quantization support via two knew index types: <code class="literal">int4_hnsw</code> and <code class="literal">int4_flat</code>.
This gives an 8x reduction from <code class="literal">float32</code> with some accuracy loss. In addition to less memory required, this
improves query and merge speed significantly when compared to raw vectors.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/109317" class="ulink" target="_top">#109317</a></p>
<h3><a id="mark_query_rules_as_ga"></a>Mark Query Rules as GA<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>This PR marks query rules as Generally Available. All APIs are no longer
in tech preview.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/110004" class="ulink" target="_top">#110004</a></p>
<h3><a id="adds_new_bit_element_type_for_dense_vectors"></a>Adds new <code class="literal">bit</code> <code class="literal">element_type</code> for <code class="literal">dense_vectors</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>This adds <code class="literal">bit</code> vector support by adding <code class="literal">element_type: bit</code> for
vectors. This new element type works for indexed and non-indexed
vectors. Additionally, it works with <code class="literal">hnsw</code> and <code class="literal">flat</code> index types. No
quantization based codec works with this element type, this is
consistent with <code class="literal">byte</code> vectors.</p>
<p><code class="literal">bit</code> vectors accept up to <code class="literal">32768</code> dimensions in size and expect vectors
that are being indexed to be encoded either as a hexidecimal string or a
<code class="literal">byte[]</code> array where each element of the <code class="literal">byte</code> array represents <code class="literal">8</code>
bits of the vector.</p>
<p><code class="literal">bit</code> vectors support script usage and regular query usage. When
indexed, all comparisons done are <code class="literal">xor</code> and <code class="literal">popcount</code> summations (aka,
hamming distance), and the scores are transformed and normalized given
the vector dimensions.</p>
<p>For scripts, <code class="literal">l1norm</code> is the same as <code class="literal">hamming</code> distance and <code class="literal">l2norm</code> is
<code class="literal">sqrt(l1norm)</code>. <code class="literal">dotProduct</code> and <code class="literal">cosineSimilarity</code> are not supported.</p>
<p>Note, the dimensions expected by this element_type are always to be
divisible by <code class="literal">8</code>, and the <code class="literal">byte[]</code> vectors provided for index must be
have size <code class="literal">dim/8</code> size, where each byte element represents <code class="literal">8</code> bits of
the vectors.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/110059" class="ulink" target="_top">#110059</a></p>
<h3><a id="redact_processor_generally_available"></a>The Redact processor is Generally Available<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>The Redact processor uses the Grok rules engine to obscure text in the input document matching the given Grok patterns. The Redact processor was initially released as Technical Preview in <code class="literal">8.7.0</code>, and is now released as Generally Available.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/110395" class="ulink" target="_top">#110395</a></p>
<h3><a id="new_custom_parser_for_iso_8601_datetimes"></a>New custom parser for ISO-8601 datetimes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>This introduces a new custom parser for ISO-8601 datetimes, for the <code class="literal">iso8601</code>, <code class="literal">strict_date_optional_time</code>, and
<code class="literal">strict_date_optional_time_nanos</code> built-in date formats. This provides a performance improvement over the
default Java date-time parsing. Whilst it maintains much of the same behaviour,
the new parser does not accept nonsensical date-time strings that have multiple fractional seconds fields
or multiple timezone specifiers. If the new parser fails to parse a string, it will then use the previous parser
to parse it. If a large proportion of the input data consists of these invalid strings, this may cause
a small performance degradation. If you wish to force the use of the old parsers regardless,
set the JVM property <code class="literal">es.datetime.java_time_parsers=true</code> on all ES nodes.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/106486" class="ulink" target="_top">#106486</a></p>
<h3><a id="new_custom_parser_for_more_iso_8601_date_formats"></a>New custom parser for more ISO-8601 date formats<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Following on from #106486, this extends the custom ISO-8601 datetime parser to cover the <code class="literal">strict_year</code>,
<code class="literal">strict_year_month</code>, <code class="literal">strict_date_time</code>, <code class="literal">strict_date_time_no_millis</code>, <code class="literal">strict_date_hour_minute_second</code>,
<code class="literal">strict_date_hour_minute_second_millis</code>, and <code class="literal">strict_date_hour_minute_second_fraction</code> date formats.
As before, the parser will use the existing java.time parser if there are parsing issues, and the
<code class="literal">es.datetime.java_time_parsers=true</code> JVM property will force the use of the old parsers regardless.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/108606" class="ulink" target="_top">#108606</a></p>
<h3><a id="preview_support_for_connection_type_domain_isp_databases_in_geoip_processor"></a>Preview: Support for the <em>Connection Type, 'Domain</em>, and <em>ISP</em> databases in the geoip processor<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>As a Technical Preview, the <a href="/guide/en/elasticsearch/reference/8.15/geoip-processor.html" class="ulink" target="_top"><code class="literal">geoip</code></a> processor can now use the commercial
<a href="https://dev.maxmind.com/geoip/docs/databases/connection-type" class="ulink" target="_top">GeoIP2 <em>Connection Type</em></a>,
<a href="https://dev.maxmind.com/geoip/docs/databases/domain" class="ulink" target="_top">GeoIP2 <em>Domain</em></a>,
and
<a href="https://dev.maxmind.com/geoip/docs/databases/isp" class="ulink" target="_top">GeoIP2 <em>ISP</em></a>
databases from MaxMind.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/108683" class="ulink" target="_top">#108683</a></p>
<h3><a id="update_elasticsearch_to_lucene_9_11"></a>Update Elasticsearch to Lucene 9.11<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Elasticsearch is now updated using the latest Lucene version 9.11.
Here are the full release notes:
But, here are some particular highlights:
- Usage of MADVISE for better memory management: <a href="https://github.com/apache/lucene/pull/13196" class="ulink" target="_top">https://github.com/apache/lucene/pull/13196</a>
- Use RWLock to access LRUQueryCache to reduce contention: <a href="https://github.com/apache/lucene/pull/13306" class="ulink" target="_top">https://github.com/apache/lucene/pull/13306</a>
- Speedup multi-segment HNSW graph search for nested kNN queries: <a href="https://github.com/apache/lucene/pull/13121" class="ulink" target="_top">https://github.com/apache/lucene/pull/13121</a>
- Add a MemorySegment Vector scorer - for scoring without copying on-heap vectors: <a href="https://github.com/apache/lucene/pull/13339" class="ulink" target="_top">https://github.com/apache/lucene/pull/13339</a></p>
<p><a href="https://github.com/elastic/elasticsearch/pull/109219" class="ulink" target="_top">#109219</a></p>
<h3><a id="synthetic_source_improvements"></a>Synthetic <code class="literal">_source</code> improvements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>There are multiple improvements to synthetic <code class="literal">_source</code> functionality:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Synthetic <code class="literal">_source</code> is now supported for all field types including <code class="literal">nested</code> and <code class="literal">object</code>. <code class="literal">object</code> fields are supported with <code class="literal">enabled</code> set to <code class="literal">false</code>.
</li>
<li class="listitem">
Synthetic <code class="literal">_source</code> can be enabled together with <code class="literal">ignore_malformed</code> and <code class="literal">ignore_above</code> parameters for all field types that support them.
</li>
</ul>
</div>
<p><a href="https://github.com/elastic/elasticsearch/pull/109501" class="ulink" target="_top">#109501</a></p>
<h3><a id="index_sorting_on_indexes_with_nested_fields"></a>Index sorting on indexes with nested fields<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Index sorting is now supported for indexes with mappings containing nested objects.
The index sort spec (as specified by <code class="literal">index.sort.field</code>) can&#8217;t contain any nested
fields, still.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/110251" class="ulink" target="_top">#110251</a></p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="scalability.html">« Scalability and resilience: clusters, nodes, and shards</a>
</span>
<span class="next">
<a href="quickstart.html">Quickstart »</a>
</span>
</div>
</body>
</html>
