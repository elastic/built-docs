<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Elasticsearch version 8.12.0 | Elasticsearch Guide [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Elasticsearch version 8.12.0 | Elasticsearch Guide [8.15]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.15]"/>
<link rel="up" href="es-release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.12.1.html" title="Elasticsearch version 8.12.1"/>
<link rel="next" href="release-notes-8.11.4.html" title="Elasticsearch version 8.11.4"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.15"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.15"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.12.1.html">« Elasticsearch version 8.12.1</a>
</span>
<span class="next">
<a href="release-notes-8.11.4.html">Elasticsearch version 8.11.4 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="es-release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Elasticsearch version 8.12.0</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/8.12.0.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-8.12.0"></a>Elasticsearch version 8.12.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/8.12.0.asciidoc">edit</a></h2>
</div></div></div>
<p>Also see <a class="xref" href="migrating-8.12.html#breaking-changes-8.12" title="Breaking changes">Breaking changes in 8.12</a>.</p>
<h3><a id="known-issues-8.12.0"></a>Known issues<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/8.12.0.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><code class="literal">int8_hnsw</code> vector index format may fail to merge segments and prevent from indexing documents (issue: <a href="https://github.com/elastic/elasticsearch/issues/104617" class="ulink" target="_top">#104617</a>)</p>
<p>When using <code class="literal">int8_hnsw</code> and the default <code class="literal">confidence_interval</code> (or any <code class="literal">confidence_interval</code> less than <code class="literal">1.0</code>) and when
there are deleted documents in the segments, quantiles may fail to build and prevent merging.</p>
</li>
</ul>
</div>
<p>This issue is fixed in 8.12.1.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When upgrading clusters from version 8.11.4 or earlier, if your cluster contains non-master-eligible nodes,
information about the new functionality of these upgraded nodes may not be registered properly with the master node.
This can lead to some new functionality added since 8.12.0 not being accessible on the upgraded cluster.
If your cluster is running on ECK 2.12.1 and above, this may cause problems with finalizing the upgrade.
To resolve this issue, perform a rolling restart on the non-master-eligible nodes once all Elasticsearch nodes
are upgraded. This issue is fixed in 8.15.0.
</li>
</ul>
</div>
<h3><a id="breaking-8.12.0"></a>Breaking changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/8.12.0.asciidoc">edit</a></h3>
<p>There are no breaking changes in 8.12</p>
<h3><a id="notable-8.12.0"></a>Notable changes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/8.12.0.asciidoc">edit</a></h3>
<p>There are notable changes in 8.12 that you need to be aware of but that we do not consider breaking, items that we may consider as notable changes are</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Changes to features that are in Technical Preview.
</li>
<li class="listitem">
Changes to log formats.
</li>
<li class="listitem">
Changes to non-public APIs.
</li>
<li class="listitem">
<p>Behaviour changes that repair critical bugs.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Authorization
</span>
</dt>
</dl>
</div>
</li>
<li class="listitem">
<p>Fixed JWT principal from claims <a href="https://github.com/elastic/elasticsearch/pull/101333" class="ulink" target="_top">#101333</a></p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
ES|QL
</span>
</dt>
</dl>
</div>
</li>
<li class="listitem">
<p>[ES|QL] pow function always returns double <a href="https://github.com/elastic/elasticsearch/pull/102183" class="ulink" target="_top">#102183</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/99055" class="ulink" target="_top">#99055</a>)</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
</dl>
</div>
</li>
<li class="listitem">
Remove Plugin.createComponents method in favour of overload with a PluginServices object <a href="https://github.com/elastic/elasticsearch/pull/101457" class="ulink" target="_top">#101457</a>
</li>
</ul>
</div>
<h3><a id="bug-8.12.0"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/8.12.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adjust Histogram&#8217;s bucket accounting to be iteratively <a href="https://github.com/elastic/elasticsearch/pull/102172" class="ulink" target="_top">#102172</a>
</li>
<li class="listitem">
Aggs error codes part 1 <a href="https://github.com/elastic/elasticsearch/pull/99963" class="ulink" target="_top">#99963</a>
</li>
<li class="listitem">
Skip global ordinals loading if query does not match after rewrite <a href="https://github.com/elastic/elasticsearch/pull/102844" class="ulink" target="_top">#102844</a>
</li>
<li class="listitem">
Trigger parent circuit breaker when building scorers in filters aggregation <a href="https://github.com/elastic/elasticsearch/pull/102511" class="ulink" target="_top">#102511</a>
</li>
<li class="listitem">
Unwrap <code class="literal">ExecutionException</code> when loading from cache in <code class="literal">AbstractIndexOrdinalsFieldData</code> <a href="https://github.com/elastic/elasticsearch/pull/102476" class="ulink" target="_top">#102476</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Application
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[Connector API] Fix bug with nullable tooltip field in parser <a href="https://github.com/elastic/elasticsearch/pull/103427" class="ulink" target="_top">#103427</a>
</li>
<li class="listitem">
[Connectors API] Fix <code class="literal">ClassCastException</code> when creating a new sync job <a href="https://github.com/elastic/elasticsearch/pull/103508" class="ulink" target="_top">#103508</a>
</li>
<li class="listitem">
[Connectors API] Fix bug with missing TEXT <code class="literal">DisplayType</code> enum <a href="https://github.com/elastic/elasticsearch/pull/103430" class="ulink" target="_top">#103430</a>
</li>
<li class="listitem">
[Connectors API] Handle nullable fields correctly in the <code class="literal">ConnectorSyncJob</code> parser <a href="https://github.com/elastic/elasticsearch/pull/103183" class="ulink" target="_top">#103183</a>
</li>
<li class="listitem">
[Profiling] Query in parallel only if beneficial <a href="https://github.com/elastic/elasticsearch/pull/103061" class="ulink" target="_top">#103061</a>
</li>
<li class="listitem">
[Search Applications] Return 400 response when template rendering produces invalid JSON <a href="https://github.com/elastic/elasticsearch/pull/101474" class="ulink" target="_top">#101474</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fall through malformed JWTs to subsequent realms in the chain <a href="https://github.com/elastic/elasticsearch/pull/101660" class="ulink" target="_top">#101660</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101367" class="ulink" target="_top">#101367</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix cache invalidation on privilege modification <a href="https://github.com/elastic/elasticsearch/pull/102193" class="ulink" target="_top">#102193</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Data streams
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use dataset size instead of on-disk size for data stream stats <a href="https://github.com/elastic/elasticsearch/pull/103342" class="ulink" target="_top">#103342</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Active shards message corrected for search shards <a href="https://github.com/elastic/elasticsearch/pull/102808" class="ulink" target="_top">#102808</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101896" class="ulink" target="_top">#101896</a>)
</li>
<li class="listitem">
Dispatch <code class="literal">ClusterStateAction#buildResponse</code> to executor <a href="https://github.com/elastic/elasticsearch/pull/103435" class="ulink" target="_top">#103435</a>
</li>
<li class="listitem">
Fix listeners in <code class="literal">SharedBlobCacheService.readMultiRegions</code> <a href="https://github.com/elastic/elasticsearch/pull/101727" class="ulink" target="_top">#101727</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Downsampling
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Copy counter field properties to downsampled index <a href="https://github.com/elastic/elasticsearch/pull/103580" class="ulink" target="_top">#103580</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/103569" class="ulink" target="_top">#103569</a>)
</li>
<li class="listitem">
Fix downsample api by returning a failure in case one or more downsample persistent tasks failed <a href="https://github.com/elastic/elasticsearch/pull/103615" class="ulink" target="_top">#103615</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Cover head/tail commands edge cases and data types coverage <a href="https://github.com/elastic/elasticsearch/pull/101859" class="ulink" target="_top">#101859</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101724" class="ulink" target="_top">#101724</a>)
</li>
<li class="listitem">
Fix NPE on missing event queries <a href="https://github.com/elastic/elasticsearch/pull/103611" class="ulink" target="_top">#103611</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/103608" class="ulink" target="_top">#103608</a>)
</li>
<li class="listitem">
Samples should check if the aggregations result is empty or null <a href="https://github.com/elastic/elasticsearch/pull/103574" class="ulink" target="_top">#103574</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ES|QL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ESQL: Fix <code class="literal">to_degrees()</code> returning infinity <a href="https://github.com/elastic/elasticsearch/pull/103209" class="ulink" target="_top">#103209</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/102987" class="ulink" target="_top">#102987</a>)
</li>
<li class="listitem">
ESQL: Fix planning of MV_EXPAND with foldable expressions <a href="https://github.com/elastic/elasticsearch/pull/101385" class="ulink" target="_top">#101385</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101118" class="ulink" target="_top">#101118</a>)
</li>
<li class="listitem">
ESQL: Fix rare bug with empty string <a href="https://github.com/elastic/elasticsearch/pull/102350" class="ulink" target="_top">#102350</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101969" class="ulink" target="_top">#101969</a>)
</li>
<li class="listitem">
ESQL: Fix resolution of MV_EXPAND after KEEP * <a href="https://github.com/elastic/elasticsearch/pull/103339" class="ulink" target="_top">#103339</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/103331" class="ulink" target="_top">#103331</a>)
</li>
<li class="listitem">
ESQL: Fix single value query <a href="https://github.com/elastic/elasticsearch/pull/102317" class="ulink" target="_top">#102317</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/102298" class="ulink" target="_top">#102298</a>)
</li>
<li class="listitem">
ESQL: Improve local folding of aggregates <a href="https://github.com/elastic/elasticsearch/pull/103670" class="ulink" target="_top">#103670</a>
</li>
<li class="listitem">
ESQL: Improve pushdown of certain filters <a href="https://github.com/elastic/elasticsearch/pull/103671" class="ulink" target="_top">#103671</a>
</li>
<li class="listitem">
ESQL: Narrow catch in convert functions <a href="https://github.com/elastic/elasticsearch/pull/101788" class="ulink" target="_top">#101788</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/100820" class="ulink" target="_top">#100820</a>)
</li>
<li class="listitem">
ESQL: Update the use of some user-caused exceptions <a href="https://github.com/elastic/elasticsearch/pull/104046" class="ulink" target="_top">#104046</a>
</li>
<li class="listitem">
ESQL: remove <code class="literal">time_zone</code> request parameter <a href="https://github.com/elastic/elasticsearch/pull/102767" class="ulink" target="_top">#102767</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/102159" class="ulink" target="_top">#102159</a>)
</li>
<li class="listitem">
ES|QL: Fix NPE on single value detection <a href="https://github.com/elastic/elasticsearch/pull/103150" class="ulink" target="_top">#103150</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/103141" class="ulink" target="_top">#103141</a>)
</li>
<li class="listitem">
ES|QL: Improve resolution error management in <code class="literal">mv_expand</code> <a href="https://github.com/elastic/elasticsearch/pull/102967" class="ulink" target="_top">#102967</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/102964" class="ulink" target="_top">#102964</a>)
</li>
<li class="listitem">
Fix layout for MV_EXPAND <a href="https://github.com/elastic/elasticsearch/pull/102916" class="ulink" target="_top">#102916</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/102912" class="ulink" target="_top">#102912</a>)
</li>
<li class="listitem">
Fix now in millis for ESQL search contexts <a href="https://github.com/elastic/elasticsearch/pull/103474" class="ulink" target="_top">#103474</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/103455" class="ulink" target="_top">#103455</a>)
</li>
<li class="listitem">
Fix planning of duplicate aggs <a href="https://github.com/elastic/elasticsearch/pull/102165" class="ulink" target="_top">#102165</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/102083" class="ulink" target="_top">#102083</a>)
</li>
<li class="listitem">
Fix the transport version of <code class="literal">PlanStreamOutput</code> <a href="https://github.com/elastic/elasticsearch/pull/103758" class="ulink" target="_top">#103758</a>
</li>
<li class="listitem">
<code class="literal">AsyncOperator#isFinished</code> must never return true on failure <a href="https://github.com/elastic/elasticsearch/pull/104029" class="ulink" target="_top">#104029</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">lastUnsafeSegmentGenerationForGets</code> for realtime get <a href="https://github.com/elastic/elasticsearch/pull/101700" class="ulink" target="_top">#101700</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix geo tile bounding boxes to be consistent with arithmetic method <a href="https://github.com/elastic/elasticsearch/pull/100826" class="ulink" target="_top">#100826</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/92611" class="ulink" target="_top">#92611</a>, <a href="https://github.com/elastic/elasticsearch/issues/95574" class="ulink" target="_top">#95574</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Collect data tiers usage stats more efficiently <a href="https://github.com/elastic/elasticsearch/pull/102140" class="ulink" target="_top">#102140</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/100230" class="ulink" target="_top">#100230</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix template simulate setting application ordering <a href="https://github.com/elastic/elasticsearch/pull/103024" class="ulink" target="_top">#103024</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/103008" class="ulink" target="_top">#103008</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Cache component versions <a href="https://github.com/elastic/elasticsearch/pull/103408" class="ulink" target="_top">#103408</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/102103" class="ulink" target="_top">#102103</a>)
</li>
<li class="listitem">
Fix metric gauge creation model <a href="https://github.com/elastic/elasticsearch/pull/100609" class="ulink" target="_top">#100609</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Node Lifecycle
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Wait for reroute before acking put-shutdown <a href="https://github.com/elastic/elasticsearch/pull/103251" class="ulink" target="_top">#103251</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Making classname optional in Transport protocol <a href="https://github.com/elastic/elasticsearch/pull/99702" class="ulink" target="_top">#99702</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/98584" class="ulink" target="_top">#98584</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make IPAddress writeable <a href="https://github.com/elastic/elasticsearch/pull/101093" class="ulink" target="_top">#101093</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101082" class="ulink" target="_top">#101082</a>)
</li>
<li class="listitem">
Wrap painless explain error <a href="https://github.com/elastic/elasticsearch/pull/103151" class="ulink" target="_top">#103151</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/103018" class="ulink" target="_top">#103018</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Report full stack trace for non-state file settings transforms <a href="https://github.com/elastic/elasticsearch/pull/101346" class="ulink" target="_top">#101346</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Sending an index name to <code class="literal">DocumentParsingObserver</code> that is not ever null <a href="https://github.com/elastic/elasticsearch/pull/100862" class="ulink" target="_top">#100862</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
License
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Error log when license verification fails locally <a href="https://github.com/elastic/elasticsearch/pull/102919" class="ulink" target="_top">#102919</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Catch exceptions during <code class="literal">pytorch_inference</code> startup <a href="https://github.com/elastic/elasticsearch/pull/103873" class="ulink" target="_top">#103873</a>
</li>
<li class="listitem">
Exclude quantiles when fetching model snapshots where possible <a href="https://github.com/elastic/elasticsearch/pull/103530" class="ulink" target="_top">#103530</a>
</li>
<li class="listitem">
Fix <code class="literal">frequent_item_sets</code> aggregation on empty index <a href="https://github.com/elastic/elasticsearch/pull/103116" class="ulink" target="_top">#103116</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/103067" class="ulink" target="_top">#103067</a>)
</li>
<li class="listitem">
If trained model download task is in progress, wait for it to finish before executing start trained model deployment <a href="https://github.com/elastic/elasticsearch/pull/102944" class="ulink" target="_top">#102944</a>
</li>
<li class="listitem">
Persist data counts on job close before results index refresh <a href="https://github.com/elastic/elasticsearch/pull/101147" class="ulink" target="_top">#101147</a>
</li>
<li class="listitem">
Preserve response headers in Datafeed preview <a href="https://github.com/elastic/elasticsearch/pull/103923" class="ulink" target="_top">#103923</a>
</li>
<li class="listitem">
Prevent attempts to access non-existent node information during rebalancing <a href="https://github.com/elastic/elasticsearch/pull/103361" class="ulink" target="_top">#103361</a>
</li>
<li class="listitem">
Prevent resource over-subscription in model allocation planner <a href="https://github.com/elastic/elasticsearch/pull/100392" class="ulink" target="_top">#100392</a>
</li>
<li class="listitem">
Start a new trace context before loading a trained model <a href="https://github.com/elastic/elasticsearch/pull/103124" class="ulink" target="_top">#103124</a>
</li>
<li class="listitem">
Wait for the model results on graceful shutdown <a href="https://github.com/elastic/elasticsearch/pull/103591" class="ulink" target="_top">#103591</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/103414" class="ulink" target="_top">#103414</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Revert change <a href="https://github.com/elastic/elasticsearch/pull/103865" class="ulink" target="_top">#103865</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[Monitoring] Dont get cluster state until recovery <a href="https://github.com/elastic/elasticsearch/pull/100565" class="ulink" target="_top">#100565</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ensure the correct <code class="literal">threadContext</code> for <code class="literal">RemoteClusterNodesAction</code> <a href="https://github.com/elastic/elasticsearch/pull/101050" class="ulink" target="_top">#101050</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ranking
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add an additional tiebreaker to RRF <a href="https://github.com/elastic/elasticsearch/pull/101847" class="ulink" target="_top">#101847</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101232" class="ulink" target="_top">#101232</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reindex
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow prefix index naming while reindexing from remote <a href="https://github.com/elastic/elasticsearch/pull/96968" class="ulink" target="_top">#96968</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89120" class="ulink" target="_top">#89120</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add JIT compiler excludes for <code class="literal">computeCommonPrefixLengthAndBuildHistogram</code> <a href="https://github.com/elastic/elasticsearch/pull/103112" class="ulink" target="_top">#103112</a>
</li>
<li class="listitem">
Check that scripts produce correct json in render template action <a href="https://github.com/elastic/elasticsearch/pull/101518" class="ulink" target="_top">#101518</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101477" class="ulink" target="_top">#101477</a>)
</li>
<li class="listitem">
Fix NPE &amp; empty result handling in <code class="literal">CountOnlyQueryPhaseResultConsumer</code> <a href="https://github.com/elastic/elasticsearch/pull/103203" class="ulink" target="_top">#103203</a>
</li>
<li class="listitem">
Fix format string in <code class="literal">OldLuceneVersions</code> <a href="https://github.com/elastic/elasticsearch/pull/103185" class="ulink" target="_top">#103185</a>
</li>
<li class="listitem">
Handle timeout on standalone rewrite calls <a href="https://github.com/elastic/elasticsearch/pull/103546" class="ulink" target="_top">#103546</a>
</li>
<li class="listitem">
Introduce Elasticsearch <code class="literal">PostingFormat</code> based on Lucene 90 positing format using PFOR <a href="https://github.com/elastic/elasticsearch/pull/103601" class="ulink" target="_top">#103601</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/103002" class="ulink" target="_top">#103002</a>)
</li>
<li class="listitem">
Restore inter-segment search concurrency with synthetic source is enabled <a href="https://github.com/elastic/elasticsearch/pull/103690" class="ulink" target="_top">#103690</a>
</li>
<li class="listitem">
Support complex datemath expressions in index and index alias names <a href="https://github.com/elastic/elasticsearch/pull/100646" class="ulink" target="_top">#100646</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Decref <code class="literal">SharedBytes.IO</code> after read is done not before <a href="https://github.com/elastic/elasticsearch/pull/102848" class="ulink" target="_top">#102848</a>
</li>
<li class="listitem">
More consistent logging messages for snapshot deletion <a href="https://github.com/elastic/elasticsearch/pull/101024" class="ulink" target="_top">#101024</a>
</li>
<li class="listitem">
Reroute on shard snapshot completion <a href="https://github.com/elastic/elasticsearch/pull/101585" class="ulink" target="_top">#101585</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101514" class="ulink" target="_top">#101514</a>)
</li>
<li class="listitem">
Restore <code class="literal">SharedBytes.IO</code> refcounting on reads &amp; writes <a href="https://github.com/elastic/elasticsearch/pull/102843" class="ulink" target="_top">#102843</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDB
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Throw when wrapping rate agg in <code class="literal">DeferableBucketAggregator</code> <a href="https://github.com/elastic/elasticsearch/pull/101032" class="ulink" target="_top">#101032</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add an assertion to the testTransformFeatureReset test case <a href="https://github.com/elastic/elasticsearch/pull/100287" class="ulink" target="_top">#100287</a>
</li>
<li class="listitem">
Consider search context missing exceptions as recoverable <a href="https://github.com/elastic/elasticsearch/pull/102602" class="ulink" target="_top">#102602</a>
</li>
<li class="listitem">
Consider task cancelled exceptions as recoverable <a href="https://github.com/elastic/elasticsearch/pull/100828" class="ulink" target="_top">#100828</a>
</li>
<li class="listitem">
Fix NPE that is thrown by <code class="literal">_update</code> API <a href="https://github.com/elastic/elasticsearch/pull/104051" class="ulink" target="_top">#104051</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/104048" class="ulink" target="_top">#104048</a>)
</li>
<li class="listitem">
Log stacktrace together with log message in order to help debugging <a href="https://github.com/elastic/elasticsearch/pull/101607" class="ulink" target="_top">#101607</a>
</li>
<li class="listitem">
Split comma-separated source index strings into separate indices <a href="https://github.com/elastic/elasticsearch/pull/102811" class="ulink" target="_top">#102811</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/99564" class="ulink" target="_top">#99564</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Disallow vectors whose magnitudes will not fit in a float <a href="https://github.com/elastic/elasticsearch/pull/100519" class="ulink" target="_top">#100519</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Correctly logging watcher history write failures <a href="https://github.com/elastic/elasticsearch/pull/101802" class="ulink" target="_top">#101802</a>
</li>
<li class="listitem">
Fix: Watcher REST API <code class="literal">GET /_watcher/settings</code> now includes product header <a href="https://github.com/elastic/elasticsearch/pull/103003" class="ulink" target="_top">#103003</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/102928" class="ulink" target="_top">#102928</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="enhancement-8.12.0"></a>Enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/8.12.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Check the real memory circuit breaker when building global ordinals <a href="https://github.com/elastic/elasticsearch/pull/102462" class="ulink" target="_top">#102462</a>
</li>
<li class="listitem">
Disable concurrency for sampler and diversified sampler <a href="https://github.com/elastic/elasticsearch/pull/102832" class="ulink" target="_top">#102832</a>
</li>
<li class="listitem">
Disable parallelism for composite agg against high cardinality fields <a href="https://github.com/elastic/elasticsearch/pull/102644" class="ulink" target="_top">#102644</a>
</li>
<li class="listitem">
Enable concurrency for multi terms agg <a href="https://github.com/elastic/elasticsearch/pull/102710" class="ulink" target="_top">#102710</a>
</li>
<li class="listitem">
Enable concurrency for scripted metric agg <a href="https://github.com/elastic/elasticsearch/pull/102461" class="ulink" target="_top">#102461</a>
</li>
<li class="listitem">
Enable inter-segment concurrency for terms aggs <a href="https://github.com/elastic/elasticsearch/pull/101390" class="ulink" target="_top">#101390</a>
</li>
<li class="listitem">
Export circuit breaker trip count as a counter metric <a href="https://github.com/elastic/elasticsearch/pull/101423" class="ulink" target="_top">#101423</a>
</li>
<li class="listitem">
Introduce fielddata cache ttl <a href="https://github.com/elastic/elasticsearch/pull/102682" class="ulink" target="_top">#102682</a>
</li>
<li class="listitem">
Status codes for Aggregation errors, part 2 <a href="https://github.com/elastic/elasticsearch/pull/100368" class="ulink" target="_top">#100368</a>
</li>
<li class="listitem">
Support keyed histograms <a href="https://github.com/elastic/elasticsearch/pull/101826" class="ulink" target="_top">#101826</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/100242" class="ulink" target="_top">#100242</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add more desired balance stats <a href="https://github.com/elastic/elasticsearch/pull/102065" class="ulink" target="_top">#102065</a>
</li>
<li class="listitem">
Add undesired shard count <a href="https://github.com/elastic/elasticsearch/pull/101426" class="ulink" target="_top">#101426</a>
</li>
<li class="listitem">
Expose reconciliation metrics via APM <a href="https://github.com/elastic/elasticsearch/pull/102244" class="ulink" target="_top">#102244</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Application
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Calculate CO2 and emmission and costs <a href="https://github.com/elastic/elasticsearch/pull/101979" class="ulink" target="_top">#101979</a>
</li>
<li class="listitem">
Consider duplicate stacktraces in custom index <a href="https://github.com/elastic/elasticsearch/pull/102292" class="ulink" target="_top">#102292</a>
</li>
<li class="listitem">
Enable Universal Profiling as Enterprise feature <a href="https://github.com/elastic/elasticsearch/pull/100333" class="ulink" target="_top">#100333</a>
</li>
<li class="listitem">
Include totals in flamegraph response <a href="https://github.com/elastic/elasticsearch/pull/101126" class="ulink" target="_top">#101126</a>
</li>
<li class="listitem">
Retrieve stacktrace events from a custom index <a href="https://github.com/elastic/elasticsearch/pull/102020" class="ulink" target="_top">#102020</a>
</li>
<li class="listitem">
[Profiling] Notify early about task cancellation <a href="https://github.com/elastic/elasticsearch/pull/102740" class="ulink" target="_top">#102740</a>
</li>
<li class="listitem">
[Profiling] Report in status API if docs exist <a href="https://github.com/elastic/elasticsearch/pull/102735" class="ulink" target="_top">#102735</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add ldap user metadata mappings for full name and email <a href="https://github.com/elastic/elasticsearch/pull/102925" class="ulink" target="_top">#102925</a>
</li>
<li class="listitem">
Add manage_enrich cluster privilege to kibana_system role <a href="https://github.com/elastic/elasticsearch/pull/101682" class="ulink" target="_top">#101682</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove <code class="literal">auto_configure</code> privilege for profiling <a href="https://github.com/elastic/elasticsearch/pull/101026" class="ulink" target="_top">#101026</a>
</li>
<li class="listitem">
Use <code class="literal">BulkRequest</code> to store Application Privileges <a href="https://github.com/elastic/elasticsearch/pull/102056" class="ulink" target="_top">#102056</a>
</li>
<li class="listitem">
Use non-deprecated SAML callback URL in SAML smoketests <a href="https://github.com/elastic/elasticsearch/pull/99983" class="ulink" target="_top">#99983</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/99986" class="ulink" target="_top">#99986</a>)
</li>
<li class="listitem">
Use non-deprecated SAML callback URL in tests <a href="https://github.com/elastic/elasticsearch/pull/99983" class="ulink" target="_top">#99983</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/99985" class="ulink" target="_top">#99985</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CAT APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Expose roles by default in cat allocation API <a href="https://github.com/elastic/elasticsearch/pull/101753" class="ulink" target="_top">#101753</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Cache resolved index for mgets <a href="https://github.com/elastic/elasticsearch/pull/101311" class="ulink" target="_top">#101311</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Data streams
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce new endpoint to expose data stream lifecycle stats <a href="https://github.com/elastic/elasticsearch/pull/101845" class="ulink" target="_top">#101845</a>
</li>
<li class="listitem">
Switch logs data streams to search all fields by default <a href="https://github.com/elastic/elasticsearch/pull/102456" class="ulink" target="_top">#102456</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/99872" class="ulink" target="_top">#99872</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for configuring proxy scheme in S3 client settings and EC2 discovery plugin <a href="https://github.com/elastic/elasticsearch/pull/102495" class="ulink" target="_top">#102495</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101873" class="ulink" target="_top">#101873</a>)
</li>
<li class="listitem">
Introduce a <code class="literal">StreamOutput</code> that counts how many bytes are written to the stream <a href="https://github.com/elastic/elasticsearch/pull/102906" class="ulink" target="_top">#102906</a>
</li>
<li class="listitem">
Push s3 requests count via metrics API <a href="https://github.com/elastic/elasticsearch/pull/100383" class="ulink" target="_top">#100383</a>
</li>
<li class="listitem">
Record operation purpose for s3 stats collection <a href="https://github.com/elastic/elasticsearch/pull/100236" class="ulink" target="_top">#100236</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add error logging for *QL <a href="https://github.com/elastic/elasticsearch/pull/101057" class="ulink" target="_top">#101057</a>
</li>
<li class="listitem">
Use the eql query filter for the open-pit request <a href="https://github.com/elastic/elasticsearch/pull/103212" class="ulink" target="_top">#103212</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ES|QL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ESQL: Add <code class="literal">profile</code> option <a href="https://github.com/elastic/elasticsearch/pull/102713" class="ulink" target="_top">#102713</a>
</li>
<li class="listitem">
ESQL: Alias duplicated aggregations in a stats <a href="https://github.com/elastic/elasticsearch/pull/100642" class="ulink" target="_top">#100642</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/100544" class="ulink" target="_top">#100544</a>)
</li>
<li class="listitem">
ESQL: Load more than one field at once <a href="https://github.com/elastic/elasticsearch/pull/102192" class="ulink" target="_top">#102192</a>
</li>
<li class="listitem">
ESQL: Load stored fields sequentially <a href="https://github.com/elastic/elasticsearch/pull/102727" class="ulink" target="_top">#102727</a>
</li>
<li class="listitem">
ESQL: Load text field from parent keyword field <a href="https://github.com/elastic/elasticsearch/pull/102490" class="ulink" target="_top">#102490</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/102473" class="ulink" target="_top">#102473</a>)
</li>
<li class="listitem">
ESQL: Make blocks ref counted <a href="https://github.com/elastic/elasticsearch/pull/100408" class="ulink" target="_top">#100408</a>
</li>
<li class="listitem">
ESQL: Make fieldcaps calls lighter <a href="https://github.com/elastic/elasticsearch/pull/102510" class="ulink" target="_top">#102510</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/101763" class="ulink" target="_top">#101763</a>, <a href="https://github.com/elastic/elasticsearch/issues/102393" class="ulink" target="_top">#102393</a>)
</li>
<li class="listitem">
ESQL: More tracking in <code class="literal">BlockHash</code> impls <a href="https://github.com/elastic/elasticsearch/pull/101488" class="ulink" target="_top">#101488</a>
</li>
<li class="listitem">
ESQL: New telemetry commands <a href="https://github.com/elastic/elasticsearch/pull/102937" class="ulink" target="_top">#102937</a>
</li>
<li class="listitem">
ESQL: Share constant null Blocks <a href="https://github.com/elastic/elasticsearch/pull/102673" class="ulink" target="_top">#102673</a>
</li>
<li class="listitem">
ESQL: Short circuit loading empty doc values <a href="https://github.com/elastic/elasticsearch/pull/102434" class="ulink" target="_top">#102434</a>
</li>
<li class="listitem">
ESQL: Support the <code class="literal">_source</code> metadata field <a href="https://github.com/elastic/elasticsearch/pull/102391" class="ulink" target="_top">#102391</a>
</li>
<li class="listitem">
ESQL: Track blocks emitted from lucene <a href="https://github.com/elastic/elasticsearch/pull/101396" class="ulink" target="_top">#101396</a>
</li>
<li class="listitem">
ESQL: Track memory from values loaded from lucene <a href="https://github.com/elastic/elasticsearch/pull/101383" class="ulink" target="_top">#101383</a>
</li>
<li class="listitem">
Fast path for reading single doc with ordinals <a href="https://github.com/elastic/elasticsearch/pull/102902" class="ulink" target="_top">#102902</a>
</li>
<li class="listitem">
Introduce local block factory <a href="https://github.com/elastic/elasticsearch/pull/102901" class="ulink" target="_top">#102901</a>
</li>
<li class="listitem">
Load different way <a href="https://github.com/elastic/elasticsearch/pull/101235" class="ulink" target="_top">#101235</a>
</li>
<li class="listitem">
Track ESQL enrich memory <a href="https://github.com/elastic/elasticsearch/pull/102184" class="ulink" target="_top">#102184</a>
</li>
<li class="listitem">
Track blocks in <code class="literal">AsyncOperator</code> <a href="https://github.com/elastic/elasticsearch/pull/102188" class="ulink" target="_top">#102188</a>
</li>
<li class="listitem">
Track blocks of intermediate state of aggs <a href="https://github.com/elastic/elasticsearch/pull/102562" class="ulink" target="_top">#102562</a>
</li>
<li class="listitem">
Track blocks when hashing single multi-valued field <a href="https://github.com/elastic/elasticsearch/pull/102612" class="ulink" target="_top">#102612</a>
</li>
<li class="listitem">
Track pages in ESQL enrich request/response <a href="https://github.com/elastic/elasticsearch/pull/102190" class="ulink" target="_top">#102190</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add static node settings to set default values for max merged segment sizes <a href="https://github.com/elastic/elasticsearch/pull/102208" class="ulink" target="_top">#102208</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add runtime field of type <code class="literal">geo_shape</code> <a href="https://github.com/elastic/elasticsearch/pull/100492" class="ulink" target="_top">#100492</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/61299" class="ulink" target="_top">#61299</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add message field to <code class="literal">HealthPeriodicLogger</code> and <code class="literal">S3RequestRetryStats</code> <a href="https://github.com/elastic/elasticsearch/pull/101989" class="ulink" target="_top">#101989</a>
</li>
<li class="listitem">
Add non-green indicator names to <code class="literal">HealthPeriodicLogger</code> message <a href="https://github.com/elastic/elasticsearch/pull/102245" class="ulink" target="_top">#102245</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Health Report API should not return RED for unassigned cold/frozen shards when data is available <a href="https://github.com/elastic/elasticsearch/pull/100776" class="ulink" target="_top">#100776</a>
</li>
<li class="listitem">
Switch fleet&#8217;s built-in ILM policies to use .actions.rollover.max_primary_shard_size <a href="https://github.com/elastic/elasticsearch/pull/99984" class="ulink" target="_top">#99984</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/99983" class="ulink" target="_top">#99983</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add executed pipelines to bulk api response <a href="https://github.com/elastic/elasticsearch/pull/100031" class="ulink" target="_top">#100031</a>
</li>
<li class="listitem">
Add support for marking component templates as deprecated <a href="https://github.com/elastic/elasticsearch/pull/101148" class="ulink" target="_top">#101148</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/100992" class="ulink" target="_top">#100992</a>)
</li>
<li class="listitem">
Allowing non-dynamic index settings to be updated by automatically unassigning shards <a href="https://github.com/elastic/elasticsearch/pull/101723" class="ulink" target="_top">#101723</a>
</li>
<li class="listitem">
Rename component templates and pipelines according to the new naming conventions <a href="https://github.com/elastic/elasticsearch/pull/99975" class="ulink" target="_top">#99975</a>
</li>
<li class="listitem">
Run <code class="literal">TransportGetAliasesAction</code> on local node <a href="https://github.com/elastic/elasticsearch/pull/101815" class="ulink" target="_top">#101815</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/CLI
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set <code class="literal">ActiveProcessorCount</code> when <code class="literal">node.processors</code> is set <a href="https://github.com/elastic/elasticsearch/pull/101846" class="ulink" target="_top">#101846</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add apm api for asynchronous counters (always increasing) <a href="https://github.com/elastic/elasticsearch/pull/102598" class="ulink" target="_top">#102598</a>
</li>
<li class="listitem">
Log errors in <code class="literal">RestResponse</code> regardless of <code class="literal">error_trace</code> parameter <a href="https://github.com/elastic/elasticsearch/pull/101066" class="ulink" target="_top">#101066</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/100884" class="ulink" target="_top">#100884</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add status code to <code class="literal">rest.suppressed</code> log output <a href="https://github.com/elastic/elasticsearch/pull/100990" class="ulink" target="_top">#100990</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate the unused <code class="literal">elasticsearch_version</code> field of enrich policy json <a href="https://github.com/elastic/elasticsearch/pull/103013" class="ulink" target="_top">#103013</a>
</li>
<li class="listitem">
Optimize <code class="literal">MurmurHash3</code> <a href="https://github.com/elastic/elasticsearch/pull/101202" class="ulink" target="_top">#101202</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Accept a single or multiple inputs to <code class="literal">_inference</code> <a href="https://github.com/elastic/elasticsearch/pull/102075" class="ulink" target="_top">#102075</a>
</li>
<li class="listitem">
Add basic telelemetry for the inference feature <a href="https://github.com/elastic/elasticsearch/pull/102877" class="ulink" target="_top">#102877</a>
</li>
<li class="listitem">
Add internal inference action for ml models an services <a href="https://github.com/elastic/elasticsearch/pull/102731" class="ulink" target="_top">#102731</a>
</li>
<li class="listitem">
Add prefix strings option to trained models <a href="https://github.com/elastic/elasticsearch/pull/102089" class="ulink" target="_top">#102089</a>
</li>
<li class="listitem">
Estimate the memory required to deploy trained models more accurately <a href="https://github.com/elastic/elasticsearch/pull/98874" class="ulink" target="_top">#98874</a>
</li>
<li class="listitem">
Improve stability of spike and dip detection for the change point aggregation <a href="https://github.com/elastic/elasticsearch/pull/102637" class="ulink" target="_top">#102637</a>
</li>
<li class="listitem">
Include ML processor limits in <code class="literal">_ml/info</code> response <a href="https://github.com/elastic/elasticsearch/pull/101392" class="ulink" target="_top">#101392</a>
</li>
<li class="listitem">
Read scores from downloaded vocabulary for XLM Roberta tokenizers <a href="https://github.com/elastic/elasticsearch/pull/101868" class="ulink" target="_top">#101868</a>
</li>
<li class="listitem">
Support for GET all models and by task type in the <code class="literal">_inference</code> API <a href="https://github.com/elastic/elasticsearch/pull/102806" class="ulink" target="_top">#102806</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve analyzer reload log message <a href="https://github.com/elastic/elasticsearch/pull/102273" class="ulink" target="_top">#102273</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add memory utilization Kibana metric to the monitoring index templates <a href="https://github.com/elastic/elasticsearch/pull/102810" class="ulink" target="_top">#102810</a>
</li>
<li class="listitem">
Added <code class="literal">beat.stats.libbeat.pipeline.queue.max_events</code> <a href="https://github.com/elastic/elasticsearch/pull/102570" class="ulink" target="_top">#102570</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Record more detailed HTTP stats <a href="https://github.com/elastic/elasticsearch/pull/99852" class="ulink" target="_top">#99852</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add metrics to the shared blob cache <a href="https://github.com/elastic/elasticsearch/pull/101577" class="ulink" target="_top">#101577</a>
</li>
<li class="listitem">
Add support for Serbian Language Analyzer <a href="https://github.com/elastic/elasticsearch/pull/100921" class="ulink" target="_top">#100921</a>
</li>
<li class="listitem">
Add support for <code class="literal">index_filter</code> to open pit <a href="https://github.com/elastic/elasticsearch/pull/102388" class="ulink" target="_top">#102388</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/99740" class="ulink" target="_top">#99740</a>)
</li>
<li class="listitem">
Added metric for cache eviction of entries with non zero frequency <a href="https://github.com/elastic/elasticsearch/pull/100570" class="ulink" target="_top">#100570</a>
</li>
<li class="listitem">
Disable inter-segment concurrency when sorting by field <a href="https://github.com/elastic/elasticsearch/pull/101535" class="ulink" target="_top">#101535</a>
</li>
<li class="listitem">
Enable query phase parallelism within a single shard <a href="https://github.com/elastic/elasticsearch/pull/101230" class="ulink" target="_top">#101230</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/80693" class="ulink" target="_top">#80693</a>)
</li>
<li class="listitem">
Node stats as metrics <a href="https://github.com/elastic/elasticsearch/pull/102248" class="ulink" target="_top">#102248</a>
</li>
<li class="listitem">
Optimize <code class="literal">_count</code> type API requests <a href="https://github.com/elastic/elasticsearch/pull/102888" class="ulink" target="_top">#102888</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Expose the <code class="literal">invalidation</code> field in Get/Query <code class="literal">ApiKey</code> APIs <a href="https://github.com/elastic/elasticsearch/pull/102472" class="ulink" target="_top">#102472</a>
</li>
<li class="listitem">
Make <code class="literal">api_key.delete.interval</code> a dynamic setting <a href="https://github.com/elastic/elasticsearch/pull/102680" class="ulink" target="_top">#102680</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fail S3 repository analysis on partial reads <a href="https://github.com/elastic/elasticsearch/pull/102840" class="ulink" target="_top">#102840</a>
</li>
<li class="listitem">
Parallelize stale index deletion <a href="https://github.com/elastic/elasticsearch/pull/100316" class="ulink" target="_top">#100316</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/61513" class="ulink" target="_top">#61513</a>)
</li>
<li class="listitem">
Repo analysis of uncontended register behaviour <a href="https://github.com/elastic/elasticsearch/pull/101185" class="ulink" target="_top">#101185</a>
</li>
<li class="listitem">
Repo analysis: allow configuration of register ops <a href="https://github.com/elastic/elasticsearch/pull/102051" class="ulink" target="_top">#102051</a>
</li>
<li class="listitem">
Repo analysis: verify empty register <a href="https://github.com/elastic/elasticsearch/pull/102048" class="ulink" target="_top">#102048</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduce includeShardsStats in the stats request to indicate that we only fetch a summary <a href="https://github.com/elastic/elasticsearch/pull/100466" class="ulink" target="_top">#100466</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/99744" class="ulink" target="_top">#99744</a>)
</li>
<li class="listitem">
Set includeShardsStats = false in NodesStatsRequest where the caller does not use shards-level statistics <a href="https://github.com/elastic/elasticsearch/pull/100938" class="ulink" target="_top">#100938</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add methods for adding generation listeners with primary term <a href="https://github.com/elastic/elasticsearch/pull/100899" class="ulink" target="_top">#100899</a>
</li>
<li class="listitem">
Allow executing multiple periodic flushes while they are being made durable <a href="https://github.com/elastic/elasticsearch/pull/102571" class="ulink" target="_top">#102571</a>
</li>
<li class="listitem">
Pass shard&#8217;s primary term to Engine#addSegmentGenerationListener <a href="https://github.com/elastic/elasticsearch/pull/99752" class="ulink" target="_top">#99752</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Implement exponential backoff for transform state persistence retrying <a href="https://github.com/elastic/elasticsearch/pull/102512" class="ulink" target="_top">#102512</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/102528" class="ulink" target="_top">#102528</a>)
</li>
<li class="listitem">
Make tasks that calculate checkpoints time out <a href="https://github.com/elastic/elasticsearch/pull/101055" class="ulink" target="_top">#101055</a>
</li>
<li class="listitem">
Pass source query to <code class="literal">_field_caps</code> (as <code class="literal">index_filter</code>) when deducing destination index mappings for better performance <a href="https://github.com/elastic/elasticsearch/pull/102379" class="ulink" target="_top">#102379</a>
</li>
<li class="listitem">
Pass transform source query as <code class="literal">index_filter</code> to <code class="literal">open_point_in_time</code> request <a href="https://github.com/elastic/elasticsearch/pull/102447" class="ulink" target="_top">#102447</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/101049" class="ulink" target="_top">#101049</a>)
</li>
<li class="listitem">
Skip shards that don&#8217;t match the source query during checkpointing <a href="https://github.com/elastic/elasticsearch/pull/102138" class="ulink" target="_top">#102138</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add vector_operation_count in profile output for knn searches <a href="https://github.com/elastic/elasticsearch/pull/102032" class="ulink" target="_top">#102032</a>
</li>
<li class="listitem">
Make cosine similarity faster by storing magnitude and normalizing vectors <a href="https://github.com/elastic/elasticsearch/pull/99445" class="ulink" target="_top">#99445</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="feature-8.12.0"></a>New features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/8.12.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Application
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable Connectors API as technical preview <a href="https://github.com/elastic/elasticsearch/pull/102994" class="ulink" target="_top">#102994</a>
</li>
<li class="listitem">
[Behavioral Analytics] Analytics collections use Data Stream Lifecycle (DSL) instead of Index Lifecycle Management (ILM) for data retention management. Behavioral analytics has traditionally used ILM to manage data retention. Starting with 8.12.0, this will change. Analytics collections created prior to 8.12.0 will continue to use their existing ILM policies, but new analytics collections will be managed using DSL. <a href="https://github.com/elastic/elasticsearch/pull/100033" class="ulink" target="_top">#100033</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Patterns support for allowed subjects by the JWT realm <a href="https://github.com/elastic/elasticsearch/pull/102426" class="ulink" target="_top">#102426</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a node feature join barrier. This prevents nodes from joining clusters that do not have all the features already present in the cluster. This ensures that once a features is supported by all the nodes in a cluster, that feature will never then not be supported in the future. This is the corresponding functionality for the version join barrier, but for features
<a href="https://github.com/elastic/elasticsearch/pull/101609" class="ulink" target="_top">#101609</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Data streams
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add ability to create a data stream failure store <a href="https://github.com/elastic/elasticsearch/pull/99134" class="ulink" target="_top">#99134</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ES|QL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ESQL: emit warnings from single-value functions processing multi-values <a href="https://github.com/elastic/elasticsearch/pull/102417" class="ulink" target="_top">#102417</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/98743" class="ulink" target="_top">#98743</a>)
</li>
<li class="listitem">
GEO_POINT and CARTESIAN_POINT type support <a href="https://github.com/elastic/elasticsearch/pull/102177" class="ulink" target="_top">#102177</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Create new cluster state API for querying features present on a cluster <a href="https://github.com/elastic/elasticsearch/pull/100974" class="ulink" target="_top">#100974</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adding a simulate ingest api <a href="https://github.com/elastic/elasticsearch/pull/101409" class="ulink" target="_top">#101409</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow granting API keys with JWT as the access_token <a href="https://github.com/elastic/elasticsearch/pull/101904" class="ulink" target="_top">#101904</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add byte quantization for float vectors in HNSW <a href="https://github.com/elastic/elasticsearch/pull/102093" class="ulink" target="_top">#102093</a>
</li>
<li class="listitem">
Make knn search a query <a href="https://github.com/elastic/elasticsearch/pull/98916" class="ulink" target="_top">#98916</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="regression-8.12.0"></a>Regressions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/8.12.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Revert non-semantic <code class="literal">NodeInfo</code> <a href="https://github.com/elastic/elasticsearch/pull/102636" class="ulink" target="_top">#102636</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="upgrade-8.12.0"></a>Upgrades<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.15/docs/reference/release-notes/8.12.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to Lucene 9.9.1 <a href="https://github.com/elastic/elasticsearch/pull/103549" class="ulink" target="_top">#103549</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-8.12.1.html">« Elasticsearch version 8.12.1</a>
</span>
<span class="next">
<a href="release-notes-8.11.4.html">Elasticsearch version 8.11.4 »</a>
</span>
</div>
</body>
</html>
