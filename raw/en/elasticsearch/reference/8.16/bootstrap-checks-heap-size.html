<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Heap size check | Elasticsearch Guide [8.16] | Elastic</title>
<meta class="elastic" name="content" content="Heap size check | Elasticsearch Guide [8.16]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.16]"/>
<link rel="up" href="bootstrap-checks.html" title="Bootstrap Checks"/>
<link rel="prev" href="bootstrap-checks.html" title="Bootstrap Checks"/>
<link rel="next" href="bootstrap-checks-file-descriptor.html" title="File descriptor check"/>
<meta class="elastic" name="product_version" content="8.16"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.16"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.16"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="bootstrap-checks.html">« Bootstrap Checks</a>
</span>
<span class="next">
<a href="bootstrap-checks-file-descriptor.html">File descriptor check »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.16]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="bootstrap-checks.html">Bootstrap Checks</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Heap size check</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/setup/bootstrap-checks.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="bootstrap-checks-heap-size"></a>Heap size check</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/setup/bootstrap-checks.asciidoc">edit</a></div>
</div></div></div>
<p>By default, Elasticsearch automatically sizes JVM heap based on a node&#8217;s
<a class="xref" href="modules-node.html#node-roles" title="Node roles">roles</a> and total memory. If you manually override the default
sizing and start the JVM with different initial and max heap sizes, the JVM may
pause as it resizes the heap during system usage. If you enable
<a class="xref" href="setup-configuration-memory.html#bootstrap-memory_lock" title="Enable bootstrap.memory_lock"><code class="literal">bootstrap.memory_lock</code></a>, the JVM locks the initial heap
size on startup. If the initial heap size is not equal to the maximum heap size,
some JVM heap may not be locked after a resize. To avoid these issues, start the
JVM with an initial heap size equal to the maximum heap size.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="bootstrap-checks.html">« Bootstrap Checks</a>
</span>
<span class="next">
<a href="bootstrap-checks-file-descriptor.html">File descriptor check »</a>
</span>
</div>
</body>
</html>
