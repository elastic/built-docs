<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elastic Slack connector reference | Elasticsearch Guide [8.16] | Elastic</title>
<meta class="elastic" name="content" content="Elastic Slack connector reference | Elasticsearch Guide [8.16]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.16]"/>
<link rel="up" href="es-connectors-refs.html" title="Connectors references"/>
<link rel="prev" href="es-connectors-sharepoint.html" title="Elastic SharePoint Server connector reference"/>
<link rel="next" href="es-connectors-teams.html" title="Elastic Microsoft Teams connector reference"/>
<meta class="elastic" name="product_version" content="8.16"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.16"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.16"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="es-connectors-sharepoint.html">« Elastic SharePoint Server connector reference</a>
</span>
<span class="next">
<a href="es-connectors-teams.html">Elastic Microsoft Teams connector reference »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.16]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="es-connectors.html">Ingest content with Elastic connectors</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="es-connectors-refs.html">Connectors references</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Elastic Slack connector reference</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="es-connectors-slack"></a>Elastic Slack connector reference</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
</div></div></div>

<p>The Slack connector is written in Python using the <a href="https://github.com/elastic/connectors/tree/8.16" class="ulink" target="_blank" rel="noopener">Elastic connector framework</a>.</p>
<p>View the <a href="https://github.com/elastic/connectors/tree/8.16/connectors/sources/slack.py" class="ulink" target="_blank" rel="noopener"><span class="strong strong"><strong>source code</strong></span> for this connector</a> (branch <em>8.16</em>, compatible with Elastic <em>8.16</em>).</p>
<div class="position-relative"><h4><a id="es-connectors-slack-native-connector-reference"></a><span class="strong strong"><strong>Elastic managed connector reference</strong></span></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<details>
<summary class="title">View <span class="strong strong"><strong>Elastic managed connector</strong></span> reference</summary>
<div class="content">
<div class="position-relative"><h5><a id="es-connectors-slack-availability"></a>Availability and prerequisites</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>This managed connector was introduced in Elastic <span class="strong strong"><strong>8.14.0</strong></span> as a managed service on Elastic Cloud.</p>
<p>To use this connector natively in Elastic Cloud, satisfy all <a class="xref" href="es-native-connectors.html" title="Elastic managed connectors">managed connector requirements</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This connector is in <span class="strong strong"><strong>technical preview</strong></span> and is subject to change.
The design and code is less mature than official GA features and is being provided as-is with no warranties.
Technical preview features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<div class="position-relative"><h5><a id="es-connectors-slack-create-connector-native"></a>Create a Slack connector</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="es-connectors-slack-create-use-the-ui"></a>Use the UI</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>To create a new Slack connector:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the Kibana UI, navigate to the <span class="strong strong"><strong>Search &#8594; Content &#8594; Connectors</strong></span> page from the main menu, or use the <a href="/guide/en/kibana/8.16/kibana-concepts-analysts.html#_finding_your_apps_and_objects" class="ulink" target="_top">global search field</a>.
</li>
<li class="listitem">
Follow the instructions to create a new native  <span class="strong strong"><strong>Slack</strong></span> connector.
</li>
</ol>
</div>
<p>For additional operations, see <a class="xref" href="es-connectors-usage.html" title="Connectors UI in Kibana"><em>Connectors UI in Kibana</em></a>.</p>
<div class="position-relative"><h4><a id="es-connectors-slack-create-use-the-api"></a>Use the API</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>You can use the Elasticsearch <a href="/guide/en/elasticsearch/reference/8.16/connector-apis.html" class="ulink" target="_top">Create connector API</a> to create a new native Slack connector.</p>
<p>For example:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.connector.put(
    connector_id="my-{service-name-stub}-connector",
    index_name="my-elasticsearch-index",
    name="Content synced from {service-name}",
    service_type="{service-name-stub}",
    is_native=True,
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.connector.put({
  connector_id: "my-{service-name-stub}-connector",
  index_name: "my-elasticsearch-index",
  name: "Content synced from {service-name}",
  service_type: "{service-name-stub}",
  is_native: true,
});
console.log(response);</pre>
</div>
<a id="ae3473adaf1515afcf7773f26c018e5c"></a>
<div class="pre_wrapper lang-console default has-python has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-js">PUT _connector/my-slack-connector
{
  "index_name": "my-elasticsearch-index",
  "name": "Content synced from Slack",
  "service_type": "slack",
  "is_native": true
}</pre>
</div>
<div class="console_widget has-python has-js" data-snippet="snippets/1209.console"></div>
<details>
<summary class="title">You&#8217;ll also need to <span class="strong strong"><strong>create an API key</strong></span> for the connector to use.</summary>
<div class="content">
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The user needs the cluster privileges <code class="literal">manage_api_key</code>, <code class="literal">manage_connector</code> and <code class="literal">write_connector_secrets</code> to generate API keys programmatically.</p>
</div>
</div>
<p>To create an API key for the connector:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Run the following command, replacing values where indicated.
Note the <code class="literal">id</code> and <code class="literal">encoded</code> return values from the response:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.security.create_api_key(
    name="my-connector-api-key",
    role_descriptors={
        "my-connector-connector-role": {
            "cluster": [
                "monitor",
                "manage_connector"
            ],
            "indices": [
                {
                    "names": [
                        "my-index_name",
                        ".search-acl-filter-my-index_name",
                        ".elastic-connectors*"
                    ],
                    "privileges": [
                        "all"
                    ],
                    "allow_restricted_indices": False
                }
            ]
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.security.createApiKey({
  name: "my-connector-api-key",
  role_descriptors: {
    "my-connector-connector-role": {
      cluster: ["monitor", "manage_connector"],
      indices: [
        {
          names: [
            "my-index_name",
            ".search-acl-filter-my-index_name",
            ".elastic-connectors*",
          ],
          privileges: ["all"],
          allow_restricted_indices: false,
        },
      ],
    },
  },
});
console.log(response);</pre>
</div>
<a id="17316a81c9dbdd120b7754116bf0461c"></a>
<div class="pre_wrapper lang-console default has-python has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-js">POST /_security/api_key
{
  "name": "my-connector-api-key",
  "role_descriptors": {
    "my-connector-connector-role": {
      "cluster": [
        "monitor",
        "manage_connector"
      ],
      "indices": [
        {
          "names": [
            "my-index_name",
            ".search-acl-filter-my-index_name",
            ".elastic-connectors*"
          ],
          "privileges": [
            "all"
          ],
          "allow_restricted_indices": false
        }
      ]
    }
  }
}</pre>
</div>
<div class="console_widget has-python has-js" data-snippet="snippets/1210.console"></div>
</li>
<li class="listitem">
<p>Use the <code class="literal">encoded</code> value to store a connector secret, and note the <code class="literal">id</code> return value from this response:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.connector.secret_post(
    body={
        "value": "encoded_api_key"
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.transport.request({
  method: "POST",
  path: "/_connector/_secret",
  body: {
    value: "encoded_api_key",
  },
});
console.log(response);</pre>
</div>
<a id="f6f647eb644a2d236637ff05f833cb73"></a>
<div class="pre_wrapper lang-console default has-python has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-js">POST _connector/_secret
{
  "value": "encoded_api_key"
}</pre>
</div>
<div class="console_widget has-python has-js" data-snippet="snippets/1211.console"></div>
</li>
<li class="listitem">
<p>Use the API key <code class="literal">id</code> and the connector secret <code class="literal">id</code> to update the connector:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.connector.update_api_key_id(
    connector_id="my_connector_id&gt;",
    api_key_id="API key_id",
    api_key_secret_id="secret_id",
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.connector.updateApiKeyId({
  connector_id: "my_connector_id&gt;",
  api_key_id: "API key_id",
  api_key_secret_id: "secret_id",
});
console.log(response);</pre>
</div>
<a id="fb56c2ac77d4c308d7702b6b33698382"></a>
<div class="pre_wrapper lang-console default has-python has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-js">PUT /_connector/my_connector_id&gt;/_api_key_id
{
  "api_key_id": "API key_id",
  "api_key_secret_id": "secret_id"
}</pre>
</div>
<div class="console_widget has-python has-js" data-snippet="snippets/1212.console"></div>
</li>
</ol>
</div>
</div>
</details>
<p>Refer to the <a href="/guide/en/elasticsearch/reference/8.16/connector-apis.html" class="ulink" target="_top">Elasticsearch API documentation</a> for details of all available Connector APIs.</p>
<div class="position-relative"><h5><a id="es-connectors-slack-usage"></a>Usage</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>To use this connector in the UI, select the <span class="strong strong"><strong>Notion</strong></span> tile when creating a new connector under <span class="strong strong"><strong>Search &#8594; Connectors</strong></span>.</p>
<p>If you&#8217;re already familiar with how connectors work, you can also use the <a href="/guide/en/elasticsearch/reference/8.16/connector-apis.html" class="ulink" target="_top">Connector APIs</a>.</p>
<p>For additional operations, see <a class="xref" href="es-connectors-usage.html" title="Connectors UI in Kibana"><em>Connectors UI in Kibana</em></a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You need to create a Slack application to authenticate with Slack.</p>
</div>
</div>
<div class="position-relative"><h6><a id="es-connectors-slack-app"></a>Create a Slack application</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>When created you&#8217;ll receive a credential that the connector uses for authentication.
A new Bot user will also be created.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>The connector will only sync messages from the channels of which the Bot user is a member.</p>
</div>
</div>
<p>To create the app, follow these steps:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to <a href="https://api.slack.com/apps" class="ulink" target="_top">https://api.slack.com/apps</a> and click "Create New App".
</li>
<li class="listitem">
Choose "From Scratch".
</li>
<li class="listitem">
Name the app, and select the workspace you want to sync from.
Depending on the workspace&#8217;s settings, you may get a warning about requiring admin approval.
That will be handled later.
</li>
<li class="listitem">
Navigate to "OAuth &amp; Permissions" in the sidebar.
</li>
<li class="listitem">
<p>Scroll down to the "Scopes" section and add these scopes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">channels:history</code>
</li>
<li class="listitem">
<code class="literal">channels:read</code>
</li>
<li class="listitem">
<p><code class="literal">users:read</code>.</p>
<p>Optionally, you can also add <code class="literal">channels:join</code> if you want the App Bot to automatically be able to add itself to public channels.</p>
</li>
</ul>
</div>
</li>
<li class="listitem">
Scroll up to "OAuth Tokens for Your Workspace" and install the application. Your workspace may require you to get administrator approval. If so, request approval now and return to the next step once it has been approved.
</li>
<li class="listitem">
Copy and save the new "Bot User OAuth Token".
This credential will be used when configuring the connector.
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="es-connectors-slack-configuration"></a>Configuration</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>The following settings are required to set up this connector:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">token</code>(required)
</span>
</dt>
<dd>
The Bot User OAuth Token generated by creating and installing your Slack App.
</dd>
<dt>
<span class="term">
<code class="literal">fetch_last_n_days</code>(required)
</span>
</dt>
<dd>
The number of days of history to fetch from Slack.
This must be a positive number to fetch a subset of data, going back that many days.
If set to <code class="literal">0</code>, it will fetch all data since the beginning of the workspace.
The default is 180 days.
</dd>
<dt>
<span class="term">
<code class="literal">auto_join_channels</code>(required)
</span>
</dt>
<dd>
Whether or not the connector should have the App&#8217;s Bot User automatically invite itself into all public channels.
The connector will only sync messages from the channels of which the Bot user is a member.
By default, the bot will not invite itself to any channels, and must be manually invited to each channel that you wish to sync.
If this setting is enabled, your App must have the <code class="literal">channels.join</code> scope.
</dd>
<dt>
<span class="term">
<code class="literal">sync_users</code>(required)
</span>
</dt>
<dd>
Whether or not the connector should index a document for each Slack user.
By default, the connector will create documents only for Channels and Messages.
However, regardless of the value of this setting, the Slack App does need the <code class="literal">users.read</code> scope and will make requests to enumerate all of the workspace&#8217;s users.
This allows the messages to be enriched with human-readable usernames, and not rely on unreadable User UIDs.
Therefore, disabling this setting does not result in a speed improvement, but merely results in less overall storage in Elasticsearch.
</dd>
</dl>
</div>
<div class="position-relative"><h5><a id="es-connectors-slack-sync-rules"></a>Sync rules</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p><em>Basic</em> sync rules are identical for all connectors and are available by default.</p>
<p>Advanced sync rules are not available for this connector in the present version.</p>
<p>For more information read <a class="xref" href="es-sync-rules.html#es-sync-rules-types" title="Types of sync rule">Types of sync rule</a>.</p>
<div class="position-relative"><h5><a id="es-connectors-slack-content-extraction"></a>Content Extraction</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>This connector does not currently support processing Slack attachments or other binary files.</p>
<div class="position-relative"><h5><a id="es-connectors-slack-documents-syncs"></a>Documents and syncs</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>The connector syncs the following objects and entities:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Channels</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Messages</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Users</strong></span> (configurable)
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Only public channels and messages from public channels are synced.
</li>
<li class="listitem">
No permissions are synced. <span class="strong strong"><strong>All documents</strong></span> indexed to an Elastic deployment will be visible to <span class="strong strong"><strong>all users with access</strong></span> to that Elastic Deployment.
</li>
</ul>
</div>
</div>
</div>
<div class="position-relative"><h5><a id="es-connectors-slack-known-issues"></a>Known issues</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>There are currently no known issues for this connector.
Refer to <a class="xref" href="es-connectors-known-issues.html" title="Connector known issues"><em>Known issues</em></a> for a list of known issues for all connectors.</p>
<div class="position-relative"><h5><a id="es-connectors-slack-troubleshooting"></a>Troubleshooting</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>See <a class="xref" href="es-connectors-troubleshooting.html" title="Troubleshooting connectors">Troubleshooting</a>.</p>
<div class="position-relative"><h5><a id="es-connectors-slack-security"></a>Security</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>See <a class="xref" href="es-connectors-security.html" title="Connectors security">Security</a>.</p>
</div>
</details>
<div class="position-relative"><h4><a id="es-connectors-slack-connector-client-reference"></a><span class="strong strong"><strong>Self-managed connector reference</strong></span></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<details>
<summary class="title">View <span class="strong strong"><strong>self-managed connector</strong></span> reference</summary>
<div class="content">
<div class="position-relative"><h5><a id="es-connectors-slack-client-availability"></a>Availability and prerequisites</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>This connector is available as a self-managed <span class="strong strong"><strong>self-managed connector</strong></span> from the <span class="strong strong"><strong>Elastic connector framework</strong></span>.</p>
<p>This self-managed connector is compatible with Elastic versions <span class="strong strong"><strong>8.10.0+</strong></span>.</p>
<p>To use this connector, satisfy all <a class="xref" href="es-build-connector.html" title="Self-managed connectors">self-managed connector requirements</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This connector is in <span class="strong strong"><strong>technical preview</strong></span> and is subject to change.
The design and code is less mature than official GA features and is being provided as-is with no warranties.
Technical preview features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<div class="position-relative"><h5><a id="es-connectors-slack-client-create-connector-client"></a>Create a Slack connector</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="es-connectors-slack-client-create-use-the-ui"></a>Use the UI</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>To create a new Slack connector:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the Kibana UI, navigate to the <span class="strong strong"><strong>Search &#8594; Content &#8594; Connectors</strong></span> page from the main menu, or use the <a href="/guide/en/kibana/8.16/kibana-concepts-analysts.html#_finding_your_apps_and_objects" class="ulink" target="_top">global search field</a>.
</li>
<li class="listitem">
Follow the instructions to create a new  <span class="strong strong"><strong>Slack</strong></span> self-managed connector.
</li>
</ol>
</div>
<div class="position-relative"><h4><a id="es-connectors-slack-client-create-use-the-api"></a>Use the API</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>You can use the Elasticsearch <a href="/guide/en/elasticsearch/reference/8.16/connector-apis.html" class="ulink" target="_top">Create connector API</a> to create a new self-managed Slack self-managed connector.</p>
<p>For example:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.connector.put(
    connector_id="my-{service-name-stub}-connector",
    index_name="my-elasticsearch-index",
    name="Content synced from {service-name}",
    service_type="{service-name-stub}",
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.connector.put({
  connector_id: "my-{service-name-stub}-connector",
  index_name: "my-elasticsearch-index",
  name: "Content synced from {service-name}",
  service_type: "{service-name-stub}",
});
console.log(response);</pre>
</div>
<a id="9313f534e1aa266cde7d4af74665497f"></a>
<div class="pre_wrapper lang-console default has-python has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-js">PUT _connector/my-slack-connector
{
  "index_name": "my-elasticsearch-index",
  "name": "Content synced from Slack",
  "service_type": "slack"
}</pre>
</div>
<div class="console_widget has-python has-js" data-snippet="snippets/1213.console"></div>
<details>
<summary class="title">You&#8217;ll also need to <span class="strong strong"><strong>create an API key</strong></span> for the connector to use.</summary>
<div class="content">
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The user needs the cluster privileges <code class="literal">manage_api_key</code>, <code class="literal">manage_connector</code> and <code class="literal">write_connector_secrets</code> to generate API keys programmatically.</p>
</div>
</div>
<p>To create an API key for the connector:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Run the following command, replacing values where indicated.
Note the <code class="literal">encoded</code> return values from the response:</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.security.create_api_key(
    name="connector_name-connector-api-key",
    role_descriptors={
        "connector_name-connector-role": {
            "cluster": [
                "monitor",
                "manage_connector"
            ],
            "indices": [
                {
                    "names": [
                        "index_name",
                        ".search-acl-filter-index_name",
                        ".elastic-connectors*"
                    ],
                    "privileges": [
                        "all"
                    ],
                    "allow_restricted_indices": False
                }
            ]
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.security.createApiKey({
  name: "connector_name-connector-api-key",
  role_descriptors: {
    "connector_name-connector-role": {
      cluster: ["monitor", "manage_connector"],
      indices: [
        {
          names: [
            "index_name",
            ".search-acl-filter-index_name",
            ".elastic-connectors*",
          ],
          privileges: ["all"],
          allow_restricted_indices: false,
        },
      ],
    },
  },
});
console.log(response);</pre>
</div>
<a id="d1ea13e1e8372cbf1480a414723ff55a"></a>
<div class="pre_wrapper lang-console default has-python has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-js">POST /_security/api_key
{
  "name": "connector_name-connector-api-key",
  "role_descriptors": {
    "connector_name-connector-role": {
      "cluster": [
        "monitor",
        "manage_connector"
      ],
      "indices": [
        {
          "names": [
            "index_name",
            ".search-acl-filter-index_name",
            ".elastic-connectors*"
          ],
          "privileges": [
            "all"
          ],
          "allow_restricted_indices": false
        }
      ]
    }
  }
}</pre>
</div>
<div class="console_widget has-python has-js" data-snippet="snippets/1214.console"></div>
</li>
<li class="listitem">
Update your <code class="literal">config.yml</code> file with the API key <code class="literal">encoded</code> value.
</li>
</ol>
</div>
</div>
</details>
<p>Refer to the <a href="/guide/en/elasticsearch/reference/8.16/connector-apis.html" class="ulink" target="_top">Elasticsearch API documentation</a> for details of all available Connector APIs.</p>
<div class="position-relative"><h5><a id="es-connectors-slack-client-usage"></a>Usage</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>To use this connector as a <span class="strong strong"><strong>self-managed connector</strong></span>, use the <span class="strong strong"><strong>Connector</strong></span> workflow in the Kibana UI.</p>
<p>For additional operations, see <a class="xref" href="es-connectors-usage.html" title="Connectors UI in Kibana"><em>Connectors UI in Kibana</em></a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You need to create a Slack application to authenticate with Slack.</p>
</div>
</div>
<div class="position-relative"><h6><a id="es-connectors-slack-client-app"></a>Create a Slack application</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>When created you&#8217;ll receive a credential that the connector uses for authentication.
A new Bot user will also be created.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>The connector will only sync messages from the channels of which the Bot user is a member.</p>
</div>
</div>
<p>To create the app, follow these steps:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to <a href="https://api.slack.com/apps" class="ulink" target="_top">https://api.slack.com/apps</a> and click "Create New App".
</li>
<li class="listitem">
Choose "From Scratch".
</li>
<li class="listitem">
Name the app, and select the workspace you want to sync from.
Depending on the workspace&#8217;s settings, you may get a warning about requiring admin approval.
That will be handled later.
</li>
<li class="listitem">
Navigate to "OAuth &amp; Permissions" in the sidebar.
</li>
<li class="listitem">
<p>Scroll down to the "Scopes" section and add these scopes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">channels:history</code>
</li>
<li class="listitem">
<code class="literal">channels:read</code>
</li>
<li class="listitem">
<p><code class="literal">users:read</code>.</p>
<p>Optionally, you can also add <code class="literal">channels:join</code> if you want the App Bot to automatically be able to add itself to public channels.</p>
</li>
</ul>
</div>
</li>
<li class="listitem">
Scroll up to "OAuth Tokens for Your Workspace" and install the application. Your workspace may require you to get administrator approval. If so, request approval now and return to the next step once it has been approved.
</li>
<li class="listitem">
Copy and save the new "Bot User OAuth Token".
This credential will be used when configuring the connector.
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="es-connectors-slack-client-docker"></a>Deploy with Docker</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>You can deploy the Slack connector as a self-managed connector using Docker.
Follow these instructions.</p>
<details>
<summary class="title"><span class="strong strong"><strong>Step 1: Download sample configuration file</strong></span></summary>
<div class="content">
<p>Download the sample configuration file.
You can either download it manually or run the following command:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl https://raw.githubusercontent.com/elastic/connectors/main/config.yml.example --output ~/connectors-config/config.yml</pre>
</div>
<p>Remember to update the <code class="literal">--output</code> argument value if your directory name is different, or you want to use a different config file name.</p>
</div>
</details>
<details>
<summary class="title"><span class="strong strong"><strong>Step 2: Update the configuration file for your self-managed connector</strong></span></summary>
<div class="content">
<p>Update the configuration file with the following settings to match your environment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">elasticsearch.host</code>
</li>
<li class="listitem">
<code class="literal">elasticsearch.api_key</code>
</li>
<li class="listitem">
<code class="literal">connectors</code>
</li>
</ul>
</div>
<p>If you&#8217;re running the connector service against a Dockerized version of Elasticsearch and Kibana, your config file will look like this:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml"># When connecting to your cloud deployment you should edit the host value
elasticsearch.host: http://host.docker.internal:9200
elasticsearch.api_key: &lt;ELASTICSEARCH_API_KEY&gt;

connectors:
  -
    connector_id: &lt;CONNECTOR_ID_FROM_KIBANA&gt;
    service_type: slack
    api_key: &lt;CONNECTOR_API_KEY_FROM_KIBANA&gt; # Optional. If not provided, the connector will use the elasticsearch.api_key instead</pre>
</div>
<p>Using the <code class="literal">elasticsearch.api_key</code> is the recommended authentication method. However, you can also use <code class="literal">elasticsearch.username</code> and <code class="literal">elasticsearch.password</code> to authenticate with your Elasticsearch instance.</p>
<p>Note: You can change other default configurations by simply uncommenting specific settings in the configuration file and modifying their values.</p>
</div>
</details>
<details>
<summary class="title"><span class="strong strong"><strong>Step 3: Run the Docker image</strong></span></summary>
<div class="content">
<p>Run the Docker image with the Connector Service using the following command:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">docker run \
-v ~/connectors-config:/config \
--network "elastic" \
--tty \
--rm \
docker.elastic.co/integrations/elastic-connectors:8.16.1.0 \
/app/bin/elastic-ingest \
-c /config/config.yml</pre>
</div>
</div>
</details>
<p>Refer to <a href="https://github.com/elastic/connectors/tree/8.16/docs/DOCKER.md" class="ulink" target="_blank" rel="noopener"><code class="literal">DOCKER.md</code></a> in the <code class="literal">elastic/connectors</code> repo for more details.</p>
<p>Find all available Docker images in the <a href="https://www.docker.elastic.co/r/integrations/elastic-connectors" class="ulink" target="_top">official registry</a>.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>We also have a quickstart self-managed option using Docker Compose, so you can spin up all required services at once: Elasticsearch, Kibana, and the connectors service.
Refer to this <a href="https://github.com/elastic/connectors/tree/main/scripts/stack#readme" class="ulink" target="_top">README</a> in the <code class="literal">elastic/connectors</code> repo for more information.</p>
</div>
</div>
<div class="position-relative"><h5><a id="es-connectors-slack-client-configuration"></a>Configuration</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>The following settings are required to set up this connector:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">token</code>(required)
</span>
</dt>
<dd>
The Bot User OAuth Token generated by creating and installing your Slack App.
</dd>
<dt>
<span class="term">
<code class="literal">fetch_last_n_days</code>(required)
</span>
</dt>
<dd>
The number of days of history to fetch from Slack.
This must be a positive number to fetch a subset of data, going back that many days.
If set to <code class="literal">0</code>, it will fetch all data since the beginning of the workspace.
The default is 180 days.
</dd>
<dt>
<span class="term">
<code class="literal">auto_join_channels</code>(required)
</span>
</dt>
<dd>
Whether or not the connector should have the App&#8217;s Bot User automatically invite itself into all public channels.
The connector will only sync messages from the channels of which the Bot user is a member.
By default, the bot will not invite itself to any channels, and must be manually invited to each channel that you wish to sync.
If this setting is enabled, your App must have the <code class="literal">channels.join</code> scope.
</dd>
<dt>
<span class="term">
<code class="literal">sync_users</code>(required)
</span>
</dt>
<dd>
Whether or not the connector should index a document for each Slack user.
By default, the connector will create documents only for Channels and Messages.
However, regardless of the value of this setting, the Slack App does need the <code class="literal">users.read</code> scope and will make requests to enumerate all of the workspace&#8217;s users.
This allows the messages to be enriched with human-readable usernames, and not rely on unreadable User UIDs.
Therefore, disabling this setting does not result in a speed improvement, but merely results in less overall storage in Elasticsearch.
</dd>
</dl>
</div>
<div class="position-relative"><h5><a id="es-connectors-slack-client-sync-rules"></a>Sync rules</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p><em>Basic</em> sync rules are identical for all connectors and are available by default.</p>
<p>Advanced sync rules are not available for this connector in the present version.</p>
<p>For more information read <a class="xref" href="es-sync-rules.html#es-sync-rules-types" title="Types of sync rule">Types of sync rule</a>.</p>
<div class="position-relative"><h5><a id="es-connectors-slack-client-content-extraction"></a>Content Extraction</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>This connector does not currently support processing Slack attachments or other binary files.</p>
<div class="position-relative"><h5><a id="es-connectors-slack-client-documents-syncs"></a>Documents and syncs</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>The connector syncs the following objects and entities:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Channels</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Messages</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Users</strong></span> (configurably)
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Only public channels and messages from public channels are synced.
</li>
<li class="listitem">
No permissions are synced. <span class="strong strong"><strong>All documents</strong></span> indexed to an Elastic deployment will be visible to <span class="strong strong"><strong>all users with access</strong></span> to that Elastic Deployment.
</li>
</ul>
</div>
</div>
</div>
<div class="position-relative"><h5><a id="es-connectors-slack-client-connector-client-operations"></a>Self-managed connector operations</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<div class="position-relative"><h5><a id="es-connectors-slack-client-testing"></a>End-to-end testing</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>The connector framework enables operators to run functional tests against a real data source.
Refer to <a class="xref" href="es-build-connector.html#es-build-connector-testing" title="Connector testing">Connector testing</a> for more details.</p>
<p>To perform E2E testing for the GitHub connector, run the following command:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">$ make ftest NAME=slack</pre>
</div>
<p>For faster tests, add the <code class="literal">DATA_SIZE=small</code> flag:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">make ftest NAME=slack DATA_SIZE=small</pre>
</div>
<div class="position-relative"><h5><a id="es-connectors-slack-client-known-issues"></a>Known issues</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>There are currently no known issues for this connector.
Refer to <a class="xref" href="es-connectors-known-issues.html" title="Connector known issues"><em>Known issues</em></a> for a list of known issues for all connectors.</p>
<div class="position-relative"><h5><a id="es-connectors-slack-client-troubleshooting"></a>Troubleshooting</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>See <a class="xref" href="es-connectors-troubleshooting.html" title="Troubleshooting connectors">Troubleshooting</a>.</p>
<div class="position-relative"><h5><a id="es-connectors-slack-client-security"></a>Security</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.16/docs/reference/connector/docs/connectors-slack.asciidoc">edit</a></div>
<p>See <a class="xref" href="es-connectors-security.html" title="Connectors security">Security</a>.</p>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="es-connectors-sharepoint.html">« Elastic SharePoint Server connector reference</a>
</span>
<span class="next">
<a href="es-connectors-teams.html">Elastic Microsoft Teams connector reference »</a>
</span>
</div>
</body>
</html>
