<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Semantic search | Elasticsearch Guide [8.16] | Elastic</title>
<meta class="elastic" name="content" content="Semantic search | Elasticsearch Guide [8.16]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.16]"/>
<link rel="up" href="search-with-elasticsearch.html" title="Search your data"/>
<link rel="prev" href="knn-search.html" title="k-nearest neighbor (kNN) search"/>
<link rel="next" href="semantic-search-semantic-text.html" title="Tutorial: semantic search with semantic_text"/>
<meta class="elastic" name="product_version" content="8.16"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.16"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.16"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="knn-search.html">« k-nearest neighbor (kNN) search</a>
</span>
<span class="next">
<a href="semantic-search-semantic-text.html">Tutorial: semantic search with <code class="literal">semantic_text</code> »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.16]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="search-with-elasticsearch.html">Search your data</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Semantic search</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/search/search-your-data/semantic-search.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="semantic-search"></a>Semantic search</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/search/search-your-data/semantic-search.asciidoc">edit</a></div>
</div></div></div>
<p>Semantic search is a search method that helps you find data based on the intent and contextual meaning of a search query, instead of a match on query terms (lexical search).</p>
<p>Elasticsearch provides various semantic search capabilities using <a href="/guide/en/machine-learning/8.16/ml-nlp.html" class="ulink" target="_top">natural language processing (NLP)</a> and vector search.
Using an NLP model enables you to extract text embeddings out of text.
Embeddings are vectors that provide a numeric representation of a text.
Pieces of content with similar meaning have similar representations.</p>
<p>You have several options for using NLP models in the Elastic Stack:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
use the <code class="literal">semantic_text</code> workflow (recommended)
</li>
<li class="listitem">
use the inference API workflow
</li>
<li class="listitem">
deploy models directly in Elasticsearch
</li>
</ul>
</div>
<p>Refer to <a class="xref" href="semantic-search.html#using-nlp-models" title="Choose a semantic search workflow">this section</a> to choose your workflow.</p>
<p>You can also store your own embeddings in Elasticsearch as vectors.
Refer to <a class="xref" href="semantic-search.html#using-query" title="Using the right query">this section</a> for guidance on which query type to use for semantic search.</p>
<p>At query time, Elasticsearch can use the same NLP model to convert a query into embeddings, enabling you to find documents with similar text embeddings.</p>
<div class="position-relative"><h3><a id="using-nlp-models"></a>Choose a semantic search workflow</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/search/search-your-data/semantic-search.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="_semantic_text_workflow"></a><code class="literal">semantic_text</code> workflow</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/search/search-your-data/semantic-search.asciidoc">edit</a></div>
<p>The simplest way to use NLP models in the Elastic Stack is through the <a class="xref" href="semantic-search-semantic-text.html" title="Tutorial: semantic search with semantic_text"><code class="literal">semantic_text</code> workflow</a>.
We recommend using this approach because it abstracts away a lot of manual work.
All you need to do is create an inference endpoint and an index mapping to start ingesting, embedding, and querying data.
There is no need to define model-related settings and parameters, or to create inference ingest pipelines.
Refer to the <a class="xref" href="put-inference-api.html" title="Create inference API">Create an inference endpoint API</a> documentation for a list of supported services.</p>
<p>The <a class="xref" href="semantic-search-semantic-text.html" title="Tutorial: semantic search with semantic_text">Semantic search with <code class="literal">semantic_text</code></a> tutorial shows you the process end-to-end.</p>
<div class="position-relative"><h4><a id="_inference_api_workflow"></a>inference API workflow</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/search/search-your-data/semantic-search.asciidoc">edit</a></div>
<p>The <a class="xref" href="semantic-search-inference.html" title="Tutorial: semantic search with the inference API">inference API workflow</a> is more complex but offers greater control over the inference endpoint configuration.
You need to create an inference endpoint, provide various model-related settings and parameters, define an index mapping, and set up an inference ingest pipeline with the appropriate settings.</p>
<p>The <a class="xref" href="semantic-search-inference.html" title="Tutorial: semantic search with the inference API">Semantic search with the inference API</a> tutorial shows you the process end-to-end.</p>
<div class="position-relative"><h4><a id="_model_deployment_workflow"></a>Model deployment workflow</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/search/search-your-data/semantic-search.asciidoc">edit</a></div>
<p>You can also deploy NLP in Elasticsearch manually, without using an inference endpoint.
This is the most complex and labor intensive workflow for performing semantic search in the Elastic Stack.
You need to select an NLP model from the <a href="/guide/en/machine-learning/8.16/ml-nlp-model-ref.html#ml-nlp-model-ref-text-embedding" class="ulink" target="_top">list of supported dense and sparse vector models</a>, deploy it using the Eland client, create an index mapping, and set up a suitable ingest pipeline to start ingesting and querying data.</p>
<p>The <a class="xref" href="semantic-search-deployed-nlp-model.html" title="Tutorial: semantic search with a deployed model">Semantic search with a model deployed in Elasticsearch</a> tutorial shows you the process end-to-end.</p>
<div class="position-relative"><h3><a id="using-query"></a>Using the right query</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/search/search-your-data/semantic-search.asciidoc">edit</a></div>
<p>Crafting the right query is crucial for semantic search.
Which query you use and which field you target in your queries depends on your chosen workflow.
If you&#8217;re using the <code class="literal">semantic_text</code> workflow it&#8217;s quite simple.
If not, it depends on which type of embeddings you&#8217;re working with.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Field type to query</th>
<th align="left" valign="top">Query to use</th>
<th align="left" valign="top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="semantic-text.html" title="Semantic text field type"><code class="literal">semantic_text</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="query-dsl-semantic-query.html" title="Semantic query"><code class="literal">semantic</code></a></p></td>
<td align="left" valign="top"><p>The <code class="literal">semantic_text</code> field handles generating embeddings for you at index time and query time.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="sparse-vector.html" title="Sparse vector field type"><code class="literal">sparse_vector</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="query-dsl-sparse-vector-query.html" title="Sparse vector query"><code class="literal">sparse_vector</code></a></p></td>
<td align="left" valign="top"><p>The <code class="literal">sparse_vector</code> query can generate query embeddings for you, but you can also provide your own. You must provide embeddings at index time.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="dense-vector.html" title="Dense vector field type"><code class="literal">dense_vector</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="query-dsl-knn-query.html" title="Knn query"><code class="literal">knn</code></a></p></td>
<td align="left" valign="top"><p>The <code class="literal">knn</code> query can generate query embeddings for you, but you can also provide your own. You must provide embeddings at index time.</p></td>
</tr>
</tbody>
</table>
</div>
<p>If you want Elasticsearch to generate embeddings at both index and query time, use the <code class="literal">semantic_text</code> field and the <code class="literal">semantic</code> query.
If you want to bring your own embeddings, use the <code class="literal">sparse_vector</code> or <code class="literal">dense_vector</code> field type and the associated query depending on the NLP model you used to generate the embeddings.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>For the easiest way to perform semantic search in the Elastic Stack, refer to the <a class="xref" href="semantic-search-semantic-text.html" title="Tutorial: semantic search with semantic_text"><code class="literal">semantic_text</code></a> end-to-end tutorial.</p>
</div>
</div>
<div class="position-relative"><h3><a id="semantic-search-read-more"></a>Read more</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/search/search-your-data/semantic-search.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Tutorials:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="semantic-search-semantic-text.html" title="Tutorial: semantic search with semantic_text">Semantic search with <code class="literal">semantic_text</code></a>
</li>
<li class="listitem">
<a class="xref" href="semantic-search-inference.html" title="Tutorial: semantic search with the inference API">Semantic search with the inference API</a>
</li>
<li class="listitem">
<a class="xref" href="semantic-search-elser.html" title="Tutorial: semantic search with ELSER">Semantic search with ELSER</a> using the model deployment workflow
</li>
<li class="listitem">
<a class="xref" href="semantic-search-deployed-nlp-model.html" title="Tutorial: semantic search with a deployed model">Semantic search with a model deployed in Elasticsearch</a>
</li>
<li class="listitem">
<a href="/guide/en/machine-learning/8.16/ml-nlp-text-emb-vector-search-example.html" class="ulink" target="_top">Semantic search with the msmarco-MiniLM-L-12-v3 sentence-transformer model</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Interactive examples:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <a href="https://github.com/elastic/elasticsearch-labs" class="ulink" target="_top"><code class="literal">elasticsearch-labs</code></a> repo contains a number of interactive semantic search examples in the form of executable Python notebooks, using the Elasticsearch Python client
</li>
<li class="listitem">
<a href="https://github.com/elastic/elasticsearch-labs/blob/main/notebooks/search/03-ELSER.ipynb" class="ulink" target="_top">Semantic search with ELSER using the model deployment workflow</a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/elasticsearch-labs/blob/main/notebooks/search/09-semantic-text.ipynb" class="ulink" target="_top">Semantic search with <code class="literal">semantic_text</code></a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Blogs:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/search-labs/blog/semantic-search-simplified-semantic-text" class="ulink" target="_top">Elasticsearch new semantic_text mapping: Simplifying semantic search</a>
</li>
<li class="listitem">
<a href="/blog/may-2023-launch-sparse-encoder-ai-model" class="ulink" target="_top">Introducing Elastic Learned Sparse Encoder: Elastic&#8217;s AI model for semantic search</a>
</li>
<li class="listitem">
<a href="/blog/lexical-ai-powered-search-elastic-vector-database" class="ulink" target="_top">How to get the best of lexical and AI-powered search with Elastic&#8217;s vector database</a>
</li>
<li class="listitem">
<p>Information retrieval blog series:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/blog/improving-information-retrieval-elastic-stack-search-relevance" class="ulink" target="_top">Part 1: Steps to improve search relevance</a>
</li>
<li class="listitem">
<a href="/blog/improving-information-retrieval-elastic-stack-benchmarking-passage-retrieval" class="ulink" target="_top">Part 2: Benchmarking passage retrieval</a>
</li>
<li class="listitem">
<a href="/blog/may-2023-launch-information-retrieval-elasticsearch-ai-model" class="ulink" target="_top">Part 3: Introducing Elastic Learned Sparse Encoder, our new retrieval model</a>
</li>
<li class="listitem">
<a href="/blog/improving-information-retrieval-elastic-stack-hybrid" class="ulink" target="_top">Part 4: Hybrid retrieval</a>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>






</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="knn-search.html">« k-nearest neighbor (kNN) search</a>
</span>
<span class="next">
<a href="semantic-search-semantic-text.html">Tutorial: semantic search with <code class="literal">semantic_text</code> »</a>
</span>
</div>
</body>
</html>
