<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Using ES|QL in Kibana | Elasticsearch Guide [8.17] | Elastic</title>
<meta class="elastic" name="content" content="Using ES|QL in Kibana | Elasticsearch Guide [8.17]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.17]"/>
<link rel="up" href="esql-using.html" title="Using ES|QL"/>
<link rel="prev" href="esql-rest.html" title="ES|QL REST API"/>
<link rel="next" href="esql-elastic-security.html" title="Using ES|QL in Elastic Security"/>
<meta class="elastic" name="product_version" content="8.17"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.17"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.17"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="esql-rest.html">« ES|QL REST API</a>
</span>
<span class="next">
<a href="esql-elastic-security.html">Using ES|QL in Elastic Security »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="esql.html">ES|QL</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="esql-using.html">Using ES|QL</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Using ES|QL in Kibana</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/explore-analyze/query-filter/languages/esql-kibana">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="esql-kibana"></a>Using ES|QL in Kibana</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
</div></div></div>

<p>You can use ES|QL in Kibana to query and aggregate your data, create
visualizations, and set up alerts.</p>
<p>This guide shows you how to use ES|QL in Kibana. To follow along with the
queries, load the "Sample web logs" sample data set by selecting <span class="strong strong"><strong>Sample Data</strong></span>
from the <span class="strong strong"><strong>Integrations</strong></span> page in Kibana, selecting <span class="strong strong"><strong>Other sample data sets</strong></span>,
and clicking <span class="strong strong"><strong>Add data</strong></span> on the <span class="strong strong"><strong>Sample web logs</strong></span> card.</p>
<div class="position-relative"><h3><a id="esql-kibana-enable"></a>Enable or disable ES|QL</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>ES|QL is enabled by default in Kibana. It can be
disabled using the <code class="literal">enableESQL</code> setting from the
<a href="/guide/en/kibana/8.17/advanced-options.html" class="ulink" target="_top">Advanced Settings</a>.</p>
<p>This will hide the ES|QL user interface from various applications.
However, users will be able to access existing ES|QL artifacts like saved searches and visualizations.</p>
<div class="position-relative"><h3><a id="esql-kibana-get-started"></a>Get started with ES|QL</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>To get started with ES|QL in Discover, open the main menu and select
<span class="strong strong"><strong>Discover</strong></span>. Next, select <span class="strong strong"><strong>Try ES|QL</strong></span> from the application menu bar.</p>
<div class="position-relative"><h3><a id="esql-kibana-query-bar"></a>The query bar</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>After switching to ES|QL mode, the query bar shows a sample query. For example:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">from kibana_sample_data_logs | limit 10</pre>
</div>
<p>Every query starts with a <a class="xref" href="esql-commands.html" title="ES|QL commands">source command</a>. In this query, the
source command is <a class="xref" href="esql-commands.html#esql-from" title="FROM"><code class="literal">FROM</code></a>. <code class="literal">FROM</code> retrieves data from data streams, indices, or
aliases. In this example, the data is retrieved from <code class="literal">kibana_sample_data_logs</code>.</p>
<p>A source command can be followed by one or more <a class="xref" href="esql-commands.html" title="ES|QL commands">processing
commands</a>. In this query, the processing command is <a class="xref" href="esql-commands.html#esql-limit" title="LIMIT"><code class="literal">LIMIT</code></a>. <code class="literal">LIMIT</code>
limits the number of rows that are retrieved.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Click the <span class="strong strong"><strong>ES|QL help</strong></span> button to open the
in-product reference documentation for all commands and functions or to get
recommended queries that will help you get started.</p>
</div>
</div>
<p>To make it easier to write queries, auto-complete offers suggestions with
possible commands and functions:</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-kibana-auto-complete.png" alt="esql kibana auto complete">
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>ES|QL keywords are case-insensitive. The following query is identical to the
previous one:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM kibana_sample_data_logs | LIMIT 10</pre>
</div>
</div>
</div>
<div class="position-relative"><h4><a id="_make_your_query_readable"></a>Make your query readable</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>For readability, you can put each processing command on a new line. The
following query is identical to the previous one:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM kibana_sample_data_logs
| LIMIT 10</pre>
</div>
<p>You can do that using the <span class="strong strong"><strong>Add line breaks on pipes</strong></span> button from the query editor&#8217;s footer.</p>
<div class="imageblock">
<div class="content">
<img src="https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/bltd5554518309e10f6/672d153cfeb8f9d479ebcc6e/esql-line-breakdown.gif" alt="Automatic line breaks for ES|QL queries">
</div>
</div>
<p>You can adjust the editor&#8217;s height by dragging its bottom border to your liking.</p>
<div class="position-relative"><h4><a id="_warnings"></a>Warnings</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>A query may result in warnings, for example when querying an unsupported field
type. When that happens, a warning symbol is shown in the query bar. To see the
detailed warning, expand the query bar, and click <span class="strong strong"><strong>warnings</strong></span>.</p>
<div class="position-relative"><h4><a id="esql-kibana-query-history"></a>Query history</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>You can reuse your recent ES|QL queries in the query bar.
In the query bar, click <span class="strong strong"><strong>Show recent queries</strong></span>.</p>
<p>You can then scroll through your recent queries:</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-discover-query-history.png" alt="esql discover query history">
</div>
</div>
<div class="position-relative"><h4><a id="esql-kibana-starred-queries"></a>Starred queries</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>From the query history, you can mark some queries as favorite to find and access them faster later.</p>
<p>In the query bar, click <span class="strong strong"><strong>Show recent queries</strong></span>.</p>
<p>From the <span class="strong strong"><strong>Recent</strong></span> tab, you can star any queries you want.</p>
<p>In the <span class="strong strong"><strong>Starred</strong></span> tab, find all the queries you have previously starred.</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-discover-query-starred.png" alt="esql discover query starred">
</div>
</div>
<div class="position-relative"><h3><a id="esql-kibana-results-table"></a>The results table</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>For the example query, the results table shows 10 rows. Omitting the <code class="literal">LIMIT</code>
command, the results table defaults to up to 1000 rows. Using <code class="literal">LIMIT</code>, you can
increase the limit to up to 10,000 rows.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>the 10,000 row limit only applies to the number of rows that are retrieved
by the query and displayed in Discover. Any query or aggregation runs on the
full data set.</p>
</div>
</div>
<p>Each row shows two columns for the example query: a column with the <code class="literal">@timestamp</code>
field and a column with the full document. To display specific fields from the
documents, use the <a class="xref" href="esql-commands.html#esql-keep" title="KEEP"><code class="literal">KEEP</code></a> command:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM kibana_sample_data_logs
| KEEP @timestamp, bytes, geo.dest</pre>
</div>
<p>To display all fields as separate columns, use <code class="literal">KEEP *</code>:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM kibana_sample_data_logs
| KEEP *</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The maximum number of columns in Discover is 50. If a query returns more
than 50 columns, Discover only shows the first 50.</p>
</div>
</div>
<div class="position-relative"><h4><a id="_sorting"></a>Sorting</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>To sort on one of the columns, click the column name you want to sort on and
select the sort order. Note that this performs client-side sorting. It only
sorts the rows that were retrieved by the query, which may not be the full
dataset because of the (implicit) limit. To sort the full data set, use the
<a class="xref" href="esql-commands.html#esql-sort" title="SORT"><code class="literal">SORT</code></a> command:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM kibana_sample_data_logs
| KEEP @timestamp, bytes, geo.dest
| SORT bytes DESC</pre>
</div>
<div class="position-relative"><h3><a id="esql-kibana-time-filter"></a>Time filtering</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>To display data within a specified time range, you can use the standard time filter,
custom time parameters, or a WHERE command.</p>
<div class="position-relative"><h4><a id="_standard_time_filter"></a>Standard time filter</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>The standard <a href="/guide/en/kibana/8.17/set-time-filter.html" class="ulink" target="_top">time filter</a> is enabled
when the indices you&#8217;re querying have a field named <code class="literal">@timestamp</code>.</p>
<div class="position-relative"><h4><a id="_custom_time_parameters"></a>Custom time parameters</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>If your indices do not have a field named <code class="literal">@timestamp</code>, you can use
the <code class="literal">?_tstart</code> and <code class="literal">?_tend</code> parameters to specify a time range. These parameters
work with any timestamp field and automatically sync with the <a href="/guide/en/kibana/8.17/set-time-filter.html" class="ulink" target="_top">time filter</a>.</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM my_index
| WHERE custom_timestamp &gt;= ?_tstart AND custom_timestamp &lt; ?_tend</pre>
</div>
<p>You can also use the <code class="literal">?_tstart</code> and <code class="literal">?_tend</code> parameters with the <a class="xref" href="esql-functions-operators.html#esql-bucket" title="BUCKET"><code class="literal">BUCKET</code></a> function
to create auto-incrementing time buckets in ES|QL <a class="xref" href="esql-kibana.html#esql-kibana-visualizations" title="Analyze and visualize data">visualizations</a>.
For example:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM kibana_sample_data_logs
| STATS average_bytes = AVG(bytes) BY BUCKET(@timestamp, 50, ?_tstart, ?_tend)</pre>
</div>
<p>This example uses <code class="literal">50</code> buckets, which is the maximum number of buckets.</p>
<div class="position-relative"><h4><a id="_where_command"></a>WHERE command</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>You can also limit the time range using the <a class="xref" href="esql-commands.html#esql-where" title="WHERE"><code class="literal">WHERE</code></a> command and the <a class="xref" href="esql-functions-operators.html#esql-now" title="NOW"><code class="literal">NOW</code></a> function.
For example, if the timestamp field is called <code class="literal">timestamp</code>, to query the last 15
minutes of data:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM kibana_sample_data_logs
| WHERE timestamp &gt; NOW() - 15minutes</pre>
</div>
<div class="position-relative"><h3><a id="esql-kibana-visualizations"></a>Analyze and visualize data</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>Between the query bar and the results table, Discover shows a date histogram
visualization. By default, if the indices you&#8217;re querying do not contain a <code class="literal">@timestamp</code>
field, the histogram is not shown. But you can use a custom time field with the <code class="literal">?_tstart</code>
and <code class="literal">?_tend</code> parameters to enable it.</p>
<p>The visualization adapts to the query. A query&#8217;s nature determines the type of
visualization. For example, this query aggregates the total number of bytes per
destination country:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM kibana_sample_data_logs
| STATS total_bytes = SUM(bytes) BY geo.dest
| SORT total_bytes DESC
| LIMIT 3</pre>
</div>
<p>The resulting visualization is a bar chart showing the top 3 countries:</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-kibana-bar-chart.png" alt="esql kibana bar chart">
</div>
</div>
<p>To make changes to the visualization, like changing the visualization type, axes and colors, click the
pencil button (<span class="image"><img src="images/esql/esql-icon-edit-visualization.svg" alt="esql icon edit visualization"></span>). This opens
an in-line editor:</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-kibana-in-line-editor.png" alt="esql kibana in line editor" width="66%">
</div>
</div>
<p>You can save the visualization to a new or existing dashboard by clicking the
save button (<span class="image"><img src="images/esql/esql-icon-save-visualization.svg" alt="esql icon save visualization"></span>). Once saved
to a dashboard, you&#8217;ll be taken to the Dashboards page. You can continue to
make changes to the visualization. Click the
options button in the top-right (<span class="image"><img src="images/esql/esql-icon-options.svg" alt="esql icon options"></span>) and
select <span class="strong strong"><strong>Edit ES|QL visualization</strong></span> to open the in-line editor:</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-kibana-edit-on-dashboard.png" alt="esql kibana edit on dashboard" width="66%">
</div>
</div>
<div class="position-relative"><h4><a id="esql-kibana-dashboard-panel"></a>Add a panel to a dashboard</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>You can use ES|QL queries to create panels on your dashboards.
To add a panel to a dashboard, under <span class="strong strong"><strong>Dashboards</strong></span>, click the <span class="strong strong"><strong>Add panel</strong></span> button and select ES|QL.</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-dashboard-panel.png" alt="esql dashboard panel" width="50%">
</div>
</div>
<p>Check the ES|QL query by clicking the Panel filters button (<span class="image"><img src="images/esql/dashboard_panel_filter_button.png" alt="Panel filters button on panel header"></span>):</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-dashboard-panel-query.png" alt="esql dashboard panel query" width="50%">
</div>
</div>
<p>You can also edit the ES|QL visualization from here.
Click the options button in the top-right (<span class="image"><img src="images/esql/esql-icon-options.svg" alt="esql icon options"></span>) and
select <span class="strong strong"><strong>Edit ESQL visualization</strong></span> to open the in-line editor.</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-dashboard-panel-edit-visualization.png" alt="esql dashboard panel edit visualization" width="50%">
</div>
</div>
<div class="position-relative"><h3><a id="esql-kibana-enrich"></a>Create an enrich policy</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>The ES|QL <a class="xref" href="esql-commands.html#esql-enrich" title="ENRICH"><code class="literal">ENRICH</code></a> command enables you to <a class="xref" href="esql-enrich-data.html" title="Data enrichment">enrich</a>
your query dataset with fields from another dataset. Before you can use
<code class="literal">ENRICH</code>, you need to <a class="xref" href="esql-enrich-data.html#esql-set-up-enrich-policy" title="Set up an enrich policy">create and execute an enrich
policy</a>. If a policy exists, it will be suggested by auto-complete. If not,
click <span class="strong strong"><strong>Click to create</strong></span> to create one.</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-kibana-enrich-autocomplete.png" alt="esql kibana enrich autocomplete">
</div>
</div>
<p>Next, you can enter a policy name, the policy type, source indices, and
optionally a query:</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-kibana-enrich-step-1.png" alt="esql kibana enrich step 1" width="50%">
</div>
</div>
<p>Click <span class="strong strong"><strong>Next</strong></span> to select the match field and enrich fields:</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-kibana-enrich-step-2.png" alt="esql kibana enrich step 2" width="50%">
</div>
</div>
<p>Finally, click <span class="strong strong"><strong>Create and execute</strong></span>.</p>
<p>Now, you can use the enrich policy in an ES|QL query:</p>
<div class="pre_wrapper lang-esql">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-esql">FROM kibana_sample_data_logs
| STATS total_bytes = SUM(bytes) BY geo.dest
| SORT total_bytes DESC
| LIMIT 3
| ENRICH countries</pre>
</div>
<div class="position-relative"><h3><a id="esql-kibana-alerting-rule"></a>Create an alerting rule</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<p>You can use ES|QL queries to create alerts. From Discover, click <span class="strong strong"><strong>Alerts</strong></span> and
select <span class="strong strong"><strong>Create search threshold rule</strong></span>. This opens a panel that enables you to
create a rule using an ES|QL query. Next, you can test the query, add a
connector, and save the rule.</p>
<div class="imageblock text-center">
<div class="content">
<img src="images/esql/esql-kibana-create-rule.png" alt="esql kibana create rule" width="50%">
</div>
</div>
<div class="position-relative"><h3><a id="esql-kibana-limitations"></a>Limitations</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.17/docs/reference/esql/esql-kibana.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The user interface to filter data is not enabled when Discover is in ES|QL
mode. To filter data, write a query that uses the <a class="xref" href="esql-commands.html#esql-where" title="WHERE"><code class="literal">WHERE</code></a> command
instead.
</li>
<li class="listitem">
Discover shows no more than 10,000 rows. This limit only applies to the number
of rows that are retrieved by the query and displayed in Discover. Queries and
aggregations run on the full data set.
</li>
<li class="listitem">
Discover shows no more than 50 columns. If a query returns
more than 50 columns, Discover only shows the first 50.
</li>
<li class="listitem">
CSV export from Discover shows no more than 10,000 rows. This limit only applies to the number
of rows that are retrieved by the query and displayed in Discover. Queries and
aggregations run on the full data set.
</li>
<li class="listitem">
Querying many indices at once without any filters can cause an error in
kibana which looks like <code class="literal">[esql] &gt; Unexpected error from Elasticsearch: The
content length (536885793) is bigger than the maximum allowed string
(536870888)</code>. The response from ES|QL is too long. Use <a class="xref" href="esql-commands.html#esql-drop" title="DROP"><code class="literal">DROP</code></a> or
<a class="xref" href="esql-commands.html#esql-keep" title="KEEP"><code class="literal">KEEP</code></a> to limit the number of fields returned.
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="esql-rest.html">« ES|QL REST API</a>
</span>
<span class="next">
<a href="esql-elastic-security.html">Using ES|QL in Elastic Security »</a>
</span>
</div>
</body>
</html>
