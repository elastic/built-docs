<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Migrating to 8.18 | Elasticsearch Guide [8.18] | Elastic</title>
<meta class="elastic" name="content" content="Migrating to 8.18 | Elasticsearch Guide [8.18]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.18]"/>
<link rel="up" href="breaking-changes.html" title="Migration guide"/>
<link rel="prev" href="breaking-changes.html" title="Migration guide"/>
<link rel="next" href="migrating-8.17.html" title="Migrating to 8.17"/>
<meta class="elastic" name="product_version" content="8.18"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.18"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.18"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="breaking-changes.html">« Migration guide</a>
</span>
<span class="next">
<a href="migrating-8.17.html">Migrating to 8.17 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.18]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="breaking-changes.html">Migration guide</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Migrating to 8.18</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/migration/migrate_8_18.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="migrating-8.18"></a>Migrating to 8.18</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/migration/migrate_8_18.asciidoc">edit</a></div>
</div></div></div>

<p>This section discusses the changes that you need to be aware of when migrating
your application to Elasticsearch 8.18.</p>
<p>See also <a class="xref" href="release-highlights.html" title="What&#8217;s new in 8.18"><em>What&#8217;s new in 8.18</em></a> and <a class="xref" href="es-release-notes.html" title="Release notes">Release notes</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Coming in 8.18.0.</p>
</div>
</div>
<div class="position-relative"><h3><a id="breaking-changes-8.18"></a>Breaking changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/migration/migrate_8_18.asciidoc">edit</a></div>
<p>The following changes in Elasticsearch 8.18 might affect your applications
and prevent them from operating normally.
Before upgrading to 8.18, review these changes and take the described steps
to mitigate the impact.</p>
<div class="position-relative"><h4><a id="breaking_818_analysis_changes"></a>Analysis changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/migration/migrate_8_18.asciidoc">edit</a></div>
<details id="change_semantic_text_to_act_like_normal_text_field">
<summary class="title">Change Semantic Text To Act Like A Normal Text Field</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The previous semantic_text format used a complex subfield structure in _source to store the embeddings. This complicated interactions/integrations with semantic_text fields and _source in general. This new semantic_text format treats it as a normal text field, where the field&#8217;s value in _source is the value assigned by the user.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users who parsed the subfield structure of the previous semantic_text format in _source will need to update their parsing logic. The new format does not directly expose the chunks and embeddings generated from the input text. The new format will be applied to all new indices, any existing indices will continue to use the previous format.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_818_cluster_and_node_setting_changes"></a>Cluster and node setting changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/migration/migrate_8_18.asciidoc">edit</a></div>
<details id="drop_tls_rsa_cipher_support_for_jdk_24">
<summary class="title">Drop <code class="literal">TLS_RSA</code> cipher support for JDK 24</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
This change removes <code class="literal">TLS_RSA</code> ciphers from the list of default supported ciphers, for Elasticsearch deployments running on JDK 24.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
The dropped ciphers are <code class="literal">TLS_RSA_WITH_AES_256_GCM_SHA384</code>, <code class="literal">TLS_RSA_WITH_AES_128_GCM_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_256_CBC_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA256</code>, <code class="literal">TLS_RSA_WITH_AES_256_CBC_SHA</code>, and <code class="literal">TLS_RSA_WITH_AES_128_CBC_SHA</code>. TLS connections to Elasticsearch using these ciphers will no longer work. Please configure your clients to use one of supported cipher suites.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_818_packaging_changes"></a>Packaging changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/migration/migrate_8_18.asciidoc">edit</a></div>
<details id="disable_machine_learning_on_macos_x86_64">
<summary class="title">Disable machine learning on macOS x86_64</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The machine learning plugin is permanently disabled on macOS x86_64. For the last three years Apple has been selling hardware based on the arm64 architecture, and support will increasingly focus on this architecture in the future. Changes to upstream dependencies of Elastic&#8217;s machine learning functionality have made it unviable for Elastic to continue to build machine learning on macOS x86_64.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
To continue to use machine learning functionality on macOS please switch to an arm64 machine (Apple silicon). Alternatively, it will still be possible to run Elasticsearch with machine learning enabled in a Docker container on macOS x86_64.</p>
</div>
</details>
<div class="position-relative"><h4><a id="breaking_818_rest_api_changes"></a>REST API changes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/migration/migrate_8_18.asciidoc">edit</a></div>
<details id="set_allow_partial_search_results_true_by_default">
<summary class="title">Set allow_partial_search_results=true by default</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Before this change, in case of shard failures, EQL queries always returned an error. With this change, they will keep running and will return partial results.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
EQL queries that would previously fail due to shard failures, will now succeed and return partial results. The previous defaults can be restored by setting <code class="literal">xpack.eql.default_allow_partial_results</code> cluster setting to <code class="literal">false</code> or setting with <code class="literal">allow_partial_search_results</code> to <code class="literal">false</code> in the query request.</p>
</div>
</details>
<div class="position-relative"><h3><a id="deprecated-8.18"></a>Deprecations</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/migration/migrate_8_18.asciidoc">edit</a></div>
<p>The following functionality has been deprecated in Elasticsearch 8.18
and will be removed in a future version.
While this won&#8217;t have an immediate impact on your applications,
we strongly encourage you to take the described steps to update your code
after upgrading to 8.18.</p>
<p>To find out if you are using any deprecated functionality,
enable <a class="xref" href="logging.html#deprecation-logging" title="Deprecation logging">deprecation logging</a>.</p>
<div class="position-relative"><h4><a id="deprecations_818_index_setting"></a>Index setting deprecations</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/migration/migrate_8_18.asciidoc">edit</a></div>
<details id="increase_frozen_indices_deprecation_level_to_critical">
<summary class="title">Increase the frozen indices deprecation level to <code class="literal">CRITICAL</code></summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The migration deprecations API previously returned a warning on frozen indices. Support for reading frozen indices will be removed in 9.0, so in 8.18 this has been made a critical issue.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Users are required to unfreeze any frozen indices before upgrading to 9.x. (N.B. It was impossible to freeze indices in 8.x, so this only applies to 7.x indices which have not been reindexed.)</p>
</div>
</details>
<div class="position-relative"><h4><a id="deprecations_818_rest_api"></a>REST API deprecations</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/migration/migrate_8_18.asciidoc">edit</a></div>
<details id="deprecate_ability_to_connect_to_nodes_of_versions_8_17_earlier">
<summary class="title">Deprecate ability to connect to nodes of versions 8.17 and earlier</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Versions 9.0.0 and later of Elasticsearch will not support communication with nodes of versions earlier than 8.18.0, so the ability to connect to nodes of earlier versions is deprecated in this version. This applies both to communication within a cluster and communication across clusters (e.g. for <a class="xref" href="modules-cross-cluster-search.html" title="Search across clusters">cross-cluster search</a> or <a class="xref" href="xpack-ccr.html" title="Cross-cluster replication">cross-cluster replication</a>).
Elasticsearch will report in its <a class="xref" href="logging.html#deprecation-logging" title="Deprecation logging">deprecation logging</a> each time it opens a connection to a node that will not be supported from version 9.0.0 onwards. You must upgrade all your clusters to version 8.18.0 or later before upgrading any of your clusters to 9.0.0 or later.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Upgrade all of your clusters to at least 8.18.0 before upgrading any of them to 9.0.0 or later.</p>
</div>
</details>
<details id="v_7_deprecation_logging_set_to_critical">
<summary class="title">V_7 deprecation logging set to critical</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
This changes the V_7 API deprecation logging level to CRITICAL.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Any usage of deprecated V_7 API features will now be logged at the CRITICAL level. This does not change functionality.</p>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="breaking-changes.html">« Migration guide</a>
</span>
<span class="next">
<a href="migrating-8.17.html">Migrating to 8.17 »</a>
</span>
</div>
</body>
</html>
