<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="hot-spotting, hotspot, hot-spot, hot spot, hotspots, hotspotting">
<title>Configuring source mode in mappings is deprecated and replaced by an index setting | Elasticsearch Guide [8.18] | Elastic</title>
<meta class="elastic" name="content" content="Configuring source mode in mappings is deprecated and replaced by an index setting | Elasticsearch Guide [8.18]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.18]"/>
<link rel="up" href="troubleshooting.html" title="Troubleshooting"/>
<link rel="prev" href="increase-cluster-shard-limit.html" title="Total number of shards per node has been reached"/>
<link rel="next" href="corruption-troubleshooting.html" title="Troubleshooting corruption"/>
<meta class="elastic" name="product_version" content="8.18"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.18"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.18"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="increase-cluster-shard-limit.html">« Total number of shards per node has been reached</a>
</span>
<span class="next">
<a href="corruption-troubleshooting.html">Troubleshooting corruption »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.18]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="troubleshooting.html">Troubleshooting</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Configuring source mode in mappings is deprecated and replaced by an index setting</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/troubleshooting/data/source-mode-setting.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="troubleshoot-migrate-source-mode"></a>Configuring source mode in mappings is deprecated and replaced by an index setting</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.18/docs/reference/troubleshooting/data/source-mode-setting.asciidoc">edit</a></div>
</div></div></div>
<p>Index <a class="xref" href="mapping-source-field.html" title="_source field">source</a> mode was previously configured in mappings as follows:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">"mappings": {
    "source": {
        "mode": "synthetic"
    },
    "foo": {
        "type": "keyword"
    },
    "bar": {
        "type": "keyword"
    }
}</pre>
</div>
<p>Starting with version 8.18, this method for configuring the source mode is considered
deprecated and replaced by index setting <code class="literal">index.mapping.source.mode</code> that accepts the
same values: <code class="literal">stored</code>, <code class="literal">synthetic</code> and <code class="literal">disabled</code>. The index setting can be
used as follows:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">"settings": {
    "index.mapping.source.mode": "synthetic"
}
"mappings": {
    "foo": {
        "type": "keyword"
    },
    "bar": {
        "type": "keyword"
    }
}</pre>
</div>
<p>Existing indexes using the deprecated method for configuring the source mode are not
affected, but creating new indexes raises warnings and will not be supported in a future
release. This can be an issue for data streams and other indexes that get regularly
generated using component templates. To avoid these problems, identify all affected
component templates, as shown in the <a class="xref" href="migration-api-deprecation.html" title="Deprecation info APIs">deprecation info API</a>,
and update them to use setting <code class="literal">index.mapping.source.mode</code> instead of
<code class="literal">mappings.source.mode</code>, according to the examples above.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="increase-cluster-shard-limit.html">« Total number of shards per node has been reached</a>
</span>
<span class="next">
<a href="corruption-troubleshooting.html">Troubleshooting corruption »</a>
</span>
</div>
</body>
</html>
