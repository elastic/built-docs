<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Reset desired balance API | Elasticsearch Guide [8.19] | Elastic</title>
<meta class="elastic" name="content" content="Reset desired balance API | Elasticsearch Guide [8.19]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.19]"/>
<link rel="up" href="cluster.html" title="Cluster APIs"/>
<link rel="prev" href="get-desired-balance.html" title="Get desired balance API"/>
<link rel="next" href="ccr-apis.html" title="Cross-cluster replication APIs"/>
<meta class="elastic" name="product_version" content="8.19"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.19"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.19"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="get-desired-balance.html">« Get desired balance API</a>
</span>
<span class="next">
<a href="ccr-apis.html">Cross-cluster replication APIs »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.19]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="cluster.html">Cluster APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Reset desired balance API</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/cluster/delete-desired-balance.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/api/doc/elasticsearch/group/endpoint-cluster">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="delete-desired-balance"></a>Reset desired balance API</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/cluster/delete-desired-balance.asciidoc">edit</a></div>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is designed for indirect use by <a href="https://cloud.elastic.co/registration?page=docs&amp;placement=docs-body" class="ulink" target="_top">Elasticsearch Service</a>, <a href="/guide/en/cloud-enterprise/current" class="ulink" target="_top">Elastic Cloud Enterprise</a>, and <a href="/guide/en/cloud-on-k8s/current" class="ulink" target="_top">Elastic Cloud on Kubernetes</a>. Direct use is not supported.</p>
</div>
</div>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>New API reference</strong></p>
</div></div></div>
<p>For the most up-to-date API details, refer to <a href="/docs/api/doc/elasticsearch/v8/group/endpoint-cluster" class="ulink" target="_top">Cluster APIs</a>.</p>
</div>
<p>Discards the current <a class="xref" href="modules-cluster.html#shards-rebalancing-heuristics" title="Shard balancing heuristics settings">desired balance</a> and computes a new desired balance starting from the current allocation of shards.
This can sometimes help Elasticsearch find a desired balance which needs fewer shard movements to achieve, especially if the
cluster has experienced changes so substantial that the current desired balance is no longer optimal without Elasticsearch having
detected that the current desired balance will take more shard movements to achieve than needed. However, this API
imposes a heavy load on the elected master node and may not always have the expected effect. Calling this API should
never be necessary. Consider instead <a class="xref" href="modules-cluster.html#shards-rebalancing-heuristics" title="Shard balancing heuristics settings">increasing the value of
<code class="literal">cluster.routing.allocation.balance.threshold</code></a> to avoid excessive shard movements.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="delete-desired-balance-request"></a>Request</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/cluster/delete-desired-balance.asciidoc">edit</a></div>
</div></div></div>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.perform_request(
    "DELETE",
    "/_internal/desired_balance",
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.transport.request({
  method: "DELETE",
  path: "/_internal/desired_balance",
});
console.log(response);</pre>
</div>
<a id="b3756e700d0f6c7e8919003bdf26bc8f"></a>
<div class="pre_wrapper lang-console default has-python has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-js">DELETE /_internal/desired_balance</pre>
</div>
<div class="console_widget has-python has-js" data-snippet="snippets/2519.console"></div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="get-desired-balance.html">« Get desired balance API</a>
</span>
<span class="next">
<a href="ccr-apis.html">Cross-cluster replication APIs »</a>
</span>
</div>
</body>
</html>
