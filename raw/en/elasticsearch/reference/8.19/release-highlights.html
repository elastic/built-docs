<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>What&#8217;s new in 8.19 | Elasticsearch Guide [8.19] | Elastic</title>
<meta class="elastic" name="content" content="What&#8217;s new in 8.19 | Elasticsearch Guide [8.19]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.19]"/>
<link rel="up" href="index.html" title="Elasticsearch Guide [8.19]"/>
<link rel="prev" href="index.html" title="Elasticsearch Guide [8.19]"/>
<link rel="next" href="elasticsearch-intro.html" title="Elasticsearch basics"/>
<meta class="elastic" name="product_version" content="8.19"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.19"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.19"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
</span>
<span class="next">
<a href="elasticsearch-intro.html">Elasticsearch basics »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.19]</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>What&#8217;s new in 8.19</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/highlights.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-highlights"></a>What&#8217;s new in 8.19</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/highlights.asciidoc">edit</a></div>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Coming in 8.19.</p>
</div>
</div>
<p>Here are the highlights of what&#8217;s new and improved in Elasticsearch 8.19!</p>
<div class="position-relative"><h3><a id="upgrade_repository_s3_to_aws_sdk_v2"></a>Upgrade <code class="literal">repository-s3</code> to AWS SDK v2</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/highlights.asciidoc">edit</a></div>
<p>In earlier versions of Elasticsearch the <code class="literal">repository-s3</code> plugin was based on the AWS SDK v1. AWS will withdraw support for this SDK before the end of the life of Elasticsearch 8.19 so we have migrated this plugin to the newer AWS SDK v2.
The two SDKs are not quite compatible, so please check the breaking changes documentation and test the new version thoroughly before upgrading any production workloads.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/126843" class="ulink" target="_top">#126843</a></p>
<div class="position-relative"><h3><a id="add_ability_to_redirect_ingestion_failures_on_data_streams_to_failure_store"></a>Add ability to redirect ingestion failures on data streams to a failure store</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/highlights.asciidoc">edit</a></div>
<p>Documents that encountered ingest pipeline failures or mapping conflicts
would previously be returned to the client as errors in the bulk and
index operations. Many client applications are not equipped to respond
to these failures. This leads to the failed documents often being
dropped by the client which cannot hold the broken documents
indefinitely. In many end user workloads, these failed documents
represent events that could be critical signals for observability or
security use cases.</p>
<p>To help mitigate this problem, data streams can now maintain a "failure
store" which is used to accept and hold documents that fail to be
ingested due to preventable configuration errors. The data stream&#8217;s
failure store operates like a separate set of backing indices with their
own mappings and access patterns that allow Elasticsearch to accept
documents that would otherwise be rejected due to unhandled ingest
pipeline exceptions or mapping conflicts.</p>
<p>Users can enable redirection of ingest failures to the failure store on
new data streams by specifying it in the new <code class="literal">data_stream_options</code> field
inside of a component or index template:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">PUT _index_template/my-template
{
  "index_patterns": ["logs-test-*"],
  "data_stream": {},
  "template": {
    "data_stream_options": {
      "failure_store": {
        "enabled": true
      }
    }
  }
}'</pre>
</div>
<p>Existing data streams can be configured with the new data stream
<code class="literal">_options</code> endpoint:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">PUT _data_stream/logs-test-apache/_options
{
  "failure_store": {
    "enabled": "true"
  }
}</pre>
</div>
<p>When redirection is enabled, any ingestion related failures will be
captured in the failure store if the cluster is able to, along with the
timestamp that the failure occurred, details about the error
encountered, and the document that could not be ingested. Since failure
stores are a kind of Elasticsearch index, we can search the data stream
for the failures that it has collected. The failures are not shown by
default as they are stored in different indices than the normal data
stream data. In order to retrieve the failures, we use the <code class="literal">_search</code> API
along with a new bit of index pattern syntax, the <code class="literal">::</code> selector.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">POST logs-test-apache::failures/_search</pre>
</div>
<p>This index syntax informs the search operation to target the indices in
its failure store instead of its backing indices. It can be mixed in a
number of ways with other index patterns to include their failure store
indices in the search operation:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">POST logs-*::failures/_search
POST logs-*,logs-*::failures/_search
POST *::failures/_search
POST _query
{
  "query": "FROM my_data_stream*::failures"
}</pre>
</div>
<p><a href="https://github.com/elastic/elasticsearch/pull/126973" class="ulink" target="_top">#126973</a></p>
<div class="position-relative"><h3><a id="upgrade_to_lucene_9_12_2"></a>Upgrade to lucene 9.12.2</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/highlights.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reduce NeighborArray on-heap memory during HNSW graph building
</li>
<li class="listitem">
Fix IndexSortSortedNumericDocValuesRangeQuery for integer sorting
</li>
<li class="listitem">
ValueSource.fromDoubleValuesSource(dvs).getSortField() would throw errors when used if the DoubleValuesSource needed scores
</li>
<li class="listitem">
Disable connectedComponents logic in HNSW graph building.
</li>
</ul>
</div>
<p><a href="https://github.com/elastic/elasticsearch/pull/129555" class="ulink" target="_top">#129555</a></p>
<div class="position-relative"><h3><a id="es_ql_cross_cluster_querying_generally_available"></a>ES|QL cross-cluster querying is now generally available</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/highlights.asciidoc">edit</a></div>
<p>The ES|QL Cross-Cluster querying feature has been in technical preview since 8.13.
As of releases 8.19.0 and 9.1.0 this is now generally available.
This feature allows you to run ES|QL queries across multiple clusters.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/130034" class="ulink" target="_top">#130034</a></p>
<div class="position-relative"><h3><a id="mark_token_pruning_for_sparse_vector_as_ga"></a>Mark Token Pruning for Sparse Vector as GA</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/highlights.asciidoc">edit</a></div>
<p>Token pruning for sparse_vector queries has been live since 8.13 as tech preview.
As of 8.19.0 and 9.1.0, this is now generally available.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/130212" class="ulink" target="_top">#130212</a></p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
</span>
<span class="next">
<a href="elasticsearch-intro.html">Elasticsearch basics »</a>
</span>
</div>
</body>
</html>
