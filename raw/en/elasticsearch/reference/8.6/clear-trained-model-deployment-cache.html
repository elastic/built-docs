<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch, high watermark, low watermark, full disk">
<title>Clear trained model deployment cache API | Elasticsearch Guide [8.6] | Elastic</title>
<meta class="elastic" name="content" content="Clear trained model deployment cache API | Elasticsearch Guide [8.6]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.6]"/>
<link rel="up" href="ml-df-trained-models-apis.html" title="Machine learning trained model APIs"/>
<link rel="prev" href="ml-df-trained-models-apis.html" title="Machine learning trained model APIs"/>
<link rel="next" href="put-trained-models-aliases.html" title="Create or update trained model aliases API"/>
<meta class="elastic" name="product_version" content="8.6"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.6"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.6"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="ml-df-trained-models-apis.html">« Machine learning trained model APIs</a>
</span>
<span class="next">
<a href="put-trained-models-aliases.html">Create or update trained model aliases API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.6]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-df-trained-models-apis.html">Machine learning trained model APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Clear trained model deployment cache API</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/api/doc/elasticsearch/operation/operation-ml-clear-trained-model-deployment-cache">latest documentation</a>.
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="clear-trained-model-deployment-cache"></a>Clear trained model deployment cache API</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></div>
</div></div></div>

<p>Clears a trained model deployment cache on all nodes where the trained model is assigned.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="clear-trained-model-deployment-cache-request"></a>Request</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></div>
</div></div></div>
<p><code class="literal">POST _ml/trained_models/&lt;model_id&gt;/deployment/cache/_clear</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="clear-trained-model-deployment-cache-prereq"></a>Prerequisites</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></div>
</div></div></div>
<p>Requires the <code class="literal">manage_ml</code> cluster privilege. This privilege is included in the
<code class="literal">machine_learning_admin</code> built-in role.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="clear-trained-model-deployment-cache-desc"></a>Description</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></div>
</div></div></div>
<p>A trained model deployment may have an inference cache enabled. As requests are handled by each allocated node,
their responses may be cached on that individual node. Calling this API clears the caches without restarting the
deployment.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="clear-trained-model-deployment-cache-path-params"></a>Path parameters</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;model_id&gt;</code>
</span>
</dt>
<dd>
(Required, string)
The unique identifier of the trained model.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="clear-trained-model-deployment-cache-example"></a>Examples</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.6/docs/reference/ml/trained-models/apis/clear-trained-model-deployment-cache.asciidoc">edit</a></div>
</div></div></div>
<p>The following example clears the cache for the new deployment for the
<code class="literal">elastic__distilbert-base-uncased-finetuned-conll03-english</code> trained model:</p>
<a id="7e4cb3de3e3c75646b60f9f81ddc59cc"></a>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">POST _ml/trained_models/elastic__distilbert-base-uncased-finetuned-conll03-english/deployment/cache/_clear</pre>
</div>
<div class="console_widget" data-snippet="snippets/2555.console"></div>
<p>The API returns the following results:</p>
<a id="b29fb7982a289c9a23d34cba02cf123c"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
   "cleared": true
}</pre>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ml-df-trained-models-apis.html">« Machine learning trained model APIs</a>
</span>
<span class="next">
<a href="put-trained-models-aliases.html">Create or update trained model aliases API »</a>
</span>
</div>
</body>
</html>
