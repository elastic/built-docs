<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>What&#8217;s new in 8.7 | Elasticsearch Guide [8.7] | Elastic</title>
<meta class="elastic" name="content" content="What&#8217;s new in 8.7 | Elasticsearch Guide [8.7]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.7]"/>
<link rel="up" href="index.html" title="Elasticsearch Guide [8.7]"/>
<link rel="prev" href="scalability.html" title="Scalability and resilience: clusters, nodes, and shards"/>
<link rel="next" href="setup.html" title="Set up Elasticsearch"/>
<meta class="elastic" name="product_version" content="8.7"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.7"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.7]</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="scalability.html">« Scalability and resilience: clusters, nodes, and shards</a>
</span>
<span class="next">
<a href="setup.html">Set up Elasticsearch »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="release-highlights"></a>What&#8217;s new in 8.7<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h1>
</div></div></div>
<p>Here are the highlights of what&#8217;s new and improved in Elasticsearch 8.7!</p>
<p>Other versions:</p>
<p><a href="/guide/en/elasticsearch/reference/8.6/release-highlights.html" class="ulink" target="_top">8.6</a>
| <a href="/guide/en/elasticsearch/reference/8.5/release-highlights.html" class="ulink" target="_top">8.5</a>
| <a href="/guide/en/elasticsearch/reference/8.4/release-highlights.html" class="ulink" target="_top">8.4</a>
| <a href="/guide/en/elasticsearch/reference/8.3/release-highlights.html" class="ulink" target="_top">8.3</a>
| <a href="/guide/en/elasticsearch/reference/8.2/release-highlights.html" class="ulink" target="_top">8.2</a>
| <a href="/guide/en/elasticsearch/reference/8.1/release-highlights.html" class="ulink" target="_top">8.1</a>
| <a href="/guide/en/elasticsearch/reference/8.0/release-highlights.html" class="ulink" target="_top">8.0</a></p>
<h3><a id="time_series_tsds_ga"></a>Time series (TSDS) GA<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p><a class="xref" href="tsds.html" title="Time series data stream (TSDS)">Time Series Data Stream (TSDS)</a> is a feature for optimizing Elasticsearch indices for time series data.
This involves sorting the indices to achieve better compression and using synthetic _source to reduce index size.
As a result, TSDS indices are significantly smaller than non-time_series indices that contain the same data.
TSDS is particularly useful for managing time series data with high volume.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/91519" class="ulink" target="_top">#91519</a></p>
<h3><a id="downsampling_ga"></a>Downsampling GA<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p><a class="xref" href="downsampling.html" title="Downsampling a time series data stream">Downsampling</a> is a feature that reduces the number of stored documents in Elasticsearch
time series indices, resulting in smaller indices and improved query latency.
This optimization is achieved by pre-aggregating time series indices,
using the time_series index schema to identify the time series.
Downsampling is configured as an action in ILM, making it a useful tool for managing large volumes of
time series data in Elasticsearch.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/92913" class="ulink" target="_top">#92913</a></p>
<h3><a id="geohex_aggregations_on_both_geo_point_geo_shape_fields"></a>Geohex aggregations on both <code class="literal">geo_point</code> and <code class="literal">geo_shape</code> fields<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Previously Elasticsearch 8.1.0 expanded <code class="literal">geo_grid</code> aggregation support from rectangular tiles (geotile and geohash)
to include hexagonal tiles, but for <code class="literal">geo_point</code> only. Now Elasticsearch 8.7.0 will support
<a class="xref" href="search-aggregations-bucket-geohexgrid-aggregation.html#geohexgrid-aggregating-geo-shape" title="Aggregating geo_shape fields">Geohex aggregations over <code class="literal">geo_shape</code></a> as well,
which completes the long desired need to perform hexagonal aggregations on spatial data.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/spatial/geogrid_h3_aggregation.png" alt="Kibana map with geohex aggregation inclusing polygons and lines">
</div>
</div>
<p>In 2018 <a href="https://www.uber.com/en-SE/blog/h3/" class="ulink" target="_top">Uber announced they had open sourced their H3 library</a>,
enabling hexagonal tiling of the planet for much better analytics of their traffic and regional pricing models.
The use of hexagonal tiles for analytics has become increasingly popular, due to the fact that each tile represents
a very similar geographic area on the planet, as well as the fact that the distance between tile centers is
very similar in all directions, and consistent across the map.
These benefits are now available to all Elasticsearch users.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/91956" class="ulink" target="_top">#91956</a></p>
<h3><a id="allow_more_than_one_knn_search_clause"></a>Allow more than one KNN search clause<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Some vector search scenarios require relevance ranking using a few kNN clauses,
e.g. when ranking based on several fields, each with its own vector, or when a document
includes a vector for the image and another vector for the text. The user may want to obtain
relevance ranking based on a combination of all of these kNN clauses.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/92118" class="ulink" target="_top">#92118</a></p>
<h3><a id="make_natural_language_processing_ga"></a>Make natural language processing GA<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>From 8.7, NLP model management, model allocation, and support for inference against third party models are generally available. (The new <code class="literal">text_embedding</code> extension to <code class="literal">knn</code> search is still in technical preview.)</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/92213" class="ulink" target="_top">#92213</a></p>
<h3><a id="speed_up_ingest_geoip_processors"></a>Speed up ingest geoip processors<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>The <code class="literal">geoip</code> ingest processor is significantly faster.</p>
<p>Previous versions of the geoip library needed special permission to execute
databinding code, requiring an expensive permissions check and
<code class="literal">AccessController.doPrivileged</code> call. The current version of the geoip
library no longer requires that, however, so the expensive code has been
removed, resulting in better performance for the ingest geoip processor.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/92372" class="ulink" target="_top">#92372</a></p>
<h3><a id="speed_up_ingest_set_append_processors"></a>Speed up ingest set and append processors<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>The <code class="literal">set</code> and <code class="literal">append</code> ingest processors that use mustache templates are
significantly faster.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/92395" class="ulink" target="_top">#92395</a></p>
<h3><a id="improved_downsampling_performance"></a>Improved downsampling performance<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Several improvements were made to the performance of downsampling.
All hashmap lookups were removed.
Also metrics/label producers were modified so that they extract the doc_values directly from the leaves.
This allows for extra optimizations for cases such as labels/counters that do not extract doc_values
unless they are consumed. Those changes yielded a 3x-4x performance improvement of the downsampling operation, as measured by our benchmarks.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/92494" class="ulink" target="_top">#92494</a></p>
<h3><a id="health_api_generally_available"></a>The Health API is now generally available<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Elasticsearch introduces a new Health API designed to report the health of
the cluster. The new API provides both a high level overview of the cluster
health, and a very detailed report that can include a precise diagnosis and
a resolution.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/92879" class="ulink" target="_top">#92879</a></p>
<h3><a id="improved_performance_for_get_mget_indexing_with_explicit_id_s"></a>Improved performance for get, mget and indexing with explicit `_id`s<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>The false positive rate for the bloom filter on the <code class="literal">_id</code> field was reduced from ~10% to ~1%,
reducing the I/O load if a term is not present in a segment.
This improves performance when retrieving documents by <code class="literal">_id</code>, which happens when performing
get or mget requests, or when issuing <code class="literal">_bulk</code> requests that provide explicit `_id`s.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/93283" class="ulink" target="_top">#93283</a></p>
<h3><a id="speed_up_ingest_processing_with_multiple_pipelines"></a>Speed up ingest processing with multiple pipelines<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Processing documents with both a request/default and a final
pipeline is significantly faster.</p>
<p>Rather than marshalling a document from and to json once per
pipeline, a document is now marshalled from json before any
pipelines execute and then back to json after all pipelines have
executed.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/93329" class="ulink" target="_top">#93329</a></p>
<h3><a id="support_geo_grid_ingest_processor"></a>Support geo_grid ingest processor<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>The <a class="xref" href="ingest-geo-grid-processor.html" title="Geo-grid processor"><code class="literal">geo_grid</code> ingest processor</a> supports creating indexable geometries
from geohash, geotile and H3 cells.</p>
<p>There already exists a <code class="literal">circle</code> ingest processor that creates a polygon from a point and radius definition.
This concept is useful when there is need to use spatial operations that work with indexable geometries on
geometric objects that are not defined spatially (or at least not indexable by lucene).
In this case, the string <code class="literal">4/8/5</code> does not have spatial meaning, until we interpret it as the address
of a rectangular <code class="literal">geotile</code>, and save the bounding box defining its border for further use.
Likewise we can interpret <code class="literal">geohash</code> strings like <code class="literal">u0</code> as a tile, and H3 strings like <code class="literal">811fbffffffffff</code>
as an hexagonal cell, saving the cell border as a polygon.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/spatial/geogrid_h3_children.png" alt="Kibana map with three H3 layers: cell" width="children and intersecting non-children">
</div>
</div>
<p><a href="https://github.com/elastic/elasticsearch/pull/93370" class="ulink" target="_top">#93370</a></p>
<h3><a id="make_frequent_item_sets_aggregation_ga"></a>Make <code class="literal">frequent_item_sets</code> aggregation GA<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>The <code class="literal">frequent_item_sets</code> aggregation has been moved from technical preview to general availability.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/93421" class="ulink" target="_top">#93421</a></p>
<h3><a id="release_time_series_rate_on_counter_fields_aggegations_as_tech_preview"></a>Release time_series and rate (on counter fields) aggegations as tech preview<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/highlights.asciidoc">edit</a></h3>
<p>Make <code class="literal">time_series</code> aggregation and <code class="literal">rate</code> aggregation (on counter
fields) available without using the time series feature flag. This
change makes these aggregations available as tech preview.</p>
<p>Currently there is no documentation about the <code class="literal">time_series</code> aggregation.
This will be added in a followup change.</p>
<p><a href="https://github.com/elastic/elasticsearch/pull/93546" class="ulink" target="_top">#93546</a></p>
</div>
<div class="navfooter">
<span class="prev">
<a href="scalability.html">« Scalability and resilience: clusters, nodes, and shards</a>
</span>
<span class="next">
<a href="setup.html">Set up Elasticsearch »</a>
</span>
</div>
</div>
</body>
</html>
