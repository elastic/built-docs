<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="hot-spotting, hotspot, hot-spot, hot spot, hotspots, hotspotting">
<title>Elasticsearch version 8.4.0 | Elasticsearch Guide [8.7] | Elastic</title>
<meta class="elastic" name="content" content="Elasticsearch version 8.4.0 | Elasticsearch Guide [8.7]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.7]"/>
<link rel="up" href="es-release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.4.1.html" title="Elasticsearch version 8.4.1"/>
<link rel="next" href="release-notes-8.3.3.html" title="Elasticsearch version 8.3.3"/>
<meta class="elastic" name="product_version" content="8.7"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.7"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="es-release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.4.1.html">« Elasticsearch version 8.4.1</a>
</span>
<span class="next">
<a href="release-notes-8.3.3.html">Elasticsearch version 8.3.3 »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-8.4.0"></a>Elasticsearch version 8.4.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/8.4.0.asciidoc">edit</a></h2>
</div></div></div>
<p>Also see <a class="xref" href="migrating-8.4.html#breaking-changes-8.4" title="Breaking changes">Breaking changes in 8.4</a>.</p>
<h3><a id="known-issues-8.4.0"></a>Known issues<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/8.4.0.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Machine learning datafeeds cannot be listed if any are not modified since version 6.x</p>
<p>If you have a datafeed that was created in version 5.x or 6.x and has not
been updated since 7.0, it is not possible to list datafeeds in
8.4 and 8.5. This means that anomaly detection jobs cannot be managed using
Kibana. This issue is fixed in 8.6.0.</p>
<p>If you upgrade to 8.4 or 8.5 with such a datafeed, you need to
work around the problem by updating each datafeed&#8217;s authorization information
using <a href="https://support.elastic.dev/knowledge/view/b5a879db" class="ulink" target="_top">these steps</a>.</p>
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Orchestrators which use a <code class="literal">settings.json</code> file to configure Elasticsearch may
encounter deadlocks during master elections (issue: <a href="https://github.com/elastic/elasticsearch/issues/92812" class="ulink" target="_top">#92812</a>)</p>
<p>To resolve the deadlock, remove the <code class="literal">settings.json</code> file and restart the
affected node.</p>
</li>
<li class="listitem">
Parsing a request when the last element in an array is filtered out
(for instance using <code class="literal">_source_includes</code>) fails. This
is due to <a href="https://github.com/FasterXML/jackson-core/issues/882" class="ulink" target="_top">a bug in Jackson parser</a>.
Fixed in Elasticsearch 8.6.1 (<a href="https://github.com/elastic/elasticsearch/pull/92480" class="ulink" target="_top">#91456</a>)
</li>
</ul>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>When the <a href="/guide/en/elasticsearch/reference/8.7/attachment.html" class="ulink" target="_top">ingest attachment processor</a> is used, the
interaction of <a href="https://tika.apache.org/" class="ulink" target="_top">Tika</a> with log4j 2.18.0 and higher
(introduced in Elasticsearch 8.4.0) results in excessive logging. This logging is so
excessive that it can lead to cluster instability, to the point where the
cluster is unusable and nodes must be restarted. (issue: <a href="https://github.com/elastic/elasticsearch/issues/91964" class="ulink" target="_top">#91964</a>).
This issue is fixed in Elasticsearch 8.7.0 (<a href="https://github.com/elastic/elasticsearch/pull/93878" class="ulink" target="_top">#93878</a>)</p>
<p>To resolve the issue, upgrade to 8.7.0 or higher.</p>
</li>
</ul>
</div>
<h3><a id="bug-8.4.0"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/8.4.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix multi-value handling in composite agg <a href="https://github.com/elastic/elasticsearch/pull/88638" class="ulink" target="_top">#88638</a>
</li>
<li class="listitem">
Fix: extract matrix stats using <code class="literal">bucket_selector</code> <code class="literal">buckets_path</code> <a href="https://github.com/elastic/elasticsearch/pull/88271" class="ulink" target="_top">#88271</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/87454" class="ulink" target="_top">#87454</a>)
</li>
<li class="listitem">
Make the metric in the <code class="literal">buckets_path</code> parameter optional <a href="https://github.com/elastic/elasticsearch/pull/87220" class="ulink" target="_top">#87220</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/72983" class="ulink" target="_top">#72983</a>)
</li>
<li class="listitem">
Propagate alias filters to significance aggs filters <a href="https://github.com/elastic/elasticsearch/pull/88221" class="ulink" target="_top">#88221</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/81585" class="ulink" target="_top">#81585</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clamp auto-expand replicas to the closest value <a href="https://github.com/elastic/elasticsearch/pull/87505" class="ulink" target="_top">#87505</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84788" class="ulink" target="_top">#84788</a>)
</li>
<li class="listitem">
Prevent re-balancing using outdated node weights in some cases <a href="https://github.com/elastic/elasticsearch/pull/88385" class="ulink" target="_top">#88385</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88384" class="ulink" target="_top">#88384</a>)
</li>
<li class="listitem">
Remove any existing <code class="literal">read_only_allow_delete</code> index blocks when <code class="literal">cluster.routing.allocation.disk.threshold_enabled</code> is set to <code class="literal">false</code> <a href="https://github.com/elastic/elasticsearch/pull/87841" class="ulink" target="_top">#87841</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86383" class="ulink" target="_top">#86383</a>)
</li>
<li class="listitem">
Replace health request with a state observer <a href="https://github.com/elastic/elasticsearch/pull/88641" class="ulink" target="_top">#88641</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix unique realm name check to cover default realms <a href="https://github.com/elastic/elasticsearch/pull/87999" class="ulink" target="_top">#87999</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add rollover permissions for <code class="literal">remote_monitoring_agent</code> <a href="https://github.com/elastic/elasticsearch/pull/87717" class="ulink" target="_top">#87717</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84161" class="ulink" target="_top">#84161</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Autoscaling
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Autoscaling during shrink <a href="https://github.com/elastic/elasticsearch/pull/88292" class="ulink" target="_top">#88292</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/85480" class="ulink" target="_top">#85480</a>)
</li>
<li class="listitem">
Do not include desired nodes in snapshots <a href="https://github.com/elastic/elasticsearch/pull/87695" class="ulink" target="_top">#87695</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve rejection of ambiguous voting config name <a href="https://github.com/elastic/elasticsearch/pull/89239" class="ulink" target="_top">#89239</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Data streams
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix renaming data streams with CCR replication <a href="https://github.com/elastic/elasticsearch/pull/88875" class="ulink" target="_top">#88875</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/81751" class="ulink" target="_top">#81751</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed NullPointerException on bulk request <a href="https://github.com/elastic/elasticsearch/pull/88385" class="ulink" target="_top">#88385</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid attempting PIT close on PIT open failure <a href="https://github.com/elastic/elasticsearch/pull/87498" class="ulink" target="_top">#87498</a>
</li>
<li class="listitem">
Improve EQL Sequence circuit breaker precision <a href="https://github.com/elastic/elasticsearch/pull/88538" class="ulink" target="_top">#88538</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88300" class="ulink" target="_top">#88300</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Geo_line aggregation returns a geojson point when the resulting line has only one point <a href="https://github.com/elastic/elasticsearch/pull/89199" class="ulink" target="_top">#89199</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/85748" class="ulink" target="_top">#85748</a>)
</li>
<li class="listitem">
Sort ranges in <code class="literal">geo_distance</code> aggregation <a href="https://github.com/elastic/elasticsearch/pull/89154" class="ulink" target="_top">#89154</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89147" class="ulink" target="_top">#89147</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix NPE when checking if the last snapshot was success <a href="https://github.com/elastic/elasticsearch/pull/88811" class="ulink" target="_top">#88811</a>
</li>
<li class="listitem">
Fixing a version check for master stability functionality <a href="https://github.com/elastic/elasticsearch/pull/89322" class="ulink" target="_top">#89322</a>
</li>
<li class="listitem">
Fixing internal action names <a href="https://github.com/elastic/elasticsearch/pull/89182" class="ulink" target="_top">#89182</a>
</li>
<li class="listitem">
Using the correct connection to fetch remote master history <a href="https://github.com/elastic/elasticsearch/pull/87299" class="ulink" target="_top">#87299</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle ordering in plain highlighter for multiple inputs <a href="https://github.com/elastic/elasticsearch/pull/87414" class="ulink" target="_top">#87414</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/87210" class="ulink" target="_top">#87210</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Batch ILM move to retry step task update <a href="https://github.com/elastic/elasticsearch/pull/86759" class="ulink" target="_top">#86759</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/CLI
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Quote paths with whitespace in Windows service CLIs <a href="https://github.com/elastic/elasticsearch/pull/89072" class="ulink" target="_top">#89072</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89043" class="ulink" target="_top">#89043</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Always close directory streams <a href="https://github.com/elastic/elasticsearch/pull/88560" class="ulink" target="_top">#88560</a>
</li>
<li class="listitem">
Delete invalid settings for system indices <a href="https://github.com/elastic/elasticsearch/pull/88903" class="ulink" target="_top">#88903</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88324" class="ulink" target="_top">#88324</a>)
</li>
<li class="listitem">
Disallow three-digit minor and revision versions <a href="https://github.com/elastic/elasticsearch/pull/87338" class="ulink" target="_top">#87338</a>
</li>
<li class="listitem">
Handle snapshot restore in file settings <a href="https://github.com/elastic/elasticsearch/pull/89321" class="ulink" target="_top">#89321</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89183" class="ulink" target="_top">#89183</a>)
</li>
<li class="listitem">
System indices ignore all user templates <a href="https://github.com/elastic/elasticsearch/pull/87260" class="ulink" target="_top">#87260</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/42508" class="ulink" target="_top">#42508</a>, <a href="https://github.com/elastic/elasticsearch/issues/74271" class="ulink" target="_top">#74271</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Node Lifecycle
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix message for stalled shutdown <a href="https://github.com/elastic/elasticsearch/pull/89254" class="ulink" target="_top">#89254</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Disable URL connection caching in SPIClassIterator <a href="https://github.com/elastic/elasticsearch/pull/88586" class="ulink" target="_top">#88586</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88275" class="ulink" target="_top">#88275</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Script: <code class="literal">UpdateByQuery</code> can read doc version if requested <a href="https://github.com/elastic/elasticsearch/pull/88740" class="ulink" target="_top">#88740</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Address potential bug where trained models get stuck in starting after being allocated to node <a href="https://github.com/elastic/elasticsearch/pull/88945" class="ulink" target="_top">#88945</a>
</li>
<li class="listitem">
Fix BERT and MPNet tokenization bug when handling unicode accents <a href="https://github.com/elastic/elasticsearch/pull/88907" class="ulink" target="_top">#88907</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88900" class="ulink" target="_top">#88900</a>)
</li>
<li class="listitem">
Fix NLP <code class="literal">question_answering</code> task when best answer is only one token <a href="https://github.com/elastic/elasticsearch/pull/88347" class="ulink" target="_top">#88347</a>
</li>
<li class="listitem">
Include start params in <code class="literal">_stats</code> for non-started model deployments <a href="https://github.com/elastic/elasticsearch/pull/89091" class="ulink" target="_top">#89091</a>
</li>
<li class="listitem">
Fix minor tokenization bug when using fill_mask task with roberta tokenizer <a href="https://github.com/elastic/elasticsearch/pull/88825" class="ulink" target="_top">#88825</a>
</li>
<li class="listitem">
Fix potential cause of classification and regression job failures <a href="https://github.com/elastic/ml-cpp/pull/2385" class="ulink" target="_top">#2385</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Assign the right path to objects merged when parsing mappings <a href="https://github.com/elastic/elasticsearch/pull/89389" class="ulink" target="_top">#89389</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88573" class="ulink" target="_top">#88573</a>)
</li>
<li class="listitem">
Don&#8217;t modify source map when parsing composite runtime field <a href="https://github.com/elastic/elasticsearch/pull/89114" class="ulink" target="_top">#89114</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ensure that the extended socket options TCP_KEEPXXX are available <a href="https://github.com/elastic/elasticsearch/pull/88935" class="ulink" target="_top">#88935</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88897" class="ulink" target="_top">#88897</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix <code class="literal">SqlSearchIT</code> <code class="literal">testAllTypesWithRequestToOldNodes</code> <a href="https://github.com/elastic/elasticsearch/pull/88883" class="ulink" target="_top">#88883</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88866" class="ulink" target="_top">#88866</a>)
</li>
<li class="listitem">
Fix date range checks <a href="https://github.com/elastic/elasticsearch/pull/87151" class="ulink" target="_top">#87151</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/77179" class="ulink" target="_top">#77179</a>)
</li>
<li class="listitem">
fix object equals <a href="https://github.com/elastic/elasticsearch/pull/87887" class="ulink" target="_top">#87887</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix: use status code 500 for aggregation reduce phase errors if no shard failed <a href="https://github.com/elastic/elasticsearch/pull/88551" class="ulink" target="_top">#88551</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/20004" class="ulink" target="_top">#20004</a>)
</li>
<li class="listitem">
Override bulk visit methods of exitable point visitor <a href="https://github.com/elastic/elasticsearch/pull/82120" class="ulink" target="_top">#82120</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ensure <code class="literal">secureString</code> remain open when reloading secure settings <a href="https://github.com/elastic/elasticsearch/pull/88922" class="ulink" target="_top">#88922</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix queued snapshot assignments after partial snapshot fails due to delete <a href="https://github.com/elastic/elasticsearch/pull/88470" class="ulink" target="_top">#88470</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86724" class="ulink" target="_top">#86724</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Handle update error correctly <a href="https://github.com/elastic/elasticsearch/pull/88619" class="ulink" target="_top">#88619</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="deprecation-8.4.0"></a>Deprecations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/8.4.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deprecate the <code class="literal">_knn_search</code> endpoint <a href="https://github.com/elastic/elasticsearch/pull/88828" class="ulink" target="_top">#88828</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="enhancement-8.4.0"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/8.4.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Aggregations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adding cardinality support for <code class="literal">random_sampler</code> agg <a href="https://github.com/elastic/elasticsearch/pull/86838" class="ulink" target="_top">#86838</a>
</li>
<li class="listitem">
Minor <code class="literal">RangeAgg</code> optimization <a href="https://github.com/elastic/elasticsearch/pull/86935" class="ulink" target="_top">#86935</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84262" class="ulink" target="_top">#84262</a>)
</li>
<li class="listitem">
Speed counting filters/range/date_histogram aggs <a href="https://github.com/elastic/elasticsearch/pull/81322" class="ulink" target="_top">#81322</a>
</li>
<li class="listitem">
Update bucket metric pipeline agg paths to allow intermediate single bucket and bucket qualified multi-bucket aggs <a href="https://github.com/elastic/elasticsearch/pull/85729" class="ulink" target="_top">#85729</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Allocation
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add debug information to <code class="literal">ReactiveReason</code> about assigned and unassigned shards <a href="https://github.com/elastic/elasticsearch/pull/86132" class="ulink" target="_top">#86132</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/85243" class="ulink" target="_top">#85243</a>)
</li>
<li class="listitem">
Optimize log cluster health performance. <a href="https://github.com/elastic/elasticsearch/pull/87723" class="ulink" target="_top">#87723</a>
</li>
<li class="listitem">
Use desired nodes during data tier allocation decisions <a href="https://github.com/elastic/elasticsearch/pull/87735" class="ulink" target="_top">#87735</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Audit
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Audit API key ID when create or grant API keys <a href="https://github.com/elastic/elasticsearch/pull/88456" class="ulink" target="_top">#88456</a>
</li>
<li class="listitem">
Include API key metadata in audit log when an API key is created, granted, or updated <a href="https://github.com/elastic/elasticsearch/pull/88642" class="ulink" target="_top">#88642</a>
</li>
<li class="listitem">
Updatable API keys - logging audit trail event <a href="https://github.com/elastic/elasticsearch/pull/88276" class="ulink" target="_top">#88276</a>
</li>
<li class="listitem">
User Profile - audit support for security domain <a href="https://github.com/elastic/elasticsearch/pull/87097" class="ulink" target="_top">#87097</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If signature validation fails, reload JWKs and retry if new JWKs are found <a href="https://github.com/elastic/elasticsearch/pull/88023" class="ulink" target="_top">#88023</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
App permissions with action patterns do not retrieve privileges <a href="https://github.com/elastic/elasticsearch/pull/85455" class="ulink" target="_top">#85455</a>
</li>
<li class="listitem">
Cancellable Profile Has Privilege check <a href="https://github.com/elastic/elasticsearch/pull/87224" class="ulink" target="_top">#87224</a>
</li>
<li class="listitem">
Return action denied error when user with insufficient privileges (<code class="literal">manage_own_api_key</code>) attempts a grant API key request <a href="https://github.com/elastic/elasticsearch/pull/87461" class="ulink" target="_top">#87461</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/87438" class="ulink" target="_top">#87438</a>)
</li>
<li class="listitem">
Update indices permissions to Enterprise Search service account <a href="https://github.com/elastic/elasticsearch/pull/88703" class="ulink" target="_top">#88703</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Autoscaling
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add processors to autoscaling capacity response <a href="https://github.com/elastic/elasticsearch/pull/87895" class="ulink" target="_top">#87895</a>
</li>
<li class="listitem">
Keep track of desired nodes status in cluster state <a href="https://github.com/elastic/elasticsearch/pull/87474" class="ulink" target="_top">#87474</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Cluster Coordination
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Deduplicate mappings in persisted cluster state <a href="https://github.com/elastic/elasticsearch/pull/88479" class="ulink" target="_top">#88479</a>
</li>
<li class="listitem">
Expose segment details in PCSS debug log <a href="https://github.com/elastic/elasticsearch/pull/87412" class="ulink" target="_top">#87412</a>
</li>
<li class="listitem">
Periodic warning for 1-node cluster w/ seed hosts <a href="https://github.com/elastic/elasticsearch/pull/88013" class="ulink" target="_top">#88013</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/85222" class="ulink" target="_top">#85222</a>)
</li>
<li class="listitem">
Report overall mapping size in cluster stats <a href="https://github.com/elastic/elasticsearch/pull/87556" class="ulink" target="_top">#87556</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Data streams
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Give doc-value-only mappings to numeric fields on metrics templates <a href="https://github.com/elastic/elasticsearch/pull/87100" class="ulink" target="_top">#87100</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adding the ability to register a <code class="literal">PeerFinderListener</code> to Coordinator <a href="https://github.com/elastic/elasticsearch/pull/88626" class="ulink" target="_top">#88626</a>
</li>
<li class="listitem">
Make Desired Nodes API operator-only <a href="https://github.com/elastic/elasticsearch/pull/87778" class="ulink" target="_top">#87778</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/87777" class="ulink" target="_top">#87777</a>)
</li>
<li class="listitem">
Support "dry run" mode for updating Desired Nodes <a href="https://github.com/elastic/elasticsearch/pull/88305" class="ulink" target="_top">#88305</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
FIPS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Log warning when hash function used by cache is not recommended in FIPS mode <a href="https://github.com/elastic/elasticsearch/pull/86740" class="ulink" target="_top">#86740</a>
</li>
<li class="listitem">
Log warning when hashers for stored API keys or service tokens are not compliant with FIPS <a href="https://github.com/elastic/elasticsearch/pull/87363" class="ulink" target="_top">#87363</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Optimize geogrid aggregations for singleton points <a href="https://github.com/elastic/elasticsearch/pull/87439" class="ulink" target="_top">#87439</a>
</li>
<li class="listitem">
Support cartesian shape with doc values <a href="https://github.com/elastic/elasticsearch/pull/88487" class="ulink" target="_top">#88487</a>
</li>
<li class="listitem">
Use a faster but less accurate log algorithm for computing Geotile Y coordinate <a href="https://github.com/elastic/elasticsearch/pull/87515" class="ulink" target="_top">#87515</a>
</li>
<li class="listitem">
Use faster maths to project WGS84 to mercator <a href="https://github.com/elastic/elasticsearch/pull/88231" class="ulink" target="_top">#88231</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add health user action for unhealthy SLM policy failure counts <a href="https://github.com/elastic/elasticsearch/pull/88523" class="ulink" target="_top">#88523</a>
</li>
<li class="listitem">
Adding a transport action to get cluster formation info <a href="https://github.com/elastic/elasticsearch/pull/87306" class="ulink" target="_top">#87306</a>
</li>
<li class="listitem">
Adding additional capability to the <code class="literal">master_is_stable</code> health indicator service <a href="https://github.com/elastic/elasticsearch/pull/87482" class="ulink" target="_top">#87482</a>
</li>
<li class="listitem">
Creating a transport action for the <code class="literal">CoordinationDiagnosticsService</code> <a href="https://github.com/elastic/elasticsearch/pull/87984" class="ulink" target="_top">#87984</a>
</li>
<li class="listitem">
Move the master stability logic into its own service separate from the <code class="literal">HealthIndicatorService</code> <a href="https://github.com/elastic/elasticsearch/pull/87672" class="ulink" target="_top">#87672</a>
</li>
<li class="listitem">
Polling cluster formation state for master-is-stable health indicator <a href="https://github.com/elastic/elasticsearch/pull/88397" class="ulink" target="_top">#88397</a>
</li>
<li class="listitem">
Remove cluster block preflight check from health api <a href="https://github.com/elastic/elasticsearch/pull/87520" class="ulink" target="_top">#87520</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/87464" class="ulink" target="_top">#87464</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add min_* conditions to rollover <a href="https://github.com/elastic/elasticsearch/pull/83345" class="ulink" target="_top">#83345</a>
</li>
<li class="listitem">
Track the count of failed invocations since last successful policy snapshot <a href="https://github.com/elastic/elasticsearch/pull/88398" class="ulink" target="_top">#88398</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve console exception messages <a href="https://github.com/elastic/elasticsearch/pull/87942" class="ulink" target="_top">#87942</a>
</li>
<li class="listitem">
Print full exception when console is non-interactive <a href="https://github.com/elastic/elasticsearch/pull/88297" class="ulink" target="_top">#88297</a>
</li>
<li class="listitem">
Stop making index read-only when executing force merge index lifecycle management action <a href="https://github.com/elastic/elasticsearch/pull/81162" class="ulink" target="_top">#81162</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/81162" class="ulink" target="_top">#81162</a>)
</li>
<li class="listitem">
Stream input and output support for optional collections <a href="https://github.com/elastic/elasticsearch/pull/88127" class="ulink" target="_top">#88127</a>
</li>
<li class="listitem">
Update version of internal http client <a href="https://github.com/elastic/elasticsearch/pull/87491" class="ulink" target="_top">#87491</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Catch an exception when formatting a string fails <a href="https://github.com/elastic/elasticsearch/pull/87132" class="ulink" target="_top">#87132</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Scripting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Script: Add Metadata to ingest context <a href="https://github.com/elastic/elasticsearch/pull/87309" class="ulink" target="_top">#87309</a>
</li>
<li class="listitem">
Script: Metadata for update context <a href="https://github.com/elastic/elasticsearch/pull/88333" class="ulink" target="_top">#88333</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Settings
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Convert disk watermarks to RelativeByteSizeValues <a href="https://github.com/elastic/elasticsearch/pull/88719" class="ulink" target="_top">#88719</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow pipeline processor to ignore missing pipelines <a href="https://github.com/elastic/elasticsearch/pull/87354" class="ulink" target="_top">#87354</a>
</li>
<li class="listitem">
Move the ingest attachment processor to the default distribution <a href="https://github.com/elastic/elasticsearch/pull/87989" class="ulink" target="_top">#87989</a>
</li>
<li class="listitem">
Only perform <code class="literal">ensureNoSelfReferences</code> check during ingest when needed <a href="https://github.com/elastic/elasticsearch/pull/87352" class="ulink" target="_top">#87352</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/87335" class="ulink" target="_top">#87335</a>)
</li>
<li class="listitem">
Removing <code class="literal">BouncyCastle</code> dependencies from ingest-attachment plugin <a href="https://github.com/elastic/elasticsearch/pull/88031" class="ulink" target="_top">#88031</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add authorization info to ML config listings <a href="https://github.com/elastic/elasticsearch/pull/87884" class="ulink" target="_top">#87884</a>
</li>
<li class="listitem">
Add deployed native models to <code class="literal">inference_stats</code> in trained model stats response <a href="https://github.com/elastic/elasticsearch/pull/88187" class="ulink" target="_top">#88187</a>
</li>
<li class="listitem">
Add inference cache hit count to inference node stats <a href="https://github.com/elastic/elasticsearch/pull/88807" class="ulink" target="_top">#88807</a>
</li>
<li class="listitem">
Add new <code class="literal">cache_size</code> parameter to <code class="literal">trained_model</code> deployments API <a href="https://github.com/elastic/elasticsearch/pull/88450" class="ulink" target="_top">#88450</a>
</li>
<li class="listitem">
Expand allowed NER labels to be any I-O-B tagged labels <a href="https://github.com/elastic/elasticsearch/pull/87091" class="ulink" target="_top">#87091</a>
</li>
<li class="listitem">
Improve scalability of NLP models <a href="https://github.com/elastic/elasticsearch/pull/87366" class="ulink" target="_top">#87366</a>
</li>
<li class="listitem">
Indicate overall deployment failure if all node routes are failed <a href="https://github.com/elastic/elasticsearch/pull/88378" class="ulink" target="_top">#88378</a>
</li>
<li class="listitem">
New <code class="literal">frequent_items</code> aggregation <a href="https://github.com/elastic/elasticsearch/pull/83055" class="ulink" target="_top">#83055</a>
</li>
<li class="listitem">
Fairer application of size penalty for model selection for training classification and regression models <a href="https://github.com/elastic/ml-cpp/pull/2291" class="ulink" target="_top">#2291</a>
</li>
<li class="listitem">
Accelerate training for data frame analytics by skipping fine parameter tuning if it is unnecessary <a href="https://github.com/elastic/ml-cpp/pull/2298" class="ulink" target="_top">#2298</a>
</li>
<li class="listitem">
Address some causes of high runtimes training regression and classification models on large data sets with many features <a href="https://github.com/elastic/ml-cpp/pull/2332" class="ulink" target="_top">#2332</a>
</li>
<li class="listitem">
Add caching for PyTorch inference <a href="https://github.com/elastic/ml-cpp/pull/2305" class="ulink" target="_top">#2305</a>
</li>
<li class="listitem">
Improve accuracy of anomaly detection median estimation <a href="https://github.com/elastic/ml-cpp/pull/2367" class="ulink" target="_top">#2367</a> (issue: <a href="https://github.com/elastic/ml-cpp/issues/2364" class="ulink" target="_top">#2364</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable synthetic source support on constant keyword fields <a href="https://github.com/elastic/elasticsearch/pull/88603" class="ulink" target="_top">#88603</a>
</li>
<li class="listitem">
Speed up <code class="literal">NumberFieldMapper</code> <a href="https://github.com/elastic/elasticsearch/pull/85688" class="ulink" target="_top">#85688</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
JvmService use SingleObjectCache <a href="https://github.com/elastic/elasticsearch/pull/87236" class="ulink" target="_top">#87236</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow start cluster with unreachable remote clusters <a href="https://github.com/elastic/elasticsearch/pull/87298" class="ulink" target="_top">#87298</a>
</li>
<li class="listitem">
Increase <code class="literal">http.max_header_size</code> default to 16kb <a href="https://github.com/elastic/elasticsearch/pull/88725" class="ulink" target="_top">#88725</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88501" class="ulink" target="_top">#88501</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Query Languages
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for VERSION field type in SQL and EQL <a href="https://github.com/elastic/elasticsearch/pull/87590" class="ulink" target="_top">#87590</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/83375" class="ulink" target="_top">#83375</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Rollup
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[TSDB] Add Kahan support to downsampling summation <a href="https://github.com/elastic/elasticsearch/pull/87554" class="ulink" target="_top">#87554</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
SQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Implement support for partial search results in SQL CLI <a href="https://github.com/elastic/elasticsearch/pull/86982" class="ulink" target="_top">#86982</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86082" class="ulink" target="_top">#86082</a>)
</li>
<li class="listitem">
Update Tableau connector to use connection dialog v2 <a href="https://github.com/elastic/elasticsearch/pull/88462" class="ulink" target="_top">#88462</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add mapping stats for indexed <code class="literal">dense_vectors</code> <a href="https://github.com/elastic/elasticsearch/pull/86859" class="ulink" target="_top">#86859</a>
</li>
<li class="listitem">
Improve error when sorting on incompatible types <a href="https://github.com/elastic/elasticsearch/pull/88399" class="ulink" target="_top">#88399</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/73146" class="ulink" target="_top">#73146</a>)
</li>
<li class="listitem">
Support kNN vectors in disk usage action <a href="https://github.com/elastic/elasticsearch/pull/88785" class="ulink" target="_top">#88785</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/84801" class="ulink" target="_top">#84801</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add setting for <code class="literal">tcp_keepalive</code> for oidc back-channel <a href="https://github.com/elastic/elasticsearch/pull/87868" class="ulink" target="_top">#87868</a>
</li>
<li class="listitem">
Support <code class="literal">run_as</code> another user when granting API keys <a href="https://github.com/elastic/elasticsearch/pull/88335" class="ulink" target="_top">#88335</a>
</li>
<li class="listitem">
Support exists query for API key query <a href="https://github.com/elastic/elasticsearch/pull/87229" class="ulink" target="_top">#87229</a>
</li>
<li class="listitem">
Updatable API keys - REST API spec and tests <a href="https://github.com/elastic/elasticsearch/pull/88270" class="ulink" target="_top">#88270</a>
</li>
<li class="listitem">
Updatable API keys - noop check <a href="https://github.com/elastic/elasticsearch/pull/88346" class="ulink" target="_top">#88346</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
INFO logging of snapshot restore and completion <a href="https://github.com/elastic/elasticsearch/pull/88257" class="ulink" target="_top">#88257</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/86610" class="ulink" target="_top">#86610</a>)
</li>
<li class="listitem">
Make snapshot deletes not block the repository during data blob deletes <a href="https://github.com/elastic/elasticsearch/pull/86514" class="ulink" target="_top">#86514</a>
</li>
<li class="listitem">
Retry after all S3 get failures that made progress <a href="https://github.com/elastic/elasticsearch/pull/88015" class="ulink" target="_top">#88015</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/87243" class="ulink" target="_top">#87243</a>)
</li>
<li class="listitem">
Speed up creating new <code class="literal">IndexMetaDataGenerations</code> without removed snapshots <a href="https://github.com/elastic/elasticsearch/pull/88344" class="ulink" target="_top">#88344</a>
</li>
<li class="listitem">
Update HDFS Repository to HDFS 3.3.3 <a href="https://github.com/elastic/elasticsearch/pull/88039" class="ulink" target="_top">#88039</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Stats
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Sort ingest pipeline stats by use <a href="https://github.com/elastic/elasticsearch/pull/88035" class="ulink" target="_top">#88035</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TLS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add issuer to GET _ssl/certificates <a href="https://github.com/elastic/elasticsearch/pull/88445" class="ulink" target="_top">#88445</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add authorization info to transform config listings <a href="https://github.com/elastic/elasticsearch/pull/87570" class="ulink" target="_top">#87570</a>
</li>
<li class="listitem">
Implement per-transform num_failure_retries setting <a href="https://github.com/elastic/elasticsearch/pull/87361" class="ulink" target="_top">#87361</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="feature-8.4.0"></a>New features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/8.4.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support updates of API key attributes (single operation route) <a href="https://github.com/elastic/elasticsearch/pull/88186" class="ulink" target="_top">#88186</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Master stability health indicator part 1 (when a master has been seen recently) <a href="https://github.com/elastic/elasticsearch/pull/86524" class="ulink" target="_top">#86524</a>
</li>
<li class="listitem">
Remove help_url,rename summary to symptom, and <code class="literal">user_actions</code> to diagnosis <a href="https://github.com/elastic/elasticsearch/pull/88553" class="ulink" target="_top">#88553</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/88474" class="ulink" target="_top">#88474</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
File Settings Service <a href="https://github.com/elastic/elasticsearch/pull/88329" class="ulink" target="_top">#88329</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Stable logging API - the basic use case <a href="https://github.com/elastic/elasticsearch/pull/86612" class="ulink" target="_top">#86612</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make composite aggs in datafeeds Generally Available <a href="https://github.com/elastic/elasticsearch/pull/88589" class="ulink" target="_top">#88589</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <em>mode</em> option to <code class="literal">_source</code> field mapper <a href="https://github.com/elastic/elasticsearch/pull/88211" class="ulink" target="_top">#88211</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDB
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
TSDB: Implement downsampling ILM Action for time-series indices <a href="https://github.com/elastic/elasticsearch/pull/87269" class="ulink" target="_top">#87269</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/68609" class="ulink" target="_top">#68609</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Integrate ANN into <code class="literal">_search</code> endpoint <a href="https://github.com/elastic/elasticsearch/pull/88694" class="ulink" target="_top">#88694</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/87625" class="ulink" target="_top">#87625</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="upgrade-8.4.0"></a>Upgrades<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.7/docs/reference/release-notes/8.4.0.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to Log4J 2.18.0 <a href="https://github.com/elastic/elasticsearch/pull/88237" class="ulink" target="_top">#88237</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to Netty 4.1.77 <a href="https://github.com/elastic/elasticsearch/pull/86630" class="ulink" target="_top">#86630</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-8.4.1.html">« Elasticsearch version 8.4.1</a>
</span>
<span class="next">
<a href="release-notes-8.3.3.html">Elasticsearch version 8.3.3 »</a>
</span>
</div>
</div>
</body>
</html>
