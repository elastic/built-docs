<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Delete | Elasticsearch Guide [8.x] | Elastic</title>
<meta class="elastic" name="content" content="Delete | Elasticsearch Guide [8.x]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.x]"/>
<link rel="up" href="ilm-actions.html" title="Index lifecycle actions"/>
<link rel="prev" href="ilm-allocate.html" title="Allocate"/>
<link rel="next" href="ilm-forcemerge.html" title="Force merge"/>
<meta class="elastic" name="product_version" content="8.x"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="ilm-allocate.html">« Allocate</a>
</span>
<span class="next">
<a href="ilm-forcemerge.html">Force merge »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="data-management.html">Data management</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ilm-actions.html">Index lifecycle actions</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Delete</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/ilm/actions/ilm-delete.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/reference/elasticsearch/index-lifecycle-actions/ilm-delete">latest documentation</a>.
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="ilm-delete"></a>Delete</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/ilm/actions/ilm-delete.asciidoc">edit</a></div>
</div></div></div>
<p>Phases allowed: delete.</p>
<p>Permanently removes the index.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ilm-delete-options"></a>Options</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/ilm/actions/ilm-delete.asciidoc">edit</a></div>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">delete_searchable_snapshot</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
Deletes the searchable snapshot created in a previous phase.
Defaults to <code class="literal">true</code>.
This option is applicable when the <a class="xref" href="ilm-searchable-snapshot.html" title="Searchable snapshot">searchable
snapshot</a> action is used in any previous phase.
</p>
<p>If you set this option to <code class="literal">false</code>, use the <a class="xref" href="delete-snapshot-api.html" title="Delete snapshot API">Delete
snapshots API</a> to remove searchable snapshots from your snapshot repository when
they are no longer needed.</p>
<p>If you manually delete an index before the Index lifecycle management delete phase runs, then
ILM will not delete the underlying searchable snapshot. Use the
<a class="xref" href="delete-snapshot-api.html" title="Delete snapshot API">Delete snapshots API</a> to remove the searchable snapshot from
your snapshot repository when it is no longer needed.</p>
<p>See <a class="xref" href="searchable-snapshots.html#searchable-snapshots-reliability" title="Reliability of searchable snapshots">Reliability of searchable snapshots</a> for
further information about deleting searchable snapshots.</p>
</dd>
</dl>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>If a policy with a searchable snapshot action is applied on an existing searchable snapshot index,
the snapshot backing this index will NOT be deleted because it was not created by this policy. If you want
to clean this snapshot, please delete it manually after the index is deleted using the <a class="xref" href="delete-snapshot-api.html" title="Delete snapshot API">delete snapshot API</a>, you
can find the repository and snapshot name using the <a class="xref" href="indices-get-index.html" title="Get index API">get index API</a>.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="ilm-delete-action-ex"></a>Example</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/ilm/actions/ilm-delete.asciidoc">edit</a></div>
</div></div></div>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.ilm.put_lifecycle(
    name="my_policy",
    policy={
        "phases": {
            "delete": {
                "actions": {
                    "delete": {}
                }
            }
        }
    },
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.ilm.put_lifecycle(
  policy: 'my_policy',
  body: {
    policy: {
      phases: {
        delete: {
          actions: {
            delete: {}
          }
        }
      }
    }
  }
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.ilm.putLifecycle({
  name: "my_policy",
  policy: {
    phases: {
      delete: {
        actions: {
          delete: {},
        },
      },
    },
  },
});
console.log(response);</pre>
</div>
<a id="053497b6960f80fd7b005b7c6d54358f"></a>
<div class="pre_wrapper lang-console default has-python has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby has-js">PUT _ilm/policy/my_policy
{
  "policy": {
    "phases": {
      "delete": {
        "actions": {
          "delete" : { }
        }
      }
    }
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby has-js" data-snippet="snippets/2105.console"></div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ilm-allocate.html">« Allocate</a>
</span>
<span class="next">
<a href="ilm-forcemerge.html">Force merge »</a>
</span>
</div>
</body>
</html>
