<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Migrating to 8.17 | Elasticsearch Guide [8.x] | Elastic</title>
<meta class="elastic" name="content" content="Migrating to 8.17 | Elasticsearch Guide [8.x]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.x]"/>
<link rel="up" href="breaking-changes.html" title="Migration guide"/>
<link rel="prev" href="migrating-8.18.html" title="Migrating to 8.18"/>
<link rel="next" href="migrating-8.16.html" title="Migrating to 8.16"/>
<meta class="elastic" name="product_version" content="8.x"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="migrating-8.18.html">« Migrating to 8.18</a>
</span>
<span class="next">
<a href="migrating-8.16.html">Migrating to 8.16 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="breaking-changes.html">Migration guide</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Migrating to 8.17</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/migration/migrate_8_17.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="migrating-8.17"></a>Migrating to 8.17</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/migration/migrate_8_17.asciidoc">edit</a></div>
</div></div></div>

<p>This section discusses the changes that you need to be aware of when migrating
your application to Elasticsearch 8.17.</p>
<p>See also <a class="xref" href="release-highlights.html" title="What&#8217;s new in 8.17"><em>What&#8217;s new in 8.17</em></a> and <a class="xref" href="es-release-notes.html" title="Release notes">Release notes</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Coming in 8.17.0.</p>
</div>
</div>
<div class="position-relative"><h3><a id="breaking-changes-8.17"></a>Breaking changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/migration/migrate_8_17.asciidoc">edit</a></div>
<p>There are no breaking changes in Elasticsearch 8.17.</p>
<div class="position-relative"><h3><a id="deprecated-8.17"></a>Deprecations</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/migration/migrate_8_17.asciidoc">edit</a></div>
<p>The following functionality has been deprecated in Elasticsearch 8.17
and will be removed in a future version.
While this won&#8217;t have an immediate impact on your applications,
we strongly encourage you to take the described steps to update your code
after upgrading to 8.17.</p>
<p>To find out if you are using any deprecated functionality,
enable <a class="xref" href="logging.html#deprecation-logging" title="Deprecation logging">deprecation logging</a>.</p>
<div class="position-relative"><h4><a id="deprecations_817_mapping"></a>Mapping deprecations</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/migration/migrate_8_17.asciidoc">edit</a></div>
<details id="deprecate_source_mode_in_mappings">
<summary class="title">Deprecate <code class="literal">_source.mode</code> in mappings</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Configuring <code class="literal">_source.mode</code> in mappings is deprecated and will be removed in future versions. Use <code class="literal">index.mapping.source.mode</code> index setting instead.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Use <code class="literal">index.mapping.source.mode</code> index setting instead</p>
</div>
</details>
<div class="position-relative"><h4><a id="deprecations_817_rest_api"></a>REST API deprecations</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/migration/migrate_8_17.asciidoc">edit</a></div>
<details id="format_of_non_detailed_error_responses_changing_in_v9">
<summary class="title">The format of non-detailed error responses is changing in v9</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
When an error occurs when processing a request, Elasticsearch returns information on that error in the REST response.
If <code class="literal">http:detailed_errors.enabled: false</code> is specified in node settings with the v8 REST API and below,
the format of this response changes significantly.
Starting with the v9 REST API, the JSON structure of responses with errors when the <code class="literal">http.detailed_errors.enabled: false</code> option is set
will be the same as when detailed errors are enabled (which is the default).
To keep using the existing format for non-detailed error responses, use the v8 REST API.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
If you have set <code class="literal">http.detailed_errors.enabled: false</code> (the default is <code class="literal">true</code>)
the structure of JSON when any exceptions occur will change with the v9 REST API.
To keep using the existing format, use the v8 REST API.</p>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="migrating-8.18.html">« Migrating to 8.18</a>
</span>
<span class="next">
<a href="migrating-8.16.html">Migrating to 8.16 »</a>
</span>
</div>
</body>
</html>
