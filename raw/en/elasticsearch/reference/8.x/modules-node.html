<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Node settings | Elasticsearch Guide [8.x] | Elastic</title>
<meta class="elastic" name="content" content="Node settings | Elasticsearch Guide [8.x]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.x]"/>
<link rel="up" href="settings.html" title="Configuring Elasticsearch"/>
<link rel="prev" href="monitoring-settings.html" title="Monitoring settings in Elasticsearch"/>
<link rel="next" href="modules-network.html" title="Networking"/>
<meta class="elastic" name="product_version" content="8.x"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="monitoring-settings.html">« Monitoring settings in Elasticsearch</a>
</span>
<span class="next">
<a href="modules-network.html">Networking »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="settings.html">Configuring Elasticsearch</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Node settings</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/modules/node.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="modules-node"></a>Node settings</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/modules/node.asciidoc">edit</a></div>
</div></div></div>
<p>Any time that you start an instance of Elasticsearch, you are starting a <em>node</em>. A
collection of connected nodes is called a <a class="xref" href="modules-cluster.html" title="Cluster-level shard allocation and routing settings">cluster</a>. If you
are running a single node of Elasticsearch, then you have a cluster of one node.</p>
<p>Every node in the cluster can handle <a class="xref" href="modules-network.html" title="Networking">HTTP and transport</a>
traffic by default. The transport layer is used exclusively for communication
between nodes; the HTTP layer is used by REST clients.</p>
<p><a id="modules-node-description"></a>All nodes know about all the other nodes in the cluster and can forward client
requests to the appropriate node.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>The performance of an Elasticsearch node is often limited by the performance of the underlying storage.
Review our recommendations for optimizing your storage for <a class="xref" href="tune-for-indexing-speed.html#indexing-use-faster-hardware" title="Use faster hardware">indexing</a> and
<a class="xref" href="tune-for-search-speed.html#search-use-faster-hardware" title="Use faster hardware">search</a>.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="node-name-settings"></a>Node name setting</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/modules/node.asciidoc">edit</a></div>
</div></div></div>
<p>Elasticsearch uses <code class="literal">node.name</code> as a human-readable identifier for a
particular instance of Elasticsearch. This name is included in the response
of many APIs. The node name defaults to the hostname of the machine when
Elasticsearch starts, but can be configured explicitly in
<code class="literal">elasticsearch.yml</code>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.name: prod-data-2</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="node-roles"></a>Node role settings</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/modules/node.asciidoc">edit</a></div>
</div></div></div>
<p>You define a node&#8217;s roles by setting <code class="literal">node.roles</code> in <code class="literal">elasticsearch.yml</code>. If you
set <code class="literal">node.roles</code>, the node is only assigned the roles you specify. If you don&#8217;t
set <code class="literal">node.roles</code>, the node is assigned the following roles:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a id="master-node"></a><code class="literal">master</code>
</li>
<li class="listitem">
<a id="data-node"></a><code class="literal">data</code>
</li>
<li class="listitem">
<code class="literal">data_content</code>
</li>
<li class="listitem">
<code class="literal">data_hot</code>
</li>
<li class="listitem">
<code class="literal">data_warm</code>
</li>
<li class="listitem">
<code class="literal">data_cold</code>
</li>
<li class="listitem">
<code class="literal">data_frozen</code>
</li>
<li class="listitem">
<code class="literal">ingest</code>
</li>
<li class="listitem">
<a id="ml-node"></a><code class="literal">ml</code>
</li>
<li class="listitem">
<code class="literal">remote_cluster_client</code>
</li>
<li class="listitem">
<a id="transform-node"></a><code class="literal">transform</code>
</li>
</ul>
</div>
<p>The following additional roles are available:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">voting_only</code>
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you set <code class="literal">node.roles</code>, ensure you specify every node role your cluster needs.
Every cluster requires the following node roles:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">master</code>
</li>
<li class="listitem">
<p></p>
<p><code class="literal">data_content</code> and <code class="literal">data_hot</code><br>
OR<br>
<code class="literal">data</code></p>
</li>
</ul>
</div>
<p>Some Elastic Stack features also require specific node roles:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Cross-cluster search and cross-cluster replication require the <code class="literal">remote_cluster_client</code> role.
</li>
<li class="listitem">
Stack Monitoring and ingest pipelines require the <code class="literal">ingest</code> role.
</li>
<li class="listitem">
Fleet, the Elastic Security app, and transforms require the <code class="literal">transform</code> role.
The <code class="literal">remote_cluster_client</code> role is also required to use cross-cluster search with these
features.
</li>
<li class="listitem">
Machine learning features, such as anomaly detection, require the <code class="literal">ml</code> role.
</li>
</ul>
</div>
</div>
</div>
<p>As the cluster grows and in particular if you have large machine learning jobs or
continuous transforms, consider separating dedicated master-eligible nodes from
dedicated data nodes, machine learning nodes, and transform nodes.</p>
<p>To learn more about the available node roles, see <a class="xref" href="node-roles-overview.html" title="Node roles"><em>Node roles</em></a>.</p>
<div class="position-relative"><h3><a id="_node_data_path_settings"></a>Node data path settings</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/modules/node.asciidoc">edit</a></div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="data-path"></a><code class="literal">path.data</code></h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/modules/node.asciidoc">edit</a></div>
</div></div></div>
<p>Every data and master-eligible node requires access to a data directory where
shards and index and cluster metadata will be stored. The <code class="literal">path.data</code> defaults
to <code class="literal">$ES_HOME/data</code> but can be configured in the <code class="literal">elasticsearch.yml</code> config
file an absolute path or a path relative to <code class="literal">$ES_HOME</code> as follows:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">path.data:  /var/elasticsearch/data</pre>
</div>
<p>Like all node settings, it can also be specified on the command line as:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">./bin/elasticsearch -Epath.data=/var/elasticsearch/data</pre>
</div>
<p>The contents of the <code class="literal">path.data</code> directory must persist across restarts, because
this is where your data is stored. Elasticsearch requires the filesystem to act as if it
were backed by a local disk, but this means that it will work correctly on
properly-configured remote block devices (e.g. a SAN) and remote filesystems
(e.g. NFS) as long as the remote storage behaves no differently from local
storage. You can run multiple Elasticsearch nodes on the same filesystem, but each Elasticsearch
node must have its own data path.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>When using the <code class="literal">.zip</code> or <code class="literal">.tar.gz</code> distributions, the <code class="literal">path.data</code> setting
should be configured to locate the data directory outside the Elasticsearch home
directory, so that the home directory can be deleted without deleting your data!
The RPM and Debian distributions do this for you already.</p>
</div>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Don&#8217;t modify anything within the data directory or run processes that
might interfere with its contents. If something other than Elasticsearch modifies the
contents of the data directory, then Elasticsearch may fail, reporting corruption or
other data inconsistencies, or may appear to work correctly having silently
lost some of your data. Don&#8217;t attempt to take filesystem backups of the data
directory; there is no supported way to restore such a backup. Instead, use
<a class="xref" href="snapshot-restore.html" title="Snapshot and restore">Snapshot and restore</a> to take backups safely. Don&#8217;t run virus scanners on the
data directory. A virus scanner can prevent Elasticsearch from working correctly and may
modify the contents of the data directory. The data directory contains no
executables so a virus scan will only find false positives.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="custom-node-attributes"></a>Custom node attributes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/modules/node.asciidoc">edit</a></div>
</div></div></div>
<p>If needed, you can add custom attributes to a node. These attributes can be used to <a class="xref" href="modules-cluster.html#cluster-routing-settings" title="Cluster routing settings">filter which nodes a shard can be allocated to</a>, or to group nodes together for <a class="xref" href="shard-allocation-awareness.html" title="Shard allocation awareness">shard allocation awareness</a>.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can also set a node attribute using the <code class="literal">-E</code> command line argument when you start a node:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">./bin/elasticsearch -Enode.attr.rack_id=rack_one</pre>
</div>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">node.attr.&lt;attribute-name&gt;</code>
</span>
</dt>
<dd>
(<a class="xref" href="settings.html#dynamic-cluster-setting">Dynamic</a>)
A custom attribute that you can assign to a node. For example, you might assign a <code class="literal">rack_id</code> attribute to each node to ensure that primary and replica shards are not allocated on the same rack. You can specify multiple attributes as a comma-separated list.
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="other-node-settings"></a>Other node settings</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.x/docs/reference/modules/node.asciidoc">edit</a></div>
<p>More node settings can be found in <a class="xref" href="settings.html" title="Configuring Elasticsearch"><em>Configuring Elasticsearch</em></a> and <a class="xref" href="important-settings.html" title="Important Elasticsearch configuration">Important Elasticsearch configuration</a>,
including:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="misc-cluster-settings.html#cluster-name" title="Cluster name setting"><code class="literal">cluster.name</code></a>
</li>
<li class="listitem">
<a class="xref" href="important-settings.html#node-name" title="Node name setting"><code class="literal">node.name</code></a>
</li>
<li class="listitem">
<a class="xref" href="modules-network.html" title="Networking">network settings</a>
</li>
</ul>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="monitoring-settings.html">« Monitoring settings in Elasticsearch</a>
</span>
<span class="next">
<a href="modules-network.html">Networking »</a>
</span>
</div>
</body>
</html>
