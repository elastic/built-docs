<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Node roles | Elasticsearch Guide [8.x] | Elastic</title>
<meta class="elastic" name="content" content="Node roles | Elasticsearch Guide [8.x]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.x]"/>
<link rel="up" href="_data_store_architecture.html" title="Data store architecture"/>
<link rel="prev" href="nodes-shards.html" title="Nodes and shards"/>
<link rel="next" href="docs-replication.html" title="Reading and writing documents"/>
<meta class="elastic" name="product_version" content="8.x"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="nodes-shards.html">« Nodes and shards</a>
</span>
<span class="next">
<a href="docs-replication.html">Reading and writing documents »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="_data_store_architecture.html">Data store architecture</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Node roles</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/deploy-manage/distributed-architecture/clusters-nodes-shards/node-roles">latest documentation</a>.
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="node-roles-overview"></a>Node roles</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
</div></div></div>
<p>Any time that you start an instance of Elasticsearch, you are starting a <em>node</em>. A
collection of connected nodes is called a <a class="xref" href="modules-cluster.html" title="Cluster-level shard allocation and routing settings">cluster</a>. If you
are running a single node of Elasticsearch, then you have a cluster of one node. All nodes know about all the other nodes in the cluster and can forward client
requests to the appropriate node.</p>
<p>Each node performs one or more roles. Roles control the behavior of the node in the cluster.</p>
<div class="position-relative"><h3><a id="set-node-roles"></a>Set node roles</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>You define a node&#8217;s roles by setting <code class="literal">node.roles</code> in <a class="xref" href="settings.html" title="Configuring Elasticsearch"><code class="literal">elasticsearch.yml</code></a>. If you set <code class="literal">node.roles</code>, the node is only assigned the roles you specify. If you don&#8217;t set <code class="literal">node.roles</code>, the node is assigned the following roles:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">master</code>
</li>
<li class="listitem">
<code class="literal">data</code>
</li>
<li class="listitem">
<code class="literal">data_content</code>
</li>
<li class="listitem">
<code class="literal">data_hot</code>
</li>
<li class="listitem">
<code class="literal">data_warm</code>
</li>
<li class="listitem">
<code class="literal">data_cold</code>
</li>
<li class="listitem">
<code class="literal">data_frozen</code>
</li>
<li class="listitem">
<code class="literal">ingest</code>
</li>
<li class="listitem">
<code class="literal">ml</code>
</li>
<li class="listitem">
<code class="literal">remote_cluster_client</code>
</li>
<li class="listitem">
<code class="literal">transform</code>
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you set <code class="literal">node.roles</code>, ensure you specify every node role your cluster needs.
Every cluster requires the following node roles:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">master</code>
</li>
<li class="listitem">
<p></p>
<p><code class="literal">data_content</code> and <code class="literal">data_hot</code><br>
OR<br>
<code class="literal">data</code></p>
</li>
</ul>
</div>
<p>Some Elastic Stack features also require specific node roles:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Cross-cluster search and cross-cluster replication require the <code class="literal">remote_cluster_client</code> role.
</li>
<li class="listitem">
Stack Monitoring and ingest pipelines require the <code class="literal">ingest</code> role.
</li>
<li class="listitem">
Fleet, the Elastic Security app, and transforms require the <code class="literal">transform</code> role.
The <code class="literal">remote_cluster_client</code> role is also required to use cross-cluster search with these
features.
</li>
<li class="listitem">
Machine learning features, such as anomaly detection, require the <code class="literal">ml</code> role.
</li>
</ul>
</div>
</div>
</div>
<p>As the cluster grows and in particular if you have large machine learning jobs or
continuous transforms, consider separating dedicated master-eligible nodes from
dedicated data nodes, machine learning nodes, and transform nodes.</p>
<div class="position-relative"><h3><a id="change-node-role"></a>Change the role of a node</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Each data node maintains the following data on disk:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
the shard data for every shard allocated to that node,
</li>
<li class="listitem">
the index metadata corresponding with every shard allocated to that node, and
</li>
<li class="listitem">
the cluster-wide metadata, such as settings and index templates.
</li>
</ul>
</div>
<p>Similarly, each master-eligible node maintains the following data on disk:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
the index metadata for every index in the cluster, and
</li>
<li class="listitem">
the cluster-wide metadata, such as settings and index templates.
</li>
</ul>
</div>
<p>Each node checks the contents of its data path at startup. If it discovers
unexpected data then it will refuse to start. This is to avoid importing
unwanted <a class="xref" href="modules-gateway.html#dangling-indices">dangling indices</a> which can lead
to a red cluster health. To be more precise, nodes without the <code class="literal">data</code> role will
refuse to start if they find any shard data on disk at startup, and nodes
without both the <code class="literal">master</code> and <code class="literal">data</code> roles will refuse to start if they have any
index metadata on disk at startup.</p>
<p>It is possible to change the roles of a node by adjusting its
<code class="literal">elasticsearch.yml</code> file and restarting it. This is known as <em>repurposing</em> a
node. In order to satisfy the checks for unexpected data described above, you
must perform some extra steps to prepare a node for repurposing when starting
the node without the <code class="literal">data</code> or <code class="literal">master</code> roles.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If you want to repurpose a data node by removing the <code class="literal">data</code> role then you
should first use an <a class="xref" href="modules-cluster.html#cluster-shard-allocation-filtering" title="Cluster-level shard allocation filtering">allocation filter</a> to safely
migrate all the shard data onto other nodes in the cluster.
</li>
<li class="listitem">
If you want to repurpose a node to have neither the <code class="literal">data</code> nor <code class="literal">master</code> roles
then it is simplest to start a brand-new node with an empty data path and the
desired roles. You may find it safest to use an
<a class="xref" href="modules-cluster.html#cluster-shard-allocation-filtering" title="Cluster-level shard allocation filtering">allocation filter</a> to migrate the shard data elsewhere
in the cluster first.
</li>
</ul>
</div>
<p>If it is not possible to follow these extra steps then you may be able to use
the <a class="xref" href="node-tool.html#node-tool-repurpose" title="Changing the role of a node"><code class="literal">elasticsearch-node repurpose</code></a> tool to delete any
excess data that prevents a node from starting.</p>
<div class="position-relative"><h3><a id="node-roles-list"></a>Available node roles</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>The following is a list of the roles that a node can perform in a cluster. A node can have one or more roles.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="node-roles-overview.html#master-node-role" title="Master-eligible node">Master-eligible node</a> (<code class="literal">master</code>): A node that is eligible to be
<a class="xref" href="modules-discovery.html" title="Discovery and cluster formation">elected as the <em>master</em> node</a>, which controls the cluster.
</li>
<li class="listitem">
<a class="xref" href="node-roles-overview.html#data-node-role" title="Data nodes">Data node</a> (<code class="literal">data</code>, <code class="literal">data_content</code>, <code class="literal">data_hot</code>, <code class="literal">data_warm</code>, <code class="literal">data_cold</code>, <code class="literal">data_frozen</code>): A node that has one of several data roles. Data nodes hold data and perform data related operations such as CRUD, search, and aggregations. You might use multiple data roles in a cluster so you can implement <a class="xref" href="data-tiers.html" title="Data tiers">data tiers</a>.
</li>
<li class="listitem">
<a class="xref" href="node-roles-overview.html#node-ingest-node" title="Ingest node">Ingest node</a> (<code class="literal">ingest</code>): Ingest nodes are able to apply an <a class="xref" href="ingest.html" title="Ingest pipelines">ingest pipeline</a> to a document in order to transform and enrich the document before indexing. With a heavy ingest load, it makes sense to use dedicated ingest nodes and to not include the <code class="literal">ingest</code> role from nodes that have the <code class="literal">master</code> or <code class="literal">data</code> roles.
</li>
<li class="listitem">
<a class="xref" href="node-roles-overview.html#remote-node" title="Remote-eligible node">Remote-eligible node</a> (<code class="literal">remote_cluster_client</code>): A node that is eligible to act as a remote client.
</li>
<li class="listitem">
<a class="xref" href="node-roles-overview.html#ml-node-role" title="Machine learning node">Machine learning node</a> (<code class="literal">ml</code>): A node that can run machine learning features. If you want to use machine learning features, there must be at least one machine learning node in your cluster. For more information, see <a class="xref" href="ml-settings.html" title="Machine learning settings in Elasticsearch">Machine learning settings</a> and <a href="/guide/en/machine-learning/8.x/index.html" class="ulink" target="_top">Machine learning in the Elastic Stack</a>.
</li>
<li class="listitem">
<a class="xref" href="node-roles-overview.html#transform-node-role" title="Transform node">Transform node</a> (<code class="literal">transform</code>): A node that can perform transforms. If you want to use transforms, there must be at least one transform node in your cluster. For more information, see <a class="xref" href="transform-settings.html" title="Transforms settings in Elasticsearch">Transforms settings</a> and <a class="xref" href="transforms.html" title="Transforming data"><em>Transforming data</em></a>.
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p class="admon_title">Coordinating node<a id="coordinating-node"></a></p>
<p>Requests like search requests or bulk-indexing requests may involve data held
on different data nodes. A search request, for example, is executed in two
phases which are coordinated by the node which receives the client request&#8201;&#8212;&#8201;the <em>coordinating node</em>.</p>
<p>In the <em>scatter</em> phase, the coordinating node forwards the request to the data
nodes which hold the data. Each data node executes the request locally and
returns its results to the coordinating node. In the <em>gather</em> phase, the
coordinating node reduces each data node&#8217;s results into a single global
result set.</p>
<p>Every node is implicitly a coordinating node. This means that a node that has
an explicit empty list of roles in the <code class="literal">node.roles</code> setting will only act as a coordinating
node, which cannot be disabled. As a result, such a node needs to have enough
memory and CPU in order to deal with the gather phase.</p>
</div>
</div>
<div class="position-relative"><h4><a id="master-node-role"></a>Master-eligible node</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>The master node is responsible for lightweight cluster-wide actions such as
creating or deleting an index, tracking which nodes are part of the cluster,
and deciding which shards to allocate to which nodes. It is important for
cluster health to have a stable master node.</p>
<p>Any master-eligible node that is not a <a class="xref" href="node-roles-overview.html#voting-only-node" title="Voting-only master-eligible node">voting-only node</a> may
be elected to become the master node by the <a class="xref" href="modules-discovery.html" title="Discovery and cluster formation">master election
process</a>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Master nodes must have a <code class="literal">path.data</code> directory whose contents
persist across restarts, just like data nodes, because this is where the
cluster metadata is stored. The cluster metadata describes how to read the data
stored on the data nodes, so if it is lost then the data stored on the data
nodes cannot be read.</p>
</div>
</div>
<div class="position-relative"><h5><a id="dedicated-master-node"></a>Dedicated master-eligible node</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>It is important for the health of the cluster that the elected master node has
the resources it needs to fulfill its responsibilities. If the elected master
node is overloaded with other tasks then the cluster will not operate well. The
most reliable way to avoid overloading the master with other tasks is to
configure all the master-eligible nodes to be <em>dedicated master-eligible nodes</em>
which only have the <code class="literal">master</code> role, allowing them to focus on managing the
cluster. Master-eligible nodes will still also behave as
<a class="xref" href="node-roles-overview.html#coordinating-node" title="Coordinating node">coordinating nodes</a> that route requests from clients to
the other nodes in the cluster, but you should <em>not</em> use dedicated master nodes
for this purpose.</p>
<p>A small or lightly-loaded cluster may operate well if its master-eligible nodes
have other roles and responsibilities, but once your cluster comprises more
than a handful of nodes it usually makes sense to use dedicated master-eligible
nodes.</p>
<p>To create a dedicated master-eligible node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ master ]</pre>
</div>
<div class="position-relative"><h5><a id="voting-only-node"></a>Voting-only master-eligible node</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>A voting-only master-eligible node is a node that participates in
<a class="xref" href="modules-discovery.html" title="Discovery and cluster formation">master elections</a> but which will not act as the cluster&#8217;s
elected master node. In particular, a voting-only node can serve as a tiebreaker
in elections.</p>
<p>It may seem confusing to use the term "master-eligible" to describe a
voting-only node since such a node is not actually eligible to become the master
at all. This terminology is an unfortunate consequence of history:
master-eligible nodes are those nodes that participate in elections and perform
certain tasks during cluster state publications, and voting-only nodes have the
same responsibilities even if they can never become the elected master.</p>
<p>To configure a master-eligible node as a voting-only node, include <code class="literal">master</code> and
<code class="literal">voting_only</code> in the list of roles. For example to create a voting-only data
node:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ data, master, voting_only ]</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Only nodes with the <code class="literal">master</code> role can be marked as having the
<code class="literal">voting_only</code> role.</p>
</div>
</div>
<p>High availability (HA) clusters require at least three master-eligible nodes, at
least two of which are not voting-only nodes. Such a cluster will be able to
elect a master node even if one of the nodes fails.</p>
<p>Voting-only master-eligible nodes may also fill other roles in your cluster.
For instance, a node may be both a data node and a voting-only master-eligible
node. A <em>dedicated</em> voting-only master-eligible nodes is a voting-only
master-eligible node that fills no other roles in the cluster. To create a
dedicated voting-only master-eligible node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ master, voting_only ]</pre>
</div>
<p>Since dedicated voting-only nodes never act as the cluster&#8217;s elected master,
they may require less heap and a less powerful CPU than the true master nodes.
However all master-eligible nodes, including voting-only nodes, are on the
critical path for <a class="xref" href="cluster-state-overview.html#cluster-state-publishing" title="Publishing the cluster state">publishing cluster state
updates</a>. Cluster state updates are usually independent of
performance-critical workloads such as indexing or searches, but they are
involved in management activities such as index creation and rollover, mapping
updates, and recovery after a failure. The performance characteristics of these
activities are a function of the speed of the storage on each master-eligible
node, as well as the reliability and latency of the network interconnections
between the elected master node and the other nodes in the cluster. You must
therefore ensure that the storage and networking available to the nodes in your
cluster are good enough to meet your performance goals.</p>
<div class="position-relative"><h4><a id="data-node-role"></a>Data nodes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Data nodes hold the shards that contain the documents you have indexed. Data
nodes handle data related operations like CRUD, search, and aggregations.
These operations are I/O-, memory-, and CPU-intensive. It is important to
monitor these resources and to add more data nodes if they are overloaded.</p>
<p>The main benefit of having dedicated data nodes is the separation of the master
and data roles.</p>
<p>In a multi-tier deployment architecture, you use specialized data roles to
assign data nodes to specific tiers: <code class="literal">data_content</code>,<code class="literal">data_hot</code>, <code class="literal">data_warm</code>,
<code class="literal">data_cold</code>, or <code class="literal">data_frozen</code>. A node can belong to multiple tiers.</p>
<p>If you want to include a node in all tiers, or if your cluster does not use multiple tiers, then you can use the generic <code class="literal">data</code> role.</p>
<p><a class="xref" href="misc-cluster-settings.html#cluster-shard-limit" title="Cluster shard limits">Cluster shard limits</a> prevent creation of more than
1000 non-frozen shards per node, and 3000 frozen shards per dedicated frozen
node. Make sure you have enough nodes of each type in your cluster to handle
the number of shards you need.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you assign a node to a specific tier using a specialized data role, then you shouldn&#8217;t also assign it the generic <code class="literal">data</code> role. The generic <code class="literal">data</code> role takes precedence over specialized data roles.</p>
</div>
</div>
<div class="position-relative"><h5><a id="generic-data-node"></a>Generic data node</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Generic data nodes are included in all content tiers. A node with a generic <code class="literal">data</code> role can fill any of the specialized data node roles.</p>
<p>To create a dedicated generic data node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ data ]</pre>
</div>
<div class="position-relative"><h5><a id="data-content-node"></a>Content data node</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Content data nodes are part of the content tier.
Data stored in the content tier is generally a collection of items such as a product catalog or article archive.
Unlike time series data, the value of the content remains relatively constant over time,
so it doesn&#8217;t make sense to move it to a tier with different performance characteristics as it ages.
Content data typically has long data retention requirements, and you want to be able to retrieve
items quickly regardless of how old they are.</p>
<p>Content tier nodes are usually optimized for query performance&#8212;&#8203;they prioritize processing power over IO throughput
so they can process complex searches and aggregations and return results quickly.
While they are also responsible for indexing, content data is generally not ingested at as high a rate
as time series data such as logs and metrics. From a resiliency perspective the indices in this
tier should be configured to use one or more replicas.</p>
<p>The content tier is required and is often deployed within the same node
grouping as the hot tier. System indices and other indices that aren&#8217;t part
of a data stream are automatically allocated to the content tier.</p>
<p>To create a dedicated content node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ data_content ]</pre>
</div>
<div class="position-relative"><h5><a id="data-hot-node"></a>Hot data node</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Hot data nodes are part of the hot tier.
The hot tier is the Elasticsearch entry point for time series data and holds your most-recent,
most-frequently-searched time series data.
Nodes in the hot tier need to be fast for both reads and writes,
which requires more hardware resources and faster storage (SSDs).
For resiliency, indices in the hot tier should be configured to use one or more replicas.</p>
<p>The hot tier is required. New indices that are part of a <a class="xref" href="data-streams.html" title="Data streams">data stream</a> are automatically allocated to the hot tier.</p>
<p>To create a dedicated hot node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ data_hot ]</pre>
</div>
<div class="position-relative"><h5><a id="data-warm-node"></a>Warm data node</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Warm data nodes are part of the warm tier.
Time series data can move to the warm tier once it is being queried less frequently
than the recently-indexed data in the hot tier.
The warm tier typically holds data from recent weeks.
Updates are still allowed, but likely infrequent.
Nodes in the warm tier generally don&#8217;t need to be as fast as those in the hot tier.
For resiliency, indices in the warm tier should be configured to use one or more replicas.</p>
<p>To create a dedicated warm node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ data_warm ]</pre>
</div>
<div class="position-relative"><h5><a id="data-cold-node"></a>Cold data node</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Cold data nodes are part of the cold tier.
When you no longer need to search time series data regularly, it can move from
the warm tier to the cold tier. While still searchable, this tier is typically
optimized for lower storage costs rather than search speed.</p>
<p>For better storage savings, you can keep <a class="xref" href="searchable-snapshots.html#fully-mounted">fully mounted indices</a>
of <a class="xref" href="ilm-searchable-snapshot.html" title="Searchable snapshot">searchable snapshots</a> on the cold tier. Unlike regular
indices, these fully mounted indices don&#8217;t require replicas for reliability. In
the event of a failure, they can recover data from the underlying snapshot
instead. This potentially halves the local storage needed for the data. A
snapshot repository is required to use fully mounted indices in the cold tier.
Fully mounted indices are read-only.</p>
<p>Alternatively, you can use the cold tier to store regular indices with replicas instead
of using searchable snapshots. This lets you store older data on less expensive hardware
but doesn&#8217;t reduce required disk space compared to the warm tier.</p>
<p>To create a dedicated cold node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ data_cold ]</pre>
</div>
<div class="position-relative"><h5><a id="data-frozen-node"></a>Frozen data node</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Frozen data nodes are part of the frozen tier.
Once data is no longer being queried, or being queried rarely, it may move from
the cold tier to the frozen tier where it stays for the rest of its life.</p>
<p>The frozen tier requires a snapshot repository.
The frozen tier uses <a class="xref" href="searchable-snapshots.html#partially-mounted">partially mounted indices</a> to store
and load data from a snapshot repository. This reduces local storage and
operating costs while still letting you search frozen data. Because Elasticsearch must
sometimes fetch frozen data from the snapshot repository, searches on the frozen
tier are typically slower than on the cold tier.</p>
<p>To create a dedicated frozen node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ data_frozen ]</pre>
</div>
<div class="position-relative"><h4><a id="node-ingest-node"></a>Ingest node</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Ingest nodes can execute pre-processing pipelines, composed of one or more
ingest processors. Depending on the type of operations performed by the ingest
processors and the required resources, it may make sense to have dedicated
ingest nodes, that will only perform this specific task.</p>
<p>To create a dedicated ingest node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ ingest ]</pre>
</div>
<div class="position-relative"><h4><a id="coordinating-only-node"></a>Coordinating only node</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>If you take away the ability to be able to handle master duties, to hold data,
and pre-process documents, then you are left with a <em>coordinating</em> node that
can only route requests, handle the search reduce phase, and distribute bulk
indexing. Essentially, coordinating only nodes behave as smart load balancers.</p>
<p>Coordinating only nodes can benefit large clusters by offloading the
coordinating node role from data and master-eligible nodes. They join the
cluster and receive the full <a class="xref" href="cluster-state.html" title="Cluster state API">cluster state</a>, like every other
node, and they use the cluster state to route requests directly to the
appropriate place(s).</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Adding too many coordinating only nodes to a cluster can increase the
burden on the entire cluster because the elected master node must await
acknowledgement of cluster state updates from every node! The benefit of
coordinating only nodes should not be overstated&#8201;&#8212;&#8201;data nodes can happily
serve the same purpose.</p>
</div>
</div>
<p>To create a dedicated coordinating node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ ]</pre>
</div>
<div class="position-relative"><h4><a id="remote-node"></a>Remote-eligible node</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>A remote-eligible node acts as a cross-cluster client and connects to
<a class="xref" href="remote-clusters.html" title="Remote clusters">remote clusters</a>. Once connected, you can search
remote clusters using <a class="xref" href="modules-cross-cluster-search.html" title="Search across clusters">cross-cluster search</a>. You can also sync
data between clusters using <a class="xref" href="xpack-ccr.html" title="Cross-cluster replication">cross-cluster replication</a>.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ remote_cluster_client ]</pre>
</div>
<div class="position-relative"><h4><a id="ml-node-role"></a><span class="xpack">Machine learning node</span></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Machine learning nodes run jobs and handle machine learning API requests. For more information, see
<a class="xref" href="ml-settings.html" title="Machine learning settings in Elasticsearch">Machine learning settings</a>.</p>
<p>To create a dedicated machine learning node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ ml, remote_cluster_client]</pre>
</div>
<p>The <code class="literal">remote_cluster_client</code> role is optional but strongly recommended.
Otherwise, cross-cluster search fails when used in machine learning jobs or datafeeds. If you use cross-cluster search in
your anomaly detection jobs, the <code class="literal">remote_cluster_client</code> role is also required on all
master-eligible nodes. Otherwise, the datafeed cannot start. See <a class="xref" href="node-roles-overview.html#remote-node" title="Remote-eligible node">Remote-eligible node</a>.</p>
<div class="position-relative"><h4><a id="transform-node-role"></a><span class="xpack">Transform node</span></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/node-roles.asciidoc">edit</a></div>
<p>Transform nodes run transforms and handle transform API requests. For
more information, see <a class="xref" href="transform-settings.html" title="Transforms settings in Elasticsearch">Transforms settings</a>.</p>
<p>To create a dedicated transform node, set:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">node.roles: [ transform, remote_cluster_client ]</pre>
</div>
<p>The <code class="literal">remote_cluster_client</code> role is optional but strongly recommended.
Otherwise, cross-cluster search fails when used in transforms. See <a class="xref" href="node-roles-overview.html#remote-node" title="Remote-eligible node">Remote-eligible node</a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="nodes-shards.html">« Nodes and shards</a>
</span>
<span class="next">
<a href="docs-replication.html">Reading and writing documents »</a>
</span>
</div>
</body>
</html>
