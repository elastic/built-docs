<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Elasticsearch version 8.18.0 | Elasticsearch Guide [8.x] | Elastic</title>
<meta class="elastic" name="content" content="Elasticsearch version 8.18.0 | Elasticsearch Guide [8.x]">

<link rel="home" href="index.html" title="Elasticsearch Guide [8.x]"/>
<link rel="up" href="es-release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.19.0.html" title="Elasticsearch version 8.19.0"/>
<link rel="next" href="release-notes-8.17.5.html" title="Elasticsearch version 8.17.5"/>
<meta class="elastic" name="product_version" content="8.x"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/8.x"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="8.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.19.0.html">« Elasticsearch version 8.19.0</a>
</span>
<span class="next">
<a href="release-notes-8.17.5.html">Elasticsearch version 8.17.5 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [8.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="es-release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Elasticsearch version 8.18.0</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/8.18.0.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-notes-8.18.0"></a>Elasticsearch version 8.18.0</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/8.18.0.asciidoc">edit</a></div>
</div></div></div>
<p>Also see <a class="xref" href="migrating-8.18.html#breaking-changes-8.18" title="Breaking changes">Breaking changes in 8.18</a>.</p>
<div class="position-relative"><h3><a id="breaking-8.18.0"></a>Breaking changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/8.18.0.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set allow_partial_search_results=true by default <a href="https://github.com/elastic/elasticsearch/pull/120267" class="ulink" target="_top">#120267</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Disable machine learning on macOS x86_64 <a href="https://github.com/elastic/elasticsearch/pull/104125" class="ulink" target="_top">#104125</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Change Semantic Text To Act Like A Normal Text Field <a href="https://github.com/elastic/elasticsearch/pull/120813" class="ulink" target="_top">#120813</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TLS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Drop <code class="literal">TLS_RSA</code> cipher support for JDK 24 <a href="https://github.com/elastic/elasticsearch/pull/123600" class="ulink" target="_top">#123600</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="bug-8.18.0"></a>Bug fixes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/8.18.0.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Analysis
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adjust exception thrown when unable to load hunspell dict <a href="https://github.com/elastic/elasticsearch/pull/123743" class="ulink" target="_top">#123743</a>
</li>
<li class="listitem">
Non existing synonyms sets do not fail shard recovery for indices <a href="https://github.com/elastic/elasticsearch/pull/125659" class="ulink" target="_top">#125659</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/125603" class="ulink" target="_top">#125603</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix NPE for missing Content Type header in OIDC Authenticator <a href="https://github.com/elastic/elasticsearch/pull/126191" class="ulink" target="_top">#126191</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CAT APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix cat_component_templates documentation <a href="https://github.com/elastic/elasticsearch/pull/120487" class="ulink" target="_top">#120487</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Data streams
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid updating settings version in <code class="literal">MetadataMigrateToDataStreamService</code> when settings have not changed <a href="https://github.com/elastic/elasticsearch/pull/118704" class="ulink" target="_top">#118704</a>
</li>
<li class="listitem">
Ensure removal of index blocks does not leave key with null value <a href="https://github.com/elastic/elasticsearch/pull/122246" class="ulink" target="_top">#122246</a>
</li>
<li class="listitem">
Match dot prefix of migrated DS backing index with the source index <a href="https://github.com/elastic/elasticsearch/pull/120042" class="ulink" target="_top">#120042</a>
</li>
<li class="listitem">
Refresh source index before reindexing data stream index <a href="https://github.com/elastic/elasticsearch/pull/120752" class="ulink" target="_top">#120752</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/120314" class="ulink" target="_top">#120314</a>)
</li>
<li class="listitem">
Updating <code class="literal">TransportRolloverAction.checkBlock</code> so that non-write-index blocks do not prevent data stream rollover <a href="https://github.com/elastic/elasticsearch/pull/122905" class="ulink" target="_top">#122905</a>
</li>
<li class="listitem">
<code class="literal">ReindexDataStreamIndex</code> bug in assertion caused by reference equality <a href="https://github.com/elastic/elasticsearch/pull/121325" class="ulink" target="_top">#121325</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Downsampling
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Copy metrics and <code class="literal">default_metric</code> properties when downsampling <code class="literal">aggregate_metric_double</code> <a href="https://github.com/elastic/elasticsearch/pull/121727" class="ulink" target="_top">#121727</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/119696" class="ulink" target="_top">#119696</a>, <a href="https://github.com/elastic/elasticsearch/issues/96076" class="ulink" target="_top">#96076</a>)
</li>
<li class="listitem">
Improve downsample performance by avoiding to read unnecessary dimension values when downsampling. <a href="https://github.com/elastic/elasticsearch/pull/124451" class="ulink" target="_top">#124451</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix EQL double invoking listener <a href="https://github.com/elastic/elasticsearch/pull/124918" class="ulink" target="_top">#124918</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ES|QL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid over collecting in Limit or Lucene Operator <a href="https://github.com/elastic/elasticsearch/pull/123296" class="ulink" target="_top">#123296</a>
</li>
<li class="listitem">
Correct line and column numbers of missing named parameters <a href="https://github.com/elastic/elasticsearch/pull/120852" class="ulink" target="_top">#120852</a>
</li>
<li class="listitem">
Drop null columns in text formats <a href="https://github.com/elastic/elasticsearch/pull/117643" class="ulink" target="_top">#117643</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/116848" class="ulink" target="_top">#116848</a>)
</li>
<li class="listitem">
ES|QL - date nanos range bug? <a href="https://github.com/elastic/elasticsearch/pull/125345" class="ulink" target="_top">#125345</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/125439" class="ulink" target="_top">#125439</a>)
</li>
<li class="listitem">
ES|QL - Fix lucene push down behavior when a range contains nanos and millis <a href="https://github.com/elastic/elasticsearch/pull/125595" class="ulink" target="_top">#125595</a>
</li>
<li class="listitem">
Fix ROUND() with unsigned longs throwing in some edge cases <a href="https://github.com/elastic/elasticsearch/pull/119536" class="ulink" target="_top">#119536</a>
</li>
<li class="listitem">
Fix TopN row size estimate <a href="https://github.com/elastic/elasticsearch/pull/119476" class="ulink" target="_top">#119476</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/106956" class="ulink" target="_top">#106956</a>)
</li>
<li class="listitem">
Fix <code class="literal">AbstractShapeGeometryFieldMapperTests</code> <a href="https://github.com/elastic/elasticsearch/pull/119265" class="ulink" target="_top">#119265</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/119201" class="ulink" target="_top">#119201</a>)
</li>
<li class="listitem">
Fix <code class="literal">ReplaceMissingFieldsWithNull</code> <a href="https://github.com/elastic/elasticsearch/pull/125764" class="ulink" target="_top">#125764</a> (issues: <a href="https://github.com/elastic/elasticsearch/issues/126036" class="ulink" target="_top">#126036</a>, <a href="https://github.com/elastic/elasticsearch/issues/121754" class="ulink" target="_top">#121754</a>, <a href="https://github.com/elastic/elasticsearch/issues/126030" class="ulink" target="_top">#126030</a>)
</li>
<li class="listitem">
Fix a bug in TOP <a href="https://github.com/elastic/elasticsearch/pull/121552" class="ulink" target="_top">#121552</a>
</li>
<li class="listitem">
Fix async stop sometimes not properly collecting result <a href="https://github.com/elastic/elasticsearch/pull/121843" class="ulink" target="_top">#121843</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/121249" class="ulink" target="_top">#121249</a>)
</li>
<li class="listitem">
Fix attribute set equals <a href="https://github.com/elastic/elasticsearch/pull/118823" class="ulink" target="_top">#118823</a>
</li>
<li class="listitem">
Fix double lookup failure on ES|QL <a href="https://github.com/elastic/elasticsearch/pull/115616" class="ulink" target="_top">#115616</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/111398" class="ulink" target="_top">#111398</a>)
</li>
<li class="listitem">
Fix queries with document level security on lookup indexes <a href="https://github.com/elastic/elasticsearch/pull/120617" class="ulink" target="_top">#120617</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/120509" class="ulink" target="_top">#120509</a>)
</li>
<li class="listitem">
Fix usage of already released null block in <code class="literal">ValueSourceReaderOperator</code> <a href="https://github.com/elastic/elasticsearch/pull/126411" class="ulink" target="_top">#126411</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/125850" class="ulink" target="_top">#125850</a>)
</li>
<li class="listitem">
Fix writing for LOOKUP status <a href="https://github.com/elastic/elasticsearch/pull/119296" class="ulink" target="_top">#119296</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/119086" class="ulink" target="_top">#119086</a>)
</li>
<li class="listitem">
Implicit numeric casting for CASE/GREATEST/LEAST <a href="https://github.com/elastic/elasticsearch/pull/122601" class="ulink" target="_top">#122601</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/121890" class="ulink" target="_top">#121890</a>)
</li>
<li class="listitem">
Lazy collection copying during node transform <a href="https://github.com/elastic/elasticsearch/pull/124424" class="ulink" target="_top">#124424</a>
</li>
<li class="listitem">
Limit memory usage of <code class="literal">fold</code> <a href="https://github.com/elastic/elasticsearch/pull/118602" class="ulink" target="_top">#118602</a>
</li>
<li class="listitem">
Limit size of query <a href="https://github.com/elastic/elasticsearch/pull/117898" class="ulink" target="_top">#117898</a>
</li>
<li class="listitem">
Make <code class="literal">numberOfChannels</code> consistent with layout map by removing duplicated <code class="literal">ChannelSet</code> <a href="https://github.com/elastic/elasticsearch/pull/125636" class="ulink" target="_top">#125636</a>
</li>
<li class="listitem">
Reduce iteration complexity for plan traversal <a href="https://github.com/elastic/elasticsearch/pull/123427" class="ulink" target="_top">#123427</a>
</li>
<li class="listitem">
Remove redundant sorts from execution plan <a href="https://github.com/elastic/elasticsearch/pull/121156" class="ulink" target="_top">#121156</a>
</li>
<li class="listitem">
Use a must boolean statement when pushing down to Lucene when scoring is also needed <a href="https://github.com/elastic/elasticsearch/pull/124001" class="ulink" target="_top">#124001</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/123967" class="ulink" target="_top">#123967</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Health
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Do not recommend increasing <code class="literal">max_shards_per_node</code> <a href="https://github.com/elastic/elasticsearch/pull/120458" class="ulink" target="_top">#120458</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add missing timeouts to rest-api-spec SLM APIs <a href="https://github.com/elastic/elasticsearch/pull/119447" class="ulink" target="_top">#119447</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix NPE in rolling over unknown target and return 404 <a href="https://github.com/elastic/elasticsearch/pull/125352" class="ulink" target="_top">#125352</a>
</li>
<li class="listitem">
Include hidden indices in <code class="literal">DeprecationInfoAction</code> <a href="https://github.com/elastic/elasticsearch/pull/118035" class="ulink" target="_top">#118035</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118020" class="ulink" target="_top">#118020</a>)
</li>
<li class="listitem">
Preventing <code class="literal">ConcurrentModificationException</code> when updating settings for more than one index <a href="https://github.com/elastic/elasticsearch/pull/126077" class="ulink" target="_top">#126077</a>
</li>
<li class="listitem">
Updates the deprecation info API to not warn about system indices and data streams <a href="https://github.com/elastic/elasticsearch/pull/122951" class="ulink" target="_top">#122951</a>
</li>
<li class="listitem">
Avoid hoarding cluster state references during rollover <a href="https://github.com/elastic/elasticsearch/pull/124266" class="ulink" target="_top">#124266</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Inference
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[Inference API] Put back legacy EIS URL setting <a href="https://github.com/elastic/elasticsearch/pull/121207" class="ulink" target="_top">#121207</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Epoch Millis Rounding Down and Not Up 2 <a href="https://github.com/elastic/elasticsearch/pull/118353" class="ulink" target="_top">#118353</a>
</li>
<li class="listitem">
Fix system data streams to be restorable from a snapshot <a href="https://github.com/elastic/elasticsearch/pull/124651" class="ulink" target="_top">#124651</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/89261" class="ulink" target="_top">#89261</a>)
</li>
<li class="listitem">
Have create index return a bad request on poor formatting <a href="https://github.com/elastic/elasticsearch/pull/123761" class="ulink" target="_top">#123761</a>
</li>
<li class="listitem">
Include data streams when converting an existing resource to a system resource <a href="https://github.com/elastic/elasticsearch/pull/121392" class="ulink" target="_top">#121392</a>
</li>
<li class="listitem">
System Index Migration Failure Results in a Non-Recoverable State <a href="https://github.com/elastic/elasticsearch/pull/122326" class="ulink" target="_top">#122326</a>
</li>
<li class="listitem">
System data streams are not being upgraded in the feature migration API <a href="https://github.com/elastic/elasticsearch/pull/123926" class="ulink" target="_top">#123926</a>
</li>
<li class="listitem">
Wrap jackson exception on malformed json string <a href="https://github.com/elastic/elasticsearch/pull/114445" class="ulink" target="_top">#114445</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/114142" class="ulink" target="_top">#114142</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Logging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Move <code class="literal">SlowLogFieldProvider</code> instantiation to node construction <a href="https://github.com/elastic/elasticsearch/pull/117949" class="ulink" target="_top">#117949</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Plugins
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove unnecessary entitlement <a href="https://github.com/elastic/elasticsearch/pull/120959" class="ulink" target="_top">#120959</a>
</li>
<li class="listitem">
Restrict agent entitlements to the system classloader unnamed module <a href="https://github.com/elastic/elasticsearch/pull/120546" class="ulink" target="_top">#120546</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix geoip databases index access after system feature migration <a href="https://github.com/elastic/elasticsearch/pull/121196" class="ulink" target="_top">#121196</a>
</li>
<li class="listitem">
Fix geoip databases index access after system feature migration (again) <a href="https://github.com/elastic/elasticsearch/pull/122938" class="ulink" target="_top">#122938</a>
</li>
<li class="listitem">
Fix geoip databases index access after system feature migration (take 3) <a href="https://github.com/elastic/elasticsearch/pull/124604" class="ulink" target="_top">#124604</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">ElasticInferenceServiceCompletionServiceSettings</code> <a href="https://github.com/elastic/elasticsearch/pull/123155" class="ulink" target="_top">#123155</a>
</li>
<li class="listitem">
Add enterprise license check to inference action for semantic text fields <a href="https://github.com/elastic/elasticsearch/pull/122293" class="ulink" target="_top">#122293</a>
</li>
<li class="listitem">
Avoid potentially throwing calls to Task#getDescription in model download <a href="https://github.com/elastic/elasticsearch/pull/124527" class="ulink" target="_top">#124527</a>
</li>
<li class="listitem">
Change format for Unified Chat <a href="https://github.com/elastic/elasticsearch/pull/121396" class="ulink" target="_top">#121396</a>
</li>
<li class="listitem">
Fix <code class="literal">AlibabaCloudSearchCompletionAction</code> not accepting <code class="literal">ChatCompletionInputs</code> <a href="https://github.com/elastic/elasticsearch/pull/125023" class="ulink" target="_top">#125023</a>
</li>
<li class="listitem">
Fix get all inference endponts not returning multiple endpoints sharing model deployment <a href="https://github.com/elastic/elasticsearch/pull/121821" class="ulink" target="_top">#121821</a>
</li>
<li class="listitem">
Fix serialising the inference update request <a href="https://github.com/elastic/elasticsearch/pull/122278" class="ulink" target="_top">#122278</a>
</li>
<li class="listitem">
Fixing bedrock event executor terminated cache issue <a href="https://github.com/elastic/elasticsearch/pull/118177" class="ulink" target="_top">#118177</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/117916" class="ulink" target="_top">#117916</a>)
</li>
<li class="listitem">
Fixing bug setting index when parsing Google Vertex AI results <a href="https://github.com/elastic/elasticsearch/pull/117287" class="ulink" target="_top">#117287</a>
</li>
<li class="listitem">
Retry on streaming errors <a href="https://github.com/elastic/elasticsearch/pull/123076" class="ulink" target="_top">#123076</a>
</li>
<li class="listitem">
Set Connect Timeout to 5s <a href="https://github.com/elastic/elasticsearch/pull/123272" class="ulink" target="_top">#123272</a>
</li>
<li class="listitem">
Set default similarity for Cohere model to cosine <a href="https://github.com/elastic/elasticsearch/pull/125370" class="ulink" target="_top">#125370</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/122878" class="ulink" target="_top">#122878</a>)
</li>
<li class="listitem">
Updating Inference Update API documentation to have the correct PUT method <a href="https://github.com/elastic/elasticsearch/pull/121048" class="ulink" target="_top">#121048</a>
</li>
<li class="listitem">
[Inference API] Fix output stream ordering in <code class="literal">InferenceActionProxy</code> <a href="https://github.com/elastic/elasticsearch/pull/124225" class="ulink" target="_top">#124225</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Avoid serializing empty <code class="literal">_source</code> fields in mappings <a href="https://github.com/elastic/elasticsearch/pull/122606" class="ulink" target="_top">#122606</a>
</li>
<li class="listitem">
Fix realtime get of nested fields with synthetic source <a href="https://github.com/elastic/elasticsearch/pull/119575" class="ulink" target="_top">#119575</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/119553" class="ulink" target="_top">#119553</a>)
</li>
<li class="listitem">
Merge field mappers when updating mappings with [subobjects:false] <a href="https://github.com/elastic/elasticsearch/pull/120370" class="ulink" target="_top">#120370</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/120216" class="ulink" target="_top">#120216</a>)
</li>
<li class="listitem">
Merge template mappings properly during validation <a href="https://github.com/elastic/elasticsearch/pull/124784" class="ulink" target="_top">#124784</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/123372" class="ulink" target="_top">#123372</a>)
</li>
<li class="listitem">
Tweak <code class="literal">copy_to</code> handling in synthetic <code class="literal">_source</code> to account for nested objects <a href="https://github.com/elastic/elasticsearch/pull/120974" class="ulink" target="_top">#120974</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/120831" class="ulink" target="_top">#120831</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ranking
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix LTR query feature with phrases (and two-phase) queries <a href="https://github.com/elastic/elasticsearch/pull/125103" class="ulink" target="_top">#125103</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Catch and handle disconnect exceptions in search <a href="https://github.com/elastic/elasticsearch/pull/115836" class="ulink" target="_top">#115836</a>
</li>
<li class="listitem">
Fix leak in <code class="literal">DfsQueryPhase</code> and introduce search disconnect stress test <a href="https://github.com/elastic/elasticsearch/pull/116060" class="ulink" target="_top">#116060</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/115056" class="ulink" target="_top">#115056</a>)
</li>
<li class="listitem">
Handle long overflow in dates <a href="https://github.com/elastic/elasticsearch/pull/124048" class="ulink" target="_top">#124048</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/112483" class="ulink" target="_top">#112483</a>)
</li>
<li class="listitem">
Handle search timeout in <code class="literal">SuggestPhase</code> <a href="https://github.com/elastic/elasticsearch/pull/122357" class="ulink" target="_top">#122357</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/122186" class="ulink" target="_top">#122186</a>)
</li>
<li class="listitem">
In this pr, a 400 error is returned when _source / _seq_no / _feature / _nested_path / _field_names is requested, rather a 5xx <a href="https://github.com/elastic/elasticsearch/pull/117229" class="ulink" target="_top">#117229</a>
</li>
<li class="listitem">
Load <code class="literal">FieldInfos</code> from store if not yet initialised through a refresh on <code class="literal">IndexShard</code> <a href="https://github.com/elastic/elasticsearch/pull/125650" class="ulink" target="_top">#125650</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/125483" class="ulink" target="_top">#125483</a>)
</li>
<li class="listitem">
Log stack traces on data nodes before they are cleared for transport <a href="https://github.com/elastic/elasticsearch/pull/125732" class="ulink" target="_top">#125732</a>
</li>
<li class="listitem">
Re-enable parallel collection for field sorted top hits <a href="https://github.com/elastic/elasticsearch/pull/125916" class="ulink" target="_top">#125916</a>
</li>
<li class="listitem">
Skip fetching _inference_fields field in legacy semantic_text format <a href="https://github.com/elastic/elasticsearch/pull/121720" class="ulink" target="_top">#121720</a>
</li>
<li class="listitem">
Support indices created in ESv6 and updated in ESV7 using different LuceneCodecs as archive in current version. <a href="https://github.com/elastic/elasticsearch/pull/125389" class="ulink" target="_top">#125389</a>
</li>
<li class="listitem">
Test/107515 <code class="literal">RestoreTemplateWithMatchOnlyTextMapperIT</code> <a href="https://github.com/elastic/elasticsearch/pull/120898" class="ulink" target="_top">#120898</a>
</li>
<li class="listitem">
Fix/SearchStatesIt_failures <a href="https://github.com/elastic/elasticsearch/pull/117729" class="ulink" target="_top">#117729</a>
</li>
<li class="listitem">
<code class="literal">CrossClusterIT</code> <code class="literal">testCancel</code> failure <a href="https://github.com/elastic/elasticsearch/pull/117750" class="ulink" target="_top">#117750</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/108061" class="ulink" target="_top">#108061</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fork post-snapshot-delete cleanup off master thread <a href="https://github.com/elastic/elasticsearch/pull/122731" class="ulink" target="_top">#122731</a>
</li>
<li class="listitem">
This PR fixes a bug whereby partial snapshots of system datastreams could be used to restore system features. <a href="https://github.com/elastic/elasticsearch/pull/124931" class="ulink" target="_top">#124931</a>
</li>
<li class="listitem">
Use the system index descriptor in the snapshot blob cache cleanup task <a href="https://github.com/elastic/elasticsearch/pull/120937" class="ulink" target="_top">#120937</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/120518" class="ulink" target="_top">#120518</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Suggesters
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Return an empty suggestion when suggest phase times out <a href="https://github.com/elastic/elasticsearch/pull/122575" class="ulink" target="_top">#122575</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/122548" class="ulink" target="_top">#122548</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TLS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set <code class="literal">keyUsage</code> for generated HTTP certificates and self-signed CA <a href="https://github.com/elastic/elasticsearch/pull/126376" class="ulink" target="_top">#126376</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/117769" class="ulink" target="_top">#117769</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Transform is configured to write to an alias as its destination index, when the delete_dest_index parameter is set to true, then the Delete API will now delete the write index backing the alias <a href="https://github.com/elastic/elasticsearch/pull/122074" class="ulink" target="_top">#122074</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/121913" class="ulink" target="_top">#121913</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Apply default k for knn query eagerly <a href="https://github.com/elastic/elasticsearch/pull/118774" class="ulink" target="_top">#118774</a>
</li>
<li class="listitem">
Fix <code class="literal">bbq_hnsw</code> merge file cleanup on random IO exceptions <a href="https://github.com/elastic/elasticsearch/pull/119691" class="ulink" target="_top">#119691</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/119392" class="ulink" target="_top">#119392</a>)
</li>
<li class="listitem">
Knn vector rescoring to sort score docs <a href="https://github.com/elastic/elasticsearch/pull/122653" class="ulink" target="_top">#122653</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/119711" class="ulink" target="_top">#119711</a>)
</li>
<li class="listitem">
Return appropriate error on null dims update instead of npe <a href="https://github.com/elastic/elasticsearch/pull/125716" class="ulink" target="_top">#125716</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Watcher history index has too many indexed fields - <a href="https://github.com/elastic/elasticsearch/pull/117701" class="ulink" target="_top">#117701</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/71479" class="ulink" target="_top">#71479</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="deprecation-8.18.0"></a>Deprecations</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/8.18.0.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Increase the frozen indices deprecation level to <code class="literal">CRITICAL</code> <a href="https://github.com/elastic/elasticsearch/pull/119879" class="ulink" target="_top">#119879</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add deprecation warning to <code class="literal">TransportHandshaker</code> <a href="https://github.com/elastic/elasticsearch/pull/123188" class="ulink" target="_top">#123188</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/REST API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enhancement/v7 critical deprecation logging <a href="https://github.com/elastic/elasticsearch/pull/118298" class="ulink" target="_top">#118298</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="enhancement-8.18.0"></a>Enhancements</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/8.18.0.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Authentication
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow <code class="literal">SSHA-256</code> for API key credential hash <a href="https://github.com/elastic/elasticsearch/pull/120997" class="ulink" target="_top">#120997</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Authorization
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow kibana_system user to manage .reindexed-v8-internal.alerts indices <a href="https://github.com/elastic/elasticsearch/pull/118959" class="ulink" target="_top">#118959</a>
</li>
<li class="listitem">
Do not fetch reserved roles from native store when Get Role API is called <a href="https://github.com/elastic/elasticsearch/pull/121971" class="ulink" target="_top">#121971</a>
</li>
<li class="listitem">
Make reserved built-in roles queryable <a href="https://github.com/elastic/elasticsearch/pull/117581" class="ulink" target="_top">#117581</a>
</li>
<li class="listitem">
[Security Solution] allows <code class="literal">kibana_system</code> user to manage .reindexed-v8-* Security Solution indices <a href="https://github.com/elastic/elasticsearch/pull/119054" class="ulink" target="_top">#119054</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
CCS
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Resolve/cluster allows querying for cluster info only (no index expression required) <a href="https://github.com/elastic/elasticsearch/pull/119898" class="ulink" target="_top">#119898</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Data streams
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add action to create index from a source index <a href="https://github.com/elastic/elasticsearch/pull/118890" class="ulink" target="_top">#118890</a>
</li>
<li class="listitem">
Add index and reindex request settings to speed up reindex <a href="https://github.com/elastic/elasticsearch/pull/119780" class="ulink" target="_top">#119780</a>
</li>
<li class="listitem">
Add rest endpoint for <code class="literal">create_from_source_index</code> <a href="https://github.com/elastic/elasticsearch/pull/119250" class="ulink" target="_top">#119250</a>
</li>
<li class="listitem">
Add sanity check to <code class="literal">ReindexDatastreamIndexAction</code> <a href="https://github.com/elastic/elasticsearch/pull/120231" class="ulink" target="_top">#120231</a>
</li>
<li class="listitem">
Adding a migration reindex cancel API <a href="https://github.com/elastic/elasticsearch/pull/118291" class="ulink" target="_top">#118291</a>
</li>
<li class="listitem">
Adding get migration reindex status <a href="https://github.com/elastic/elasticsearch/pull/118267" class="ulink" target="_top">#118267</a>
</li>
<li class="listitem">
Consistent mapping for OTel log and event bodies <a href="https://github.com/elastic/elasticsearch/pull/120547" class="ulink" target="_top">#120547</a>
</li>
<li class="listitem">
Filter deprecated settings when making dest index <a href="https://github.com/elastic/elasticsearch/pull/120163" class="ulink" target="_top">#120163</a>
</li>
<li class="listitem">
Ignore closed indices for reindex <a href="https://github.com/elastic/elasticsearch/pull/120244" class="ulink" target="_top">#120244</a>
</li>
<li class="listitem">
Improve how reindex data stream index action handles api blocks <a href="https://github.com/elastic/elasticsearch/pull/120084" class="ulink" target="_top">#120084</a>
</li>
<li class="listitem">
Initial work on <code class="literal">ReindexDatastreamIndexAction</code> <a href="https://github.com/elastic/elasticsearch/pull/116996" class="ulink" target="_top">#116996</a>
</li>
<li class="listitem">
Make <code class="literal">requests_per_second</code> configurable to throttle reindexing <a href="https://github.com/elastic/elasticsearch/pull/120207" class="ulink" target="_top">#120207</a>
</li>
<li class="listitem">
Optimized index sorting for OTel logs <a href="https://github.com/elastic/elasticsearch/pull/119504" class="ulink" target="_top">#119504</a>
</li>
<li class="listitem">
Reindex data stream indices on different nodes <a href="https://github.com/elastic/elasticsearch/pull/125171" class="ulink" target="_top">#125171</a>
</li>
<li class="listitem">
Report Deprecated Indices That Are Flagged To Ignore Migration Reindex As A Warning <a href="https://github.com/elastic/elasticsearch/pull/120629" class="ulink" target="_top">#120629</a>
</li>
<li class="listitem">
Retry ILM async action after reindexing data stream <a href="https://github.com/elastic/elasticsearch/pull/124149" class="ulink" target="_top">#124149</a>
</li>
<li class="listitem">
Update data stream deprecations warnings to new format and filter sea… <a href="https://github.com/elastic/elasticsearch/pull/119097" class="ulink" target="_top">#119097</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Distributed
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Metrics for incremental bulk splits <a href="https://github.com/elastic/elasticsearch/pull/116765" class="ulink" target="_top">#116765</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Downsampling
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve downsample performance by buffering docids and do bulk processing <a href="https://github.com/elastic/elasticsearch/pull/124477" class="ulink" target="_top">#124477</a>
</li>
<li class="listitem">
Improve rolling up metrics <a href="https://github.com/elastic/elasticsearch/pull/124739" class="ulink" target="_top">#124739</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
EQL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for partial shard results <a href="https://github.com/elastic/elasticsearch/pull/116388" class="ulink" target="_top">#116388</a>
</li>
<li class="listitem">
Optional named arguments for function in map <a href="https://github.com/elastic/elasticsearch/pull/118619" class="ulink" target="_top">#118619</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ES|QL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add ES|QL cross-cluster query telemetry collection <a href="https://github.com/elastic/elasticsearch/pull/119474" class="ulink" target="_top">#119474</a>
</li>
<li class="listitem">
Add a <code class="literal">LicenseAware</code> interface for licensed Nodes <a href="https://github.com/elastic/elasticsearch/pull/118931" class="ulink" target="_top">#118931</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/117405" class="ulink" target="_top">#117405</a>)
</li>
<li class="listitem">
Add a <code class="literal">PostAnalysisAware,</code> distribute verification <a href="https://github.com/elastic/elasticsearch/pull/119798" class="ulink" target="_top">#119798</a>
</li>
<li class="listitem">
Add a standard deviation aggregating function: STD_DEV <a href="https://github.com/elastic/elasticsearch/pull/116531" class="ulink" target="_top">#116531</a>
</li>
<li class="listitem">
Add cluster level reduction <a href="https://github.com/elastic/elasticsearch/pull/117731" class="ulink" target="_top">#117731</a>
</li>
<li class="listitem">
Add nulls support to Categorize <a href="https://github.com/elastic/elasticsearch/pull/117655" class="ulink" target="_top">#117655</a>
</li>
<li class="listitem">
Async search responses have CCS metadata while searches are running <a href="https://github.com/elastic/elasticsearch/pull/117265" class="ulink" target="_top">#117265</a>
</li>
<li class="listitem">
Backport Term query for ES|QL to 8.x <a href="https://github.com/elastic/elasticsearch/pull/118135" class="ulink" target="_top">#118135</a>
</li>
<li class="listitem">
Backport scoring support in ES|QL to 8.x branch <a href="https://github.com/elastic/elasticsearch/pull/117747" class="ulink" target="_top">#117747</a>
</li>
<li class="listitem">
Check for early termination in Driver <a href="https://github.com/elastic/elasticsearch/pull/118188" class="ulink" target="_top">#118188</a>
</li>
<li class="listitem">
Do not serialize <code class="literal">EsIndex</code> in plan <a href="https://github.com/elastic/elasticsearch/pull/119580" class="ulink" target="_top">#119580</a>
</li>
<li class="listitem">
ES|QL - Remove restrictions for disjunctions in full text functions <a href="https://github.com/elastic/elasticsearch/pull/118544" class="ulink" target="_top">#118544</a>
</li>
<li class="listitem">
ES|QL - enabling scoring with METADATA <code class="literal">_score</code> <a href="https://github.com/elastic/elasticsearch/pull/113120" class="ulink" target="_top">#113120</a>
</li>
<li class="listitem">
ES|QL Add ES|QL hash function <a href="https://github.com/elastic/elasticsearch/pull/117989" class="ulink" target="_top">#117989</a>
</li>
<li class="listitem">
ES|QL Support IN operator for Date nanos <a href="https://github.com/elastic/elasticsearch/pull/119772" class="ulink" target="_top">#119772</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118578" class="ulink" target="_top">#118578</a>)
</li>
<li class="listitem">
ES|QL: CATEGORIZE as a <code class="literal">BlockHash</code> <a href="https://github.com/elastic/elasticsearch/pull/114317" class="ulink" target="_top">#114317</a>
</li>
<li class="listitem">
ES|QL: Enterprise license enforcement for CCS <a href="https://github.com/elastic/elasticsearch/pull/118102" class="ulink" target="_top">#118102</a>
</li>
<li class="listitem">
ES|QL: Partial result on demand for async queries <a href="https://github.com/elastic/elasticsearch/pull/118122" class="ulink" target="_top">#118122</a>
</li>
<li class="listitem">
Enable KQL function as a tech preview <a href="https://github.com/elastic/elasticsearch/pull/119730" class="ulink" target="_top">#119730</a>
</li>
<li class="listitem">
Enable LOOKUP JOIN in non-snapshot builds <a href="https://github.com/elastic/elasticsearch/pull/121193" class="ulink" target="_top">#121193</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/121185" class="ulink" target="_top">#121185</a>)
</li>
<li class="listitem">
Enable node-level reduction by default <a href="https://github.com/elastic/elasticsearch/pull/119621" class="ulink" target="_top">#119621</a>
</li>
<li class="listitem">
Enable physical plan verification <a href="https://github.com/elastic/elasticsearch/pull/118114" class="ulink" target="_top">#118114</a>
</li>
<li class="listitem">
ES|QL - Support date nanos in date extract function <a href="https://github.com/elastic/elasticsearch/pull/120727" class="ulink" target="_top">#120727</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/110000" class="ulink" target="_top">#110000</a>)
</li>
<li class="listitem">
ES|QL - support date nanos in date format function <a href="https://github.com/elastic/elasticsearch/pull/120143" class="ulink" target="_top">#120143</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/109994" class="ulink" target="_top">#109994</a>)
</li>
<li class="listitem">
ES|QL Support date nanos on date diff function <a href="https://github.com/elastic/elasticsearch/pull/120645" class="ulink" target="_top">#120645</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/109999" class="ulink" target="_top">#109999</a>)
</li>
<li class="listitem">
ES|QL bucket function for date nanos <a href="https://github.com/elastic/elasticsearch/pull/118474" class="ulink" target="_top">#118474</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118031" class="ulink" target="_top">#118031</a>)
</li>
<li class="listitem">
ES|QL compare nanos and millis <a href="https://github.com/elastic/elasticsearch/pull/118027" class="ulink" target="_top">#118027</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/116281" class="ulink" target="_top">#116281</a>)
</li>
<li class="listitem">
ES|QL implicit casting for date nanos <a href="https://github.com/elastic/elasticsearch/pull/118697" class="ulink" target="_top">#118697</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118476" class="ulink" target="_top">#118476</a>)
</li>
<li class="listitem">
Extend <code class="literal">TranslationAware</code> to all pushable expressions <a href="https://github.com/elastic/elasticsearch/pull/120192" class="ulink" target="_top">#120192</a>
</li>
<li class="listitem">
Hash functions <a href="https://github.com/elastic/elasticsearch/pull/118938" class="ulink" target="_top">#118938</a>
</li>
<li class="listitem">
Implement a <code class="literal">MetricsAware</code> interface <a href="https://github.com/elastic/elasticsearch/pull/121074" class="ulink" target="_top">#121074</a>
</li>
<li class="listitem">
LOOKUP JOIN using field-caps for field mapping <a href="https://github.com/elastic/elasticsearch/pull/117246" class="ulink" target="_top">#117246</a>
</li>
<li class="listitem">
Lookup join on multiple join fields not yet supported <a href="https://github.com/elastic/elasticsearch/pull/118858" class="ulink" target="_top">#118858</a>
</li>
<li class="listitem">
Move scoring in ES|QL out of snapshot <a href="https://github.com/elastic/elasticsearch/pull/120354" class="ulink" target="_top">#120354</a>
</li>
<li class="listitem">
Optimize ST_EXTENT_AGG for <code class="literal">geo_shape</code> and <code class="literal">cartesian_shape</code> <a href="https://github.com/elastic/elasticsearch/pull/119889" class="ulink" target="_top">#119889</a>
</li>
<li class="listitem">
Push down <code class="literal">StartsWith</code> and <code class="literal">EndsWith</code> functions to Lucene <a href="https://github.com/elastic/elasticsearch/pull/123381" class="ulink" target="_top">#123381</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/123067" class="ulink" target="_top">#123067</a>)
</li>
<li class="listitem">
Push down filter passed lookup join <a href="https://github.com/elastic/elasticsearch/pull/118410" class="ulink" target="_top">#118410</a>
</li>
<li class="listitem">
Resume Driver on cancelled or early finished <a href="https://github.com/elastic/elasticsearch/pull/120020" class="ulink" target="_top">#120020</a>
</li>
<li class="listitem">
Reuse child <code class="literal">outputSet</code> inside the plan where possible <a href="https://github.com/elastic/elasticsearch/pull/124611" class="ulink" target="_top">#124611</a>
</li>
<li class="listitem">
Rewrite TO_UPPER/TO_LOWER comparisons <a href="https://github.com/elastic/elasticsearch/pull/118870" class="ulink" target="_top">#118870</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118304" class="ulink" target="_top">#118304</a>)
</li>
<li class="listitem">
ST_EXTENT_AGG optimize envelope extraction from doc-values for cartesian_shape <a href="https://github.com/elastic/elasticsearch/pull/118802" class="ulink" target="_top">#118802</a>
</li>
<li class="listitem">
Smarter field caps with subscribable listener <a href="https://github.com/elastic/elasticsearch/pull/116755" class="ulink" target="_top">#116755</a>
</li>
<li class="listitem">
Support some stats on aggregate_metric_double <a href="https://github.com/elastic/elasticsearch/pull/120343" class="ulink" target="_top">#120343</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/110649" class="ulink" target="_top">#110649</a>)
</li>
<li class="listitem">
Take named parameters for identifier and pattern out of snapshot <a href="https://github.com/elastic/elasticsearch/pull/121850" class="ulink" target="_top">#121850</a>
</li>
<li class="listitem">
Term query for ES|QL <a href="https://github.com/elastic/elasticsearch/pull/117359" class="ulink" target="_top">#117359</a>
</li>
<li class="listitem">
Update grammar to rely on <code class="literal">indexPattern</code> instead of identifier in join target <a href="https://github.com/elastic/elasticsearch/pull/120494" class="ulink" target="_top">#120494</a>
</li>
<li class="listitem">
<code class="literal">_score</code> should not be a reserved attribute in ES|QL <a href="https://github.com/elastic/elasticsearch/pull/118435" class="ulink" target="_top">#118435</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118460" class="ulink" target="_top">#118460</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Engine
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enhance add-block API to flush and add <em>verified</em> metadata <a href="https://github.com/elastic/elasticsearch/pull/119743" class="ulink" target="_top">#119743</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Experiences
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Integrate IBM watsonx to Inference API for re-ranking task <a href="https://github.com/elastic/elasticsearch/pull/117176" class="ulink" target="_top">#117176</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Geo
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Optimize indexing points with index and doc values set to true <a href="https://github.com/elastic/elasticsearch/pull/120271" class="ulink" target="_top">#120271</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ILM+SLM
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a <code class="literal">replicate_for</code> option to the ILM <code class="literal">searchable_snapshot</code> action <a href="https://github.com/elastic/elasticsearch/pull/119003" class="ulink" target="_top">#119003</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Indices APIs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">remove_index_block</code> arg to <code class="literal">_create_from</code> api <a href="https://github.com/elastic/elasticsearch/pull/120548" class="ulink" target="_top">#120548</a>
</li>
<li class="listitem">
Remove index blocks by default in <code class="literal">create_from</code> <a href="https://github.com/elastic/elasticsearch/pull/120643" class="ulink" target="_top">#120643</a>
</li>
<li class="listitem">
introduce new categories for deprecated resources in deprecation API <a href="https://github.com/elastic/elasticsearch/pull/120505" class="ulink" target="_top">#120505</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Inference
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[Inference API] Rename <code class="literal">model_id</code> prop to model in EIS sparse inference request body <a href="https://github.com/elastic/elasticsearch/pull/122398" class="ulink" target="_top">#122398</a>
</li>
<li class="listitem">
Add version prefix to Inference Service API path <a href="https://github.com/elastic/elasticsearch/pull/117696" class="ulink" target="_top">#117696</a>
</li>
<li class="listitem">
Update sparse text embeddings API route for Inference Service <a href="https://github.com/elastic/elasticsearch/pull/118369" class="ulink" target="_top">#118369</a>
</li>
<li class="listitem">
[Elastic Inference Service] Add ElasticInferenceService Unified ChatCompletions Integration <a href="https://github.com/elastic/elasticsearch/pull/118871" class="ulink" target="_top">#118871</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/CLI
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ignore _JAVA_OPTIONS <a href="https://github.com/elastic/elasticsearch/pull/124843" class="ulink" target="_top">#124843</a>
</li>
<li class="listitem">
Strengthen encryption for elasticsearch-keystore tool to AES 256 <a href="https://github.com/elastic/elasticsearch/pull/119749" class="ulink" target="_top">#119749</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve size limiting string message <a href="https://github.com/elastic/elasticsearch/pull/122427" class="ulink" target="_top">#122427</a>
</li>
<li class="listitem">
Return unique deprecation for old indices with incompatible date formats <a href="https://github.com/elastic/elasticsearch/pull/124597" class="ulink" target="_top">#124597</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/REST API
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A new query parameter <code class="literal">?include_source_on_error</code> was added for create / index, update and bulk REST APIs to control
if to include the document source in the error response in case of parsing errors. The default value is <code class="literal">true</code>. <a href="https://github.com/elastic/elasticsearch/pull/120725" class="ulink" target="_top">#120725</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ingest Node
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Optimize <code class="literal">IngestCtxMap</code> construction <a href="https://github.com/elastic/elasticsearch/pull/120833" class="ulink" target="_top">#120833</a>
</li>
<li class="listitem">
Optimize <code class="literal">IngestDocMetadata</code> <code class="literal">isAvailable</code> <a href="https://github.com/elastic/elasticsearch/pull/120753" class="ulink" target="_top">#120753</a>
</li>
<li class="listitem">
Optimize <code class="literal">IngestDocument</code> <code class="literal">FieldPath</code> allocation <a href="https://github.com/elastic/elasticsearch/pull/120573" class="ulink" target="_top">#120573</a>
</li>
<li class="listitem">
Optimize some per-document hot paths in the geoip processor <a href="https://github.com/elastic/elasticsearch/pull/120824" class="ulink" target="_top">#120824</a>
</li>
<li class="listitem">
Returning ignored fields in the simulate ingest API <a href="https://github.com/elastic/elasticsearch/pull/117214" class="ulink" target="_top">#117214</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Logs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add LogsDB option to route on sort fields <a href="https://github.com/elastic/elasticsearch/pull/116687" class="ulink" target="_top">#116687</a>
</li>
<li class="listitem">
Add a new index setting to skip recovery source when synthetic source is enabled <a href="https://github.com/elastic/elasticsearch/pull/114618" class="ulink" target="_top">#114618</a>
</li>
<li class="listitem">
Configure index sorting through index settings for logsdb <a href="https://github.com/elastic/elasticsearch/pull/118968" class="ulink" target="_top">#118968</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118686" class="ulink" target="_top">#118686</a>)
</li>
<li class="listitem">
Optimize loading mappings when determining synthetic source usage and whether host.name can be sorted on. <a href="https://github.com/elastic/elasticsearch/pull/120055" class="ulink" target="_top">#120055</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Inference Unified API for chat completions for OpenAI <a href="https://github.com/elastic/elasticsearch/pull/117589" class="ulink" target="_top">#117589</a>
</li>
<li class="listitem">
Add Jina AI API to do inference for Embedding and Rerank models <a href="https://github.com/elastic/elasticsearch/pull/118652" class="ulink" target="_top">#118652</a>
</li>
<li class="listitem">
Add enterprise license check for Inference API actions <a href="https://github.com/elastic/elasticsearch/pull/119893" class="ulink" target="_top">#119893</a>
</li>
<li class="listitem">
Adding chunking settings to <code class="literal">IbmWatsonxService</code> <a href="https://github.com/elastic/elasticsearch/pull/114914" class="ulink" target="_top">#114914</a>
</li>
<li class="listitem">
Adding default endpoint for Elastic Rerank <a href="https://github.com/elastic/elasticsearch/pull/117939" class="ulink" target="_top">#117939</a>
</li>
<li class="listitem">
Adding endpoint creation validation for all task types to remaining services <a href="https://github.com/elastic/elasticsearch/pull/115020" class="ulink" target="_top">#115020</a>
</li>
<li class="listitem">
Check for presence of error object when validating streaming responses from integrations in the inference API <a href="https://github.com/elastic/elasticsearch/pull/118375" class="ulink" target="_top">#118375</a>
</li>
<li class="listitem">
Ignore failures from renormalizing buckets in read-only index <a href="https://github.com/elastic/elasticsearch/pull/118674" class="ulink" target="_top">#118674</a>
</li>
<li class="listitem">
Inference duration and error metrics <a href="https://github.com/elastic/elasticsearch/pull/115876" class="ulink" target="_top">#115876</a>
</li>
<li class="listitem">
Migrate stream to core error parsing <a href="https://github.com/elastic/elasticsearch/pull/120722" class="ulink" target="_top">#120722</a>
</li>
<li class="listitem">
Remove all mentions of eis and gateway and deprecate flags that do <a href="https://github.com/elastic/elasticsearch/pull/116692" class="ulink" target="_top">#116692</a>
</li>
<li class="listitem">
Remove deprecated sort from reindex operation within dataframe analytics procedure <a href="https://github.com/elastic/elasticsearch/pull/117606" class="ulink" target="_top">#117606</a>
</li>
<li class="listitem">
Retry on <code class="literal">ClusterBlockException</code> on transform destination index <a href="https://github.com/elastic/elasticsearch/pull/118194" class="ulink" target="_top">#118194</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Optional Source Filtering to Source Loaders <a href="https://github.com/elastic/elasticsearch/pull/113827" class="ulink" target="_top">#113827</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Network
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow http unsafe buffers by default <a href="https://github.com/elastic/elasticsearch/pull/116115" class="ulink" target="_top">#116115</a>
</li>
<li class="listitem">
Http stream activity tracker and exceptions handling <a href="https://github.com/elastic/elasticsearch/pull/119564" class="ulink" target="_top">#119564</a>
</li>
<li class="listitem">
Remove HTTP content copies <a href="https://github.com/elastic/elasticsearch/pull/117303" class="ulink" target="_top">#117303</a>
</li>
<li class="listitem">
<code class="literal">ConnectTransportException</code> returns retryable BAD_GATEWAY <a href="https://github.com/elastic/elasticsearch/pull/118681" class="ulink" target="_top">#118681</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118320" class="ulink" target="_top">#118320</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ranking
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set default reranker for text similarity reranker to Elastic reranker <a href="https://github.com/elastic/elasticsearch/pull/120551" class="ulink" target="_top">#120551</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add match support for <code class="literal">semantic_text</code> fields <a href="https://github.com/elastic/elasticsearch/pull/117839" class="ulink" target="_top">#117839</a>
</li>
<li class="listitem">
Add support for <code class="literal">sparse_vector</code> queries against <code class="literal">semantic_text</code> fields <a href="https://github.com/elastic/elasticsearch/pull/118617" class="ulink" target="_top">#118617</a>
</li>
<li class="listitem">
Add support for knn vector queries on <code class="literal">semantic_text</code> fields <a href="https://github.com/elastic/elasticsearch/pull/119011" class="ulink" target="_top">#119011</a>
</li>
<li class="listitem">
Adding linear retriever to support weighted sums of sub-retrievers <a href="https://github.com/elastic/elasticsearch/pull/120222" class="ulink" target="_top">#120222</a>
</li>
<li class="listitem">
Feat: add a user-configurable timeout parameter to the <code class="literal">_resolve/cluster</code> API <a href="https://github.com/elastic/elasticsearch/pull/120542" class="ulink" target="_top">#120542</a>
</li>
<li class="listitem">
Make semantic text part of the text family <a href="https://github.com/elastic/elasticsearch/pull/119792" class="ulink" target="_top">#119792</a>
</li>
<li class="listitem">
Only aggregations require at least one shard request <a href="https://github.com/elastic/elasticsearch/pull/115314" class="ulink" target="_top">#115314</a>
</li>
<li class="listitem">
Prevent data nodes from sending stack traces to coordinator when <code class="literal">error_trace=false</code> <a href="https://github.com/elastic/elasticsearch/pull/118266" class="ulink" target="_top">#118266</a>
</li>
<li class="listitem">
Propagate status codes from shard failures appropriately <a href="https://github.com/elastic/elasticsearch/pull/118016" class="ulink" target="_top">#118016</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118482" class="ulink" target="_top">#118482</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Snapshot/Restore
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add IMDSv2 support to <code class="literal">repository-s3</code> <a href="https://github.com/elastic/elasticsearch/pull/117748" class="ulink" target="_top">#117748</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/105135" class="ulink" target="_top">#105135</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Store
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Abort pending deletion on <code class="literal">IndicesService</code> close <a href="https://github.com/elastic/elasticsearch/pull/123569" class="ulink" target="_top">#123569</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
TSDB
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Increase field limit for OTel metrics to 10 000 <a href="https://github.com/elastic/elasticsearch/pull/120591" class="ulink" target="_top">#120591</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Transform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for <code class="literal">extended_stats</code> <a href="https://github.com/elastic/elasticsearch/pull/120340" class="ulink" target="_top">#120340</a>
</li>
<li class="listitem">
Auto-migrate <code class="literal">max_page_search_size</code> <a href="https://github.com/elastic/elasticsearch/pull/119348" class="ulink" target="_top">#119348</a>
</li>
<li class="listitem">
Create upgrade mode <a href="https://github.com/elastic/elasticsearch/pull/117858" class="ulink" target="_top">#117858</a>
</li>
<li class="listitem">
Wait while index is blocked <a href="https://github.com/elastic/elasticsearch/pull/119542" class="ulink" target="_top">#119542</a>
</li>
<li class="listitem">
[Deprecation] Add <code class="literal">transform_ids</code> to outdated index <a href="https://github.com/elastic/elasticsearch/pull/120821" class="ulink" target="_top">#120821</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Even better(er) binary quantization <a href="https://github.com/elastic/elasticsearch/pull/117994" class="ulink" target="_top">#117994</a>
</li>
<li class="listitem">
Speed up bit compared with floats or bytes script operations <a href="https://github.com/elastic/elasticsearch/pull/117199" class="ulink" target="_top">#117199</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="feature-8.18.0"></a>New features</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/8.18.0.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
CRUD
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Metrics for indexing failures due to version conflicts <a href="https://github.com/elastic/elasticsearch/pull/119067" class="ulink" target="_top">#119067</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
ES|QL
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ES|QL - Add Match function options <a href="https://github.com/elastic/elasticsearch/pull/120360" class="ulink" target="_top">#120360</a>
</li>
<li class="listitem">
ES|QL - Allow full text functions disjunctions for non-full text functions <a href="https://github.com/elastic/elasticsearch/pull/120291" class="ulink" target="_top">#120291</a>
</li>
<li class="listitem">
ES|QL: Enable async get to support formatting <a href="https://github.com/elastic/elasticsearch/pull/111104" class="ulink" target="_top">#111104</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/110926" class="ulink" target="_top">#110926</a>)
</li>
<li class="listitem">
Expand type compatibility for match function and operator <a href="https://github.com/elastic/elasticsearch/pull/117555" class="ulink" target="_top">#117555</a>
</li>
<li class="listitem">
ST_EXTENT aggregation <a href="https://github.com/elastic/elasticsearch/pull/117451" class="ulink" target="_top">#117451</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/104659" class="ulink" target="_top">#104659</a>)
</li>
<li class="listitem">
Support ST_ENVELOPE and related (ST_XMIN, ST_XMAX, ST_YMIN, ST_YMAX) functions <a href="https://github.com/elastic/elasticsearch/pull/116964" class="ulink" target="_top">#116964</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/104875" class="ulink" target="_top">#104875</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Highlighting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Highlighter for Semantic Text Fields <a href="https://github.com/elastic/elasticsearch/pull/118064" class="ulink" target="_top">#118064</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Infrastructure for assuming cluster features in the next major version <a href="https://github.com/elastic/elasticsearch/pull/118143" class="ulink" target="_top">#118143</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ES|QL categorize with multiple groupings <a href="https://github.com/elastic/elasticsearch/pull/118173" class="ulink" target="_top">#118173</a>
</li>
<li class="listitem">
Support mTLS for the Elastic Inference Service integration inside the inference API <a href="https://github.com/elastic/elasticsearch/pull/119679" class="ulink" target="_top">#119679</a>
</li>
<li class="listitem">
[Inference API] Add node-local rate limiting for the inference API <a href="https://github.com/elastic/elasticsearch/pull/120400" class="ulink" target="_top">#120400</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Mapping
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add option to store <code class="literal">sparse_vector</code> outside <code class="literal">_source</code> <a href="https://github.com/elastic/elasticsearch/pull/117917" class="ulink" target="_top">#117917</a>
</li>
<li class="listitem">
Release semantic_text as a GA feature <a href="https://github.com/elastic/elasticsearch/pull/124670" class="ulink" target="_top">#124670</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Ranking
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add a generic <code class="literal">rescorer</code> retriever based on the search request&#8217;s rescore functionality <a href="https://github.com/elastic/elasticsearch/pull/118585" class="ulink" target="_top">#118585</a> (issue: <a href="https://github.com/elastic/elasticsearch/issues/118327" class="ulink" target="_top">#118327</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Relevance
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add Multi-Field Support for Semantic Text Fields <a href="https://github.com/elastic/elasticsearch/pull/120128" class="ulink" target="_top">#120128</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Vector Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add new experimental <code class="literal">rank_vectors</code> mapping for late-interaction second order ranking <a href="https://github.com/elastic/elasticsearch/pull/118804" class="ulink" target="_top">#118804</a>
</li>
<li class="listitem">
KNN vector rescoring for quantized vectors <a href="https://github.com/elastic/elasticsearch/pull/116663" class="ulink" target="_top">#116663</a>
</li>
<li class="listitem">
Mark bbq indices as GA and add rolling upgrade integration tests <a href="https://github.com/elastic/elasticsearch/pull/121105" class="ulink" target="_top">#121105</a>
</li>
<li class="listitem">
Add new experimental <code class="literal">rank_vectors</code> mapping for late-interaction second order ranking <a href="https://github.com/elastic/elasticsearch/pull/119601" class="ulink" target="_top">#119601</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="upgrade-8.18.0"></a>Upgrades</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/8.18.0.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Bump major version for feature migration system indices <a href="https://github.com/elastic/elasticsearch/pull/117243" class="ulink" target="_top">#117243</a>
</li>
<li class="listitem">
Permanently switch from Java SecurityManager to Entitlements. The Java SecurityManager has been deprecated since
Java 17, and it is now completely disabled in Java 24. In order to retain a similar level of protection, Elasticsearch
implemented its own protection mechanism, Entitlements. Starting with this version, Entitlements will permanently replace the Java SecurityManager. <a href="https://github.com/elastic/elasticsearch/pull/125073" class="ulink" target="_top">#125073</a>
</li>
<li class="listitem">
Update ASM 9.7 &#8594; 9.7.1 to support JDK 24 <a href="https://github.com/elastic/elasticsearch/pull/118094" class="ulink" target="_top">#118094</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Automatically rollover legacy .ml-anomalies indices <a href="https://github.com/elastic/elasticsearch/pull/120885" class="ulink" target="_top">#120885</a>
</li>
<li class="listitem">
Automatically rollover legacy ml indices <a href="https://github.com/elastic/elasticsearch/pull/120405" class="ulink" target="_top">#120405</a>
</li>
<li class="listitem">
Change the auditor to write via an alias <a href="https://github.com/elastic/elasticsearch/pull/120064" class="ulink" target="_top">#120064</a>
</li>
<li class="listitem">
Check if the anomaly results index has been rolled over <a href="https://github.com/elastic/elasticsearch/pull/125404" class="ulink" target="_top">#125404</a>
</li>
<li class="listitem">
Update minimum supported snapshot version for Machine Learning jobs to 8.3.0 <a href="https://github.com/elastic/elasticsearch/pull/118166" class="ulink" target="_top">#118166</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Packaging
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update bundled JDK to Java 24 <a href="https://github.com/elastic/elasticsearch/pull/125159" class="ulink" target="_top">#125159</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Search
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade to Lucene 9.12.1 <a href="https://github.com/elastic/elasticsearch/pull/118300" class="ulink" target="_top">#118300</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Script for migrating <code class="literal">.watches</code> and <code class="literal">.triggered_watches</code> indices <a href="https://github.com/elastic/elasticsearch/pull/120371" class="ulink" target="_top">#120371</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="known-issues-8.18.0"></a>Known issues</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/8.19/docs/reference/release-notes/8.18.0.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Infra/Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Elasticsearch on Windows might fail to start, or might forbid some file-related operations, when referencing paths
with a case different from the one stored by the filesystem. Windows treats paths as case-insensitive, but the
filesystem stores them with case. Entitlements, the new security system used by Elasticsearch, treat all paths as
case-sensitive, and can therefore prevent access to a path that should be accessible.</p>
<p>For example: If Elasticsearch is installed in  <code class="literal">C:\ELK\elasticsearch</code>, and you try to launch it as
<code class="literal">c:\elk\elasticsearch\bin\elasticsearch.bat</code>, you will get a <code class="literal">NotEntitledException</code> while booting. This is because
Elasticsearch blocks access to <code class="literal">c:\elk\elasticsearch</code>, because does not match <code class="literal">C:\ELK\elasticsearch</code>.
This issue will be fixed in a future patch release (see <a href="https://github.com/elastic/elasticsearch/pull/126990" class="ulink" target="_top">#126990</a>).</p>
<p>As a workaround, make sure that all paths you specify have the same casing as the paths stored in the filesystem.
Files and directory names should be entered as they appear in Windows Explorer or in a command prompt. This applies
to paths specified in the command line, config files, environment variables and secure settings.</p>
</li>
<li class="listitem">
<p>Active Directory authentication is blocked by default. Entitlements, the new security system used by Elasticsearch,
has a policy for the <code class="literal">x-pack-core</code> module that is too restrictive, and does not allow the LDAP library used for AD
authentication to perform outbound network connections. This issue will be fixed in a future patch release
(see <a href="https://github.com/elastic/elasticsearch/pull/126992" class="ulink" target="_top">#126992</a>).</p>
<p>As a workaround, you can temporarily patch the policy using a JVM option:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Create a file called <code class="literal">${ES_CONF_PATH}/jvm_options/workaround-127061.options</code>.
</li>
<li class="listitem">
<p>Add the following line to the new file:</p>
<pre class="literallayout">-Des.entitlements.policy.x-pack-core=dmVyc2lvbnM6CiAgLSA4LjE4LjAKICAtIDkuMC4wCnBvbGljeToKICB1bmJvdW5kaWQubGRhcHNkazoKICAgIC0gc2V0X2h0dHBzX2Nvbm5lY3Rpb25fcHJvcGVydGllcwogICAgLSBvdXRib3VuZF9uZXR3b3Jr</pre>

<p>For information about editing your JVM settings, refer to <a class="xref" href="advanced-configuration.html#set-jvm-options">Set JVM options</a>.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-8.19.0.html">« Elasticsearch version 8.19.0</a>
</span>
<span class="next">
<a href="release-notes-8.17.5.html">Elasticsearch version 8.17.5 »</a>
</span>
</div>
</body>
</html>
