<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Discovery configuration check | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Discovery configuration check | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="bootstrap-checks.html" title="Bootstrap Checks"/>
<link rel="prev" href="_all_permission_check.html" title="All permission check"/>
<link rel="next" href="bootstrap-checks-xpack.html" title="Bootstrap Checks for X-Pack"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="_all_permission_check.html">« All permission check</a>
</span>
<span class="next">
<a href="bootstrap-checks-xpack.html">Bootstrap Checks for X-Pack »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="bootstrap-checks.html">Bootstrap Checks</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Discovery configuration check</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/setup/bootstrap-checks.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_discovery_configuration_check"></a>Discovery configuration check<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/setup/bootstrap-checks.asciidoc">edit</a></h2>
</div></div></div>
<p>By default, when Elasticsearch first starts up it will try and discover other
nodes running on the same host. If no elected master can be discovered within a
few seconds then Elasticsearch will form a cluster that includes any other
nodes that were discovered. It is useful to be able to form this cluster
without any extra configuration in development mode, but this is unsuitable for
production because it&#8217;s possible to form multiple clusters and lose data as a
result.</p>
<p>This bootstrap check ensures that discovery is not running with the default
configuration. It can be satisfied by setting at least one of the following
properties:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">discovery.seed_hosts</code>
</li>
<li class="listitem">
<code class="literal">discovery.seed_providers</code>
</li>
<li class="listitem">
<code class="literal">cluster.initial_master_nodes</code>
</li>
</ul>
</div>
<p>Note that you should remove <code class="literal">cluster.initial_master_nodes</code> from the
configuration after the cluster has started for the first time. Do not use this
setting when restarting nodes or when adding new nodes to an existing cluster.
Instead, configure <code class="literal">discovery.seed_hosts</code> or <code class="literal">discovery.seed_providers</code>. If you
do not need any discovery configuration, for instance if running a single-node
cluster, set <code class="literal">discovery.seed_hosts: []</code> to disable discovery and satisfy this
bootstrap check.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="_all_permission_check.html">« All permission check</a>
</span>
<span class="next">
<a href="bootstrap-checks-xpack.html">Bootstrap Checks for X-Pack »</a>
</span>
</div>
</body>
</html>
