<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Heap size check | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Heap size check | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="bootstrap-checks.html" title="Bootstrap Checks"/>
<link rel="prev" href="bootstrap-checks.html" title="Bootstrap Checks"/>
<link rel="next" href="_file_descriptor_check.html" title="File descriptor check"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="bootstrap-checks.html">Bootstrap Checks</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="bootstrap-checks.html">« Bootstrap Checks</a>
</span>
<span class="next">
<a href="_file_descriptor_check.html">File descriptor check »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="_heap_size_check"></a>Heap size check<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/setup/bootstrap-checks.asciidoc">edit</a></h2>
</div></div></div>
<p>By default, Elasticsearch automatically sizes JVM heap based on a node&#8217;s
<a class="xref" href="modules-node.html#node-roles" title="Node roles">roles</a> and total memory. If you manually override the default
sizing and start the JVM with different initial and max heap sizes, the JVM may
pause as it resizes the heap during system usage. If you enable
<a class="xref" href="setup-configuration-memory.html#bootstrap-memory_lock" title="Enable bootstrap.memory_lock"><code class="literal">bootstrap.memory_lock</code></a>, the JVM locks the initial heap
size on startup. If the initial heap size is not equal to the maximum heap size,
some JVM heap may not be locked after a resize. To avoid these issues, start the
JVM with an initial heap size equal to the maximum heap size.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="bootstrap-checks.html">« Bootstrap Checks</a>
</span>
<span class="next">
<a href="_file_descriptor_check.html">File descriptor check »</a>
</span>
</div>
</div>
</body>
</html>
