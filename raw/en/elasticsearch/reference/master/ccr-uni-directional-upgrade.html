<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Uni-directional index following | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Uni-directional index following | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="ccr-upgrading.html" title="Upgrading clusters using cross-cluster replication"/>
<link rel="prev" href="ccr-upgrading.html" title="Upgrading clusters using cross-cluster replication"/>
<link rel="next" href="ccr-bi-directional-upgrade.html" title="Bi-directional index following"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="ccr-upgrading.html">« Upgrading clusters using cross-cluster replication</a>
</span>
<span class="next">
<a href="ccr-bi-directional-upgrade.html">Bi-directional index following »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="xpack-ccr.html">Cross-cluster replication</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ccr-upgrading.html">Upgrading clusters using cross-cluster replication</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Uni-directional index following</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ccr/upgrading.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="ccr-uni-directional-upgrade"></a>Uni-directional index following</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ccr/upgrading.asciidoc">edit</a></div>
</div></div></div>
<p>In a uni-directional configuration, one cluster contains only
leader indices, and the other cluster contains only follower indices that
replicate the leader indices.</p>
<p>In this strategy, the cluster with follower indices should be upgraded
first and the cluster with leader indices should be upgraded last.
Upgrading the clusters in this order ensures that index following can continue
during the upgrade without downtime.</p>
<p>You can also use this strategy to upgrade a
<a class="xref" href="xpack-ccr.html#ccr-chained-replication" title="Chained replication">replication chain</a>. Start by upgrading clusters at
the end of the chain and working your way back to the cluster that contains the
leader indices.</p>
<p>For example, consider a configuration where Cluster A contains all leader
indices. Cluster B follows indices in Cluster A, and Cluster C follows indices
in Cluster B.</p>
<pre class="literallayout">Cluster A
        ^--Cluster B
                   ^--Cluster C</pre>

<p>In this configuration, upgrade the clusters in the following order:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Cluster C
</li>
<li class="listitem">
Cluster B
</li>
<li class="listitem">
Cluster A
</li>
</ol>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ccr-upgrading.html">« Upgrading clusters using cross-cluster replication</a>
</span>
<span class="next">
<a href="ccr-bi-directional-upgrade.html">Bi-directional index following »</a>
</span>
</div>
</body>
</html>
