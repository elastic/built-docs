<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Completion field type | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Completion field type | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="mapping-types.html" title="Field data types"/>
<link rel="prev" href="boolean.html" title="Boolean field type"/>
<link rel="next" href="date.html" title="Date field type"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="boolean.html">« Boolean field type</a>
</span>
<span class="next">
<a href="date.html">Date field type »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="mapping.html">Mapping</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="mapping-types.html">Field data types</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Completion field type</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/mapping/types/completion.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="completion"></a>Completion field type<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/mapping/types/completion.asciidoc">edit</a></h2>
</div></div></div>

<p>To use the <a class="xref" href="search-suggesters.html#completion-suggester" title="Completion Suggester"><code class="literal">completion</code> suggester</a>, map the field from
which you want to generate suggestions as type <code class="literal">completion</code>. This indexes the
field values for fast completions.</p>
<div class="pre_wrapper lang-python alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python alternative">resp = client.indices.create(
    index="music",
    body={"mappings": {"properties": {"suggest": {"type": "completion"}}}},
)
print(resp)</pre>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.create(
  index: 'music',
  body: {
    mappings: {
      properties: {
        suggest: {
          type: 'completion'
        }
      }
    }
  }
)
puts response</pre>
</div>
<a id="31ac1b68dc7c26a1d37350be47ae9381"></a>
<div class="pre_wrapper lang-console default has-python has-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-python has-ruby">PUT music
{
  "mappings": {
    "properties": {
      "suggest": {
        "type": "completion"
      }
    }
  }
}</pre>
</div>
<div class="console_widget has-python has-ruby" data-snippet="snippets/188.console"></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_parameters_for_completion_fields"></a>Parameters for <code class="literal">completion</code> fields<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/mapping/types/completion.asciidoc">edit</a></h3>
</div></div></div>
<p>The following parameters are accepted by <code class="literal">completion</code> fields:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<a class="xref" href="analyzer.html" title="analyzer"><code class="literal">analyzer</code></a>
</p>
</td>
<td valign="top">
<p>
The index analyzer to use, defaults to <code class="literal">simple</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<a class="xref" href="search-analyzer.html" title="search_analyzer"><code class="literal">search_analyzer</code></a>
</p>
</td>
<td valign="top">
<p>
The search analyzer to use, defaults to value of <code class="literal">analyzer</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">preserve_separators</code>
</p>
</td>
<td valign="top">
<p>
Preserves the separators, defaults to <code class="literal">true</code>.
If disabled, you could find a field starting with <code class="literal">Foo Fighters</code>, if you
suggest for <code class="literal">foof</code>.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">preserve_position_increments</code>
</p>
</td>
<td valign="top">
<p>
Enables position increments, defaults to <code class="literal">true</code>.
If disabled and using stopwords analyzer, you could get a
field starting with <code class="literal">The Beatles</code>, if you suggest for <code class="literal">b</code>. <span class="strong strong"><strong>Note</strong></span>: You
could also achieve this by indexing two inputs, <code class="literal">Beatles</code> and
<code class="literal">The Beatles</code>, no need to change a simple analyzer, if you are able to
enrich your data.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">max_input_length</code>
</p>
</td>
<td valign="top">
<p>
Limits the length of a single input, defaults to <code class="literal">50</code> UTF-16 code points.
This limit is only used at index time to reduce the total number of
characters per input string in order to prevent massive inputs from
bloating the underlying datastructure. Most use cases won&#8217;t be influenced
by the default value since prefix completions seldom grow beyond prefixes longer
than a handful of characters.
</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="boolean.html">« Boolean field type</a>
</span>
<span class="next">
<a href="date.html">Date field type »</a>
</span>
</div>
</body>
</html>
