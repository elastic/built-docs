<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Get the lifecycle of a data stream | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Get the lifecycle of a data stream | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="data-stream-apis.html" title="Data stream APIs"/>
<link rel="prev" href="data-streams-put-lifecycle.html" title="Set the lifecycle of a data stream"/>
<link rel="next" href="data-streams-delete-lifecycle.html" title="Delete the lifecycle of a data stream"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="data-streams-put-lifecycle.html">« Set the lifecycle of a data stream</a>
</span>
<span class="next">
<a href="data-streams-delete-lifecycle.html">Delete the lifecycle of a data stream »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="data-stream-apis.html">Data stream APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Get the lifecycle of a data stream</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/data-streams/lifecycle/apis/get-lifecycle.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="data-streams-get-lifecycle"></a>Get the lifecycle of a data stream<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/data-streams/lifecycle/apis/get-lifecycle.asciidoc">edit</a></h2>
</div></div></div>

<p>Gets the lifecycle of a set of data streams.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-lifecycle-api-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/data-streams/lifecycle/apis/get-lifecycle.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have at least one of the <code class="literal">manage</code>
<a class="xref" href="security-privileges.html#privileges-list-indices" title="Indices privileges">index privilege</a>, the <code class="literal">manage_data_stream_lifecycle</code> index privilege, or the
<code class="literal">view_index_metadata</code> privilege to use this API. For more information, see <a class="xref" href="security-privileges.html" title="Security privileges">Security privileges</a>.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="data-streams-get-lifecycle-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/data-streams/lifecycle/apis/get-lifecycle.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET _data_stream/&lt;data-stream&gt;/_lifecycle</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="data-streams-get-lifecycle-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/data-streams/lifecycle/apis/get-lifecycle.asciidoc">edit</a></h3>
</div></div></div>
<p>Gets the lifecycle of the specified data streams. If multiple data streams are requested but at least one of them
does not exist, then the API will respond with <code class="literal">404</code> since at least one of the requested resources could not be retrieved.
If the requested data streams do not have a lifecycle configured they will still be included in the API response but the
<code class="literal">lifecycle</code> key will be missing.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="data-streams-get-lifecycle-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/data-streams/lifecycle/apis/get-lifecycle.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;data-stream&gt;</code>
</span>
</dt>
<dd>
(Required, string) Comma-separated list of data streams used to limit the request. Supports wildcards (<code class="literal">*</code>).
To target all data streams use <code class="literal">*</code> or <code class="literal">_all</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-data-lifecycle-api-query-parms"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/data-streams/lifecycle/apis/get-lifecycle.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">expand_wildcards</code>
</span>
</dt>
<dd>
<p>(Optional, string)
Type of data stream that wildcard patterns can match. Supports
comma-separated values, such as <code class="literal">open,hidden</code>. Valid values are:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">all</code>, <code class="literal">hidden</code>
</span>
</dt>
<dd>
Match any data stream, including <a class="xref" href="api-conventions.html#multi-hidden" title="Hidden data streams and indices">hidden</a> ones.
</dd>
<dt>
<span class="term">
<code class="literal">open</code>, <code class="literal">closed</code>
</span>
</dt>
<dd>
Matches any non-hidden data stream. Data streams cannot be closed.
</dd>
<dt>
<span class="term">
<code class="literal">none</code>
</span>
</dt>
<dd>
Wildcard patterns are not accepted.
</dd>
</dl>
</div>
<p>Defaults to <code class="literal">open</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">include_defaults</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, return all default settings in the response.
Defaults to <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-lifecycle-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/data-streams/lifecycle/apis/get-lifecycle.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">data_streams</code>
</span>
</dt>
<dd>
<p>
(array of objects)
Contains information about retrieved data stream lifecycles.
</p>
<details open>
<summary class="title">Properties of objects in <code class="literal">data_streams</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string)
Name of the data stream.
</dd>
<dt>
<span class="term">
<code class="literal">lifecycle</code>
</span>
</dt>
<dd>
<p>
(Optional, object)
</p>
<details open>
<summary class="title">Properties of <code class="literal">lifecycle</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">data_retention</code>
</span>
</dt>
<dd>
(Optional, string)
If defined, every document added to this data stream will be stored at least for this time frame. Any time after this
duration the document could be deleted. When undefined, every document in this data stream will be stored indefinitely.
</dd>
<dt>
<span class="term">
<code class="literal">rollover</code>
</span>
</dt>
<dd>
(Optional, object)
The conditions which will trigger the rollover of a backing index as configured by the cluster setting
<code class="literal">cluster.lifecycle.default.rollover</code>. This property is an implementation detail and it will only be retrieved
when the query param <code class="literal">include_defaults</code> is set to <code class="literal">true</code>. The contents of this field are subject to change.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="data-streams-get-lifecycle-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/data-streams/lifecycle/apis/get-lifecycle.asciidoc">edit</a></h3>
</div></div></div>
<p>Let&#8217;s retrieve the lifecycles:</p>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.indices.get_data_lifecycle(
  name: 'my-data-stream*'
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.getDataLifecycle({
  name: "my-data-stream*",
});
console.log(response);</pre>
</div>
<a id="9fda516a5dc60ba477b970eaad4429db"></a>
<div class="pre_wrapper lang-console default has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-ruby has-js">GET _data_stream/my-data-stream*/_lifecycle</pre>
</div>
<div class="console_widget has-ruby has-js" data-snippet="snippets/2499.console"></div>
<p>The response will look like the following:</p>
<a id="ce68c9a6de2d491cfd063b021359a86c"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "data_streams": [
    {
      "name": "my-data-stream-1",
      "lifecycle": {
        "enabled": true,
        "data_retention": "7d"
      }
    },
    {
      "name": "my-data-stream-2",
      "lifecycle": {
        "enabled": true,
        "data_retention": "7d"
      }
    }
  ]
}</pre>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="data-streams-put-lifecycle.html">« Set the lifecycle of a data stream</a>
</span>
<span class="next">
<a href="data-streams-delete-lifecycle.html">Delete the lifecycle of a data stream »</a>
</span>
</div>
</body>
</html>
