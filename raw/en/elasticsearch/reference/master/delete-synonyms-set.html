<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Delete synonyms set | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Delete synonyms set | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="synonyms-apis.html" title="Synonyms APIs"/>
<link rel="prev" href="list-synonyms-sets.html" title="List synonyms sets"/>
<link rel="next" href="put-synonym-rule.html" title="Create or update synonym rule"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="list-synonyms-sets.html">« List synonyms sets</a>
</span>
<span class="next">
<a href="put-synonym-rule.html">Create or update synonym rule »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="synonyms-apis.html">Synonyms APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Delete synonyms set</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/synonyms/apis/delete-synonyms-set.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="delete-synonyms-set"></a>Delete synonyms set<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/synonyms/apis/delete-synonyms-set.asciidoc">edit</a></h2>
</div></div></div>

<p>Deletes a synonyms set.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-synonyms-set-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/synonyms/apis/delete-synonyms-set.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">DELETE _synonyms/&lt;synonyms_set&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-synonyms-set-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/synonyms/apis/delete-synonyms-set.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Requires the <code class="literal">manage_search_synonyms</code> cluster privilege.
</li>
<li class="listitem">
You can only delete a synonyms set that is not in use by any index analyzer. See <a class="xref" href="delete-synonyms-set.html#delete-synonym-set-analyzer-requirements" title="Delete synonyms set analyzer requirements">Delete synonyms set analyzer requirements</a> for more information.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-synonyms-set-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/synonyms/apis/delete-synonyms-set.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;synonyms_set&gt;</code>
</span>
</dt>
<dd>
(Required, string)
Synonyms set identifier to delete.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-synonyms-set-response-codes"></a>Response codes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/synonyms/apis/delete-synonyms-set.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">400</code>
</span>
</dt>
<dd>
The <code class="literal">synonyms_set</code> identifier was not provided, or the synonyms set can&#8217;t be deleted because it does not meet the <a class="xref" href="delete-synonyms-set.html#delete-synonym-set-analyzer-requirements" title="Delete synonyms set analyzer requirements">specified requirements</a>.
</dd>
<dt>
<span class="term">
<code class="literal">404</code> (Missing resources)
</span>
</dt>
<dd>
No synonyms set with the identifier <code class="literal">synonyms_set</code> was found.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="delete-synonyms-set-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/synonyms/apis/delete-synonyms-set.asciidoc">edit</a></h3>
</div></div></div>
<p>The following example deletes a synonyms set called <code class="literal">my-synonyms-set</code>:</p>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.synonyms.delete_synonym(
  id: 'my-synonyms-set'
)
puts response</pre>
</div>
<a id="3386fe07e90844dbcdbbe7c07f09e04a"></a>
<div class="pre_wrapper lang-console default has-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-ruby">DELETE _synonyms/my-synonyms-set</pre>
</div>
<div class="console_widget has-ruby" data-snippet="snippets/3337.console"></div>
<h4><a id="delete-synonym-set-analyzer-requirements"></a>Delete synonyms set analyzer requirements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/synonyms/apis/delete-synonyms-set.asciidoc">edit</a></h4>
<p>synonyms sets can be used in  <a class="xref" href="analysis-synonym-graph-tokenfilter.html" title="Synonym graph token filter">synonym graph token filters</a> and <a class="xref" href="analysis-synonym-tokenfilter.html" title="Synonym token filter">synonym token filters</a>.
These synonym filters can be used as part of <a class="xref" href="search-analyzer.html" title="search_analyzer">search analyzers</a>.</p>
<p>Analyzers need to be loaded when an index is restored (such as when a node starts, or the index becomes open).
Even if the analyzer is not used on any field mapping, it still needs to be loaded on the index recovery phase.</p>
<p>If any analyzers cannot be loaded, the index becomes unavailable and the cluster status becomes <a class="xref" href="red-yellow-cluster-status.html" title="Red or yellow cluster health status">red or yellow</a> as index shards are not available.</p>
<p>To prevent that, synonyms sets that are used in analyzers can&#8217;t be deleted.
A delete request in this case will return a <code class="literal">400</code> response code with the following error message:</p>
<a id="57fa0269123e8388207189c9860d6b0f"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "error": {
    "root_cause": [
      {
        "type": "illegal_argument_exception",
        "reason": "synonyms set [my-synonyms-set] cannot be deleted as it is used in the following indices: index-1, index-2",
        "stack_trace": ...
      }
    ],
    "type": "illegal_argument_exception",
    "reason": "synonyms set [my-synonyms-set] cannot be deleted as it is used in the following indices: index-1, index-2",
    "stack_trace": ...
  },
  "status": 400
}</pre>
</div>
<p>To remove a synonyms set, you must first remove all indices that contain analyzers using it.
You can migrate an index by creating a new index that does not contain the token filter with the synonyms set, and use the <a class="xref" href="docs-reindex.html" title="Reindex API">Reindex</a> in order to copy over the index data.
Once finished, you can delete the index.</p>
<p>When the synonyms set is not used in analyzers, you will be able to delete it.</p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="list-synonyms-sets.html">« List synonyms sets</a>
</span>
<span class="next">
<a href="put-synonym-rule.html">Create or update synonym rule »</a>
</span>
</div>
</body>
</html>
