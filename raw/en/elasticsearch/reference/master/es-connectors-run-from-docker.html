<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Running from a Docker container | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Running from a Docker container | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="es-build-connector.html" title="Self-managed connectors"/>
<link rel="prev" href="es-build-connector.html" title="Self-managed connectors"/>
<link rel="next" href="es-connectors-run-from-source.html" title="Running from the source code"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="es-build-connector.html">« Self-managed connectors</a>
</span>
<span class="next">
<a href="es-connectors-run-from-source.html">Running from the source code »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="es-connectors.html">Ingest content with Elastic connectors</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="es-build-connector.html">Self-managed connectors</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Running from a Docker container</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/connector/docs/connectors-run-from-docker.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="es-connectors-run-from-docker"></a>Running from a Docker container</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/connector/docs/connectors-run-from-docker.asciidoc">edit</a></div>
</div></div></div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Use our <a class="xref" href="es-connectors-docker-compose-quickstart.html" title="Docker Compose quickstart">Docker Compose quickstart</a> to quickly get started with a full Elastic Stack deployment using Connectors.</p>
</div>
</div>
<p>Instead of running the Connectors Service from source, you can use the official Docker image to run the service in a container.</p>
<p>As a prerequisite, you need to have an Elasticsearch and Kibana instance running.
From inside your Kibana UI, You will need to <a class="xref" href="es-connectors-run-from-source.html#es-connectors-run-from-source-setup-kibana" title="Initial setup in Kibana">follow the initial setup</a> in the same manner as if you are running the service from source.</p>
<p>When you are ready to run Connectors:</p>
<p><span class="strong strong"><strong>Step 1: Download sample configuration file</strong></span></p>
<p>Download the sample configuration file.
You can either download it manually or run the following command:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl https://raw.githubusercontent.com/elastic/connectors/main/config.yml.example --output &lt;/absolute/path/to&gt;/connectors-config/config.yml</pre>
</div>
<p>Don&#8217;t forget to change the <code class="literal">--output</code> argument value to the path where you want to save the <code class="literal">config.yml</code> file on your local system.
But keep note of where you wrote this file, as it is required in the <code class="literal">docker run</code> step below.</p>
<p><span class="strong strong"><strong>Step 2: Update the configuration file for your self-managed connector</strong></span></p>
<p>Update the configuration file with the following settings to match your environment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">elasticsearch.host</code>
</li>
<li class="listitem">
<code class="literal">elasticsearch.api_key</code>
</li>
<li class="listitem">
<code class="literal">connectors</code>
</li>
</ul>
</div>
<p>If you&#8217;re running the connector service against a Dockerized version of Elasticsearch and Kibana, your config file will look like this:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml"># When connecting to your cloud deployment you should edit the host value
elasticsearch.host: http://host.docker.internal:9200
elasticsearch.api_key: &lt;ELASTICSEARCH_API_KEY&gt;

connectors:
  -
    connector_id: &lt;CONNECTOR_ID_FROM_KIBANA&gt;
    service_type: Zoom # sharepoint_online (example)
    api_key: &lt;CONNECTOR_API_KEY_FROM_KIBANA&gt; # Optional. If not provided, the connector will use the elasticsearch.api_key instead</pre>
</div>
<p><span class="strong strong"><strong>Step 3: Run the Docker image</strong></span></p>
<p>Run the Docker image with the Connector Service using the following command:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">docker run \
-v "&lt;/absolute/path/to&gt;/connectors-config:/config" \ # NOTE: you must change this path to match where the config.yml is located
--rm \
--tty -i \
--network host \
docker.elastic.co/integrations/elastic-connectors:9.0.0-beta1.0 \
/app/bin/elastic-ingest \
-c /config/config.yml</pre>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>For unreleased versions, append the <code class="literal">-SNAPSHOT</code> suffix to the version number.
For example, <code class="literal">docker.elastic.co/integrations/elastic-connectors:8.14.0.0-SNAPSHOT</code>.</p>
</div>
</div>
<p>Find all available Docker images in the <a href="https://www.docker.elastic.co/r/integrations/elastic-connectors" class="ulink" target="_top">official registry</a>.</p>
<div class="position-relative"><h4><a id="es-build-connector-finalizes-kibana"></a>Enter data source details in Kibana</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/connector/docs/connectors-run-from-docker.asciidoc">edit</a></div>
<p>Once the connector service is running, it&#8217;s time to head back to the Kibana UI to finalize the connector configuration.
In this step, you need to add the specific connection details about your data source instance, like URL, authorization credentials, etc.
As mentioned above, these details will vary based on the third-party data source you’re connecting to.</p>
<p>For example, the PostgreSQL connector requires the following details:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Host</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Port</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Username</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Password</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Database</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Comma-separated list of tables</strong></span>
</li>
</ul>
</div>
<p>You&#8217;re now ready to run a sync.
Select the <span class="strong strong"><strong>Full sync</strong></span> button in the Kibana UI to start ingesting documents into Elasticsearch.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="es-build-connector.html">« Self-managed connectors</a>
</span>
<span class="next">
<a href="es-connectors-run-from-source.html">Running from the source code »</a>
</span>
</div>
</body>
</html>
