<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Find messages structure API | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Find messages structure API | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="text-structure-apis.html" title="Text structure APIs"/>
<link rel="prev" href="find-field-structure.html" title="Find field structure API"/>
<link rel="next" href="find-structure.html" title="Find text structure API"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="find-field-structure.html">« Find field structure API</a>
</span>
<span class="next">
<a href="find-structure.html">Find text structure API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="text-structure-apis.html">Text structure APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Find messages structure API</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/text-structure/apis/find-message-structure.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="find-message-structure"></a>Find messages structure API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/text-structure/apis/find-message-structure.asciidoc">edit</a></h2>
</div></div></div>
<p>Finds the structure of a list of text messages.</p>
<h4><a id="find-message-structure-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/text-structure/apis/find-message-structure.asciidoc">edit</a></h4>
<p><code class="literal">GET _text_structure/find_message_structure</code><br>
<code class="literal">POST _text_structure/find_message_structure</code></p>
<h4><a id="find-message-structure-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/text-structure/apis/find-message-structure.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If the Elasticsearch security features are enabled, you must have <code class="literal">monitor_text_structure</code> or
<code class="literal">monitor</code> cluster privileges to use this API. See
<a class="xref" href="security-privileges.html" title="Security privileges">Security privileges</a>.
</li>
</ul>
</div>
<h4><a id="find-message-structure-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/text-structure/apis/find-message-structure.asciidoc">edit</a></h4>
<p>This API provides a starting point for ingesting data into Elasticsearch in a format that
is suitable for subsequent use with other Elastic Stack functionality. Use this
API in preference to <code class="literal">find_structure</code> when your input text has already been
split up into separate messages by some other process.</p>
<p>The response from the API contains:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Sample messages.
</li>
<li class="listitem">
Statistics that reveal the most common values for all fields detected within
the text and basic numeric statistics for numeric fields.
</li>
<li class="listitem">
Information about the structure of the text, which is useful when you write
ingest configurations to index it or similarly formatted text.
</li>
<li class="listitem">
Appropriate mappings for an Elasticsearch index, which you could use to ingest the text.
</li>
</ul>
</div>
<p>All this information can be calculated by the structure finder with no guidance.
However, you can optionally override some of the decisions about the text
structure by specifying one or more query parameters.</p>
<p>Details of the output can be seen in the <a class="xref" href="find-message-structure.html#find-message-structure-examples" title="Examples">examples</a>.</p>
<p>If the structure finder produces unexpected results,
specify the <code class="literal">explain</code> query parameter and an <code class="literal">explanation</code> will appear in
the response. It helps determine why the returned structure was
chosen.</p>
<h4><a id="find-message-structure-query-parms"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/text-structure/apis/find-message-structure.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">column_names</code>
</span>
</dt>
<dd>
(Optional, string) If you have set <code class="literal">format</code> to <code class="literal">delimited</code>, you can specify the
column names in a comma-separated list. If this parameter is not specified, the
structure finder uses the column names from the header row of the text. If the
text does not have a header row, columns are named "column1", "column2",
"column3", etc.
</dd>
<dt>
<span class="term">
<code class="literal">delimiter</code>
</span>
</dt>
<dd>
(Optional, string) If you have set <code class="literal">format</code> to <code class="literal">delimited</code>, you can specify the
character used to delimit the values in each row. Only a single character is
supported; the delimiter cannot have multiple characters. By default, the API
considers the following possibilities: comma, tab, semi-colon, and pipe (<code class="literal">|</code>).
In this default scenario, all rows must have the same number of fields for the
delimited format to be detected. If you specify a delimiter, up to 10% of the
rows can have a different number of columns than the first row.
</dd>
<dt>
<span class="term">
<code class="literal">explain</code>
</span>
</dt>
<dd>
(Optional, Boolean) If <code class="literal">true</code>, the response includes a
field named <code class="literal">explanation</code>, which is an array of strings that indicate how the
structure finder produced its result. The default value is <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">format</code>
</span>
</dt>
<dd>
(Optional, string) The high level structure of the text. Valid values are
<code class="literal">ndjson</code>, <code class="literal">xml</code>, <code class="literal">delimited</code>, and <code class="literal">semi_structured_text</code>. By default, the API
chooses the format. In this default scenario, all rows must have the same number
of fields for a delimited format to be detected. If the <code class="literal">format</code> is set to
<code class="literal">delimited</code> and the <code class="literal">delimiter</code> is not set, however, the API tolerates up to 5%
of rows that have a different number of columns than the first row.
</dd>
<dt>
<span class="term">
<code class="literal">grok_pattern</code>
</span>
</dt>
<dd>
(Optional, string) If you have set <code class="literal">format</code> to <code class="literal">semi_structured_text</code>, you can
specify a Grok pattern that is used to extract fields from every message in the
text. The name of the timestamp field in the Grok pattern must match what is
specified in the <code class="literal">timestamp_field</code> parameter. If that parameter is not
specified, the name of the timestamp field in the Grok pattern must match
"timestamp". If <code class="literal">grok_pattern</code> is not specified, the structure finder creates a
Grok pattern.
</dd>
<dt>
<span class="term">
<code class="literal">ecs_compatibility</code>
</span>
</dt>
<dd>
(Optional, string) The mode of compatibility with ECS compliant Grok patterns.
Use this parameter to specify whether to use ECS Grok patterns instead of
legacy ones when the structure finder creates a Grok pattern. Valid values
are <code class="literal">disabled</code> and <code class="literal">v1</code>. The default value is <code class="literal">disabled</code>. This setting primarily
has an impact when a whole message Grok pattern such as <code class="literal">%{CATALINALOG}</code>
matches the input. If the structure finder identifies a common structure but
has no idea of meaning then generic field names such as <code class="literal">path</code>, <code class="literal">ipaddress</code>,
<code class="literal">field1</code> and <code class="literal">field2</code> are used in the <code class="literal">grok_pattern</code> output, with the intention
that a user who knows the meanings rename these fields before using it.
</dd>
<dt>
<span class="term">
<code class="literal">quote</code>
</span>
</dt>
<dd>
(Optional, string) If you have set <code class="literal">format</code> to <code class="literal">delimited</code>, you can specify the
character used to quote the values in each row if they contain newlines or the
delimiter character. Only a single character is supported. If this parameter is
not specified, the default value is a double quote (<code class="literal">"</code>). If your delimited text
format does not use quoting, a workaround is to set this argument to a character
that does not appear anywhere in the sample.
</dd>
<dt>
<span class="term">
<code class="literal">should_trim_fields</code>
</span>
</dt>
<dd>
(Optional, Boolean) If you have set <code class="literal">format</code> to <code class="literal">delimited</code>, you can specify
whether values between delimiters should have whitespace trimmed from them. If
this parameter is not specified and the delimiter is pipe (<code class="literal">|</code>), the default
value is <code class="literal">true</code>. Otherwise, the default value is <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>) Sets the maximum amount of time that the
structure analysis may take. If the analysis is still running when the timeout
expires then it will be stopped. The default value is 25 seconds.
</dd>
<dt>
<span class="term">
<code class="literal">timestamp_field</code>
</span>
</dt>
<dd>
<p>
(Optional, string) The name of the field that contains the primary timestamp of
each record in the text. In particular, if the text were ingested into an index,
this is the field that would be used to populate the <code class="literal">@timestamp</code> field.
</p>
<p>If the <code class="literal">format</code> is <code class="literal">semi_structured_text</code>, this field must match the name of the
appropriate extraction in the <code class="literal">grok_pattern</code>. Therefore, for semi-structured
text, it is best not to specify this parameter unless <code class="literal">grok_pattern</code> is
also specified.</p>
<p>For structured text, if you specify this parameter, the field must exist
within the text.</p>
<p>If this parameter is not specified, the structure finder makes a decision about
which field (if any) is the primary timestamp field. For structured text,
it is not compulsory to have a timestamp in the text.</p>
</dd>
<dt>
<span class="term">
<code class="literal">timestamp_format</code>
</span>
</dt>
<dd>
<p>
(Optional, string) The Java time format of the timestamp field in the text.
</p>
<p>Only a subset of Java time format letter groups are supported:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">a</code>
</li>
<li class="listitem">
<code class="literal">d</code>
</li>
<li class="listitem">
<code class="literal">dd</code>
</li>
<li class="listitem">
<code class="literal">EEE</code>
</li>
<li class="listitem">
<code class="literal">EEEE</code>
</li>
<li class="listitem">
<code class="literal">H</code>
</li>
<li class="listitem">
<code class="literal">HH</code>
</li>
<li class="listitem">
<code class="literal">h</code>
</li>
<li class="listitem">
<code class="literal">M</code>
</li>
<li class="listitem">
<code class="literal">MM</code>
</li>
<li class="listitem">
<code class="literal">MMM</code>
</li>
<li class="listitem">
<code class="literal">MMMM</code>
</li>
<li class="listitem">
<code class="literal">mm</code>
</li>
<li class="listitem">
<code class="literal">ss</code>
</li>
<li class="listitem">
<code class="literal">XX</code>
</li>
<li class="listitem">
<code class="literal">XXX</code>
</li>
<li class="listitem">
<code class="literal">yy</code>
</li>
<li class="listitem">
<code class="literal">yyyy</code>
</li>
<li class="listitem">
<code class="literal">zzz</code>
</li>
</ul>
</div>
<p>Additionally <code class="literal">S</code> letter groups (fractional seconds) of length one to nine are
supported providing they occur after <code class="literal">ss</code> and separated from the <code class="literal">ss</code> by a <code class="literal">.</code>,
<code class="literal">,</code> or <code class="literal">:</code>. Spacing and punctuation is also permitted with the exception of <code class="literal">?</code>,
newline and carriage return, together with literal text enclosed in single
quotes. For example, <code class="literal">MM/dd HH.mm.ss,SSSSSS 'in' yyyy</code> is a valid override
format.</p>
<p>One valuable use case for this parameter is when the format is semi-structured
text, there are multiple timestamp formats in the text, and you know which
format corresponds to the primary timestamp, but you do not want to specify the
full <code class="literal">grok_pattern</code>. Another is when the timestamp format is one that the
structure finder does not consider by default.</p>
<p>If this parameter is not specified, the structure finder chooses the best
format from a built-in set.</p>
<p>If the special value <code class="literal">null</code> is specified the structure finder will not look
for a primary timestamp in the text. When the format is semi-structured text
this will result in the structure finder treating the text as single-line
messages.</p>
<p>The following table provides the appropriate <code class="literal">timeformat</code> values for some example timestamps:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Timeformat</th>
<th align="left" valign="top">Presentation</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>yyyy-MM-dd HH:mm:ssZ</p></td>
<td align="left" valign="top"><p>2019-04-20 13:15:22+0000</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>EEE, d MMM yyyy HH:mm:ss Z</p></td>
<td align="left" valign="top"><p>Sat, 20 Apr 2019 13:15:22 +0000</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>dd.MM.yy HH:mm:ss.SSS</p></td>
<td align="left" valign="top"><p>20.04.19 13:15:22.285</p></td>
</tr>
</tbody>
</table>
</div>
<p>Refer to
<a href="https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html" class="ulink" target="_top">the Java date/time format documentation</a>
for more information about date and time format syntax.</p>
</dd>
</dl>
</div>
<h4><a id="find-message-structure-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/text-structure/apis/find-message-structure.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">messages</code>
</span>
</dt>
<dd>
(Required, array of strings)
The list of messages you want to analyze.
</dd>
</dl>
</div>
<h4><a id="find-message-structure-examples"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/text-structure/apis/find-message-structure.asciidoc">edit</a></h4>
<h5><a id="find-message-structure-example"></a>Analyzing Elasticsearch log files<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/text-structure/apis/find-message-structure.asciidoc">edit</a></h5>
<p>Suppose you have a list of Elasticsearch logs messages.
You can send it to the <code class="literal">find_message_structure</code> endpoint as follows:</p>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.text_structure.find_message_structure(
  body: {
    messages: [
      '[2024-03-05T10:52:36,256][INFO ][o.a.l.u.VectorUtilPanamaProvider] [laptop] Java vector incubator API enabled; uses preferredBitSize=128',
      '[2024-03-05T10:52:41,038][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [repository-url]',
      '[2024-03-05T10:52:41,042][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [rest-root]',
      '[2024-03-05T10:52:41,043][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-core]',
      '[2024-03-05T10:52:41,043][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-redact]',
      '[2024-03-05T10:52:41,043][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [ingest-user-agent]',
      '[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-monitoring]',
      '[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [repository-s3]',
      '[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-analytics]',
      '[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-ent-search]',
      '[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-autoscaling]',
      '[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [lang-painless]]',
      '[2024-03-05T10:52:41,059][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [lang-expression]',
      '[2024-03-05T10:52:41,059][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-eql]',
      '[2024-03-05T10:52:43,291][INFO ][o.e.e.NodeEnvironment    ] [laptop] heap size [16gb], compressed ordinary object pointers [true]',
      '[2024-03-05T10:52:46,098][INFO ][o.e.x.s.Security         ] [laptop] Security is enabled',
      '[2024-03-05T10:52:47,227][INFO ][o.e.x.p.ProfilingPlugin  ] [laptop] Profiling is enabled',
      '[2024-03-05T10:52:47,259][INFO ][o.e.x.p.ProfilingPlugin  ] [laptop] profiling index templates will not be installed or reinstalled',
      '[2024-03-05T10:52:47,755][INFO ][o.e.i.r.RecoverySettings ] [laptop] using rate limit [40mb] with [default=40mb, read=0b, write=0b, max=0b]',
      '[2024-03-05T10:52:47,787][INFO ][o.e.d.DiscoveryModule    ] [laptop] using discovery type [multi-node] and seed hosts providers [settings]',
      '[2024-03-05T10:52:49,188][INFO ][o.e.n.Node               ] [laptop] initialized',
      '[2024-03-05T10:52:49,199][INFO ][o.e.n.Node               ] [laptop] starting ...'
    ]
  }
)
puts response</pre>
</div>
<a id="77518e8c6198acfe77c0934fd2fe65cb"></a>
<div class="pre_wrapper lang-console default has-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-ruby">POST _text_structure/find_message_structure
{
  "messages": [
    "[2024-03-05T10:52:36,256][INFO ][o.a.l.u.VectorUtilPanamaProvider] [laptop] Java vector incubator API enabled; uses preferredBitSize=128",
    "[2024-03-05T10:52:41,038][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [repository-url]",
    "[2024-03-05T10:52:41,042][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [rest-root]",
    "[2024-03-05T10:52:41,043][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-core]",
    "[2024-03-05T10:52:41,043][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-redact]",
    "[2024-03-05T10:52:41,043][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [ingest-user-agent]",
    "[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-monitoring]",
    "[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [repository-s3]",
    "[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-analytics]",
    "[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-ent-search]",
    "[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-autoscaling]",
    "[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [lang-painless]]",
    "[2024-03-05T10:52:41,059][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [lang-expression]",
    "[2024-03-05T10:52:41,059][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-eql]",
    "[2024-03-05T10:52:43,291][INFO ][o.e.e.NodeEnvironment    ] [laptop] heap size [16gb], compressed ordinary object pointers [true]",
    "[2024-03-05T10:52:46,098][INFO ][o.e.x.s.Security         ] [laptop] Security is enabled",
    "[2024-03-05T10:52:47,227][INFO ][o.e.x.p.ProfilingPlugin  ] [laptop] Profiling is enabled",
    "[2024-03-05T10:52:47,259][INFO ][o.e.x.p.ProfilingPlugin  ] [laptop] profiling index templates will not be installed or reinstalled",
    "[2024-03-05T10:52:47,755][INFO ][o.e.i.r.RecoverySettings ] [laptop] using rate limit [40mb] with [default=40mb, read=0b, write=0b, max=0b]",
    "[2024-03-05T10:52:47,787][INFO ][o.e.d.DiscoveryModule    ] [laptop] using discovery type [multi-node] and seed hosts providers [settings]",
    "[2024-03-05T10:52:49,188][INFO ][o.e.n.Node               ] [laptop] initialized",
    "[2024-03-05T10:52:49,199][INFO ][o.e.n.Node               ] [laptop] starting ..."
  ]
}</pre>
</div>
<div class="console_widget has-ruby" data-snippet="snippets/3342.console"></div>
<p>If the request does not encounter errors, you receive the following result:</p>
<a id="af6b324025a95de41ceca7a862a15c53"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "num_lines_analyzed" : 22,
  "num_messages_analyzed" : 22,
  "sample_start" : "[2024-03-05T10:52:36,256][INFO ][o.a.l.u.VectorUtilPanamaProvider] [laptop] Java vector incubator API enabled; uses preferredBitSize=128\n[2024-03-05T10:52:41,038][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [repository-url]\n", <a id="CO901-2"></a><i class="conum" data-value="3"></i>
  "charset" : "UTF-8",
  "format" : "semi_structured_text",
  "multiline_start_pattern" : "^\\[\\b\\d{4}-\\d{2}-\\d{2}[T ]\\d{2}:\\d{2}",
  "grok_pattern" : "\\[%{TIMESTAMP_ISO8601:timestamp}\\]\\[%{LOGLEVEL:loglevel} \\]\\[.*",
  "ecs_compatibility" : "disabled",
  "timestamp_field" : "timestamp",
  "joda_timestamp_formats" : [
    "ISO8601"
  ],
  "java_timestamp_formats" : [
    "ISO8601"
  ],
  "need_client_timezone" : true,
  "mappings" : {
    "properties" : {
      "@timestamp" : {
        "type" : "date"
      },
      "loglevel" : {
        "type" : "keyword"
      },
      "message" : {
        "type" : "text"
      }
    }
  },
  "ingest_pipeline" : {
    "description" : "Ingest pipeline created by text structure finder",
    "processors" : [
      {
        "grok" : {
          "field" : "message",
          "patterns" : [
            "\\[%{TIMESTAMP_ISO8601:timestamp}\\]\\[%{LOGLEVEL:loglevel} \\]\\[.*"
          ],
          "ecs_compatibility" : "disabled"
        }
      },
      {
        "date" : {
          "field" : "timestamp",
          "timezone" : "{{ event.timezone }}",
          "formats" : [
            "ISO8601"
          ]
        }
      },
      {
        "remove" : {
          "field" : "timestamp"
        }
      }
    ]
  },
  "field_stats" : {
    "loglevel" : {
      "count" : 22,
      "cardinality" : 1,
      "top_hits" : [
        {
          "value" : "INFO",
          "count" : 22
        }
      ]
    },
    "message" : {
      "count" : 22,
      "cardinality" : 22,
      "top_hits" : [
        {
          "value" : "[2024-03-05T10:52:36,256][INFO ][o.a.l.u.VectorUtilPanamaProvider] [laptop] Java vector incubator API enabled; uses preferredBitSize=128",
          "count" : 1
        },
        {
          "value" : "[2024-03-05T10:52:41,038][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [repository-url]",
          "count" : 1
        },
        {
          "value" : "[2024-03-05T10:52:41,042][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [rest-root]",
          "count" : 1
        },
        {
          "value" : "[2024-03-05T10:52:41,043][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [ingest-user-agent]",
          "count" : 1
        },
        {
          "value" : "[2024-03-05T10:52:41,043][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-core]",
          "count" : 1
        },
        {
          "value" : "[2024-03-05T10:52:41,043][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-redact]",
          "count" : 1
        },
        {
          "value" : "[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [lang-painless]]",
          "count" : 1
        },
        {
          "value" : "[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [repository-s3]",
          "count" : 1
        },
        {
          "value" : "[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-analytics]",
          "count" : 1
        },
        {
          "value" : "[2024-03-05T10:52:41,044][INFO ][o.e.p.PluginsService     ] [laptop] loaded module [x-pack-autoscaling]",
          "count" : 1
        }
      ]
    },
    "timestamp" : {
      "count" : 22,
      "cardinality" : 14,
      "earliest" : "2024-03-05T10:52:36,256",
      "latest" : "2024-03-05T10:52:49,199",
      "top_hits" : [
        {
          "value" : "2024-03-05T10:52:41,044",
          "count" : 6
        },
        {
          "value" : "2024-03-05T10:52:41,043",
          "count" : 3
        },
        {
          "value" : "2024-03-05T10:52:41,059",
          "count" : 2
        },
        {
          "value" : "2024-03-05T10:52:36,256",
          "count" : 1
        },
        {
          "value" : "2024-03-05T10:52:41,038",
          "count" : 1
        },
        {
          "value" : "2024-03-05T10:52:41,042",
          "count" : 1
        },
        {
          "value" : "2024-03-05T10:52:43,291",
          "count" : 1
        },
        {
          "value" : "2024-03-05T10:52:46,098",
          "count" : 1
        },
        {
          "value" : "2024-03-05T10:52:47,227",
          "count" : 1
        },
        {
          "value" : "2024-03-05T10:52:47,259",
          "count" : 1
        }
      ]
    }
  }
}</pre>
</div>
<p>For a detailed description of the response format, or for additional examples
on ingesting delimited text (such as CSV) or newline-delimited JSON, refer to the
<a class="xref" href="find-structure.html#find-structure-examples" title="Examples">examples of the find text structure endpoint</a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="find-field-structure.html">« Find field structure API</a>
</span>
<span class="next">
<a href="find-structure.html">Find text structure API »</a>
</span>
</div>
</body>
</html>
