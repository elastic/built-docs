<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch, high watermark, low watermark, full disk">
<title>Fleet multi search API | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Fleet multi search API | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="fleet-apis.html" title="Fleet APIs"/>
<link rel="prev" href="fleet-search.html" title="Fleet search API"/>
<link rel="next" href="find-structure.html" title="Find structure API"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="fleet-apis.html">Fleet APIs</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="fleet-search.html">« Fleet search API</a>
</span>
<span class="next">
<a href="find-structure.html">Find structure API »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="fleet-multi-search"></a>Fleet multi search API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/fleet/fleet-multi-search.asciidoc">edit</a></h2>
</div></div></div>

<p>Executes several <a class="xref" href="fleet-search.html" title="Fleet search API">fleet searches</a> with a single API request.</p>
<p>The API follows the same structure as the <a class="xref" href="search-multi-search.html" title="Multi search API">multi search</a> API. However,
similar to the fleet search API, it supports the <code class="literal">wait_for_checkpoints</code> parameter.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The fleet multi search API is designed for indirect use through fleet server. Direct use is
not supported. Elastic reserves the right to change or remove this feature in future releases
without prior notice.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="fleet-multi-search-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/fleet/fleet-multi-search.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_fleet/_fleet_msearch</code></p>
<p><code class="literal">GET /&lt;index&gt;/_fleet/_fleet_msearch</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="fleet-multi-search-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/fleet/fleet-multi-search.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;target&gt;</code>
</span>
</dt>
<dd>
(Optional, string)
A single target to search. If the target is an index alias, it must resolve to a single index.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="fleet-multi-search-api-query-parms"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/fleet/fleet-multi-search.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">wait_for_checkpoints</code>
</span>
</dt>
<dd>
(Optional, list) A comma separated list of checkpoints. When configured, the search API will
only be executed on a shard after the relevant checkpoint has become visible for search.
Defaults to an empty list which will cause Elasticsearch to immediately execute the search.
</dd>
<dt>
<span class="term">
<code class="literal">allow_partial_search_results</code>
</span>
</dt>
<dd>
(Optional, Boolean)
If <code class="literal">true</code>, returns partial results if there are shard request timeouts or
<a class="xref" href="docs-replication.html#shard-failures" title="Shard failures">shard failures</a>. If <code class="literal">false</code>, returns an error with
no partial results. Defaults to the configured cluster setting <code class="literal">search.default_allow_partial_results</code> which
is <code class="literal">true</code> by default.
</dd>
</dl>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="fleet-search.html">« Fleet search API</a>
</span>
<span class="next">
<a href="find-structure.html">Find structure API »</a>
</span>
</div>
</div>
</body>
</html>
