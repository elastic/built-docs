<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Get async EQL status API | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Get async EQL status API | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="eql-apis.html" title="EQL APIs"/>
<link rel="prev" href="get-async-eql-search-api.html" title="Get async EQL search API"/>
<link rel="next" href="esql-apis.html" title="ES|QL APIs"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="get-async-eql-search-api.html">« Get async EQL search API</a>
</span>
<span class="next">
<a href="esql-apis.html">ES|QL APIs »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="eql-apis.html">EQL APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Get async EQL status API</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/eql/get-async-eql-status-api.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="get-async-eql-status-api"></a>Get async EQL status API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/eql/get-async-eql-status-api.asciidoc">edit</a></h2>
</div></div></div>

<p>Returns the current status for an <a class="xref" href="eql.html#eql-search-async" title="Run an async EQL search">async EQL search</a> or
a <a class="xref" href="eql.html#eql-search-store-sync-eql-search" title="Store synchronous EQL searches">stored synchronous EQL search</a>
without returning results. This is a more lightweight API than
<a class="xref" href="get-async-eql-search-api.html" title="Get async EQL search API">get async EQL search API</a> as it doesn&#8217;t return
search results, and reports only the status.</p>
<p>If the Elasticsearch security features are enabled, the access to the get async
eql status API is restricted to the <a class="xref" href="built-in-roles.html" title="Built-in roles">monitoring_user role</a>.</p>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.eql.get_status(
  id: 'FkpMRkJGS1gzVDRlM3g4ZzMyRGlLbkEaTXlJZHdNT09TU2VTZVBoNDM3cFZMUToxMDM='
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.eql.getStatus({
  id: "FkpMRkJGS1gzVDRlM3g4ZzMyRGlLbkEaTXlJZHdNT09TU2VTZVBoNDM3cFZMUToxMDM=",
});
console.log(response);</pre>
</div>
<a id="604da59fe41160efa10a846a9dacc07a"></a>
<div class="pre_wrapper lang-console default has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-ruby has-js">GET /_eql/search/status/FkpMRkJGS1gzVDRlM3g4ZzMyRGlLbkEaTXlJZHdNT09TU2VTZVBoNDM3cFZMUToxMDM=</pre>
</div>
<div class="console_widget has-ruby has-js" data-snippet="snippets/2653.console"></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-async-eql-status-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/eql/get-async-eql-status-api.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET /_eql/search/status/&lt;search_id&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-async-eql-status-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/eql/get-async-eql-status-api.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;search_id&gt;</code>
</span>
</dt>
<dd>
<p>
(Required, string)
Identifier for the search.
</p>
<p>A search ID is provided in the <a class="xref" href="eql-search-api.html" title="EQL search API">EQL search API</a>'s response for
an <a class="xref" href="eql.html#eql-search-async" title="Run an async EQL search">async search</a>. A search ID is also provided if the
request&#8217;s <a class="xref" href="eql-search-api.html#eql-search-api-keep-on-completion"><code class="literal">keep_on_completion</code></a> parameter
is <code class="literal">true</code>.</p>
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-async-eql-status-api-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/eql/get-async-eql-status-api.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(string)
Identifier for the search.
</dd>
<dt>
<span class="term">
<code class="literal">is_running</code>
</span>
</dt>
<dd>
(boolean)
If <code class="literal">true</code>, the search request is still executing.
If <code class="literal">false</code>, the search is completed.
</dd>
<dt>
<span class="term">
<code class="literal">is_partial</code>
</span>
</dt>
<dd>
(boolean)
If <code class="literal">true</code>, the response does not contain complete search results.
This could be because either the search is still running
(<code class="literal">is_running</code> status is <code class="literal">false</code>), or because it is already completed
(<code class="literal">is_running</code> status is <code class="literal">true</code>)  and results are partial due to
failures or timeouts.
</dd>
<dt>
<span class="term">
<code class="literal">start_time_in_millis</code>
</span>
</dt>
<dd>
(Long)
For a running search shows a timestamp when the eql search
started, in milliseconds since the Unix epoch.
</dd>
<dt>
<span class="term">
<code class="literal">expiration_time_in_millis</code>
</span>
</dt>
<dd>
(long)
Shows a timestamp when the eql search will be expired, in milliseconds
since the Unix epoch. When this time is reached, the search and its results
are deleted, even if the search is still ongoing.
</dd>
<dt>
<span class="term">
<code class="literal">completion_status</code>
</span>
</dt>
<dd>
(Integer)
For a completed search shows the http status code of the completed
search.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="eql-status-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/eql/get-async-eql-status-api.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.eql.get_status(
  id: 'FmNJRUZ1YWZCU3dHY1BIOUhaenVSRkEaaXFlZ3h4c1RTWFNocDdnY2FSaERnUTozNDE=',
  keep_alive: '5d'
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.eql.getStatus({
  id: "FmNJRUZ1YWZCU3dHY1BIOUhaenVSRkEaaXFlZ3h4c1RTWFNocDdnY2FSaERnUTozNDE=",
  keep_alive: "5d",
});
console.log(response);</pre>
</div>
<a id="88cecae3f0363fc186d955dd8616b5d4"></a>
<div class="pre_wrapper lang-console default has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-ruby has-js">GET /_eql/search/status/FmNJRUZ1YWZCU3dHY1BIOUhaenVSRkEaaXFlZ3h4c1RTWFNocDdnY2FSaERnUTozNDE=?keep_alive=5d</pre>
</div>
<div class="console_widget has-ruby has-js" data-snippet="snippets/2654.console"></div>
<p>If the search is still running, the status response has the following form:</p>
<a id="1dfe66740e32be3f2c200b391619ed2a"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "id" : "FmNJRUZ1YWZCU3dHY1BIOUhaenVSRkEaaXFlZ3h4c1RTWFNocDdnY2FSaERnUTozNDE=",
  "is_running" : true,
  "is_partial" : true,
  "start_time_in_millis" : 1611690235000,
  "expiration_time_in_millis" : 1611690295000

}</pre>
</div>
<p>If the search is completed the status response doesn&#8217;t have
<code class="literal">start_time_in_millis</code>, but has an additional <code class="literal">completion_status</code>
field that shows the status code of the completed eql search:</p>
<a id="05bca8a950838286f1b2b0b51c51eb13"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "id" : "FmNJRUZ1YWZCU3dHY1BIOUhaenVSRkEaaXFlZ3h4c1RTWFNocDdnY2FSaERnUTozNDE=",
  "is_running" : false,
  "is_partial" : false,
  "expiration_time_in_millis" : 1611690295000,
  "completion_status" : 200 <a id="CO767-1"></a><i class="conum" data-value="1"></i>
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO767-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Indicates that the eql search was successfully completed</p>
</td>
</tr>
</table>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="get-async-eql-search-api.html">« Get async EQL search API</a>
</span>
<span class="next">
<a href="esql-apis.html">ES|QL APIs »</a>
</span>
</div>
</body>
</html>
