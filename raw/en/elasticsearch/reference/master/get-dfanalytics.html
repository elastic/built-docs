<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Get data frame analytics jobs API | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Get data frame analytics jobs API | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="ml-df-analytics-apis.html" title="Machine learning data frame analytics APIs"/>
<link rel="prev" href="explain-dfanalytics.html" title="Explain data frame analytics API"/>
<link rel="next" href="get-dfanalytics-stats.html" title="Get data frame analytics jobs statistics API"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="explain-dfanalytics.html">« Explain data frame analytics API</a>
</span>
<span class="next">
<a href="get-dfanalytics-stats.html">Get data frame analytics jobs statistics API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-df-analytics-apis.html">Machine learning data frame analytics APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Get data frame analytics jobs API</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="get-dfanalytics"></a>Get data frame analytics jobs API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc">edit</a></h2>
</div></div></div>

<p>Retrieves configuration information for data frame analytics jobs.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-get-dfanalytics-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">GET _ml/data_frame/analytics/&lt;data_frame_analytics_id&gt;</code><br></p>
<p><code class="literal">GET _ml/data_frame/analytics/&lt;data_frame_analytics_id&gt;,&lt;data_frame_analytics_id&gt;</code><br></p>
<p><code class="literal">GET _ml/data_frame/analytics/</code><br></p>
<p><code class="literal">GET _ml/data_frame/analytics/_all</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-get-dfanalytics-prereq"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc">edit</a></h3>
</div></div></div>
<p>Requires the <code class="literal">monitor_ml</code> cluster privilege. This privilege is included in the
<code class="literal">machine_learning_user</code> built-in role.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-get-dfanalytics-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc">edit</a></h3>
</div></div></div>
<p>You can get information for multiple data frame analytics jobs in a single API request
by using a comma-separated list of data frame analytics jobs or a wildcard expression.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-get-dfanalytics-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;data_frame_analytics_id&gt;</code>
</span>
</dt>
<dd>
<p>
(Optional, string)
Identifier for the data frame analytics job. If you do not specify this option, the API
returns information for the first hundred data frame analytics jobs.
</p>
<p>You can get information for all data frame analytics jobs by using _all, by specifying
<code class="literal">*</code> as the <code class="literal">&lt;data_frame_analytics_id&gt;</code>, or by omitting the
<code class="literal">&lt;data_frame_analytics_id&gt;</code>.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-get-dfanalytics-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_no_match</code>
</span>
</dt>
<dd>
<p>
(Optional, Boolean)
 Specifies what to do when the request:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Contains wildcard expressions and there are no data frame analytics jobs that match.
</li>
<li class="listitem">
Contains the <code class="literal">_all</code> string or no identifiers and there are no matches.
</li>
<li class="listitem">
Contains wildcard expressions and there are only partial matches.
</li>
</ul>
</div>
<p>The default value is <code class="literal">true</code>, which returns an empty <code class="literal">data_frame_analytics</code> array
when there are no matches and the subset of results when there are partial
matches. If this parameter is <code class="literal">false</code>, the request returns a <code class="literal">404</code> status code
when there are no matches or only partial matches.</p>
</dd>
<dt>
<span class="term">
<code class="literal">exclude_generated</code>
</span>
</dt>
<dd>
(Optional, Boolean)
Indicates if certain fields should be removed from the configuration on
retrieval. This allows the configuration to be in an acceptable format to be retrieved
and then added to another cluster. Default is false.
</dd>
<dt>
<span class="term">
<code class="literal">from</code>
</span>
</dt>
<dd>
(Optional, integer)
Skips the specified number of data frame analytics jobs. The default value is <code class="literal">0</code>.
</dd>
<dt>
<span class="term">
<code class="literal">size</code>
</span>
</dt>
<dd>
(Optional, integer)
Specifies the maximum number of data frame analytics jobs to obtain. The default value
is <code class="literal">100</code>.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-get-dfanalytics-results"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">data_frame_analytics</code>
</span>
</dt>
<dd>
<p>
(array)
An array of data frame analytics job resources, which are sorted by the <code class="literal">id</code> value in
ascending order.
</p>
<details open>
<summary class="title">Properties of data frame analytics job resources</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">analysis</code>
</span>
</dt>
<dd>
(object) The type of analysis that is performed on the <code class="literal">source</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">analyzed_fields</code>
</span>
</dt>
<dd>
<p>
(object) Contains <code class="literal">includes</code> and/or <code class="literal">excludes</code> patterns that select which fields
are included in the analysis.
</p>
<details open>
<summary class="title">Properties of <code class="literal">analyzed_fields</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">excludes</code>
</span>
</dt>
<dd>
(Optional, array) An array of strings that defines the fields that are excluded
from the analysis.
</dd>
<dt>
<span class="term">
<code class="literal">includes</code>
</span>
</dt>
<dd>
(Optional, array) An array of strings that defines the fields that are included
in the analysis.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">authorization</code>
</span>
</dt>
<dd>
<p>
(object)
The security privileges that the job uses to run its queries. If
Elastic Stack security features were disabled at the time of the most recent update to
the job, this property is omitted.
</p>
<details open>
<summary class="title">Properties of <code class="literal">authorization</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">api_key</code>
</span>
</dt>
<dd>
<p>
(object) If an API key was used for the most recent update to the job, its name
and identifier are listed in the response.
</p>
<details open>
<summary class="title">Properties of <code class="literal">api_key</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(string) The identifier for the API key.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(string) The name of the API key.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">roles</code>
</span>
</dt>
<dd>
(array of strings) If a user ID was used for the most recent update to the job,
its roles at the time of the update are listed in the response.
</dd>
<dt>
<span class="term">
<code class="literal">service_account</code>
</span>
</dt>
<dd>
(string) If a service account was used for the most recent update to the job,
the account name is listed in the response.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">dest</code>
</span>
</dt>
<dd>
<p>
(string) The destination configuration of the analysis.
</p>
<details open>
<summary class="title">Properties of <code class="literal">dest</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(string) The <em>destination index</em> that stores the results of the
data frame analytics job.
</dd>
<dt>
<span class="term">
<code class="literal">results_field</code>
</span>
</dt>
<dd>
(string) The name of the field that stores the results of the analysis. Defaults
to <code class="literal">ml</code>.
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(string) The unique identifier of the data frame analytics job.
</dd>
<dt>
<span class="term">
<code class="literal">model_memory_limit</code>
</span>
</dt>
<dd>
(string) The <code class="literal">model_memory_limit</code> that has been set for the data frame analytics job.
</dd>
<dt>
<span class="term">
<code class="literal">source</code>
</span>
</dt>
<dd>
<p>
(object) The configuration of how the analysis data is sourced. It has an
<code class="literal">index</code> parameter and optionally a <code class="literal">query</code> and a <code class="literal">_source</code>.
</p>
<details open>
<summary class="title">Properties of <code class="literal">source</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(array) Index or indices on which to perform the analysis. It can be a single
index or index pattern as well as an array of indices or patterns.
</dd>
<dt>
<span class="term">
<code class="literal">query</code>
</span>
</dt>
<dd>
(object) The query that has been specified for the data frame analytics job. The Elasticsearch
query domain-specific language (<a class="xref" href="query-dsl.html" title="Query DSL">DSL</a>). This value corresponds to
the query object in an Elasticsearch search POST body. By default, this property has the
following value: <code class="literal">{"match_all": {}}</code>.
</dd>
<dt>
<span class="term">
<code class="literal">_source</code>
</span>
</dt>
<dd>
<p>
(object) Contains the specified <code class="literal">includes</code> and/or <code class="literal">excludes</code> patterns that
select which fields are present in the destination. Fields that are excluded
cannot be included in the analysis.
</p>
<details open>
<summary class="title">Properties of <code class="literal">_source</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">excludes</code>
</span>
</dt>
<dd>
(array) An array of strings that defines the fields that are excluded from the
destination.
</dd>
<dt>
<span class="term">
<code class="literal">includes</code>
</span>
</dt>
<dd>
(array) An array of strings that defines the fields that are included in the
destination.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-get-dfanalytics-response-codes"></a>Response codes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">404</code> (Missing resources)
</span>
</dt>
<dd>
If <code class="literal">allow_no_match</code> is <code class="literal">false</code>, this code indicates that there are no
resources that match the request or only partial matches for the request.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-get-dfanalytics-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/ml/df-analytics/apis/get-dfanalytics.asciidoc">edit</a></h3>
</div></div></div>
<p>The following example gets configuration information for the <code class="literal">loganalytics</code>
data frame analytics job:</p>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.ml.get_data_frame_analytics(
  id: 'loganalytics'
)
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.ml.getDataFrameAnalytics({
  id: "loganalytics",
});
console.log(response);</pre>
</div>
<a id="5ccfd9f4698dcd7cdfbc6bad60081aab"></a>
<div class="pre_wrapper lang-console default has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-ruby has-js">GET _ml/data_frame/analytics/loganalytics</pre>
</div>
<div class="console_widget has-ruby has-js" data-snippet="snippets/2976.console"></div>
<p>The API returns the following results:</p>
<a id="347c6b162bebdb3f2cf7f8812cdb6568"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "count" : 1,
  "data_frame_analytics" : [
    {
      "id" : "loganalytics",
      "create_time" : 1656364565517,
      "version" : "8.4.0",
      "authorization" : {
        "roles" : [
          "superuser"
        ]
      },
      "description" : "Outlier detection on log data",
      "source" : {
        "index" : [
          "logdata"
        ],
        "query" : {
          "match_all" : { }
        }
      },
      "dest" : {
        "index" : "logdata_out",
        "results_field" : "ml"
      },
      "analysis" : {
        "outlier_detection" : {
          "compute_feature_influence" : true,
          "outlier_fraction" : 0.05,
          "standardization_enabled" : true
        }
      },
      "model_memory_limit" : "1gb",
      "allow_lazy_start" : false,
      "max_num_threads" : 1
    }
  ]
}</pre>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="explain-dfanalytics.html">« Explain data frame analytics API</a>
</span>
<span class="next">
<a href="get-dfanalytics-stats.html">Get data frame analytics jobs statistics API »</a>
</span>
</div>
</body>
</html>
