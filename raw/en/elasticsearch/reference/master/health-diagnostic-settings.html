<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Health diagnostic settings in Elasticsearch | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Health diagnostic settings in Elasticsearch | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="settings.html" title="Configuring Elasticsearch"/>
<link rel="prev" href="modules-fielddata.html" title="Field data cache settings"/>
<link rel="next" href="ilm-settings.html" title="Index lifecycle management settings in Elasticsearch"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="modules-fielddata.html">« Field data cache settings</a>
</span>
<span class="next">
<a href="ilm-settings.html">Index lifecycle management settings in Elasticsearch »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="settings.html">Configuring Elasticsearch</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Health diagnostic settings in Elasticsearch</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/settings/health-diagnostic-settings.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="health-diagnostic-settings"></a>Health diagnostic settings in Elasticsearch<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/settings/health-diagnostic-settings.asciidoc">edit</a></h2>
</div></div></div>

<p>The following are the <em>expert-level</em> settings available for configuring an internal diagnostics service.
The output of this service is currently exposed through the Health API <a class="xref" href="health-api.html" title="Health API">Health API</a>. It
is not recommended to change any of these from their default values.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_cluster_level_settings"></a>Cluster level settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/settings/health-diagnostic-settings.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">health.master_history.has_master_lookup_timeframe</code>
</span>
</dt>
<dd>
(<a class="xref" href="settings.html#static-cluster-setting">Static</a>) The amount of time a node looks back to see if it has observed
a master at all, before moving on with other checks. Defaults to <code class="literal">30s</code> (30 seconds).
</dd>
<dt>
<span class="term">
<code class="literal">master_history.max_age</code>
</span>
</dt>
<dd>
(<a class="xref" href="settings.html#static-cluster-setting">Static</a>) The timeframe we record the master history
to be used for diagnosing the cluster health. Master node changes older than this time will not be considered when
diagnosing the cluster health. Defaults to <code class="literal">30m</code> (30 minutes).
</dd>
<dt>
<span class="term">
<code class="literal">health.master_history.identity_changes_threshold</code>
</span>
</dt>
<dd>
(<a class="xref" href="settings.html#static-cluster-setting">Static</a>) The number of master identity changes witnessed by a node that indicates the cluster is not healthy.
Defaults to <code class="literal">4</code>.
</dd>
<dt>
<span class="term">
<code class="literal">health.master_history.no_master_transitions_threshold</code>
</span>
</dt>
<dd>
(<a class="xref" href="settings.html#static-cluster-setting">Static</a>) The number of transitions to no master witnessed by a node that indicates the cluster is not healthy.
Defaults to <code class="literal">4</code>.
</dd>
<dt>
<span class="term">
<code class="literal">health.node.enabled</code>
</span>
</dt>
<dd>
(<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">Dynamic</a>) Enables the health node, which allows the health API to provide indications about
cluster wide health aspects such as disk space.
</dd>
<dt>
<span class="term">
<code class="literal">health.reporting.local.monitor.interval</code>
</span>
</dt>
<dd>
(<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">Dynamic</a>) Determines the interval in which each node of the cluster monitors aspects that
comprise its local health such as its disk usage.
</dd>
<dt>
<span class="term">
<code class="literal">health.ilm.max_time_on_action</code>
</span>
</dt>
<dd>
(<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">Dynamic</a>) The minimum amount of time an index has to be in an index lifecycle management (ILM) action before it is considered stagnant. Defaults to <code class="literal">1d</code> (1 day).
</dd>
<dt>
<span class="term">
<code class="literal">health.ilm.max_time_on_step</code>
</span>
</dt>
<dd>
(<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">Dynamic</a>) The minimum amount of time an index has to be in an ILM step before it is considered stagnant. Defaults to <code class="literal">1d</code> (1 day).
</dd>
<dt>
<span class="term">
<code class="literal">health.ilm.max_retries_per_step</code>
</span>
</dt>
<dd>
(<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">Dynamic</a>) The minimum amount of times an index has retried by an ILM step before it is considered stagnant. Defaults to <code class="literal">100</code>
</dd>
<dt>
<span class="term">
<code class="literal">health.periodic_logger.enabled</code>
</span>
</dt>
<dd>
(<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">Dynamic</a>) Enables the health periodic logger, which logs the health statuses of each health indicator along with the top level one as observed by the Health API.
Defaults to <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">health.periodic_logger.poll_interval</code>
</span>
</dt>
<dd>
(<a class="xref" href="cluster-update-settings.html" title="Cluster update settings API">Dynamic</a>, <a class="xref" href="api-conventions.html#time-units" title="Time units">time unit value</a>) How often Elasticsearch logs the health status of the cluster and of each health indicator as observed by the Health API.
Defaults to <code class="literal">60s</code> (60 seconds).
</dd>
</dl>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="modules-fielddata.html">« Field data cache settings</a>
</span>
<span class="next">
<a href="ilm-settings.html">Index lifecycle management settings in Elasticsearch »</a>
</span>
</div>
</body>
</html>
