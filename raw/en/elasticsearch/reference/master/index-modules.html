<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Index modules | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Index modules | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="prev" href="archive-indices.html" title="Reading indices from older Elasticsearch versions"/>
<link rel="next" href="index-modules-analysis.html" title="Analysis"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="archive-indices.html">« Reading indices from older Elasticsearch versions</a>
</span>
<span class="next">
<a href="index-modules-analysis.html">Analysis »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Index modules</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/index-modules.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="part">
<div class="titlepage"><div><div>
<h2 class="title"><a id="index-modules"></a>Index modules<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/index-modules.asciidoc">edit</a></h2>
</div></div></div>
<div class="openblock partintro">
<div class="content">
<p>Index Modules are modules created per index and control all aspects related to
an index.</p>
<h2><a id="index-modules-settings"></a>Index settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/index-modules.asciidoc">edit</a></h2>
<p><a id="index-modules-settings-description"></a>Index level settings can be set per-index. Settings may be:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<em>static</em>
</span>
</dt>
<dd>
They can only be set at index creation time or on a
<a class="xref" href="indices-open-close.html" title="Open index API">closed index</a>, or by using the
<a class="xref" href="indices-update-settings.html" title="Update index settings API">update-index-settings</a> API with the
<code class="literal">reopen</code> query parameter set to <code class="literal">true</code> (which automatically
closes and reopens impacted indices).
</dd>
<dt>
<span class="term">
<em>dynamic</em>
</span>
</dt>
<dd>
They can be changed on a live index using the
<a class="xref" href="indices-update-settings.html" title="Update index settings API">update-index-settings</a> API.
</dd>
</dl>
</div>
<div class="caution admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can change any documented index settings on closed indices. However, changing undocumented index settings on closed indices is unsupported and might result in errors.</p>
</div>
</div>
<h3><a id="_static_index_settings"></a>Static index settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/index-modules.asciidoc">edit</a></h3>
<p>Below is a list of all <em>static</em> index settings that are not associated with any
specific index module:</p>
<div class="variablelist">
<a id="index-number-of-shards"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.number_of_shards</code>
</span>
</dt>
<dd>
<p>
The number of primary shards that an index should have. Defaults to <code class="literal">1</code>. This setting can only be set at index creation time. It cannot be changed on a closed index.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The number of shards are limited to <code class="literal">1024</code> per index. This limitation is a safety limit to prevent accidental creation of indices that can destabilize a cluster due to resource allocation. The limit can be modified by specifying <code class="literal">export ES_JAVA_OPTS="-Des.index.max_number_of_shards=128"</code> system property on every node that is part of the cluster.</p>
</div>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-number-of-routing-shards"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.number_of_routing_shards</code>
</span>
</dt>
<dd>
<div class="exampleblock">
<div class="content">
<p>Integer value used with <a class="xref" href="index-modules.html#index-number-of-shards"><code class="literal">index.number_of_shards</code></a> to
route documents to a primary shard. See <a class="xref" href="mapping-routing-field.html" title="_routing field"><code class="literal">_routing</code> field</a>.</p>
<p>Elasticsearch uses this value when <a class="xref" href="indices-split-index.html" title="Split index API">splitting</a> an index.
For example, a 5 shard index with <code class="literal">number_of_routing_shards</code> set to <code class="literal">30</code> (<code class="literal">5 x
2 x 3</code>) could be split by a factor of <code class="literal">2</code> or <code class="literal">3</code>. In other words, it could be
split as follows:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">5</code> &#8594; <code class="literal">10</code> &#8594; <code class="literal">30</code>  (split by 2, then by 3)
</li>
<li class="listitem">
<code class="literal">5</code> &#8594; <code class="literal">15</code> &#8594; <code class="literal">30</code> (split by 3, then by 2)
</li>
<li class="listitem">
<code class="literal">5</code> &#8594; <code class="literal">30</code> (split by 6)
</li>
</ul>
</div>
<p>This setting&#8217;s default value depends on the number of primary shards in the
index. The default is designed to allow you to split by factors of 2 up
to a maximum of 1024 shards.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>In Elasticsearch 7.0.0 and later versions, this setting affects how documents are
distributed across shards. When reindexing an older index with custom routing,
you must explicitly set <code class="literal">index.number_of_routing_shards</code> to maintain the same
document distribution. See the
<a href="/guide/en/elasticsearch/reference/7.0/breaking-changes-7.0.html#_document_distribution_changes" class="ulink" target="_top">related
breaking change</a>.</p>
</div>
</div>
</div>
</div>
</dd>
<dt>
<span class="term">
<a id="index-codec"></a> <code class="literal">index.codec</code>
</span>
</dt>
<dd>
The <code class="literal">default</code> value compresses stored data with LZ4
compression, but this can be set to <code class="literal">best_compression</code>
which uses <a href="https://en.wikipedia.org/wiki/DEFLATE" class="ulink" target="_top">DEFLATE</a> for a higher
compression ratio, at the expense of slower stored fields performance.
If you are updating the compression type, the new one will be applied
after segments are merged. Segment merging can be forced using
<a class="xref" href="indices-forcemerge.html" title="Force merge API">force merge</a>. Experiments with indexing log datasets
have shown that <code class="literal">best_compression</code> gives up to ~18% lower storage usage in
the most ideal scenario compared to <code class="literal">default</code> while only minimally affecting
indexing throughput (~2%).
</dd>
<dt>
<span class="term">
<a id="index-mode-setting"></a> <code class="literal">index.mode</code>
</span>
</dt>
<dd>
<p>The <code class="literal">index.mode</code> setting is used to control settings applied in specific domains like ingestion of time series data or logs.
Different mutually exclusive modes exist, which are used to apply settings or default values controlling indexing of documents,
sorting and other parameters whose value affects indexing or query performance.</p>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.indices.create({
  index: "my-index-000001",
  settings: {
    index: {
      mode: "standard",
    },
  },
});
console.log(response);</pre>
</div>
<a id="3a2f37f8f32b1aa6bcfb252b9e00f904"></a>
<div class="pre_wrapper lang-console default has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-js">PUT my-index-000001
{
  "settings": {
    "index":{
      "mode":"standard" <a id="CO31-1"></a><i class="conum" data-value="1"></i>
    }
  }
}</pre>
</div>
<div class="console_widget has-js" data-snippet="snippets/83.console"></div>
<div class="calloutlist default has-js lang-console">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO31-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>This index uses the <code class="literal">standard</code> index mode</p>
</td>
</tr>
</table>
</div>
<p>Index mode supports the following values:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">null</code>
</span>
</dt>
<dd>
Default value (same as <code class="literal">standard</code>).
</dd>
<dt>
<span class="term">
<code class="literal">standard</code>
</span>
</dt>
<dd>
Standard indexing with default settings.
</dd>
<dt>
<span class="term">
<code class="literal">time_series</code>
</span>
</dt>
<dd>
Index mode optimized for storage of metrics documented in <a class="xref" href="tsds-index-settings.html" title="Time series index settings">TSDS Settings</a>.
</dd>
<dt>
<span class="term">
<code class="literal">logs</code>
</span>
</dt>
<dd>
Index mode optimized for storage of logs. It applies default sort settings on the <code class="literal">hostname</code> and <code class="literal">timestamp</code> fields and uses <a class="xref" href="mapping-source-field.html#synthetic-source" title="Synthetic _source">synthetic <code class="literal">_source</code></a>. <a class="xref" href="index-modules-index-sorting.html" title="Index Sorting">Index sorting</a> on different fields is still allowed.
<span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span>
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<a id="routing-partition-size"></a> <code class="literal">index.routing_partition_size</code>
</span>
</dt>
<dd>
The number of shards a custom <a class="xref" href="mapping-routing-field.html" title="_routing field">routing</a> value can go to.
Defaults to 1 and can only be set at index creation time. This value must be less
than the <code class="literal">index.number_of_shards</code> unless the <code class="literal">index.number_of_shards</code> value is also 1.
See <a class="xref" href="mapping-routing-field.html#routing-index-partition" title="Routing to an index partition">Routing to an index partition</a> for more details about how this setting is used.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="ccr-index-soft-deletes"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.soft_deletes.enabled</code>
</span>
</dt>
<dd>
<span class="Admonishment Admonishment--change">
[<span class="Admonishment-version u-mono u-strikethrough">7.6.0</span>]
<span class="Admonishment-detail">
Deprecated in 7.6.0. Creating indices with soft-deletes disabled is deprecated and will be removed in future Elasticsearch versions.
</span>
</span>
Indicates whether soft deletes are enabled on the index. Soft deletes can only
be configured at index creation and only on indices created on or after
Elasticsearch 6.5.0. Defaults to <code class="literal">true</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="ccr-index-soft-deletes-retention-period"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.soft_deletes.retention_lease.period</code>
</span>
</dt>
<dd>
The maximum period to retain a shard history retention lease before it is
considered expired. Shard history retention leases ensure that soft deletes are
retained during merges on the Lucene index. If a soft delete is merged away
before it can be replicated to a follower the following process will fail due
to incomplete history on the leader. Defaults to <code class="literal">12h</code>.
</dd>
<dt>
<span class="term">
<a id="load-fixed-bitset-filters-eagerly"></a> <code class="literal">index.load_fixed_bitset_filters_eagerly</code>
</span>
</dt>
<dd>
Indicates whether <a class="xref" href="query-filter-context.html" title="Query and filter context">cached filters</a> are pre-loaded for
nested queries. Possible values are <code class="literal">true</code> (default) and <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<a id="index-shard-check-on-startup"></a> <code class="literal">index.shard.check_on_startup</code>
</span>
</dt>
<dd>
<div class="exampleblock">
<div class="content">
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Expert users only. This setting enables some very expensive processing
at shard startup and is only ever useful while diagnosing a problem in your
cluster. If you do use it, you should do so only temporarily and remove it
once it is no longer needed.</p>
</div>
</div>
<p>Elasticsearch automatically performs integrity checks on the contents of shards at
various points during their lifecycle. For instance, it verifies the checksum
of every file transferred when recovering a replica or taking a snapshot. It
also verifies the integrity of many important files when opening a shard, which
happens when starting up a node and when finishing a shard recovery or
relocation. You can therefore manually verify the integrity of a whole shard
while it is running by taking a snapshot of it into a fresh repository or by
recovering it onto a fresh node.</p>
<p>This setting determines whether Elasticsearch performs additional integrity checks while
opening a shard. If these checks detect corruption then they will prevent the
shard from being opened. It accepts the following values:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">false</code>
</span>
</dt>
<dd>
Don&#8217;t perform additional checks for corruption when opening a shard.
This is the default and recommended behaviour.
</dd>
<dt>
<span class="term">
<code class="literal">checksum</code>
</span>
</dt>
<dd>
Verify that the checksum of every file in the shard matches its
contents. This will detect cases where the data read from disk differ from the
data that Elasticsearch originally wrote, for instance due to undetected disk corruption
or other hardware failures. These checks require reading the entire shard from
disk which takes substantial time and IO bandwidth and may affect cluster
performance by evicting important data from your filesystem cache.
</dd>
<dt>
<span class="term">
<code class="literal">true</code>
</span>
</dt>
<dd>
Performs the same checks as <code class="literal">checksum</code> and also checks for logical
inconsistencies in the shard, which could for instance be caused by the data
being corrupted while it was being written due to faulty RAM or other hardware
failures. These checks require reading the entire shard from disk which takes
substantial time and IO bandwidth, and then performing various checks on the
contents of the shard which take substantial time, CPU and memory.
</dd>
</dl>
</div>
</div>
</div>
</dd>
</dl>
</div>
<h3><a id="dynamic-index-settings"></a>Dynamic index settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/index-modules.asciidoc">edit</a></h3>
<p>Below is a list of all <em>dynamic</em> index settings that are not associated with any
specific index module:</p>
<div class="variablelist">
<a id="dynamic-index-number-of-replicas"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.number_of_replicas</code>
</span>
</dt>
<dd>
<p>
The number of replicas each primary shard has. Defaults to 1.
</p>
<pre class="literallayout">WARNING: Configuring it to 0 may lead to temporary availability loss
during node restarts or permanent data loss in case of data corruption.</pre>

</dd>
</dl>
</div>
<div class="variablelist">
<a id="dynamic-index-auto-expand-replicas"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.auto_expand_replicas</code>
</span>
</dt>
<dd>
<p>
Auto-expand the number of replicas based on the number of data nodes in the
cluster. Set to a dash delimited lower and upper bound (e.g. <code class="literal">0-5</code>) or use <code class="literal">all</code>
for the upper bound (e.g. <code class="literal">0-all</code>). Defaults to <code class="literal">false</code> (i.e. disabled). Note
that the auto-expanded number of replicas only takes
<a class="xref" href="shard-allocation-filtering.html" title="Index-level shard allocation filtering">allocation filtering</a> rules into account, but
ignores other allocation rules such as <a class="xref" href="allocation-total-shards.html" title="Total shards per node">total shards
per node</a>, and this can lead to the cluster health becoming <code class="literal">YELLOW</code> if the
applicable rules prevent all the replicas from being allocated.
</p>
<p>If the upper bound is <code class="literal">all</code> then <a class="xref" href="modules-cluster.html#shard-allocation-awareness" title="Shard allocation awareness">shard allocation
awareness</a> and
<a class="xref" href="modules-cluster.html#cluster-routing-allocation-same-shard-host"><code class="literal">cluster.routing.allocation.same_shard.host</code></a>
are ignored for this index.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="dynamic-index-search-idle-after"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.search.idle.after</code>
</span>
</dt>
<dd>
How long a shard can not receive a search or get request until it&#8217;s considered
search idle. (default is <code class="literal">30s</code>)
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-refresh-interval-setting"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.refresh_interval</code>
</span>
</dt>
<dd>
How often to perform a refresh operation, which makes recent changes to the
index visible to search. Defaults to <code class="literal">1s</code>. Can be set to <code class="literal">-1</code> to disable
refresh. If this setting is not explicitly set, shards that haven&#8217;t seen
search traffic for at least <code class="literal">index.search.idle.after</code> seconds will not receive
background refreshes until they receive a search request. Searches that hit an
idle shard where a refresh is pending will trigger a refresh as part of the
search operation for that shard only. This behavior aims to automatically optimize
bulk indexing in the default case when no searches are performed. In order to opt
out of this behavior an explicit value of <code class="literal">1s</code> should set as the refresh
interval.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-max-result-window"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.max_result_window</code>
</span>
</dt>
<dd>
The maximum value of <code class="literal">from + size</code> for searches to this index. Defaults to
<code class="literal">10000</code>. Search requests take heap memory and time proportional to
<code class="literal">from + size</code> and this limits that memory. See
<a class="xref" href="paginate-search-results.html#scroll-search-results" title="Scroll search results">Scroll</a> or <a class="xref" href="paginate-search-results.html#search-after" title="Search after">Search After</a> for a more efficient alternative
to raising this.
</dd>
<dt>
<span class="term">
<code class="literal">index.max_inner_result_window</code>
</span>
</dt>
<dd>
The maximum value of <code class="literal">from + size</code> for inner hits definition and top hits aggregations to this index. Defaults to
<code class="literal">100</code>. Inner hits and top hits aggregation take heap memory and time proportional to <code class="literal">from + size</code> and this limits that memory.
</dd>
<dt>
<span class="term">
<code class="literal">index.max_rescore_window</code>
</span>
</dt>
<dd>
The maximum value of <code class="literal">window_size</code> for <code class="literal">rescore</code> requests in searches of this index.
Defaults to <code class="literal">index.max_result_window</code> which defaults to <code class="literal">10000</code>. Search
requests take heap memory and time proportional to
<code class="literal">max(window_size, from + size)</code> and this limits that memory.
</dd>
<dt>
<span class="term">
<code class="literal">index.max_docvalue_fields_search</code>
</span>
</dt>
<dd>
The maximum number of <code class="literal">docvalue_fields</code> that are allowed in a query.
Defaults to <code class="literal">100</code>. Doc-value fields are costly since they might incur
a per-field per-document seek.
</dd>
<dt>
<span class="term">
<code class="literal">index.max_script_fields</code>
</span>
</dt>
<dd>
The maximum number of <code class="literal">script_fields</code> that are allowed in a query.
Defaults to <code class="literal">32</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-max-ngram-diff"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.max_ngram_diff</code>
</span>
</dt>
<dd>
The maximum allowed difference between min_gram and max_gram for NGramTokenizer and NGramTokenFilter.
Defaults to <code class="literal">1</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-max-shingle-diff"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.max_shingle_diff</code>
</span>
</dt>
<dd>
The maximum allowed difference between max_shingle_size and min_shingle_size
for the <a class="xref" href="analysis-shingle-tokenfilter.html" title="Shingle token filter"><code class="literal">shingle</code> token filter</a>. Defaults to
<code class="literal">3</code>.
</dd>
<dt>
<span class="term">
<code class="literal">index.max_refresh_listeners</code>
</span>
</dt>
<dd>
Maximum number of refresh listeners available on each shard of the index.
These listeners are used to implement <a class="xref" href="docs-refresh.html" title="?refresh"><code class="literal">refresh=wait_for</code></a>.
</dd>
<dt>
<span class="term">
<code class="literal">index.analyze.max_token_count</code>
</span>
</dt>
<dd>
The maximum number of tokens that can be produced using _analyze API.
Defaults to <code class="literal">10000</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-max-analyzed-offset"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.highlight.max_analyzed_offset</code>
</span>
</dt>
<dd>
The maximum number of characters that will be analyzed for a highlight request.
This setting is only applicable when highlighting is requested on a text that was indexed without offsets or term vectors.
Defaults to <code class="literal">1000000</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-max-terms-count"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.max_terms_count</code>
</span>
</dt>
<dd>
The maximum number of terms that can be used in Terms Query.
Defaults to <code class="literal">65536</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-max-regex-length"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.max_regex_length</code>
</span>
</dt>
<dd>
The maximum length of value that can be used in <code class="literal">regexp</code> or <code class="literal">prefix</code> query.
Defaults to <code class="literal">1000</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-query-default-field"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.query.default_field</code>
</span>
</dt>
<dd>
<p>(string or array of strings)
Wildcard (<code class="literal">*</code>) patterns matching one or more fields. The following query types
search these matching fields by default:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="query-dsl-mlt-query.html" title="More like this query">More like this</a>
</li>
<li class="listitem">
<a class="xref" href="query-dsl-multi-match-query.html" title="Multi-match query">Multi-match</a>
</li>
<li class="listitem">
<a class="xref" href="query-dsl-query-string-query.html" title="Query string query">Query string</a>
</li>
<li class="listitem">
<a class="xref" href="query-dsl-simple-query-string-query.html" title="Simple query string query">Simple query string</a>
</li>
</ul>
</div>
<p>Defaults to <code class="literal">*</code>, which matches all fields eligible for
<a class="xref" href="term-level-queries.html" title="Term-level queries">term-level queries</a>, excluding metadata fields.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-routing-allocation-enable-setting"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.routing.allocation.enable</code>
</span>
</dt>
<dd>
<p>
Controls shard allocation for this index. It can be set to:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">all</code> (default) - Allows shard allocation for all shards.
</li>
<li class="listitem">
<code class="literal">primaries</code> - Allows shard allocation only for primary shards.
</li>
<li class="listitem">
<code class="literal">new_primaries</code> - Allows shard allocation only for newly-created primary shards.
</li>
<li class="listitem">
<code class="literal">none</code> - No shard allocation is allowed.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">index.routing.rebalance.enable</code>
</span>
</dt>
<dd>
<p>
Enables shard rebalancing for this index. It can be set to:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">all</code> (default) - Allows shard rebalancing for all shards.
</li>
<li class="listitem">
<code class="literal">primaries</code> - Allows shard rebalancing only for primary shards.
</li>
<li class="listitem">
<code class="literal">replicas</code> - Allows shard rebalancing only for replica shards.
</li>
<li class="listitem">
<code class="literal">none</code> - No shard rebalancing is allowed.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">index.gc_deletes</code>
</span>
</dt>
<dd>
The length of time that a <a class="xref" href="docs-delete.html#delete-versioning" title="Versioning">deleted document&#8217;s version number</a> remains available for <a class="xref" href="docs-index_.html#index-versioning" title="Versioning">further versioned operations</a>.
Defaults to <code class="literal">60s</code>.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-default-pipeline"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.default_pipeline</code>
</span>
</dt>
<dd>
Default <a class="xref" href="ingest.html" title="Ingest pipelines">ingest pipeline</a> for the index. Index requests will fail
if the default pipeline is set and the pipeline does not exist. The default may be
overridden using the <code class="literal">pipeline</code> parameter. The special pipeline name <code class="literal">_none</code> indicates
no default ingest pipeline will run.
</dd>
</dl>
</div>
<div class="variablelist">
<a id="index-final-pipeline"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">index.final_pipeline</code>
</span>
</dt>
<dd>
<p>
Final <a class="xref" href="ingest.html" title="Ingest pipelines">ingest pipeline</a> for the index. Indexing requests
will fail if the final pipeline is set and the pipeline does not exist.
The final pipeline always runs after the request pipeline (if specified) and
the default pipeline (if it exists). The special pipeline name <code class="literal">_none</code>
indicates no final ingest pipeline will run.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can&#8217;t use a final pipeline to change the <code class="literal">_index</code> field. If the
pipeline attempts to change the <code class="literal">_index</code> field, the indexing request will fail.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<a id="index-hidden"></a> <code class="literal">index.hidden</code>
</span>
</dt>
<dd>
Indicates whether the index should be hidden by default. Hidden indices are not
returned by default when using a wildcard expression. This behavior is controlled
per request through the use of the <code class="literal">expand_wildcards</code> parameter. Possible values are
<code class="literal">true</code> and <code class="literal">false</code> (default).
</dd>
</dl>
</div>
<h3><a id="_settings_in_other_index_modules"></a>Settings in other index modules<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/index-modules.asciidoc">edit</a></h3>
<p>Other index settings are available in index modules:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a class="xref" href="analysis.html" title="Text analysis">Analysis</a>
</span>
</dt>
<dd>
Settings to define analyzers, tokenizers, token filters and character
filters.
</dd>
<dt>
<span class="term">
<a class="xref" href="index-modules-allocation.html" title="Index Shard Allocation">Index shard allocation</a>
</span>
</dt>
<dd>
Control over where, when, and how shards are allocated to nodes.
</dd>
<dt>
<span class="term">
<a class="xref" href="index-modules-mapper.html" title="Mapper">Mapping</a>
</span>
</dt>
<dd>
Enable or disable dynamic mapping for an index.
</dd>
<dt>
<span class="term">
<a class="xref" href="index-modules-merge.html" title="Merge">Merging</a>
</span>
</dt>
<dd>
Control over how shards are merged by the background merge process.
</dd>
<dt>
<span class="term">
<a class="xref" href="index-modules-similarity.html" title="Similarity module">Similarities</a>
</span>
</dt>
<dd>
Configure custom similarity settings to customize how search results are
scored.
</dd>
<dt>
<span class="term">
<a class="xref" href="index-modules-slowlog.html" title="Slow Log">Slowlog</a>
</span>
</dt>
<dd>
Control over how slow queries and fetch requests are logged.
</dd>
<dt>
<span class="term">
<a class="xref" href="index-modules-store.html" title="Store">Store</a>
</span>
</dt>
<dd>
Configure the type of filesystem used to access shard data.
</dd>
<dt>
<span class="term">
<a class="xref" href="index-modules-translog.html" title="Translog">Translog</a>
</span>
</dt>
<dd>
Control over the transaction log and background flush operations.
</dd>
<dt>
<span class="term">
<a class="xref" href="index-modules-history-retention.html" title="History retention">History retention</a>
</span>
</dt>
<dd>
Control over the retention of a history of operations in the index.
</dd>
<dt>
<span class="term">
<a class="xref" href="index-modules-indexing-pressure.html" title="Indexing pressure">Indexing pressure</a>
</span>
</dt>
<dd>
Configure indexing back pressure limits.
</dd>
</dl>
</div>
<h3><a id="x-pack-index-settings"></a><span class="xpack">X-Pack index settings</span><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/index-modules.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<a class="xref" href="ilm-settings.html" title="Index lifecycle management settings in Elasticsearch">Index lifecycle management</a>
</span>
</dt>
<dd>
Specify the lifecycle policy and rollover alias for an index.
</dd>
</dl>
</div>
</div>
</div>












</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="archive-indices.html">« Reading indices from older Elasticsearch versions</a>
</span>
<span class="next">
<a href="index-modules-analysis.html">Analysis »</a>
</span>
</div>
</body>
</html>
