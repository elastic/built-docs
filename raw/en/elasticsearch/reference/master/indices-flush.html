<!DOCTYPE html>
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Flush
        | Elasticsearch Reference [master]
      | Elastic
    </title><link rel="home" href="index.html" title="Elasticsearch Reference [master]" /><link rel="up" href="indices.html" title="Index APIs" /><link rel="prev" href="indices-clearcache.html" title="Clear Cache" /><link rel="next" href="indices-synced-flush-api.html" title="Synced flush API" /><meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master" /><meta name="DC.subject" content="Elasticsearch" /><meta name="DC.identifier" content="master" /></head><body><div class="page_header">You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div><div class="breadcrumbs"><span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference
      [master]
    </a></span> » <span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span> » <span class="breadcrumb-link"><a href="indices.html">Index APIs</a></span> » <span class="breadcrumb-node">Flush</span></div><div class="navheader"><span class="prev"><a href="indices-clearcache.html">
              « 
              Clear Cache</a>
           
        </span><span class="next">
           
          <a href="indices-synced-flush-api.html">Synced flush API
               »
            </a></span></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="indices-flush"></a>Flush<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/indices/flush.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h2></div></div></div><p>Flushing an index is the process of making sure that any data that is currently
only stored in the <a class="link" href="index-modules-translog.html" title="Translog">transaction log</a> is also
permanently stored in the Lucene index. When restarting, Elasticsearch replays any
unflushed operations from the transaction log into the Lucene index to bring it
back into the state that it was in before the restart. Elasticsearch automatically
triggers flushes as needed, using heuristics that trade off the size of the
unflushed transaction log against the cost of performing each flush.</p><p>Once each operation has been flushed it is permanently stored in the Lucene
index. This may mean that there is no need to maintain an additional copy of it
in the transaction log, unless <a class="link" href="index-modules-translog.html#index-modules-translog-retention" title="Translog retention">it is retained
for some other reason</a>. The transaction log is made up of multiple files,
called <span class="emphasis"><em>generations</em></span>, and Elasticsearch will delete any generation files once they are no
longer needed, freeing up disk space.</p><p>It is also possible to trigger a flush on one or more indices using the flush
API, although it is rare for users to need to call this API directly. If you
call the flush API after indexing some documents then a successful response
indicates that Elasticsearch has flushed all the documents that were indexed before the
flush API was called.</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">POST twitter/_flush</pre></div><div class="console_widget" data-snippet="snippets/1421.console"></div><h4><a id="flush-parameters"></a>Request Parameters<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/indices/flush.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The flush API accepts the following request parameters:</p><div class="informaltable"><table cellpadding="4px" border="0"><colgroup><col /><col /></colgroup><tbody valign="top"><tr><td valign="top">
<p><code class="literal">wait_if_ongoing</code></p>
</td><td valign="top">
<p>If set to <code class="literal">true</code> the flush operation will block until the
flush can be executed if another flush operation is already executing. If set to
<code class="literal">false</code> then an exception will be thrown on the shard level if another flush
operation is already running. Defaults to <code class="literal">true</code>.</p>
</td></tr><tr><td valign="top">
<p><code class="literal">force</code></p>
</td><td valign="top">
<p>Whether a flush should be forced even if it is not necessarily needed
i.e. if no changes will be committed to the index. This can be used to force
the generation number of the transaction log to be incremented even if no
uncommitted changes are present. This parameter should be considered internal.</p>
</td></tr></tbody></table></div><h4><a id="flush-multi-index"></a>Multi Index<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/indices/flush.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>The flush API can be applied to more than one index with a single call, or even
on <code class="literal">_all</code> the indices.</p><div class="pre_wrapper lang-console"><pre class="programlisting prettyprint lang-console">POST kimchy,elasticsearch/_flush

POST _flush</pre></div><div class="console_widget" data-snippet="snippets/1422.console"></div><h4><a id="synced-flush-api"></a>Synced Flush<a href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/indices/flush.asciidoc" class="edit_me" title="Edit this page on GitHub" rel="nofollow">edit</a></h4><p>See <a class="xref" href="indices-synced-flush-api.html" title="Synced flush API">Synced flush</a>.</p></div><div class="navfooter"><span class="prev"><a href="indices-clearcache.html">
              « 
              Clear Cache</a>
           
        </span><span class="next">
           
          <a href="indices-synced-flush-api.html">Synced flush API
               »
            </a></span></div></body></html>
