<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Remote clusters | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Remote clusters | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="setup.html" title="Set up Elasticsearch"/>
<link rel="prev" href="restart-cluster.html" title="Full-cluster restart and rolling restart"/>
<link rel="next" href="remote-clusters-api-key.html" title="Add remote clusters using API key authentication"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="restart-cluster.html">« Full-cluster restart and rolling restart</a>
</span>
<span class="next">
<a href="remote-clusters-api-key.html">Add remote clusters using API key authentication »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup.html">Set up Elasticsearch</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Remote clusters</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/modules/remote-clusters.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="remote-clusters"></a>Remote clusters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/modules/remote-clusters.asciidoc">edit</a></h2>
</div></div></div>
<p>You can connect a local cluster to other Elasticsearch clusters, known as <em>remote
clusters</em>. Remote clusters can be located in different datacenters or
geographic regions, and contain indices or data streams that can be replicated
with cross-cluster replication or searched by a local cluster using cross-cluster search.</p>
<h3><a id="remote-clusters-ccr"></a>Cross-cluster replication<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/modules/remote-clusters.asciidoc">edit</a></h3>
<p>With <a class="xref" href="xpack-ccr.html" title="Cross-cluster replication">cross-cluster replication</a>, you ingest data to an index on a remote cluster. This
<em>leader</em> index is replicated to one or more read-only <em>follower</em> indices on your
local cluster. Creating a multi-cluster architecture with cross-cluster replication enables you to
configure disaster recovery, bring data closer to your users, or establish a
centralized reporting cluster to process reports locally.</p>
<h3><a id="remote-clusters-ccs"></a>Cross-cluster search<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/modules/remote-clusters.asciidoc">edit</a></h3>
<p><a class="xref" href="modules-cross-cluster-search.html" title="Search across clusters">Cross-cluster search</a> enables you to run a search request
against one or more remote clusters. This capability provides each region with a
global view of all clusters, allowing you to send a search request from a local
cluster and return results from all connected remote clusters. For full cross-cluster search
capabilities, the local and remote cluster must be on the same
<a href="/subscriptions" class="ulink" target="_top">subscription level</a>.</p>
<h3><a id="add-remote-clusters"></a>Add remote clusters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/modules/remote-clusters.asciidoc">edit</a></h3>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The instructions that follow describe how to create a remote connection from a
self-managed cluster. You can also set up cross-cluster search and cross-cluster replication from an
<a href="/guide/en/cloud/current/ec-enable-ccs.html" class="ulink" target="_top">Elasticsearch Service deployment</a>
or from an <a href="/guide/en/cloud-enterprise/current/ece-enable-ccs.html" class="ulink" target="_top">Elastic Cloud Enterprise deployment</a>.</p>
</div>
</div>
<p>To add remote clusters, you can choose between
<a class="xref" href="remote-clusters.html#remote-clusters-security-models" title="Security models">two security models</a> and
<a class="xref" href="remote-clusters.html#sniff-proxy-modes" title="Connection modes">two connection modes</a>. Both security models are compatible
with either of the connection modes.</p>
<h4><a id="remote-clusters-security-models"></a>Security models<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/modules/remote-clusters.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
API key based security model
</span>
</dt>
<dd>
For clusters on version 8.14 or later, you can use an API key to authenticate
and authorize cross-cluster operations to a remote cluster. This model offers
administrators of both the local and the remote cluster fine-grained access
controls. <a class="xref" href="remote-clusters-api-key.html" title="Add remote clusters using API key authentication">Add remote clusters using API key authentication</a>.
</dd>
<dt>
<span class="term">
Certificate based security model
</span>
</dt>
<dd>
Uses mutual TLS authentication for cross-cluster operations. User authentication
is performed on the local cluster and a user&#8217;s role names are passed to the
remote cluster. In this model, a superuser on the local cluster gains total read
access to the remote cluster, so it is only suitable for clusters that are in
the same security domain. <a class="xref" href="remote-clusters-cert.html" title="Add remote clusters using TLS certificate authentication">Add remote clusters using TLS certificate authentication</a>.
</dd>
</dl>
</div>
<h4><a id="sniff-proxy-modes"></a>Connection modes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/modules/remote-clusters.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="sniff-mode"></a>
<dl class="variablelist">
<dt>
<span class="term">
Sniff mode
</span>
</dt>
<dd>
<p>
In sniff mode, a cluster is created using a name and a list of seed nodes. When
a remote cluster is registered, its cluster state is retrieved from one of the
seed nodes and up to three <em>gateway nodes</em> are selected as part of remote
cluster requests. This mode requires that the gateway node&#8217;s publish addresses
are accessible by the local cluster.
</p>
<p>Sniff mode is the default connection mode.</p>
<p><a id="gateway-nodes-selection"></a>The <em>gateway nodes</em> selection depends on the following criteria:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>version</strong></span>: Remote nodes must be compatible with the cluster they are
registered to.
</li>
<li class="listitem">
<span class="strong strong"><strong>role</strong></span>: By default, any non-<a class="xref" href="modules-node.html#master-node" title="Master-eligible node">master-eligible</a> node can act as a
gateway node. Dedicated master nodes are never selected as gateway nodes.
</li>
<li class="listitem">
<span class="strong strong"><strong>attributes</strong></span>: You can define the gateway nodes for a cluster by setting
<a class="xref" href="remote-clusters-settings.html#cluster-remote-node-attr"><code class="literal">cluster.remote.node.attr.gateway</code></a> to <code class="literal">true</code>.
However, such nodes still have to satisfy the two above requirements.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="proxy-mode"></a>
<dl class="variablelist">
<dt>
<span class="term">
Proxy mode
</span>
</dt>
<dd>
<p>
In proxy mode, a cluster is created using a name and a single proxy address.
When you register a remote cluster, a configurable number of socket connections
are opened to the proxy address. The proxy is required to route those
connections to the remote cluster. Proxy mode does not require remote cluster
nodes to have accessible publish addresses.
</p>
<p>The proxy mode is not the default connection mode and must be configured.
Proxy mode has the same <a class="xref" href="remote-clusters.html#gateway-nodes-selection">version compatibility
requirements</a> as sniff mode.</p>
</dd>
</dl>
</div>





</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="restart-cluster.html">« Full-cluster restart and rolling restart</a>
</span>
<span class="next">
<a href="remote-clusters-api-key.html">Add remote clusters using API key authentication »</a>
</span>
</div>
</body>
</html>
