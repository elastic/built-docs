<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Reset features API | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Reset features API | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="features-apis.html" title="Features APIs"/>
<link rel="prev" href="get-features-api.html" title="Get Features API"/>
<link rel="next" href="fleet-apis.html" title="Fleet APIs"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="get-features-api.html">« Get Features API</a>
</span>
<span class="next">
<a href="fleet-apis.html">Fleet APIs »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="features-apis.html">Features APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Reset features API</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/features/apis/reset-features-api.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="reset-features-api"></a>Reset features API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/features/apis/reset-features-api.asciidoc">edit</a></h2>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>Clears all of the state information stored in system indices by Elasticsearch features, including the security and machine learning indices.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Intended for development and testing use only. Do not reset features on a production cluster.</p>
</div>
</div>
<div class="pre_wrapper lang-ruby alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby alternative">response = client.features.reset_features
puts response</pre>
</div>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.features.resetFeatures();
console.log(response);</pre>
</div>
<a id="d7141bd4d0db964f5cc4a872ad79dce9"></a>
<div class="pre_wrapper lang-console default has-ruby has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-ruby has-js">POST /_features/_reset</pre>
</div>
<div class="console_widget has-ruby has-js" data-snippet="snippets/2660.console"></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="reset-features-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/features/apis/reset-features-api.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST /_features/_reset</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="reset-features-api-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/features/apis/reset-features-api.asciidoc">edit</a></h3>
</div></div></div>
<p>Return a cluster to the same state as a new installation by resetting the feature state for all Elasticsearch features. This deletes all state information stored in system indices.</p>
<p>The response code is <code class="literal">HTTP 200</code> if state is successfully reset for all features, or <code class="literal">HTTP 500</code> if the reset operation failed for any feature.</p>
<p>Note that select features might provide a way to reset particular system indices. Using this API resets <em>all</em> features, both those that are built-in and implemented as plugins.</p>
<p>To list the features that will be affected, use the <a class="xref" href="get-features-api.html" title="Get Features API">get features API</a>.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The features installed on the node you submit this request to are the features that will be reset. Run on the master node if you have any doubts about which plugins are installed on individual nodes.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="reset-features-api-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/features/apis/reset-features-api.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">master_timeout</code>
</span>
</dt>
<dd>
(Optional, <a class="xref" href="api-conventions.html#time-units" title="Time units">time units</a>)
Period to wait for the master node. If the master node is not available before
the timeout expires, the request fails and returns an error. Defaults to <code class="literal">30s</code>.
Can also be set to <code class="literal">-1</code> to indicate that the request should never timeout.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_examples_17"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/features/apis/reset-features-api.asciidoc">edit</a></h3>
</div></div></div>
<p>Example response:</p>
<a id="8f19b61ec63fe2754b54460fade9dc32"></a>
<div class="pre_wrapper lang-console-result">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console-result">{
  "features" : [
    {
      "feature_name" : "security",
      "status" : "SUCCESS"
    },
    {
      "feature_name" : "tasks",
      "status" : "SUCCESS"
    }
  ]
}</pre>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="get-features-api.html">« Get Features API</a>
</span>
<span class="next">
<a href="fleet-apis.html">Fleet APIs »</a>
</span>
</div>
</body>
</html>
