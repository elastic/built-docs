<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>elasticsearch-reset-password | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="elasticsearch-reset-password | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="commands.html" title="Command line tools"/>
<link rel="prev" href="reconfigure-node.html" title="elasticsearch-reconfigure-node"/>
<link rel="next" href="saml-metadata.html" title="elasticsearch-saml-metadata"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="reconfigure-node.html">« elasticsearch-reconfigure-node</a>
</span>
<span class="next">
<a href="saml-metadata.html">elasticsearch-saml-metadata »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="commands.html">Command line tools</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>elasticsearch-reset-password</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/commands/reset-password.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="reset-password"></a>elasticsearch-reset-password<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/commands/reset-password.asciidoc">edit</a></h2>
</div></div></div>
<p>The <code class="literal">elasticsearch-reset-password</code> command resets the passwords of users in
the native realm and built-in users.</p>
<h3><a id="_synopsis_7"></a>Synopsis<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/commands/reset-password.asciidoc">edit</a></h3>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">bin/elasticsearch-reset-password
[-a, --auto] [-b, --batch] [-E &lt;KeyValuePair]
[-f, --force] [-h, --help] [-i, --interactive]
[-s, --silent] [-u, --username] [--url] [-v, --verbose]</pre>
</div>
<h3><a id="_description_7"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/commands/reset-password.asciidoc">edit</a></h3>
<p>Use this command to reset the password of any user in the native realm
or any built-in user. By default, a strong password is generated for you.
To explicitly set a password, run the tool in interactive mode with <code class="literal">-i</code>.
The command generates (and subsequently removes) a temporary user in the
<a class="xref" href="file-realm.html" title="File-based user authentication">file realm</a> to run the request that changes the user password.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot use this tool if the file realm is disabled in your <code class="literal">elasticsearch.yml</code> file.</p>
</div>
</div>
<p>This command uses an HTTP connection to connect to the cluster and run the user
management requests. The command automatically attempts to establish the connection
over HTTPS by using the <code class="literal">xpack.security.http.ssl</code> settings in
the <code class="literal">elasticsearch.yml</code> file. If you do not use the default configuration directory
location, ensure that the <code class="literal">ES_PATH_CONF</code> environment variable returns the
correct path before you run the <code class="literal">elasticsearch-reset-password</code> command. You can
override settings in your <code class="literal">elasticsearch.yml</code> file by using the <code class="literal">-E</code> command
option. For more information about debugging connection failures, see
<a class="xref" href="trb-security-setup.html" title="Setup-passwords command fails due to connection failure">Setup-passwords command fails due to connection failure</a>.</p>
<h3><a id="reset-password-parameters"></a>Parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/commands/reset-password.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">-a, --auto</code>
</span>
</dt>
<dd>
Resets the password of the specified user to an auto-generated strong password. (Default)
</dd>
<dt>
<span class="term">
<code class="literal">-b, --batch</code>
</span>
</dt>
<dd>
Runs the reset password process without prompting the user for verification.
</dd>
<dt>
<span class="term">
<code class="literal">-E &lt;KeyValuePair&gt;</code>
</span>
</dt>
<dd>
Configures a standard Elasticsearch or X-Pack setting.
</dd>
<dt>
<span class="term">
<code class="literal">-f, --force</code>
</span>
</dt>
<dd>
Forces the command to run against an unhealthy cluster.
</dd>
<dt>
<span class="term">
<code class="literal">-h, --help</code>
</span>
</dt>
<dd>
Returns all of the command parameters.
</dd>
<dt>
<span class="term">
<code class="literal">-i, --interactive</code>
</span>
</dt>
<dd>
Prompts for the password of the specified user. Use this option to explicitly set a password.
</dd>
<dt>
<span class="term">
<code class="literal">-s --silent</code>
</span>
</dt>
<dd>
Shows minimal output in the console.
</dd>
<dt>
<span class="term">
<code class="literal">-u, --username</code>
</span>
</dt>
<dd>
The username of the native realm user or built-in user.
</dd>
<dt>
<span class="term">
<code class="literal">--url</code>
</span>
</dt>
<dd>
Specifies the base URL (hostname and port of the local node) that the tool uses to submit API
requests to Elasticsearch. The default value is determined from the settings in your
<code class="literal">elasticsearch.yml</code> file. If <code class="literal">xpack.security.http.ssl.enabled</code> is set to <code class="literal">true</code>,
you must specify an HTTPS URL.
</dd>
<dt>
<span class="term">
<code class="literal">-v --verbose</code>
</span>
</dt>
<dd>
Shows verbose output in the console.
</dd>
</dl>
</div>
<h3><a id="_examples_9"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/commands/reset-password.asciidoc">edit</a></h3>
<p>The following example resets the password of the <code class="literal">elastic</code> user to an auto-generated value and
prints the new password in the console:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">bin/elasticsearch-reset-password -u elastic</pre>
</div>
<p>The following example resets the password of a native user with username <code class="literal">user1</code> after prompting
in the terminal for the desired password:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">bin/elasticsearch-reset-password --username user1 -i</pre>
</div>
<p>The following example resets the password of a native user with username <code class="literal">user2</code> to an auto-generated value
prints the new password in the console. The specified URL indicates where the elasticsearch-reset-password
tool attempts to reach the local Elasticsearch node:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">bin/elasticsearch-reset-password --url "https://172.0.0.3:9200" --username user2 -i</pre>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="reconfigure-node.html">« elasticsearch-reconfigure-node</a>
</span>
<span class="next">
<a href="saml-metadata.html">elasticsearch-saml-metadata »</a>
</span>
</div>
</body>
</html>
