<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>Disable user profile API | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Disable user profile API | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="security-api.html" title="Security APIs"/>
<link rel="prev" href="security-api-activate-user-profile.html" title="Activate user profile API"/>
<link rel="next" href="security-api-enable-user-profile.html" title="Enable user profile API"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="security-api-activate-user-profile.html">« Activate user profile API</a>
</span>
<span class="next">
<a href="security-api-enable-user-profile.html">Enable user profile API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="security-api.html">Security APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Disable user profile API</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/disable-user-profile.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="security-api-disable-user-profile"></a>Disable user profile API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/disable-user-profile.asciidoc">edit</a></h2>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The user profile feature is designed only for use by Kibana and
Elastic’s Observability, Enterprise Search, and Elastic Security solutions. Individual
users and external applications should not call this API directly. Elastic reserves
the right to change or remove this feature in future releases without prior notice.</p>
</div>
</div>
<p>Disables a user profile so it&#8217;s not visible in
<a class="xref" href="security-api-suggest-user-profile.html" title="Suggest user profile API">user profile searches</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-disable-user-profile-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/disable-user-profile.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST /_security/profile/&lt;uid&gt;/_disable</code></p>
<p><code class="literal">PUT /_security/profile/&lt;uid&gt;/_disable</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-disable-user-profile-prereqs"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/disable-user-profile.asciidoc">edit</a></h3>
</div></div></div>
<p>To use this API, you must have the <code class="literal">manage_user_profile</code> cluster privilege.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-disable-user-profile-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/disable-user-profile.asciidoc">edit</a></h3>
</div></div></div>
<p>When you <a class="xref" href="security-api-activate-user-profile.html" title="Activate user profile API">activate a user profile</a>, it&#8217;s
automatically enabled and visible in user profile searches. You can use the
disable user profile API to disable a user profile so it&#8217;s not visible in
these searches.</p>
<p>To re-enable a disabled user profile, use the
<a class="xref" href="security-api-enable-user-profile.html" title="Enable user profile API">enable user profile API</a> .</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-disable-user-profile-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/disable-user-profile.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;uid&gt;</code>
</span>
</dt>
<dd>
(Required, string) Unique identifier for the user profile.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-disable-user-profile-query-params"></a>Query parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/disable-user-profile.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">refresh</code>
</span>
</dt>
<dd>
(Optional, enum) If <code class="literal">true</code>, Elasticsearch refreshes the affected shards to make this
operation visible to search, if <code class="literal">wait_for</code> then wait for a refresh to make
this operation visible to search, if <code class="literal">false</code> do nothing with refreshes.
Valid values: <code class="literal">true</code>, <code class="literal">false</code>, <code class="literal">wait_for</code>. Default: <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-disable-user-profile-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/disable-user-profile.asciidoc">edit</a></h3>
</div></div></div>
<p>The following request disables the user profile for a <code class="literal">uid</code> matching
<code class="literal">u_79HkWkwmnBH5gqFKwoxggWPjEBOur1zLPXQPEl1VBW0_0</code>:</p>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.security.disableUserProfile({
  uid: "u_79HkWkwmnBH5gqFKwoxggWPjEBOur1zLPXQPEl1VBW0_0",
});
console.log(response);</pre>
</div>
<a id="baadbfffcd0c16f51eb3537f516dc3ed"></a>
<div class="pre_wrapper lang-console default has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-js">POST /_security/profile/u_79HkWkwmnBH5gqFKwoxggWPjEBOur1zLPXQPEl1VBW0_0/_disable</pre>
</div>
<div class="console_widget has-js" data-snippet="snippets/3293.console"></div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="security-api-activate-user-profile.html">« Activate user profile API</a>
</span>
<span class="next">
<a href="security-api-enable-user-profile.html">Enable user profile API »</a>
</span>
</div>
</body>
</html>
