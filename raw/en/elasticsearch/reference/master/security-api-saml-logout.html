<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Elasticsearch diagnostic, diagnostics">
<title>SAML logout API | Elasticsearch Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="SAML logout API | Elasticsearch Guide [master]">

<link rel="home" href="index.html" title="Elasticsearch Guide [master]"/>
<link rel="up" href="security-api.html" title="Security APIs"/>
<link rel="prev" href="security-api-saml-authenticate.html" title="SAML authenticate API"/>
<link rel="next" href="security-api-saml-invalidate.html" title="SAML invalidate API"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Elasticsearch"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="security-api-saml-authenticate.html">« SAML authenticate API</a>
</span>
<span class="next">
<a href="security-api-saml-invalidate.html">SAML invalidate API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elasticsearch Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="rest-apis.html">REST APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="security-api.html">Security APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>SAML logout API</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/saml-logout-api.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="security-api-saml-logout"></a>SAML logout API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/saml-logout-api.asciidoc">edit</a></h2>
</div></div></div>

<p>Submits a request to invalidate an access token and refresh token.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This API is intended for use by custom web applications other than Kibana.
If you are using Kibana, see the <a class="xref" href="saml-guide-stack.html" title="Configuring SAML single-sign-on on the Elastic Stack">Configuring SAML single-sign-on on the Elastic Stack</a>.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-saml-logout-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/saml-logout-api.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST /_security/saml/logout</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-saml-logout-desc"></a>Description<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/saml-logout-api.asciidoc">edit</a></h3>
</div></div></div>
<p>This API invalidates the tokens that were generated for a user by the
<a class="xref" href="security-api-saml-authenticate.html" title="SAML authenticate API">SAML authenticate API</a>.</p>
<p>If the SAML realm in Elasticsearch is configured accordingly and the SAML IdP supports
this, the Elasticsearch response contains a URL to redirect the user to the IdP
that contains a SAML logout request (starting an SP-initiated SAML Single Logout).</p>
<p>Elasticsearch exposes all the necessary SAML related functionality via the SAML APIs.
These APIs are used internally by Kibana in order to provide SAML based
authentication, but can also be used by other custom web applications or other
clients. See also <a class="xref" href="security-api-saml-authenticate.html" title="SAML authenticate API">SAML authenticate API</a>,
<a class="xref" href="security-api-saml-prepare-authentication.html" title="SAML prepare authentication API">SAML prepare authentication API</a>,
<a class="xref" href="security-api-saml-invalidate.html" title="SAML invalidate API">SAML invalidate API</a>, and
<a class="xref" href="security-api-saml-complete-logout.html" title="SAML complete logout API">SAML complete logout API</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-saml-logout-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/saml-logout-api.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">token</code>
</span>
</dt>
<dd>
(Required, string) The access token that was returned as a response to calling the
<a class="xref" href="security-api-saml-authenticate.html" title="SAML authenticate API">SAML authenticate API</a>. Alternatively, the most
recent token that was received after refreshing the original one by using a
<code class="literal">refresh_token</code>.
</dd>
<dt>
<span class="term">
<code class="literal">refresh_token</code>
</span>
</dt>
<dd>
(Optional, string) The refresh token that was returned as a response to calling the
<a class="xref" href="security-api-saml-authenticate.html" title="SAML authenticate API">SAML authenticate API</a>. Alternatively, the
most recent refresh token that was received after refreshing the original access token.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-saml-logout-response-body"></a>Response body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/saml-logout-api.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">redirect</code>
</span>
</dt>
<dd>
(string) A URL that contains a SAML logout request as a parameter. The user
can use this URL to be redirected back to the SAML IdP and to initiate Single
Logout.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="security-api-saml-logout-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/main/docs/reference/rest-api/security/saml-logout-api.asciidoc">edit</a></h3>
</div></div></div>
<p>The following example invalidates the pair of tokens that were generated by
calling the <a class="xref" href="security-api-saml-authenticate.html" title="SAML authenticate API">SAML authenticate API</a>
with a successful SAML response:</p>
<div class="pre_wrapper lang-js alternative">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js alternative">const response = await client.security.samlLogout({
  token: "46ToAxZVaXVVZTVKOVF5YU04ZFJVUDVSZlV3",
  refresh_token: "mJdXLtmvTUSpoLwMvdBt_w",
});
console.log(response);</pre>
</div>
<a id="8d4dda5d988d568f4f4210a6387e026f"></a>
<div class="pre_wrapper lang-console default has-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console default has-js">POST /_security/saml/logout
{
  "token" : "46ToAxZVaXVVZTVKOVF5YU04ZFJVUDVSZlV3",
  "refresh_token" : "mJdXLtmvTUSpoLwMvdBt_w"
}</pre>
</div>
<div class="console_widget has-js" data-snippet="snippets/3278.console"></div>
<p>The API returns the following response:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">{
  "redirect" : "https://my-idp.org/logout/SAMLRequest=...."
}</pre>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="security-api-saml-authenticate.html">« SAML authenticate API</a>
</span>
<span class="next">
<a href="security-api-saml-invalidate.html">SAML invalidate API »</a>
</span>
</div>
</body>
</html>
