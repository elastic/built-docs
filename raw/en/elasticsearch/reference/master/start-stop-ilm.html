<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Start and stop index lifecycle management | Elasticsearch Reference [master] | Elastic</title>
<link rel="home" href="index.html" title="Elasticsearch Reference [master]"/>
<link rel="up" href="index-lifecycle-management.html" title="Manage the index lifecycle"/>
<link rel="prev" href="index-lifecycle-error-handling.html" title="Index lifecycle error handling"/>
<link rel="next" href="using-policies-rollover.html" title="Roll over automatically"/>
<meta name="DC.type" content="Learn/Docs/Elasticsearch/Reference/master"/>
<meta name="DC.subject" content="Elasticsearch"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Elasticsearch Reference [master]</a></span>
»
<span class="breadcrumb-link"><a href="index-lifecycle-management.html">Manage the index lifecycle</a></span>
»
<span class="breadcrumb-node">Start and stop index lifecycle management</span>
</div>
<div class="navheader">
<span class="prev">
<a href="index-lifecycle-error-handling.html">« Index lifecycle error handling</a>
</span>
<span class="next">
<a href="using-policies-rollover.html">Roll over automatically »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="start-stop-ilm"></a>Start and stop index lifecycle management<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/ilm/start-stop-ilm.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<p>All indices that are managed by ILM will continue to execute
their policies. There may be times when this is not desired on certain
indices, or maybe even all the indices in a cluster. For example,
maybe there are scheduled maintenance windows when cluster topology
changes are desired that may impact running ILM actions. For this reason,
ILM has two ways to disable operations.</p>
<p>When stopping ILM, snapshot lifecycle management operations are also stopped,
this means that no scheduled snapshots are created (currently ongoing snapshots
are unaffected).</p>
<p>Normally, ILM will be running by default.
To see the current operating status of ILM, use the <a class="xref" href="ilm-get-status.html" title="Get index lifecycle management status API">Get Status API</a>
to see the current state of ILM.</p>
<a id="182df084f028479ecbe8d7648ddad892"></a>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">GET _ilm/status</pre>
</div>
<div class="console_widget" data-snippet="snippets/1054.console"></div>
<p>If the request does not encounter errors, you receive the following result:</p>
<a id="99e0bec31e49636bc0053ac66bc29352"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "operation_mode": "RUNNING"
}</pre>
</div>
<p>The operating modes of ILM:</p>
<div class="table">
<a id="ilm-operating-modes"></a>
<p class="title"><strong>Table 76. ILM Operating Modes</strong></p>
<div class="table-contents">
<table border="1" cellpadding="4px" summary="ILM Operating Modes">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>RUNNING</p></td>
<td align="left" valign="top"><p>Normal operation where all policies are executed as normal</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>STOPPING</p></td>
<td align="left" valign="top"><p>ILM has received a request to stop but is still processing some policies</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>STOPPED</p></td>
<td align="left" valign="top"><p>This represents a state where no policies are executed</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<h3><a id="_stopping_ilm"></a>Stopping ILM<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/ilm/start-stop-ilm.asciidoc">edit</a></h3>
<p>The ILM service can be paused such that no further steps will be executed
using the <a class="xref" href="ilm-stop.html" title="Stop index lifecycle management API">Stop API</a>.</p>
<a id="585a34ad79aee16678b37da785933ac8"></a>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _ilm/stop</pre>
</div>
<div class="console_widget" data-snippet="snippets/1055.console"></div>
<p>When stopped, all further policy actions will be halted. This will
be reflected in the Status API</p>
<a id="8de1c258461189d65cba97dbc94600cd"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "operation_mode": "STOPPING"
}</pre>
</div>
<p>The ILM service will then, asynchronously, run all policies to a point
where it is safe to stop. After ILM verifies that it is safe, it will
move to the <code class="literal">STOPPED</code> mode.</p>
<a id="db8563ab7fe37081a9bb66c91d65d673"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "operation_mode": "STOPPED"
}</pre>
</div>
<h3><a id="_starting_ilm"></a>Starting ILM<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/master/docs/reference/ilm/start-stop-ilm.asciidoc">edit</a></h3>
<p>To start ILM and continue executing policies, use the <a class="xref" href="ilm-start.html" title="Start index lifecycle management API">Start API</a>.</p>
<a id="72ae3851160fcf02b8e2cdfd4e57d238"></a>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST _ilm/start</pre>
</div>
<div class="console_widget" data-snippet="snippets/1056.console"></div>
<p>The Start API will send a request to the ILM service to immediately begin
normal operations.</p>
<a id="99e0bec31e49636bc0053ac66bc29352"></a>
<div class="pre_wrapper lang-console-result">
<pre class="programlisting prettyprint lang-console-result">{
  "operation_mode": "RUNNING"
}</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="index-lifecycle-error-handling.html">« Index lifecycle error handling</a>
</span>
<span class="next">
<a href="using-policies-rollover.html">Roll over automatically »</a>
</span>
</div>
</div>
</body>
</html>
