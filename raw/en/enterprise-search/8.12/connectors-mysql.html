<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elastic MySQL connector reference | Enterprise Search documentation [8.12] | Elastic</title>
<meta class="elastic" name="content" content="Elastic MySQL connector reference | Enterprise Search documentation [8.12]">

<link rel="home" href="index.html" title="Enterprise Search documentation [8.12]"/>
<link rel="up" href="connectors-references.html" title="Connectors references"/>
<link rel="prev" href="connectors-mongodb.html" title="Elastic MongoDB connector reference"/>
<link rel="next" href="connectors-network-drive.html" title="Elastic network drive connector reference"/>
<meta class="elastic" name="product_version" content="8.12"/>
<meta class="elastic" name="product_name" content="Enterprise Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/8.12"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="8.12"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Enterprise Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="connectors-references.html">Connectors references</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="connectors-mongodb.html">« Elastic MongoDB connector reference</a>
</span>
<span class="next">
<a href="connectors-network-drive.html">Elastic network drive connector reference »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="connectors-mysql"></a>Elastic MySQL connector reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h2>
</div></div></div>

<p>The <em>Elastic MySQL connector</em> is a <a class="xref" href="connectors.html" title="Elastic connectors">connector</a> for <a href="https://www.mysql.com" class="ulink" target="_blank" rel="noopener">MySQL</a> data sources.
This connector is written in Python using the <a href="https://github.com/elastic/connectors/tree/8.12" class="ulink" target="_blank" rel="noopener">Elastic connector framework</a>.</p>
<p>View the <a href="https://github.com/elastic/connectors/tree/8.12/connectors/sources/mysql.py" class="ulink" target="_blank" rel="noopener"><span class="strong strong"><strong>source code</strong></span> for this connector</a> (branch <em>8.12</em>, compatible with Elastic <em>8.12</em>).</p>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Choose your connector reference</strong></p>
</div></div></div>
<p>Are you using a native connector on Elastic Cloud or a self-managed connector client? Expand the documentation based on your deployment method.</p>
</div>
<h3><a id="connectors-mysql-native-connector-reference"></a><span class="strong strong"><strong>Native connector (Elastic Cloud)</strong></span><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h3>
<details>
<summary class="title">View <span class="strong strong"><strong>native connector</strong></span> reference</summary>
<div class="content">
<h4><a id="connectors-mysql-prerequisites"></a>Availability and prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>This connector is available as a <span class="strong strong"><strong>native connector</strong></span> in Elastic versions <span class="strong strong"><strong>8.5.0 and later</strong></span>.
To use this connector natively in Elastic Cloud, satisfy all <a class="xref" href="native-connectors.html" title="Native connectors (managed service)">native connector requirements</a>.</p>
<p>This connector has no additional prerequisites beyond the shared requirements, linked above.</p>
<h4><a id="connectors-mysql-compatibility"></a>Compatibility<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>This connector is compatible with <span class="strong strong"><strong>MySQL 5.6 and later</strong></span>.</p>
<p>The connector is also compatible with <span class="strong strong"><strong>MariaDB</strong></span> databases compatible with the above.</p>
<p>The data source and your Elastic deployment must be able to communicate with each other over a network.</p>
<h4><a id="connectors-mysql-usage"></a>Usage<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>To use this connector natively in Elastic Cloud, see <a class="xref" href="native-connectors.html" title="Native connectors (managed service)"><em>Native connectors (managed service)</em></a>.</p>
<p>For additional operations, see <a class="xref" href="connectors-usage.html" title="Using connectors"><em>Using connectors</em></a>.</p>
<h4><a id="connectors-mysql-configuration"></a>Configuration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>Each time you create an index to be managed by this connector, you will create a new connector configuration.
You will need some or all of the following information about the data source.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Host
</span>
</dt>
<dd>
<p>
The IP address or domain name of the MySQL host, excluding port.
Examples:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">192.158.1.38</code>
</li>
<li class="listitem">
<code class="literal">localhost</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Port
</span>
</dt>
<dd>
<p>
The port of the MySQL host.
Examples:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">3306</code>
</li>
<li class="listitem">
<code class="literal">3307</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Username
</span>
</dt>
<dd>
<p>
The MySQL username the connector will use.
</p>
<p>The user must have access to the configured database.
You may want to create a dedicated, read-only user for each connector.</p>
</dd>
<dt>
<span class="term">
Password
</span>
</dt>
<dd>
The MySQL password the connector will use.
</dd>
<dt>
<span class="term">
Database
</span>
</dt>
<dd>
<p>
The MySQL database to sync.
The database must be accessible using the configured username and password.
</p>
<p>Examples:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">products</code>
</li>
<li class="listitem">
<code class="literal">orders</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Comma-separated list of tables
</span>
</dt>
<dd>
<p>
The tables in the configured database to sync.
One or more table names, separated by commas.
The tables must be accessible using the configured username and password.
</p>
<p>Examples:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">furniture, food, toys</code>
</li>
<li class="listitem">
<p><code class="literal">laptops</code></p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>This field can be bypassed when using advanced sync rules.</p>
</div>
</div>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Enable SSL
</span>
</dt>
<dd>
Whether SSL verification will be enabled.
Default value is <code class="literal">True</code>.
</dd>
<dt>
<span class="term">
SSL Certificate
</span>
</dt>
<dd>
<p>
Content of SSL certificate.
If SSL is disabled, the SSL certificate value will be ignored.
</p>
<details>
<summary class="title"><span class="strong strong"><strong>Expand</strong></span> to see an example certificate</summary>
<div class="content">
<pre class="screen">-----BEGIN CERTIFICATE-----
MIID+jCCAuKgAwIBAgIGAJJMzlxLMA0GCSqGSIb3DQEBCwUAMHoxCzAJBgNVBAYT
AlVTMQwwCgYDVQQKEwNJQk0xFjAUBgNVBAsTDURlZmF1bHROb2RlMDExFjAUBgNV
BAsTDURlZmF1bHRDZWxsMDExGTAXBgNVBAsTEFJvb3QgQ2VydGlmaWNhdGUxEjAQ
BgNVBAMTCWxvY2FsaG9zdDAeFw0yMTEyMTQyMjA3MTZaFw0yMjEyMTQyMjA3MTZa
MF8xCzAJBgNVBAYTAlVTMQwwCgYDVQQKEwNJQk0xFjAUBgNVBAsTDURlZmF1bHRO
b2RlMDExFjAUBgNVBAsTDURlZmF1bHRDZWxsMDExEjAQBgNVBAMTCWxvY2FsaG9z
dDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMv5HCsJZIpI5zCy+jXV
z6lmzNc9UcVSEEHn86h6zT6pxuY90TYeAhlZ9hZ+SCKn4OQ4GoDRZhLPTkYDt+wW
CV3NTIy9uCGUSJ6xjCKoxClJmgSQdg5m4HzwfY4ofoEZ5iZQ0Zmt62jGRWc0zuxj
hegnM+eO2reBJYu6Ypa9RPJdYJsmn1RNnC74IDY8Y95qn+WZj//UALCpYfX41hko
i7TWD9GKQO8SBmAxhjCDifOxVBokoxYrNdzESl0LXvnzEadeZTd9BfUtTaBHhx6t
njqqCPrbTY+3jAbZFd4RiERPnhLVKMytw5ot506BhPrUtpr2lusbN5svNXjuLeea
MMUCAwEAAaOBoDCBnTATBgNVHSMEDDAKgAhOatpLwvJFqjAdBgNVHSUEFjAUBggr
BgEFBQcDAQYIKwYBBQUHAwIwVAYDVR0RBE0wS4E+UHJvZmlsZVVVSUQ6QXBwU3J2
MDEtQkFTRS05MDkzMzJjMC1iNmFiLTQ2OTMtYWI5NC01Mjc1ZDI1MmFmNDiCCWxv
Y2FsaG9zdDARBgNVHQ4ECgQITzqhA5sO8O4wDQYJKoZIhvcNAQELBQADggEBAKR0
gY/BM69S6BDyWp5dxcpmZ9FS783FBbdUXjVtTkQno+oYURDrhCdsfTLYtqUlP4J4
CHoskP+MwJjRIoKhPVQMv14Q4VC2J9coYXnePhFjE+6MaZbTjq9WaekGrpKkMaQA
iQt5b67jo7y63CZKIo9yBvs7sxODQzDn3wZwyux2vPegXSaTHR/rop/s/mPk3YTS
hQprs/IVtPoWU4/TsDN3gIlrAYGbcs29CAt5q9MfzkMmKsuDkTZD0ry42VjxjAmk
xw23l/k8RoD1wRWaDVbgpjwSzt+kl+vJE/ip2w3h69eEZ9wbo6scRO5lCO2JM4Pr
7RhLQyWn2u00L7/9Omw=
-----END CERTIFICATE-----</pre>
</div>
</details>
</dd>
</dl>
</div>
<h4><a id="connectors-mysql-known-issues"></a>Known issues<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>This connector has the following known issues:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Upgrading from a tech preview connector (8.7 or earlier) to 8.8 will cause the MySQL connector configuration to be invalid.</strong></span></p>
<p>MySQL connectors prior to 8.8 can be missing some configuration fields that are required for the connector to run.
If you would like to continue using your MySQL connector after upgrading from 8.7 or earlier, run the script below to fix your connector&#8217;s configuration.
This will populate the configuration with the missing fields.
The auxilliary information needed for the configuration will then be automatically added by by the connector client.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST /.elastic-connectors/_update/&lt;connector_id&gt;
{
  "doc" : {
    "configuration": {
      "tables": {
        "type": "list",
        "value": "*"
      },
      "ssl_enabled": {
        "type": "bool",
        "value": false
      },
      "ssl_ca": {
        "type": "str",
        "value": ""
      },
      "fetch_size": {
        "type": "int",
        "value": 50
      },
      "retry_count": {
        "type": "int",
        "value": 3
      }
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/4.console"></div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Upgrading to 8.8 does not migrate MySQL sync rules.</strong></span></p>
<p>After upgrading, you must re-create your sync rules.</p>
</li>
</ul>
</div>
<p>See <a class="xref" href="connectors-known-issues.html" title="Connector known issues"><em>Known issues</em></a> for any issues affecting all connectors.</p>
<h4><a id="connectors-mysql-syncs"></a>Documents and syncs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>The following describes the default syncing behavior for this connector.
Use <a class="xref" href="sync-rules.html" title="Connector sync rules">sync rules</a> and <a href="/guide/en/elasticsearch/reference/8.12/ingest-pipeline-search.html" class="ulink" target="_top">ingest pipelines</a> to customize syncing for specific indices.</p>
<p>All records in the MySQL database included in your connector configuration are extracted and transformed into documents in your Elasticsearch index.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For each row in your MySQL database table, the connector creates one <span class="strong strong"><strong>Elasticsearch document</strong></span>.
</li>
<li class="listitem">
For each column, the connector transforms the column into an <span class="strong strong"><strong>Elasticsearch field</strong></span>.
</li>
<li class="listitem">
Elasticsearch <a href="/guide/en/elasticsearch/reference/8.12/dynamic-mapping.html" class="ulink" target="_blank" rel="noopener">dynamically maps</a> MySQL data types to <span class="strong strong"><strong>Elasticsearch data types</strong></span>.
</li>
<li class="listitem">
Tables with no primary key defined are skipped.
</li>
<li class="listitem">
Field values that represent other records are replaced with the primary key for that record (composite primary keys are joined with <code class="literal">_</code>).
</li>
</ul>
</div>
<p>The Elasticsearch mapping is created when the first document is created.</p>
<p>Each sync is a "full" sync.</p>
<p>For each MySQL row discovered:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If it does not exist, the document is created in Elasticsearch.
</li>
<li class="listitem">
If it already exists in Elasticsearch, the Elasticsearch document is replaced and the version is incremented.
</li>
<li class="listitem">
If an existing Elasticsearch document no longer exists in the MySQL table, it is deleted from Elasticsearch.
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Files bigger than 10 MB won&#8217;t be extracted
</li>
<li class="listitem">
Permissions are not synced by default.
<span class="strong strong"><strong>All documents</strong></span> indexed to an Elastic deployment will be visible to <span class="strong strong"><strong>all users with access</strong></span> to that Elastic Deployment.
</li>
</ul>
</div>
</div>
</div>
<h4><a id="connectors-mysql-sync-rules"></a>Sync rules<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>The following sections describe <a class="xref" href="sync-rules.html" title="Connector sync rules">Sync rules</a> for this connector.</p>
<p><a class="xref" href="sync-rules.html#sync-rules-basic" title="Basic sync rules">Basic sync rules</a> are identical for all connectors and are available by default.</p>
<p><a class="xref" href="sync-rules.html#sync-rules-advanced" title="Advanced sync rules">Advanced rules</a> for MySQL can be used to pass arbitrary SQL statements to a MySQL instance.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You need to specify the tables used in your custom query in the "tables" field.</p>
</div>
</div>
<p>For example:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">[
    {
        "tables": ["table1", "table2"],
        "query": "SELECT ... FROM ..."
    }
]</pre>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>When using advanced rules, a query can bypass the configuration field <code class="literal">tables</code>.
This will happen if the query specifies a table that doesn&#8217;t appear in the configuration.
This can also happen if the configuration specifies <code class="literal">*</code> to fetch all tables while the advanced sync rule requests for only a subset of tables.</p>
</div>
</div>
<h4><a id="connectors-mysql-troubleshooting"></a>Troubleshooting<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>See <a class="xref" href="connectors-troubleshooting.html" title="Troubleshooting connectors">Troubleshooting</a>.</p>
<h4><a id="connectors-mysql-security"></a>Security<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>See <a class="xref" href="connectors-security.html" title="Connectors security">Security</a>.</p>
<h4><a id="connectors-mysql-content-extraction"></a>Content extraction<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>See <a class="xref" href="connectors-content-extraction.html" title="Content extraction">Content extraction</a>.</p>
</div>
</details>
<h3><a id="connectors-mysql-connector-client-reference"></a><span class="strong strong"><strong>Connector client (self-managed)</strong></span><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h3>
<details>
<summary class="title">View <span class="strong strong"><strong>connector client</strong></span> reference</summary>
<div class="content">
<h4><a id="connectors-mysql-client-prerequisites"></a>Availability and prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>This connector is available as a <span class="strong strong"><strong>native connector</strong></span> in Elastic versions <span class="strong strong"><strong>8.5.0 and later</strong></span>.
To use this connector natively in Elastic Cloud, satisfy all <a class="xref" href="native-connectors.html" title="Native connectors (managed service)">native connector requirements</a>.</p>
<p>This connector is also available as a <span class="strong strong"><strong>connector client</strong></span> from the <span class="strong strong"><strong>Elastic connector framework</strong></span>.
To use this connector as a connector client, satisfy all <a class="xref" href="build-connector.html" title="Connector clients (self-managed)">connector client requirements</a>.</p>
<p>This connector has no additional prerequisites beyond the shared requirements, linked above.</p>
<h4><a id="connectors-mysql-client-usage"></a>Usage<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>To use this connector as a <span class="strong strong"><strong>native connector</strong></span>, use the <span class="strong strong"><strong>Connector</strong></span> workflow.
See <a class="xref" href="native-connectors.html" title="Native connectors (managed service)"><em>Native connectors (managed service)</em></a>.</p>
<p>To use this connector as a <span class="strong strong"><strong>connector client</strong></span>, see <a class="xref" href="build-connector.html" title="Connector clients (self-managed)"><em>Connector clients (self-managed)</em></a>.</p>
<p>For additional operations, see <a class="xref" href="connectors-usage.html" title="Using connectors"><em>Using connectors</em></a>.</p>
<h4><a id="connectors-mysql-client-compatibility"></a>Compatibility<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>This connector is compatible with <span class="strong strong"><strong>MySQL 5.6 and later</strong></span>.</p>
<p>The connector is also compatible with <span class="strong strong"><strong>MariaDB</strong></span> databases compatible with the above.</p>
<p>The data source and your Elastic deployment must be able to communicate with each other over a network.</p>
<h4><a id="connectors-mysql-client-configuration"></a>Configuration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>Each time you create an index to be managed by this connector, you will create a new connector configuration.
You will need some or all of the following information about the data source.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Host
</span>
</dt>
<dd>
<p>
The IP address or domain name of the MySQL host, excluding port.
Examples:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">192.158.1.38</code>
</li>
<li class="listitem">
<code class="literal">localhost</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Port
</span>
</dt>
<dd>
<p>
The port of the MySQL host.
Examples:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">3306</code>
</li>
<li class="listitem">
<code class="literal">3307</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Username
</span>
</dt>
<dd>
<p>
The MySQL username the connector will use.
</p>
<p>The user must have access to the configured database.
You may want to create a dedicated, read-only user for each connector.</p>
</dd>
<dt>
<span class="term">
Password
</span>
</dt>
<dd>
The MySQL password the connector will use.
</dd>
<dt>
<span class="term">
Database
</span>
</dt>
<dd>
<p>
The MySQL database to sync.
The database must be accessible using the configured username and password.
</p>
<p>Examples:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">products</code>
</li>
<li class="listitem">
<code class="literal">orders</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Tables
</span>
</dt>
<dd>
<p>
The tables in the configured database to sync.
One or more table names, separated by commas.
The tables must be accessible using the configured username and password.
</p>
<p>Examples:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">furniture, food, toys</code>
</li>
<li class="listitem">
<code class="literal">laptops</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Enable SSL
</span>
</dt>
<dd>
Whether SSL verification will be enabled.
Default value is <code class="literal">True</code>.
</dd>
<dt>
<span class="term">
SSL Certificate
</span>
</dt>
<dd>
<p>
Content of SSL certificate.
If SSL is disabled, the SSL certificate value will be ignored.
</p>
<details>
<summary class="title"><span class="strong strong"><strong>Expand</strong></span> to see an example certificate</summary>
<div class="content">
<pre class="screen">-----BEGIN CERTIFICATE-----
MIID+jCCAuKgAwIBAgIGAJJMzlxLMA0GCSqGSIb3DQEBCwUAMHoxCzAJBgNVBAYT
AlVTMQwwCgYDVQQKEwNJQk0xFjAUBgNVBAsTDURlZmF1bHROb2RlMDExFjAUBgNV
BAsTDURlZmF1bHRDZWxsMDExGTAXBgNVBAsTEFJvb3QgQ2VydGlmaWNhdGUxEjAQ
BgNVBAMTCWxvY2FsaG9zdDAeFw0yMTEyMTQyMjA3MTZaFw0yMjEyMTQyMjA3MTZa
MF8xCzAJBgNVBAYTAlVTMQwwCgYDVQQKEwNJQk0xFjAUBgNVBAsTDURlZmF1bHRO
b2RlMDExFjAUBgNVBAsTDURlZmF1bHRDZWxsMDExEjAQBgNVBAMTCWxvY2FsaG9z
dDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAMv5HCsJZIpI5zCy+jXV
z6lmzNc9UcVSEEHn86h6zT6pxuY90TYeAhlZ9hZ+SCKn4OQ4GoDRZhLPTkYDt+wW
CV3NTIy9uCGUSJ6xjCKoxClJmgSQdg5m4HzwfY4ofoEZ5iZQ0Zmt62jGRWc0zuxj
hegnM+eO2reBJYu6Ypa9RPJdYJsmn1RNnC74IDY8Y95qn+WZj//UALCpYfX41hko
i7TWD9GKQO8SBmAxhjCDifOxVBokoxYrNdzESl0LXvnzEadeZTd9BfUtTaBHhx6t
njqqCPrbTY+3jAbZFd4RiERPnhLVKMytw5ot506BhPrUtpr2lusbN5svNXjuLeea
MMUCAwEAAaOBoDCBnTATBgNVHSMEDDAKgAhOatpLwvJFqjAdBgNVHSUEFjAUBggr
BgEFBQcDAQYIKwYBBQUHAwIwVAYDVR0RBE0wS4E+UHJvZmlsZVVVSUQ6QXBwU3J2
MDEtQkFTRS05MDkzMzJjMC1iNmFiLTQ2OTMtYWI5NC01Mjc1ZDI1MmFmNDiCCWxv
Y2FsaG9zdDARBgNVHQ4ECgQITzqhA5sO8O4wDQYJKoZIhvcNAQELBQADggEBAKR0
gY/BM69S6BDyWp5dxcpmZ9FS783FBbdUXjVtTkQno+oYURDrhCdsfTLYtqUlP4J4
CHoskP+MwJjRIoKhPVQMv14Q4VC2J9coYXnePhFjE+6MaZbTjq9WaekGrpKkMaQA
iQt5b67jo7y63CZKIo9yBvs7sxODQzDn3wZwyux2vPegXSaTHR/rop/s/mPk3YTS
hQprs/IVtPoWU4/TsDN3gIlrAYGbcs29CAt5q9MfzkMmKsuDkTZD0ry42VjxjAmk
xw23l/k8RoD1wRWaDVbgpjwSzt+kl+vJE/ip2w3h69eEZ9wbo6scRO5lCO2JM4Pr
7RhLQyWn2u00L7/9Omw=
-----END CERTIFICATE-----</pre>
</div>
</details>
</dd>
</dl>
</div>
<h4><a id="connectors-mysql-client-known-issues"></a>Known issues<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>This connector has the following known issues:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong>Upgrading from a tech preview connector (8.7 or earlier) to 8.8 will cause the MySQL connector configuration to be invalid.</strong></span></p>
<p>MySQL connectors prior to 8.8 can be missing some configuration fields that are required for the connector to run.
If you would like to continue using your MySQL connector after upgrading from 8.7 or earlier, run the script below to fix your connector&#8217;s configuration.
This will populate the configuration with the missing fields.
The auxilliary information needed for the configuration will then be automatically added by by the connector client.</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">POST /.elastic-connectors/_update/&lt;connector_id&gt;
{
  "doc" : {
    "configuration": {
      "tables": {
        "type": "list",
        "value": "*"
      },
      "ssl_enabled": {
        "type": "bool",
        "value": false
      },
      "ssl_ca": {
        "type": "str",
        "value": ""
      },
      "fetch_size": {
        "type": "int",
        "value": 50
      },
      "retry_count": {
        "type": "int",
        "value": 3
      }
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/5.console"></div>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Upgrading to 8.8 does not migrate MySQL sync rules.</strong></span></p>
<p>After upgrading, you must re-create your sync rules.</p>
</li>
</ul>
</div>
<p>See <a class="xref" href="connectors-known-issues.html" title="Connector known issues"><em>Known issues</em></a> for any issues affecting all connectors.</p>
<h4><a id="connectors-mysql-client-syncs"></a>Documents and syncs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>The following describes the default syncing behavior for this connector.
Use <a class="xref" href="sync-rules.html" title="Connector sync rules">sync rules</a> and <a href="/guide/en/elasticsearch/reference/8.12/ingest-pipeline-search.html" class="ulink" target="_top">ingest pipelines</a> to customize syncing for specific indices.</p>
<p>All records in the MySQL database included in your connector configuration are extracted and transformed into documents in your Elasticsearch index.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For each row in your MySQL database table, the connector creates one <span class="strong strong"><strong>Elasticsearch document</strong></span>.
</li>
<li class="listitem">
For each column, the connector transforms the column into an <span class="strong strong"><strong>Elasticsearch field</strong></span>.
</li>
<li class="listitem">
Elasticsearch <a href="/guide/en/elasticsearch/reference/8.12/dynamic-mapping.html" class="ulink" target="_blank" rel="noopener">dynamically maps</a> MySQL data types to <span class="strong strong"><strong>Elasticsearch data types</strong></span>.
</li>
<li class="listitem">
Tables with no primary key defined are skipped.
</li>
<li class="listitem">
Field values that represent other records are replaced with the primary key for that record (composite primary keys are joined with <code class="literal">_</code>).
</li>
</ul>
</div>
<p>The Elasticsearch mapping is created when the first document is created.</p>
<p>Each sync is a "full" sync.</p>
<p>For each MySQL row discovered:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If it does not exist, the document is created in Elasticsearch.
</li>
<li class="listitem">
If it already exists in Elasticsearch, the Elasticsearch document is replaced and the version is incremented.
</li>
<li class="listitem">
If an existing Elasticsearch document no longer exists in the MySQL table, it is deleted from Elasticsearch.
</li>
</ul>
</div>
<h4><a id="connectors-mysql-client-docker"></a>Deployment using Docker<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>You can deploy the MySQL connector as a self-managed connector client using Docker.
Follow these instructions.</p>
<details>
<summary class="title"><span class="strong strong"><strong>Step 1: Download sample configuration file</strong></span></summary>
<div class="content">
<p>Download the sample configuration file.
You can either download it manually or run the following command:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl https://raw.githubusercontent.com/elastic/connectors/main/config.yml --output ~/connectors-config/config.yml</pre>
</div>
<p>Remember to update the <code class="literal">--output</code> argument value if your directory name is different, or you want to use a different config file name.</p>
</div>
</details>
<details>
<summary class="title"><span class="strong strong"><strong>Step 2: Update the configuration file for your self-managed connector</strong></span></summary>
<div class="content">
<p>Update the configuration file with the following settings to match your environment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">elasticsearch.host</code>
</li>
<li class="listitem">
<code class="literal">elasticsearch.api_key</code>
</li>
<li class="listitem">
<code class="literal">connectors</code>
</li>
</ul>
</div>
<p>If you&#8217;re running the connector service against a Dockerized version of Elasticsearch and Kibana, your config file will look like this:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml"># When connecting to your cloud deployment you should edit the host value
elasticsearch.host: http://host.docker.internal:9200
elasticsearch.api_key: &lt;ELASTICSEARCH_API_KEY&gt;

connectors:
  -
    connector_id: &lt;CONNECTOR_ID_FROM_KIBANA&gt;
    service_type: mysql
    api_key: &lt;CONNECTOR_API_KEY_FROM_KIBANA&gt;</pre>
</div>
<p>Using the <code class="literal">elasticsearch.api_key</code> is the recommended authentication method. However, you can also use <code class="literal">elasticsearch.username</code> and <code class="literal">elasticsearch.password</code> to authenticate with your Elasticsearch instance.</p>
<p>Note: You can change other default configurations by simply uncommenting specific settings in the configuration file and modifying their values.</p>
</div>
</details>
<details>
<summary class="title"><span class="strong strong"><strong>Step 3: Run the Docker image</strong></span></summary>
<div class="content">
<p>Run the Docker image with the Connector Service using the following command:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">docker run \
-v ~/connectors-config:/config \
--network "elastic" \
--tty \
--rm \
docker.elastic.co/enterprise-search/elastic-connectors:8.12.2.0 \
/app/bin/elastic-ingest \
-c /config/config.yml</pre>
</div>
</div>
</details>
<p>Refer to <a href="https://github.com/elastic/connectors/tree/8.12/docs/DOCKER.md" class="ulink" target="_blank" rel="noopener"><code class="literal">DOCKER.md</code></a> in the <code class="literal">elastic/connectors</code> repo for more details.</p>
<p>Find all available Docker images in the <a href="https://www.docker.elastic.co/r/enterprise-search/elastic-connectors" class="ulink" target="_top">official registry</a>.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>We also have a quickstart self-managed option using Docker Compose, so you can spin up all required services at once: Elasticsearch, Kibana, and the connectors service.
Refer to this <a href="https://github.com/elastic/connectors/tree/main/scripts/stack#readme" class="ulink" target="_top">README</a> in the <code class="literal">elastic/connectors</code> repo for more information.</p>
</div>
</div>
<h4><a id="connectors-mysql-client-sync-rules"></a>Sync rules<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>The following sections describe <a class="xref" href="sync-rules.html" title="Connector sync rules">Sync rules</a> for this connector.</p>
<p><a class="xref" href="sync-rules.html#sync-rules-basic" title="Basic sync rules">Basic sync rules</a> are identical for all connectors and are available by default.</p>
<p><a class="xref" href="sync-rules.html#sync-rules-advanced" title="Advanced sync rules">Advanced rules</a> for MySQL can be used to pass arbitrary SQL statements to a MySQL instance.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You need to specify the tables used in your custom query in the "tables" field.</p>
</div>
</div>
<p>For example:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">[
    {
        "tables": ["table1", "table2"],
        "query": "SELECT ... FROM ..."
    }
]</pre>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>When using advanced rules, a query can bypass the configuration field <code class="literal">tables</code>.
This will happen if the query specifies a table that doesn&#8217;t appear in the configuration.
This can also happen if the configuration specifies <code class="literal">*</code> to fetch all tables while the advanced sync rule requests for only a subset of tables.</p>
</div>
</div>
<h4><a id="connectors-mysql-client-troubleshooting"></a>Troubleshooting<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>See <a class="xref" href="connectors-troubleshooting.html" title="Troubleshooting connectors">Troubleshooting</a>.</p>
<h4><a id="connectors-mysql-client-security"></a>Security<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>See <a class="xref" href="connectors-security.html" title="Connectors security">Security</a>.</p>
<h4><a id="connectors-mysql-client-content-extraction"></a>Content extraction<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.12/enterprise-search-docs/connectors-mysql.asciidoc">edit</a></h4>
<p>See <a class="xref" href="connectors-content-extraction.html" title="Content extraction">Content extraction</a>.</p>
</div>
</details>
</div>
<div class="navfooter">
<span class="prev">
<a href="connectors-mongodb.html">« Elastic MongoDB connector reference</a>
</span>
<span class="next">
<a href="connectors-network-drive.html">Elastic network drive connector reference »</a>
</span>
</div>
</div>
</body>
</html>
