<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>8.12.0 release notes | Enterprise Search documentation [8.17] | Elastic</title>
<meta class="elastic" name="content" content="8.12.0 release notes | Enterprise Search documentation [8.17]">

<link rel="home" href="index.html" title="Enterprise Search documentation [8.17]"/>
<link rel="up" href="changelog.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.12.1.html" title="8.12.1 release notes"/>
<link rel="next" href="release-notes-8.11.4.html" title="8.11.4 release notes"/>
<meta class="elastic" name="product_version" content="8.17"/>
<meta class="elastic" name="product_name" content="Enterprise Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/8.17"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="8.17"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.12.1.html">« 8.12.1 release notes</a>
</span>
<span class="next">
<a href="release-notes-8.11.4.html">8.11.4 release notes »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Enterprise Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="changelog.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>8.12.0 release notes</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.17/enterprise-search-docs/release-notes-8.12.0.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-notes-8.12.0"></a>8.12.0 release notes</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.17/enterprise-search-docs/release-notes-8.12.0.asciidoc">edit</a></div>
</div></div></div>
<p>Upgrading to Enterprise Search 8.12.0? See <a class="xref" href="upgrading-and-migrating.html" title="Upgrading &amp; migrating"><em>Upgrading and migrating</em></a>.</p>
<div class="position-relative"><h3><a id="release-notes-8-12-0-breaking-changes"></a>Breaking changes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.17/enterprise-search-docs/release-notes-8.12.0.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>In 8.12 access control indices (used for document level security) are being migrated to a new naming pattern.
The new naming pattern will now include the <code class="literal">search-</code> prefix for the original index name.
Before 8.12, an index named <code class="literal">search-foo</code> would generate an ACL index name of <code class="literal">.search-acl-filter-foo</code>.
From 8.12 onwards, an index named <code class="literal">search-foo</code> will generate an ACL index name of <code class="literal">.search-acl-filter-search-foo</code>.</p>
<p>Any client code that is querying from the access control indices will need to be updated to reference the new index name(s).</p>
<p>If you are using a self-managed connector client without an Enterprise Search node, this migration will not run automatically.
As a result document level security (DLS) will not work after upgrading.  There are two workaround options:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Start up an Enterprise Search node for the purposes of carrying out this migration.
</li>
<li class="listitem">
<p>If you don&#8217;t want to spin up an Enterprise Search node, use the following manual steps:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Manually delete all access control indices.
Using the <a href="/guide/en/kibana/8.17/console-kibana.html" class="ulink" target="_top">Dev Tools Console</a> in Kibana, run the following command.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">DELETE .search-acl-filter-*</pre>
</div>
<div class="console_widget" data-snippet="snippets/14.console"></div>
</li>
<li class="listitem">
Run access control syncs for each connector affected.
</li>
<li class="listitem">
Re-issue API keys for these connectors and add them to the <code class="literal">config.yml</code>.
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="release-notes-8-12-0-new-features"></a>New features</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.17/enterprise-search-docs/release-notes-8.12.0.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>The following connectors are now available as <span class="strong strong"><strong>native</strong></span> connectors (managed service) on Elastic Cloud:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Amazon S3
</li>
<li class="listitem">
Google Cloud Storage
</li>
<li class="listitem">
Oracle
</li>
<li class="listitem">
Salesforce
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>The following connectors are now <span class="strong strong"><strong>generally available</strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Amazon S3
</li>
<li class="listitem">
Azure Blob Storage
</li>
<li class="listitem">
Google Cloud Storage
</li>
<li class="listitem">
Microsoft SQL
</li>
<li class="listitem">
MongoDB
</li>
<li class="listitem">
MySQL
</li>
<li class="listitem">
<p>PostgreSQL</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Check out our new <a href="https://github.com/elastic/elasticsearch-labs/tree/main/example-apps/internal-knowledge-search" class="ulink" target="_blank" rel="noopener">internal knowledge search example app</a> in the <span class="strong strong"><strong>elasticsearch-labs</strong></span> repo.
This app ingests data using our MongoDB and MySQL connectors.</p>
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Document Level Security (DLS) is now available for the following connectors:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Dropbox
</li>
<li class="listitem">
Github
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>We added <span class="strong strong"><strong>advanced sync rule</strong></span> support for the following connectors:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Amazon S3
</li>
<li class="listitem">
Salesforce
</li>
</ul>
</div>
</li>
<li class="listitem">
The self-managed Network Drive connector client now supports Linux network drives, in addition to Windows network drives.
</li>
<li class="listitem">
Use our new <a href="/guide/en/elasticsearch/reference/8.17/connector-apis.html" class="ulink" target="_blank" rel="noopener">Connector APIs</a> (technical preview) to manage your connectors and sync jobs programmatically, without needing to rely solely on the Kibana UI.
</li>
<li class="listitem">
<p>We have made it easier to deploy self-managed Elastic connector clients with <a href="https://www.docker.elastic.co/r/enterprise-search/elastic-connectors" class="ulink" target="_top">official Docker images</a>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
We&#8217;ve added scripts and example configurations to quickly spin up Elasticsearch, Kibana, and the connectors services, with Docker Compose.
Refer to the <a href="https://github.com/elastic/connectors/tree/main/scripts/stack#readme" class="ulink" target="_top">README</a> for more information.
</li>
</ul>
</div>
</li>
<li class="listitem">
<a href="https://www.docker.elastic.co/r/enterprise-search/data-extraction-service" class="ulink" target="_top">Docker images</a> are also now available for the local data extraction service.
</li>
<li class="listitem">
<p>We added a new <a href="https://github.com/elastic/connectors/blob/main/docs/CLI.md" class="ulink" target="_top">Connectors CLI</a> (technical preview), designed to streamline and automate the management of Elastic Connectors.
The CLI can connect to any Elasticsearch instance, so you can use it for scripting and automation.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Known limitations:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Does not support API keys for authentication
</li>
<li class="listitem">
Does not support sync job scheduling configuration
</li>
</ul>
</div>
</div>
</div>
</li>
<li class="listitem">
<p>Self-managed connector clients can now ingest to any existing Elasticsearch index, removing the need to work with <code class="literal">search-</code> prefixed indices created by Enterprise Search.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>NOTE</strong></span>: Indices created in the Kibana UI still require the <code class="literal">search-</code> prefix.
</li>
<li class="listitem">
You can now configure your connector client using the <a href="https://github.com/elastic/connectors/blob/main/docs/CLI.md" class="ulink" target="_top">Connectors CLI</a> and use the <code class="literal">--from_index</code> flag to ingest into an <em>existing</em> Elasticsearch index.
Note that the target index cannot already be used by another connector.
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="release-notes-8-12-0-bug-fixes"></a>Bug fixes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.17/enterprise-search-docs/release-notes-8.12.0.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed a bug where Elasticsearch health issues might be ignored by the connectors service. This will prevent the unexpected deletion of the connector and backing index.
</li>
<li class="listitem">
The connector service now avoids deleting indices for orphaned jobs, because in some edge cases this could lead to data loss.
</li>
<li class="listitem">
Fixed bugs where some native connectors did not have the same features available as their connector client versions.
</li>
<li class="listitem">
Fixed a bug where some sync jobs might fail with an empty error message.
</li>
<li class="listitem">
Fixed a bug where the Sharepoint Online connector might sometimes fail syncs when DLS was enabled due to a batching error.
</li>
<li class="listitem">
<p>Addressed a bug where full syncs would not fully-resync data as expected, which caused friction when upgrading, making customized code changes, or modifying ingest pipelines.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The fix may result in increased full sync times, as more documents may now be downloaded and indexed.
If the performance impacts outweigh the value of fixing the bug, you can revert this change on your fork.
See the <a href="https://github.com/elastic/connectors/pull/1907" class="ulink" target="_top">pull request</a> that introduced this change.</p>
</div>
</div>
</li>
<li class="listitem">
The Sharepoint Online connector now ensures that all Site Collection Administrators are present in <code class="literal">Site</code>, <code class="literal">Site Page</code>, <code class="literal">Site List</code>, <code class="literal">Site List Item</code>, and <code class="literal">Drive Item</code> access control lists for document level security.
</li>
<li class="listitem">
Fixed a bug where the Sharepoint Online connector did not add access control list entries for Azure Security Groups.
</li>
<li class="listitem">
Updated the <code class="literal">rubyzip</code> dependency, which was necessary for some security scans that flagged encrypted zipfile test data from the old dependency.
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="release-notes-8-12-0-enhancements"></a>Enhancements</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.17/enterprise-search-docs/release-notes-8.12.0.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The Salesforce connector no longer requires Global Admin permissions.
</li>
<li class="listitem">
<p>We&#8217;ve changed the the Salesforce connector&#8217;s Elasticsearch mapping to ensure a 1:1 representation of Salesforce objects in Elasticsearch.
Previously, the connector used a custom mapping.
The new document structure looks like this:</p>
<div class="pre_wrapper lang-txt">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-txt">{
  "_id:: &lt;Id&gt;,
  "_timestamp": &lt;LastModifiedDate&gt;,
  "type": &lt;type&gt;,
  "owner": &lt;ownerName&gt;,
  "owner_url": &lt;OwnerURL&gt;,
  "title": &lt;objectName&gt;,
  "description": &lt;description&gt;
  "CreatedDate": &lt;CreatedDate&gt;,
  "Name": &lt;objectName&gt;,
  "Description": &lt;description&gt;,
  ...
}</pre>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You can now ingest all custom objects and their associated fields
</li>
<li class="listitem">
You can also use advanced sync rules to ingest specific objects and fields
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="release-notes-8-12-0-known-issues"></a>Known issues</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.17/enterprise-search-docs/release-notes-8.12.0.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The MongoDB connector will fail to sync content to Mongo <span class="strong strong"><strong>Atlas</strong></span> URLs (<code class="literal">mongo+srv</code>) unless SSL/TLS is enabled.
</li>
<li class="listitem">
<p>A bug introduced in <span class="strong strong"><strong>8.12.0</strong></span> causes the Connectors docker image to error out if run using MongoDB as its source.
The command line will output the error <code class="literal">cannot import name 'coroutine' from 'asyncio'</code>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
This issue is fixed in versions <span class="strong strong"><strong>8.12.2</strong></span> and <span class="strong strong"><strong>8.13.0</strong></span>.
</li>
<li class="listitem">
This bug doesn&#8217;t affect native connectors.
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-8.12.1.html">« 8.12.1 release notes</a>
</span>
<span class="next">
<a href="release-notes-8.11.4.html">8.11.4 release notes »</a>
</span>
</div>
</body>
</html>
