<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Configuration | Elastic Enterprise Search Documentation [8.3] | Elastic</title>
<meta class="elastic" name="content" content="Configuration | Elastic Enterprise Search Documentation [8.3]">

<link rel="home" href="index.html" title="Elastic Enterprise Search Documentation [8.3]"/>
<link rel="up" href="index.html" title="Elastic Enterprise Search Documentation [8.3]"/>
<link rel="prev" href="logging-in.html" title="Logging in to Enterprise Search"/>
<link rel="next" href="encryption-keys.html" title="Configure encryption keys"/>
<meta class="elastic" name="product_version" content="8.3"/>
<meta class="elastic" name="product_name" content="Enterprise Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/8.3"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="8.3"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Elastic Enterprise Search Documentation<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
</div>
<div class="navheader">
<span class="prev">
<a href="logging-in.html">« Logging in to Enterprise Search</a>
</span>
<span class="next">
<a href="encryption-keys.html">Configure encryption keys »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="configuration"></a>Configuration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h1>
</div></div></div>
<p>Enterprise Search requires little configuration to get started.
However, for flexibility, the solution provides many configurable settings.</p>
<p>This document explains how to modify Enterprise Search configuration settings.
It also provides a reference for each configuration setting and the configuration settings format.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="configuration.html#configuration-configure" title="Configure Enterprise Search">Configure Enterprise Search</a>
</li>
<li class="listitem">
<a class="xref" href="configuration.html#configuration-settings-format" title="Configuration settings format">Configuration settings format</a>
</li>
<li class="listitem">
<a class="xref" href="configuration.html#configuration-file" title="Configuration settings reference">Configuration settings reference</a>
</li>
<li class="listitem">
<a class="xref" href="configuration.html#configuration-environment-variables" title="Environment variables reference">Environment variables reference</a>
</li>
<li class="listitem">
<a class="xref" href="configuration.html#configuration-tasks" title="Additional configuration tasks">Additional configuration tasks</a>
</li>
</ul>
</div>
<h3><a id="configuration-configure"></a>Configure Enterprise Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h3>
<p>Configure Enterprise Search by setting the values of various <a class="xref" href="configuration.html#configuration-file" title="Configuration settings reference">configuration settings</a>.
All deployments use the same <a class="xref" href="configuration.html#configuration-settings-format" title="Configuration settings format">configuration settings format</a>, but access to the settings varies by deployment type.</p>
<p>Refer to the section for your deployment type:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="configuration.html#configuration-configure-ess" title="Elastic Cloud">Elastic Cloud</a>
</li>
<li class="listitem">
<a class="xref" href="configuration.html#configuration-configure-ece" title="Elastic Cloud Enterprise (ECE)">Elastic Cloud Enterprise (ECE)</a>
</li>
<li class="listitem">
<a class="xref" href="configuration.html#configuration-configure-eck" title="Elastic Cloud on Kubernetes (ECK)">Elastic Cloud on Kubernetes (ECK)</a>
</li>
<li class="listitem">
<a class="xref" href="configuration.html#configuration-configure-docker" title="Docker">Docker</a>
</li>
<li class="listitem">
<a class="xref" href="configuration.html#configuration-configure-packages" title="Tar, deb, and rpm packages">Tar, deb, and rpm packages</a>
</li>
</ul>
</div>
<p>Self-managed deployments can also set default values for some <a class="xref" href="configuration.html#configuration-environment-variables" title="Environment variables reference">environment variables</a> read by Enterprise Search.</p>
<h4><a id="configuration-configure-ess"></a>Elastic Cloud<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<p>Configure Enterprise Search on Elastic Cloud using custom user settings.</p>
<p>See <a href="/guide/en/cloud/current/ec-manage-enterprise-search-settings.html" class="ulink" target="_blank" rel="noopener">Add Enterprise Search user settings</a> in the Elastic Cloud documentation.</p>
<h4><a id="configuration-configure-ece"></a>Elastic Cloud Enterprise (ECE)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<p>Configure Enterprise Search on Elastic Cloud Enterprise using custom user settings.</p>
<p>See <a href="/guide/en/cloud-enterprise/current/ece-manage-enterprise-search-settings.html" class="ulink" target="_blank" rel="noopener">Add Enterprise Search user settings</a> in the Elastic Cloud Enterprise documentation.</p>
<h4><a id="configuration-configure-eck"></a>Elastic Cloud on Kubernetes (ECK)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<p>Configure Enterprise Search on Elastic Cloud on Kubernetes (ECK) by editing the YAML specification.</p>
<p>See <a href="/guide/en/cloud-on-k8s/current/k8s-enterprise-search-configuration.html" class="ulink" target="_blank" rel="noopener">Configuration</a> in the Elastic Cloud on Kubernetes documentation.</p>
<h4><a id="configuration-configure-docker"></a>Docker<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<p>When running with <code class="literal">docker</code> or <code class="literal">docker-compose</code>, configure Enterprise Search using environment variables.</p>
<p>Refer to the following examples:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="docker.html#docker-cli-example" title="Run Enterprise Search using docker run">Run Enterprise Search using <code class="literal">docker run</code></a>
</li>
</ul>
</div>
<h4><a id="configuration-configure-packages"></a>Tar, deb, and rpm packages<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<p>When installed using a tar, deb, or rpm package, configure Enterprise Search using a configuration file.</p>
<p>The location of the configuration file varies by package type:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">.tar</code> archives
</span>
</dt>
<dd>
<code class="literal">config/enterprise_search.yml</code>
</dd>
<dt>
<span class="term">
<code class="literal">.deb</code> and <code class="literal">.rpm</code> packages
</span>
</dt>
<dd>
<code class="literal">/usr/share/enterprise_search/config/enterprise_search.yml</code>
</dd>
</dl>
</div>
<p>Or, set the location of the configuration file using the following environment variable: <code class="literal">ENT_SEARCH_CONFIG_PATH</code>.</p>
<h3><a id="configuration-settings-format"></a>Configuration settings format<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h3>
<p>The Enterprise Search configuration follows the <a href="https://yaml.org" class="ulink" target="_blank" rel="noopener">YAML</a> format.</p>
<p>You can nest multi-node configuration settings:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">elasticsearch:
  host: http://127.0.0.1:9200
  username: elastic
  password: changeme</pre>
</div>
<p>Or you can flatten configuration settings:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">elasticsearch.host: http://127.0.0.1:9200
elasticsearch.username: elastic
elasticsearch.password: changeme</pre>
</div>
<p>You can format non-scalar values as sequences:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">secret_management.encryption_keys:
  - O9noPkMWqBTmae3hnvscNZnxXjDEl
  - 3D0LNI0iibBbjXhJGpx0lncGpwy0z</pre>
</div>
<p>Or you can format non-scalar values as arrays:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">secret_management.encryption_keys: ['O9noPkMWqBTmae3hnvscNZnxXjDEl', '3D0LNI0iibBbjXhJGpx0lncGpwy0z']</pre>
</div>
<p>You can interpolate values from environment variables using <code class="literal">${}</code>:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">secret_management.encryption_keys: [${KEY_1}, ${KEY_2}]</pre>
</div>
<h3><a id="configuration-file"></a>Configuration settings reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h3>
<p>The following settings are available to <a class="xref" href="configuration.html#configuration-configure" title="Configure Enterprise Search">configure Enterprise Search</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Enterprise Search comes with reasonable defaults.
Before adjusting the configuration, make sure you understand what you are trying to accomplish and the consequences.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>For passwords, the use of environment variables is encouraged to keep values from being written to disk.
For example: elasticsearch.password: ${ELASTICSEARCH_PASSWORD:changeme}</p>
</div>
</div>
<h4><a id="configuration-settings-secrets"></a>Secrets<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-secret-management-encryption-keys"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">secret_management.encryption_keys</code>
</span>
</dt>
<dd>
<p><a href="/guide/en/enterprise-search/8.3/encryption-keys.html" class="ulink" target="_top">Encryption keys</a> to protect your application secrets. This field is required.</p>
<p><code class="literal">secret_management.encryption_keys: []</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-secret-management-enforce-valid-encryption-keys"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">secret_management.enforce_valid_encryption_keys</code>
</span>
</dt>
<dd>
<p>Encryption keys are checked for validity when Enterprise Search starts, and will include a warning message in the logs in case they are not correct.
This setting controls whether Enterprise Search will start when incorrect encryption keys are found on startup.
When <code class="literal">true</code>, Enterprise Search will not start if encryption keys are not correctly configured.
Defaults to <code class="literal">false</code>.</p>
<p><code class="literal">secret_management.enforce_valid_encryption_keys: false</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-elasticsearch"></a>Elasticsearch<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-allow-es-settings-modification"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">allow_es_settings_modification</code>
</span>
</dt>
<dd>
<p>Enterprise Search needs one-time permission to alter Elasticsearch settings.
Ensure the Elasticsearch settings are correct, then set the following to true.
Or, adjust Elasticsearch&#8217;s config/elasticsearch.yml instead.</p>
<p><code class="literal">allow_es_settings_modification: false</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-host"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.host</code>
</span>
</dt>
<dd>
<p>Elasticsearch full cluster URL.</p>
<p><code class="literal">elasticsearch.host: http://127.0.0.1:9200</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-username"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.username</code>
</span>
</dt>
<dd>
<p>The username that the Enterprise Search server should use to make changes within Elasticsearch.
For example, the Enterprise Search server uses this username to authenticate to Elasticsearch to create indices when needed.</p>
<p>The user must have adequate permission within Elasticsearch.</p>
<p>Alternatively, use a token for the Enterprise Search service account.
The Enterprise Search service account token can be configured as part of <code class="literal">elasticsearch.headers</code>.</p>
<p><code class="literal">elasticsearch.username: elastic</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-password"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.password</code>
</span>
</dt>
<dd>
<p>The password for the username provided in <a class="xref" href="configuration.html#configuration-setting-elasticsearch-username"><code class="literal">elasticsearch.username</code></a>.</p>
<p><code class="literal">elasticsearch.password: changeme</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-headers"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.headers</code>
</span>
</dt>
<dd>
<p>Elasticsearch custom HTTP headers to add to each request.</p>
<p><code class="literal">elasticsearch.headers: 'X-My-Header: Contents of the header'</code></p>
</dd>
</dl>
</div>
<p>Can also include the credentials for the Enterprise Search service account.</p>
<p><code class="literal">elasticsearch.headers: 'Authorization: Bearer [SERVICE_ACCOUNT_TOKEN]'</code></p>
<p>These credentials are used by the Enterprise Search server to authenticate to Elasticsearch when managing internal Enterprise Search indices.
A guide on how to generate a service account token for Enteprise Search can be found in the Elasticsearch documentation for <a href="/guide/en/elasticsearch/reference/8.3/service-accounts.html#service-accounts-tokens" class="ulink" target="_top">Service Accounts</a>.</p>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-ssl-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.ssl.enabled</code>
</span>
</dt>
<dd>
<p>SSL communication with Elasticsearch enabled or not.</p>
<p><code class="literal">elasticsearch.ssl.enabled: false</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-ssl-certificate"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.ssl.certificate</code>
</span>
</dt>
<dd>
<p>Path to client certificate file to use for client-side validation from Elasticsearch.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-ssl-certificate-authority"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.ssl.certificate_authority</code>
</span>
</dt>
<dd>
<p>Absolute pathname to the keystore that contains Certificate Authorities for Elasticsearch SSL certificate.</p>
</dd>
</dl>
</div>
<p><code class="literal">elasticsearch.ssl.certificate_authority: /path/elasticsearch/config/certs/http_ca.crt</code></p>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-ssl-key"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.ssl.key</code>
</span>
</dt>
<dd>
<p>Path to the key file for the client certificate.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-ssl-key-passphrase"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.ssl.key_passphrase</code>
</span>
</dt>
<dd>
<p>Passphrase for the above key file.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-ssl-verify"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.ssl.verify</code>
</span>
</dt>
<dd>
<p>true to verify SSL certificate from Elasticsearch, false otherwise.</p>
<p><code class="literal">elasticsearch.ssl.verify: true</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-startup-retry-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.startup_retry.enabled</code>
</span>
</dt>
<dd>
<p>Elasticsearch startup retry.</p>
<p><code class="literal">elasticsearch.startup_retry.enabled: true</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-startup-retry-interval"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.startup_retry.interval</code>
</span>
</dt>
<dd>
<p>Elasticsearch startup retry.</p>
<p><code class="literal">elasticsearch.startup_retry.interval: 5 # seconds</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-elasticsearch-startup-retry-fail-after"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">elasticsearch.startup_retry.fail_after</code>
</span>
</dt>
<dd>
<p>Elasticsearch startup retry.</p>
<p><code class="literal">elasticsearch.startup_retry.fail_after: 600 # seconds</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-kibana"></a>Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-kibana-host"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">kibana.host</code>
</span>
</dt>
<dd>
<p>Define the URL at which Enterprise Search can reach Kibana.
Defaults to <code class="literal">http://localhost:5601</code> for testing purposes.</p>
<p><code class="literal">kibana.host: http://localhost:5601</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-kibana-external-url"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">kibana.external_url</code>
</span>
</dt>
<dd>
<p>Define the exposed URL at which users can reach Kibana.
Defaults to the value of <a class="xref" href="configuration.html#configuration-setting-kibana-host"><code class="literal">kibana.host</code></a>.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-kibana-headers"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">kibana.headers</code>
</span>
</dt>
<dd>
<p>Custom HTTP headers to add to requests made to Kibana from Enterprise Search.</p>
<p><code class="literal">kibana.headers: 'X-My-Header: Contents of the header'</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-kibana-startup-retry-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">kibana.startup_retry.enabled</code>
</span>
</dt>
<dd>
<p>Kibana startup retry.</p>
<p><code class="literal">kibana.startup_retry.enabled: false</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-kibana-startup-retry-interval"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">kibana.startup_retry.interval</code>
</span>
</dt>
<dd>
<p>Kibana startup retry.</p>
<p><code class="literal">kibana.startup_retry.interval: 5 # seconds</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-kibana-startup-retry-fail-after"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">kibana.startup_retry.fail_after</code>
</span>
</dt>
<dd>
<p>Kibana startup retry.</p>
<p><code class="literal">kibana.startup_retry.fail_after: 600 # seconds</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-hosting-and-network"></a>Hosting and network<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-ent-search-external-url"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ent_search.external_url</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Define the exposed URL at which users will reach Enterprise Search.
Defaults to localhost:3002 for testing purposes.
Most cases will use one of:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
An IP: <code class="literal">http://255.255.255.255</code>
</li>
<li class="listitem">
A FQDN: <code class="literal">http://example.com</code>
</li>
<li class="listitem">
<p>Shortname defined via /etc/hosts: <code class="literal">http://ent-search.search</code></p>
<p><code class="literal">ent_search.external_url: http://localhost:3002</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-ent-search-listen-host"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ent_search.listen_host</code>
</span>
</dt>
<dd>
<p>Web application listen_host.
Your application will run on this host.
Must be a valid IPv4 or IPv6 address.</p>
<p><code class="literal">ent_search.listen_host: 127.0.0.1</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-ent-search-listen-port"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ent_search.listen_port</code>
</span>
</dt>
<dd>
<p>Web application listen_port.
Your application will run on this host and port.
Must be a valid port number (1-65535).</p>
<p><code class="literal">ent_search.listen_port: 3002</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-limits"></a>Limits<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<p>Configurable limits for Enterprise Search.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Overriding the default limits can impact performance negatively.
Also, changing a limit here does not actually guarantee that Enterprise Search will work as expected as related Elasticsearch limits can be exceeded.</p>
</div>
</div>
<h5><a id="configuration-settings-limits-workplace-search"></a>Workplace Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-document-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.document_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure the maximum allowed document size for a content source.</p>
<p><code class="literal">workplace_search.content_source.document_size.limit: 100kb</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-total-fields-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.total_fields.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure how many fields a content source can have.</p>
<p>The Elasticsearch/Lucene setting <code class="literal">indices.query.bool.max_clause_count</code> might also need to be adjusted if "Max clause count exceeded" errors start occurring.
See <a href="/guide/en/elasticsearch/reference/8.3/search-settings.html" class="ulink" target="_blank" rel="noopener">Search settings</a> in the Elasticsearch documentation.</p>
<p><code class="literal">workplace_search.content_source.total_fields.limit: 64</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-sync-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.sync.enabled</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure whether or not workplace search can run synchronization jobs.
If this is set to <code class="literal">false</code>, no syncs will run.
Default is <code class="literal">true</code>.</p>
<p><code class="literal">workplace_search.content_source.sync.enabled: true</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-sync-max-errors"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.sync.max_errors</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure how many errors to tolerate in a sync job.
If the job encounters more total errors than this value, the job will fail.
This only applies to errors tied to individual documents.</p>
<p><code class="literal">workplace_search.content_source.sync.max_errors: 1000</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-sync-max-consecutive-errors"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.sync.max_consecutive_errors</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure how many errors in a row to tolerate in a sync job.
If the job encounters more errors in a row than this value, the job will fail.
This only applies to errors tied to individual documents.</p>
<p><code class="literal">workplace_search.content_source.sync.max_consecutive_errors: 10</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-sync-max-error-ratio"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.sync.max_error_ratio</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure the ratio of &lt;errored documents&gt; / &lt;total documents&gt; to tolerate in a sync job or in a rolling window (see <code class="literal">workplace_search.content_source.sync.error_ratio_window_size</code>).
If the job encounters an error ratio greater than this value in a given window, or overall
at the end of the job, the job will fail.
This only applies to errors tied to individual documents.</p>
<p><code class="literal">workplace_search.content_source.sync.max_error_ratio: 0.15</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-sync-error-ratio-window-size"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.sync.error_ratio_window_size</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure how large of a window to consider when calculating an error ratio (see <code class="literal">workplace_search.content_source.sync.max_error_ratio</code>).</p>
<p><code class="literal">workplace_search.content_source.sync.error_ratio_window_size: 100</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-sync-thumbnails-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.sync.thumbnails.enabled</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure whether or not a content source should generate thumbnails for the documents it syncs.
Not all file types/sizes/content or Content Sources support thumbnail generation, even if this is enabled.</p>
<p><code class="literal">workplace_search.content_source.sync.thumbnails.enabled: true</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-indexing-rules-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.indexing.rules.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure how many indexing rules a content source can have.</p>
<p><code class="literal">workplace_search.content_source.indexing.rules.limit: 100</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-sync-refresh-interval-full"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.sync.refresh_interval.full</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure the refresh interval for full sync job (in ISO 8601 Duration format).</p>
<p><code class="literal">workplace_search.content_source.sync.refresh_interval.full: P3D</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-sync-refresh-interval-incremental"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.sync.refresh_interval.incremental</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure the refresh interval for incremental sync job (in ISO 8601 Duration format).</p>
<p><code class="literal">workplace_search.content_source.sync.refresh_interval.incremental: PT2H</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-sync-refresh-interval-delete"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.sync.refresh_interval.delete</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure the refresh interval for delete sync job (in ISO 8601 Duration format).</p>
<p><code class="literal">workplace_search.content_source.sync.refresh_interval.delete: PT6H</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-sync-refresh-interval-permissions"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.sync.refresh_interval.permissions</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure the refresh interval for permissions sync job (in ISO 8601 Duration format).</p>
<p><code class="literal">workplace_search.content_source.sync.refresh_interval.permissions: PT5M</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-salesforce-enable-cases"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.salesforce.enable_cases</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure whether or not Salesforce and Salesforce Sandbox connectors should sync Cases.</p>
<p><code class="literal">workplace_search.content_source.salesforce.enable_cases: true</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-synonyms-sets-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.synonyms.sets.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure total number of synonym sets a Workplace Search instance can have.</p>
<p><code class="literal">workplace_search.synonyms.sets.limit: 256</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-synonyms-terms-per-set-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.synonyms.terms_per_set.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure total number of terms an individual synonym set can have.</p>
<p><code class="literal">workplace_search.synonyms.terms_per_set.limit: 32</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-remote-sources-query-timeout"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.remote_sources.query_timeout</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure the query timeout (in milliseconds) for remote sources via the Search API.</p>
<p><code class="literal">workplace_search.remote_sources.query_timeout: 10000</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-localhost-base-urls-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.localhost_base_urls.enabled</code>
</span>
</dt>
<dd>
<p>Configure whether to allow localhost URLs as base URLs in content sources (by default, they are not allowed).</p>
<p><code class="literal">workplace_search.content_source.localhost_base_urls.enabled: false</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-workplace-search-content-source-external-unsafe-backend-allowed"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">workplace_search.content_source.external.unsafe_backend_allowed</code>
</span>
</dt>
<dd>
<p>Configure whether to allow unsafe HTTP backends for connectors (typically for localhost development).
Defaults to <code class="literal">false</code> (HTTPS is enforced).</p>
<p><code class="literal">workplace_search.content_source.external.unsafe_backend_allowed: true</code></p>
</dd>
</dl>
</div>
<h5><a id="configuration-settings-limits-app-search"></a>App Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<div class="variablelist">
<a id="configuration-setting-app-search-engine-document-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">app_search.engine.document_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure the maximum allowed document size.</p>
<p><code class="literal">app_search.engine.document_size.limit: 100kb</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-app-search-engine-total-fields-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">app_search.engine.total_fields.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure how many fields an engine can have.
The Elasticsearch/Lucene setting <code class="literal">indices.query.bool.max_clause_count</code> might also need to be adjusted if "Max clause count exceeded" errors start occurring.
See <a href="/guide/en/elasticsearch/reference/8.3/search-settings.html" class="ulink" target="_blank" rel="noopener">Search settings</a> in the Elasticsearch documentation.</p>
<p><code class="literal">app_search.engine.total_fields.limit: 64</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-app-search-engine-source-engines-per-meta-engine-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">app_search.engine.source_engines_per_meta_engine.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure how many source engines a meta engine can have.</p>
<p><code class="literal">app_search.engine.source_engines_per_meta_engine.limit: 15</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-app-search-engine-total-facet-values-returned-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">app_search.engine.total_facet_values_returned.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure how many facet values can be returned by a search.</p>
<p><code class="literal">app_search.engine.total_facet_values_returned.limit: 250</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-app-search-engine-query-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">app_search.engine.query.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure how big full-text queries are allowed.
The Elasticsearch/Lucene setting <code class="literal">indices.query.bool.max_clause_count</code> might also need to be adjusted if "Max clause count exceeded" errors start occurring.
See <a href="/guide/en/elasticsearch/reference/8.3/search-settings.html" class="ulink" target="_blank" rel="noopener">Search settings</a> in the Elasticsearch documentation.</p>
<p><code class="literal">app_search.engine.query.limit: 128</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-app-search-engine-synonyms-sets-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">app_search.engine.synonyms.sets.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure total number of synonym sets an engine can have.</p>
<p><code class="literal">app_search.engine.synonyms.sets.limit: 256</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-app-search-engine-synonyms-terms-per-set-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">app_search.engine.synonyms.terms_per_set.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure total number of terms a synonym set can have.</p>
<p><code class="literal">app_search.engine.synonyms.terms_per_set.limit: 32</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-app-search-engine-analytics-total-tags-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">app_search.engine.analytics.total_tags.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure how many analytics tags can be associated with a single query or clickthrough.</p>
<p><code class="literal">app_search.engine.analytics.total_tags.limit: 16</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-workers"></a>Workers<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-worker-threads"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">worker.threads</code>
</span>
</dt>
<dd>
<p>Configure the number of worker threads.</p>
<p><code class="literal">worker.threads: 1</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-apis"></a>APIs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-hide-version-info"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">hide_version_info</code>
</span>
</dt>
<dd>
<p>Set to true hide product version information from API responses.</p>
<p><code class="literal">hide_version_info: false</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-mailer"></a>Mailer<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-email-account-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">email.account.enabled</code>
</span>
</dt>
<dd>
<p>Connect Enterprise Search to a mailer.
See <a class="xref" href="mailer-configuration.html" title="Configure a mail service">Configure a mail service</a>.</p>
<p><code class="literal">email.account.enabled: false</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-email-account-smtp-auth"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">email.account.smtp.auth</code>
</span>
</dt>
<dd>
<p>Connect Enterprise Search to a mailer.
See <a class="xref" href="mailer-configuration.html" title="Configure a mail service">Configure a mail service</a>.</p>
<p><code class="literal">email.account.smtp.auth: plain</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-email-account-smtp-starttls-enable"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">email.account.smtp.starttls.enable</code>
</span>
</dt>
<dd>
<p>Connect Enterprise Search to a mailer.
See <a class="xref" href="mailer-configuration.html" title="Configure a mail service">Configure a mail service</a>.</p>
<p><code class="literal">email.account.smtp.starttls.enable: false</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-email-account-smtp-host"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">email.account.smtp.host</code>
</span>
</dt>
<dd>
<p>Connect Enterprise Search to a mailer.
See <a class="xref" href="mailer-configuration.html" title="Configure a mail service">Configure a mail service</a>.</p>
<p><code class="literal">email.account.smtp.host: 127.0.0.1</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-email-account-smtp-port"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">email.account.smtp.port</code>
</span>
</dt>
<dd>
<p>Connect Enterprise Search to a mailer.
See <a class="xref" href="mailer-configuration.html" title="Configure a mail service">Configure a mail service</a>.</p>
<p><code class="literal">email.account.smtp.port: 25</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-email-account-smtp-user"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">email.account.smtp.user</code>
</span>
</dt>
<dd>
<p>Connect Enterprise Search to a mailer.
See <a class="xref" href="mailer-configuration.html" title="Configure a mail service">Configure a mail service</a>.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-email-account-smtp-password"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">email.account.smtp.password</code>
</span>
</dt>
<dd>
<p>Connect Enterprise Search to a mailer.
See <a class="xref" href="mailer-configuration.html" title="Configure a mail service">Configure a mail service</a>.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-email-account-email-defaults-from"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">email.account.email_defaults.from</code>
</span>
</dt>
<dd>
<p>Connect Enterprise Search to a mailer.
See <a class="xref" href="mailer-configuration.html" title="Configure a mail service">Configure a mail service</a>.</p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-logging"></a>Logging<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-log-directory"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">log_directory</code>
</span>
</dt>
<dd>
<p>Choose your log export path.</p>
<p><code class="literal">log_directory: log</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-log-level"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">log_level</code>
</span>
</dt>
<dd>
<p>Log level can be: debug, info, warn, error, fatal, or unknown.</p>
<p><code class="literal">log_level: info</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-log-format"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">log_format</code>
</span>
</dt>
<dd>
<p>Log format can be: default, json</p>
<p><code class="literal">log_format: default</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-filebeat-log-directory"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">filebeat_log_directory</code>
</span>
</dt>
<dd>
<p>Choose your Filebeat logs export path.</p>
<p><code class="literal">filebeat_log_directory: log</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-ilm-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ilm.enabled</code>
</span>
</dt>
<dd>
<p>This setting is deprecated and ILM can no longer be disabled.
The index lifecycle policies that Enterprise Search creates can be managed in Kibana.
See the <a href="/guide/en/elasticsearch/reference/8.3/index-lifecycle-management.html" class="ulink" target="_blank" rel="noopener">ILM documentation</a>.</p>
<p><code class="literal">ilm.enabled: true</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-enable-stdout-app-logging"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">enable_stdout_app_logging</code>
</span>
</dt>
<dd>
<p>Enable logging app logs to stdout (enabled by default).</p>
<p><code class="literal">enable_stdout_app_logging: true</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-log-rotation-keep-files"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">log_rotation.keep_files</code>
</span>
</dt>
<dd>
<p>The number of files to keep on disk when rotating logs. When set to 0, no rotation will take place.</p>
<p><code class="literal">log_rotation.keep_files: 7</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-log-rotation-rotate-every-bytes"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">log_rotation.rotate_every_bytes</code>
</span>
</dt>
<dd>
<p>The maximum file size in bytes before rotating the log file.
If log_rotation.keep_files is set to 0, no rotation will take place and there will be no size limit for the singular log file.</p>
<p><code class="literal">log_rotation.rotate_every_bytes: 1048576 # 1 MiB</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-tls-ssl"></a>TLS/SSL<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-ent-search-ssl-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ent_search.ssl.enabled</code>
</span>
</dt>
<dd>
<p>Configure TLS/SSL encryption.</p>
<p><code class="literal">ent_search.ssl.enabled: false</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-ent-search-ssl-keystore-path"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ent_search.ssl.keystore.path</code>
</span>
</dt>
<dd>
<p>Configure TLS/SSL encryption.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-ent-search-ssl-keystore-password"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ent_search.ssl.keystore.password</code>
</span>
</dt>
<dd>
<p>Configure TLS/SSL encryption.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-ent-search-ssl-keystore-key-password"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ent_search.ssl.keystore.key_password</code>
</span>
</dt>
<dd>
<p>Configure TLS/SSL encryption.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-ent-search-ssl-redirect-http-from-port"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">ent_search.ssl.redirect_http_from_port</code>
</span>
</dt>
<dd>
<p>Configure TLS/SSL encryption.</p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-session"></a>Session<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-secret-session-key"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">secret_session_key</code>
</span>
</dt>
<dd>
<p>Set a session key to persist user sessions through process restarts.</p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-apm-instrumentation"></a>APM Instrumentation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-apm-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apm.enabled</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Enable Elastic APM agent within Enterprise Search.</p>
<p><code class="literal">apm.enabled: true</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-apm-server-url"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apm.server_url</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Set the custom APM Server URL.</p>
<p><code class="literal">apm.server_url: 'http://localhost:8200'</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-apm-secret-token"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apm.secret_token</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Set the APM authentication token (use if APM Server requires a secret token).</p>
<p><code class="literal">apm.secret_token: 'your-token-here'</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-apm-service-name"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apm.service_name</code>
</span>
</dt>
<dd>
<p>Override the APM service name.
Allowed characters: a-z, A-Z, 0-9, -, _ and space.</p>
<p><code class="literal">apm.service_name: 'Enterprise Search'</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-apm-environment"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apm.environment</code>
</span>
</dt>
<dd>
<p>Override the APM service environment.</p>
<p><code class="literal">apm.environment: 'production'</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-monitoring"></a>Monitoring<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-monitoring-reporting-enabled"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">monitoring.reporting_enabled</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Enable automatic monitoring metrics reporting to Elasticsearch via metricbeat.</p>
<p><code class="literal">monitoring.reporting_enabled: false</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-monitoring-reporting-period"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">monitoring.reporting_period</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure metrics reporting frequency.
This setting should be aligned with <code class="literal">monitoring.ui.min_interval_seconds</code> setting in Kibana, or Stack Monitoring dashboards for Enterprise Search may have gaps in graphs on high metric resolutions.</p>
<p><code class="literal">monitoring.reporting_period: 10s</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-monitoring-metricsets"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">monitoring.metricsets</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Configure metricsets to be reported to Elasticsearch</p>
<p><code class="literal">monitoring.metricsets: ['health', 'stats']</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-monitoring-index-prefix"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">monitoring.index_prefix</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Override the index name prefix used to index Enterprise Search metrics.
The index will have ILM enabled and will be managed by Enterprise Search.</p>
<p><code class="literal">monitoring.index_prefix: metricbeat-ent-search</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-diagnostics-report"></a>Diagnostics report<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-diagnostic-report-directory"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">diagnostic_report_directory</code>
</span>
</dt>
<dd>
<p>Path where diagnostic reports will be generated.</p>
<p><code class="literal">diagnostic_report_directory: diagnostics</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-elastic-crawler"></a>Elastic crawler<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-crawler-http-user-agent"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.user_agent</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The User-Agent HTTP Header used for the Crawler.</p>
<p><code class="literal">crawler.http.user_agent: Elastic-Crawler (&lt;crawler_version_number&gt;)</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-http-user-agent-platform"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.user_agent_platform</code>
</span>
</dt>
<dd>
<p>The user agent platform used for the Crawler with identifying information.
See <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/User-Agent#syntax" class="ulink" target="_blank" rel="noopener">User-Agent - Syntax</a> in the MDN web docs.</p>
<p>This value will be added as a suffix to <code class="literal">crawler.http.user_agent</code> and used as the final User-Agent Header.</p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-workers-pool-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.workers.pool_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The number of parallel crawls allowed per instance of Enterprise Search.
By default, it is set to 2x the number of available logical CPU cores.
On Intel CPUs, the default value is 4x the number of physical CPU cores due to hyper-threading.
See <a href="https://en.wikipedia.org/wiki/Hyper-threading" class="ulink" target="_blank" rel="noopener">Hyper-threading</a> on Wikipedia.</p>
<p><code class="literal">crawler.workers.pool_size.limit: N</code></p>
</dd>
</dl>
</div>
<h5><a id="configuration-settings-elastic-crawler-per-crawl-resource-limits"></a>Per-crawl Resource Limits<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<p>These limits guard against infinite loops and other traps common to production web crawlers.
If your crawler is hitting these limits, try changing your crawl rules or the content you&#8217;re crawling. Adjust these limits as a last resort.</p>
<div class="variablelist">
<a id="configuration-setting-crawler-crawl-max-duration-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_duration.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum duration of a crawl, in seconds. Beyond this limit, the crawler will stop, abandoning all remaining URLs in the crawl queue.</p>
<p><code class="literal">crawler.crawl.max_duration.limit: 86400 # seconds</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-crawl-max-crawl-depth-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_crawl_depth.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of sequential pages the crawler will traverse starting from the given set of entry points. Beyond this limit, the crawler will stop discovering new links.</p>
<p><code class="literal">crawler.crawl.max_crawl_depth.limit: 10</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-crawl-max-url-length-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_url_length.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of characters within each URL to crawl.
The crawler will skip URLs that exceed this length.</p>
<p><code class="literal">crawler.crawl.max_url_length.limit: 2048</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-crawl-max-url-segments-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_url_segments.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of segments within the path of each URL to crawl.
The crawler will skip URLs whose paths exceed this length.
Example: The path <code class="literal">/a/b/c/d</code> has 4 segments.</p>
<p><code class="literal">crawler.crawl.max_url_segments.limit: 16</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-crawl-max-url-params-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_url_params.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of query parameters within each URL to crawl.
The crawler will skip URLs that exceed this length.
Example: The query string in <code class="literal">/a?b=c&amp;d=e</code> has 2 query parameters.</p>
<p><code class="literal">crawler.crawl.max_url_params.limit: 32</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-crawl-max-unique-url-count-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.max_unique_url_count.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of unique URLs the crawler will index during a single crawl.
Beyond this limit, the crawler will stop.</p>
<p><code class="literal">crawler.crawl.max_unique_url_count.limit: 100000</code></p>
</dd>
</dl>
</div>
<h5><a id="configuration-settings-elastic-crawler-advanced-per-crawl-limits"></a>Advanced Per-crawl Limits<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<div class="variablelist">
<a id="configuration-setting-crawler-crawl-threads-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.threads.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The number of parallel threads to use for each crawl.
The main effect from increasing this value will be an increased throughput of the crawler at the expense of higher CPU load on Enterprise Search and
Elasticsearch instances as well as higher load on the website being crawled.</p>
<p><code class="literal">crawler.crawl.threads.limit: 10</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-crawl-url-queue-url-count-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.crawl.url_queue.url_count.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size of the crawl frontier - the list of URLs the crawler needs to visit.
The list is stored in Elasticsearch, so the limit could be increased as long as the Elasticsearch cluster has enough resources (disk space) to hold the queue index.</p>
<p><code class="literal">crawler.crawl.url_queue.url_count.limit: 100000</code></p>
</dd>
</dl>
</div>
<h5><a id="configuration-settings-elastic-crawler-per-request-timeout-limits"></a>Per-Request Timeout Limits<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<div class="variablelist">
<a id="configuration-setting-crawler-http-connection-timeout"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.connection_timeout</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum period to wait until abortion of the request, when a connection is being initiated.</p>
<p><code class="literal">crawler.http.connection_timeout: 10 # seconds</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-http-read-timeout"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.read_timeout</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum period of inactivity between two data packets, before the request is aborted.</p>
<p><code class="literal">crawler.http.read_timeout: 10 # seconds</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-http-request-timeout"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.request_timeout</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum period of the entire request, before the request is aborted.</p>
<p><code class="literal">crawler.http.request_timeout: 60 # seconds</code></p>
</dd>
</dl>
</div>
<h5><a id="configuration-settings-elastic-crawler-per-request-resource-limits"></a>Per-Request Resource Limits<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<div class="variablelist">
<a id="configuration-setting-crawler-http-response-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.response_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size of an HTTP response (in bytes) supported by the crawler.</p>
<p><code class="literal">crawler.http.response_size.limit: 10485760</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-http-redirects-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.redirects.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of HTTP redirects before a request is failed.</p>
<p><code class="literal">crawler.http.redirects.limit: 10</code></p>
</dd>
</dl>
</div>
<h5><a id="configuration-settings-elastic-crawler-content-extraction-resource-limits"></a>Content Extraction Resource Limits<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<div class="variablelist">
<a id="configuration-setting-crawler-extraction-title-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.title_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size (in bytes) of some fields extracted from crawled pages.</p>
<p><code class="literal">crawler.extraction.title_size.limit: 1024</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-extraction-body-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.body_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size (in bytes) of some fields extracted from crawled pages.</p>
<p><code class="literal">crawler.extraction.body_size.limit: 5242880</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-extraction-keywords-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.keywords_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size (in bytes) of some fields extracted from crawled pages.</p>
<p><code class="literal">crawler.extraction.keywords_size.limit: 512</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-extraction-description-size-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.description_size.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum size (in bytes) of some fields extracted from crawled pages.</p>
<p><code class="literal">crawler.extraction.description_size.limit: 1024</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-extraction-extracted-links-count-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.extracted_links_count.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of links extracted from each page for further crawling.</p>
<p><code class="literal">crawler.extraction.extracted_links_count.limit: 1000</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-extraction-indexed-links-count-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.indexed_links_count.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of links extracted from each page and indexed in a document.</p>
<p><code class="literal">crawler.extraction.indexed_links_count.limit: 25</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-extraction-headings-count-limit"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.headings_count.limit</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The maximum number of HTML headers to be extracted from each page.</p>
<p><code class="literal">crawler.extraction.headings_count.limit: 25</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-extraction-default-deduplication-fields"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.extraction.default_deduplication_fields</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Default document fields used to compare documents during de-duplication.</p>
<p><code class="literal">crawler.extraction.default_deduplication_fields: ['title', 'body_content', 'meta_keywords', 'meta_description', 'links', 'headings']</code></p>
</dd>
</dl>
</div>
<h5><a id="configuration-settings-elastic-crawler-http-security-controls"></a>Crawler HTTP Security Controls<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<div class="variablelist">
<a id="configuration-setting-crawler-security-ssl-certificate-authorities"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.security.ssl.certificate_authorities</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>A list of custom SSL Certificate Authority certificates to be used for all connections made by the crawler to your websites. These certificates are added to the standard list of CA certificates trusted by the JVM.
Each item in this list could be a file name of a certificate in PEM format or a PEM-formatted certificate as a string.</p>
<p><code class="literal">crawler.security.ssl.certificate_authorities: []</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-security-ssl-verification-mode"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.security.ssl.verification_mode</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Control SSL verification mode used by the crawler:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">full</code> - validate both the SSL certificate and the hostname presented by the server (this is the default and the recommended value)
</li>
<li class="listitem">
<code class="literal">certificate</code> - only validate the SSL certificate presented by the server
</li>
<li class="listitem">
<p><code class="literal">none</code> - disable SSL validation completely (this is very dangerous and should never be used in production deployments).</p>
<p><code class="literal">crawler.security.ssl.verification_mode: full</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-security-auth-allow-http"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.security.auth.allow_http</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>Allow/Disallow <em>authenticated</em> crawling of non-HTTPS URLs:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">false</code> - Do not allow crawling non-HTTPS URLs (this is the default and the recommended value)
</li>
<li class="listitem">
<code class="literal">true</code> - Allow crawling non-HTTPS URLs
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Enabling this setting could expose your Authorization headers to a man-in-the-middle attack and
should never be used in production deployments.
See <a href="https://en.wikipedia.org/wiki/Man-in-the-middle_attack" class="ulink" target="_top">https://en.wikipedia.org/wiki/Man-in-the-middle_attack</a> for more details.</p>
</div>
</div>
<h5><a id="configuration-settings-elastic-crawler-dns-security"></a>Crawler DNS Security Controls<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>The settings in this section could make your deployment vulnerable to SSRF attacks (especially in cloud environments) from the owners of any domains you crawl.
Do not enable any of the settings here unless you fully control DNS domains you access with the crawler.
See <a href="https://owasp.org/www-community/attacks/Server_Side_Request_Forgery" class="ulink" target="_blank" rel="noopener">Server Side Request Forgery</a> on OWASP for more details on the SSRF attack and the risks associated with it.</p>
</div>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-security-dns-allow-loopback-access"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.security.dns.allow_loopback_access</code>
</span>
</dt>
<dd>
<p>Allow crawler to access the localhost (127.0.0.0/8 IP namespace).</p>
<p><code class="literal">crawler.security.dns.allow_loopback_access: false</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-security-dns-allow-private-networks-access"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.security.dns.allow_private_networks_access</code>
</span>
</dt>
<dd>
<p>Allow crawler to access the private IP space: link-local, network-local addresses, etc.
See <a href="https://en.wikipedia.org/wiki/Reserved_IP_addresses#IPv4" class="ulink" target="_blank" rel="noopener">Reserved IP addresses - IPv4</a> on Wikipedia for more details.</p>
<p><code class="literal">crawler.security.dns.allow_private_networks_access: false</code></p>
</dd>
</dl>
</div>
<h5><a id="configuration-settings-elastic-crawler-http-proxy"></a>Crawler HTTP proxy settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<p>If you need the crawler to send HTTP requests through an HTTP proxy, use the following settings to provide the proxy information to Enterprise Search.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Your proxy connections are subject to the DNS security controls described in <a class="xref" href="configuration.html#configuration-settings-elastic-crawler-dns-security" title="Crawler DNS Security Controls">Crawler DNS Security Controls</a>.
If your proxy server is running on a private address or a loopback address, you will need to explicitly allow the crawler to connect to it.</p>
</div>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-http-proxy-host"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.proxy.host</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The host of the <a class="xref" href="configuration.html#configuration-settings-elastic-crawler-http-proxy" title="Crawler HTTP proxy settings">proxy</a>.</p>
<p><code class="literal">crawler.http.proxy.host: example.com</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-http-proxy-port"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.proxy.port</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The port of the <a class="xref" href="configuration.html#configuration-settings-elastic-crawler-http-proxy" title="Crawler HTTP proxy settings">proxy</a>.</p>
<p><code class="literal">crawler.http.proxy.port: 8080</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-http-proxy-protocol"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.proxy.protocol</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The protocol to be used when connecting to the <a class="xref" href="configuration.html#configuration-settings-elastic-crawler-http-proxy" title="Crawler HTTP proxy settings">proxy</a>: <code class="literal">http</code> (default) or <code class="literal">https</code>.</p>
<p><code class="literal">crawler.http.proxy.protocol: http</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-http-proxy-username"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.proxy.username</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The username portion of the Basic HTTP credentials to be used when connecting to the <a class="xref" href="configuration.html#configuration-settings-elastic-crawler-http-proxy" title="Crawler HTTP proxy settings">proxy</a>.</p>
<p><code class="literal">crawler.http.proxy.username: kimchy</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-setting-crawler-http-proxy-password"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.proxy.password</code> <span class="image"><a class="image" href="https://www.elastic.co/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs"><img src="https://doc-icons.s3.us-east-2.amazonaws.com/logo_cloud.svg" alt="logo cloud" title="Supported on Elasticsearch Service"></a></span>
</span>
</dt>
<dd>
<p>The password portion of the Basic HTTP credentials to be used when connecting to the <a class="xref" href="configuration.html#configuration-settings-elastic-crawler-http-proxy" title="Crawler HTTP proxy settings">proxy</a>.</p>
<p><code class="literal">crawler.http.proxy.password: A3renEWhGVxgYFIqfPAV73ncUtPN1b</code></p>
</dd>
</dl>
</div>
<h5><a id="configuration-settings-elastic-crawler-advanced-tuning"></a>Advanced crawler tuning<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h5>
<div class="variablelist">
<a id="configuration-settings-elastic-crawler-advanced-tuning-http-compression"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.compression.enabled</code>
</span>
</dt>
<dd>
<p>Enable/disable HTTP content (gzip/deflate) compression in Crawler requests.</p>
<p><code class="literal">crawler.http.compression.enabled: true</code></p>
</dd>
</dl>
</div>
<div class="variablelist">
<a id="configuration-settings-elastic-crawler-advanced-tuning-http-default-encoding"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">crawler.http.default_encoding</code>
</span>
</dt>
<dd>
<p>Default encoding used for responses that do not specify a charset.</p>
<p><code class="literal">crawler.http.default_encoding: UTF-8</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-read-only-mode"></a>Read-only mode<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-skip-read-only-check"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">skip_read_only_check</code>
</span>
</dt>
<dd>
<p>If true, pending migrations can be executed without enabling read-only mode.
Proceeding with migrations while indices are allowing writes can have unintended consequences.
Use at your own risk, should not be set to true when upgrading a production instance with ongoing traffic.</p>
<p><code class="literal">skip_read_only_check: false</code></p>
</dd>
</dl>
</div>
<h4><a id="configuration-settings-feature-flags"></a>Feature flags<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h4>
<div class="variablelist">
<a id="configuration-setting-feature-flag-elasticsearch-search-api"></a>
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">feature_flag.elasticsearch_search_api</code>
</span>
</dt>
<dd>
<p>If true, allows access to <a href="/guide/en/app-search/8.3/elasticsearch-search-api-reference.html" class="ulink" target="_blank" rel="noopener">Elasticsearch search API</a>. By default, the API is disabled. As of 8.2, this API is a technical preview feature.</p>
</dd>
</dl>
</div>
<h3><a id="configuration-environment-variables"></a>Environment variables reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h3>
<p>Self-managed deployments can set default values for the following environment variables read by Enterprise Search.</p>
<p>Set these values within <code class="literal">config/env.sh</code>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">JAVA_OPTS</code>
</span>
</dt>
<dd>
<p>
Java options for JVM tuning (used for app-server and CLI commands).
</p>
<p><code class="literal">export JAVA_OPTS=${JAVA_OPTS:-"-Xms2g -Xmx2g"}</code></p>
</dd>
<dt>
<span class="term">
<code class="literal">APP_SERVER_JAVA_OPTS</code>
</span>
</dt>
<dd>
<p>
Additional Java options for the application server.
</p>
<p><code class="literal">export APP_SERVER_JAVA_OPTS="${APP_SERVER_JAVA_OPTS:-}"</code></p>
</dd>
<dt>
<span class="term">
<code class="literal">JAVA_GC_LOGGING</code>
</span>
</dt>
<dd>
<p>
Enable Java GC logging (see below for the default configuration).
</p>
<p><code class="literal">export JAVA_GC_LOGGING=true</code></p>
</dd>
<dt>
<span class="term">
<code class="literal">JAVA_GC_LOG_DIR</code>
</span>
</dt>
<dd>
<p>
Where to put the files.
</p>
<p><code class="literal">export JAVA_GC_LOG_DIR=log</code></p>
</dd>
<dt>
<span class="term">
<code class="literal">JAVA_GC_LOG_KEEP_FILES</code>
</span>
</dt>
<dd>
<p>
How many of the most recent files to keep.
</p>
<p><code class="literal">export JAVA_GC_LOG_KEEP_FILES=10</code></p>
</dd>
<dt>
<span class="term">
<code class="literal">JAVA_GC_LOG_MAX_FILE_SIZE</code>
</span>
</dt>
<dd>
<p>
How big GC logs should grow before triggering log rotation.
</p>
<p><code class="literal">export JAVA_GC_LOG_MAX_FILE_SIZE=10m</code></p>
</dd>
</dl>
</div>
<h3><a id="configuration-tasks"></a>Additional configuration tasks<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.3/enterprise-search-docs/configuration.asciidoc">edit</a></h3>
<p>Refer to the following for further documentation on specific configuration tasks:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="encryption-keys.html" title="Configure encryption keys">Configure encryption keys</a>
</li>
<li class="listitem">
<a class="xref" href="mailer-configuration.html" title="Configure a mail service">Configure a mail service</a>
</li>
<li class="listitem">
<a class="xref" href="configure-ssl-tls.html" title="Configure SSL/TLS">Configure SSL/TLS</a>
</li>
</ul>
</div>



</div>
<div class="navfooter">
<span class="prev">
<a href="logging-in.html">« Logging in to Enterprise Search</a>
</span>
<span class="next">
<a href="encryption-keys.html">Configure encryption keys »</a>
</span>
</div>
</div>
</body>
</html>
