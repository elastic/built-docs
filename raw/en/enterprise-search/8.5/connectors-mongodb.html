<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elastic MongoDB connector | Elastic Enterprise Search documentation [8.5] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Enterprise Search documentation [8.5]"/>
<link rel="up" href="connectors.html" title="Elastic connectors"/>
<link rel="prev" href="native-connectors.html" title="Native connectors"/>
<link rel="next" href="connectors-mysql.html" title="Elastic MySQL connector"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/8.5"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="8.5"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Elastic Enterprise Search documentation [8.5]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="connectors.html">Elastic connectors</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="native-connectors.html">« Native connectors</a>
</span>
<span class="next">
<a href="connectors-mysql.html">Elastic MySQL connector »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="connectors-mongodb"></a>Elastic MongoDB connector<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.5/enterprise-search-docs/connectors-mongodb.asciidoc">edit</a></h2>
</div></div></div>

<p>The <em>Elastic MongoDB connector</em> is a <a class="xref" href="native-connectors.html" title="Native connectors">native connector</a> for <a href="https://www.mongodb.com" class="ulink" target="_blank" rel="noopener">MongoDB</a> data sources.</p>
<h3><a id="connectors-mongodb-prerequisites"></a>Availability and prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.5/enterprise-search-docs/connectors-mongodb.asciidoc">edit</a></h3>
<p>The MongoDB connector is available in Elastic versions <span class="strong strong"><strong>8.5.0+</strong></span>.</p>
<p>Currently, this connector is available in <span class="strong strong"><strong>technical preview</strong></span>.
Features in technical preview are subject to change and are not covered by the service level agreement (SLA) of features that have reached general availability (GA).</p>
<p>To use this connector, you must satisfy all <a class="xref" href="native-connectors.html#native-connectors-prerequisites" title="Availability and prerequisites">prerequisites for native connectors</a>.
There are no additional prerequisites unique to this connector.</p>
<h3><a id="connectors-mongodb-usage"></a>Usage and troubleshooting<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.5/enterprise-search-docs/connectors-mongodb.asciidoc">edit</a></h3>
<p>To connect to a MongoDB data source, you will need the information described in <a class="xref" href="connectors-mongodb.html#connectors-mongodb-configuration" title="MongoDB configuration">MongoDB configuration</a>.
And the data source must satisfy the compatibility requirements described in <a class="xref" href="connectors-mongodb.html#connectors-mongodb-compatibility" title="MongoDB compatibility">MongoDB compatibility</a>.</p>
<p>Otherwise, there are no instructions unique to this connector.
Review the following documentation for native connectors:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="native-connectors.html#native-connectors-usage" title="Usage">Usage</a>
</li>
<li class="listitem">
<a class="xref" href="native-connectors.html#native-connectors-troubleshooting" title="Troubleshooting">Troubleshooting</a>
</li>
</ul>
</div>
<h3><a id="connectors-mongodb-reference"></a>Reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.5/enterprise-search-docs/connectors-mongodb.asciidoc">edit</a></h3>
<p>The following sections describe technical details for this connector.</p>
<h4><a id="connectors-mongodb-compatibility"></a>MongoDB compatibility<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.5/enterprise-search-docs/connectors-mongodb.asciidoc">edit</a></h4>
<p>The MongoDB connector is compatible with MongoDB Atlas and MongoDB 3.6+.</p>
<p>The MongoDB data source and your Elastic deployment must be able to communicate with each other over a network.</p>
<h4><a id="connectors-mongodb-configuration"></a>MongoDB configuration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.5/enterprise-search-docs/connectors-mongodb.asciidoc">edit</a></h4>
<p>When <a class="xref" href="native-connectors.html#native-connectors-index-configure" title="Configure index">configuring an index</a> for use with this connector, you will need to provide some or all of the following information about the data source.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
MongoDB host
</span>
</dt>
<dd>
<p>
The URI of the host.
Examples:
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">mongodb+srv://my_username:my_password@cluster0.mongodb.net/mydb?w=majority</code>
</li>
<li class="listitem">
<code class="literal">mongodb://127.0.0.1:27017</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Use direct connection (true/false)
</span>
</dt>
<dd>
<p>
Whether to use the <a href="https://www.mongodb.com/docs/ruby-driver/current/reference/create-client/#direct-connection" class="ulink" target="_blank" rel="noopener">direct connection option for the MongoDB client</a>.
Examples.
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">true</code>
</li>
<li class="listitem">
<code class="literal">false</code>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
MongoDB username
</span>
</dt>
<dd>
<p>
The MongoDB username the connector will use.
</p>
<p>The user must have access to the configured database and collection.
You may want to create a dedicated, read-only user for each connector.</p>
<p>See <a class="xref" href="native-connectors.html#native-connectors-security" title="Security">Security</a> for security details.</p>
</dd>
<dt>
<span class="term">
MongoDB password
</span>
</dt>
<dd>
<p>
The MongoDB password the connector will use.
</p>
<p>See <a class="xref" href="native-connectors.html#native-connectors-security" title="Security">Security</a> for security details.</p>
</dd>
<dt>
<span class="term">
MongoDB database
</span>
</dt>
<dd>
<p>
The MongoDB database to sync.
The database must be accessible using the configured username and password.
</p>
<p>See <a class="xref" href="native-connectors.html#native-connectors-security" title="Security">Security</a> for security details.</p>
</dd>
<dt>
<span class="term">
MongoDB collection
</span>
</dt>
<dd>
<p>
The MongoDB collection to sync.
The collection must exist within the configured database.
The collection must be accessible using the configured username and password.
</p>
<p>See <a class="xref" href="native-connectors.html#native-connectors-security" title="Security">Security</a> for security details.</p>
</dd>
</dl>
</div>
<h4><a id="connectors-mongodb-documents"></a>Elasticsearch documents<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.5/enterprise-search-docs/connectors-mongodb.asciidoc">edit</a></h4>
<p>All documents in the configured MongoDB database and collection are extracted and transformed into documents in your Elasticsearch index.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The connector creates one <span class="strong strong"><strong>Elasticsearch document</strong></span> for each MongoDB document in the configured database and collection.
</li>
<li class="listitem">
For each document, the connector transforms each MongoDB field into an <span class="strong strong"><strong>Elasticsearch field</strong></span>.
</li>
<li class="listitem">
For each field, Elasticsearch <a href="/guide/en/elasticsearch/reference/8.5/dynamic-mapping.html" class="ulink" target="_blank" rel="noopener">dynamically determines the <span class="strong strong"><strong>data type</strong></span></a>.
</li>
</ul>
</div>
<p>This results in Elasticsearch documents that closely match the original MongoDB documents.</p>
<p>As soon as your first documents are synced, you can <a class="xref" href="native-connectors.html#native-connectors-documents" title="View documents">view the documents</a> and inspect the mapping for the index.
This will help you understand how your data is structured in Elasticsearch, and how this differs from the structure of the original MongoDB documents.</p>
<h4><a id="connectors-mongodb-syncs"></a>Syncing<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.5/enterprise-search-docs/connectors-mongodb.asciidoc">edit</a></h4>
<p>Users can <a class="xref" href="native-connectors.html#native-connectors-syncs-manual" title="Sync once">launch a sync manually</a> or <a class="xref" href="native-connectors.html#native-connectors-syncs-recurring" title="Manage recurring syncs">schedule a recurring sync</a>.</p>
<p>When you select the <span class="strong strong"><strong>Sync</strong></span> button, the sync job has to wait until the connector picks up the task.</p>
<p>Each sync is a "full" sync.
For each MongoDB document discovered:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If it does not exist, the document is created in Elasticsearch.
</li>
<li class="listitem">
If it already exists in Elasticsearch, the Elasticsearch document is replaced and the version is incremented.
See <a class="xref" href="native-connectors.html#native-connectors-documents" title="View documents">View documents</a>.
</li>
<li class="listitem">
If an existing Elasticsearch document no longer exists in the MongoDB collection, it is deleted from Elasticsearch.
</li>
<li class="listitem">
Embedded documents are stored as an <code class="literal">object</code> field in the parent document.
This is recursive, because embedded documents can themselves contain embedded documents.
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="native-connectors.html">« Native connectors</a>
</span>
<span class="next">
<a href="connectors-mysql.html">Elastic MySQL connector »</a>
</span>
</div>
</div>
</body>
</html>
