<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elastic Azure Blob Storage connector reference | Enterprise Search documentation [8.7] | Elastic</title>
<meta class="elastic" name="content" content="Elastic Azure Blob Storage connector reference | Enterprise Search documentation [8.7]">

<link rel="home" href="index.html" title="Enterprise Search documentation [8.7]"/>
<link rel="up" href="connectors.html" title="Elastic connectors"/>
<link rel="prev" href="sync-rules.html" title="Connector sync rules"/>
<link rel="next" href="connectors-google-cloud.html" title="Google Cloud Storage Connector"/>
<meta class="elastic" name="product_version" content="8.7"/>
<meta class="elastic" name="product_name" content="Enterprise Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/8.7"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="8.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="sync-rules.html">« Connector sync rules</a>
</span>
<span class="next">
<a href="connectors-google-cloud.html">Google Cloud Storage Connector »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Enterprise Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="connectors.html">Elastic connectors</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Elastic Azure Blob Storage connector reference</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="connectors-azure-blob"></a>Elastic Azure Blob Storage connector reference</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
</div></div></div>

<p>The <em>Elastic Azure Blob Storage connector</em> is a <a class="xref" href="connectors.html" title="Elastic connectors">connector</a> for <a href="https://azure.microsoft.com/en-us/services/storage/blobs/" class="ulink" target="_blank" rel="noopener">Azure Blob Storage</a>.</p>
<div class="position-relative"><h3><a id="connectors-azure-blob-availability-prerequisites"></a>Availability and prerequisites</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<p>This connector is available as a <span class="strong strong"><strong>connector client</strong></span> from the <span class="strong strong"><strong>Python connectors framework</strong></span>.
This connector client is compatible with Elastic versions <span class="strong strong"><strong>8.6.0+</strong></span>.
To use this connector, satisfy all <a class="xref" href="build-connector.html" title="Connector clients and frameworks">connector client requirements</a>.</p>
<p>This connector is in <span class="strong strong"><strong>beta</strong></span> and is subject to change.
The design and code is less mature than official GA features and is being provided as-is with no warranties.
Beta features are not subject to the support SLA of official GA features.</p>
<div class="position-relative"><h3><a id="connectors-azure-blob-usage"></a>Usage</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<p>To use this connector as a <span class="strong strong"><strong>connector client</strong></span>, use the <span class="strong strong"><strong>build a connector</strong></span> workflow.
See <a class="xref" href="build-connector.html" title="Connector clients and frameworks"><em>Connector clients and frameworks</em></a>.</p>
<p>For additional operations, see <a class="xref" href="connectors-usage.html" title="Using connectors"><em>Usage</em></a>.</p>
<div class="position-relative"><h3><a id="connectors-azure-blob-compatability"></a>Compatibility</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<p>This connector has not been tested with Azure Government.
Therefore we cannot guarantee that it will work with Azure Government endpoints.
For more information on Azure Government compared to Global Azure, refer to the
 <a href="https://learn.microsoft.com/en-us/azure/azure-government/compare-azure-government-global-azure" class="ulink" target="_blank" rel="noopener">official Microsoft documentation</a>.</p>
<div class="position-relative"><h3><a id="connectors-azure-blob-configuration"></a>Configuration</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>When using the <a class="xref" href="build-connector.html" title="Connector clients and frameworks">build a connector</a> workflow, intially these fields will use the default configuration set in the <a href="https://github.com/elastic/connectors-python/tree/8.7/connectors/sources/azure_blob_storage.py" class="ulink" target="_blank" rel="noopener">connector source code</a>.
These are set in the <code class="literal">get_default_configuration</code> function definition.</p>
<p>These configurable fields will be rendered with their respective <span class="strong strong"><strong>labels</strong></span> in the Kibana UI.
Once connected, you&#8217;ll be able to update these values in Kibana.</p>
</div>
</div>
<p>The following configuration fields are required to set up the connector:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">account_name</code>
</span>
</dt>
<dd>
Name of Azure Blob Storage account.
</dd>
<dt>
<span class="term">
<code class="literal">account_key</code>
</span>
</dt>
<dd>
<a href="https://learn.microsoft.com/en-us/azure/storage/common/storage-account-keys-manage?tabs=azure-portal" class="ulink" target="_blank" rel="noopener">Account key</a> for the Azure Blob Storage account.
</dd>
<dt>
<span class="term">
<code class="literal">blob_endpoint</code>
</span>
</dt>
<dd>
Endpoint for the Blob Service.
</dd>
<dt>
<span class="term">
<code class="literal">retry_count</code>
</span>
</dt>
<dd>
Number of retry attempts after a failed call.
Default value is <code class="literal">3</code>.
</dd>
<dt>
<span class="term">
<code class="literal">concurrent_downloads</code>
</span>
</dt>
<dd>
Number of concurrent downloads for fetching content.
Default value is <code class="literal">100</code>.
</dd>
<dt>
<span class="term">
<code class="literal">enable_content_extraction</code>
</span>
</dt>
<dd>
<p>
Whether the connector should extract file content.
Default value is <code class="literal">True</code>, the connector will try to extract file contents.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If <code class="literal">enable_content_extraction=False</code> the connector will not attempt to download the content of files.</p>
<p>Don&#8217;t confuse this with the "Deployment wide content extraction" setting in the Kibana UI.
This deployment-wide setting toggles <span class="strong strong"><strong><em>binary</em></strong></span> content extraction and is powered by <a class="xref" href="ingest-pipelines.html#ingest-pipelines-details-generic-reference-params" title="Control flow parameters">ingest pipelines</a>.</p>
</div>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="connectors-azure-blob-documents-syncs"></a>Documents and syncs</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<p>The connector will fetch all data available in the container.</p>
<div class="position-relative"><h3><a id="connectors-azure-sync-rules"></a>Sync rules</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Files bigger than 10 MB won&#8217;t be extracted.
</li>
<li class="listitem">
Permissions are not synced.
<span class="strong strong"><strong>All documents</strong></span> indexed to an Elastic deployment will be visible to <span class="strong strong"><strong>all users with access</strong></span> to that Elastic Deployment.
</li>
<li class="listitem">
Filtering rules are not yet available.
Currently filtering is controlled via ingest pipelines.
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="connectors-azure-blob-testing"></a>End-to-end testing</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<p>The connector framework enables operators to run functional tests against a real data source.
Refer to <a class="xref" href="build-connector.html#build-connector-testing" title="Connector testing">Connector testing</a> for more details.</p>
<p>To perform E2E testing for the Azure Blob Storage connector, run the following command:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">$ make ftest NAME=azure_blob_storage</pre>
</div>
<p>For faster tests, add the <code class="literal">DATA_SIZE=small</code> flag:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">make ftest NAME=azure_blob_storage DATA_SIZE=small</pre>
</div>
<div class="position-relative"><h3><a id="connectors-azure-blob-known-issues"></a>Known issues</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<p>This connector has the following known issues:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p><span class="strong strong"><strong><code class="literal">lease data</code> and <code class="literal">tier</code> fields are not updated in Elasticsearch indices</strong></span></p>
<p>This is because the blob timestamp is not updated.
Refer to <a href="https://github.com/elastic/connectors-python/issues/289" class="ulink" target="_blank" rel="noopener">Github issue</a>.</p>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="connectors-azure-blob-troubleshooting"></a>Troubleshooting</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<p>See <a class="xref" href="connectors-troubleshooting.html" title="Troubleshooting connectors"><em>Troubleshooting</em></a>.</p>
<div class="position-relative"><h3><a id="connectors-azure-blob-security"></a>Security</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<p>See <a class="xref" href="connectors-security.html" title="Connectors security"><em>Security</em></a>.</p>
<div class="position-relative"><h3><a id="connectors-azure-blob-source"></a>Framework and source</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.7/enterprise-search-docs/connectors-azure-blob.asciidoc">edit</a></div>
<p>This connector is included in the <a href="https://github.com/elastic/connectors-python/tree/8.7" class="ulink" target="_blank" rel="noopener">Python connectors framework</a>.</p>
<p>View the <a href="https://github.com/elastic/connectors-python/tree/8.7/connectors/sources/azure_blob_storage.py" class="ulink" target="_blank" rel="noopener">source code for this connector</a> (branch <em>8.7</em>, compatible with Elastic <em>8.7</em>)</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="sync-rules.html">« Connector sync rules</a>
</span>
<span class="next">
<a href="connectors-google-cloud.html">Google Cloud Storage Connector »</a>
</span>
</div>
</body>
</html>
