<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Connector clients | Enterprise Search documentation [8.9] | Elastic</title>
<meta class="elastic" name="content" content="Connector clients | Enterprise Search documentation [8.9]">

<link rel="home" href="index.html" title="Enterprise Search documentation [8.9]"/>
<link rel="up" href="connectors.html" title="Elastic connectors"/>
<link rel="prev" href="native-connectors.html" title="Native connectors"/>
<link rel="next" href="connectors-framework.html" title="Elastic connector framework"/>
<meta class="elastic" name="product_version" content="8.9"/>
<meta class="elastic" name="product_name" content="Enterprise Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/8.9"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="8.9"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Enterprise Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="connectors.html">Elastic connectors</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="native-connectors.html">« Native connectors</a>
</span>
<span class="next">
<a href="connectors-framework.html">Elastic connector framework »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="build-connector"></a>Connector clients<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h2>
</div></div></div>
<p><em>Connector clients</em> are Elastic connectors that you <span class="strong strong"><strong>self-manage</strong></span> on your own infrastructure.
This means they run outside of your Elastic deployment.</p>
<p>You can run them from source or from a Docker container.
<a class="xref" href="build-connector.html#build-connector-service" title="Deploying your self-managed connector">Deploying your self-managed connector</a> details the options.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>For a concrete end-to-end example, see <a class="xref" href="postgresql-connector-client-tutorial.html" title="PostgreSQL connector client tutorial">PostgreSQL connector client tutorial</a>.</p>
</div>
</div>
<p>The following connectors are available as connector clients:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="connectors-azure-blob.html" title="Elastic Azure Blob Storage connector reference">Azure Blob Storage</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-confluence.html" title="Elastic Confluence connector reference">Confluence</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-google-cloud.html" title="Google Cloud Storage Connector">Google Cloud Storage</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-jira.html" title="Elastic Jira connector reference">Jira</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-mongodb.html" title="Elastic MongoDB connector reference">MongoDB</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-ms-sql.html" title="Elastic Microsoft SQL connector reference">MicrosoftSQL</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-mysql.html" title="Elastic MySQL connector reference">MySQL</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-network-drive.html" title="Elastic network drive connector reference">Network drive</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-oracle.html" title="Elastic Oracle connector reference">Oracle</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-postgresql.html" title="Elastic PostgreSQL connector reference">PostgreSQL</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-s3.html" title="Elastic S3 connector reference">S3</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-sharepoint.html" title="Elastic SharePoint Server connector reference">SharePoint Server</a>
</li>
<li class="listitem">
<a class="xref" href="connectors-sharepoint-online.html" title="Elastic SharePoint Online connector reference">SharePoint Online</a>
</li>
</ul>
</div>
<h3><a id="build-connector-prerequisites"></a>Availability and Elastic prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h3>
<details>
<summary class="title"><span class="strong strong"><strong>Expand</strong></span> to see the Elastic prerequisites</summary>
<div class="content">
<p>Elastic <span class="strong strong"><strong>8.4.0</strong></span> or later is required.</p>
<p>Your <a class="xref" href="deployment.html" title="Elastic deployment">Elastic deployment</a> must include the following Elastic services:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Elasticsearch</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Kibana</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Enterprise Search</strong></span>
</li>
</ul>
</div>
<p>(A new Elastic Cloud deployment includes these services by default.)</p>
</div>
</details>
<p><span class="strong strong"><strong>Support and licensing</strong></span></p>
<p>Depending on how you use connector clients, support and licensing requirements will vary.</p>
<p>Refer to the following subscriptions pages for details.
Find your connector of interest in the <span class="strong strong"><strong>Elastic Search</strong></span> section under <span class="strong strong"><strong>Client Integrations</strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/subscriptions/" class="ulink" target="_top">Elastic self-managed subscriptions page</a>
</li>
<li class="listitem">
<a href="/subscriptions/cloud" class="ulink" target="_top">Elastic Cloud subscriptions page</a>
</li>
</ul>
</div>
<p>Note the following information regarding support for connector clients:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A converted but <em>unmodified</em> native connector is supported by Elastic.
</li>
<li class="listitem">
A converted but <em>customized</em> native connector is <em>not</em> supported by Elastic.
</li>
</ul>
</div>
<div class="exampleblock">
<div class="content">
<p>You must have access to Kibana and have <code class="literal">write</code> <a href="/guide/en/elasticsearch/reference/8.9/security-privileges.html" class="ulink" target="_blank" rel="noopener">indices privileges</a> for the <code class="literal">.elastic-connectors</code> index.</p>
<p>You must additionally deploy the <span class="strong strong"><strong>connector service</strong></span>.
See <a class="xref" href="build-connector.html#build-connector-service" title="Deploying your self-managed connector">Deploying your self-managed connector</a>.</p>
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>In order to setup, configure, and run a connector you&#8217;ll be moving between your third-party service, the Kibana UI, and your terminal.</p>
</div>
</div>
<div class="sidebar">
<a id="build-connector-data-source-prerequisites"></a>
<div class="titlepage"><div><div>
<p class="title"><strong>Data source prerequisites</strong></p>
</div></div></div>
<p>The first decision you need to make before deploying a connector is which third party service (data source) you want to sync to Elasticsearch.
Note that each data source will have specific prerequisites you&#8217;ll need to meet to authorize the connector to access its data.
For example, certain data sources may require you to create an OAuth application, or create a service account.</p>
<p>You&#8217;ll need to check the individual connector documentation for these details.</p>
</div>
<h3><a id="build-connector-setup-kibana"></a>Initial setup in Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h3>
<p>Follow the <span class="strong strong"><strong>Connector</strong></span> workflow in the Kibana UI to select the <span class="strong strong"><strong>Connector</strong></span> ingestion method.</p>
<p>Next, complete these steps:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Choose which third-party service you’d like to use by selecting a <span class="strong strong"><strong>data source</strong></span>.
</li>
<li class="listitem">
Create and name a new <span class="strong strong"><strong>Elasticsearch index</strong></span>.
</li>
<li class="listitem">
Generate a new <span class="strong strong"><strong>API key</strong></span> and save it somewhere safe.
</li>
<li class="listitem">
Name your connector and provide an optional description
</li>
<li class="listitem">
<span class="strong strong"><strong>Convert</strong></span> native connector to a connector client (<em>Only applicable if connector is also available natively</em>). This action is irreversible.
</li>
<li class="listitem">
<p>Copy the configuration block from the example shown on the screen. You’ll use this in a later step:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml"># ...
api_key: '&lt;YOUR-API-KEY&gt;'
connector_id: '&lt;YOUR-CONNECTOR-ID&gt;'
service_type: 'postgresql' # The third party service you've selected</pre>
</div>
</li>
</ol>
</div>
<h3><a id="build-connector-service"></a>Deploying your self-managed connector<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h3>
<p>To use connector clients, you must deploy the connector service.
The source code is hosted in the <code class="literal">elastic/connectors-python</code> repository.</p>
<p>You have two deployment options:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="build-connector.html#build-connector-service-source" title="Option 1: Run from source">Run the code from source</a>
</li>
<li class="listitem">
<a class="xref" href="build-connector.html#build-connector-service-docker" title="Option 2: Run with Docker">Run from a Docker container</a>
</li>
</ul>
</div>
<h4><a id="build-connector-service-source"></a>Option 1: Run from source<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h4>
<p>This is a good option if you&#8217;re comfortable working with Python and want to iterate quickly locally.</p>
<h5><a id="build-connector-service-source-clone"></a>Clone the repository and edit <code class="literal">config.yml</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h5>
<p>Once you&#8217;ve created an index, and entered the access details for your data source, you&#8217;re ready to deploy the connector service.</p>
<p>First, you need to clone the <code class="literal">elastic/connectors-python</code> repository.</p>
<p>Follow these steps:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clone or fork the <code class="literal">connectors-python</code> repository locally with the following command: <code class="literal">git clone https://github.com/elastic/connectors-python</code>.
</li>
<li class="listitem">
Open the <a href="https://github.com/elastic/connectors-python/tree/8.9/config.yml" class="ulink" target="_blank" rel="noopener"><code class="literal">config.yml</code> configuration file</a> in your editor of choice.
</li>
<li class="listitem">
<p>Replace the values for <code class="literal">host</code> (your Elasticsearch endpoint), <code class="literal">api_key</code>, <code class="literal">connector_id</code>, and <code class="literal">service_type</code>.</p>
<details>
<summary class="title"><span class="strong strong"><strong>Expand</strong></span> to see an example <code class="literal">config.yml</code> file</summary>
<div class="content">
<p>Replace the values for <code class="literal">api_key</code>, <code class="literal">connector_id</code>, and <code class="literal">service_type</code> with the values you copied earlier.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">elasticsearch:
  host: &lt;https://&lt;my-elastic-deployment.es.us-west2.gcp.elastic-cloud.com&gt;&gt; # Your Elasticsearch endpoint
  api_key: '&lt;YOUR-API-KEY&gt;' # Your API key
  ssl: true
  bulk:
    queue_max_size: 1024
    queue_max_mem_size: 25
    display_every: 100
    chunk_size: 1000
    max_concurrency: 5
    chunk_max_mem_size: 5
    concurrent_downloads: 10
  request_timeout: 120
  max_wait_duration: 120
  initial_backoff_duration: 1
  backoff_multiplier: 2
  log_level: info

service:
  idling: 30
  heartbeat: 300
  max_errors: 20
  max_errors_span: 600
  max_concurrent_syncs: 1
  job_cleanup_interval: 300
  log_level: INFO


# Connector client settings
connector_id: '&lt;YOUR-CONNECTOR-ID&gt;' # Your connector ID
service_type: 'postgresql'  # The service type for your connector

sources:
  # mongodb: connectors.sources.mongo:MongoDataSource
  # s3: connectors.sources.s3:S3DataSource
  # dir: connectors.sources.directory:DirectoryDataSource
  # mysql: connectors.sources.mysql:MySqlDataSource
  # network_drive: connectors.sources.network_drive:NASDataSource
  # google_cloud_storage: connectors.sources.google_cloud_storage:GoogleCloudStorageDataSource
  # azure_blob_storage: connectors.sources.azure_blob_storage:AzureBlobStorageDataSource
  postgresql: connectors.sources.postgresql:PostgreSQLDataSource
  # oracle: connectors.sources.oracle:OracleDataSource
  # sharepoint: connectors.sources.sharepoint:SharepointDataSource
  # mssql: connectors.sources.mssql:MSSQLDataSource
  # jira: connectors.sources.jira:JiraDataSource</pre>
</div>
</div>
</details>
</li>
</ul>
</div>
<h5><a id="build-connector-service-run"></a>Run the connector service<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h5>
<p>Once you&#8217;ve configured the connector code, you can run the connector service.</p>
<p>In your terminal or IDE:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<code class="literal">cd</code> into the root of your <code class="literal">connectors-python</code> clone/fork.
</li>
<li class="listitem">
<p>Run the following commands to compile and run the connector service:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">make install
make run</pre>
</div>
</li>
</ol>
</div>
<p>The connector service should now be running.
The UI will let you know that the connector has successfully connected to your Elasticsearch instance.</p>
<p>Here we&#8217;re working locally.
In a production setup, you&#8217;ll deploy the connector service to your own infrastructure.</p>
<h4><a id="build-connector-service-docker"></a>Option 2: Run with Docker<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h4>
<p>You can also deploy connector clients using Docker.
This is a good option if you don&#8217;t want to worry about your local Python environment.</p>
<p>To do this you will:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Create a Docker network.
</li>
<li class="listitem">
Create a directory to be mounted into the Docker image.
</li>
<li class="listitem">
Download the sample configuration file (<code class="literal">conf.yml</code>) into that directory.
</li>
<li class="listitem">
<p>Update the config file with your specific values:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">host</code> (your Elasticsearch endpoint)
</li>
<li class="listitem">
<code class="literal">api_key</code>
</li>
<li class="listitem">
<code class="literal">connector_id</code>
</li>
<li class="listitem">
<code class="literal">service_type</code>.
</li>
</ul>
</div>
</li>
<li class="listitem">
Run the Docker image with the Connector Service
</li>
</ul>
</div>
<p>Refer to <a href="https://github.com/elastic/connectors-python/tree/8.9/docs/DOCKER.md" class="ulink" target="_top"><code class="literal">DOCKER.md</code></a> in the repo for a more detailed guide.</p>
<h3><a id="build-connector-finalizes-kibana"></a>Enter data source details in Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h3>
<p>Once the connector service is running, it&#8217;s time to head back to the Kibana UI to finalize the connector configuration.
In this step, you need to add the specific connection details about your data source instance, like URL, authorization credentials, etc.
As mentioned above, these details will vary based on the third-party data source you’re connecting to.</p>
<p>For example, the PostgreSQL connector requires the following details:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Host</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Port</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Username</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Password</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Database</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Comma-separated list of tables</strong></span>
</li>
</ul>
</div>
<p>You&#8217;re now ready to run a sync.
Select the <span class="strong strong"><strong>Full sync</strong></span> button in the Kibana UI to start ingesting documents into Elasticsearch.</p>
<h3><a id="build-connector-example"></a>Tutorial<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h3>
<p>Our <a class="xref" href="postgresql-connector-client-tutorial.html" title="PostgreSQL connector client tutorial"><em>PostgreSQL connector client tutorial</em></a> is a concrete example of running a self-managed connector service and a connector client.
This example uses the PostgreSQL connector but the basic process is the same for all connector clients.</p>
<h3><a id="build-connector-testing"></a>Connector testing<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h3>
<p>The connector framework enables you to run end-to-end (E2E) tests on your connector clients, against a real data source.</p>
<p>To avoid tampering with a real Elasticsearch instance, E2E tests run an isolated Elasticsearch instance in Docker.
Configuration values are set in your <code class="literal">docker-compose.yml</code> file.
Docker Compose manages the setup of the development environment, including both the mock Elastic instance and mock data source.</p>
<p>E2E tests use <span class="strong strong"><strong>default</strong></span> configuration values for the connector.
Find instructions about testing in each connector&#8217;s documentation.</p>
<h3><a id="build-connector-framework"></a>Connector framework<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/build-connector.asciidoc">edit</a></h3>
<p>The Elastic Python connector framework enables you to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Customize existing connector clients.
</li>
<li class="listitem">
Build your own connector clients.
</li>
</ul>
</div>
<p>Refer to <a class="xref" href="connectors-framework.html" title="Elastic connector framework"><em>Elastic connector framework</em></a> for more information.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="native-connectors.html">« Native connectors</a>
</span>
<span class="next">
<a href="connectors-framework.html">Elastic connector framework »</a>
</span>
</div>
</div>
</body>
</html>
