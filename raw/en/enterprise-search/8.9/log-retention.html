<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Log retention | Enterprise Search documentation [8.9] | Elastic</title>
<meta class="elastic" name="content" content="Log retention | Enterprise Search documentation [8.9]">

<link rel="home" href="index.html" title="Enterprise Search documentation [8.9]"/>
<link rel="up" href="logs-and-logging.html" title="Logs and logging"/>
<link rel="prev" href="audit-logs.html" title="Audit logging"/>
<link rel="next" href="logging-view-query-logs.html" title="View and query logs"/>
<meta class="elastic" name="product_version" content="8.9"/>
<meta class="elastic" name="product_name" content="Enterprise Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/8.9"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="8.9"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Enterprise Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="logs-and-logging.html">Logs and logging</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="audit-logs.html">« Audit logging</a>
</span>
<span class="next">
<a href="logging-view-query-logs.html">View and query logs »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="log-retention"></a>Log retention<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/log-retention.asciidoc">edit</a></h2>
</div></div></div>
<p>Enterprise Search indexes various event data such as analytics, API requests, and content source events.
These event log indexes would grow infinitely in size without retention management.
Since 7.9.0, Enterprise Search manages log retention for you, using <a href="/guide/en/elasticsearch/reference/current/index-lifecycle-management.html" class="ulink" target="_blank" rel="noopener">Index Lifecycle Management (ILM)</a>.</p>
<p>Enterprise search creates several ILM policies that manage the Enterprise Search log indexes as they age, automatically transitioning each through a lifecycle.
You can find these policies by their IDs to modify them, or you can create your own policies.
See:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="log-retention.html#log-retention-ilm-policy-ids" title="Enterprise Search ILM policy IDs">Enterprise Search ILM policy IDs</a>
</li>
<li class="listitem">
<a class="xref" href="log-retention.html#log-retention-manage-ilm" title="Manage ILM policies">Manage ILM policies</a>
</li>
</ul>
</div>
<p>Enterprise Search uses ILM as long as the underlying Elastic Stack supports the feature.
Also, App Search exposes additional controls to disable logging in that product only.
See:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="log-retention.html#log-retention-disable-logging-app-search" title="Disable logging in App Search">Disable logging in App Search</a>
</li>
</ul>
</div>
<h2><a id="log-retention-ilm-policy-ids"></a>Enterprise Search ILM policy IDs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/log-retention.asciidoc">edit</a></h2>
<p>Enterprise Search creates ILM policies with the following IDs:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">ent-search-api-ecs-ilm-logs
ent-search-app-search-analytics-ecs-ilm-logs
ent-search-workplace-search-analytics-ecs-ilm-logs
ent-search-workplace-search-content-events-ecs-ilm-logs</pre>
</div>
<h2><a id="log-retention-manage-ilm"></a>Manage ILM policies<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/log-retention.asciidoc">edit</a></h2>
<p>Manage the above Enterprise Search ILM policies using UIs in Kibana or APIs in Elasticsearch.
See:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/kibana/current/index-lifecycle-policies.html" class="ulink" target="_blank" rel="noopener">Index Lifecycle Policies</a> in the Kibana documentation
</li>
<li class="listitem">
<a href="/guide/en/elasticsearch/reference/7.8/index-lifecycle-management-api.html" class="ulink" target="_blank" rel="noopener">Index lifecycle management API</a> in the Elasticsearch documentation
</li>
</ul>
</div>
<h2><a id="log-retention-disable-logging-app-search"></a>Disable logging in App Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/log-retention.asciidoc">edit</a></h2>
<p>Finally, App Search allows admins and developers to disable logging through its <em>log settings</em> UI and API.
Although related to log retention, this is a separate feature that is specific to App Search.</p>
<p>See <a href="/guide/en/app-search/8.9/logs.html" class="ulink" target="_blank" rel="noopener">Log settings guide</a> in the App Search documentation.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="audit-logs.html">« Audit logging</a>
</span>
<span class="next">
<a href="logging-view-query-logs.html">View and query logs »</a>
</span>
</div>
</div>
</body>
</html>
