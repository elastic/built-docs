<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Search across Elasticsearch indices, App Search engines, and Workplace Search content sources | Enterprise Search documentation [8.9] | Elastic</title>
<meta class="elastic" name="content" content="Search across Elasticsearch indices, App Search engines, and Workplace Search content sources | Enterprise Search documentation [8.9]">

<link rel="home" href="index.html" title="Enterprise Search documentation [8.9]"/>
<link rel="up" href="engines.html" title="Indices, engines, meta engines, and content sources"/>
<link rel="prev" href="engines.html" title="Indices, engines, meta engines, and content sources"/>
<link rel="next" href="engines-workplace-search-dlp.html" title="Leverage Workplace Search document-level permissions in your search engine"/>
<meta class="elastic" name="product_version" content="8.9"/>
<meta class="elastic" name="product_name" content="Enterprise Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/8.9"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="8.9"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Enterprise Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="engines.html">Indices, engines, meta engines, and content sources</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="engines.html">« Indices, engines, meta engines, and content sources</a>
</span>
<span class="next">
<a href="engines-workplace-search-dlp.html">Leverage Workplace Search document-level permissions in your search engine »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="unified-search"></a>Search across Elasticsearch indices, App Search engines, and Workplace Search content sources<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h2>
</div></div></div>

<p>Learn how to search content stored in different Elastic data stores at once: Elasticsearch indices, App Search engines, and Workplace Search content sources.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>An alternative approach that uses Search Applications instead of meta engines is available as an appendix to this document.
Refer to <a class="xref" href="unified-search.html#unified-search-search-applications" title="Unified search using Search Applications">Unified search using Search Applications</a>.</p>
</div>
</div>
<h3><a id="unified-search-engines-content-sources-indices"></a>Engines, content sources, and indices<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h3>
<p>All Enterprise Search tools store data in Elasticsearch indices.
App Search and Workplace Search each have their own user-friendly abstractions over the underlying Elasticsearch indices: <span class="strong strong"><strong>Content Sources</strong></span> and <span class="strong strong"><strong>Engines</strong></span>.
Refer to <a class="xref" href="engines.html" title="Indices, engines, meta engines, and content sources"><em>Indices, engines, content sources</em></a> for more details.</p>
<p>Newer Enterprise Search tools, like the <a class="xref" href="crawler.html" title="Elastic web crawler">web crawler</a>, store data directly in Elasticsearch indices.
Users can manage these indices in the Content UI.</p>
<p>No matter which tool you used to index and manage your content, you can now search all these data stores at once.
Users send one query, and get back one set of relevance-tuned results.</p>
<h3><a id="unified-search-how-it-works"></a>How it works<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Access the underlying <span class="strong strong"><strong>Elasticsearch index</strong></span> for any given ingestion method.
</li>
<li class="listitem">
Create an <span class="strong strong"><strong>App Search engine</strong></span> based on this index.
</li>
<li class="listitem">
Create a <a href="/guide/en/app-search/8.9/meta-engines-guide.html" class="ulink" target="_blank" rel="noopener"><span class="strong strong"><strong>meta engine</strong></span></a> to combine these engines in one place.
</li>
<li class="listitem">
Use <span class="strong strong"><strong>Elastic Search UI</strong></span> to create a unified search experience over the meta engine.
</li>
</ul>
</div>
<p>The user of your search experience is unaware that the data comes from disparate sources, using different tools and abstractions.
A unified search experience allows them to query all this data simultaneously.</p>
<h4><a id="unified-search-example"></a>Example<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h4>
<p>For example, your team might:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Have used the <a href="/guide/en/workplace-search/8.9/workplace-search-salesforce-connector.html" class="ulink" target="_blank" rel="noopener">Workplace Search Salesforce connector</a> to ingest Salesforce data into a Workplace Search <span class="strong strong"><strong>content source</strong></span>.
</li>
<li class="listitem">
Have used the <a href="/guide/en/app-search/8.9/documents.html" class="ulink" target="_blank" rel="noopener">App Search documents API</a> to ingest JSON documents into an App Search <span class="strong strong"><strong>engine</strong></span>.
</li>
<li class="listitem">
Use the <a class="xref" href="crawler.html" title="Elastic web crawler">Elastic web crawler</a> to ingest webpage content directly into Elasticsearch <span class="strong strong"><strong>indices</strong></span>.
</li>
</ul>
</div>
<p>The following diagram shows how these 3 different data sources are ingested and combined into a single search experience.
Follow the arrows from the original data source, through the ingestion method, to the underlying Elasticsearch index.
From there the user creates App Search engines, and finally a meta engine, to be searched in a single UI.</p>
<div class="imageblock">
<div class="content">
<img src="images/combine-engines-indices-content-sources.png" alt="combine engines indices content sources">
</div>
</div>
<p>In this diagram:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Arrowed lines</strong></span> represent steps that require actions by the user.
</li>
<li class="listitem">
<span class="strong strong"><strong>Solid lines without arrows</strong></span> represent automatic steps, requiring no user action.
</li>
<li class="listitem">
<span class="strong strong"><strong>Dashed lines</strong></span> represent the fact that a meta engine contains no documents of its own.
A meta engine combines multiple engines, to be searched together as a single engine.
</li>
</ul>
</div>
<p>Follow the steps below to learn how to do this.</p>
<h3><a id="unified-search-find-index"></a>Step 1: Find the underlying index<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h3>
<p>Elasticsearch indices are easy to find in the Enterprise Search content UI.
Go to <span class="strong strong"><strong>Enterprise Search &gt; Content &gt; Elasticsearch indices</strong></span>.
For indices created using an Enterprise Search ingestion method, these <code class="literal">search-</code> prefixed indices are immediately visible under <span class="strong strong"><strong>Available indices</strong></span>.</p>
<p>The underlying indices for Workplace Search content sources are hidden indices.
To find these indices see <a class="xref" href="engines.html#engines-access-content-source-index" title="Access content source index">Access content source index</a>.</p>
<h3><a id="unified-search-create-engine"></a>Step 2: Create an App Search engine<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h3>
<p>Once you&#8217;ve accessed the underlying indices, it&#8217;s time to create App Search engines.
It only takes a few steps, and the App Search UI guides you through the process.</p>
<p>Jump straight to this screen in <span class="strong strong"><strong>Enterprise Search &gt; App Search &gt; Engines &gt; Create an engine</strong></span>.</p>
<p>Learn how to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="engines.html#engines-create-from-index" title="Create engine (from index)">Create engine (from index)</a>
</li>
<li class="listitem">
<a class="xref" href="engines.html#engines-create-from-content-source" title="Create engine from content source">Create engine from content source</a>
</li>
</ul>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Remember, App Search automatically creates engines for data ingested using App Search tools.</p>
</div>
</div>
<h3><a id="unified-search-create-meta-engine"></a>Step 3: Create an App Search meta engine<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h3>
<p>You now have several App Search engines.
Jump to <span class="strong strong"><strong>Enterprise Search &gt; App Search &gt; Engines</strong></span> to create a <span class="strong strong"><strong>meta engine</strong></span> in the App Search UI.</p>
<p>See the App Search documentation to learn more about <a href="/guide/en/app-search/8.9/meta-engines-guide.html#meta-engines-guide-create-ui" class="ulink" target="_blank" rel="noopener">creating meta engines in the Kibana UI</a>.</p>
<p>You can also <a href="/guide/en/app-search/8.9/meta-engines.html" class="ulink" target="_blank" rel="noopener">manage meta engines by API</a>.</p>
<h3><a id="unified-search-create-search-ui"></a>Step 4: Create a unified search experience with Search UI<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h3>
<p><a href="https://docs.elastic.co/search-ui/" class="ulink" target="_blank" rel="noopener">Search UI</a> is a React library maintained by Elastic that allows you to quickly implement search experiences.</p>
<p>You can use App Search&#8217;s built-in Search UI page to bootstrap a UI for your meta engine in a few clicks.</p>
<p>You can also see a live preview of your search experience within App Search.
If you&#8217;d like to customize this UI, but don&#8217;t want to build it from scratch, you can download the generated source code.
This can be the blueprint for your development.
Or, you can use the Search UI library to build a custom UI.</p>
<h4><a id="unified-search-use-autogen-search-ui"></a>Option 1: Use App Search&#8217;s autogenerated Search UI<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h4>
<p>To get started with the built-in Search UI:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to <span class="strong strong"><strong>Enterprise Search &gt; App Search &gt; Engines &gt; <em>your-meta-engine</em></strong></span>.
</li>
<li class="listitem">
Select the <span class="strong strong"><strong>Search UI</strong></span> tab.
</li>
<li class="listitem">
Follow the instructions to set the fields you want to search over, and the facets you want to display.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Generate search experience</strong></span>.
This will open a complete search UI based on your indexed documents.
</li>
<li class="listitem">
Test out a few queries to see how it works, and start tweaking.
</li>
</ol>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Read the next section if you want to download the source code and run your search UI locally.
If you&#8217;d prefer to build your Search UI from scratch, jump to <a class="xref" href="unified-search.html#unified-search-use-search-ui-library" title="Option 2: Use the Search UI library to build from scratch">Option 2</a>.</p>
</div>
</div>
<h5><a id="unified-search-download-search-ui"></a>Download the source code and run your search UI locally<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h5>
<p>You&#8217;ll need to have <a href="https://docs.npmjs.com/downloading-and-installing-node-js-and-npm" class="ulink" target="_blank" rel="noopener">node.js and npm installed</a> for this step.</p>
<p>Follow these steps to download and run the search UI locally:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the generated search experience page, select <span class="strong strong"><strong>Download</strong></span>.
</li>
<li class="listitem">
Save and then open up the package.
The <code class="literal">src/config/engine.json</code> file contains all of the preset configuration settings, and setting options are listed in the <code class="literal">README</code> file.
</li>
<li class="listitem">
Open a terminal window and <code class="literal">cd</code> into the package directory.
</li>
<li class="listitem">
Run <code class="literal">npm install</code> to set everything up.
</li>
<li class="listitem">
Run <code class="literal">npm start</code> to launch the application.
</li>
</ol>
</div>
<p>If you run into any problems, refer to the <a href="https://docs.elastic.co/search-ui" class="ulink" target="_blank" rel="noopener">Search UI</a> or App Search <a href="/guide/en/app-search/8.9/troubleshooting.html" class="ulink" target="_top">Troubleshooting</a> documentation.</p>
<p>Once you&#8217;re comfortable running your search UI locally, you can think about deploying to production environments.</p>
<h4><a id="unified-search-use-search-ui-library"></a>Option 2: Use the Search UI library to build from scratch<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h4>
<p>Use the <a href="https://github.com/elastic/search-ui/tree/main/packages/search-ui-app-search-connector" class="ulink" target="_blank" rel="noopener"><code class="literal">search-ui-app-search-connector</code></a> to create a search UI for your App Search meta engine.</p>
<p>For guidance, follow the tutorial in the <a href="https://docs.elastic.co/search-ui/tutorials/app-search" class="ulink" target="_blank" rel="noopener">Search UI documentation</a>.</p>
<h3><a id="unified-search-next-steps"></a>Next steps<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Learn how to <a class="xref" href="engines-workplace-search-dlp.html" title="Leverage Workplace Search document-level permissions in your search engine">sync Workplace Search permissions when using engines</a>.
</li>
</ul>
</div>
<h3><a id="unified-search-search-applications"></a>Unified search using Search Applications<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.9/enterprise-search-docs/unified-search.asciidoc">edit</a></h3>
<p>Released in Elastic 8.8.0, <a class="xref" href="search-applications.html" title="Elastic Search Applications"><em>Search Applications</em></a> are another way to build search experiences using the Elastic platform.
A search application is built on top of one or more Elasticsearch indices.</p>
<p>We can replace App Search meta engines in our unified search workflow with a search application.
This is a more streamlined approach to building a unified search experience.</p>
<p>The following diagram shows a schematic overview of this workflow:</p>
<div class="imageblock">
<div class="content">
<img src="images/search-applications-unified-search.png" alt="search applications unified search">
</div>
</div>
<p>Use the Search UI <a href="https://docs.elastic.co/search-ui/api/connectors/elasticsearch" class="ulink" target="_blank" rel="noopener">Elasticsearch connector</a> to build your UI on top of your search application.</p>
<p>You can manage your search applications in the Kibana UI, and also preview search results.
Refer to the <a class="xref" href="search-applications.html" title="Elastic Search Applications">Search Applications documentation</a> in the Enterprise Search guide for more details.</p>
<p>You can also use <a href="/guide/en/elasticsearch/reference/8.9/search-application-apis.html" class="ulink" target="_blank" rel="noopener">Elasticsearch APIs</a> to manage your search applications.</p>
<p>Use <a href="/guide/en/elasticsearch/reference/8.9/put-search-application.html" class="ulink" target="_top"><code class="literal">PUT _application/search_application/&lt;name&gt;</code></a> to add hidden indices (indices created by App Search engines and Workplace Search content sources) to your search application.</p>
<p><span class="strong strong"><strong>Example</strong></span>: API request that includes adding an App Search engine&#8217;s hidden index (<code class="literal">.ent-search-engine-documents-app-search-my-engine</code>) to a search application:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">PUT _application/search_application/my-app
{
  "indices": [ "search-my-index", "search-my-other-index", ".ent-search-engine-documents-app-search-my-engine"]}</pre>
</div>
<div class="console_widget" data-snippet="snippets/10.console"></div>
</div>
<div class="navfooter">
<span class="prev">
<a href="engines.html">« Indices, engines, meta engines, and content sources</a>
</span>
<span class="next">
<a href="engines-workplace-search-dlp.html">Leverage Workplace Search document-level permissions in your search engine »</a>
</span>
</div>
</div>
</body>
</html>
