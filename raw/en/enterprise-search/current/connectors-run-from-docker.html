<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Running from a Docker container | Enterprise Search documentation [8.13] | Elastic</title>
<meta class="elastic" name="content" content="Running from a Docker container | Enterprise Search documentation [8.13]">

<link rel="home" href="index.html" title="Enterprise Search documentation [8.13]"/>
<link rel="up" href="build-connector.html" title="Connector clients (self-managed)"/>
<link rel="prev" href="connectors-run-from-source.html" title="Running from the source code"/>
<link rel="next" href="connectors-docker-compose-quickstart.html" title="Docker Compose quickstart"/>
<meta class="elastic" name="product_version" content="8.13"/>
<meta class="elastic" name="product_name" content="Enterprise Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Enterprise Search/Guide/8.13"/>
<meta name="DC.subject" content="Enterprise Search"/>
<meta name="DC.identifier" content="8.13"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Enterprise Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="connectors.html">Elastic connectors</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="build-connector.html">Connector clients (self-managed)</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="connectors-run-from-source.html">« Running from the source code</a>
</span>
<span class="next">
<a href="connectors-docker-compose-quickstart.html">Docker Compose quickstart »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="connectors-run-from-docker"></a>Running from a Docker container<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.13/enterprise-search-docs/connectors-run-from-docker.asciidoc">edit</a></h2>
</div></div></div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Use our <a class="xref" href="connectors-docker-compose-quickstart.html" title="Docker Compose quickstart">Docker Compose quickstart</a> to quickly get started with a full Elastic Stack deployment using Connectors.</p>
</div>
</div>
<p>Instead of running the Connectors Service from source, you can use the official Docker image to run the service in a container.</p>
<p>As a prerequisite, you need to have an Elasticsearch and Kibana instance running.
From inside your Kibana UI, You will need to <a class="xref" href="connectors-run-from-source.html#connectors-run-from-source-setup-kibana" title="Initial setup in Kibana">follow the initial setup</a> in the same manner as if you are running the service from source.</p>
<p>When you are ready to run Connectors:</p>
<p><span class="strong strong"><strong>Step 1: Download sample configuration file</strong></span></p>
<p>Download the sample configuration file.
You can either download it manually or run the following command:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">curl https://raw.githubusercontent.com/elastic/connectors/main/config.yml.example --output &lt;/absolute/path/to&gt;/connectors-config/config.yml</pre>
</div>
<p>Don&#8217;t forget to change the <code class="literal">--output</code> argument value to the path where you want to save the <code class="literal">config.yml</code> file on your local system.
But keep note of where you wrote this file, as it is required in the <code class="literal">docker run</code> step below.</p>
<p><span class="strong strong"><strong>Step 2: Update the configuration file for your self-managed connector</strong></span></p>
<p>Update the configuration file with the following settings to match your environment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">elasticsearch.host</code>
</li>
<li class="listitem">
<code class="literal">elasticsearch.api_key</code>
</li>
<li class="listitem">
<code class="literal">connectors</code>
</li>
</ul>
</div>
<p>If you&#8217;re running the connector service against a Dockerized version of Elasticsearch and Kibana, your config file will look like this:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml"># When connecting to your cloud deployment you should edit the host value
elasticsearch.host: http://host.docker.internal:9200
elasticsearch.api_key: &lt;ELASTICSEARCH_API_KEY&gt;

connectors:
  -
    connector_id: &lt;CONNECTOR_ID_FROM_KIBANA&gt;
    service_type: {service-name} # sharepoint_online (example)
    api_key: &lt;CONNECTOR_API_KEY_FROM_KIBANA&gt;</pre>
</div>
<p><span class="strong strong"><strong>Step 3: Run the Docker image</strong></span></p>
<p>Run the Docker image with the Connector Service using the following command:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">docker run \
-v "&lt;/absolute/path/to&gt;/connectors-config:/config" \ # NOTE: you must change this path to match where the config.yml is located
--rm \
--tty -i \
--network host \
docker.elastic.co/enterprise-search/elastic-connectors:8.14.0.0-SNAPSHOT \
/app/bin/elastic-ingest \
-c /config/config.yml</pre>
</div>
<p>Find all available Docker images in the <a href="https://www.docker.elastic.co/r/enterprise-search/elastic-connectors" class="ulink" target="_top">official registry</a>.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Each <a class="xref" href="connectors-references.html#connectors-data-sources-connector-clients" title="Connector clients">connector client reference</a> in these docs contains specific instructions for deploying your connector using Docker.</p>
</div>
</div>
<h4><a id="build-connector-finalizes-kibana"></a>Enter data source details in Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.13/enterprise-search-docs/connectors-run-from-docker.asciidoc">edit</a></h4>
<p>Once the connector service is running, it&#8217;s time to head back to the Kibana UI to finalize the connector configuration.
In this step, you need to add the specific connection details about your data source instance, like URL, authorization credentials, etc.
As mentioned above, these details will vary based on the third-party data source you’re connecting to.</p>
<p>For example, the PostgreSQL connector requires the following details:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Host</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Port</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Username</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Password</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Database</strong></span>
</li>
<li class="listitem">
<span class="strong strong"><strong>Comma-separated list of tables</strong></span>
</li>
</ul>
</div>
<p>You&#8217;re now ready to run a sync.
Select the <span class="strong strong"><strong>Full sync</strong></span> button in the Kibana UI to start ingesting documents into Elasticsearch.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="connectors-run-from-source.html">« Running from the source code</a>
</span>
<span class="next">
<a href="connectors-docker-compose-quickstart.html">Docker Compose quickstart »</a>
</span>
</div>
</div>
</body>
</html>
