<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Quick start: Get logs, metrics, and uptime data into the Elastic Stack | Fleet and Elastic Agent Guide [7.13] | Elastic</title>
<meta class="elastic" name="content" content="Quick start: Get logs, metrics, and uptime data into the Elastic Stack | Fleet and Elastic Agent Guide [7.13]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [7.13]"/>
<link rel="up" href="index.html" title="Fleet and Elastic Agent Guide [7.13]"/>
<link rel="prev" href="fleet-limitations.html" title="Limitations of this release"/>
<link rel="next" href="fleet-quick-start-traces.html" title="Quick start: Get application traces into the Elastic Stack"/>
<meta class="elastic" name="product_version" content="7.13"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/7.13"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="7.13"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [7.13]</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="fleet-limitations.html">« Limitations of this release</a>
</span>
<span class="next">
<a href="fleet-quick-start-traces.html">Quick start: Get application traces into the Elastic Stack »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h1 class="title"><a id="fleet-quick-start"></a>Quick start: Get logs, metrics, and uptime data into the Elastic Stack<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/7.13/docs/en/ingest-management/getting-started.asciidoc">edit</a></h1>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>This guide describes how to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Set up Fleet
</li>
<li class="listitem">
Send data to the Elastic Stack using Elastic Agent
</li>
<li class="listitem">
Monitor logs and metrics from systems and services across your organization
</li>
<li class="listitem">
Monitor the availability of your HTTP, TCP, and ICMP services using the Synthetics integration
</li>
<li class="listitem">
Monitor Nginx logs and metrics using the Nginx integration
</li>
</ul>
</div>
<p>For feedback and questions, please contact us in the <a href="https://discuss.elastic.co/" class="ulink" target="_top">discuss forum</a>.</p>
<h3><a id="fleet-prereqs"></a>Prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/7.13/docs/en/ingest-management/getting-started.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Please read <a class="xref" href="fleet-limitations.html" title="Limitations of this release"><em>Limitations of this release</em></a>.
</li>
<li class="listitem">
<p>You need Elasticsearch for storing and searching your data, and Kibana for visualizing and
managing it. You can use our
<a href="/cloud/elasticsearch-service?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">hosted Elasticsearch Service</a>
on Elastic Cloud (recommended), or self-manage the Elastic Stack on your own hardware.</p>
<p>Here&#8217;s what you need for each deployment type:</p>
<div class="tabs" data-tab-group="host">
  <div role="tablist" aria-label="Prerequisites">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-prereqs"
            id="cloud-prereqs">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-prereqs"
            id="self-managed-prereqs"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-prereqs"
       aria-labelledby="cloud-prereqs">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Access to a deployment of our <a href="/cloud/elasticsearch-service?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">hosted Elasticsearch Service</a>
on Elastic Cloud. The Elasticsearch Service is available on AWS, GCP, and Azure. <a href="/cloud/elasticsearch-service/signup?baymax=docs-body&amp;elektra=docs" class="ulink" target="_top">Try it out for free</a>.
This deployment must include an APM &amp; Fleet node.
</li>
<li class="listitem">
User with the superuser role. See <a href="/guide/en/elasticsearch/reference/7.13/built-in-roles.html" class="ulink" target="_top">Built-in roles</a>.
</li>
</ul>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-prereqs"
       aria-labelledby="self-managed-prereqs"
       hidden="">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Access to an Elasticsearch cluster and Kibana (version 7.13) with a basic
license. <a href="/guide/en/elastic-stack-get-started/7.13/get-started-elastic-stack.html" class="ulink" target="_top">Learn how to install the
Elastic Stack on your own hardware</a>.
</li>
<li class="listitem">
Secure, encrypted connection between Kibana and Elasticsearch. For more information,
see <a href="/guide/en/elasticsearch/reference/7.13/configuring-stack-security.html" class="ulink" target="_top">Configure security for the Elastic Stack</a>.
</li>
<li class="listitem">
User with the superuser role. See <a href="/guide/en/elasticsearch/reference/7.13/built-in-roles.html" class="ulink" target="_top">Built-in roles</a>.
</li>
<li class="listitem">
In the Elasticsearch configuration, the
<a href="/guide/en/elasticsearch/reference/7.13/security-settings.html#api-key-service-settings" class="ulink" target="_top">built-in API key
service</a> must be enabled.
(<code class="literal">xpack.security.authc.api_key.enabled: true</code>)
</li>
<li class="listitem">
In the Kibana configuration, the saved objects encryption key
must be set. Fleet requires this setting in order to save API keys and encrypt
them in Kibana. You can either set <code class="literal">xpack.encryptedSavedObjects.encryptionKey</code> to
an alphanumeric value of at least 32 characters, or run the
<a href="/guide/en/kibana/7.13/kibana-encryption-keys.html" class="ulink" target="_top"><code class="literal">kibana-encryption-keys</code> command</a> to
generate the key.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Example security settings</strong></span></p>
<p>For testing purposes, you can use the following settings to get started quickly,
but make sure you properly secure the Elastic Stack before sending real data.</p>
<p>elasticsearch.yml example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">xpack.security.enabled: true
xpack.security.authc.api_key.enabled: true</pre>
</div>
<p>kibana.yml example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">xpack.security.enabled: true
xpack.encryptedSavedObjects.encryptionKey: "something_at_least_32_characters"</pre>
</div>
  </div>
</div>
</li>
</ul>
</div>
<h3><a id="set-up-fleet"></a>Step 1: Set up Fleet<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/7.13/docs/en/ingest-management/getting-started.asciidoc">edit</a></h3>
<p>Use Fleet in Kibana to get logs, metrics, and security data into the Elastic Stack.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Not using Fleet? Advanced users who want to configure and manage
Elastic Agents manually can <a class="xref" href="run-elastic-agent-standalone.html" title="Run Elastic Agent standalone (advanced users)">run agents standalone</a>.</p>
</div>
</div>
<p>The first time you use Fleet, you might need to set it up and add a
Fleet Server:</p>
<div class="tabs" data-tab-group="spin-up-stack">
  <div role="tablist" aria-label="Spin up">
    <button role="tab"
            aria-selected="true"
            aria-controls="cloud-tab-spinup"
            id="cloud-spinup">
      Elasticsearch Service
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="self-managed-tab-spinup"
            id="self-managed-spinup"
            tabindex="-1">
      Self-managed
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="cloud-tab-spinup"
       aria-labelledby="cloud-spinup">
<p>No extra setup is required. Elastic Cloud runs a hosted version of Fleet Server.</p>
<p>To confirm that Fleet Server is available in your deployment:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Log in to Kibana and go to <span class="strong strong"><strong>Management &gt; Fleet</strong></span>.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Agents</strong></span> tab.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Host</strong></span>, confirm that Fleet Server is running and healthy.
</li>
</ol>
</div>
<p>Fleet Server is the agent enrolled in the Elastic Cloud agent policy.
This policy is managed by Elastic Cloud. You cannot modify it.</p>
<p>Don&#8217;t see the Fleet Server agent? Make sure your deployment includes an
APM &amp; Fleet node. This node is required to use Fleet Server.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-fleet-node-on-cloud.png" alt="Edit page showing settings for APM &amp; Fleet node">
</div>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="self-managed-tab-spinup"
       aria-labelledby="self-managed-spinup"
       hidden="">
<p>To deploy Fleet Server on a self-managed cluster, install an Elastic Agent and
enroll it in the default Fleet Server policy. The policy is created
automatically when you run Fleet for the first time.</p>
<p>To add Fleet Server:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Log in to Kibana and go to <span class="strong strong"><strong>Management &gt; Fleet</strong></span>. The first time you visit
this page, it might take a minute to load.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Fleet settings</strong></span>, and in the <span class="strong strong"><strong>Fleet Server hosts</strong></span> field, specify the
URLs Elastic Agents will use to connect to Fleet Server. For example,
<code class="literal">https://192.0.2.1:8220</code>, where <code class="literal">192.0.2.1</code> is the host IP where you will
install Fleet Server.
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Elasticsearch hosts</strong></span> field, specify the Elasticsearch URLs where Elastic Agents will send data.
For example, <code class="literal">https://192.0.2.0:9200</code>.</p>
<p>For more information about these settings, see <a class="xref" href="fleet-settings.html" title="Fleet settings"><em>Fleet settings</em></a>.</p>
</li>
<li class="listitem">
Save and apply the settings.
</li>
<li class="listitem">
<p>Click the <span class="strong strong"><strong>Agents</strong></span> tab and follow the in-product instructions to add a
Fleet server:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-fleet-server.png" alt="In-product instructions for adding a Fleet Server">
</div>
</div>
</li>
</ol>
</div>
<p><span class="strong strong"><strong>Notes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make sure you download an x64 architecture installation package.
</li>
<li class="listitem">
After generating the service token, save it to a secure location. You might
want to use this token later to scale your deployment by adding Fleet Servers.
For other ways to generate service tokens, see
<a href="/guide/en/elasticsearch/reference/7.13/service-tokens-command.html" class="ulink" target="_top"><code class="literal">elasticsearch-service-tokens</code></a>.
</li>
<li class="listitem">
<p>The <code class="literal">install</code> command installs the Elastic Agent as a managed service and enrolls it
in a Fleet Server policy:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">sudo ./elastic-agent install -f --fleet-server-es=http://localhost:9200 \
--fleet-server-service-token=AAEAAWVsYXN0aWMvZmxlZXQtc2VydmVyL3Rva2VuLTE2MTkxMzg3MzIzMTg6dzEta0JDTmZUZGlDTjlwRmNVTjNVQQ</pre>
</div>
<p>For more Fleet Server commands, see <a class="xref" href="elastic-agent-cmd-options.html" title="Command reference"><em>Command reference</em></a>.</p>
<p>If installation is successful, you&#8217;ll see the Fleet Server Elastic Agent on the
<span class="strong strong"><strong>Agents</strong></span> tab in <span class="strong strong"><strong>Fleet</strong></span>. Notice that the Default Fleet Server Policy is
assigned to the Elastic Agent. This policy is created when you run Fleet for the
first time.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/agents-tab-fleet-server.png" alt="Agent tab showing a healthy agent enrolled in the Default Fleet Server policy">
</div>
</div>
</li>
</ul>
</div>
  </div>
</div>
<p>For more information, see <a class="xref" href="fleet-server.html" title="Fleet Server"><em>Fleet Server</em></a>.</p>
<h3><a id="add-agent-to-fleet"></a>Step 2: Add an Elastic Agent to Fleet<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/7.13/docs/en/ingest-management/getting-started.asciidoc">edit</a></h3>
<p>Elastic Agent is a single, unified agent that you can deploy to hosts or containers to
collect data and send it to the Elastic Stack. Behind the scenes, Elastic Agent runs the
Beats shippers or Elastic Endpoint required for your configuration.</p>
<p>To send logs and metrics to the Elastic Stack:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the <span class="strong strong"><strong>Agents</strong></span> tab in Fleet, click <span class="strong strong"><strong>Add agent</strong></span>.
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>Enroll in Fleet</strong></span>, follow the in-product installation steps.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-agent.png" alt="add agent">
</div>
</div>
<p>See the <a href="/downloads/elastic-agent" class="ulink" target="_top">download page</a> for other
installation options.</p>
</li>
</ol>
</div>
<p><span class="strong strong"><strong>Notes:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use the default agent policy to get started quickly. This policy includes a
system integration for collecting logs and metrics from the host system. You
can change the policy later.
</li>
<li class="listitem">
<p>The <code class="literal">install</code> command installs the Elastic Agent as a managed service, enrolls it
in the selected policy, and starts the service. For example:</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">./elastic-agent install -f --url=https://10.0.2.2:8220 \
--enrollment-token=blJqaUdua0JqYXA0bmNscVVjUkE6ZGh4WWNRSHRRek9aSS1paEs2cHdFQQ==</pre>
</div>
</li>
<li class="listitem">
Because Elastic Agent is installed as an auto-starting service, it will restart
automatically if the system is rebooted.
</li>
<li class="listitem">
To see where files are installed, see <a class="xref" href="elastic-agent-installation.html#installation-layout" title="Installation layout">Installation layout</a>.
</li>
</ul>
</div>
<p>If installation is successful, you’ll see the agent on the <span class="strong strong"><strong>Agents</strong></span>
tab in <span class="strong strong"><strong>Fleet</strong></span>. Notice that the Default policy is assigned to the
agent.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-agents.png" alt="Fleet showing enrolled agents">
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If the status hangs at Enrolling, make sure the <code class="literal">elastic-agent</code> process
is running.</p>
</div>
</div>
<p>If you run into problems, see <a class="xref" href="fleet-troubleshooting.html" title="Troubleshoot common problems"><em>Troubleshoot common problems</em></a>.</p>
<h3><a id="view-data"></a>Step 3: Monitor host logs and metrics<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/7.13/docs/en/ingest-management/getting-started.asciidoc">edit</a></h3>
<p>Next, view the data sent by Elastic Agent. Right now, Elastic Agent is only sending data
about the host system because you haven&#8217;t configured the agent to collect data
from other sources yet.</p>
<p>To see host logs and metrics:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In Fleet, click the <span class="strong strong"><strong>Data streams</strong></span> tab.
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Actions</strong></span> column, navigate to the dashboards corresponding
to the data stream. For example, to see host metrics, select one of the system
datasets:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-datastreams.png" alt="Fleet showing data streams list">
</div>
</div>
<p>Then navigate to the [Metrics System] Host overview dashboard:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/host-metrics.png" alt="Host overview dashboard in Kibana">
</div>
</div>
</li>
</ol>
</div>
<h3><a id="add-synthetics-integration"></a>Step 4: Monitor HTTP, TCP, and ICMP services<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/7.13/docs/en/ingest-management/getting-started.asciidoc">edit</a></h3>
<p><span class="Admonishment Admonishment--beta">
[<span class="Admonishment-title u-mono">beta</span>]
<span class="Admonishment-detail">
This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.
</span>
</span> Next, you’ll add the Elastic Synthetics integration, enabling you to monitor the
status and response times of applications and services in real time. You can monitor
the availability of network endpoints via HTTP, TCP, or ICMP.</p>
<p>Add the Elastic Synthetics integration to the default policy used by your agent.
You use policies to manage settings across a group of agents. An agent policy may
contain any number of integrations for collecting observability data from the various
services running on your host.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>In Kibana, go back to <span class="strong strong"><strong>Management &gt; Fleet</strong></span>, and click the <span class="strong strong"><strong>Integrations</strong></span>
tab. Use the search bar to find the Elastic Synthetics integration.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-integrations-synthetics.png" alt="Fleet showing Synthetics integration">
</div>
</div>
</li>
<li class="listitem">
<p>Click the Elastic Synthetics integration to see more details about it, then click
<span class="strong strong"><strong>Add Elastic Synthetics</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-integrations-synthetics-overview.png" alt="Fleet showing Synthetics integration overview">
</div>
</div>
</li>
<li class="listitem">
<p>On the <span class="strong strong"><strong>Add Elastic Synthetics integration</strong></span> page, select the <code class="literal">default policy</code>.</p>
<div class="sidebar">
<div class="titlepage"></div>
<p>In this guide, you add integrations to the default policy created by
Kibana. After you learn the basics, you can create your own policies and assign
them to agents.</p>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-synthetics-integration.png" alt="Fleet Add Synthetics integration page">
</div>
</div>
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>Configure integration</strong></span>, enter the integration name and select <span class="strong strong"><strong>HTTP</strong></span> from the following monitor types:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>HTTP</strong></span></p></td>
<td align="left" valign="top"><p>Connects via HTTP and verifies that the host returns the expected response.</p>
<p>For detailed information
about HTTP options, see our <a href="/guide/en/beats/heartbeat/7.13/monitor-http-options.html" class="ulink" target="_top">Heartbeat</a> documentation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>TCP</strong></span></p></td>
<td align="left" valign="top"><p>Connects via TCP and verifies the endpoint by sending and receiving a custom payload.
By default, the hostname and port are required.</p>
<p>For detailed information about TCP options, see our
<a href="/guide/en/beats/heartbeat/7.13/monitor-tcp-options.html" class="ulink" target="_top">Heartbeat</a> documentation.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>ICMP</strong></span></p></td>
<td align="left" valign="top"><p>Uses an ICMP <code class="literal">v4</code> and <code class="literal">v6</code> Echo Request to ping the configured hosts. By default,
the host name is required.</p>
<p>For detailed information about ICMP options, see our
<a href="/guide/en/beats/heartbeat/7.13/monitor-icmp-options.html" class="ulink" target="_top">Heartbeat</a> documentation.</p></td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="listitem">
Enter the URL you want to monitor for availability and select a monitor interval in seconds or minutes. By default, a monitoring
schedule of every 3 minutes is selected.
</li>
<li class="listitem">
The <span class="strong strong"><strong>HTTP</strong></span> and <span class="strong strong"><strong>TCP</strong></span> monitor types both support TLS. Under <span class="strong strong"><strong>TLS settings</strong></span>, select <span class="strong strong"><strong>Enable
TLS configuration</strong></span>. Click the down arrow next to advanced HTTP or TCP options, and then
enter your required settings.
</li>
<li class="listitem">
When you&#8217;re done, click <span class="strong strong"><strong>Save integration</strong></span> to deploy the changes.
</li>
<li class="listitem">
<p>To see the updated policy, click the <span class="strong strong"><strong>Policies</strong></span> tab, then click the
<span class="strong strong"><strong>Default policy</strong></span> link.</p>
<p>The newly added Elastic Synthetics integration should appear under <span class="strong strong"><strong>Integrations</strong></span> in the
default policy, along with the <code class="literal">system-1</code> integration.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-policies-default-with-synthetics.png" alt="Fleet showing default agent policy with synthetics-1 datasource">
</div>
</div>
<p>All Elastic Agents that use this policy will collect logs, metrics, and uptime data from the host.</p>
</li>
<li class="listitem">
To view the data in the <a href="/guide/en/observability/7.13/view-monitor-status.html" class="ulink" target="_top">Uptime app</a>, go to
<span class="strong strong"><strong>Observability &gt; Uptime</strong></span>.
</li>
</ol>
</div>
<h3><a id="add-nginx-integration"></a>Step 5: Monitor Nginx logs and metrics<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/7.13/docs/en/ingest-management/getting-started.asciidoc">edit</a></h3>
<p>Next, you&#8217;ll browse a catalog of integrations, then add an Nginx integration to
the default policy used by your agent.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>For these steps, we assume that you have <code class="literal">nginx</code> running on some of your
infrastructure, and want to collect logs and metrics from it.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>In Kibana, go back to <span class="strong strong"><strong>Management &gt; Fleet</strong></span>, and click the <span class="strong strong"><strong>Integrations</strong></span>
tab. Use the search bar to find the Nginx integration.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-integrations-nginx.png" alt="Fleet showing Nginx integration">
</div>
</div>
</li>
<li class="listitem">
<p>Click the Nginx integration to see more details about it, then click
<span class="strong strong"><strong>Add Nginx</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-integrations-nginx-overview.png" alt="Fleet showing Nginx integration overview">
</div>
</div>
</li>
<li class="listitem">
<p>On the <span class="strong strong"><strong>Add Nginx integration</strong></span> page, select the default policy.</p>
<p>In this guide, you add integrations to the default policy created by
Kibana. After you learn the basics, you can create your own policies and assign
them to agents.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-integration.png" alt="Fleet Add Nginx integration page">
</div>
</div>
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Configure integration</strong></span>, click the down arrow next to enabled streams
and make sure the <span class="strong strong"><strong>Paths</strong></span> are correct for your host. Inspect or change other
settings
</li>
<li class="listitem">
When you&#8217;re done, save and deploy the changes.
</li>
<li class="listitem">
<p>To see the updated policy, click the <span class="strong strong"><strong>Policies</strong></span> tab, then click the
<span class="strong strong"><strong>Default policy</strong></span> link.</p>
<p>The newly added Nginx integration should appear under <span class="strong strong"><strong>Integrations</strong></span> in the
default policy, along with the <code class="literal">system-1</code> and <code class="literal">synthetics-1</code> integrations.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/kibana-fleet-policies-default-with-nginx.png" alt="Fleet showing default agent policy with nginx-1 datasource">
</div>
</div>
<p>All Elastic Agents that use this policy will collect logs and metrics from the
Nginx server and the host, along with uptime data.</p>
</li>
<li class="listitem">
To view the data, click the <span class="strong strong"><strong>Data streams</strong></span> tab.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Actions</strong></span> column, navigate to the dashboards corresponding
to the data stream.
</li>
</ol>
</div>
<h3><a id="_whats_next"></a>What&#8217;s next?<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/7.13/docs/en/ingest-management/getting-started.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Now that data is streaming into the Elastic Stack, take your investigation to a
deeper level! Use <a href="/observability" class="ulink" target="_top">Elastic Observability</a>
to unify your logs, metrics, uptime, and application performance data.
</li>
<li class="listitem">
Want to protect your endpoints from security threats? Try
<a href="/security" class="ulink" target="_top">Elastic Security</a>. Adding endpoint protection is
just another integration that you add to the agent policy!
</li>
<li class="listitem">
Are your eyes bleary from staring at a wall of screens?
<a href="/guide/en/observability/7.13/create-alerts.html" class="ulink" target="_top">Create alerts</a> and find out about
problems while sipping your favorite beverage poolside.
</li>
<li class="listitem">
Want Elastic to do the heavy lifting? Use machine learning to
<a href="/guide/en/observability/7.13/inspect-log-anomalies.html" class="ulink" target="_top">detect anomalies</a>.
</li>
<li class="listitem">
Got everything working like you want it? Roll out your agent policies to
other hosts by deploying Elastic Agents across your infrastructure!
</li>
</ul>
</div>
<style>
.tabs {
  width: 100%;
}
[role="tablist"] {
  margin: 0 0 -0.1em;
  overflow: visible;
}
[role="tab"] {
  position: relative;
  padding: 0.3em 0.5em 0.4em;
  border: 1px solid hsl(219, 1%, 72%);
  border-radius: 0.2em 0.2em 0 0;
  overflow: visible;
  font-family: inherit;
  font-size: inherit;
  background: hsl(220, 20%, 94%);
}
[role="tab"]:hover::before,
[role="tab"]:focus::before,
[role="tab"][aria-selected="true"]::before {
  position: absolute;
  bottom: 100%;
  right: -1px;
  left: -1px;
  border-radius: 0.2em 0.2em 0 0;
  border-top: 3px solid hsl(219, 1%, 72%);
  content: '';
}
[role="tab"][aria-selected="true"] {
  border-radius: 0;
  background: hsl(220, 43%, 99%);
  outline: 0;
}
[role="tab"][aria-selected="true"]:not(:focus):not(:hover)::before {
  border-top: 5px solid hsl(218, 96%, 48%);
}
[role="tab"][aria-selected="true"]::after {
  position: absolute;
  z-index: 3;
  bottom: -1px;
  right: 0;
  left: 0;
  height: 0.3em;
  background: hsl(220, 43%, 99%);
  box-shadow: none;
  content: '';
}
[role="tab"]:hover,
[role="tab"]:focus,
[role="tab"]:active {
  outline: 0;
  border-radius: 0;
  color: inherit;
}
[role="tab"]:hover::before,
[role="tab"]:focus::before {
  border-color: hsl(218, 96%, 48%);
}
[role="tabpanel"] {
  position: relative;
  z-index: 2;
  padding: 1em;
  border: 1px solid hsl(219, 1%, 72%);
  border-radius: 0 0.2em 0.2em 0.2em;
  box-shadow: 0 0 0.2em hsl(219, 1%, 72%);
  background: hsl(220, 43%, 99%);
  margin-bottom: 1em;
}
[role="tabpanel"] p {
  margin: 0;
}
[role="tabpanel"] * + p {
  margin-top: 1em;
}
</style>

<script>
window.addEventListener("DOMContentLoaded", () => {
  const tabs = document.querySelectorAll('[role="tab"]');
  const tabList = document.querySelector('[role="tablist"]');
  // Add a click event handler to each tab
  tabs.forEach(tab => {
    tab.addEventListener("click", changeTabs);
  });
  // Enable arrow navigation between tabs in the tab list
  let tabFocus = 0;
  tabList.addEventListener("keydown", e => {
    // Move right
    if (e.keyCode === 39 || e.keyCode === 37) {
      tabs[tabFocus].setAttribute("tabindex", -1);
      if (e.keyCode === 39) {
        tabFocus++;
        // If we're at the end, go to the start
        if (tabFocus >= tabs.length) {
          tabFocus = 0;
        }
        // Move left
      } else if (e.keyCode === 37) {
        tabFocus--;
        // If we're at the start, move to the end
        if (tabFocus < 0) {
          tabFocus = tabs.length - 1;
        }
      }
      tabs[tabFocus].setAttribute("tabindex", 0);
      tabs[tabFocus].focus();
    }
  });
});

function setActiveTab(target) {
  const parent = target.parentNode;
  const grandparent = parent.parentNode;
  // console.log(grandparent);
  // Remove all current selected tabs
  parent
    .querySelectorAll('[aria-selected="true"]')
    .forEach(t => t.setAttribute("aria-selected", false));
  // Set this tab as selected
  target.setAttribute("aria-selected", true);
  // Hide all tab panels
  grandparent
    .querySelectorAll('[role="tabpanel"]')
    .forEach(p => p.setAttribute("hidden", true));
  // Show the selected panel
  grandparent.parentNode
    .querySelector(`#${target.getAttribute("aria-controls")}`)
    .removeAttribute("hidden");
}

function changeTabs(e) {
  // get the containing list of the tab that was just clicked
  const tabList = e.target.parentNode;

  // get all of the sibling tabs
  const buttons = Array.apply(null, tabList.querySelectorAll('button'));

  // loop over the siblings to discover which index thje clicked one was
  const { index } = buttons.reduce(({ found, index }, button) => {
    if (!found && buttons[index] === e.target) {
      return { found: true, index };
    } else if (!found) {
      return { found, index: index + 1 };
    } else {
      return { found, index };
    }
  }, { found: false, index: 0 });

  // get the tab container
  const container = tabList.parentNode;
  // read the data-tab-group value from the container, e.g. "os"
  const { tabGroup } = container.dataset;
  // get a list of all the tab groups that match this value on the page
  const groups = document.querySelectorAll('[data-tab-group=' + tabGroup + ']');

  // for each of the found tab groups, find the tab button at the previously discovered index and select it for each group
  groups.forEach((group) => {
    const target = group.querySelectorAll('button')[index];
    setActiveTab(target);
  });
}
</script>
</div>
<div class="navfooter">
<span class="prev">
<a href="fleet-limitations.html">« Limitations of this release</a>
</span>
<span class="next">
<a href="fleet-quick-start-traces.html">Quick start: Get application traces into the Elastic Stack »</a>
</span>
</div>
</div>
</body>
</html>
