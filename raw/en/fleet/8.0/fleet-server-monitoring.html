<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Monitor a self-managed Fleet Server | Fleet and Elastic Agent Guide [8.0] | Elastic</title>
<meta class="elastic" name="content" content="Monitor a self-managed Fleet Server | Fleet and Elastic Agent Guide [8.0]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [8.0]"/>
<link rel="up" href="fleet-server.html" title="Fleet Server"/>
<link rel="prev" href="fleet-server-scalability.html" title="Fleet Server scalability"/>
<link rel="next" href="manage-agents.html" title="Elastic Agents"/>
<meta class="elastic" name="product_version" content="8.0"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/8.0"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="8.0"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [8.0]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="manage-agents-in-fleet.html">Centrally manage Elastic Agents in Fleet</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="fleet-server.html">Fleet Server</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="fleet-server-scalability.html">« Fleet Server scalability</a>
</span>
<span class="next">
<a href="manage-agents.html">Elastic Agents »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="fleet-server-monitoring"></a>Monitor a self-managed Fleet Server<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.0/docs/en/ingest-management/fleet/fleet-server-monitoring.asciidoc">edit</a></h3>
</div></div></div>
<p>For self-managed Fleet Servers, monitoring is key because the operation of the
Fleet Server is paramount to the health of the deployed agents and the
services they offer. When Fleet Server is not operating correctly, it may lead
to delayed check-ins, status information, and updates for the agents it manages.
The monitoring data will tell you when to add capacity for Fleet Server, and
provide error logs and information to troubleshoot other issues.</p>
<p>For self-managed clusters, monitoring is on by default when you create a
new agent policy or use the existing Default Fleet Server agent policy.</p>
<p>To monitor Fleet Server:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In Fleet, go to <span class="strong strong"><strong>Agent Policies</strong></span> and click the Fleet Server agent policy.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Settings</strong></span> tab and verify that <span class="strong strong"><strong>Collect agent logs</strong></span> and
<span class="strong strong"><strong>Collect agent metrics</strong></span> are selected.
</li>
<li class="listitem">
<p>Next, set the <span class="strong strong"><strong>Default namespace</strong></span> to something like <code class="literal">fleetserver</code>.</p>
<p>Setting the default namespace lets you segregate Fleet Server monitoring data
from other collected data. This makes it easier to search and visualize the
monitoring data.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/fleet-server-agent-policy-page.png" alt="Fleet Server agent policy">
</div>
</div>
</li>
<li class="listitem">
To confirm your change, click <span class="strong strong"><strong>Save changes</strong></span>.
</li>
</ol>
</div>
<p>To see the metrics collected for the agent running Fleet Server, go to
<span class="strong strong"><strong>Analytics &gt; Discover</strong></span>.</p>
<p>In the following example, <code class="literal">fleetserver</code> was configured as the namespace, and
you can see the metrics collected:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/dashboard-with-namespace-showing.png" alt="Namespace">
</div>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/datastream-namespace.png" alt="Datastream">
</div>
</div>
<p>In Kibana, go to <span class="strong strong"><strong>Analytics &gt; Dashboard</strong></span> and search for the predefined dashboard
called <span class="strong strong"><strong>[Elastic Agent] Agent metrics</strong></span>. Choose this dashboard, and run a query
based on the <code class="literal">fleetserver</code> namespace.</p>
<p>The following dashboard shows data for the query <code class="literal">data_stream.namespace:
"fleetserver"</code>. In this example, you can observe CPU and memory usage as a
metric and then resize the Fleet Server, if necessary.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/dashboard-datastream.png" alt="Dashboard Datastream">
</div>
</div>
<p>Note that as an alternative to running the query, you can hide all metrics
except <code class="literal">fleet_server</code> in the dashboard.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="fleet-server-scalability.html">« Fleet Server scalability</a>
</span>
<span class="next">
<a href="manage-agents.html">Elastic Agents »</a>
</span>
</div>
</div>
</body>
</html>
