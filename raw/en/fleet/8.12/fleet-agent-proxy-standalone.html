<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Standalone Elastic Agent connectivity using a proxy server | Fleet and Elastic Agent Guide [8.12] | Elastic</title>
<meta class="elastic" name="content" content="Standalone Elastic Agent connectivity using a proxy server | Fleet and Elastic Agent Guide [8.12]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [8.12]"/>
<link rel="up" href="fleet-agent-proxy-support.html" title="Using a proxy server with Elastic Agent and Fleet"/>
<link rel="prev" href="fleet-agent-proxy-managed.html" title="Fleet managed Elastic Agent connectivity using a proxy server"/>
<link rel="next" href="epr-proxy-setting.html" title="Set the proxy URL of the Elastic Package Registry"/>
<meta class="elastic" name="product_version" content="8.12"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/8.12"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="8.12"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="fleet-agent-proxy-managed.html">« Fleet managed Elastic Agent connectivity using a proxy server</a>
</span>
<span class="next">
<a href="epr-proxy-setting.html">Set the proxy URL of the Elastic Package Registry »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [8.12]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elastic-agent-installation.html">Install Elastic Agents</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="fleet-agent-proxy-support.html">Using a proxy server with Elastic Agent and Fleet</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Standalone Elastic Agent connectivity using a proxy server</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.12/docs/en/ingest-management/fleet-agent-proxy-standalone.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="fleet-agent-proxy-standalone"></a>Standalone Elastic Agent connectivity using a proxy server</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.12/docs/en/ingest-management/fleet-agent-proxy-standalone.asciidoc">edit</a></div>
</div></div></div>
<p>Proxy settings in the Elastic Agent policy override proxy settings specified by
environment variables. This means you can specify proxy settings for Elastic Agent
that are different from host or system-level environment settings.</p>
<p>The following proxy settings are valid in the agent policy:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Setting</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">proxy_url</code></p></td>
<td align="left" valign="top"><p>(string) URL of the proxy server. If set, the configured URL is used as a
proxy for all connection attempts by the component. The value may be either a
complete URL or a <code class="literal">host[:port]</code>, in which case the <code class="literal">http</code> scheme is assumed. If
a value is not specified through the configuration, then proxy environment
variables are used. The URL accepts optional <code class="literal">username</code> and <code class="literal">password</code> settings
for authenticating with the proxy. For example:
<code class="literal">http://&lt;username&gt;:&lt;password&gt;@&lt;proxy host&gt;/</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">proxy_headers</code></p></td>
<td align="left" valign="top"><p>(string) Additional headers to send to the proxy during CONNECT requests. You
can use this setting to pass keys/tokens required for authenticating with the
proxy.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">proxy_disable</code></p></td>
<td align="left" valign="top"><p>(boolean) If set to <code class="literal">true</code>, all proxy settings, including the <code class="literal">HTTP_PROXY</code> and
<code class="literal">HTTPS_PROXY</code> environment variables, are ignored.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="position-relative"><h6><a id="_set_the_proxy_for_communicating_with_elasticsearch"></a>Set the proxy for communicating with Elasticsearch</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.12/docs/en/ingest-management/fleet-agent-proxy-standalone.asciidoc">edit</a></div>
<p>For standalone agents, to set the proxy for communicating with Elasticsearch, specify proxy settings in the <code class="literal">elastic-agent.yml</code> file. For example:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">outputs:
  default:
    api_key: API-KEY
    hosts:
    - https://10.0.1.2:9200
    proxy_url: http://10.0.1.7:3128
    type: elasticsearch</pre>
</div>
<p>For more information, refer to <a class="xref" href="elastic-agent-configuration.html" title="Configure standalone Elastic Agents"><em>Configure standalone Elastic Agents</em></a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="fleet-agent-proxy-managed.html">« Fleet managed Elastic Agent connectivity using a proxy server</a>
</span>
<span class="next">
<a href="epr-proxy-setting.html">Set the proxy URL of the Elastic Package Registry »</a>
</span>
</div>
</body>
</html>
