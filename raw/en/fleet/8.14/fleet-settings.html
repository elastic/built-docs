<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Fleet settings | Fleet and Elastic Agent Guide [8.14] | Elastic</title>
<meta class="elastic" name="content" content="Fleet settings | Fleet and Elastic Agent Guide [8.14]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [8.14]"/>
<link rel="up" href="manage-agents-in-fleet.html" title="Centrally manage Elastic Agents in Fleet"/>
<link rel="prev" href="manage-agents-in-fleet.html" title="Centrally manage Elastic Agents in Fleet"/>
<link rel="next" href="es-output-settings.html" title="Elasticsearch output settings"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/8.14"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="8.14"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="manage-agents-in-fleet.html">« Centrally manage Elastic Agents in Fleet</a>
</span>
<span class="next">
<a href="es-output-settings.html">Elasticsearch output settings »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [8.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="manage-agents-in-fleet.html">Centrally manage Elastic Agents in Fleet</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Fleet settings</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.14/docs/en/ingest-management/fleet/fleet-settings.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="fleet-settings"></a>Fleet settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.14/docs/en/ingest-management/fleet/fleet-settings.asciidoc">edit</a></h2>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The settings described here are configurable through the Fleet UI. Refer to
<a href="/guide/en/kibana/8.14/fleet-settings-kb.html" class="ulink" target="_top">Fleet settings in Kibana</a> for a list of
settings that you can configure in the <code class="literal">kibana.yml</code> configuration file.</p>
</div>
</div>
<p>On the <span class="strong strong"><strong>Settings</strong></span> tab in <span class="strong strong"><strong>Fleet</strong></span>, you can configure global settings available
to all Elastic Agents enrolled in Fleet. This includes Fleet Server hosts and
output settings.</p>
<h4><a id="fleet-server-hosts-setting"></a>Fleet Server host settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.14/docs/en/ingest-management/fleet/fleet-settings.asciidoc">edit</a></h4>
<p>Click <span class="strong strong"><strong>Edit hosts</strong></span> and specify the host URLs your Elastic Agents will use to connect
to a Fleet Server.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If the <span class="strong strong"><strong>Edit hosts</strong></span> option is grayed out, Fleet Server hosts
are configured outside of Fleet. For more information, refer to
<a href="/guide/en/kibana/8.14/fleet-settings-kb.html" class="ulink" target="_top">Fleet settings in Kibana</a>.</p>
</div>
</div>
<p>Not sure if Fleet Server is running? Refer to <a class="xref" href="fleet-server.html" title="What is Fleet Server?">What is Fleet Server?</a>.</p>
<p>On self-managed clusters, you must specify one or more URLs.</p>
<p>On Elastic Cloud, this field is populated automatically. If you are using
Azure Private Link, GCP Private Service Connect, or AWS PrivateLink and
enrolling the Elastic Agent with a private link URL, ensure that this setting is
configured. Otherwise, Elastic Agent will reset to use a default address instead of
the private link URL.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If a URL is specified without a port, Kibana sets the port to <code class="literal">80</code> (http)
or <code class="literal">443</code> (https).</p>
</div>
</div>
<p>By default, Fleet Server is typically exposed on the following ports:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">8220</code>
</span>
</dt>
<dd>
Default Fleet Server port for self-managed clusters
</dd>
<dt>
<span class="term">
<code class="literal">443</code> or <code class="literal">9243</code>
</span>
</dt>
<dd>
Default Fleet Server port for Elastic Cloud. View the Fleet <span class="strong strong"><strong>Settings</strong></span> tab
to find the actual port that&#8217;s used.
</dd>
</dl>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The exposed ports must be open for ingress and egress in the firewall and
networking rules on the host to allow Elastic Agents to communicate with Fleet Server.</p>
</div>
</div>
<p>Specify multiple URLs (click <span class="strong strong"><strong>Add row</strong></span>) to scale out your deployment and provide
automatic failover. If multiple URLs exist, Fleet shows the first provided URL
for enrollment purposes. Enrolled Elastic Agents will connect to the URLs in round
robin order until they connect successfully.</p>
<p>When a Fleet Server is added or removed from the list, all agent policies
are updated automatically.</p>
<p><span class="strong strong"><strong>Examples:</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">https://192.0.2.1:8220</code>
</li>
<li class="listitem">
<code class="literal">https://abae718c1276457893b1096929e0f557.fleet.eu-west-1.aws.qa.cld.elstc.co:443</code>
</li>
<li class="listitem">
<code class="literal">https://[2001:db8::1]:8220</code>
</li>
</ul>
</div>
<h4><a id="output-settings"></a>Output settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.14/docs/en/ingest-management/fleet/fleet-settings.asciidoc">edit</a></h4>
<p>Add or edit output settings to specify where Elastic Agents send data. Elastic Agents
use the default output if you don&#8217;t select an output in the agent policy.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The Elastic Cloud internal output is locked and cannot be edited. This
output is used for internal routing to reduce external network charges when
using the Elastic Cloud agent policy. It also provides visibility for
troubleshooting on Elastic Cloud Enterprise.</p>
</div>
</div>
<p>To add or edit an output:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to <span class="strong strong"><strong>Fleet &#8594; Settings</strong></span>.
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>Outputs</strong></span>, click <span class="strong strong"><strong>Add output</strong></span> or <span class="strong strong"><strong>Edit</strong></span>.</p>
<div class="imageblock">
<div class="content">
<img src="images/fleet-add-output-button.png" alt="Fleet Add output button">
</div>
</div>
<p>The <span class="strong strong"><strong>Add new output</strong></span> UI opens.</p>
</li>
<li class="listitem">
Set the output name and type.
</li>
<li class="listitem">
<p>Specify settings for the output type you selected:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="es-output-settings.html" title="Elasticsearch output settings">Elasticsearch output settings</a>
</li>
<li class="listitem">
<a class="xref" href="ls-output-settings.html" title="Logstash output settings">Logstash output settings</a>
</li>
<li class="listitem">
<a class="xref" href="kafka-output-settings.html" title="Kafka output settings">Kafka output settings</a>
</li>
<li class="listitem">
<a class="xref" href="remote-elasticsearch-output.html" title="Remote Elasticsearch output">Remote Elasticsearch output</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and apply settings</strong></span>.
</li>
</ol>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If the options for editing an output are grayed out, outputs
are configured outside of Fleet. For more information, refer to
<a href="/guide/en/kibana/8.14/fleet-settings-kb.html" class="ulink" target="_top">Fleet settings in Kibana</a>.</p>
</div>
</div>
<h4><a id="fleet-agent-binary-download-settings"></a>Agent binary download settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.14/docs/en/ingest-management/fleet/fleet-settings.asciidoc">edit</a></h4>
<p>Elastic Agents must be able to access the Elastic Artifact Registry to download
binaries during upgrades. By default Elastic Agents download artifacts from the
artifact registry at <code class="literal">https://artifacts.elastic.co/downloads/</code>.</p>
<p>For Elastic Agents that cannot access the internet, you can specify agent binary
download settings, and then configure agents to download their artifacts from
the alternate location. For more information about running Elastic Agents in a
restricted environment, refer to <a class="xref" href="air-gapped.html" title="Air-gapped environments">Air-gapped environments</a>.</p>
<p>To add or edit the source of binary downloads:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to <span class="strong strong"><strong>Fleet &#8594; Settings</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Agent Binary Download</strong></span>, click <span class="strong strong"><strong>Add agent binary source</strong></span> or <span class="strong strong"><strong>Edit</strong></span>.
</li>
<li class="listitem">
Set the agent binary source name.
</li>
<li class="listitem">
For <span class="strong strong"><strong>Host</strong></span>, specify the address where you are hosting the artifacts
repository.
</li>
<li class="listitem">
(Optional) To make this location the default, select
<span class="strong strong"><strong>Make this host the default for all agent policies</strong></span>. Elastic Agents
use the default location if you don&#8217;t select a different agent binary source
in the agent policy.
</li>
</ol>
</div>
<h4><a id="fleet-agent-hostname-format-settings"></a>Host name format settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.14/docs/en/ingest-management/fleet/fleet-settings.asciidoc">edit</a></h4>
<p>These settings control the format of information provided about the current host through the <a class="xref" href="host-provider.html" title="Host provider">host.name</a> key, in events produced by Elastic Agent.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top">
<p><a id="ls-hostname"></a><span class="strong strong"><strong>Hostname</strong></span></p>
</td>
<td align="left" valign="top">
<p>When this setting is selected, information about the current host is in a non-fully-qualified format (<code class="literal">somehost</code>, rather than <code class="literal">somehost.example.com</code>). This is the default reporting format.</p>
</td>
</tr>
<tr>
<td align="left" valign="top">
<p><a id="ls-hostname-fqdn"></a><span class="strong strong"><strong>Fully Qualified Domain Name (FQDN)</strong></span></p>
</td>
<td align="left" valign="top">
<p>When this setting is selected, information about the current host is in FQDN format (<code class="literal">somehost.example.com</code> rather than <code class="literal">somehost</code>). This helps you to distinguish between hosts on different domains that have similar names. The fully qualified hostname allows each host to be more easily identified when viewed in Kibana, for example.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>FQDN reporting is not currently supported in APM.</p>
</div>
</div>
<p>For FQDN reporting to work as expected, the hostname of the current host must either:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Have a CNAME entry defined in DNS.
</li>
<li class="listitem">
Have one of its corresponding IP addresses respond successfully to a reverse DNS lookup.
</li>
</ul>
</div>
<p>If neither pre-requisite is satisfied, <code class="literal">host.name</code> continues to report the hostname of the current host in a non-fully-qualified format.</p>
</td>
</tr>
</tbody>
</table>
</div>





</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="manage-agents-in-fleet.html">« Centrally manage Elastic Agents in Fleet</a>
</span>
<span class="next">
<a href="es-output-settings.html">Elasticsearch output settings »</a>
</span>
</div>
</body>
</html>
