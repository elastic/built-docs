<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Package signatures | Fleet and Elastic Agent Guide [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Package signatures | Fleet and Elastic Agent Guide [8.15]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [8.15]"/>
<link rel="up" href="integrations.html" title="Manage Elastic Agent integrations"/>
<link rel="prev" href="integrations.html" title="Manage Elastic Agent integrations"/>
<link rel="next" href="add-integration-to-policy.html" title="Add an Elastic Agent integration to a policy"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/8.15"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="8.15"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="integrations.html">« Manage Elastic Agent integrations</a>
</span>
<span class="next">
<a href="add-integration-to-policy.html">Add an Elastic Agent integration to a policy »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="integrations.html">Manage Elastic Agent integrations</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Package signatures</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/8.15/docs/en/ingest-management/integrations/package-signatures.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="package-signatures"></a>Package signatures<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/8.15/docs/en/ingest-management/integrations/package-signatures.asciidoc">edit</a></h2>
</div></div></div>
<p>All integration packages published by Elastic have package signatures that
prevent malicious attackers from tampering with package content. When you
install an Elastic integration, Kibana downloads the package and verifies the
package signature against a public key. If the package is unverified, you can
choose to force install it. However, it&#8217;s strongly recommended that you avoid
installing unverified packages.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>By installing an unverified package, you acknowledge that you
assume any risk involved.</p>
</div>
</div>
<p>To force installation of an unverified package:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When using the Integrations UI, you&#8217;ll be prompted to confirm that you want
to install the unverified integration. Click <span class="strong strong"><strong>Install anyway</strong></span> to force
installation.
</li>
<li class="listitem">
When using the Fleet API, if you attempt to install an unverified package,
you&#8217;ll see a 400 response code with a verification failed message. To force
installation, set the URL parameter <code class="literal">ignoreUnverified=true</code>. For more
information, refer to <a class="xref" href="fleet-api-docs.html" title="Kibana Fleet APIs">Kibana Fleet APIs</a>.
</li>
</ul>
</div>
<p>After installation, unverified Integrations are flagged on the
<span class="strong strong"><strong>Installed integrations</strong></span> tab of the Integrations UI.</p>
<h4><a id="why-verify-packages"></a>Why is package verification necessary?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/8.15/docs/en/ingest-management/integrations/package-signatures.asciidoc">edit</a></h4>
<p>Integration packages contain instructions, such as ILM policies, transforms, and
mappings, that can significantly modify the structure of your Elasticsearch indices.
Relying solely on HTTPS DNS name validation to prove provenance of the package
is not a safe practice. A determined attacker could forge a certificate and
serve up packages intended to disrupt the target.</p>
<p>Installing verified packages ensures that your integration software has not been
corrupted or otherwise tampered with.</p>
<h4><a id="what-does-unverified-mean"></a>What does it mean for a package to be unverified?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/8.15/docs/en/ingest-management/integrations/package-signatures.asciidoc">edit</a></h4>
<p>Here are some situations where an integration package will fail verification
during installation:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The package zip file on the Elastic server has been tampered with.
</li>
<li class="listitem">
The user has been maliciously redirected to a fake Elastic package registry.
</li>
<li class="listitem">
The public Elastic key has been compromised, and Elastic has signed packages
with an updated key.
</li>
</ul>
</div>
<p>Here are some reasons why an integration might be flagged as unverified after
installation:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The integration package failed verification, but was force installed.
</li>
<li class="listitem">
The integration package was installed before Fleet added support for package
signature verification.
</li>
</ul>
</div>
<h4><a id="what-if-key-changes"></a>What if the Elastic key changes in the future?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/8.15/docs/en/ingest-management/integrations/package-signatures.asciidoc">edit</a></h4>
<p>In the unlikely event that the Elastic signing key changes in the future, any
verified integration packages will continue to show as verified until new
packages are installed or existing ones are upgraded. If this happens, you can
set the <code class="literal">xpack.fleet.packageVerification.gpgKeyPath</code> setting in the <code class="literal">kibana.yml</code>
configuration file to use the new key.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="integrations.html">« Manage Elastic Agent integrations</a>
</span>
<span class="next">
<a href="add-integration-to-policy.html">Add an Elastic Agent integration to a policy »</a>
</span>
</div>
</body>
</html>
