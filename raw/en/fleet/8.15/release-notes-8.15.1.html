<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Fleet and Elastic Agent 8.15.1 | Fleet and Elastic Agent Guide [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Fleet and Elastic Agent 8.15.1 | Fleet and Elastic Agent Guide [8.15]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [8.15]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.15.2.html" title="Fleet and Elastic Agent 8.15.2"/>
<link rel="next" href="release-notes-8.15.0.html" title="Fleet and Elastic Agent 8.15.0"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/8.15"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="8.15"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.15.2.html">« Fleet and Elastic Agent 8.15.2</a>
</span>
<span class="next">
<a href="release-notes-8.15.0.html">Fleet and Elastic Agent 8.15.0 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Fleet and Elastic Agent 8.15.1</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/8.15/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-notes-8.15.1"></a>Fleet and Elastic Agent 8.15.1</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/8.15/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
</div></div></div>
<p>Review important information about the Fleet and Elastic Agent 8.15.1 release.</p>
<div class="position-relative"><h4><a id="bug-fixes-8.15.1"></a>Bug fixes</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/8.15/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove duplicative retries from client-side requests to APIs that depend on EPR (<a href="https://github.com/elastic/kibana/pull/190722" class="ulink" target="_top">#190722</a>).
</li>
<li class="listitem">
Add mappings for properties of nested objects that were previously omitted (<a href="https://github.com/elastic/kibana/pull/191730" class="ulink" target="_top">#191730</a>).
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix the Debian packaging to properly copy the <code class="literal">state.enc</code> and <code class="literal">state.yml</code> files to the new version of the Elastic Agent. <a href="https://github.com/elastic/elastic-agent/pull/5260" class="ulink" target="_top">#5260</a> <a href="https://github.com/elastic/elastic-agent/issues/5101" class="ulink" target="_top">#5101</a>
</li>
<li class="listitem">
Switch from wall clock to montonic clocks for component check-in calculation. <a href="https://github.com/elastic/elastic-agent/pull/5284" class="ulink" target="_top">#5284</a> <a href="https://github.com/elastic/elastic-agent/issues/5277" class="ulink" target="_top">#5277</a>
</li>
<li class="listitem">
For a failed installation, return a <code class="literal">nil</code> error instead of <code class="literal">syscall.Errno(0)</code> which indicates a successful operation on Windows. <a href="https://github.com/elastic/elastic-agent/pull/5317" class="ulink" target="_top">#5317</a> <a href="https://github.com/elastic/elastic-agent/issues/4496" class="ulink" target="_top">#4496</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h4><a id="known-issues-8.15.1"></a>Known issues</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/8.15/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
<details id="known-issue-issue-40705">
<summary class="title">Beats based integrations stop publishing data after a network error unless restarted.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span></p>
<p>A bugfix merged for 8.15.1 can cause repeated <code class="literal">Get \"https://${ELASTICSEARCH_HOST}:443\": context canceled</code> errors
after a transient network error (for example DNS failure) that prevent Elastic Agent integrations based on Beats from publishing data.
Elastic Agent must be restarted for publishing to continue.</p>
<p>See Beats issue <a href="https://github.com/elastic/beats/issues/40705" class="ulink" target="_top">#40705</a> for details.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br></p>
<p>Avoid upgrading to 8.15.1.</p>
</div>
</details>
<details id="known-issue-issue-191730">
<summary class="title">Fleet configures additional properties in some nested objects in index templates of integrations.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span></p>
<p>A bugfix intended to be released in 8.16.0 was also included in 8.15.1. It fixes
an actual issue where some mappings were not being generated, but this also
includes additional mappings when installing some integrations in 8.15.1 that
were not included when using 8.15.0.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br></p>
<p>Users may notice that some index templates include additional mappings for the
same package versions.</p>
</div>
</details>
<details id="known-issue-issue-41355-8.15.1">
<summary class="title">The memory usage of Beats based integrations is not correctly limited by the number of events actively in the memory queue, but rather the maximum size of the memory queue regardless of usage.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span></p>
<p>In 8.15, events in the memory queue are not freed when they are acknowledged (as intended), but only when they are overwritten by later events in the queue buffer. This means for example if a configuration has a queue size of 5000, but the input data is low-volume and only 100 events are active at once, then the queue will gradually store more events until reaching 5000 in memory at once, then start replacing those with new events.</p>
<p>See Beats issue <a href="https://github.com/elastic/beats/issues/40705" class="ulink" target="_top">#40705</a>.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br></p>
<p>Memory usage may be higher than in previous releases depending on the throughput of Elastic Agent. A fix is planned for 8.15.4.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The worst memory increase is for low-throughput configs with large queues.
</li>
<li class="listitem">
For users whose queues were already sized proportionate to their throughput, memory use is increased but only marginally.
</li>
<li class="listitem">
Affected users can mitigate the higher memory usage by lowering their queue size.
</li>
</ul>
</div>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-8.15.2.html">« Fleet and Elastic Agent 8.15.2</a>
</span>
<span class="next">
<a href="release-notes-8.15.0.html">Fleet and Elastic Agent 8.15.0 »</a>
</span>
</div>
</body>
</html>
