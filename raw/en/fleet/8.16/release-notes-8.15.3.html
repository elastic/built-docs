<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Fleet and Elastic Agent 8.15.3 | Fleet and Elastic Agent Guide [8.16] | Elastic</title>
<meta class="elastic" name="content" content="Fleet and Elastic Agent 8.15.3 | Fleet and Elastic Agent Guide [8.16]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [8.16]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes.html" title="Release notes"/>
<link rel="next" href="release-notes-8.15.2.html" title="Fleet and Elastic Agent 8.15.2"/>
<meta class="elastic" name="product_version" content="8.16"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/8.16"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="8.16"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-8.15.2.html">Fleet and Elastic Agent 8.15.2 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [8.16]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Fleet and Elastic Agent 8.15.3</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.16/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-notes-8.15.3"></a>Fleet and Elastic Agent 8.15.3</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.16/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
</div></div></div>
<p>Review important information about the Fleet and Elastic Agent 8.15.3 release.</p>
<div class="position-relative"><h4><a id="known-issues-8.15.3"></a>Known issues</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.16/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
<details id="known-issue-issue-41355-8.15.3">
<summary class="title">The memory usage of Beats based integrations is not correctly limited by the number of events actively in the memory queue, but rather the maximum size of the memory queue regardless of usage.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span></p>
<p>In 8.15, events in the memory queue are not freed when they are acknowledged (as intended), but only when they are overwritten by later events in the queue buffer. This means for example if a configuration has a queue size of 5000, but the input data is low-volume and only 100 events are active at once, then the queue will gradually store more events until reaching 5000 in memory at once, then start replacing those with new events.</p>
<p>See Beats issue <a href="https://github.com/elastic/beats/issues/40705" class="ulink" target="_top">#40705</a>.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br></p>
<p>Memory usage may be higher than in previous releases depending on the throughput of Elastic Agent. A fix is planned for 8.15.4.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The worst memory increase is for low-throughput configs with large queues.
</li>
<li class="listitem">
For users whose queues were already sized proportionate to their throughput, memory use is increased but only marginally.
</li>
<li class="listitem">
Affected users can mitigate the higher memory usage by lowering their queue size.
</li>
</ul>
</div>
</div>
</details>
<div class="position-relative"><h4><a id="security-updates-8.15.3"></a>Security updates</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.16/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update Go version to 1.22.8. <a href="https://github.com/elastic/elastic-agent/pull/5718" class="ulink" target="_top">#5718</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h4><a id="enhancements-8.15.3"></a>Enhancements</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.16/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adjust the default memory requests and limits for Elastic Agent when it runs in a Kubernetes cluster. <a href="https://github.com/elastic/elastic-agent/pull/5614" class="ulink" target="_top">#5614</a> <a href="https://github.com/elastic/elastic-agent/issues/5613" class="ulink" target="_top">#5613</a> <a href="https://github.com/elastic/elastic-agent/issues/4729" class="ulink" target="_top">#4729</a>
</li>
<li class="listitem">
Use a metadata watcher for ReplicaSets in the K8s provider to collect only the name and OwnerReferences, which are used to connect Pods to Deployments and DaemonSets. <a href="https://github.com/elastic/elastic-agent/pull/5699" class="ulink" target="_top">#5699</a> <a href="https://github.com/elastic/elastic-agent/issues/5623" class="ulink" target="_top">#5623</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h4><a id="bug-fixes-8.15.3"></a>Bug fixes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.16/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">pprof</code> endpoints to the monitoring server if they&#8217;re enabled in the Elastic Agent configuration. <a href="https://github.com/elastic/elastic-agent/pull/5562" class="ulink" target="_top">#5562</a>
</li>
<li class="listitem">
Stop the <code class="literal">elastic-agent inspect</code> command from printing the output configuration twice. <a href="https://github.com/elastic/elastic-agent/pull/5692" class="ulink" target="_top">#5692</a> <a href="https://github.com/elastic/elastic-agent/issues/4471" class="ulink" target="_top">#4471</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-8.15.2.html">Fleet and Elastic Agent 8.15.2 »</a>
</span>
</div>
</body>
</html>
