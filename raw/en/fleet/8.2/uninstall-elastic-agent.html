<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Uninstall Elastic Agents from edge hosts | Fleet and Elastic Agent Guide [8.2] | Elastic</title>
<meta class="elastic" name="content" content="Uninstall Elastic Agents from edge hosts | Fleet and Elastic Agent Guide [8.2]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [8.2]"/>
<link rel="up" href="elastic-agent-installation.html" title="Install Elastic Agents"/>
<link rel="prev" href="fleet-agent-proxy-support.html" title="Use a proxy server with Elastic Agent and Fleet"/>
<link rel="next" href="start-stop-elastic-agent.html" title="Start and stop Elastic Agents on edge hosts"/>
<meta class="elastic" name="product_version" content="8.2"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/8.2"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="8.2"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [8.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elastic-agent-installation.html">Install Elastic Agents</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="fleet-agent-proxy-support.html">« Use a proxy server with Elastic Agent and Fleet</a>
</span>
<span class="next">
<a href="start-stop-elastic-agent.html">Start and stop Elastic Agents on edge hosts »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="uninstall-elastic-agent"></a>Uninstall Elastic Agents from edge hosts<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.2/docs/en/ingest-management/elastic-agent/uninstall-elastic-agent.asciidoc">edit</a></h2>
</div></div></div>
<h4><a id="_uninstall_on_macos_linux_and_windows"></a>Uninstall on macOS, Linux, and Windows<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.2/docs/en/ingest-management/elastic-agent/uninstall-elastic-agent.asciidoc">edit</a></h4>
<p>To uninstall Elastic Agent, run the <code class="literal">uninstall</code> command from the directory where
Elastic Agent is running:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Uninstall">
    <button role="tab"
            aria-selected="true"
            aria-controls="mac-tab-uninstall"
            id="mac-uninstall">
      macOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-uninstall"
            id="linux-uninstall"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-uninstall"
            id="win-uninstall"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-uninstall"
       aria-labelledby="mac-uninstall">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user.</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">sudo /Library/Elastic/Agent/elastic-agent uninstall</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-uninstall"
       aria-labelledby="linux-uninstall"
       hidden="">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user.</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">sudo /opt/Elastic/Agent/elastic-agent uninstall</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-uninstall"
       aria-labelledby="win-uninstall"
       hidden="">
<p>Open a PowerShell prompt as an Administrator (right-click the PowerShell icon
and select <span class="strong strong"><strong>Run As Administrator</strong></span>).</p>
<p>From the PowerShell prompt, run:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">C:\"Program Files"\Elastic\Agent\elastic-agent.exe uninstall</pre>
</div>
  </div>
</div>
<p>Follow the prompts to confirm that you want to uninstall Elastic Agent. The command
stops and uninstalls any managed programs, such as Beats and
Elastic Endpoint, before it stops and uninstalls Elastic Agent.</p>
<p>If you run into problems, refer to <a class="xref" href="fleet-troubleshooting.html" title="Troubleshoot common problems">Troubleshoot common problems</a>.</p>
<p>If you are using DEB or RPM, you can use the package manager to remove the
installed package.</p>
<h4><a id="_remove_elastic_agent_files_manually"></a>Remove Elastic Agent files manually<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.2/docs/en/ingest-management/elastic-agent/uninstall-elastic-agent.asciidoc">edit</a></h4>
<p>You might need to remove Elastic Agent files manually if there&#8217;s a failure during
installation.</p>
<p>To remove Elastic Agent manually from your system:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a class="xref" href="unenroll-elastic-agent.html" title="Unenroll Elastic Agents">Unenroll the agent</a> if it&#8217;s managed by Fleet.
</li>
<li class="listitem">
For standalone agents, back up any configuration files you want to preserve.
</li>
<li class="listitem">
<p>On your host, <a class="xref" href="start-stop-elastic-agent.html#stop-elastic-agent-service" title="Stop Elastic Agent">stop the agent</a>. If any Elastic Agent-related
processes are still running, stop them too.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Search for these processes and stop them if they&#8217;re still running:
<code class="literal">filebeat</code>, <code class="literal">metricbeat</code>, <code class="literal">fleet-server</code>, and <code class="literal">elastic-endpoint</code>.</p>
</div>
</div>
</li>
<li class="listitem">
Manually remove the Elastic Agent files from your system. For example, if you&#8217;re
running Elastic Agent on macOS, delete <code class="literal">/Library/Elastic/Agent/*</code>. Not sure where the
files are installed? Refer to <a class="xref" href="installation-layout.html" title="Installation layout">Installation layout</a>.
</li>
<li class="listitem">
<p>If you&#8217;ve configured the Elastic Endpoint integration, also remove the files
installed for endpoint protection. The directory structure is similar to Elastic Agent,
for example, <code class="literal">/Library/Elastic/Endpoint/*</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>When you remove the Elastic Endpoint integration from a macOS host
(10.13, 10.14, or 10.15), the Endpoint System Extension is left on disk
intentionally. If you want to remove the extension, refer to the documentation
for your operating system.</p>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="fleet-agent-proxy-support.html">« Use a proxy server with Elastic Agent and Fleet</a>
</span>
<span class="next">
<a href="start-stop-elastic-agent.html">Start and stop Elastic Agents on edge hosts »</a>
</span>
</div>
</div>
</body>
</html>
