<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Fleet and Elastic Agent 8.5.0 | Fleet and Elastic Agent Guide [8.5] | Elastic</title>
<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [8.5]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.5.1.html" title="Fleet and Elastic Agent 8.5.1"/>
<link rel="next" href="install-fleet-managed-agent.html" title="Appendix A: Install a Fleet-managed Elastic Agent"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/8.5"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="8.5"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [8.5]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.5.1.html">« Fleet and Elastic Agent 8.5.1</a>
</span>
<span class="next">
<a href="install-fleet-managed-agent.html">Appendix A: Install a Fleet-managed Elastic Agent »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-8.5.0"></a>Fleet and Elastic Agent 8.5.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.5/docs/en/ingest-management/release-notes/release-notes-8.5.asciidoc">edit</a></h2>
</div></div></div>
<p>Review important information about the Fleet and Elastic Agent 8.5.0 release.</p>
<h4><a id="breaking-changes-8.5.0"></a>Breaking changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.5/docs/en/ingest-management/release-notes/release-notes-8.5.asciidoc">edit</a></h4>
<p>Breaking changes can prevent your application from optimal operation and
performance. Before you upgrade, review the breaking changes, then mitigate the
impact to your application.</p>
<details id="breaking-PR1709">
<summary class="title">Fleet Server and Elastic Agent now reject certificates signed with SHA-1</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
With the upgrade to Go 1.18, Fleet Server now rejects certificates signed with
SHA-1. For more information, refer to the Go 1.18
<a href="https://tip.golang.org/doc/go1.18#sha1" class="ulink" target="_top">release notes</a>.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br>
Do not sign certificates with SHA-1. If you are using old certificates signed
with SHA-1, update them now.</p>
</div>
</details>
<h4><a id="new-features-8.5.0"></a>New features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.5/docs/en/ingest-management/release-notes/release-notes-8.5.asciidoc">edit</a></h4>
<p>The 8.5.0 release adds the following new and notable features.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add agent activity flyout <a href="https://github.com/elastic/kibana/pull/140510" class="ulink" target="_top">#140510</a>
</li>
<li class="listitem">
Add a new event toggle to capture terminal output in endpoint <a href="https://github.com/elastic/kibana/pull/139421" class="ulink" target="_top">#139421</a>
</li>
<li class="listitem">
Make batch actions asynchronous <a href="https://github.com/elastic/kibana/pull/138870" class="ulink" target="_top">#138870</a>
</li>
<li class="listitem">
Add ability to tag integration assets <a href="https://github.com/elastic/kibana/pull/137184" class="ulink" target="_top">#137184</a>
</li>
<li class="listitem">
Add support for input-only packages <a href="https://github.com/elastic/kibana/pull/140035" class="ulink" target="_top">#140035</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Fleet Server
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Log redacted config when config updates <a href="https://github.com/elastic/fleet-server/issues/1626" class="ulink" target="_top">#1626</a> <a href="https://github.com/elastic/fleet-server/pull/1671" class="ulink" target="_top">#1671</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">lumberjack</code> input type to the Filebeat spec <a href="https://github.com/elastic/elastic-agent/pull/959" class="ulink" target="_top">#959</a>
</li>
<li class="listitem">
Add support for hints-based autodiscovery in Kubernetes provider <a href="https://github.com/elastic/elastic-agent/pull/698" class="ulink" target="_top">#698</a>
</li>
<li class="listitem">
Improve logging during upgrades <a href="https://github.com/elastic/elastic-agent/pull/1287" class="ulink" target="_top">#1287</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="enhancements-8.5.0"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.5/docs/en/ingest-management/release-notes/release-notes-8.5.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add toggle for experimental synthetic <code class="literal">_source</code> support in Fleet data streams <a href="https://github.com/elastic/kibana/pull/140132" class="ulink" target="_top">#140132</a>
</li>
<li class="listitem">
Enhance the package policy API to create or update a package policy API with a simplified way to define inputs <a href="https://github.com/elastic/kibana/pull/139420" class="ulink" target="_top">#139420</a>
</li>
<li class="listitem">
Support new subscription and license fields <a href="https://github.com/elastic/kibana/pull/137799" class="ulink" target="_top">#137799</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improve logging of Fleet check-in errors and only report the local state as degraded after two consecutive failed check-ins <a href="https://github.com/elastic/elastic-agent/issues/1154" class="ulink" target="_top">#1154</a> <a href="https://github.com/elastic/elastic-agent/pull/1477" class="ulink" target="_top">#1477</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="bug-fixes-8.5.0"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.5/docs/en/ingest-management/release-notes/release-notes-8.5.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refresh search results when clearing category filter <a href="https://github.com/elastic/kibana/pull/142853" class="ulink" target="_top">#142853</a>
</li>
<li class="listitem">
Respect <code class="literal">default_field: false</code> when generating index settings <a href="https://github.com/elastic/kibana/pull/142277" class="ulink" target="_top">#142277</a>
</li>
<li class="listitem">
Fix repeated debug logs when bundled package directory does not exist <a href="https://github.com/elastic/kibana/pull/141660" class="ulink" target="_top">#141660</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Fleet Server
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix a race condition between the unenroller goroutine and the main
goroutine for the coordinator monitor <a href="https://github.com/elastic/fleet-server/issues/1738" class="ulink" target="_top">#1738</a>
</li>
<li class="listitem">
Remove events from agent check-in body <a href="https://github.com/elastic/fleet-server/issues/1774" class="ulink" target="_top">#1774</a>
</li>
<li class="listitem">
Improve authc debug logging <a href="https://github.com/elastic/fleet-server/pull/1870" class="ulink" target="_top">#1870</a>
</li>
<li class="listitem">
Add error detail to catch-all HTTP error response <a href="https://github.com/elastic/fleet-server/pull/1854" class="ulink" target="_top">#1854</a>
</li>
<li class="listitem">
Fix issue where errors were ignored when written to Elasticsearch <a href="https://github.com/elastic/fleet-server/pull/1896" class="ulink" target="_top">#1896</a>
</li>
<li class="listitem">
Update <code class="literal">apikey.cache_hit</code> log field name to match convention <a href="https://github.com/elastic/fleet-server/pull/1900" class="ulink" target="_top">#1900</a>
</li>
<li class="listitem">
Custom server limits are no longer ignored when default limits are loaded <a href="https://github.com/elastic/fleet-server/issues/1841" class="ulink" target="_top">#1841</a> <a href="https://github.com/elastic/fleet-server/pull/1912" class="ulink" target="_top">#1912</a>
</li>
<li class="listitem">
Use separate rate limiters for internal and external API listeners to prevent Fleet Server from shutting down under load <a href="https://github.com/elastic/fleet-server/issues/1859" class="ulink" target="_top">#1859</a> <a href="https://github.com/elastic/fleet-server/pull/1904" class="ulink" target="_top">#1904</a>
</li>
<li class="listitem">
Fix <code class="literal">fleet.migration.total</code> log key overlap <a href="https://github.com/elastic/fleet-server/pull/1951" class="ulink" target="_top">#1951</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix a panic caused by a race condition when installing the Elastic Agent <a href="https://github.com/elastic/elastic-agent/issues/806" class="ulink" target="_top">#806</a> <a href="https://github.com/elastic/elastic-agent/pull/823" class="ulink" target="_top">#823</a>
</li>
<li class="listitem">
Use the Elastic Agent configuration directory as the root of the <code class="literal">inputs.d</code> folder <a href="https://github.com/elastic/elastic-agent/issues/663" class="ulink" target="_top">#663</a> <a href="https://github.com/elastic/elastic-agent/pull/840" class="ulink" target="_top">#840</a>
</li>
<li class="listitem">
Fix unintended reset of source URI when downloading components <a href="https://github.com/elastic/elastic-agent/pull/1252" class="ulink" target="_top">#1252</a>
</li>
<li class="listitem">
Create separate status reporter for local-only events so that degraded Fleet check-ins no longer affect health of successful Fleet check-ins <a href="https://github.com/elastic/elastic-agent/issues/1157" class="ulink" target="_top">#1157</a> <a href="https://github.com/elastic/elastic-agent/pull/1285" class="ulink" target="_top">#1285</a>
</li>
<li class="listitem">
Add success log message after previous check-in failures <a href="https://github.com/elastic/elastic-agent/pull/1327" class="ulink" target="_top">#1327</a>
</li>
<li class="listitem">
Fix docker provider <code class="literal">add_fields</code> processors <a href="https://github.com/elastic/elastic-agent/pull/1420" class="ulink" target="_top">#1420</a>
</li>
<li class="listitem">
Fix admin permission check on localized windows <a href="https://github.com/elastic/elastic-agent/pull/1552" class="ulink" target="_top">#1552</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-8.5.1.html">« Fleet and Elastic Agent 8.5.1</a>
</span>
<span class="next">
<a href="install-fleet-managed-agent.html">Appendix A: Install a Fleet-managed Elastic Agent »</a>
</span>
</div>
</div>
</body>
</html>
