<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Fleet and Elastic Agent 8.15.2 | Fleet and Elastic Agent Guide [8.x] | Elastic</title>
<meta class="elastic" name="content" content="Fleet and Elastic Agent 8.15.2 | Fleet and Elastic Agent Guide [8.x]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [8.x]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.15.3.html" title="Fleet and Elastic Agent 8.15.3"/>
<link rel="next" href="release-notes-8.15.1.html" title="Fleet and Elastic Agent 8.15.1"/>
<meta class="elastic" name="product_version" content="8.x"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/8.x"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="8.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.15.3.html">« Fleet and Elastic Agent 8.15.3</a>
</span>
<span class="next">
<a href="release-notes-8.15.1.html">Fleet and Elastic Agent 8.15.1 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [8.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Fleet and Elastic Agent 8.15.2</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.x/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-notes-8.15.2"></a>Fleet and Elastic Agent 8.15.2</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.x/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
</div></div></div>
<p>Review important information about the Fleet and Elastic Agent 8.15.2 release.</p>
<div class="position-relative"><h4><a id="known-issues-8.15.2"></a>Known issues</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.x/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
<details id="known-issue-issue-41355-8.15.2">
<summary class="title">The memory usage of Beats based integrations is not correctly limited by the number of events actively in the memory queue, but rather the maximum size of the memory queue regardless of usage.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span></p>
<p>In 8.15, events in the memory queue are not freed when they are acknowledged (as intended), but only when they are overwritten by later events in the queue buffer. This means for example if a configuration has a queue size of 5000, but the input data is low-volume and only 100 events are active at once, then the queue will gradually store more events until reaching 5000 in memory at once, then start replacing those with new events.</p>
<p>See Beats issue <a href="https://github.com/elastic/beats/issues/40705" class="ulink" target="_top">#40705</a>.</p>
<p><span class="strong strong"><strong>Impact</strong></span><br></p>
<p>Memory usage may be higher than in previous releases depending on the throughput of Elastic Agent. A fix is planned for 8.15.4.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The worst memory increase is for low-throughput configs with large queues.
</li>
<li class="listitem">
For users whose queues were already sized proportionate to their throughput, memory use is increased but only marginally.
</li>
<li class="listitem">
Affected users can mitigate the higher memory usage by lowering their queue size.
</li>
</ul>
</div>
</div>
</details>
<div class="position-relative"><h4><a id="enhancements-8.15.2"></a>Enhancements</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.x/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Bump the maximum supported package spec version to 3.2. (<a href="https://github.com/elastic/kibana/pull/193574" class="ulink" target="_top">#193574</a>)
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="position-relative"><h4><a id="bug-fixes-8.15.2"></a>Bug fixes</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/ingest-docs/edit/8.x/docs/en/ingest-management/release-notes/release-notes-8.15.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Prevent extra <code class="literal">agent_status</code> call with empty <code class="literal">policyId</code>, resulting in incorrect agent count on the <code class="literal">Edit Integration</code> page. (<a href="https://github.com/elastic/kibana/pull/192549" class="ulink" target="_top">#192549</a>)
</li>
<li class="listitem">
Set the correct title for the <code class="literal">Restart upgrade</code> agent modal. (<a href="https://github.com/elastic/kibana/pull/192536" class="ulink" target="_top">#192536</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add the <code class="literal">health_check</code> extension to the <code class="literal">otel.yml</code> file bundled with the Elastic Agent package, in order to prevent installation of the <code class="literal">open-telemetry/opentelemetry-collector</code> Helm chart from failing. <a href="https://github.com/elastic/elastic-agent/pull/5369" class="ulink" target="_top">#5369</a> <a href="https://github.com/elastic/elastic-agent/issues/5092" class="ulink" target="_top">#5092</a>
</li>
<li class="listitem">
Fix bug that prevented the Beats Elasticsearch output from recovering from an interrupted connection. <a href="https://github.com/elastic/beats/pull/40769" class="ulink" target="_top">#40796</a> <a href="https://github.com/elastic/beats/issues/40705" class="ulink" target="_top">#40705</a>
</li>
<li class="listitem">
Prevent the Elastic Agent from crashing when self unenrolling due to too many authentication failures against Fleet Server. <a href="https://github.com/elastic/elastic-agent/pull/5438" class="ulink" target="_top">#5438</a> <a href="https://github.com/elastic/elastic-agent/issues/5434" class="ulink" target="_top">#5434</a>
</li>
<li class="listitem">
Set the default log level when an Elastic Agent policy is changed and a log level is not set in the policy. <a href="https://github.com/elastic/elastic-agent/pull/5452" class="ulink" target="_top">#5452</a> <a href="https://github.com/elastic/elastic-agent/issues/5451" class="ulink" target="_top">#5451</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Fleet Server
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Enable missing warnings for configuration options that have been deprecated throughout the 8.x lifecycle. <a href="https://github.com/elastic/fleet-server/pull/3901" class="ulink" target="_top">#3901</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-8.15.3.html">« Fleet and Elastic Agent 8.15.3</a>
</span>
<span class="next">
<a href="release-notes-8.15.1.html">Fleet and Elastic Agent 8.15.1 »</a>
</span>
</div>
</body>
</html>
