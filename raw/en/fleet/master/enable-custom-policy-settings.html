<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Enable custom settings in an agent policy | Fleet and Elastic Agent Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Enable custom settings in an agent policy | Fleet and Elastic Agent Guide [master]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [master]"/>
<link rel="up" href="agent-policy.html" title="Elastic Agent policies"/>
<link rel="prev" href="create-a-policy-no-ui.html" title="Create an agent policy without using the UI"/>
<link rel="next" href="fleet-roles-and-privileges.html" title="Required roles and privileges"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/master"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="create-a-policy-no-ui.html">« Create an agent policy without using the UI</a>
</span>
<span class="next">
<a href="fleet-roles-and-privileges.html">Required roles and privileges »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="manage-agents-in-fleet.html">Centrally manage Elastic Agents in Fleet</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="agent-policy.html">Elastic Agent policies</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Enable custom settings in an agent policy</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/override-policy-settings.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="enable-custom-policy-settings"></a>Enable custom settings in an agent policy</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/override-policy-settings.asciidoc">edit</a></div>
</div></div></div>
<p>In certain cases it can be useful to enable custom settings that are not available in Fleet, and that override the default behavior for Elastic Agent.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Use these custom settings with caution as they are intended for special cases. We do not test all possible combinations of settings which will be passed down to the components of Elastic Agent, so it is possible that certain custom configurations can result in breakages.</p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="enable-custom-policy-settings.html#configure-agent-download-timeout" title="Configure the agent download timeout">Configure the agent download timeout</a>
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="configure-agent-download-timeout"></a>Configure the agent download timeout</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/override-policy-settings.asciidoc">edit</a></div>
<p>You can configure the the amount of time that Elastic Agent waits for an upgrade package download to complete. This is useful in the case of a slow or intermittent network connection.</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">PUT kbn:/api/fleet/agent_policies/&lt;policy-id&gt;
{
  "name": "Test policy",
  "namespace": "default",
  "overrides": {
    "agent": {
      "download": {
        "timeout": "120s"
      }
    }
  }
}</pre>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="create-a-policy-no-ui.html">« Create an agent policy without using the UI</a>
</span>
<span class="next">
<a href="fleet-roles-and-privileges.html">Required roles and privileges »</a>
</span>
</div>
</body>
</html>
