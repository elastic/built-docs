<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Add tags to filter the Agents list | Fleet and Elastic Agent Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Add tags to filter the Agents list | Fleet and Elastic Agent Guide [master]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [master]"/>
<link rel="up" href="manage-agents.html" title="Elastic Agents"/>
<link rel="prev" href="agent-health-status.html" title="Elastic Agent health status"/>
<link rel="next" href="agent-policy.html" title="Elastic Agent policies"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/master"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="agent-health-status.html">« Elastic Agent health status</a>
</span>
<span class="next">
<a href="agent-policy.html">Elastic Agent policies »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="manage-agents-in-fleet.html">Centrally manage Elastic Agents in Fleet</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="manage-agents.html">Elastic Agents</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Add tags to filter the Agents list</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/fleet/filter-agent-list-by-tags.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="filter-agent-list-by-tags"></a>Add tags to filter the Agents list<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/fleet/filter-agent-list-by-tags.asciidoc">edit</a></h3>
</div></div></div>
<p>You can add tags to Elastic Agent during or after enrollment, then use the tags to
filter the Agents list shown in Fleet.</p>
<p>Tags are useful for capturing information that is specific to the installation
environment, such machine type, location, operating system, environment, and
so on. Tags can be any arbitrary information that will help you filter and
perform operations on Elastic Agents with the same attributes.</p>
<p>To filter the Agents list by tag, in Kibana, go to <span class="strong strong"><strong>Fleet &gt; Agents</strong></span> and click
<span class="strong strong"><strong>Tags</strong></span>. Select the tags to filter on. The tags are also available in the KQL
field for autocompletion.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/agent-tags.png" alt="Agents list filtered to show agents with the staging tag">
</div>
</div>
<p>If you haven&#8217;t added tags to any Elastic Agents yet, the list will be empty.</p>
<h5><a id="add-tags-in-fleet"></a>Add, remove, rename, or delete tags in Fleet<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/fleet/filter-agent-list-by-tags.asciidoc">edit</a></h5>
<p>You can use Fleet to add, remove, or rename tags applied to one or more
Elastic Agents.</p>
<p>Want to add tags when enrolling from a host instead? See
<a class="xref" href="filter-agent-list-by-tags.html#add-tags-at-enrollment" title="Add tags during agent enrollment">Add tags during agent enrollment</a>.</p>
<p>To manage tags in Fleet:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
On the <span class="strong strong"><strong>Agents</strong></span> tab, select one or more agents.
</li>
<li class="listitem">
<p>From the <span class="strong strong"><strong>Actions</strong></span> menu, click <span class="strong strong"><strong>Add / remove tags</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/add-remove-tags.png" alt="Screenshot of add / remove tags menu">
</div>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Make sure you use the correct <span class="strong strong"><strong>Actions</strong></span> menu. To manage tags for a single
agent, click the ellipsis button under the <span class="strong strong"><strong>Actions</strong></span> column. To manage tags
for multiple agents, click the <span class="strong strong"><strong>Actions</strong></span> button to open the bulk actions menu.</p>
</div>
</div>
</li>
<li class="listitem">
<p>In the tags menu, perform an action:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">To&#8230;&#8203;</th>
<th align="left" valign="top">Do this&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Create a new tag</p></td>
<td align="left" valign="top"><p>Type the tag name and click <span class="strong strong"><strong>Create new tag&#8230;&#8203;</strong></span>. Notice the tag name has
a check mark to show that the tag has been added to the selected agents.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Rename a tag</p></td>
<td align="left" valign="top"><p>Hover over the tag name and click the ellipsis button. Type a new name and press Enter.
The tag will be renamed in all agents that use it, even agents that are not
selected.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Delete a tag</p></td>
<td align="left" valign="top"><p>Hover over the tag name and click the ellipsis button. Click <span class="strong strong"><strong>Delete tag</strong></span>.
The tag will be deleted from all agents, even agents that are not selected.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Add or remove a tag from an agent</p></td>
<td align="left" valign="top"><p>Click the tag name to add or clear the check mark. In the <span class="strong strong"><strong>Tags</strong></span> column,
notice that the tags are added or removed. Note that the menu only shows
tags that are common to all selected agents.</p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</div>
<h5><a id="add-tags-at-enrollment"></a>Add tags during agent enrollment<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/fleet/filter-agent-list-by-tags.asciidoc">edit</a></h5>
<p>When you install or enroll Elastic Agent in Fleet, you can specify a comma-separated
list of tags to apply to the agent, then use the tags to filter the Agents list
shown in Fleet.</p>
<p>The following command applies the <code class="literal">macOS</code> and <code class="literal">staging</code> tags during
installation:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo ./elastic-agent install \
  --url=&lt;Fleet Server host URL&gt; \
  --enrollment-token=&lt;enrollment token&gt; \
  --tag macOS,staging</pre>
</div>
<p>For the full command synopsis, refer to <a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-install-command" title="elastic-agent install">elastic-agent install</a> and
<a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-enroll-command" title="elastic-agent enroll">elastic-agent enroll</a>.</p>
<p>The following command applies the <code class="literal">docker</code> and <code class="literal">dev</code> tags to Elastic Agent running in
a Docker container:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">docker run \
  --env FLEET_ENROLL=1 \
  --env FLEET_URL=&lt;Fleet Server host URL&gt; \
  --env FLEET_ENROLLMENT_TOKEN=&lt;enrollment token&gt; \
  --env ELASTIC_AGENT_TAGS=docker,dev
  --rm docker.elastic.co/beats/elastic-agent:8.16.0</pre>
</div>
<p>For more information about running on containers, refer to the guides under
<a class="xref" href="install-elastic-agents-in-containers.html" title="Install Elastic Agents in a containerized environment">Install Elastic Agents in a containerized environment</a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="agent-health-status.html">« Elastic Agent health status</a>
</span>
<span class="next">
<a href="agent-policy.html">Elastic Agent policies »</a>
</span>
</div>
</body>
</html>
