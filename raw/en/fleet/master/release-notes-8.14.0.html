<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Fleet and Elastic Agent 8.14.0 | Fleet and Elastic Agent Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Fleet and Elastic Agent 8.14.0 | Fleet and Elastic Agent Guide [master]">

<link rel="home" href="index.html" title="Fleet and Elastic Agent Guide [master]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.14.1.html" title="Fleet and Elastic Agent 8.14.1"/>
<link rel="next" href="install-fleet-managed-agent.html" title="Appendix A: Install a Fleet-managed Elastic Agent"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Fleet and Elastic Agent"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Fleet/Guide/Elastic Agent/master"/>
<meta name="DC.subject" content="Fleet and Elastic Agent"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.14.1.html">« Fleet and Elastic Agent 8.14.1</a>
</span>
<span class="next">
<a href="install-fleet-managed-agent.html">Appendix A: Install a Fleet-managed Elastic Agent »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Fleet and Elastic Agent Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Fleet and Elastic Agent 8.14.0</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/release-notes/release-notes-8.14.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-8.14.0"></a>Fleet and Elastic Agent 8.14.0<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/release-notes/release-notes-8.14.asciidoc">edit</a></h2>
</div></div></div>
<p>Review important information about the Fleet and Elastic Agent 8.14.0 release.</p>
<h4><a id="security-updates-8.14.0"></a>Security updates<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/release-notes/release-notes-8.14.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Fleet Server
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update Fleet Server Go version to 1.21.10. <a href="https://github.com/elastic/fleet-server/pull/3528" class="ulink" target="_top">#3528</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update Elastic Agent Go version to 1.21.10. <a href="https://github.com/elastic/elastic-agent/pull/4718" class="ulink" target="_top">#4718</a>
</li>
<li class="listitem">
Update all <code class="literal">opentelemetry-collector-contrib</code> packages. <a href="https://github.com/elastic/elastic-agent/pull/4572" class="ulink" target="_top">#4572</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="new-features-8.14.0"></a>New features<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/release-notes/release-notes-8.14.asciidoc">edit</a></h4>
<p>The 8.14.0 release added the following new and notable features.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
(Technical preview) Kibana administrators can now assign granular subfeature privileges for Fleet, Elastic Agents, agent policies, and settings to user roles. (<a href="https://github.com/elastic/kibana/pull/179889" class="ulink" target="_top">#179889</a>).
</li>
<li class="listitem">
The <code class="literal">index.mapping.total_fields.limit</code> field on integration index templates is now set to 1000 by default instead of 10000. If an integration data stream includes more than 500 fields, the limit will be increased to 10000. (<a href="https://github.com/elastic/kibana/pull/178398" class="ulink" target="_top">#178398</a>)
</li>
<li class="listitem">
<code class="literal">index_template.mappings.subobjects: false</code> is now the default for custom integration data streams to avoid subobject and scalar mapping conflicts. (<a href="https://github.com/elastic/kibana/pull/178397" class="ulink" target="_top">#178397</a>)
</li>
<li class="listitem">
Fleet no longer sets <code class="literal">index.query.default_field</code> on integration component templates, favoring the Elasticsearch default value of <code class="literal">index.query.default_field: *</code>. This allows queries without a field specified to be run against all integration fields by default. (<a href="https://github.com/elastic/kibana/pull/178020" class="ulink" target="_top">#178020</a>)
</li>
<li class="listitem">
Allow managed content installed by Fleet to be deleted. Note: this content will be recreated when an integration is upgraded or reinstalled. (<a href="https://github.com/elastic/kibana/pull/179113" class="ulink" target="_top">#179113</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The Kubernetes secrets provider has been improved to update a Kubernetes secret  when the secret value changes. <a href="https://github.com/elastic/elastic-agent/pull/4371" class="ulink" target="_top">#4371</a> <a href="https://github.com/elastic/elastic-agent/issues/4168" class="ulink" target="_top">#4168</a>
</li>
<li class="listitem">
The OpenTelemetry <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/filterprocessor" class="ulink" target="_top">filterprocessor</a> is now available to users running Elastic Agent in <code class="literal">otel</code> mode. <a href="https://github.com/elastic/elastic-agent/pull/4708" class="ulink" target="_top">#4708</a>
</li>
<li class="listitem">
The OpenTelemetry <a href="https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/exporter/elasticsearchexporter" class="ulink" target="_top">elasticsearchexporter</a> is now available to users running Elastic Agent in <code class="literal">otel</code> mode. <a href="https://github.com/elastic/elastic-agent/pull/4707" class="ulink" target="_top">#4707</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="enhancements-8.14.0"></a>Enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/release-notes/release-notes-8.14.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add <code class="literal">time_series_dimension: true</code> to dynamic field mappings defined in integrations with <code class="literal">dimension: true</code>. (<a href="https://github.com/elastic/kibana/pull/180023" class="ulink" target="_top">#180023</a>)
</li>
<li class="listitem">
Allow additional CPU metrics to be collected when requesting diagnostics from an agent. (<a href="https://github.com/elastic/kibana/pull/179819" class="ulink" target="_top">#179819</a>)
</li>
<li class="listitem">
Add new "advanced settings" section to agent policy settings page sourced from configuration. (<a href="https://github.com/elastic/kibana/pull/179795" class="ulink" target="_top">#179795</a>)
</li>
<li class="listitem">
Add an Elastic Defend advanced policy option for pruning capability arrays. (<a href="https://github.com/elastic/kibana/pull/179766" class="ulink" target="_top">#179766</a>)
</li>
<li class="listitem">
<p>The "agent activity" flyout now includes several new features: (<a href="https://github.com/elastic/kibana/pull/179161" class="ulink" target="_top">#179161</a>)</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A "review errors" button now appears above the agent listing table when new activity events are loaded that include errors. Clicking the button will open the activity flyout with these errors shown.
</li>
<li class="listitem">
Agent activity now supports pagination. Click the "show more" button at the bottom of the list to load additional activity events.
</li>
<li class="listitem">
Agent activity from a given date can now be loaded by clicking the "Go to date" button and selecting a date.
</li>
</ul>
</div>
</li>
<li class="listitem">
Surface <code class="literal">unhealthy_reason</code> in agent metrics that indicates which component (input/output/other) is causing an agent to be considered unhealthy. (<a href="https://github.com/elastic/kibana/pull/178605" class="ulink" target="_top">#178605</a>)
</li>
<li class="listitem">
Add a warning which is displayed when trying to upgrade agent to version &gt; max Fleet Server version. (<a href="https://github.com/elastic/kibana/pull/178079" class="ulink" target="_top">#178079</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Fleet Server
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When running in <code class="literal">agent</code> mode, Fleet Server will use the APMConfig settings of the expected input if it&#8217;s set over the settings in <code class="literal">inputs[0].server.instrumentation</code>. This should make it easier for managed agents to inject APM configuration data. <a href="https://github.com/elastic/fleet-server/pull/3277" class="ulink" target="_top">#3277</a> <a href="https://github.com/elastic/fleet-server/issues/2868" class="ulink" target="_top">#2868</a>
</li>
<li class="listitem">
Allow specification in the Fleet Server settings for whether or not a diagnostics bundle should contain additional CPU metrics. <a href="https://github.com/elastic/fleet-server/pull/3333" class="ulink" target="_top">#3333</a> <a href="https://github.com/elastic/elastic-agent/issues/3491" class="ulink" target="_top">#3491</a>
</li>
<li class="listitem">
Allow Fleet to set the trace level for logging. <a href="https://github.com/elastic/fleet-server/pull/3350" class="ulink" target="_top">#3350</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The CPU and memory usage of the internal monitoring Beats is now included in the agent CPU and memory usage calculations in Fleet. <a href="https://github.com/elastic/elastic-agent/pull/4326" class="ulink" target="_top">#4326</a> <a href="https://github.com/elastic/elastic-agent/issues/4082" class="ulink" target="_top">#4082</a>
</li>
<li class="listitem">
Add the optional CPU profile collection to the Fleet diagnostics action handler. <a href="https://github.com/elastic/elastic-agent/pull/4394" class="ulink" target="_top">#4394</a> <a href="https://github.com/elastic/elastic-agent/issues/3491" class="ulink" target="_top">#3491</a>
</li>
<li class="listitem">
Enable <code class="literal">--unprivileged</code> on Mac OS, allowing Elastic Agent to run as an unprivileged user. <a href="https://github.com/elastic/elastic-agent/pull/4362" class="ulink" target="_top">#4362</a> <a href="https://github.com/elastic/elastic-agent/issues/3867" class="ulink" target="_top">#3867</a>
</li>
<li class="listitem">
Make the <code class="literal">enroll</code> command more stable by handling temporary server errors. <a href="https://github.com/elastic/elastic-agent/pull/4523" class="ulink" target="_top">#4523</a> <a href="https://github.com/elastic/elastic-agent/issues/4513" class="ulink" target="_top">#4513</a>
</li>
<li class="listitem">
<p>Reduce the overall download and on-disk size of Elastic Agent. <a href="https://github.com/elastic/elastic-agent/pull/4516" class="ulink" target="_top">#4516</a> <a href="https://github.com/elastic/elastic-agent/issues/3364" class="ulink" target="_top">#3364</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Linux: -43% reduction from 1800MB to 1018MB compared to 8.13.4 when extracted
</li>
<li class="listitem">
MacOS: -44% reduction from 1100MB to 619MB compared to 8.13.4 when extracted
</li>
<li class="listitem">
Windows: -43% reduction from 891MB to 504MB compared to 8.13.4 when extracted
</li>
</ul>
</div>
</li>
<li class="listitem">
Remove <code class="literal">cloud-defend</code> from Linux <code class="literal">.tar.gz</code> archives; it now appears only in Docker images where it is required. <a href="https://github.com/elastic/elastic-agent/pull/4584" class="ulink" target="_top">#4584</a>
</li>
<li class="listitem">
Reduce the disk usage of Elastic Agent self-monitoring logs shipped to Fleet by 16% by dropping "Non-zero metrics&#8230;&#8203;" logs automatically. <a href="https://github.com/elastic/elastic-agent/pull/4633" class="ulink" target="_top">#4633</a> <a href="https://github.com/elastic/elastic-agent/issues/4252" class="ulink" target="_top">#4252</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="bug-fixes-8.14.0"></a>Bug fixes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/ingest-docs/edit/main/docs/en/ingest-management/release-notes/release-notes-8.14.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Fleet
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add validation to dataset field in input packages to disallow special characters. (<a href="https://github.com/elastic/kibana/pull/182925" class="ulink" target="_top">#182925</a>)
</li>
<li class="listitem">
Fix rollback input package install on failure. (<a href="https://github.com/elastic/kibana/pull/182665" class="ulink" target="_top">#182665</a>)
</li>
<li class="listitem">
Fix cloudflare template error. (<a href="https://github.com/elastic/kibana/pull/182645" class="ulink" target="_top">#182645</a>)
</li>
<li class="listitem">
Fix displaying <code class="literal">Config</code> and <code class="literal">API reference</code> tabs if they are not needed. (<a href="https://github.com/elastic/kibana/pull/182518" class="ulink" target="_top">#182518</a>)
</li>
<li class="listitem">
Allow upgrading an agent to a newer version when that agent is also a Fleet Server. (<a href="https://github.com/elastic/kibana/pull/181575" class="ulink" target="_top">#181575</a>)
</li>
<li class="listitem">
Fix flattened inputs in the configuration tab. (<a href="https://github.com/elastic/kibana/pull/181155" class="ulink" target="_top">#181155</a>)
</li>
<li class="listitem">
Add callout when editing an output about plain text secrets being re-saved to secret storage. (<a href="https://github.com/elastic/kibana/pull/180334" class="ulink" target="_top">#180334</a>)
</li>
<li class="listitem">
Remove unnecessary field definitions for custom integrations. (<a href="https://github.com/elastic/kibana/pull/178293" class="ulink" target="_top">#178293</a>)
</li>
<li class="listitem">
Fix secrets UI inputs in forms when secrets storage is disabled server side. (<a href="https://github.com/elastic/kibana/pull/178045" class="ulink" target="_top">#178045</a>)
</li>
<li class="listitem">
Fix not being able to preview or download files with special characters. (<a href="https://github.com/elastic/kibana/pull/176822" class="ulink" target="_top">#176822</a>)
</li>
<li class="listitem">
Fix overly strict KQL validation being applied in search boxes. (<a href="https://github.com/elastic/kibana/pull/176806" class="ulink" target="_top">#176806</a>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Fleet Server
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Respond with a <code class="literal">429</code> error, instead of a misleading <code class="literal">401 unauthorized response</code>, when an Elasticsearch API key authentication returns a <code class="literal">429</code> error. <a href="https://github.com/elastic/fleet-server/pull/3278" class="ulink" target="_top">#3278</a>
</li>
<li class="listitem">
Add an <code class="literal">unhealthy_reason</code> value (<code class="literal">input</code>/<code class="literal">output</code>/<code class="literal">other</code>) to Fleet Server metrics published regularly in agent documents. <a href="https://github.com/elastic/elastic-agent/pull/3338" class="ulink" target="_top">#3338</a>
</li>
<li class="listitem">
Update endpoints to return a <code class="literal">400</code> status code instead of <code class="literal">500</code> for bad requests. <a href="https://github.com/elastic/fleet-server/pull/3407" class="ulink" target="_top">#3407</a> <a href="https://github.com/elastic/fleet-server/issues/3110" class="ulink" target="_top">3110</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Agent
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use <code class="literal">IgnoreCommas</code> in default configuration options to correct parse functions used as part of variable substitutions. <a href="https://github.com/elastic/elastic-agent/pull/4436" class="ulink" target="_top">#4436</a>
</li>
<li class="listitem">
Stop logging all <code class="literal">400</code> errors as Fleet Server API incompatibility errors. <a href="https://github.com/elastic/elastic-agent/pull/4481" class="ulink" target="_top">#4481</a> <a href="https://github.com/elastic/elastic-agent/issues/4477" class="ulink" target="_top">#4477</a>
</li>
<li class="listitem">
Fix failing upgrade command when the gRPC server connection is interrupted. <a href="https://github.com/elastic/elastic-agent/pull/4519" class="ulink" target="_top">#4519</a> <a href="https://github.com/elastic/elastic-agent/issues/3890" class="ulink" target="_top">#3890</a>
</li>
<li class="listitem">
Fix an issue where the <code class="literal">kubernetes_leaderelection</code> provider would not try to reacquire the lease once lost. <a href="https://github.com/elastic/elastic-agent/pull/4542" class="ulink" target="_top">#4542</a> <a href="https://github.com/elastic/elastic-agent/issues/4543" class="ulink" target="_top">#4543</a>
</li>
<li class="listitem">
Always select the more recent watcher during the Elastic Agent upgrade/downgrade process. <a href="https://github.com/elastic/elastic-agent/pull/4491" class="ulink" target="_top">#4491</a> <a href="https://github.com/elastic/elastic-agent/issues/4072" class="ulink" target="_top">#4072</a>
</li>
<li class="listitem">
Reduce the disk usage of Elastic Agent self-monitoring metrics shipped to Fleet by 13% by dropping the Beats <code class="literal">state</code> metricset. <a href="https://github.com/elastic/elastic-agent/pull/4579" class="ulink" target="_top">#4579</a> <a href="https://github.com/elastic/elastic-agent/issues/4153" class="ulink" target="_top">#4153</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-8.14.1.html">« Fleet and Elastic Agent 8.14.1</a>
</span>
<span class="next">
<a href="install-fleet-managed-agent.html">Appendix A: Install a Fleet-managed Elastic Agent »</a>
</span>
</div>
</body>
</html>
