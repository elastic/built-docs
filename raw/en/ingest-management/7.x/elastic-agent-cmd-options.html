<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elastic Agent command line options | Ingest Management Guide [7.x] | Elastic</title>
<link rel="home" href="index.html" title="Ingest Management Guide [7.x]"/>
<link rel="up" href="elastic-agent-installation-configuration.html" title="Manage your Elastic Agents"/>
<link rel="prev" href="unenroll-elastic-agent.html" title="Unenroll Elastic Agent"/>
<link rel="next" href="elastic-agent-configuration.html" title="Configuration settings"/>
<meta name="DC.type" content="Learn/Docs/Ingest Management/Guide/7.x"/>
<meta name="DC.subject" content="Ingest Management"/>
<meta name="DC.identifier" content="7.x"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Ingest Management Guide [7.x]</a></span>
»
<span class="breadcrumb-link"><a href="elastic-agent-installation-configuration.html">Manage your Elastic Agents</a></span>
»
<span class="breadcrumb-node">Elastic Agent command line options</span>
</div>
<div class="navheader">
<span class="prev">
<a href="unenroll-elastic-agent.html">« Unenroll Elastic Agent</a>
</span>
<span class="next">
<a href="elastic-agent-configuration.html">Configuration settings »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="elastic-agent-cmd-options"></a>Elastic Agent command line options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>Elastic Agent provides commands for running the agent and doing common tasks:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-enroll-command" title="elastic-agent enroll">enroll</a>
</li>
<li class="listitem">
<a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-help-command" title="elastic-agent help">help</a>
</li>
<li class="listitem">
<a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-inspect-command" title="elastic-agent inspect">inspect</a>
</li>
<li class="listitem">
<a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-run-command" title="elastic-agent run">run</a>
</li>
<li class="listitem">
<a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-version-command" title="elastic-agent version">version</a>
</li>
</ul>
</div>
<hr>
<h4><a id="elastic-agent-enroll-command"></a>elastic-agent enroll<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h4>
<p>Enroll the Elastic Agent in Fleet.</p>
<p>We recommend that you run this command as the root user because some
integrations require root privileges to collect sensitive data. This command
overwrites the <code class="literal">elastic-agent.yml</code> file in the agent directory.</p>
<h5><a id="_synopsis"></a>Synopsis<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">elastic-agent enroll &lt;kibana_url&gt; &lt;enrollment_token&gt; [--ca-sha256 &lt;string&gt;]
                     [--certificate-authorities &lt;string&gt;] [--force] [--help]
                     [--insecure][global-flags]</pre>
</div>
<h5><a id="_options"></a>Options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">kibana_url</code>
</span>
</dt>
<dd>
Required. URL of the Kibana endpoint where Ingest Manager is running.
</dd>
<dt>
<span class="term">
<code class="literal">enrollment_token</code>
</span>
</dt>
<dd>
Required. Enrollment token generated by Ingest Manager. You can use the same
enrollment token for multiple agents.
</dd>
<dt>
<span class="term">
<code class="literal">--ca-sha256 &lt;string&gt;</code>
</span>
</dt>
<dd>
Comma-separated list of certificate authority hash pins used for certificate
verification.
</dd>
<dt>
<span class="term">
<code class="literal">--certificate-authorities &lt;string&gt;</code>
</span>
</dt>
<dd>
Comma-separated list of root certificates used for server verification.
</dd>
<dt>
<span class="term">
<code class="literal">--force</code>
</span>
</dt>
<dd>
Force overwrite of current configuration without prompting for confirmation.
This flag is helpful when using automation software or scripted deployments.
</dd>
<dt>
<span class="term">
<code class="literal">--help</code>
</span>
</dt>
<dd>
Show help for the <code class="literal">enroll</code> command.
</dd>
<dt>
<span class="term">
<code class="literal">--insecure</code>
</span>
</dt>
<dd>
Allow an insecure connection to Kibana. When this flag is specified, API keys are
sent in clear text. We strongly recommend that you use a secure connection.
</dd>
</dl>
</div>
<p>For more flags, see <a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-global-flags" title="Global flags">Global flags</a>.</p>
<h5><a id="_example"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">elastic-agent enroll http://localhost:5601 ZnmNIdzVITUJua2QIdU5FTWROVjY6dHY2N1EybWNTMUdPejg5ODbYcVpNUQ==</pre>
</div>
<hr>
<h4><a id="elastic-agent-help-command"></a>elastic-agent help<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h4>
<p>Show help for a specific command.</p>
<h5><a id="_synopsis_2"></a>Synopsis<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">elastic-agent help &lt;command&gt; [--help] [global-flags]</pre>
</div>
<h5><a id="_options_2"></a>Options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">command</code>
</span>
</dt>
<dd>
The name of the command.
</dd>
<dt>
<span class="term">
<code class="literal">--help</code>
</span>
</dt>
<dd>
Show help for the <code class="literal">help</code> command.
</dd>
</dl>
</div>
<p>For more flags, see <a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-global-flags" title="Global flags">Global flags</a>.</p>
<h5><a id="_example_2"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">elastic-agent help enroll</pre>
</div>
<hr>
<h4><a id="elastic-agent-inspect-command"></a>elastic-agent inspect<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h4>
<p>Show the current Elastic Agent configuration.</p>
<p>If no parameters are specified, shows the full Elastic Agent configuration.</p>
<h5><a id="_synopsis_3"></a>Synopsis<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">elastic-agent inspect [--help] [global-flags]
elastic-agent inspect output [--output &lt;string&gt;] [--program &lt;string&gt;]
                             [--help] [global-flags]</pre>
</div>
<h5><a id="_options_3"></a>Options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">output</code>
</span>
</dt>
<dd>
<p>
Display the current configuration for the output. This command
accepts additional flags:
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">--output &lt;string&gt;</code>
</span>
</dt>
<dd>
The name of the output to inspect.
</dd>
<dt>
<span class="term">
<code class="literal">--program &lt;string&gt;</code>
</span>
</dt>
<dd>
The type of program to inspect. For example, <code class="literal">filebeat</code>. This option must be
combined with <code class="literal">--output</code>.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">--help</code>
</span>
</dt>
<dd>
Show help for the <code class="literal">inspect</code> command.
</dd>
</dl>
</div>
<p>For more flags, see <a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-global-flags" title="Global flags">Global flags</a>.</p>
<h5><a id="_examples"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">elastic-agent inspect
elastic-agent inspect output --output default
elastic-agent inspect output --output default --program filebeat</pre>
</div>
<hr>
<h4><a id="elastic-agent-run-command"></a>elastic-agent run<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h4>
<p>Start the <code class="literal">elastic-agent</code> process.</p>
<h5><a id="_synopsis_4"></a>Synopsis<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">elastic-agent run [global-flags]</pre>
</div>
<h5><a id="elastic-agent-global-flags"></a>Global flags<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<p>These flags are valid whenever you run <code class="literal">elastic-agent</code> on the command line.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">-c &lt;string&gt;</code>
</span>
</dt>
<dd>
The configuration file to use. If not specified, Elastic Agent uses
<code class="literal">{path.home}/elastic-agent.yml</code>.
</dd>
<dt>
<span class="term">
<code class="literal">--e</code>
</span>
</dt>
<dd>
Log to stderr and disable syslog/file output.
</dd>
<dt>
<span class="term">
<code class="literal">--environment &lt;environmentVar&gt;</code>
</span>
</dt>
<dd>
The environment in which the agent will run.
</dd>
</dl>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">--path.config &lt;string&gt;</code>
</span>
</dt>
<dd>
The directory where Elastic Agent looks for its configuration file. The default
varies by platform.
</dd>
<dt>
<span class="term">
<code class="literal">--path.data &lt;string&gt;</code>
</span>
</dt>
<dd>
<p>
The data directory where Elastic Agent stores managed binaries and their logs. Also
stores logs for any programs started and managed by Elastic Agent.
</p>
<p>If not specified, Elastic Agent uses <code class="literal">{path.home}/data</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">--path.home &lt;string&gt;</code>
</span>
</dt>
<dd>
<p>
The home directory of Elastic Agent. <code class="literal">path.home</code> determines the location of the
configuration files and data directory.
</p>
<p>If not specified, Elastic Agent uses the current working directory.</p>
</dd>
<dt>
<span class="term">
<code class="literal">--path.logs &lt;string&gt;</code>
</span>
</dt>
<dd>
Path to the log output for Elastic Agent. The default varies by platform.
</dd>
<dt>
<span class="term">
<code class="literal">--v</code>
</span>
</dt>
<dd>
Set log level to INFO.
</dd>
</dl>
</div>
<h5><a id="_example_3"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">elastic-agent run -v --path.logs path/to/my/logs</pre>
</div>
<hr>
<h4><a id="elastic-agent-version-command"></a>elastic-agent version<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h4>
<p>Show the version of Elastic Agent.</p>
<h5><a id="_synopsis_5"></a>Synopsis<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">elastic-agent version [--help] [global-flags]</pre>
</div>
<h5><a id="_options_4"></a>Options<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">--help</code>
</span>
</dt>
<dd>
Show help for the <code class="literal">version</code> command.
</dd>
</dl>
</div>
<p>For more flags, see <a class="xref" href="elastic-agent-cmd-options.html#elastic-agent-global-flags" title="Global flags">Global flags</a>.</p>
<h5><a id="_example_4"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/beats/edit/7.x/x-pack/elastic-agent/docs/elastic-agent-command-line.asciidoc">edit</a></h5>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">elastic-agent version</pre>
</div>
<hr>
</div>
<div class="navfooter">
<span class="prev">
<a href="unenroll-elastic-agent.html">« Unenroll Elastic Agent</a>
</span>
<span class="next">
<a href="elastic-agent-configuration.html">Configuration settings »</a>
</span>
</div>
</div>
</body>
</html>
