<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>elastic-package reference | Integrations Developer Guide | Elastic</title>
<meta class="elastic" name="content" content="elastic-package reference | Integrations Developer Guide">

<link rel="home" href="index.html" title="Integrations Developer Guide"/>
<link rel="up" href="index.html" title="Integrations Developer Guide"/>
<link rel="prev" href="testing-new-indexing-features.html" title="How to test new indexing features"/>
<link rel="next" href="package-spec.html" title="Package specification"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Integrations"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Integrations/Developer"/>
<meta name="DC.subject" content="Integrations"/>
<meta name="DC.identifier" content="master"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="testing-new-indexing-features.html">« How to test new indexing features</a>
</span>
<span class="next">
<a href="package-spec.html">Package specification »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Integrations Developer Guide</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>elastic-package reference</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="elastic-package"></a><code class="literal">elastic-package</code> reference</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
</div></div></div>
<p><code class="literal">elastic-package</code> is a command line tool, written in Go, used for developing Elastic packages.
It can help you lint, format, test, build, and promote your packages.</p>
<div class="position-relative"><h3><a id="elastic-package-start"></a>Get started</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Download and build the latest main of elastic-package binary:</p>
<div class="pre_wrapper lang-terminal">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-terminal">git clone https://github.com/elastic/elastic-package.git
make build</pre>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Make sure that you&#8217;ve correctly set up the <a href="https://golang.org/doc/gopath_code.html#GOPATH" class="ulink" target="_top"><code class="literal">$GOPATH</code> and <code class="literal">$PATH</code></a>
environment variables. <code class="literal">elastic-package</code> must be accessible from your <code class="literal">$PATH</code>.</p>
</div>
</div>
</li>
<li class="listitem">
<p>Change into the directory of the package under development:</p>
<div class="pre_wrapper lang-terminal">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-terminal">cd my-package</pre>
</div>
</li>
<li class="listitem">
<p>Run the <code class="literal">help</code> command to see available commands</p>
<div class="pre_wrapper lang-terminal">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-terminal">elastic-package help</pre>
</div>
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="elastic-package-command-reference"></a>Command reference</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p>The following <code class="literal">elastic-package</code> commands are available.
For more details on a specific command, run <code class="literal">elastic-package help &lt;command&gt;</code>.</p>
<p>Some commands have a <em>global context</em>, meaning that you can execute them from anywhere.
Other commands have a <em>package context</em>; these must be executed from somewhere under a package
root folder, and the command will only operate on the contents of that package.</p>
<div class="position-relative"><h4><a id="_elastic_package_help"></a><code class="literal">elastic-package help</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: global</em></p>
<p>Use this command to list all commands available under <code class="literal">elastic-package</code> and a brief
description of what each command does.</p>
<div class="position-relative"><h4><a id="_elastic_package_build"></a><code class="literal">elastic-package build</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to build a package. Currently, it supports only the "integration" package type.</p>
<p>Built packages are stored in the "build/" folder located at the root folder of the local Git repository checkout that contains your package folder. The command will also render the README file in your package folder if a corresponding template file present in <code class="literal">_dev/build/docs/README.md</code>. All <code class="literal">_dev</code> directories under your package will be omitted.</p>
<p>Built packages are served up by the Elastic Package Registry running locally (see "elastic-package stack"). Therefore, if you want a local package to be served up by the local Elastic Package Registry, make sure to build that package first using "elastic-package build".</p>
<p>You can also publish built packages to the global package registry service.</p>
<div class="position-relative"><h4><a id="_elastic_package_check"></a><code class="literal">elastic-package check</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to verify if the package is correct in terms of formatting, validation and building.</p>
<p>It will execute the format, lint, and build commands all at once, in that order.</p>
<div class="position-relative"><h4><a id="_elastic_package_clean"></a><code class="literal">elastic-package clean</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to clean resources used for building the package.</p>
<p>The command will remove built package files (in build/), files needed for managing the development stack (in <code class="literal">~/.elastic-package/stack/development</code>) and stack service logs (in <code class="literal">~/.elastic-package/tmp/service_logs</code>).</p>
<div class="position-relative"><h4><a id="_elastic_package_create"></a><code class="literal">elastic-package create</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: global</em></p>
<p>Use this command to create a new package or add more data streams.</p>
<p>The command can help bootstrap the first draft of a package using an embedded package template. Then, you can use it to extend the package with more data streams.</p>
<p>For details on creating a new package, review the <a href="https://github.com/elastic/elastic-package/blob/main/docs/howto/create_new_package.md" class="ulink" target="_top">HOWTO guide</a>.</p>
<div class="position-relative"><h4><a id="_elastic_package_export"></a><code class="literal">elastic-package export</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to export assets relevant for the package, e.g. Kibana dashboards.</p>
<div class="position-relative"><h4><a id="_elastic_package_format"></a><code class="literal">elastic-package format</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to format the package files.</p>
<p>The formatter supports JSON and YAML format and skips "ingest_pipeline" directories as it&#8217;s hard to correctly format Handlebars template files. As a result, formatted files are overwritten.</p>
<div class="position-relative"><h4><a id="elastic-package-install"></a><code class="literal">elastic-package install</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to upload and install a package in Kibana.</p>
<p>Starting with Kibana version <code class="literal">8.7.0</code>, packages do not need to be exposed in the Package Registry to be installed.
Instead, they can be upload as zip files built using the <code class="literal">elastic-package build</code> command.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Ensure you&#8217;ve validated your package. Before building, validate the package by running the <code class="literal">elastic-package check</code> command.
</li>
<li class="listitem">
Use either the <code class="literal">--zip</code> parameter to install a specific zip file or the <code class="literal">install</code> command to build the package and upload the built zip file to Kibana.
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="_install_with_zip"></a>Install with <code class="literal">--zip</code></h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p>Install a zipped package. This method relies on Package Registry.</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">elastic-package stack up -d
elastic-package install --zip /home/user/Coding/work/integrations/build/packages/elastic_package_registry-0.0.6.zip -v</pre>
</div>
<div class="position-relative"><h5><a id="_install_with_elastic_package_install"></a>Install with <code class="literal">elastic-package install</code></h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p>Build and upload a zipped package without relying on Package Registry.</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">elastic-package stack up -v -d
elastic-package install -v</pre>
</div>
<div class="position-relative"><h5><a id="_customization"></a>Customization</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p>Package installation can be customized to be installed in other Kibana instances with the following variables:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">ELASTIC_PACKAGE_KIBANA_HOST</code>
</li>
<li class="listitem">
<code class="literal">ELASTIC_PACKAGE_ELASTICSEARCH_USERNAME</code>
</li>
<li class="listitem">
<code class="literal">ELASTIC_PACKAGE_ELASTICSEARCH_PASSWORD</code>
</li>
<li class="listitem">
<code class="literal">ELASTIC_PACKAGE_CA_CERT</code>
</li>
</ul>
</div>
<p>For example:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">export ELASTIC_PACKAGE_KIBANA_HOST="https://test-installation.kibana.test:9243"
export ELASTIC_PACKAGE_ELASTICSEARCH_USERNAME="elastic"
export ELASTIC_PACKAGE_ELASTICSEARCH_PASSWORD="xxx"
# if it is a public instance, this variable should not be needed
export ELASTIC_PACKAGE_CA_CERT=""

elastic-package install --zip elastic_package_registry-0.0.6.zip -v</pre>
</div>
<div class="position-relative"><h5><a id="_older_versions"></a>Older versions</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p>For versions of Kibana <code class="literal">&lt;8.7.0</code>, the package must be exposed via the Package Registry.
In case of development, this means that the package should be built previously and then the Elastic stack must be started.
Or, at least, the <code class="literal">package-registry</code> service needs to be restarted in the Elastic stack:</p>
<div class="pre_wrapper lang-terminal">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-terminal">elastic-package build -v
elastic-package stack up -v -d  # elastic-package stack up -v -d --services package-registry
elastic-package install -v</pre>
</div>
<p>To install the package in Kibana, the command uses Kibana API. The package must be exposed via the Elastic Package Registry.</p>
<div class="position-relative"><h4><a id="_elastic_package_lint"></a><code class="literal">elastic-package lint</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to validate the contents of a package using the package specification (see: <a href="https://github.com/elastic/package-spec" class="ulink" target="_top">https://github.com/elastic/package-spec</a>).</p>
<p>The command ensures that the package aligns with the package spec and that the README file is up-to-date with its template (if present).</p>
<div class="position-relative"><h4><a id="_elastic_package_profiles"></a><code class="literal">elastic-package profiles</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: global</em></p>
<p>Use this command to add, remove, and manage multiple config profiles.</p>
<p>Individual user profiles appear in ~/.elastic-package/stack and contain all the config files needed by the "stack" subcommand.
Once a new profile is created, it can be specified with the -p flag, or the ELASTIC_PACKAGE_PROFILE environment variable.
User profiles are not overwritten on an upgrade of elastic-stack and can be freely modified to allow for different stack configs.</p>
<div class="position-relative"><h4><a id="_elastic_package_promote"></a><code class="literal">elastic-package promote</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: global</em></p>
<p>Use this command to move packages between the Elastic Package Registry snapshot, staging, and production stages.</p>
<p>This command is intended primarily for use by administrators.</p>
<p>It allows for selecting packages for promotion and opens new pull requests to review changes. However, please be aware that the tool checks out an in-memory Git repository and switches over branches (snapshot, staging and production), so it may take longer to promote a larger number of packages.</p>
<div class="position-relative"><h4><a id="_elastic_package_publish"></a><code class="literal">elastic-package publish</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to publish a new package revision.</p>
<p>The command checks if the package has already been published (whether it&#8217;s present in the snapshot/staging/production branch or open as pull request). If the package revision hasn&#8217;t been published, it will open a new pull request.</p>
<div class="position-relative"><h4><a id="_elastic_package_service"></a><code class="literal">elastic-package service</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to boot up the service stack that can be observed with the package.</p>
<p>The command manages the lifecycle of the service stack defined for the package (<code class="literal">_dev/deploy</code>) for package development and testing purposes.</p>
<div class="position-relative"><h4><a id="_elastic_package_stack"></a><code class="literal">elastic-package stack</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: global</em></p>
<p>Use this command to spin up a Docker-based Elastic Stack consisting of Elasticsearch, Kibana, and the Elastic Package Registry. By default, the latest released version of the Elastic Stack is spun up, but it is possible to specify a different version, including SNAPSHOT versions.</p>
<p>For details on connecting the service with the Elastic Stack, see the <a href="https://github.com/elastic/elastic-package/blob/main/README.md#elastic-package-service" class="ulink" target="_top">service command</a>.</p>
<div class="position-relative"><h4><a id="_elastic_package_status_package"></a><code class="literal">elastic-package status [package]</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to display the current deployment status of a package.</p>
<p>If a package name is specified, then information about that package is
returned. Otherwise, this command checks if the current directory is a
package directory and reports its status.</p>
<div class="position-relative"><h4><a id="_elastic_package_test"></a><code class="literal">elastic-package test</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to run tests on a package. Currently, the following types of tests are available:</p>
<div class="position-relative"><h5><a id="_asset_loading_tests"></a>Asset Loading Tests</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p>These tests ensure that all the Elasticsearch and Kibana assets defined by your package get loaded up as expected.</p>
<p>For details on running asset loading tests for a package, see the <a href="https://github.com/elastic/elastic-package/blob/main/docs/howto/asset_testing.md" class="ulink" target="_top">HOWTO guide</a>.</p>
<div class="position-relative"><h5><a id="_pipeline_tests"></a>Pipeline Tests</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p>These tests allow you to exercise any Ingest Node Pipelines defined by your packages.</p>
<p>For details on how configuring a pipeline test for a package, review the <a href="https://github.com/elastic/elastic-package/blob/main/docs/howto/pipeline_testing.md" class="ulink" target="_top">HOWTO guide</a>.</p>
<div class="position-relative"><h5><a id="_static_tests"></a>Static Tests</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p>These tests allow you to verify if all static resources of the package are valid, e.g. if all fields of the sample_event.json are documented.</p>
<p>For details on  running static tests for a package, see the <a href="https://github.com/elastic/elastic-package/blob/main/docs/howto/static_testing.md" class="ulink" target="_top">HOWTO guide</a>.</p>
<div class="position-relative"><h5><a id="_system_tests"></a>System Tests</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p>These tests allow you to test a package ability for ingesting data end-to-end.</p>
<p>For details on configuring and running system tests, review the <a href="https://github.com/elastic/elastic-package/blob/main/docs/howto/system_testing.md" class="ulink" target="_top">HOWTO guide</a>.</p>
<div class="position-relative"><h4><a id="_elastic_package_uninstall"></a><code class="literal">elastic-package uninstall</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: package</em></p>
<p>Use this command to uninstall the package in Kibana.</p>
<p>To uninstall the package in Kibana, the command uses the Kibana API. The package must be exposed via the Elastic Package Registry.</p>
<div class="position-relative"><h4><a id="_elastic_package_version"></a><code class="literal">elastic-package version</code></h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/elastic-package.asciidoc">edit</a></div>
<p><em>Context: global</em></p>
<p>Use this command to print the version of elastic-package that you have installed. This command is especially useful when reporting bugs.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="testing-new-indexing-features.html">« How to test new indexing features</a>
</span>
<span class="next">
<a href="package-spec.html">Package specification »</a>
</span>
</div>
</body>
</html>
