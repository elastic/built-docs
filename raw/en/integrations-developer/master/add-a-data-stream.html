<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Add a data stream | Integrations Developer Guide | Elastic</title>
<meta class="elastic" name="content" content="Add a data stream | Integrations Developer Guide">

<link rel="home" href="index.html" title="Integrations Developer Guide"/>
<link rel="up" href="build-a-new-integration.html" title="Build an integration"/>
<link rel="prev" href="build-create-package.html" title="Create a new package"/>
<link rel="next" href="define-deployment-modes.html" title="Define deployment modes"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Integrations"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Integrations/Developer"/>
<meta name="DC.subject" content="Integrations"/>
<meta name="DC.identifier" content="master"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="build-create-package.html">« Create a new package</a>
</span>
<span class="next">
<a href="define-deployment-modes.html">Define deployment modes »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Integrations Developer Guide</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="build-a-new-integration.html">Build an integration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Add a data stream</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/build-integration.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="add-a-data-stream"></a>Add a data stream</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/integrations/build-integration.asciidoc">edit</a></div>
</div></div></div>
<p>A data stream is a logical sub-division of an integration package,
dealing with a specific observable aspect of the service or product being observed. For example,
the <a href="https://github.com/elastic/integrations/tree/main/packages/apache" class="ulink" target="_top">Apache integration</a> has three data streams,
each represented by a separate folder of assets in the <code class="literal">data_stream</code> directory:</p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">apache
└───data_stream
│   └───access
│   └───error
│   └───status</pre>
</div>
<div class="sidebar">
<div class="titlepage"></div>
<p><span class="strong strong"><strong>Data streams</strong></span> allow you to store time series data across multiple indices while giving you a single named resource for requests.</p>
<p>A data stream defines multiple Elasticsearch assets, like index templates, ingest pipelines, and field definitions.
These assets are loaded into Elasticsearch when a user installs an integration using the Fleet UI in Kibana.</p>
<p>A data stream also defines a policy template.
Policy templates include variables that allow users to configure the data stream using the Fleet UI in Kibana.
Then, the Elastic Agent interprets the resulting policy to collect relevant information from the product or service being observed.
Policy templates can also define an integration&#8217;s supported <a class="xref" href="define-deployment-modes.html#deployment_modes" title="deployment_modes"><code class="literal">deployment_modes</code></a>.</p>
<p>See <a href="/guide/en/fleet/master/data-streams.html" class="ulink" target="_top">data streams</a> for more information.</p>
</div>
<p>Bootstrap a new data stream using the TUI wizard.
In the directory of your package, run:</p>
<div class="pre_wrapper lang-terminal">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-terminal">elastic-package create data-stream</pre>
</div>
<p>Follow the prompts to name, title, and select your data stream type.
Then, run this command each time you add a new data stream to your integration.</p>
<p>Next, manually adjust the data stream:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
define required variables
</li>
<li class="listitem">
define used fields
</li>
<li class="listitem">
define ingest pipeline definitions (if necessary)
</li>
<li class="listitem">
update the Elastic Agent&#8217;s stream configuration
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="build-create-package.html">« Create a new package</a>
</span>
<span class="next">
<a href="define-deployment-modes.html">Define deployment modes »</a>
</span>
</div>
</body>
</html>
