<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AWS Fargate Integration (for ECS clusters) | Elastic integrations | Elastic</title>
<meta class="elastic" name="content" content="AWS Fargate Integration (for ECS clusters) | Elastic integrations">

<link rel="home" href="index.html" title="Elastic integrations"/>
<link rel="up" href="aws.html" title="AWS Integration"/>
<link rel="prev" href="aws-elb.html" title="Amazon ELB"/>
<link rel="next" href="aws-inspector.html" title="Inspector"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Integrations"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Integrations/Reference"/>
<meta name="DC.subject" content="Integrations"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="aws-elb.html">« Amazon ELB</a>
</span>
<span class="next">
<a href="aws-inspector.html">Inspector »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic integrations</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="aws.html">AWS Integration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>AWS Fargate Integration (for ECS clusters)</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="awsfargate"></a>AWS Fargate Integration (for ECS clusters)</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
</div></div></div>

<div class="condensed-table">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Version</strong></span></p></td>
<td align="left" valign="top"><p>1.2.1 (<a class="xref" href="awsfargate.html#awsfargate-changelog" title="Changelog">View all</a>)</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Compatible Kibana version(s)</strong></span></p></td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Supported Serverless project types</strong></span><br>
 <a class="xref" href="serverless-support.html" title="Supported Serverless project types"><span class="small">What&#8217;s this?</span></a></p></td>
<td align="left" valign="top"><p>Security<br>
Observability</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Subscription level</strong></span><br>
<a href="/subscriptions" class="ulink" target="_top"><span class="small">What&#8217;s this?</span></a></p></td>
<td align="left" valign="top"><p>Basic</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Level of support</strong></span><br>
<a class="xref" href="support.html" title="Level of support"><span class="small">What&#8217;s this?</span></a></p></td>
<td align="left" valign="top"><p>Elastic</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="position-relative"><h4><a id="awsfargate-overview"></a>Overview</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>The AWS Fargate integration helps to retrieve metadata, network metrics, and Docker stats about your containers and the tasks that are part of an <a href="https://aws.amazon.com/ecs/?pg=ln&amp;sec=hiw" class="ulink" target="_top">Amazon Elastic Container Service (Amazon ECS)</a> cluster.</p>
<p>The AWS Fargate integration currently supports ECS clusters only. It does not support EKS clusters.</p>
<div class="position-relative"><h4><a id="awsfargate-credentials"></a>Credentials</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>This integration does not require AWS credentials. The ECS task metadata endpoint is accessible only inside the cluster.</p>
<div class="position-relative"><h4><a id="awsfargate-setup"></a>Setup</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>To start collecting AWS Fargate metrics, you must run the Elastic Agent as a <a href="https://www.oreilly.com/library/view/designing-distributed-systems/9781491983638/ch02.html" class="ulink" target="_top">sidecar</a> container alongside your application container in the same task definition.</p>
<p>Each task definition must run an Agent because task metadata information is only available to containers running in the task.</p>
<p>Here&#8217;s an example of an Elastic Agent running as a sidecar with an application container:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">TaskDefinition:
    Type: AWS::ECS::TaskDefinition
    Properties:
      Family: !Ref TaskName
      Cpu: 256
      Memory: 512
      NetworkMode: awsvpc
      ExecutionRoleArn: !Ref ExecutionRole
      ContainerDefinitions:
        - Name: &lt;application-container&gt;              &lt;&lt; ===== Application container
          Image: &lt;application-container-image&gt;
          &lt;application-container-settings&gt;
        - Name: elastic-agent-container              &lt;&lt; ===== Elastic Agent container
          Image: docker.elastic.co/beats/elastic-agent:8.12.0</pre>
</div>
<p>The Elastic Agent collects metrics using the <a href="https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-fargate.html" class="ulink" target="_top">Amazon ECS task metadata endpoint</a>.</p>
<p>The Amazon ECS task metadata endpoint is an HTTP endpoint available to each container and enabled by default on <a href="https://aws.amazon.com/blogs/containers/aws-fargate-launches-platform-version-1-4/" class="ulink" target="_top">AWS Fargate platform version 1.4.0</a> and later. The Elastic Agent uses <a href="https://docs.aws.amazon.com/AmazonECS/latest/userguide/task-metadata-endpoint-v4-fargate.html" class="ulink" target="_top">Task metadata endpoint version 4</a>.</p>
<div class="position-relative"><h4><a id="awsfargate-getting-started-using-the-aws-management-console"></a>Getting started using the AWS Management Console</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>This section shows you how to run the Elastic Agent in a ECS cluster, start collecting Fargate on ECS metrics, and send them to an Elastic Stack.</p>
<p>To quickly deploy on your existing ECS cluster, follow these steps.</p>
<div class="position-relative"><h5><a id="awsfargate-task-definition"></a>Task Definition</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>Open the AWS Management Console and visit the Amazon ECS page. Here you can select "Task Definitions" and then "Create new Task Definition" to start the wizard.</p>
<p>Step 1:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Select "Fargate" from the list of available launch types.
</li>
</ul>
</div>
<p>Step 2:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add your preferred name for the "Task definition name", for example "elastic-agent-fargate-deployment".
</li>
<li class="listitem">
For the "Task role", select "ecsFargateTaskExecutionRole".
</li>
<li class="listitem">
For the "Operating system family", select "Linux".
</li>
<li class="listitem">
Pick a value for "Task memory (GB)" and "Task CPU (vCPU)"; the lowest values are fine for testing purposes.
</li>
<li class="listitem">
Click on "Add container".
</li>
</ul>
</div>
<p>As for the container, you can use the following values:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Container name: <code class="literal">elastic-agent-container</code>
</li>
<li class="listitem">
Image: <code class="literal">docker.elastic.co/beats/elastic-agent:8.12.0</code>
</li>
<li class="listitem">
<p>Environment variables:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
FLEET_ENROLL: <code class="literal">yes</code>
</li>
<li class="listitem">
FLEET_ENROLLMENT_TOKEN: <code class="literal">&lt;enrollment-token&gt;</code>
</li>
<li class="listitem">
FLEET_URL: <code class="literal">&lt;fleet-server-url&gt;</code>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>use the AWS Secrets Manager to store the Fleet Server enrollment token.</p>
</div>
</div>
<div class="position-relative"><h5><a id="awsfargate-service"></a>Service</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>Select an existing ECS cluster and create a new service with launch type "FARGATE". Use the task definition we just created.</p>
<p>As soon as the Elastic Agent is started, open the dashboard "[AWS Fargate] Fargate Overview" and you will see the metrics show up in few minutes.</p>
<div class="position-relative"><h4><a id="awsfargate-getting-started-using-the-aws-cli"></a>Getting started using the AWS CLI</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>In this example, we will use the AWS CLI and a CloudFormation template to set up the following resources:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
an ECS cluster,
</li>
<li class="listitem">
a task definition for the Elastic Agent,
</li>
<li class="listitem">
a service to execute the agent task on the cluster.
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="_setup"></a>Setup</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>Prepare you terminal and AWS environment to create the ECS cluster for the testing.</p>
<div class="position-relative"><h6><a id="awsfargate-pick-a-region"></a>Pick a region</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>Set default AWS region for this session:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">export AWS_DEFAULT_REGION="us-east-1"</pre>
</div>
<div class="position-relative"><h6><a id="awsfargate-secrets-management"></a>Secrets management</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>Store the enrollment token and the Fleet Server URL in the AWS Secrets Manager:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">aws secretsmanager create-secret \
    --name FLEET_ENROLLMENT_TOKEN \
    --secret-string &lt;your-fleet-enrollment-token-goes-here&gt;

aws secretsmanager create-secret \
    --name FLEET_URL \
    --secret-string &lt;your-fleet-url&gt;</pre>
</div>
<p>Take note of the Amazon Resource Name (ARN) of both secrets, we&#8217;ll use them in a moment.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>if you need to update them during your tests, use the following <code class="literal">put-secret-value</code> to do it:</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">aws secretsmanager put-secret-value \
    --secret-id FLEET_ENROLLMENT_TOKEN \
    --secret-string &lt;fleet-enrollment-token&gt;</pre>
</div>
<div class="position-relative"><h6><a id="awsfargate-networking"></a>Networking</h6><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>One more thing. You need to pick one subnet where your ECS cluster will be created in. Take note of the subnet ID for the very next step.</p>
<div class="position-relative"><h5><a id="awsfargate-deploy-the-stack"></a>Deploy the stack</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>Copy the following CloudFormation template and save it on you computer with the name <code class="literal">cloudformation.yml</code>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">AWSTemplateFormatVersion: "2010-09-09"
Parameters:
  SubnetID:
    Type: String
    Description: Enter the ID of the subnet you want to create the cluster in.
  FleetEnrollmentTokenSecretArn:
    Type: String
    Description: Enter the Amazon Resource Name (ARN) of the secret holding the enrollment token for the Elastic Agent.
  FleetUrlSecretArn:
    Type: String
    Description: Enter the Amazon Resource Name (ARN) of the secret holding the Fleet Server URL.
  ClusterName:
    Type: String
    Default: elastic-agent-fargate
    Description: Enter the name of the Fargate cluster to create.
  RoleName:
    Type: String
    Default: ecsFargateTaskExecutionRole
    Description: Enter the Amazon Resource Name (ARN) of the task execution role that grants the Amazon ECS container agent permission to make AWS API calls on your behalf.
  TaskName:
    Type: String
    Default: elastic-agent-fargate-task
    Description: Enter the name of the task definition to create.
  ServiceName:
    Type: String
    Default: elastic-agent-fargate-service
    Description: Enter the name of the service to create.
  LogGroupName:
    Type: String
    Default: elastic-agent-fargate-log-group
    Description: Enter the name of the log group to create.
Resources:
  Cluster:
    Type: AWS::ECS::Cluster
    Properties:
      ClusterName: !Ref ClusterName
      ClusterSettings:
        - Name: containerInsights
          Value: disabled
  LogGroup:
    Type: AWS::Logs::LogGroup
    Properties:
      LogGroupName: !Ref LogGroupName
  ExecutionRole:
    Type: AWS::IAM::Role
    Properties:
      RoleName: !Ref RoleName
      AssumeRolePolicyDocument:
        Statement:
          - Effect: Allow
            Principal:
              Service: ecs-tasks.amazonaws.com
            Action: sts:AssumeRole
      ManagedPolicyArns:
        - arn:aws:iam::aws:policy/service-role/AmazonECSTaskExecutionRolePolicy
      Policies:
        - PolicyName: !Sub 'EcsTaskExecutionRole-${AWS::StackName}'
          PolicyDocument:
            Version: 2012-10-17
            Statement:
              - Effect: Allow
                Action:
                  - secretsmanager:GetSecretValue
                Resource:
                  - !Ref FleetEnrollmentTokenSecretArn
                  - !Ref FleetUrlSecretArn
  TaskDefinition:
    Type: AWS::ECS::TaskDefinition
    Properties:
      Family: !Ref TaskName
      Cpu: 256
      Memory: 512
      NetworkMode: awsvpc
      ExecutionRoleArn: !Ref ExecutionRole
      ContainerDefinitions:
        - Name: elastic-agent-container
          Image: docker.elastic.co/beats/elastic-agent:8.12.0
          Secrets:
            - Name: FLEET_ENROLLMENT_TOKEN
              ValueFrom: !Ref FleetEnrollmentTokenSecretArn
            - Name: FLEET_URL
              ValueFrom: !Ref FleetUrlSecretArn
          LogConfiguration:
            LogDriver: awslogs
            Options:
              awslogs-region: !Ref AWS::Region
              awslogs-group: !Ref LogGroup
              awslogs-stream-prefix: ecs
          Environment:
            - Name: FLEET_ENROLL
              Value: true
              # You migh need to set FLEET_INSECURE to true
              # if you're connecting to a development
              # environment. Use it responsibly.
              # - Name: FLEET_INSECURE
              #   Value: true
      RequiresCompatibilities:
        - EC2
        - FARGATE
  Service:
    Type: AWS::ECS::Service
    Properties:
      ServiceName: !Ref ServiceName
      Cluster: !Ref Cluster
      TaskDefinition: !Ref TaskDefinition
      DesiredCount: 1
      LaunchType: FARGATE
      NetworkConfiguration:
        AwsvpcConfiguration:
          AssignPublicIp: ENABLED
          Subnets:
            - !Ref SubnetID</pre>
</div>
<p>We are now finally ready to deploy the ECS cluster with the Elastic Agent running in its own task.</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">aws cloudformation create-stack \
    --stack-name elastic-agent-fargate-deployment \
    --template-body file://./cloudformation.yml \
    --capabilities CAPABILITY_NAMED_IAM \
    --parameters \
        ParameterKey=SubnetID,ParameterValue=&lt;subnet-id&gt; \
        ParameterKey=FleetEnrollmentTokenSecretArn,ParameterValue=arn:aws:secretsmanager:eu-west-1:000123456789:secret:FLEET_ENROLLMENT_TOKEN-ZxsJGw \
        ParameterKey=FleetUrlSecretArn,ParameterValue=arn:aws:secretsmanager:eu-west-1:000123456789:secret:FLEET_URL-mvjF3a \
        ParameterKey=ClusterName,ParameterValue=elastic-agent-fargate \
        ParameterKey=RoleName,ParameterValue=ecsFargateTaskExecutionRole \
        ParameterKey=TaskName,ParameterValue=elastic-agent-fargate-task \
        ParameterKey=ServiceName,ParameterValue=elastic-agent-fargate-service \
        ParameterKey=LogGroupName,ParameterValue=elastic-agent-fargate-log-group</pre>
</div>
<p>The AWS CLI will return a <code class="literal">StackId</code>:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
    "StackId": "arn:aws:cloudformation:eu-west-1:000123456789:stack/elastic-agent-deployment/fc324160-b0f9-11ec-9c45-0643aa7239c3"
}</pre>
</div>
<p>Check the stack status until it has reached the <code class="literal">CREATE_COMPLETE</code> status. Use the AWS Management Console or the AWS CLI (requires the tool <a href="https://stedolan.github.io/jq/" class="ulink" target="_top">jq</a>):</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">$ aws cloudformation list-stacks | jq '.StackSummaries[] | .StackName + " " + .StackStatus'

"elastic-agent-fargate-deployment CREATE_COMPLETE"</pre>
</div>
<p>That&#8217;s it!</p>
<div class="position-relative"><h5><a id="awsfargate-clean-up"></a>Clean up</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>Once you&#8217;re done with experimenting, you can remove all the resources (ECS cluster, task, service, etc) with the following command:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">aws cloudformation delete-stack --stack-name elastic-agent-fargate-deployment</pre>
</div>
<div class="position-relative"><h4><a id="awsfargate-further-readings"></a>Further Readings</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p>If you want to learn more about Amazon ECS metrics, take a look at the blog post <a href="/blog/how-to-monitor-amazon-ecs-with-elastic-observability" class="ulink" target="_top">How to monitor Amazon ECS with Elastic Observability</a>.</p>
<div class="position-relative"><h4><a id="awsfargate-metrics"></a>Metrics</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<div class="position-relative"><h5><a id="awsfargate-task-stats"></a>Task Stats</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<p><span class="strong strong"><strong>ECS Field Reference</strong></span></p>
<p>Please refer to the following <a href="/guide/en/ecs/current/ecs-field-reference.html" class="ulink" target="_top">document</a> for detailed information on ECS fields.</p>
<details>
<summary class="title"><span class="strong strong"><strong>Exported fields</strong></span></summary>
<div class="content">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Metric Type</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>@timestamp</p></td>
<td align="left" valign="top"><p>Event timestamp.</p></td>
<td align="left" valign="top"><p>date</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>agent.id</p></td>
<td align="left" valign="top"><p>Unique identifier of this agent (if one exists). Example: For Beats this would be beat.id.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cluster_name</p></td>
<td align="left" valign="top"><p>Cluster name</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.core.*.norm.pct</p></td>
<td align="left" valign="top"><p>Percentage of time per CPU core normalized by the number of CPU cores.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.core.*.pct</p></td>
<td align="left" valign="top"><p>Percentage of time per CPU core.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.core.*.ticks</p></td>
<td align="left" valign="top"><p>CPU ticks per CPU core.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.kernel.norm.pct</p></td>
<td align="left" valign="top"><p>Percentage of time in kernel space normalized by the number of CPU cores.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.kernel.pct</p></td>
<td align="left" valign="top"><p>Percentage of time in kernel space.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.kernel.ticks</p></td>
<td align="left" valign="top"><p>CPU ticks in kernel space.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.system.norm.pct</p></td>
<td align="left" valign="top"><p>Percentage of total CPU time in the system normalized by the number of CPU cores.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.system.pct</p></td>
<td align="left" valign="top"><p>Percentage of total CPU time in the system.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.system.ticks</p></td>
<td align="left" valign="top"><p>CPU system ticks.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.total.norm.pct</p></td>
<td align="left" valign="top"><p>Total CPU usage normalized by the number of CPU cores.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.total.pct</p></td>
<td align="left" valign="top"><p>Total CPU usage.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.user.norm.pct</p></td>
<td align="left" valign="top"><p>Percentage of time in user space normalized by the number of CPU cores.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.user.pct</p></td>
<td align="left" valign="top"><p>Percentage of time in user space.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.cpu.user.ticks</p></td>
<td align="left" valign="top"><p>CPU ticks in user space.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.read.bytes</p></td>
<td align="left" valign="top"><p>Bytes read during the life of the container</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.read.ops</p></td>
<td align="left" valign="top"><p>Number of reads during the life of the container</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.read.queued</p></td>
<td align="left" valign="top"><p>Total number of queued requests</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.read.rate</p></td>
<td align="left" valign="top"><p>Number of current reads per second</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.read.service_time</p></td>
<td align="left" valign="top"><p>Total time to service IO requests, in nanoseconds</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.read.wait_time</p></td>
<td align="left" valign="top"><p>Total time requests spent waiting in queues for service, in nanoseconds</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.reads</p></td>
<td align="left" valign="top"><p>Number of current reads per second</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.summary.bytes</p></td>
<td align="left" valign="top"><p>Bytes read and written during the life of the container</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.summary.ops</p></td>
<td align="left" valign="top"><p>Number of I/O operations during the life of the container</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.summary.queued</p></td>
<td align="left" valign="top"><p>Total number of queued requests</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.summary.rate</p></td>
<td align="left" valign="top"><p>Number of current operations per second</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.summary.service_time</p></td>
<td align="left" valign="top"><p>Total time to service IO requests, in nanoseconds</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.summary.wait_time</p></td>
<td align="left" valign="top"><p>Total time requests spent waiting in queues for service, in nanoseconds</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.total</p></td>
<td align="left" valign="top"><p>Number of reads and writes per second</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.write.bytes</p></td>
<td align="left" valign="top"><p>Bytes written during the life of the container</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.write.ops</p></td>
<td align="left" valign="top"><p>Number of writes during the life of the container</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.write.queued</p></td>
<td align="left" valign="top"><p>Total number of queued requests</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.write.rate</p></td>
<td align="left" valign="top"><p>Number of current writes per second</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.write.service_time</p></td>
<td align="left" valign="top"><p>Total time to service IO requests, in nanoseconds</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.write.wait_time</p></td>
<td align="left" valign="top"><p>Total time requests spent waiting in queues for service, in nanoseconds</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.diskio.writes</p></td>
<td align="left" valign="top"><p>Number of current writes per second</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.identifier</p></td>
<td align="left" valign="top"><p>Container identifier across tasks and clusters, which equals to container.name + <em>/</em> + container.id.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.commit.peak</p></td>
<td align="left" valign="top"><p>Peak committed bytes on Windows</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.commit.total</p></td>
<td align="left" valign="top"><p>Total bytes</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.fail.count</p></td>
<td align="left" valign="top"><p>Fail counter.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.limit</p></td>
<td align="left" valign="top"><p>Memory limit.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.private_working_set.total</p></td>
<td align="left" valign="top"><p>Private working sets on Windows</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.rss.pct</p></td>
<td align="left" valign="top"><p>Memory resident set size percentage.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.rss.total</p></td>
<td align="left" valign="top"><p>Total memory resident set size.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.rss.usage.max</p></td>
<td align="left" valign="top"><p>Max memory usage.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.rss.usage.pct</p></td>
<td align="left" valign="top"><p>Memory usage percentage.</p></td>
<td align="left" valign="top"><p>scaled_float</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.rss.usage.total</p></td>
<td align="left" valign="top"><p>Total memory usage.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.stats.*</p></td>
<td align="left" valign="top"><p>Raw memory stats from the cgroups memory.stat interface</p></td>
<td align="left" valign="top"><p>unsigned_long</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.usage.max</p></td>
<td align="left" valign="top"><p>Max memory usage.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.memory.usage.total</p></td>
<td align="left" valign="top"><p>Total memory usage.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>gauge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.network.*.inbound.bytes</p></td>
<td align="left" valign="top"><p>Total number of incoming bytes.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.network.*.inbound.dropped</p></td>
<td align="left" valign="top"><p>Total number of dropped incoming packets.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.network.*.inbound.errors</p></td>
<td align="left" valign="top"><p>Total errors on incoming packets.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.network.*.inbound.packets</p></td>
<td align="left" valign="top"><p>Total number of incoming packets.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.network.*.outbound.bytes</p></td>
<td align="left" valign="top"><p>Total number of incoming bytes.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.network.*.outbound.dropped</p></td>
<td align="left" valign="top"><p>Total number of dropped incoming packets.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.network.*.outbound.errors</p></td>
<td align="left" valign="top"><p>Total errors on incoming packets.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.network.*.outbound.packets</p></td>
<td align="left" valign="top"><p>Total number of incoming packets.</p></td>
<td align="left" valign="top"><p>long</p></td>
<td align="left" valign="top"><p>counter</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.task_desired_status</p></td>
<td align="left" valign="top"><p>The desired status for the task from Amazon ECS.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.task_known_status</p></td>
<td align="left" valign="top"><p>The known status for the task from Amazon ECS.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>awsfargate.task_stats.task_name</p></td>
<td align="left" valign="top"><p>ECS task name</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>container.labels.com_amazonaws_ecs_cluster</p></td>
<td align="left" valign="top"><p>ECS Cluster name</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>container.labels.com_amazonaws_ecs_container-name</p></td>
<td align="left" valign="top"><p>ECS container name</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>container.labels.com_amazonaws_ecs_task-arn</p></td>
<td align="left" valign="top"><p>ECS task ARN</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>container.labels.com_amazonaws_ecs_task-definition-family</p></td>
<td align="left" valign="top"><p>ECS task definition family</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>container.labels.com_amazonaws_ecs_task-definition-version</p></td>
<td align="left" valign="top"><p>ECS task definition version</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>container.name</p></td>
<td align="left" valign="top"><p>Container name.</p></td>
<td align="left" valign="top"><p>keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.dataset</p></td>
<td align="left" valign="top"><p>Data stream dataset.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.namespace</p></td>
<td align="left" valign="top"><p>Data stream namespace.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>data_stream.type</p></td>
<td align="left" valign="top"><p>Data stream type.</p></td>
<td align="left" valign="top"><p>constant_keyword</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</details>
<details>
<summary class="title"><span class="strong strong"><strong>Example</strong></span></summary>
<div class="content">
<p>An example event for <code class="literal">task_stats</code> looks as following:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
    "@timestamp": "2017-10-12T08:05:34.853Z",
    "awsfargate": {
        "task_stats": {
            "cluster_name": "default",
            "task_known_status": "RUNNING",
            "task_desired_status": "RUNNING",
            "cpu": {
                "core": {
                    "1": {
                        "pct": 0,
                        "norm": {
                            "pct": 0
                        },
                        "ticks": 1520000000
                    },
                    "2": {
                        "pct": 0,
                        "norm": {
                            "pct": 0
                        },
                        "ticks": 1420180000000
                    }
                },
                "kernel": {
                    "norm": {
                        "pct": 0
                    },
                    "pct": 0,
                    "ticks": 1520000000
                },
                "system": {
                    "norm": {
                        "pct": 1
                    },
                    "pct": 2,
                    "ticks": 1420180000000
                },
                "total": {
                    "norm": {
                        "pct": 0.2
                    },
                    "pct": 0.4
                },
                "user": {
                    "norm": {
                        "pct": 0
                    },
                    "pct": 0,
                    "ticks": 490000000
                }
            },
            "diskio": {
                "read": {
                    "bytes": 3452928,
                    "ops": 118,
                    "queued": 0,
                    "rate": 0,
                    "service_time": 0,
                    "wait_time": 0
                },
                "reads": 0,
                "summary": {
                    "bytes": 3452928,
                    "ops": 118,
                    "queued": 0,
                    "rate": 0,
                    "service_time": 0,
                    "wait_time": 0
                },
                "total": 0,
                "write": {
                    "bytes": 0,
                    "ops": 0,
                    "queued": 0,
                    "rate": 0,
                    "service_time": 0,
                    "wait_time": 0
                },
                "writes": 0
            },
            "identifier": "query-metadata/1234",
            "memory": {
                "fail": {
                    "count": 0
                },
                "limit": 0,
                "rss": {
                    "pct": 0.0010557805807105247,
                    "total": 4157440
                },
                "stats": {
                    "active_anon": 4157440,
                    "active_file": 4497408,
                    "cache": 6000640,
                    "dirty": 16384,
                    "hierarchical_memory_limit": 2147483648,
                    "hierarchical_memsw_limit": 9223372036854772000,
                    "inactive_anon": 0,
                    "inactive_file": 1503232,
                    "mapped_file": 2183168,
                    "pgfault": 6668,
                    "pgmajfault": 52,
                    "pgpgin": 5925,
                    "pgpgout": 3445,
                    "rss": 4157440,
                    "rss_huge": 0,
                    "total_active_anon": 4157440,
                    "total_active_file": 4497408,
                    "total_cache": 600064,
                    "total_dirty": 16384,
                    "total_inactive_anon": 0,
                    "total_inactive_file": 4497408,
                    "total_mapped_file": 2183168,
                    "total_pgfault": 6668,
                    "total_pgmajfault": 52,
                    "total_pgpgin": 5925,
                    "total_pgpgout": 3445,
                    "total_rss": 4157440,
                    "total_rss_huge": 0,
                    "total_unevictable": 0,
                    "total_writeback": 0,
                    "unevictable": 0,
                    "writeback": 0
                },
                "usage": {
                    "max": 15294464,
                    "total": 12349440
                }
            },
            "network": {
                "eth0": {
                    "inbound": {
                        "bytes": 137315578,
                        "dropped": 0,
                        "errors": 0,
                        "packets": 94338
                    },
                    "outbound": {
                        "bytes": 1086811,
                        "dropped": 0,
                        "errors": 0,
                        "packets": 25857
                    }
                }
            },
            "task_name": "query-metadata"
        }
    },
    "cloud": {
        "region": "us-west-2"
    },
    "container": {
        "id": "1234",
        "image": {
            "name": "mreferre/eksutils"
        },
        "labels": {
            "com_amazonaws_ecs_cluster": "arn:aws:ecs:us-west-2:111122223333:cluster/default",
            "com_amazonaws_ecs_container-name": "query-metadata",
            "com_amazonaws_ecs_task-arn": "arn:aws:ecs:us-west-2:111122223333:task/default/febee046097849aba589d4435207c04a",
            "com_amazonaws_ecs_task-definition-family": "query-metadata",
            "com_amazonaws_ecs_task-definition-version": "7"
        },
        "name": "query-metadata"
    },
    "service": {
        "type": "awsfargate"
    }
}</pre>
</div>
</div>
</details>
<div class="position-relative"><h4><a id="awsfargate-changelog"></a>Changelog</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/integration-docs/edit/main/dist/awsfargate/index.asciidoc">edit</a></div>
<details>
<summary class="title"><span class="strong strong"><strong>Changelog</strong></span></summary>
<div class="content">
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Version</th>
<th align="left" valign="top">Details</th>
<th align="left" valign="top">Kibana version(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.2.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10613" class="ulink" target="_top">View pull request</a>)<br>
Clarify that the integration supports ECS clusters only.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.2.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10409" class="ulink" target="_top">View pull request</a>)<br>
Add processor support for task_stats data stream.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.1.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/10162" class="ulink" target="_top">View pull request</a>)<br>
ECS version updated to 8.11.0. Update the kibana constraint to ^8.13.0. Modified the field definitions to remove ECS fields made redundant by the ecs@mappings component template.</p>
</td>
<td align="left" valign="top"><p>8.13.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1.0.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/7366" class="ulink" target="_top">View pull request</a>)<br>
Make AWS Fargate GA</p>
</td>
<td align="left" valign="top"><p>8.12.0 or higher</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.5.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/9130" class="ulink" target="_top">View pull request</a>)<br>
Improve documentation</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.5.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-bug"></span> <span class="strong strong"><strong>Bug fix</strong></span> (<a href="https://github.com/elastic/integrations/pull/8254" class="ulink" target="_top">View pull request</a>)<br>
Remove memory.usage.pct field and use memory.usage.total instead for plain memory usage.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.4.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/8041" class="ulink" target="_top">View pull request</a>)<br>
Update the package format_version to 3.0.0.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.3.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6998" class="ulink" target="_top">View pull request</a>)<br>
Enable TSDB for task stats data stream. This improves storage usage and query performance. For more details, see <a href="/guide/en/elasticsearch/reference/current/tsds.html" class="ulink" target="_top">https://www.elastic.co/guide/en/elasticsearch/reference/current/tsds.html</a>.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.2.5</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6997" class="ulink" target="_top">View pull request</a>)<br>
Update DiskIO Write and Read visualizations to use last_value instead of average.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.2.4</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6897" class="ulink" target="_top">View pull request</a>)<br>
Migrate AWS Fargate input control to new control panel.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.2.3</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6733" class="ulink" target="_top">View pull request</a>)<br>
Set dimension fields and add <code class="literal">agent.id</code>.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.2.2</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/6739" class="ulink" target="_top">View pull request</a>)<br>
Add metric type to fields.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.2.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/5123" class="ulink" target="_top">View pull request</a>)<br>
Added categories and/or subcategories.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.2.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/4769" class="ulink" target="_top">View pull request</a>)<br>
Improve dashboards by removing individual visualizations from library</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.1.3</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/3936" class="ulink" target="_top">View pull request</a>)<br>
Clarify how to run the <code class="literal">awsfargate</code> integration as a sidecar container.</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.1.2</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/3835" class="ulink" target="_top">View pull request</a>)<br>
Add DesiredStatus and KnownStatus for Fargate Tasks among the collected fields</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.1.1</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/3109" class="ulink" target="_top">View pull request</a>)<br>
Improve description and screenshots</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>0.1.0</strong></span></p></td>
<td align="left" valign="top">
<p><span class="eui-icon icon-checkInCircleFilled"></span> <span class="strong strong"><strong>Enhancement</strong></span> (<a href="https://github.com/elastic/integrations/pull/2971" class="ulink" target="_top">View pull request</a>)<br>
initial release</p>
</td>
<td align="left" valign="top"><p>&mdash;</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</details>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="aws-elb.html">« Amazon ELB</a>
</span>
<span class="next">
<a href="aws-inspector.html">Inspector »</a>
</span>
</div>
</body>
</html>
