<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>5.4.1 Release Notes | Kibana User Guide [5.4] | Elastic</title>
<meta class="elastic" name="content" content="5.4.1 Release Notes | Kibana User Guide [5.4]">

<link rel="home" href="index.html" title="Kibana User Guide [5.4]"/>
<link rel="up" href="release-notes.html" title="Release Notes"/>
<link rel="prev" href="release-notes-5.4.2.html" title="5.4.2 Release Notes"/>
<link rel="next" href="release-notes-5.4.0.html" title="5.4.0 Release Notes"/>
<meta class="elastic" name="product_version" content="5.4"/>
<meta class="elastic" name="product_name" content="Kibana"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/5.4"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="5.4"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.4 of Kibana has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana User Guide [5.4]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release Notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-5.4.2.html">« 5.4.2 Release Notes</a>
</span>
<span class="next">
<a href="release-notes-5.4.0.html">5.4.0 Release Notes »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="release-notes-5.4.1"></a>5.4.1 Release Notes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/5.4/docs/release-notes/5.4.1.asciidoc">edit</a></h2>
</div></div></div>
<p>Also see <a class="xref" href="breaking-changes-5.0.html" title="Breaking changes in 5.0"><em>Breaking changes in 5.0</em></a>.</p>
<h3><a id="security-5.4.1"></a>Security fix<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/5.4/docs/release-notes/5.4.1.asciidoc">edit</a></h3>
<p>The time series visual builder that was released in 5.4.0 is vulnerable to
a cross-site scripting attack (XSS), where a malicious user could embed
HTML into markdown documents that could result in JavaScript being
executed in other users' browsers. This could be abused to steal sensitive
information or to perform destructive actions on behalf of other users.
5.4.1 fixes this vulnerability by no longer allowing HTML in markdown documents.<br>
X-Pack security[ESA-2017-07] (<a href="https://github.com/elastic/kibana/pull/11770" class="ulink" target="_top">#11770</a>)</p>
<p>Beginning in Kibana 5.3.0, the discovery app in Kibana is vulnerable to an
cross-site scripting attack (XSS) that would allow an attacker to inject
JavaScript into other user&#8217;s browsers via Elasticsearch documents. This was
made possible by the field formatters plugin API and how it handled
compiling of template values in the discover doc table.
Versions 5.3.3 and 5.4.1 include a fix for this vulnerability
by changing the binding and compilation behavior for field formatters.
Thanks to Thomas Gøytil for reporting this issue.<br>
X-Pack security[ESA-2017-08] (<a href="https://github.com/elastic/kibana/pull/11911" class="ulink" target="_top">#11911</a>)</p>
<h3><a id="bug-5.4.1"></a>Bug fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/5.4/docs/release-notes/5.4.1.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Core
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Formatted output is now non-bindable <a href="https://github.com/elastic/kibana/pull/11911" class="ulink" target="_top">#11911</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Dev Tools
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
[console] Properly check for existence of deprecated console configs <a href="https://github.com/elastic/kibana/pull/11670" class="ulink" target="_top">#11670</a>
</li>
<li class="listitem">
[console] If using an https agent, set rejectUnauthorized in the agent <a href="https://github.com/elastic/kibana/pull/11700" class="ulink" target="_top">#11700</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Dashboard
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Fix a bug that prevented the dashboard from loading if any visualizations on the dashboard could not be found <a href="https://github.com/elastic/kibana/pull/11324" class="ulink" target="_top">#11324</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A bug was introduced in 5.2 where if a visualization on a dashboard could not be found, it would throw an error and prevent the entire dashboard from loading. We&#8217;ve fixed this so the rest of your dashboard will continue to load and function properly.
</li>
</ul>
</div>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Discover
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Show long index pattern names in selector <a href="https://github.com/elastic/kibana/pull/11907" class="ulink" target="_top">#11907</a>
</li>
<li class="listitem">
Add ignore_unmapped to geo filters to prevent exceptions <a href="https://github.com/elastic/kibana/pull/11461" class="ulink" target="_top">#11461</a>
</li>
<li class="listitem">
Only use day, month, year provided by datepicker <a href="https://github.com/elastic/kibana/pull/11773" class="ulink" target="_top">#11773</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Management
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<p>Report shard failures in the field_capabilities response <a href="https://github.com/elastic/kibana/pull/11450" class="ulink" target="_top">#11450</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The Kibana field_capabilities API will now include any shard failures in its response so that the user is notified when an error has occurred while creating an index pattern or refreshing a pattern&#8217;s fields.
</li>
</ul>
</div>
</li>
<li class="listitem">
Prevent refresh fields error from breaking index patterns management page <a href="https://github.com/elastic/kibana/pull/11885" class="ulink" target="_top">#11885</a>
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Visualize
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix spelling in time series visual builder <a href="https://github.com/elastic/kibana/pull/11212" class="ulink" target="_top">#11212</a>
</li>
<li class="listitem">
<p>Fix missing icons in Visualize listing. <a href="https://github.com/elastic/kibana/pull/11243" class="ulink" target="_top">#11243</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When we implemented the new Visualization Wizard UI, we switched from using font icons to SVG images to represent each visualization type. However, we forgot to update the Visualize landing page table to use these SVG images.
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Fix missing border of PaginatedTable rows in Firefox <a href="https://github.com/elastic/kibana/pull/11452" class="ulink" target="_top">#11452</a></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When we added the ability to select filters from within a table, we applied relative positioning to the table rows. This isn&#8217;t supported in Firefox, and had some odd visual results.
</li>
</ul>
</div>
</li>
<li class="listitem">
Return Boom errors directly to the browser for Time Series Visual Builder <a href="https://github.com/elastic/kibana/pull/11656" class="ulink" target="_top">#11656</a>
</li>
<li class="listitem">
Fixing heatmap black squares <a href="https://github.com/elastic/kibana/pull/11489" class="ulink" target="_top">#11489</a>
</li>
<li class="listitem">
Fix duplicate chart title <a href="https://github.com/elastic/kibana/pull/11594" class="ulink" target="_top">#11594</a>
</li>
<li class="listitem">
Should not throw error when fitting on empty data. <a href="https://github.com/elastic/kibana/pull/11620" class="ulink" target="_top">#11620</a>
</li>
<li class="listitem">
fix zoom settings <a href="https://github.com/elastic/kibana/pull/11707" class="ulink" target="_top">#11707</a>
</li>
<li class="listitem">
geo_centroid should not be available as a metric <a href="https://github.com/elastic/kibana/pull/11630" class="ulink" target="_top">#11630</a>
</li>
<li class="listitem">
Disable scroll zooming on the map. <a href="https://github.com/elastic/kibana/pull/11825" class="ulink" target="_top">#11825</a>
</li>
<li class="listitem">
Remove HTML support from Markdown for Time Series Visual Builder <a href="https://github.com/elastic/kibana/pull/11770" class="ulink" target="_top">#11770</a>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="release-notes-5.4.2.html">« 5.4.2 Release Notes</a>
</span>
<span class="next">
<a href="release-notes-5.4.0.html">5.4.0 Release Notes »</a>
</span>
</div>
</div>
</body>
</html>
