<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Monitoring Settings in Kibana | Kibana User Guide [6.0] | Elastic</title>
<meta class="elastic" name="content" content="Monitoring Settings in Kibana | Kibana User Guide [6.0]">

<link rel="home" href="index.html" title="Kibana User Guide [6.0]"/>
<link rel="up" href="monitoring-xpack-kibana.html" title="Configuring Monitoring in Kibana"/>
<link rel="prev" href="monitoring-xpack-kibana.html" title="Configuring Monitoring in Kibana"/>
<link rel="next" href="using-kibana-with-security.html" title="Configuring Security in Kibana"/>
<meta class="elastic" name="product_version" content="6.0"/>
<meta class="elastic" name="product_name" content="Kibana"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/6.0"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="6.0"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<p>
  <strong>WARNING</strong>: Version 6.0 of Kibana has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana User Guide [6.0]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setup-xpack-kb.html">Set Up X-Pack</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="monitoring-xpack-kibana.html">Configuring Monitoring in Kibana</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="monitoring-xpack-kibana.html">« Configuring Monitoring in Kibana</a>
</span>
<span class="next">
<a href="using-kibana-with-security.html">Configuring Security in Kibana »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="monitoring-settings-kb"></a>Monitoring Settings in Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack-kibana/edit/6.0/docs/en/settings/monitoring-settings.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Monitoring is enabled by default when you install X-Pack. You can adjust
how monitoring data is displayed in the Monitoring UI by configuring
<code class="literal">xpack.monitoring</code> settings in <code class="literal">kibana.yml</code>. There are also
<code class="literal">xpack.monitoring.elasticsearch.*</code> settings, which support the same values as
<a class="xref" href="settings.html" title="Configuring Kibana">Kibana configuration settings</a>.</p>
<p>To control how data is collected from your Elasticsearch nodes, you configure
<a href="/guide/en/elasticsearch/reference/6.0/monitoring-settings.html" class="ulink" target="_top"><code class="literal">xpack.monitoring.collection</code>
settings</a> in <code class="literal">elasticsearch.yml</code>. To control how monitoring data is collected
from Logstash, you configure
<a href="/guide/en/logstash/6.0/configuring-logstash.html#monitoring-settings" class="ulink" target="_top"><code class="literal">xpack.monitoring</code> settings</a>
in <code class="literal">logstash.yml</code>.</p>
<p>For more information, see
<a href="/guide/en/x-pack/6.0/xpack-monitoring.html" class="ulink" target="_top">Monitoring the Elastic Stack</a>.</p>
<h4><a id="monitoring-ui-settings"></a>Monitoring UI Settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack-kibana/edit/6.0/docs/en/settings/monitoring-settings.asciidoc">edit</a></h4>
<p>You can set the following <code class="literal">xpack.monitoring</code> settings in <code class="literal">kibana.yml</code> to adjust
how the Monitoring UI displays monitoring data. However, the defaults work best
in most circumstances. For more information about configuring Kibana, see
<a href="/guide/en/kibana/6.0/settings.html" class="ulink" target="_top">Setting Kibana Server Properties</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.monitoring.enabled</code>
</span>
</dt>
<dd>
Set to <code class="literal">false</code> to disable the X-Pack monitoring UI.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.elasticsearch.url</code>
</span>
</dt>
<dd>
The location of the Elasticsearch instance(s) where your monitoring data is
stored. By default, this is the same as the <code class="literal">elasticsearch.url</code>. This setting
enables you to use a single Kibana instance to search and visualize data in
your production cluster as well as monitor data sent to a dedicated monitoring
cluster.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.elasticsearch.username</code>
</span>
</dt>
<dd>
Specifies the user ID that Kibana uses for authentication when it retrieves data
from the monitoring cluster. If not set, Kibana uses the value of the
<code class="literal">elasticsearch.username</code> setting.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.elasticsearch.password</code>
</span>
</dt>
<dd>
Specifies the password that Kibana uses for authentication when it retrieves data
from the monitoring cluster. If not set, Kibana uses the value of the
<code class="literal">elasticsearch.password</code> setting.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.elasticsearch.pingTimeout</code>
</span>
</dt>
<dd>
Specifies the time in milliseconds to wait for Elasticsearch to respond to internal
health checks. By default, it matches the <code class="literal">elasticsearch.pingTimeout</code> setting,
which has a default value of <code class="literal">30000</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.kibana.collection.enabled</code>
</span>
</dt>
<dd>
Whether or not to enable data collection from the Kibana NodeJS server for
Kibana Dashboards to be featured in the Monitoring UI. Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.kibana.collection.interval</code>
</span>
</dt>
<dd>
Number of milliseconds to wait in between data sampling for Kibana&#8217;s NodeJS
server for the metrics that are displayed in the Kibana dashboards. Defaults to
<code class="literal">10000</code> (10 seconds).
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.max_bucket_size</code>
</span>
</dt>
<dd>
The number of term buckets to return out of the overall terms list when
performing terms aggregations to retrieve index and node metrics. For more
information about the <code class="literal">size</code> parameter, see
<a href="/guide/en/elasticsearch/reference/6.0/search-aggregations-bucket-terms-aggregation.html#_size" class="ulink" target="_top">Terms Aggregation</a>.
Defaults to 10000.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.min_interval_seconds</code>
</span>
</dt>
<dd>
The minimum number of seconds that a time bucket in a chart can represent.
Defaults to 10. If you modify the <code class="literal">xpack.monitoring.collection.interval</code>
in <code class="literal">elasticsearch.yml</code>, set this option to the same value.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.report_stats</code>
</span>
</dt>
<dd>
Whether or not to send cluster statistics to Elastic. Reporting your cluster statistics
helps us improve your user experience. Set to <code class="literal">false</code> to disable statistics
reporting from any browser connected to the Kibana instance. You can also
opt-out through Kibana&#8217;s Advanced Settings. Defaults to <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">xpack.monitoring.ui.enabled</code>
</span>
</dt>
<dd>
Set to <code class="literal">false</code> to hide the Monitoring UI in Kibana. The Monitoring back-end
continues to run as an agent for sending Kibana stats to the Monitoring
cluster. Defaults to <code class="literal">true</code>.
</dd>
</dl>
</div>
<h5><a id="monitoring-ui-cgroup-settings"></a>Monitoring UI Container Settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack-kibana/edit/6.0/docs/en/settings/monitoring-settings.asciidoc">edit</a></h5>
<p>The Monitoring UI exposes the Cgroup statistics that we collect for you to make better decisions
about your container performance, rather than guessing based on the overall machine performance.
If you are not running your applications in a container, then Cgroup statistics will not be useful.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">xpack.monitoring.ui.container.elasticsearch.enabled</code>
</span>
</dt>
<dd>
<p>
For Elasticsearch clusters that are running in containers, this setting changes the Node Listing to
display the CPU Utilization based on the reported Cgroup statistics. This will also add the calculated
Cgroup CPU Utilization to the Node Overview page instead of the overall operating system&#8217;s CPU
Utilization. Defaults to <code class="literal">false</code>.
</p>
<div class="imageblock">
<div class="content">
<a class="image" href="images/monitoring-es-cgroup-true.png"><img src="settings/images/monitoring-es-cgroup-true.png" alt="Elasticsearch Inside a Container"></a>
</div>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="monitoring-xpack-kibana.html">« Configuring Monitoring in Kibana</a>
</span>
<span class="next">
<a href="using-kibana-with-security.html">Configuring Security in Kibana »</a>
</span>
</div>
</div>
</body>
</html>
