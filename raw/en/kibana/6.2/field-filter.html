<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Filtering by Field | Kibana User Guide [6.2] | Elastic</title>
<meta class="elastic" name="content" content="Filtering by Field | Kibana User Guide [6.2]">

<link rel="home" href="index.html" title="Kibana User Guide [6.2]"/>
<link rel="up" href="discover.html" title="Discover"/>
<link rel="prev" href="autorefresh.html" title="Refreshing the Search Results"/>
<link rel="next" href="document-data.html" title="Viewing Document Data"/>
<meta class="elastic" name="product_version" content="6.2"/>
<meta class="elastic" name="product_name" content="Kibana"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/6.2"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="6.2"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<p>
  <strong>WARNING</strong>: Version 6.2 of Kibana has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
  <a href="../current/index.html">current release documentation</a>. 
</p>
</div>
<div class="navheader">
<span class="prev">
<a href="autorefresh.html">« Refreshing the Search Results</a>
</span>
<span class="next">
<a href="document-data.html">Viewing Document Data »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana User Guide [6.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="discover.html">Discover</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Filtering by Field</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/6.2/docs/discover/field-filter.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="field-filter"></a>Filtering by Field</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/6.2/docs/discover/field-filter.asciidoc">edit</a></div>
</div></div></div>
<p>You can filter the search results to display only those documents that contain
a particular value in a field. You can also create negative filters that
exclude documents that contain the specified field value.</p>
<p>You add field filters from the Fields list, the Documents table, or by manually
adding a filter. In addition to creating positive and negative filters, the
Documents table enables you to filter on whether or not a field is present. The
applied filters are shown below the Query bar. Negative filters are shown in red.</p>
<p>To add a filter from the Fields list:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Click the name of the field you want to filter on. This displays the top
five values for that field.</p>
<div class="imageblock">
<div class="content">
<img src="images/filter-field.jpg" alt="filter field">
</div>
</div>
</li>
<li class="listitem">
To add a positive filter, click the <span class="strong strong"><strong>Positive Filter</strong></span> button
<span class="image"><img src="images/PositiveFilter.jpg" alt="Positive Filter"></span>.
This includes only those documents that contain that value in the field.
</li>
<li class="listitem">
To add a negative filter, click the <span class="strong strong"><strong>Negative Filter</strong></span> button
<span class="image"><img src="images/NegativeFilter.jpg" alt="Negative Filter"></span>.
This excludes documents that contain that value in the field.
</li>
</ol>
</div>
<p>To add a filter from the Documents table:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Expand a document in the Documents table by clicking the <span class="strong strong"><strong>Expand</strong></span> button
<span class="image"><img src="images/ExpandButton.jpg" alt="Expand Button"></span> to the left of the document&#8217;s
table entry.</p>
<div class="imageblock">
<div class="content">
<img src="images/Expanded-Document.png" alt="Expanded Document">
</div>
</div>
</li>
<li class="listitem">
To add a positive filter, click the <span class="strong strong"><strong>Positive Filter</strong></span> button
<span class="image"><img src="images/PositiveFilter.jpg" alt="Positive Filter Button"></span> to the right of the
field name. This includes only those documents that contain that value in the
field.
</li>
<li class="listitem">
To add a negative filter, click the <span class="strong strong"><strong>Negative Filter</strong></span> button
<span class="image"><img src="images/NegativeFilter.jpg" alt="Negative Filter Button"></span> to the right of the
field name. This excludes documents that contain that value in the field.
</li>
<li class="listitem">
To filter on whether or not documents contain the field, click the
<span class="strong strong"><strong>Exists</strong></span> button <span class="image"><img src="images/ExistsButton.jpg" alt="Exists Button"></span> to the right of the
field name. This includes only those documents that contain the field.
</li>
</ol>
</div>
<p>To manually add a filter:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Click <span class="strong strong"><strong>Add Filter</strong></span>. A popup will be displayed for you to create the filter.</p>
<div class="imageblock">
<div class="content">
<img src="images/add_filter.png" alt="add filter">
</div>
</div>
</li>
<li class="listitem">
<p>Choose a field to filter by. This list of fields will include fields from the
index pattern you are currently querying against.</p>
<div class="imageblock">
<div class="content">
<img src="images/add_filter_field.png" alt="add filter field">
</div>
</div>
</li>
<li class="listitem">
<p>Choose an operation for your filter.</p>
<div class="imageblock">
<div class="content">
<img src="images/add_filter_operator.png" alt="add filter operator">
</div>
</div>
<p>The following operators can be selected:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">is</code>
</p>
</td>
<td valign="top">
<p>
Filter where the value for the field matches the given value.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">is not</code>
</p>
</td>
<td valign="top">
<p>
Filter where the value for the field does not match the given value.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">is one of</code>
</p>
</td>
<td valign="top">
<p>
Filter where the value for the field matches one of the specified values.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">is not one of</code>
</p>
</td>
<td valign="top">
<p>
Filter where the value for the field does not match any of the specified values.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">is between</code>
</p>
</td>
<td valign="top">
<p>
Filter where the value for the field is in the given range.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">is not between</code>
</p>
</td>
<td valign="top">
<p>
Filter where the value for the field is not in the given range.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">exists</code>
</p>
</td>
<td valign="top">
<p>
Filter where any value is present for the field.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">does not exist</code>
</p>
</td>
<td valign="top">
<p>
Filter where no value is present for the field.
</p>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="listitem">
<p>Choose the value(s) for your filter. Values from your indices may be suggested
as selections if you are filtering against an aggregatable field.</p>
<div class="imageblock">
<div class="content">
<img src="images/add_filter_value.png" alt="add filter value">
</div>
</div>
</li>
<li class="listitem">
(Optional) Specify a label for the filter. If you specify a label, it will be
displayed below the query bar instead of the filter definition.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save</strong></span>. The filter will be applied to your search and be displayed below
the query bar.
</li>
</ol>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are experiencing long-running queries as a result of the value suggestions, you can
turn off the suggestions by setting the advanced setting, <code class="literal">filterEditor:suggestValues</code>, to <code class="literal">false</code>.</p>
</div>
</div>
<div class="position-relative"><h3><a id="filter-pinning"></a>Managing Filters</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/6.2/docs/discover/field-filter.asciidoc">edit</a></div>
<p>To modify a filter, hover over it and click one of the action buttons.</p>
<div class="imageblock">
<div class="content">
<img src="images/filter-allbuttons.png" alt="filter allbuttons">
</div>
</div>
<p>&nbsp;</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<span class="image"><img src="images/filter-enable.png" alt="filter enable"></span> Enable Filter
</span>
</dt>
<dd>
Disable the filter without
removing it. Click again to reenable the filter. Diagonal stripes indicate
that a filter is disabled.
</dd>
<dt>
<span class="term">
<span class="image"><img src="images/filter-pin.png" alt="filter pin"></span> Pin Filter
</span>
</dt>
<dd>
Pin the filter. Pinned filters
persist when you switch contexts in Kibana. For example, you can pin a filter
in Discover and it remains in place when you switch to Visualize.
Note that a filter is based on a particular index field&#8212;&#8203;if the indices being
searched don&#8217;t contain the field in a pinned filter, it has no effect.
</dd>
<dt>
<span class="term">
<span class="image"><img src="images/filter-toggle.png" alt="filter toggle"></span> Invert Filter
</span>
</dt>
<dd>
Switch from a positive
filter to a negative filter and vice-versa.
</dd>
<dt>
<span class="term">
<span class="image"><img src="images/filter-delete.png" alt="filter delete"></span> Remove Filter
</span>
</dt>
<dd>
Remove the filter.
</dd>
<dt>
<span class="term">
<span class="image"><img src="images/filter-custom.png" alt="filter custom"></span> Edit Filter
</span>
</dt>
<dd>
<a class="xref" href="field-filter.html#filter-edit" title="Editing a Filter">Edit the
filter</a> definition.  Enables you to manually update the filter and
specify a label for the filter.
</dd>
</dl>
</div>
<p>To apply a filter action to all of the applied filters,
click <span class="strong strong"><strong>Actions</strong></span> and select the action.</p>
<div class="position-relative"><h3><a id="filter-edit"></a>Editing a Filter</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/6.2/docs/discover/field-filter.asciidoc">edit</a></div>
<p>You can edit a filter by changing the field, operator, or value associated
with the filter (see the Add Filter section above), or by directly modifying
the filter query that is performed to filter your search results. This
enables you to create more complex filters that are based on multiple fields.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>To edit the filter query, first click the edit button for the filter, then
click <span class="strong strong"><strong>Edit Query DSL</strong></span>.</p>
<div class="imageblock">
<div class="content">
<img src="images/edit_filter_query.png" alt="edit filter query">
</div>
</div>
</li>
<li class="listitem">
<p>You can then edit the query for the filter.</p>
<div class="imageblock">
<div class="content">
<img src="images/edit_filter_query_json.png" alt="edit filter query json">
</div>
</div>
</li>
</ol>
</div>
<p>For example, you could use a
<a href="/guide/en/elasticsearch/reference/6.2/query-dsl-bool-query.html" class="ulink" target="_top">bool query</a> to create a filter for the
sample log data that displays the hits that originated from Canada or China that resulted in a 404 error:</p>
<div class="exampleblock">
<div class="content">
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "bool": {
    "should": [
      {
        "term": {
          "geoip.country_name.raw": "Canada"
        }
      },
      {
        "term": {
          "geoip.country_name.raw": "China"
        }
      }
    ],
    "must": [
      {
        "term": {
          "response": "404"
        }
      }
    ]
  }
}</pre>
</div>
</div>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="autorefresh.html">« Refreshing the Search Results</a>
</span>
<span class="next">
<a href="document-data.html">Viewing Document Data »</a>
</span>
</div>
</body>
</html>
