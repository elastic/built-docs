<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Upgrade Assistant | Kibana User Guide [6.7] | Elastic</title>
<link rel="home" href="index.html" title="Kibana User Guide [6.7]"/>
<link rel="up" href="management.html" title="Management"/>
<link rel="prev" href="watcher-security.html" title="Watcher UI Security"/>
<link rel="next" href="xpack-dashboard-only-mode.html" title="Kibana Dashboard Only Mode"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/6.7"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="6.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana User Guide [6.7]</a></span>
»
<span class="breadcrumb-link"><a href="management.html">Management</a></span>
»
<span class="breadcrumb-node">Upgrade Assistant</span>
</div>
<div class="navheader">
<span class="prev">
<a href="watcher-security.html">« Watcher UI Security</a>
</span>
<span class="next">
<a href="xpack-dashboard-only-mode.html">Kibana Dashboard Only Mode »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="upgrade-assistant"></a>Upgrade Assistant<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/6.7/docs/management/upgrade-assistant/index.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<p>The Upgrade Assistant helps you prepare for your upgrade from Elasticsearch 6.x to Elasticsearch 7.0.
To access the assistant, go to <span class="strong strong"><strong>Management &gt; 7.0 Upgrade Assistant</strong></span>.</p>
<p>The assistant identifies the deprecated settings in your cluster and indices
and guides you through the process of resolving issues, including reindexing.</p>
<p>Before upgrading to Elasticsearch 7.0, make sure that you are using the final 6.7.x minor
release to see the most up-to-date deprecation issues.</p>
<h3><a id="_reindexing"></a>Reindexing<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/6.7/docs/management/upgrade-assistant/index.asciidoc">edit</a></h3>
<p>The <span class="strong strong"><strong>Indices</strong></span> page lists the indices that are incompatible with the next
major version of Elasticsearch. You can initiate a reindex to resolve the issues.</p>
<p>For example, an index created in 5.x that uses the <code class="literal">_all</code> meta field is no
longer supported in 7.0.  The Upgrade Assistant removes this field during the
reindex.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/management-upgrade-assistant-7.0.png" alt="management upgrade assistant 7.0">
</div>
</div>
<p>For a preview of how the data will change during the reindex, select the
index name. A warning appears if the index requires destructive changes.
Back up your index, then proceed with the reindex by accepting each breaking change.</p>
<p>You can follow the progress as the Upgrade Assistant makes the index read-only,
creates a new index, reindexes the documents, and creates an alias that points
from the old index to the new one.</p>
<p>If the reindexing fails or is cancelled, the changes are rolled back,
the new index is deleted, and the original index becomes writable. An error
message explains the reason for the failure.</p>
<p>You can reindex multiple indices at a time, but keep an eye on the
Elasticsearch metrics, including CPU usage, memory pressure, and disk usage. If a metric
is so high it affects query performance, cancel the reindex and continue
by reindexing fewer indices at a time.</p>
<p>Additional considerations:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
During a reindex of a Watcher (<code class="literal">.watches</code>) index, the Watcher process pauses and no alerts
are triggered.
</li>
<li class="listitem">
During a reindex of a Machine Learning (<code class="literal">.ml-state</code>) index, the Machine Learning
job pauses. Models are not trained or updated.
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="watcher-security.html">« Watcher UI Security</a>
</span>
<span class="next">
<a href="xpack-dashboard-only-mode.html">Kibana Dashboard Only Mode »</a>
</span>
</div>
</div>
</body>
</html>
