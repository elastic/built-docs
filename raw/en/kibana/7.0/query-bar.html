<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Advanced queries | Kibana Guide [7.0] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.0]"/>
<link rel="up" href="apm-ui.html" title="Using APM"/>
<link rel="prev" href="machine-learning-integration.html" title="Machine Learning integration"/>
<link rel="next" href="xpack-uptime.html" title="Uptime"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.0"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.0"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.0]</a></span>
»
<span class="breadcrumb-link"><a href="xpack-apm.html">APM</a></span>
»
<span class="breadcrumb-link"><a href="apm-ui.html">Using APM</a></span>
»
<span class="breadcrumb-node">Advanced queries</span>
</div>
<div class="navheader">
<span class="prev">
<a href="machine-learning-integration.html">« Machine Learning integration</a>
</span>
<span class="next">
<a href="xpack-uptime.html">Uptime »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="query-bar"></a>Advanced queries<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.0/docs/apm/query-bar.asciidoc">edit</a></h2>
</div></div></div>
<p>The query bar is a powerful data query feature.
Similar to the query bar in <a href="/guide/en/kibana/7.0/discover.html" class="ulink" target="_top">Discover</a>,
it enables you to pass advanced queries on your data to filter on particular pieces of information that you&#8217;re interested in.
It comes with a handy autocomplete that helps find the fields and even provides suggestions to the data they include.
You can select the query bar and hit the down arrow on your keyboard to begin seeing recommendations.</p>
<p>When querying, you&#8217;re simply searching and selecting data from fields in Elasticsearch documents.
It may be helpful to view some of your documents in <a href="/guide/en/kibana/7.0/discover.html" class="ulink" target="_top">Discover</a> to better understand how APM data is stored in Elasticsearch.</p>
<p>The query bar is available in the Services, Transactions, Errors, Metrics, and Traces views,
and any input will persist as you move between pages.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Interactions with the query bar change the URL of the page you&#8217;re on.
This means you can simply copy and paste the URL of your page to share a specific query or view with others.</p>
</div>
</div>
<p>In the screenshot below, you can begin to see some of the transaction fields available for filtering on:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="apm/images/apm-query-bar.png" alt="Example of the Kibana Query bar in APM UI in Kibana">
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_example_queries"></a>Example queries<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.0/docs/apm/query-bar.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Exclude response times slower than 2000 ms: <code class="literal">transaction.duration.us &gt; 2000000</code>
</li>
<li class="listitem">
Filter by response status code: <code class="literal">context.response.status_code &gt;= 400</code>
</li>
<li class="listitem">
Filter by single user ID: <code class="literal">context.user.id : 12</code>
</li>
<li class="listitem">
View <em>all</em> transactions for an endpoint, instead of just a sample - <code class="literal">processor.event: "transaction" AND transaction.name: "&lt;TRANSACTION_NAME_HERE&gt;"</code>
</li>
</ul>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Read the <a href="/guide/en/kibana/7.0/kuery-query.html" class="ulink" target="_top">Kibana Query Language Enhancements</a> documentation to learn more about the capabilities of the Kibana query language.</p>
</div>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="machine-learning-integration.html">« Machine Learning integration</a>
</span>
<span class="next">
<a href="xpack-uptime.html">Uptime »</a>
</span>
</div>
</div>
</body>
</html>
