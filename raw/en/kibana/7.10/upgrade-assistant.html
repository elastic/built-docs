<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Upgrade Assistant | Kibana Guide [7.10] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.10]"/>
<link rel="up" href="management.html" title="Stack Management"/>
<link rel="prev" href="xpack-spaces.html" title="Spaces"/>
<link rel="next" href="watcher-ui.html" title="Watcher"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.10"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.10"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.10]</a></span>
»
<span class="breadcrumb-link"><a href="management.html">Stack Management</a></span>
»
<span class="breadcrumb-node">Upgrade Assistant</span>
</div>
<div class="navheader">
<span class="prev">
<a href="xpack-spaces.html">« Spaces</a>
</span>
<span class="next">
<a href="watcher-ui.html">Watcher »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="upgrade-assistant"></a>Upgrade Assistant<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.10/docs/management/upgrade-assistant/index.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>
<p>The Upgrade Assistant helps you prepare for your upgrade to the next major Elasticsearch version.
For example, if you are using 6.8, the Upgrade Assistant helps you to upgrade to 7.0.
To access the assistant, open the main menu, then click <span class="strong strong"><strong>Stack Management &gt; Upgrade Assistant</strong></span>.</p>
<p>The assistant identifies the deprecated settings in your cluster and indices
and guides you through the process of resolving issues, including reindexing.</p>
<p>Before you upgrade, make sure that you are using the latest released minor
version of Elasticsearch to see the most up-to-date deprecation issues.
For example, if you want to upgrade to to 7.0, make sure that you are using 6.8.</p>
<h3><a id="_required_permissions_5"></a>Required permissions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.10/docs/management/upgrade-assistant/index.asciidoc">edit</a></h3>
<p>The <code class="literal">manage</code> cluster privilege is required to access the <span class="strong strong"><strong>Upgrade assistant</strong></span>.
Additional privileges may be needed to perform certain actions.</p>
<p>To add the privilege, open the main menu, then click <span class="strong strong"><strong>Stack Management &gt; Roles</strong></span>.</p>
<h3><a id="_reindexing"></a>Reindexing<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.10/docs/management/upgrade-assistant/index.asciidoc">edit</a></h3>
<p>The <span class="strong strong"><strong>Indices</strong></span> page lists the indices that are incompatible with the next
major version of Elasticsearch. You can initiate a reindex to resolve the issues.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/management-upgrade-assistant-8.0.png" alt="management upgrade assistant 8.0">
</div>
</div>
<p>For a preview of how the data will change during the reindex, select the
index name. A warning appears if the index requires destructive changes.
Back up your index, then proceed with the reindex by accepting each breaking change.</p>
<p>You can follow the progress as the Upgrade Assistant makes the index read-only,
creates a new index, reindexes the documents, and creates an alias that points
from the old index to the new one.</p>
<p>If the reindexing fails or is cancelled, the changes are rolled back, the
new index is deleted, and the original index becomes writable. An error
message explains the reason for the failure.</p>
<p>You can reindex multiple indices at a time, but keep an eye on the
Elasticsearch metrics, including CPU usage, memory pressure, and disk usage. If a
metric is so high it affects query performance, cancel the reindex and
continue by reindexing fewer indices at a time.</p>
<p>Additional considerations:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If you use alerting features, when you reindex the internal indices
(<code class="literal">.watches</code>), the Watcher process pauses and no alerts are triggered.
</li>
<li class="listitem">
If you use machine learning features, when you reindex the internal indices (<code class="literal">.ml-state</code>),
the machine learning jobs pause and models are not trained or updated.
</li>
<li class="listitem">
If you use security features, before you reindex the internal indices
(<code class="literal">.security*</code>), it is a good idea to create a temporary superuser account in the
<code class="literal">file</code> realm. For more information, see
<a href="/guide/en/elasticsearch/reference/7.10/configuring-file-realm.html" class="ulink" target="_top">Configuring a file realm</a>.
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="xpack-spaces.html">« Spaces</a>
</span>
<span class="next">
<a href="watcher-ui.html">Watcher »</a>
</span>
</div>
</div>
</body>
</html>
