<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Run a search session in the background | Kibana Guide [7.12] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.12]"/>
<link rel="up" href="discover.html" title="Discover"/>
<link rel="prev" href="save-open-search.html" title="Save a search"/>
<link rel="next" href="dashboard.html" title="Dashboard"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.12"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.12"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.12]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="discover.html">Discover</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="save-open-search.html">« Save a search</a>
</span>
<span class="next">
<a href="dashboard.html">Dashboard »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="search-sessions"></a>Run a search session in the background<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.12/docs/discover/search-sessions.asciidoc">edit</a></h2>
</div></div></div>
<p>Sometimes you might need to search through large amounts of data no matter
how long the search takes. While this might not happen often,
there are times that long-running queries are required.
Consider a threat hunting scenario, where you need to search through years of data.</p>
<p>If your query is running long, you can save your search session, which
allows Kibana to continue processing your request in the
background.  Save your search session from <span class="strong strong"><strong>Discover</strong></span> or <span class="strong strong"><strong>Dashboard</strong></span>,
and when your session is complete, view and manage it in <span class="strong strong"><strong>Stack Management</strong></span>.</p>
<p>Search sessions are <a class="xref" href="search-session-settings-kb.html" title="Search sessions settings in Kibana">enabled by default</a>. Saving
a search session is only available when
<a class="xref" href="set-time-filter.html" title="Set the time range">auto refresh</a> is off.</p>
<script type="text/javascript" async src="https://play.vidyard.com/embed/v4.js">
</script>
<img
style="width: 100%; margin: auto; display: block;"
class="vidyard-player-embed"
src="https://play.vidyard.com/mLR3mSW3N3utQrunxcn3Do.jpg"
data-uuid="mLR3mSW3N3utQrunxcn3Do"
data-v="4"
data-type="inline"
/>
<h4><a id="_prerequisites_2"></a>Prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.12/docs/discover/search-sessions.asciidoc">edit</a></h4>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To save a session, you must have permissions for <span class="strong strong"><strong>Discover</strong></span> and <span class="strong strong"><strong>Dashboard</strong></span>,
and the <a class="xref" href="kibana-privileges.html#kibana-feature-privileges" title="Feature privileges">search sessions subfeature</a>.
</li>
<li class="listitem">
To view and restore a saved session, you must have access to <span class="strong strong"><strong>Stack Management</strong></span>.
</li>
</ul>
</div>
<h4><a id="_example_save_a_search_session"></a>Example: Save a search session<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.12/docs/discover/search-sessions.asciidoc">edit</a></h4>
<p>You’re trying to understand a trend you see on a dashboard. You
need to look at several years of data, currently in
<a href="/guide/en/elasticsearch/reference/7.12/data-tiers.html#cold-tier" class="ulink" target="_top">cold storage</a>,
but you don’t have time to wait. You want Kibana to
continue working in the background, so tomorrow you can
open your browser and pick up where you left off.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Load your dashboard.</p>
<p>Your search session begins automatically. The icon after the dashboard title
displays the current state of the search session. A clock indicates the search session is in progress.
A checkmark indicates that the search session is complete.</p>
</li>
<li class="listitem">
<p>To instruct Kibana to continue a search in the background, click the clock icon,
and then click <span class="strong strong"><strong>Save session</strong></span>. Once you save a search session, you can start a new search,
navigate to a different application, or close the browser.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/search-session-awhile.png" alt="Search Session indicator displaying the current state of the search" width="which you can click to stop or save a running Search Session">
</div>
</div>
</li>
<li class="listitem">
<p>To view your saved searches, open the main menu, and then click
<span class="strong strong"><strong>Stack Management &gt; Search Sessions</strong></span>.  You can also open this view from the search sessions popup for a saved or completed session.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/search-sessions-menu.png" alt="Search Sessions management view with actions for inspecting" width="extending" height="and deleting a session.">
</div>
</div>
</li>
<li class="listitem">
<p>Use the edit menu in <span class="strong strong"><strong>Search Sessions</strong></span> to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Inspect</strong></span> the queries and filters that makeup the session.
</li>
<li class="listitem">
<span class="strong strong"><strong>Extend</strong></span> the expiration of a completed session.
</li>
<li class="listitem">
<span class="strong strong"><strong>Delete</strong></span> a session.
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>To restore a search session, click its name in the <span class="strong strong"><strong>Search Sessions</strong></span> view.</p>
<p>You&#8217;re returned to the place from where you started the search session. The data is the same, but
behaves differently:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Relative dates are converted to absolute dates.
</li>
<li class="listitem">
Panning and zooming is disabled for maps.
</li>
<li class="listitem">
Changing a filter, query, or drilldown starts a new search session, which can be slow.
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="save-open-search.html">« Save a search</a>
</span>
<span class="next">
<a href="dashboard.html">Dashboard »</a>
</span>
</div>
</div>
</body>
</html>
