<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Monitoring settings in Kibana | Kibana Guide [7.5] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.5]"/>
<link rel="up" href="settings.html" title="Configuring Kibana"/>
<link rel="prev" href="ml-settings-kb.html" title="Machine learning settings in Kibana"/>
<link rel="next" href="reporting-settings-kb.html" title="Reporting settings in Kibana"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.5"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.5"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.5]</a></span>
»
<span class="breadcrumb-link"><a href="setup.html">Set Up Kibana</a></span>
»
<span class="breadcrumb-link"><a href="settings.html">Configuring Kibana</a></span>
»
<span class="breadcrumb-node">Monitoring settings in Kibana</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ml-settings-kb.html">« Machine learning settings in Kibana</a>
</span>
<span class="next">
<a href="reporting-settings-kb.html">Reporting settings in Kibana »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="monitoring-settings-kb"></a>Monitoring settings in Kibana<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.5/docs/settings/monitoring-settings.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>By default, the Monitoring application is enabled, but data collection
is disabled.  When you first start Kibana monitoring, you are prompted to
enable data collection. If you are using X-Pack security, you must be
signed in as a user with the <code class="literal">cluster:manage</code> privilege to enable
data collection. The built-in <code class="literal">superuser</code> role has this privilege and the
built-in <code class="literal">elastic</code> user has this role.</p>
<p>You can adjust how monitoring data is
collected from Kibana and displayed in Kibana by configuring settings in the
<code class="literal">kibana.yml</code> file. There are also <code class="literal">xpack.monitoring.elasticsearch.*</code> settings,
which support the same values as <a class="xref" href="settings.html" title="Configuring Kibana">Kibana configuration settings</a>.</p>
<p>To control how data is collected from your Elasticsearch nodes, you configure
<a href="/guide/en/elasticsearch/reference/7.5/monitoring-settings.html" class="ulink" target="_top"><code class="literal">xpack.monitoring.collection</code>
settings</a> in <code class="literal">elasticsearch.yml</code>. To control how monitoring data is collected
from Logstash, you configure
<a href="/guide/en/logstash/7.5/monitoring-internal-collection.html#monitoring-settings" class="ulink" target="_top"><code class="literal">xpack.monitoring</code> settings</a>
in <code class="literal">logstash.yml</code>.</p>
<p>For more information, see
<a href="/guide/en/elasticsearch/reference/7.5/monitor-elasticsearch-cluster.html" class="ulink" target="_top">Monitor a cluster</a>.</p>
<h4><a id="monitoring-general-settings"></a>General monitoring settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.5/docs/settings/monitoring-settings.asciidoc">edit</a></h4>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.enabled</code></p></td>
<td align="left" valign="top"><p>Set to <code class="literal">true</code> (default) to enable the monitoring features in Kibana. Unlike the
  <code class="literal">monitoring.ui.enabled</code> setting, when this setting is <code class="literal">false</code>, the
  monitoring back-end does not run and Kibana stats are not sent to the monitoring
  cluster.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.elasticsearch.hosts</code></p></td>
<td align="left" valign="top"><p>Specifies the location of the Elasticsearch cluster where your monitoring data is stored.
  By default, this is the same as <code class="literal">elasticsearch.hosts</code>. This setting enables
  you to use a single Kibana instance to search and visualize data in your
  production cluster as well as monitor data sent to a dedicated monitoring
  cluster.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.elasticsearch.username</code></p></td>
<td align="left" valign="top"><p>Specifies the user ID that Kibana uses for authentication when it retrieves data
  from the monitorning cluster. If not set, Kibana uses the value of the
  <code class="literal">elasticsearch.username</code> setting.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.elasticsearch.password</code></p></td>
<td align="left" valign="top"><p>Specifies the password that Kibana uses for authentication when it retrieves data
  from the monitoring cluster. If not set, Kibana uses the value
  of the <code class="literal">elasticsearch.password</code> setting.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.elasticsearch.pingTimeout</code></p></td>
<td align="left" valign="top"><p>Specifies the time in milliseconds to wait for Elasticsearch to respond to internal
  health checks. By default, it matches the <code class="literal">elasticsearch.pingTimeout</code> setting,
  which has a default value of <code class="literal">30000</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="monitoring-collection-settings"></a>Monitoring collection settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.5/docs/settings/monitoring-settings.asciidoc">edit</a></h4>
<p>These settings control how data is collected from Kibana.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.kibana.collection.enabled</code></p></td>
<td align="left" valign="top"><p>Set to <code class="literal">true</code> (default) to enable data collection from the Kibana NodeJS server
  for Kibana Dashboards to be featured in the Monitoring.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.kibana.collection.interval</code></p></td>
<td align="left" valign="top"><p>Specifies the number of milliseconds to wait in between data sampling on the
  Kibana NodeJS server for the metrics that are displayed in the Kibana dashboards.
  Defaults to <code class="literal">10000</code> (10 seconds).</p></td>
</tr>
</tbody>
</table>
</div>
<h4><a id="monitoring-ui-settings"></a>Monitoring UI settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.5/docs/settings/monitoring-settings.asciidoc">edit</a></h4>
<p>These settings adjust how the Kibana Monitoring page displays monitoring data.
However, the defaults work best in most circumstances. For more information
about configuring Kibana, see
<a href="/guide/en/kibana/7.5/settings.html" class="ulink" target="_top">Setting Kibana Server Properties</a>.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.elasticsearch.logFetchCount</code></p></td>
<td align="left" valign="top"><p>Specifies the number of log entries to display in the Monitoring UI. Defaults to
  <code class="literal">10</code>. The maximum value is <code class="literal">50</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.max_bucket_size</code></p></td>
<td align="left" valign="top"><p>Specifies the number of term buckets to return out of the overall terms list when
  performing terms aggregations to retrieve index and node metrics. For more
  information about the <code class="literal">size</code> parameter, see
  <a href="/guide/en/elasticsearch/reference/7.5/search-aggregations-bucket-terms-aggregation.html#search-aggregations-bucket-terms-aggregation-size" class="ulink" target="_top">Terms Aggregation</a>.
  Defaults to <code class="literal">10000</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.min_interval_seconds</code></p></td>
<td align="left" valign="top"><p>Specifies the minimum number of seconds that a time bucket in a chart can
  represent. Defaults to 10. If you modify the
  <code class="literal">monitoring.ui.collection.interval</code> in <code class="literal">elasticsearch.yml</code>, use the same
  value in this setting.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.ui.enabled</code></p></td>
<td align="left" valign="top"><p>Set to <code class="literal">false</code> to hide the Monitoring UI in Kibana. The monitoring back-end
  continues to run as an agent for sending Kibana stats to the monitoring
  cluster. Defaults to <code class="literal">true</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<h5><a id="monitoring-ui-cgroup-settings"></a>Monitoring UI container settings<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.5/docs/settings/monitoring-settings.asciidoc">edit</a></h5>
<p>The Monitoring UI exposes the Cgroup statistics that we collect for you to make
better decisions about your container performance, rather than guessing based on
the overall machine performance. If you are not running your applications in a
container, then Cgroup statistics are not useful.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.ui.container.elasticsearch.enabled</code></p></td>
<td align="left" valign="top"><p>For Elasticsearch clusters that are running in containers, this setting changes the
  <span class="strong strong"><strong>Node Listing</strong></span> to display the CPU utilization based on the reported Cgroup
  statistics. It also adds the calculated Cgroup CPU utilization to the
  <span class="strong strong"><strong>Node Overview</strong></span> page instead of the overall operating system&#8217;s CPU
  utilization. Defaults to <code class="literal">false</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.ui.container.logstash.enabled</code></p></td>
<td align="left" valign="top"><p>For Logstash nodes that are running in containers, this setting
  changes the Logstash <span class="strong strong"><strong>Node Listing</strong></span> to display the CPU utilization
  based on the reported Cgroup statistics. It also adds the
  calculated Cgroup CPU utilization to the Logstash node detail
  pages instead of the overall operating system’s CPU utilization. Defaults to <code class="literal">false</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="ml-settings-kb.html">« Machine learning settings in Kibana</a>
</span>
<span class="next">
<a href="reporting-settings-kb.html">Reporting settings in Kibana »</a>
</span>
</div>
</div>
</body>
</html>
