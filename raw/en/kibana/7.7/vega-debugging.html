<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Debugging Vega | Kibana Guide [7.7] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.7]"/>
<link rel="up" href="vega-graph.html" title="Vega"/>
<link rel="prev" href="vega-esmfiles.html" title="Access Elastic Map Service files"/>
<link rel="next" href="vega-useful-links.html" title="Resources and examples"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.7"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.7]</a></span>
»
<span class="breadcrumb-link"><a href="visualize.html">Visualize</a></span>
»
<span class="breadcrumb-link"><a href="vega-graph.html">Vega</a></span>
»
<span class="breadcrumb-node">Debugging Vega</span>
</div>
<div class="navheader">
<span class="prev">
<a href="vega-esmfiles.html">« Access Elastic Map Service files</a>
</span>
<span class="next">
<a href="vega-useful-links.html">Resources and examples »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="vega-debugging"></a>Debugging Vega<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.7/docs/visualize/vega.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="vega-browser-debugging-console"></a>Browser debugging console<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.7/docs/visualize/vega.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="Admonishment Admonishment--experimental">
[<span class="Admonishment-title u-mono">experimental</span>]
<span class="Admonishment-detail">
This functionality is experimental and may be changed or removed completely in a future release. Elastic will take a best effort approach to fix any issues, but experimental features are not subject to the support SLA of official GA features.
</span>
</span> Use browser debugging tools (for example, F12 or Ctrl+Shift+J in Chrome) to
inspect the <code class="literal">VEGA_DEBUG</code> variable:</p>
<p>+
* <code class="literal">view</code> &mdash; Access to the Vega View object. See <a href="https://vega.github.io/vega/docs/api/debugging/" class="ulink" target="_top">Vega Debugging Guide</a>
on how to inspect data and signals at runtime. For Vega-Lite, <code class="literal">VEGA_DEBUG.view.data('source_0')</code> gets the main data set.
For Vega, it uses the data name as defined in your Vega spec.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">vega_spec</code> &mdash; Vega JSON graph specification after some modifications by Kibana. In case
of Vega-Lite, this is the output of the Vega-Lite compiler.
</li>
<li class="listitem">
<code class="literal">vegalite_spec</code> &mdash; If this is a Vega-Lite graph, JSON specification of the graph before
Vega-Lite compilation.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="vega-data"></a>Data<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/7.7/docs/visualize/vega.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="Admonishment Admonishment--experimental">
[<span class="Admonishment-title u-mono">experimental</span>]
<span class="Admonishment-detail">
This functionality is experimental and may be changed or removed completely in a future release. Elastic will take a best effort approach to fix any issues, but experimental features are not subject to the support SLA of official GA features.
</span>
</span> If you are using an Elasticsearch query, make sure your resulting data is
what you expected. The easiest way to view it is by using the "networking"
tab in the browser debugging tools (for example, F12). Modify the graph slightly
so that it makes a search request, and view the response from the
server. Another approach is to use
<a href="/guide/en/kibana/current/console-kibana.html" class="ulink" target="_top">Dev Tools</a>. Place the index name into the first line:
<code class="literal">GET &lt;INDEX_NAME&gt;/_search</code>, then add your query as the following lines
(just the value of the <code class="literal">"query"</code> field).</p>
<p>If you need to share your graph with someone, copy the
raw data response to <a href="https://gist.github.com/" class="ulink" target="_top">gist.github.com</a>, possibly
with a <code class="literal">.json</code> extension, use the <code class="literal">[raw]</code> button, and use that url
directly in your graph.</p>
<p>To restrict Vega from using non-ES data sources, add <code class="literal">vega.enableExternalUrls: false</code>
to your kibana.yml file.</p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="vega-esmfiles.html">« Access Elastic Map Service files</a>
</span>
<span class="next">
<a href="vega-useful-links.html">Resources and examples »</a>
</span>
</div>
</div>
</body>
</html>
