<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Plot big data without plotting too much data | Kibana Guide [7.9] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.9]"/>
<link rel="up" href="maps.html" title="Maps"/>
<link rel="prev" href="vector-tooltip.html" title="Vector tooltips"/>
<link rel="next" href="maps-grid-aggregation.html" title="Grid aggregation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.9"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.9"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.9]</a></span>
»
<span class="breadcrumb-link"><a href="maps.html">Maps</a></span>
»
<span class="breadcrumb-node">Plot big data without plotting too much data</span>
</div>
<div class="navheader">
<span class="prev">
<a href="vector-tooltip.html">« Vector tooltips</a>
</span>
<span class="next">
<a href="maps-grid-aggregation.html">Grid aggregation »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="maps-aggregations"></a>Plot big data without plotting too much data<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.9/docs/maps/maps-aggregations.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>Use <a href="/guide/en/elasticsearch/reference/7.9/search-aggregations.html" class="ulink" target="_top">aggregations</a> to plot large data sets without overwhelming your network or your browser.
When using aggregations, the documents stay in Elasticsearch and only the calculated values for each group are returned to your computer.</p>
<p>Aggregations group your documents into buckets and calculate metrics for each bucket.
Use metric aggregations for <a class="xref" href="vector-style.html#maps-vector-style-data-driven" title="Data driven styling">data driven styling</a>. For example, use the count aggregation to shade world countries by web log traffic.</p>
<p>You can add the following metric aggregations:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Average.</strong></span> The mean of the values.
</li>
<li class="listitem">
<span class="strong strong"><strong>Count.</strong></span> The number of documents.
</li>
<li class="listitem">
<span class="strong strong"><strong>Max.</strong></span> The highest value.
</li>
<li class="listitem">
<span class="strong strong"><strong>Min.</strong></span> The lowest value.
</li>
<li class="listitem">
<span class="strong strong"><strong>Sum.</strong></span> The total value.
</li>
<li class="listitem">
<span class="strong strong"><strong>Top term.</strong></span> The most common value.
</li>
<li class="listitem">
<span class="strong strong"><strong>Unique count.</strong></span> The number of distinct values.
</li>
</ul>
</div>
<p>Use aggregated layers with document layers to show aggregated views when the map shows larger
amounts of the globe and individual documents when the map shows smaller regions.</p>
<p>In the following example, the Grid aggregation layer is only visible when the map is at zoom levels 0 through 5. The Documents layer is only visible when the map is at zoom levels 4 through 24.
See the <a class="xref" href="maps-add-elasticsearch-layer.html" title="Add layers for the Elasticsearch data">Getting started</a> tutorial for more details on configuring the layers.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="maps/images/grid_to_docs.gif" alt="grid to docs">
</div>
</div>




</div>
<div class="navfooter">
<span class="prev">
<a href="vector-tooltip.html">« Vector tooltips</a>
</span>
<span class="next">
<a href="maps-grid-aggregation.html">Grid aggregation »</a>
</span>
</div>
</div>
</body>
</html>
