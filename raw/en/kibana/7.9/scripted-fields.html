<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Scripted fields | Kibana Guide [7.9] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [7.9]"/>
<link rel="up" href="managing-fields.html" title="Index patterns and fields"/>
<link rel="prev" href="field-formatters-numeric.html" title="Numeric field formatters"/>
<link rel="next" href="managing-licenses.html" title="License Management"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/7.9"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="7.9"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [7.9]</a></span>
»
<span class="breadcrumb-link"><a href="management.html">Stack Management</a></span>
»
<span class="breadcrumb-link"><a href="managing-fields.html">Index patterns and fields</a></span>
»
<span class="breadcrumb-node">Scripted fields</span>
</div>
<div class="navheader">
<span class="prev">
<a href="field-formatters-numeric.html">« Numeric field formatters</a>
</span>
<span class="next">
<a href="managing-licenses.html">License Management »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="scripted-fields"></a>Scripted fields<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.9/docs/management/managing-fields.asciidoc">edit</a></h2>
</div></div></div>
<p>Scripted fields compute data on the fly from the data in your Elasticsearch indices. The data is shown on
the Discover tab as part of the document data, and you can use scripted fields in your visualizations. You query scripted fields with the <a class="xref" href="kuery-query.html" title="Kibana Query Language">Kibana query language</a>, and can filter them using the filter bar. The scripted field values are computed at query time, so they aren&#8217;t indexed and cannot be searched using the Kibana default
query language.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Computing data on the fly with scripted fields can be very resource intensive and can have a direct impact on
Kibana performance. Keep in mind that there&#8217;s no built-in validation of a scripted field. If your scripts are
buggy, you&#8217;ll get exceptions whenever you try to view the dynamically generated data.</p>
</div>
</div>
<p>When you define a scripted field in Kibana, you have a choice of scripting languages. In 5.0 and later, the default
options are <a href="/guide/en/elasticsearch/reference/7.9/modules-scripting-expression.html" class="ulink" target="_top">Lucene expressions</a> and <a href="/guide/en/elasticsearch/reference/7.9/modules-scripting-painless.html" class="ulink" target="_top">Painless</a>.
While you can use other scripting languages if you enable dynamic scripting for them in Elasticsearch, this is not recommended
because they cannot be sufficiently <a href="/guide/en/elasticsearch/reference/7.9/modules-scripting-security.html" class="ulink" target="_top">sandboxed</a>.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>In 5.0 and later, Groovy, JavaScript, and Python scripting are deprecated and unsupported.</p>
</div>
</div>
<p>You can reference any single value numeric field in your expressions, for example:</p>
<pre class="screen">doc['field_name'].value</pre>
<p>For more information on scripted fields and additional examples, refer to
<a href="/blog/using-painless-kibana-scripted-fields" class="ulink" target="_top">Using Painless in Kibana scripted fields</a></p>
<h3><a id="create-scripted-field"></a>Create a scripted field<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.9/docs/management/managing-fields.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open the menu, then go to <span class="strong strong"><strong>Stack Management &gt; Kibana &gt; Index Patterns</strong></span>
</li>
<li class="listitem">
Select the index pattern you want to add a scripted field to.
</li>
<li class="listitem">
Go to the <span class="strong strong"><strong>Scripted fields</strong></span> tab for the index pattern, then click <span class="strong strong"><strong>Add scripted field</strong></span>.
</li>
<li class="listitem">
Enter a name for the scripted field.
</li>
<li class="listitem">
Enter the expression that you want to use to compute a value on the fly from your index data.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create field</strong></span>.
</li>
</ol>
</div>
<p>For more information about scripted fields in Elasticsearch, see
<a href="/guide/en/elasticsearch/reference/7.9/modules-scripting.html" class="ulink" target="_top">Scripting</a>.</p>
<h3><a id="update-scripted-field"></a>Update a scripted field<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.9/docs/management/managing-fields.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click the <span class="strong strong"><strong>Scripted fields</strong></span> tab for the index pattern.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Edit</strong></span> button for the scripted field you want to change.
</li>
<li class="listitem">
Make your changes, then click <span class="strong strong"><strong>Save field</strong></span>.
</li>
</ol>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Built-in validation is unsupported for scripted fields. If your scripts are buggy, you&#8217;ll get
exceptions whenever you try to view the dynamically generated data.</p>
</div>
</div>
<h3><a id="delete-scripted-field"></a>Delete a scripted field<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/7.9/docs/management/managing-fields.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click the <span class="strong strong"><strong>Scripted fields</strong></span> tab for the index pattern.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Delete</strong></span> for the scripted field you want to remove.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Delete</strong></span> on the confirmation window.
</li>
</ol>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="field-formatters-numeric.html">« Numeric field formatters</a>
</span>
<span class="next">
<a href="managing-licenses.html">License Management »</a>
</span>
</div>
</div>
</body>
</html>
