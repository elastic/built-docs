<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="Kibana diagnostic, diagnostics">
<title>Kibana 8.18.1 | Kibana Guide [8.18] | Elastic</title>
<meta class="elastic" name="content" content="Kibana 8.18.1 | Kibana Guide [8.18]">

<link rel="home" href="index.html" title="Kibana Guide [8.18]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes-8.18.2.html" title="Kibana 8.18.2"/>
<link rel="next" href="release-notes-8.18.0.html" title="Kibana 8.18.0"/>
<meta class="elastic" name="product_version" content="8.18"/>
<meta class="elastic" name="product_name" content="Kibana"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/8.18"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="8.18"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="release-notes-8.18.2.html">« Kibana 8.18.2</a>
</span>
<span class="next">
<a href="release-notes-8.18.0.html">Kibana 8.18.0 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide [8.18]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Kibana 8.18.1</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.18/docs/CHANGELOG.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    A newer version is available. Check out the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-notes-8.18.1"></a>Kibana 8.18.1</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.18/docs/CHANGELOG.asciidoc">edit</a></div>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The 8.18.1 release contains fixes for potential security vulnerabilities. See our <a href="https://discuss.elastic.co/c/announcements/security-announcements/31" class="ulink" target="_top">security advisory</a> for more details.</p>
</div>
</div>
<p>The 8.18.1 release includes the following known issues, enhancements and fixes.</p>
<div class="position-relative"><h3><a id="known-issues-8.18.1"></a>Known issues</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.18/docs/CHANGELOG.asciidoc">edit</a></div>
<details>
<summary class="title">PDF and PNG reports time out and fail with an invalid header error if server.protocol is set to http2</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
If you&#8217;ve changed the <a class="xref" href="settings.html" title="Configure Kibana"><code class="literal">server.protocol</code></a> value to <code class="literal">http2</code>, PDF and PNG reports will fail when you export them from the dashboard, visualization, or Canvas workpad that you&#8217;re generating a report for.</p>
<p><span class="strong strong"><strong>Workaround</strong></span><br>
To temporarily resolve the issue, set <code class="literal">server.protocol</code> to <code class="literal">http1</code>.</p>
<p><span class="strong strong"><strong>Resolved</strong></span><br>
This issue is resolved in 8.17.9, 8.18.4, 8.19.0 and later.</p>
</div>
</details>
<details>
<summary class="title">Errors in rule executions occur when maintenance windows have filters.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
Errors occur when rules run during an active maintenance window that has filters and a matching rule category.</p>
<p><span class="strong strong"><strong>Workaround</strong></span><br>
Remove any filters added to the active maintenance window.</p>
<p><span class="strong strong"><strong>Resolved</strong></span><br>
This issue is resolved in 8.18.3.</p>
</div>
</details>
<details>
<summary class="title">Observability AI assistant Knowledge Base entries with empty text can lead to Kibana OOM or restarts.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The semantic text migration can cause excessive traffic to a cluster and might eventually cause the Kibana instance to crash due to OOM, together with increase of requests to Elasticsearch &amp; ML nodes.</p>
<p>The problem can occur when there is one or more empty text Knowledge Base documents.</p>
<p>The migration script does not handle this scenario and will indefinitely update the same document.</p>
<p>Because the document update involves semantic_text an ML node is kept warm further increasing the costs.</p>
<p>The issue involves semantic_text field type (and thus the semantic_text migration which is causing this issue), introduced in the knowledge base feature in 8.17.</p>
<p><span class="strong strong"><strong>Workaround</strong></span><br></p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Pause the Kibana instance if possible. If not possible, skip this step.
</li>
<li class="listitem">
<p>Run a dry run query to identify if you have empty Knowledge Base documents. If you have at least 1 hit, you can be affected by the problem.</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">GET .kibana-observability-ai-assistant-kb/_search
{
  "query": {
    "bool": {
      "must": [{ "exists": { "field": "text" }}],
      "must_not": [ { "wildcard": { "text": "*" } }
      ]
    }
  }
}</pre>
</div>
</li>
<li class="listitem">
<p>Execute the deletion. For extra safety, you might want to trigger a snapshot before executing it.</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">POST .kibana-observability-ai-assistant-kb/_delete_by_query
{
  "query": {
    "bool": {
      "must": [{ "exists": { "field": "text" }}],
      "must_not": [ { "wildcard": { "text": "*" } }
      ]
    }
  }
}</pre>
</div>
</li>
</ol>
</div>
<p>For more information, check:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/kibana/issues/220339" class="ulink" target="_top">#220339</a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/kibana/issues/220342" class="ulink" target="_top">#220342</a>
</li>
</ul>
</div>
</div>
</details>
<details>
<summary class="title">Observability AI assistant gets stuck in a loop when attempting to call the <code class="literal">execute_connector</code> function.</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The Observability AI assistant gets stuck in a loop when calling the <code class="literal">execute_connector</code> function. Instead of completing queries, it times out with the error message <code class="literal">Failed to parse function call arguments when converting messages for inference: SyntaxError: Unexpected non-whitespace character after JSON at position 72 and Error: Tool call arguments for execute_connector (...) were invalid</code>.</p>
</div>
</details>
<details>
<summary class="title">Observability AI Assistant - Elastic Managed LLM may be automatically selected as default connector</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
The Elastic Managed LLM may be automatically selected as your default connector because of existing connector selection logic.
This can occur if you had not previously specified a connector for any of the following reasons:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You only had one connector available and it was always automatically picked for your conversations.
</li>
<li class="listitem">
You had multiple connectors available but didn’t make a specific selection and used the automatically picked connector for your conversations.
</li>
<li class="listitem">
You previously selected a connector but cleared your browser&#8217;s local storage or switched browsers or devices.
</li>
</ul>
</div>
<p><em>And:</em></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
All of your existing connector names come after the “Elastic Managed LLM connector" when sorted alphabetically.
</li>
</ul>
</div>
<p>For more information, check <a href="https://github.com/elastic/docs-content/issues/2088" class="ulink" target="_top">#2088</a></p>
</div>
</details>
<div class="position-relative"><h3><a id="enhancement-v8.18.1"></a>Enhancements</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.18/docs/CHANGELOG.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Elastic Security solution
</span>
</dt>
<dd>
For the Elastic Security 8.18.1 release information, refer to <a href="/guide/en/security/8.18/release-notes.html" class="ulink" target="_top"><em>Elastic Security Solution Release Notes</em></a>.
</dd>
</dl>
</div>
<div class="position-relative"><h3><a id="fixes-v8.18.1"></a>Fixes</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.18/docs/CHANGELOG.asciidoc">edit</a></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Dashboards and Visualizations
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Syncs the dashboard ES|QL query and filters with the corresponding visualization query in <span class="strong strong"><strong>Lens</strong></span> (<a href="https://github.com/elastic/kibana/pull/218997" class="ulink" target="_top">#218997</a>).
</li>
<li class="listitem">
Correctly formats keywords in metric visualizations (<a href="https://github.com/elastic/kibana/pull/218233" class="ulink" target="_top">#218233</a>).
</li>
<li class="listitem">
When exploring a dashboard, the request inspector now shows the correct request and response in any successful scenario (<a href="https://github.com/elastic/kibana/pull/216519" class="ulink" target="_top">#216519</a>).
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Discover
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes incorrect behavior for requests on fields where the <span class="strong strong"><strong>Allow hidden and system indices</strong></span> (<code class="literal">allow_hidden</code>) option of the data view could be ignored (<a href="https://github.com/elastic/kibana/pull/217628" class="ulink" target="_top">#217628</a>).
</li>
<li class="listitem">
Fixes the result of the <span class="strong strong"><strong>Generate CSV report</strong></span> action for ES|QL panels (<a href="https://github.com/elastic/kibana/pull/216325" class="ulink" target="_top">#216325</a>).
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Observability Solution
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Prevents unnecessary suggestion requests when interacting with inputs on the APM <span class="strong strong"><strong>Custom Links</strong></span> page (<a href="https://github.com/elastic/kibana/pull/218927" class="ulink" target="_top">#218927</a>).
</li>
<li class="listitem">
Filters out null values from <code class="literal">sourceDataStreams</code> (<a href="https://github.com/elastic/kibana/pull/218772" class="ulink" target="_top">#218772</a>).
</li>
<li class="listitem">
Fixes a bug with navigating to the <span class="strong strong"><strong>Search Connectors</strong></span> tab in the AI Assistant Settings (<a href="https://github.com/elastic/kibana/pull/217749" class="ulink" target="_top">#217749</a>).
</li>
<li class="listitem">
Improves <code class="literal">aria-label</code> attributes for correlations (<a href="https://github.com/elastic/kibana/pull/217512" class="ulink" target="_top">#217512</a>).
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Elastic Security solution
</span>
</dt>
<dd>
For the Elastic Security 8.18.1 release information, refer to <a href="/guide/en/security/8.18/release-notes.html" class="ulink" target="_top"><em>Elastic Security Solution Release Notes</em></a>.
</dd>
<dt>
<span class="term">
Kibana platform
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes broken icons in integrations coming from the Home plugin (<a href="https://github.com/elastic/kibana/pull/219206" class="ulink" target="_top">#219206</a>).
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Kibana security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Removes check for unused connector role (<a href="https://github.com/elastic/kibana/pull/219358" class="ulink" target="_top">#219358</a>).
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixes error when switching Service providers in the <span class="strong strong"><strong>Inference Endpoint</strong></span> flyout (<a href="https://github.com/elastic/kibana/pull/219020" class="ulink" target="_top">#219020</a>).
</li>
<li class="listitem">
Corrects quotes in ES|QL queries for function arguments (<a href="https://github.com/elastic/kibana/pull/217680" class="ulink" target="_top">#217680</a>).
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes-8.18.2.html">« Kibana 8.18.2</a>
</span>
<span class="next">
<a href="release-notes-8.18.0.html">Kibana 8.18.0 »</a>
</span>
</div>
</body>
</html>
