<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="Conceptual and step-by-step procedures for using runtime fields, scripted fields, and field formatters.">
<meta name="keywords" content="administrator, data view, data views, management, runtime fields, runtime fields in Kibana, scripted fields, field formatters, data fields, index pattern, index patterns">
<title>Task Manager health API | Kibana Guide [8.3] | Elastic</title>
<meta class="elastic" name="content" content="Task Manager health API | Kibana Guide [8.3]">

<link rel="home" href="index.html" title="Kibana Guide [8.3]"/>
<link rel="up" href="api.html" title="REST API"/>
<link rel="prev" href="short-urls-api-resolve.html" title="Resolve short URL API"/>
<link rel="next" href="upgrade-assistant-api.html" title="Upgrade assistant APIs"/>
<meta class="elastic" name="product_version" content="8.3"/>
<meta class="elastic" name="product_name" content="Kibana"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/8.3"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="8.3"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide [8.3]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api.html">REST API</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="short-urls-api-resolve.html">« Resolve short URL API</a>
</span>
<span class="next">
<a href="upgrade-assistant-api.html">Upgrade assistant APIs »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="task-manager-api-health"></a>Task Manager health API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.3/docs/api/task-manager/health.asciidoc">edit</a></h2>
</div></div></div>

<p>Retrieve the health status of the Kibana Task Manager.</p>
<h3><a id="task-manager-api-health-request"></a>Request<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.3/docs/api/task-manager/health.asciidoc">edit</a></h3>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/task_manager/_health</code></p>
<h3><a id="task-manager-api-health-codes"></a>Response code<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.3/docs/api/task-manager/health.asciidoc">edit</a></h3>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
<h3><a id="task-manager-api-health-example"></a>Example<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.3/docs/api/task-manager/health.asciidoc">edit</a></h3>
<p>Retrieve the health status of the Kibana Task Manager:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X GET api/task_manager/_health</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/180.kibana"></div>
<p>The API returns the following:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">{
  "id": "15415ecf-cdb0-4fef-950a-f824bd277fe4",
  "timestamp": "2021-02-16T11:38:10.077Z",
  "status": "OK",
  "last_update": "2021-02-16T11:38:09.934Z",
  "stats": {
    "configuration": {
      "timestamp": "2021-02-16T11:29:05.055Z",
      "value": {
        "request_capacity": 1000,
        "max_poll_inactivity_cycles": 10,
        "monitored_aggregated_stats_refresh_rate": 60000,
        "monitored_stats_running_average_window": 50,
        "monitored_task_execution_thresholds": {
          "default": {
            "error_threshold": 90,
            "warn_threshold": 80
          },
          "custom": {}
        },
        "poll_interval": 3000,
        "max_workers": 10
      },
      "status": "OK"
    },
    "runtime": {
      "timestamp": "2021-02-16T11:38:09.934Z",
      "value": {
        "polling": {
          "last_successful_poll": "2021-02-16T11:38:09.934Z",
          "last_polling_delay": "2021-02-16T11:29:05.053Z",
          "duration": {
            "p50": 0,
            "p90": 0,
            "p95": 0,
            "p99": 0
          },
          "claim_conflicts": {
            "p50": 0,
            "p90": 0,
            "p95": 0,
            "p99": 0
          },
          "claim_mismatches": {
            "p50": 0,
            "p90": 0,
            "p95": 0,
            "p99": 0
          },
          "result_frequency_percent_as_number": {
            "Failed": 0,
            "NoAvailableWorkers": 0,
            "NoTasksClaimed": 0,
            "RanOutOfCapacity": 0,
            "RunningAtCapacity": 0,
            "PoolFilled": 0
          }
        },
        "drift": {
          "p50": 0,
          "p90": 0,
          "p95": 0,
          "p99": 0
        },
        "load": {
          "p50": 0,
          "p90": 0,
          "p95": 0,
          "p99": 0
        },
        "execution": {
          "duration": {},
          "result_frequency_percent_as_number": {}
        }
      },
      "status": "OK"
    },
    "workload": {
      "timestamp": "2021-02-16T11:38:05.826Z",
      "value": {
        "count": 26,
        "task_types": {},
        "schedule": [],
        "overdue": 0,
        "estimated_schedule_density": []
      },
      "status": "OK"
    }
  }
}</pre>
</div>
<p>The health API response is described in <a class="xref" href="task-manager-health-monitoring.html#making-sense-of-task-manager-health-stats" title="Making sense of Task Manager health stats">Making sense of Task Manager health stats</a>.</p>
<p>The health monitoring API exposes three sections:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">configuration</code> is described in detail under <a class="xref" href="task-manager-troubleshooting.html#task-manager-health-evaluate-the-configuration" title="Evaluate the Configuration">Evaluate the Configuration</a>
</li>
<li class="listitem">
<code class="literal">workload</code> is described in detail under <a class="xref" href="task-manager-troubleshooting.html#task-manager-health-evaluate-the-workload" title="Evaluate the Workload">Evaluate the Workload</a>
</li>
<li class="listitem">
<code class="literal">runtime</code> is described in detail under <a class="xref" href="task-manager-troubleshooting.html#task-manager-health-evaluate-the-runtime" title="Evaluate the Runtime">Evaluate the Runtime</a>
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="short-urls-api-resolve.html">« Resolve short URL API</a>
</span>
<span class="next">
<a href="upgrade-assistant-api.html">Upgrade assistant APIs »</a>
</span>
</div>
</div>
</body>
</html>
