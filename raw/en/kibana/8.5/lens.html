<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="Consider the production components that are used to generate reports.">
<meta name="keywords" content="administrator, analyst, concept, setup, reporting">
<title>Create visualizations with Lens | Kibana Guide [8.5] | Elastic</title>
<link rel="home" href="index.html" title="Kibana Guide [8.5]"/>
<link rel="up" href="aggregation-reference.html" title="Create panels with editors"/>
<link rel="prev" href="aggregation-reference.html" title="Create panels with editors"/>
<link rel="next" href="tsvb.html" title="TSVB"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/8.5"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="8.5"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="index.html">Kibana Guide [8.5]</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="dashboard.html">Dashboard and visualizations</a></span><span class="chevron-right">›</span>
<span class="breadcrumb-link"><a href="aggregation-reference.html">Create panels with editors</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="aggregation-reference.html">« Create panels with editors</a>
</span>
<span class="next">
<a href="tsvb.html">TSVB »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="lens"></a>Create visualizations with Lens<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h2>
</div></div></div>

<p>To create a visualization, drag the data fields you want to visualize to the workspace, then <span class="strong strong"><strong>Lens</strong></span> uses visualization best practices to apply the fields and create a visualization that best displays the data.</p>
<p>With <span class="strong strong"><strong>Lens</strong></span>, you can:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Create area, line, and bar charts with layers to display multiple indices and chart types.
</li>
<li class="listitem">
Change the aggregation function to change the data in the visualization.
</li>
<li class="listitem">
Create custom tables.
</li>
<li class="listitem">
Perform math on aggregations using <span class="strong strong"><strong>Formula</strong></span>.
</li>
<li class="listitem">
Use time shifts to compare the data in two time intervals, such as month over month.
</li>
<li class="listitem">
Add annotations and reference lines.
</li>
</ul>
</div>
<h4><a id="create-the-visualization-panel"></a>Create visualizations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>If you&#8217;re unsure about the visualization type you want to use, or how you want to display the data, drag the fields you want to visualize onto the workspace, then let <span class="strong strong"><strong>Lens</strong></span> choose for you.</p>
<p>If you already know the visualization type you want to use, and how you want to display the data, use the following process:</p>
<p>Choose the visualization type.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Before you drag fields to the workspace, open the <span class="strong strong"><strong>Visualization type</strong></span> dropdown, then select the visualization you want to use.
</li>
<li class="listitem">
To view more visualizations that <span class="strong strong"><strong>Lens</strong></span> automatically created for the fields, click <span class="strong strong"><strong>Suggestions</strong></span>. If one of the <span class="strong strong"><strong>Suggestions</strong></span> meets your visualization needs, click <span class="strong strong"><strong>Save and return</strong></span> to add it to the dashboard.
</li>
</ol>
</div>
<p>Choose the data you want to visualize.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Drag the fields directly to the layer pane. <span class="strong strong"><strong>Lens</strong></span> automatically selects the aggregation function.
</li>
<li class="listitem">
If you want to learn more about the data a field contains, click the field.
</li>
<li class="listitem">
To visualize more than one data view, click <span class="strong strong"><strong>Add layer</strong></span>, select the layer type, then select the data view.
</li>
</ol>
</div>
<p>Edit and delete.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
To change the aggregation <span class="strong strong"><strong>Quick function</strong></span> and display options, click the field in the layer pane.
</li>
<li class="listitem">
To delete a field, close the configuration options, then click <span class="strong strong"><strong>X</strong></span> next to the field.
</li>
<li class="listitem">
To clone a layer, click <span class="image"><img src="dashboard/images/lens_layerActions_8.5.0.png" alt="Actions menu to duplicate Lens visualization layers"></span> in the layer pane, then select <span class="strong strong"><strong>Duplicate layer</strong></span>.
</li>
<li class="listitem">
To clear the layer configuration, click <span class="image"><img src="dashboard/images/lens_layerActions_8.5.0.png" alt="Actions menu to clear Lens visualization layers"></span> in the layer pane, then select <span class="strong strong"><strong>Clear layer</strong></span>.
</li>
</ol>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can manually apply the changes you make, which is helpful when creating large and complex visualizations. To manually apply your changes, click <span class="strong strong"><strong>Settings</strong></span> in the toolbar, then deselect <span class="strong strong"><strong>Auto-apply visualization changes</strong></span>.</p>
</div>
</div>
<h4><a id="change-the-fields"></a>Change the fields list<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Change the fields list to display a different data view, different time range, or add your own fields.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To create a visualization with fields in a different data view, open the data view dropdown, then select the data view.
</li>
<li class="listitem">
If the fields list is empty, change the <a class="xref" href="set-time-filter.html" title="Set the time range">time filter</a>.
</li>
<li class="listitem">
<p>To add fields, open the data view dropdown, then select <span class="strong strong"><strong>Add a field to this data view</strong></span>.</p>
<p class="screenshot"><span class="image"><img src="images/lens_dataViewDropDown_8.4.0.png" alt="Dropdown menu located next to data view field with items for adding and managing fields"></span></p>
<p>For more information about adding fields to data views and examples, refer to <a class="xref" href="managing-data-views.html#runtime-fields" title="Explore your data with runtime fields">Explore your data with runtime fields</a>.</p>
</li>
</ul>
</div>
<h4><a id="create-custom-tables"></a>Create custom tables<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Tables are highly customizable, and provide you with text alignment, value formatting, coloring options, and more.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the <span class="strong strong"><strong>Visualization type</strong></span> dropdown, select <span class="strong strong"><strong>Table</strong></span>.
</li>
<li class="listitem">
Drag the fields you want to visualize to the workspace.
</li>
<li class="listitem">
<p>To sort or hide the columns, click the arrow next to the column heading, then select an option.</p>
<p>All columns that belong to the same layer pane group are sorted in the table.</p>
</li>
<li class="listitem">
<p>To change the display options, click a <span class="strong strong"><strong>Metrics</strong></span> field in the layer pane, then configure the following options:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Name</strong></span> &mdash; Specifies the field display name.
</li>
<li class="listitem">
<span class="strong strong"><strong>Collapse by</strong></span> &mdash; Aggregates all metric values with the same value into a single number.
</li>
<li class="listitem">
<span class="strong strong"><strong>Value format</strong></span> &mdash; Specifies how the field value displays in the table.
</li>
<li class="listitem">
<span class="strong strong"><strong>Text alignment</strong></span> &mdash; Aligns the values in the cell to the <span class="strong strong"><strong>Left</strong></span>, <span class="strong strong"><strong>Center</strong></span>, or <span class="strong strong"><strong>Right</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Hide column</strong></span> &mdash; Hides the column for the field.
</li>
<li class="listitem">
<span class="strong strong"><strong>Directly filter on click</strong></span> &mdash; Turns column values into clickable links that allow you to filter or drill down into the data.
</li>
<li class="listitem">
<span class="strong strong"><strong>Summary row</strong></span> &mdash; Adds a row that displays the summary value. When specified, allows you to enter a <span class="strong strong"><strong>Summary label</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Color by value</strong></span> &mdash; Applies color to the cell or text values. To change the color, click <span class="strong strong"><strong>Edit</strong></span>.
</li>
</ul>
</div>
</li>
</ol>
</div>
<h4><a id="drag-and-drop-keyboard-navigation"></a>Create visualizations with keyboard navigation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>To use a keyboard instead of a mouse, use the <span class="strong strong"><strong>Lens</strong></span> fully accessible and continuously improved drag system.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Select the field in the fields list or layer pane. Most fields have an inner and outer select state. The inner state opens a panel with detailed information or options.
The outer state allows you to drag the field. Tab through the fields until you get the outer state on the field.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_drag_drop_2.png" alt="Lens drag and drop focus state">
</div>
</div>
</li>
<li class="listitem">
<p>Complete the following actions:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To select a field, press Space bar.
</li>
<li class="listitem">
To select where you want to drop the field, use the Left and Right arrows.
</li>
<li class="listitem">
To reorder the fields on the layer pane, use the Up and Down arrows.
</li>
<li class="listitem">
<p>To duplicate an action, use the Left and Right arrows, then select the <span class="strong strong"><strong>Drop a field or click to add</strong></span> field you want to use.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_drag_drop_3.gif" alt="Using drag and drop to reorder">
</div>
</div>
</li>
</ul>
</div>
</li>
<li class="listitem">
To confirm the action, press Space bar. To cancel, press Esc.
</li>
</ol>
</div>
<h4><a id="lens-formulas"></a>Use formulas to perform math<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Formulas allow you to perform math on aggregated data. The most common formulas divide two values to produce a percent.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click a field.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Formula</strong></span>, then enter the formula.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Filter ratio example
</span>
</dt>
<dd>
<p>
To filter a document set, use <code class="literal">kql=''</code>, then compare to other documents within the same grouping:
</p>
<pre class="screen">count(kql='response.status_code &gt; 400') / count()</pre>
</dd>
<dt>
<span class="term">
Week over week example
</span>
</dt>
<dd>
<p>
To get the value for each grouping from the previous week, use <code class="literal">shift='1w'</code>.
</p>
<pre class="screen">percentile(system.network.in.bytes, percentile=99) /
percentile(system.network.in.bytes, percentile=99, shift='1w')</pre>
<p>You are unable to combine different time shifts, such as <code class="literal">count(shift="1w") - count()</code> and <code class="literal">count(shift="1w") - count(shift="1m")</code>, with the <span class="strong strong"><strong>Top values</strong></span> function.</p>
</dd>
<dt>
<span class="term">
Percent of total example
</span>
</dt>
<dd>
<p>
To convert each grouping into a percent of the total, formulas calculate <code class="literal">overall_sum</code> for all groupings:
</p>
<pre class="screen">sum(products.base_price) / overall_sum(sum(products.base_price))</pre>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>For detailed information on formulas, click <span class="image"><img src="dashboard/images/formula_reference.png" alt="Formula reference icon"></span>.</p>
</div>
</div>
</dd>
</dl>
</div>
</li>
<li class="listitem">
To accurately display the formula, select <span class="strong strong"><strong>Percent</strong></span> from the <span class="strong strong"><strong>Value format</strong></span> dropdown.
</li>
</ol>
</div>
<h4><a id="compare-data-with-time-offsets"></a>Compare differences over time<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Compare your real-time data to the results that are offset by a time increment. For example, you can compare the real-time percentage of a user CPU time spent to the results offset by one hour.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click the field you want to offset.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Advanced</strong></span>.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Time shift</strong></span> field, enter the time offset increment.
</li>
</ol>
</div>
<p>For a time shift example, refer to <a class="xref" href="create-a-dashboard-of-panels-with-ecommerce-data.html#compare-time-ranges" title="Compare time ranges">Compare time ranges</a>.</p>
<h4><a id="add-annotations"></a>Add annotations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in technical preview and may be changed or removed in a future release. Elastic will apply best effort to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>Annotations allow you to call out specific points in your visualizations that are important, such as a major change in the data. You can add annotations for any data view, add text and icons, specify the line format and color, and more.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_annotations_8.2.0.png" alt="Lens annotations">
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Add layer &gt; Annotations</strong></span>.
</li>
<li class="listitem">
Select the data view.
</li>
<li class="listitem">
To open the annotation options, click <span class="strong strong"><strong>Event</strong></span>.
</li>
<li class="listitem">
Specify the <span class="strong strong"><strong>Annotation date</strong></span>.
</li>
<li class="listitem">
To display the annotation as a time range, select <span class="strong strong"><strong>Apply as range</strong></span>, then specify the <span class="strong strong"><strong>From</strong></span> and <span class="strong strong"><strong>To</strong></span> time range.
</li>
<li class="listitem">
Enter the annotation <span class="strong strong"><strong>Name</strong></span>.
</li>
<li class="listitem">
Change the <span class="strong strong"><strong>Appearance</strong></span> options for how you want the annotation to display.
</li>
<li class="listitem">
To close, click <span class="strong strong"><strong>X</strong></span>.
</li>
</ol>
</div>
<h4><a id="add-reference-lines"></a>Add reference lines<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>With reference lines, you can identify specific values in your visualizations with icons, colors, and other display options. You can add reference lines to any visualization type that displays axes.</p>
<p>For example, to track the number of bytes in the 75th percentile, add a shaded <span class="strong strong"><strong>Percentile</strong></span> reference line to your time series visualization.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/lens_referenceLine_7.16.png" alt="Lens drag and drop focus state">
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click <span class="strong strong"><strong>Add layer &gt; Reference lines</strong></span>.
</li>
<li class="listitem">
<p>Click the reference line value, then specify the reference line you want to use:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To add a static reference line, click <span class="strong strong"><strong>Static</strong></span>, then enter the reference line value you want to use.
</li>
<li class="listitem">
To add a dynamic reference line, click <span class="strong strong"><strong>Quick functions</strong></span>, then click and configure the functions you want to use.
</li>
<li class="listitem">
To calculate the reference line value with math, click <span class="strong strong"><strong>Formula</strong></span>, then enter the formula.
</li>
</ul>
</div>
</li>
<li class="listitem">
Specify the display options, such as <span class="strong strong"><strong>Display name</strong></span> and <span class="strong strong"><strong>Icon</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
<h4><a id="filter-the-data"></a>Apply filters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>You can use the <a class="xref" href="kibana-concepts-analysts.html#semi-structured-search" title="Semi-structured search">KQL query bar</a> to focus on a known set of data for the entire visualization, or use the filter options from the layer pane or legend.</p>
<h5><a id="filter-with-the-function"></a>Apply multiple KQL filters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h5>
<p>With the <span class="strong strong"><strong>Filters</strong></span> function, you can apply more than one KQL filter, and apply a KQL filter to a single layer so you can visualize filtered and unfiltered data at the same time.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click a field.
</li>
<li class="listitem">
Click the <span class="strong strong"><strong>Filters</strong></span> function.
</li>
<li class="listitem">
<p>Click <span class="strong strong"><strong>Add a filter</strong></span>, then enter the KQL filter you want to apply.</p>
<p>To try the <span class="strong strong"><strong>Filters</strong></span> function on your own, refer to <a class="xref" href="create-a-dashboard-of-panels-with-web-server-data.html#custom-ranges" title="Compare a subset of documents to all documents">Compare a subset of documents to all documents</a>.</p>
</li>
</ol>
</div>
<h5><a id="filter-with-the-advanced-option"></a>Apply a single KQL filter<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h5>
<p>With the <span class="strong strong"><strong>Filter by</strong></span> advanced option, you can assign a color to each filter group in <span class="strong strong"><strong>Bar</strong></span> and <span class="strong strong"><strong>Line and area</strong></span> visualizations, and build complex tables. For example, to display failure rate and the overall data.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click a field.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add advanced options</strong></span>, then select <span class="strong strong"><strong>Filter by</strong></span>.
</li>
<li class="listitem">
Enter the KQL filter you want to apply.
</li>
</ol>
</div>
<h5><a id="filter-with-legend-filters"></a>Apply legend filters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h5>
<p>Apply filters to visualizations directly from the values in the legend. <span class="strong strong"><strong>Bar</strong></span>, <span class="strong strong"><strong>Line and area</strong></span>, and <span class="strong strong"><strong>Proportion</strong></span> visualizations support legend filters.</p>
<p>In the legend, click the field, then choose one of the following options:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Filter for value</strong></span> &mdash; Applies a filter that displays only the field data in the visualization.
</li>
<li class="listitem">
<span class="strong strong"><strong>Filter out value</strong></span> &mdash; Applies a filter that removes the field data from the visualization.
</li>
</ul>
</div>
<h4><a id="configure-the-visualization-components"></a>Configure the visualization components<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Each visualization type comes with a set of components that you access from the editor toolbar.</p>
<p>The following component menus are available:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Visual options</strong></span> &mdash; Specifies how to display area, line, and bar chart options. For example, you can specify how to display the labels in bar charts.
</li>
<li class="listitem">
<span class="strong strong"><strong>Labels</strong></span> &mdash; Specifies how to display the labels for donut charts, pie charts, and treemaps.
</li>
<li class="listitem">
<span class="strong strong"><strong>Legend</strong></span> &mdash; Specifies how to display the legend. For example, you can display the legend inside the visualization and truncate the legend values.
</li>
<li class="listitem">
<span class="strong strong"><strong>Left axis</strong></span>, <span class="strong strong"><strong>Bottom axis</strong></span>, and <span class="strong strong"><strong>Right axis</strong></span> &mdash; Specify how you want to display the chart axes. For example, add axis labels and change the orientation and bounds.
</li>
</ul>
</div>
<h3><a id="explore-lens-data-in-discover"></a>Explore the data in Discover<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>When your visualization includes one data view, you can open and explore the visualization data in <span class="strong strong"><strong>Discover</strong></span>.</p>
<p>To get started, click <span class="strong strong"><strong>Explore data in Discover</strong></span> in the toolbar.</p>
<p>For more information about exploring your data with <span class="strong strong"><strong>Discover</strong></span>, check out <a class="xref" href="discover.html" title="Discover">Discover</a>.</p>
<h4><a id="view-data-and-requests"></a>View the visualization data and requests<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>To view the data included in the visualization and the requests that collected the data, use the <span class="strong strong"><strong>Inspector</strong></span>.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the toolbar, click <span class="strong strong"><strong>Inspect</strong></span>.
</li>
<li class="listitem">
<p>Open the <span class="strong strong"><strong>View</strong></span> dropdown, then click <span class="strong strong"><strong>Data</strong></span>.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the dropdown, select the table that contains the data you want to view.
</li>
<li class="listitem">
To download the data, click <span class="strong strong"><strong>Download CSV</strong></span>, then select the format type.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Open the <span class="strong strong"><strong>View</strong></span> dropdown, then click <span class="strong strong"><strong>Requests</strong></span>.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the dropdown, select the requests you want to view.
</li>
<li class="listitem">
To view the requests in <span class="strong strong"><strong>Console</strong></span>, click <span class="strong strong"><strong>Request</strong></span>, then click <span class="strong strong"><strong>Open in Console</strong></span>.
</li>
</ol>
</div>
</li>
</ol>
</div>
<h4><a id="save-the-lens-panel"></a>Save and add the panel<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h4>
<p>Save the panel to the <span class="strong strong"><strong>Visualize Library</strong></span> and add it to the dashboard, or add it to the dashboard without saving.</p>
<p>To save the panel to the <span class="strong strong"><strong>Visualize Library</strong></span>:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>Save to library</strong></span>.
</li>
<li class="listitem">
Enter the <span class="strong strong"><strong>Title</strong></span> and add any applicable <a class="xref" href="managing-tags.html" title="Tags"><span class="strong strong"><strong>Tags</strong></span></a>.
</li>
<li class="listitem">
Make sure that <span class="strong strong"><strong>Add to Dashboard after saving</strong></span> is selected.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
</ol>
</div>
<p>To save the panel to the dashboard:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click <span class="strong strong"><strong>Save and return</strong></span>.
</li>
<li class="listitem">
<p>Add an optional title to the panel.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the panel header, click <span class="strong strong"><strong>No Title</strong></span>.
</li>
<li class="listitem">
On the <span class="strong strong"><strong>Customize panel</strong></span> window, select <span class="strong strong"><strong>Show panel title</strong></span>.
</li>
<li class="listitem">
Enter the <span class="strong strong"><strong>Panel title</strong></span>, then click <span class="strong strong"><strong>Save</strong></span>.
</li>
</ol>
</div>
</li>
</ol>
</div>
<h3><a id="lens-faq"></a>Frequently asked questions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.5/docs/user/dashboard/lens.asciidoc">edit</a></h3>
<p>For answers to common <span class="strong strong"><strong>Lens</strong></span> questions, review the following.</p>
<details id="when-should-i-normalize-the-data-by-unit-or-use-a-custom-interval">
<summary class="title"><span class="strong strong"><strong>When should I normalize the data by unit or use a custom interval?</strong></span></summary>
<div class="content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Normalize by unit</strong></span> &mdash; Calculates the average for the interval. When you normalize the data by unit, the data appears less granular, but <span class="strong strong"><strong>Lens</strong></span> is able to calculate the data faster.
</li>
<li class="listitem">
<span class="strong strong"><strong>Customize time interval</strong></span> &mdash; Creates a bucket for each interval. When you customize the time interval, you can use a large time range, but <span class="strong strong"><strong>Lens</strong></span> calculates the data slower.
</li>
</ul>
</div>
<p>To normalize the interval:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click a field.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add advanced options &gt; Normalize by unit</strong></span>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Normalize by unit</strong></span> dropdown, select an option, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
<p>To create a custom interval:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click a field.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Customize time interval</strong></span>.
</li>
<li class="listitem">
Change the <span class="strong strong"><strong>Minimum interval</strong></span>, then click <span class="strong strong"><strong>Close</strong></span>.
</li>
</ol>
</div>
</div>
</details>
<details id="what-is-the-other-category">
<summary class="title"><span class="strong strong"><strong>What data is categorized as Other?</strong></span></summary>
<div class="content">
<p>The <span class="strong strong"><strong>Other</strong></span> category contains all of the documents that do not match the specified criteria or filters.
Use <span class="strong strong"><strong>Other</strong></span> when you want to compare a value, or multiple values, to a whole.</p>
<p>By default, <span class="strong strong"><strong>Group other values as "Other"</strong></span> is enabled when you use the <span class="strong strong"><strong>Top values</strong></span> function.</p>
<p>To disable <span class="strong strong"><strong>Group other values as "Other"</strong></span>, click a field in the layer pane, click <span class="strong strong"><strong>Advanced</strong></span>, then deselect <span class="strong strong"><strong>Group other values as "Other"</strong></span>.</p>
</div>
</details>
<details id="how-can-i-include-documents-without-the-field-in-the-operation">
<summary class="title"><span class="strong strong"><strong>How do I add documents without a field?</strong></span></summary>
<div class="content">
<p>By default, <span class="strong strong"><strong>Lens</strong></span> retrieves only the documents from the fields.
For bucket aggregations, such as <span class="strong strong"><strong>Top values</strong></span>, you can add documents that do not contain the fields,
which is helpful when you want to make a comparison to the whole documentation set.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the layer pane, click a field.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Advanced</strong></span>, then select <span class="strong strong"><strong>Include documents without this field</strong></span>.
</li>
</ol>
</div>
</div>
</details>
<details id="when-do-i-use-runtime-fields-vs-formula">
<summary class="title"><span class="strong strong"><strong>When do I use runtime fields vs. formula?</strong></span></summary>
<div class="content">
<p>Use runtime fields to format, concatenate, and extract document-level fields. Runtime fields work across all of Kibana and are best used for smaller computations without compromising performance.</p>
<p>Use formulas to compare multiple Elasticsearch aggregations that can be filtered or shifted in time. Formulas apply only to <span class="strong strong"><strong>Lens</strong></span> panels and are computationally intensive.</p>
</div>
</details>
<details id="is-it-possible-to-have-more-than-one-Y-axis-scale">
<summary class="title"><span class="strong strong"><strong>Can I add more than one y-axis scale?</strong></span></summary>
<div class="content">
<p>For each y-axis, you can select <span class="strong strong"><strong>Left</strong></span> and <span class="strong strong"><strong>Right</strong></span>, and configure a different scale.</p>
</div>
</details>
<details id="why-is-my-value-with-the-right-color-using-value-based-coloring">
<summary class="title"><span class="strong strong"><strong>Why is my value the incorrect color when I use value-based coloring?</strong></span></summary>
<div class="content">
<p>Here&#8217;s a short list of few different aspects to check:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make sure the value falls within the desired color stop value defined in the panel. Color stop values are "inclusive".
</li>
<li class="listitem">
Make sure you have the correct value precision setup. Value formatters could round the numeric values up or down.
</li>
<li class="listitem">
Make sure the correct color continuity option is selected. If the number is below the first color stop value, a continuity of type <code class="literal">Below</code> or <code class="literal">Above and below range</code> is required.
</li>
<li class="listitem">
<p>The default values set by the Value type are based on the current data range displayed in the data table.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If a custom <code class="literal">Number</code> configuration is used, check that the color stop values are covering the current data range.
</li>
<li class="listitem">
If a <code class="literal">Percent</code> configuration is used, and the data range changes, the colors displayed are affected.
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</details>
<details id="can-i-sort-by-multiple-columns">
<summary class="title"><span class="strong strong"><strong>How do I sort by multiple columns?</strong></span></summary>
<div class="content">
<p>Multiple column sorting is unsupported, but is supported in <span class="strong strong"><strong>Discover</strong></span>. For information on how to sort multiple columns in <span class="strong strong"><strong>Discover</strong></span>,
refer to <a class="xref" href="discover.html#explore-fields-in-your-data" title="Explore the fields in your data">Explore the fields in your data</a>.</p>
</div>
</details>
<details id="why-my-field-is-missing-from-the-fields-list">
<summary class="title"><span class="strong strong"><strong>Why is my field missing from the fields list?</strong></span></summary>
<div class="content">
<p>The following field types do not appear in the <span class="strong strong"><strong>Available fields</strong></span> list:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Full-text
</li>
<li class="listitem">
geo_point
</li>
<li class="listitem">
flattened
</li>
<li class="listitem">
object
</li>
</ul>
</div>
<p>Verify if the field appears in the <span class="strong strong"><strong>Empty fields</strong></span> list. <span class="strong strong"><strong>Lens</strong></span> uses heuristics to determine if the fields contain values. For sparse data sets, the heuristics are less precise.</p>
</div>
</details>
<details id="how-to-handle-gaps-in-time-series-visualizations">
<summary class="title"><span class="strong strong"><strong>What do I do with gaps in time series visualizations?</strong></span></summary>
<div class="content">
<p>When you create <span class="strong strong"><strong>Area</strong></span> and <span class="strong strong"><strong>Line</strong></span> charts with sparse time series data, open <span class="strong strong"><strong>Visual options</strong></span> in the editor toolbar, then select a <span class="strong strong"><strong>Missing values</strong></span> option.</p>
</div>
</details>
<details id="is-it-possible-to-change-the-scale-of-Y-axis">
<summary class="title"><span class="strong strong"><strong>Can I statically define the y-axis scale?</strong></span></summary>
<div class="content">
<p>You can set the scale, or <em>bounds</em>, for area, bar, and line charts. You can configure the bounds for all functions, except <span class="strong strong"><strong>Percentile</strong></span>. Logarithmic scales are unsupported.</p>
<p>To configure the bounds, use the menus in the editor toolbar. Bar and area charts required 0 in the scale between <span class="strong strong"><strong>Lower bound</strong></span> and <span class="strong strong"><strong>Upper bound</strong></span>.</p>
</div>
</details>
<details id="is-it-possible-to-show-icons-in-datatable">
<summary class="title"><span class="strong strong"><strong>Is it possible to display icons in data tables?</strong></span></summary>
<div class="content">
<p>You can display icons with <a class="xref" href="managing-data-views.html" title="Manage data views">field formatters</a> in data tables.</p>
</div>
</details>
<details id="is-it-possible-to-inspect-the-elasticsearch-queries-in-Lens">
<summary class="title"><span class="strong strong"><strong>How do I inspect Elasticsearch queries in visualizations?</strong></span></summary>
<div class="content">
<p>You can inspect the requests sent by the visualization to Elasticsearch using the Inspector. It can be accessed within the editor or in the dashboard.</p>
</div>
</details>
<details id="how-to-isolate-a-single-series-in-a-chart">
<summary class="title"><span class="strong strong"><strong>How do I isolate a single series in a chart?</strong></span></summary>
<div class="content">
<p>For area, line, and bar charts, press Shift, then click the series in the legend. All other series are automatically deselected.</p>
</div>
</details>
<details id="is-it-possible-to-use-saved-serches-in-lens">
<summary class="title"><span class="strong strong"><strong>How do I visualize saved searches?</strong></span></summary>
<div class="content">
<p>Visualizing saved searches in unsupported.</p>
</div>
</details>
<details id="is-it-possible-to-decrease-or-increase-the-number-of-suggestions">
<summary class="title"><span class="strong strong"><strong>How do I change the number of suggestions?</strong></span></summary>
<div class="content">
<p>Configuring the <span class="strong strong"><strong>Suggestions</strong></span> is unsupported.</p>
</div>
</details>
<details id="is-it-possible-to-have-pagination-for-datatable">
<summary class="title"><span class="strong strong"><strong>Is it possible to have pagination in a data table?</strong></span></summary>
<div class="content">
<p>Pagination in a data table is unsupported. To use pagination in data tables, create an <a class="xref" href="add-aggregation-based-visualization-panels.html#types-of-visualizations" title="Types of aggregation-based visualizations">aggregation-based data table</a>.</p>
</div>
</details>
<details id="is-it-possible-to-select-color-for-specific-bar-or-point">
<summary class="title"><span class="strong strong"><strong>How do I change the color for a single data point?</strong></span></summary>
<div class="content">
<p>Specifying the color for a single data point, such as a single bar or line, is unsupported.</p>
</div>
</details>
</div>
<div class="navfooter">
<span class="prev">
<a href="aggregation-reference.html">« Create panels with editors</a>
</span>
<span class="next">
<a href="tsvb.html">TSVB »</a>
</span>
</div>
</div>
</body>
</html>
