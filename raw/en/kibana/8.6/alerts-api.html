<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="Conceptual and step-by-step procedures for using runtime fields, scripted fields, and field formatters.">
<meta name="keywords" content="administrator, data view, data views, management, runtime fields, runtime fields in Kibana, scripted fields, field formatters, data fields, index pattern, index patterns">
<title>Deprecated 7.x APIs | Kibana Guide [8.6] | Elastic</title>
<meta class="elastic" name="content" content="Deprecated 7.x APIs | Kibana Guide [8.6]">

<link rel="home" href="index.html" title="Kibana Guide [8.6]"/>
<link rel="up" href="alerting-apis.html" title="Alerting APIs"/>
<link rel="prev" href="unmute-alert-api.html" title="Unmute alert API"/>
<link rel="next" href="actions-and-connectors-api.html" title="Action and connector APIs"/>
<meta class="elastic" name="product_version" content="8.6"/>
<meta class="elastic" name="product_name" content="Kibana"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/8.6"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="8.6"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide [8.6]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api.html">REST API</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="alerting-apis.html">Alerting APIs</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="unmute-alert-api.html">« Unmute alert API</a>
</span>
<span class="next">
<a href="actions-and-connectors-api.html">Action and connector APIs »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="alerts-api"></a>Deprecated 7.x APIs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/index.asciidoc">edit</a></h2>
</div></div></div>
<p>These APIs are deprecated and will be removed in a future release.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-create"></a>Legacy create alert API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/create.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="create-rule-api.html" title="Create rule API">Create rule</a> instead.</p>
</div>
</div>
<p>Create Kibana alerts.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-create-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/create.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/alerts/alert/&lt;id&gt;</code></p>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/alert/&lt;id&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-create-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/create.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;id&gt;</code>
</span>
</dt>
<dd>
(Optional, string) Specifies a UUID v1 or v4 to use instead of a randomly generated ID.
</dd>
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-create-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/create.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) A name to reference and search.
</dd>
<dt>
<span class="term">
<code class="literal">tags</code>
</span>
</dt>
<dd>
(Optional, string array) A list of keywords to reference and search.
</dd>
<dt>
<span class="term">
<code class="literal">alertTypeId</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert type that you want to call when the alert is scheduled to run.
</dd>
<dt>
<span class="term">
<code class="literal">schedule</code>
</span>
</dt>
<dd>
<p>
(Required, object) The schedule specifying when this alert should be run, using one of the available schedule formats specified under
</p>
<details open>
<summary class="title"><em>Schedule Formats</em>.</summary>
<div class="content">
<p>A schedule is structured such that the key specifies the format you wish to use and its value specifies the schedule.</p>
<p>We currently support the <em>Interval format</em> which specifies the interval in seconds, minutes, hours or days at which the alert should execute.
Example: <code class="literal">{ interval: "10s" }</code>, <code class="literal">{ interval: "5m" }</code>, <code class="literal">{ interval: "1h" }</code>, <code class="literal">{ interval: "1d" }</code>.</p>
<p>There are plans to support multiple other schedule formats in the near future.</p>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">throttle</code>
</span>
</dt>
<dd>
(Optional, string) How often this alert should fire the same actions. This will prevent the alert from sending out the same notification over and over. For example, if an alert with a <code class="literal">schedule</code> of 1 minute stays in a triggered state for 90 minutes, setting a <code class="literal">throttle</code> of <code class="literal">10m</code> or <code class="literal">1h</code> will prevent it from sending 90 notifications during this period.
</dd>
<dt>
<span class="term">
<code class="literal">notifyWhen</code>
</span>
</dt>
<dd>
(Required, string) The condition for throttling the notification: <code class="literal">onActionGroupChange</code>, <code class="literal">onActiveAlert</code>, or <code class="literal">onThrottleInterval</code>.
</dd>
<dt>
<span class="term">
<code class="literal">enabled</code>
</span>
</dt>
<dd>
(Optional, boolean) Indicates if you want to run the alert on an interval basis after it is created.
</dd>
<dt>
<span class="term">
<code class="literal">consumer</code>
</span>
</dt>
<dd>
(Required, string) The name of the application that owns the alert. This name has to match the Kibana Feature name, as that dictates the required RBAC privileges.
</dd>
<dt>
<span class="term">
<code class="literal">params</code>
</span>
</dt>
<dd>
(Required, object) The parameters to pass to the alert type executor <code class="literal">params</code> value. This will also validate against the alert type params validator, if defined.
</dd>
<dt>
<span class="term">
<code class="literal">actions</code>
</span>
</dt>
<dd>
<p>
(Optional, object array) An array of the following action objects.
</p>
<details open>
<summary class="title">Properties of the action objects:</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">group</code>
</span>
</dt>
<dd>
(Required, string) Grouping actions is recommended for escalations for different types of alert instances. If you don&#8217;t need this, set this value to <code class="literal">default</code>.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the action saved object to execute.
</dd>
<dt>
<span class="term">
<code class="literal">actionTypeId</code>
</span>
</dt>
<dd>
(Required, string) The ID of the <a class="xref" href="action-types.html" title="Connectors">action type</a>.
</dd>
<dt>
<span class="term">
<code class="literal">params</code>
</span>
</dt>
<dd>
(Required, object) The map to the <code class="literal">params</code> that the <a class="xref" href="action-types.html" title="Connectors">action type</a> will receive. ` params` are handled as Mustache templates and passed a default set of context.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-create-request-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/create.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-create-example"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/create.asciidoc">edit</a></h4>
</div></div></div>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X POST api/alerts/alert  -H 'kbn-xsrf: true' -H 'Content-Type: application/json' -d '
{
  "params":{
      "aggType":"avg",
      "termSize":6,
      "thresholdComparator":"&gt;",
      "timeWindowSize":5,
      "timeWindowUnit":"m",
      "groupBy":"top",
      "threshold":[
         1000
      ],
      "index":[
         ".test-index"
      ],
      "timeField":"@timestamp",
      "aggField":"sheet.version",
      "termField":"name.keyword"
   },
   "consumer":"alerts",
   "alertTypeId":".index-threshold",
   "schedule":{
      "interval":"1m"
   },
   "actions":[
      {
         "id":"dceeb5d0-6b41-11eb-802b-85b0c1bc8ba2",
         "actionTypeId":".server-log",
         "group":"threshold met",
         "params":{
            "level":"info",
            "message":"alert '{{alertName}}' is active for group '{{context.group}}':\n\n- Value: {{context.value}}\n- Conditions Met: {{context.conditions}} over {{params.timeWindowSize}}{{params.timeWindowUnit}}\n- Timestamp: {{context.date}}"
         }
      }
   ],
   "tags":[
      "cpu"
   ],
   "notifyWhen":"onActionGroupChange",
   "name":"my alert"
}'</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/123.kibana"></div>
<p>The API returns the following:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">{
  "id": "41893910-6bca-11eb-9e0d-85d233e3ee35",
  "notifyWhen": "onActionGroupChange",
  "params": {
    "aggType": "avg",
    "termSize": 6,
    "thresholdComparator": "&gt;",
    "timeWindowSize": 5,
    "timeWindowUnit": "m",
    "groupBy": "top",
    "threshold": [
      1000
    ],
    "index": [
      ".kibana"
    ],
    "timeField": "@timestamp",
    "aggField": "sheet.version",
    "termField": "name.keyword"
  },
  "consumer": "alerts",
  "alertTypeId": ".index-threshold",
  "schedule": {
    "interval": "1m"
  },
  "actions": [
    {
      "actionTypeId": ".server-log",
      "group": "threshold met",
      "params": {
        "level": "info",
        "message": "alert {{alertName}} is active for group {{context.group}}:\n\n- Value: {{context.value}}\n- Conditions Met: {{context.conditions}} over {{params.timeWindowSize}}{{params.timeWindowUnit}}\n- Timestamp: {{context.date}}"
      },
      "id": "dceeb5d0-6b41-11eb-802b-85b0c1bc8ba2"
    }
  ],
  "tags": [
    "cpu"
  ],
  "name": "my alert",
  "enabled": true,
  "throttle": null,
  "apiKeyOwner": "elastic",
  "createdBy": "elastic",
  "updatedBy": "elastic",
  "muteAll": false,
  "mutedInstanceIds": [],
  "updatedAt": "2021-02-10T18:03:19.961Z",
  "createdAt": "2021-02-10T18:03:19.961Z",
  "scheduledTaskId": "425b0800-6bca-11eb-9e0d-85d233e3ee35",
  "executionStatus": {
    "lastExecutionDate": "2021-02-10T18:03:19.966Z",
    "status": "pending"
  }
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-delete"></a>Legacy delete alert API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/delete.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="delete-rule-api.html" title="Delete rule API">Delete rule</a> instead.</p>
</div>
</div>
<p>Permanently remove an alert.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Once you delete an alert, you cannot recover it.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-delete-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/delete.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">DELETE &lt;kibana host&gt;:&lt;port&gt;/api/alerts/alert/&lt;id&gt;</code></p>
<p><code class="literal">DELETE &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/alert/&lt;id&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-delete-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/delete.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert that you want to remove.
</dd>
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-delete-response-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/delete.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_example_9"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/delete.asciidoc">edit</a></h4>
</div></div></div>
<p>Delete an alert with ID:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X DELETE api/alerts/alert/41893910-6bca-11eb-9e0d-85d233e3ee35</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/124.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-disable"></a>Legacy disable alert API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/disable.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="disable-rule-api.html" title="Disable rule API">Disable rule</a> instead.</p>
</div>
</div>
<p>Disable an alert.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-disable-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/disable.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/alerts/alert/&lt;id&gt;/_disable</code></p>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/alert/&lt;id&gt;/_disable</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-disable-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/disable.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert that you want to disable.
</dd>
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-disable-response-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/disable.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_example_10"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/disable.asciidoc">edit</a></h4>
</div></div></div>
<p>Disable an alert with ID:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X POST api/alerts/alert/41893910-6bca-11eb-9e0d-85d233e3ee35/_disable</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/125.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-enable"></a>Legacy enable alert API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/enable.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="enable-rule-api.html" title="Enable rule API">Enable rule</a> instead.</p>
</div>
</div>
<p>Enable an alert.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-enable-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/enable.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/alerts/alert/&lt;id&gt;/_enable</code></p>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/alert/&lt;id&gt;/_enable</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-enable-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/enable.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert that you want to enable.
</dd>
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-enable-response-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/enable.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_example_11"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/enable.asciidoc">edit</a></h4>
</div></div></div>
<p>Enable an alert with ID:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X POST api/alerts/alert/41893910-6bca-11eb-9e0d-85d233e3ee35/_enable</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/126.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-find"></a>Legacy find alerts API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/find.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="find-rules-api.html" title="Find rules API">Find rules</a> instead.</p>
</div>
</div>
<p>Retrieve a paginated set of alerts based on condition.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>As alerts change in Kibana, the results on each page of the response also
change. Use the find API for traditional paginated results, but avoid using it to export large amounts of data.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-find-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/find.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/alerts/_find</code></p>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/_find</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-find-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/find.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-find-query-params"></a>Query Parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/find.asciidoc">edit</a></h4>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Alert <code class="literal">params</code> are stored as a <a href="/guide/en/elasticsearch/reference/8.6/flattened.html" class="ulink" target="_top">flattened field type</a> and analyzed as keywords.</p>
</div>
</div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">per_page</code>
</span>
</dt>
<dd>
(Optional, number) The number of alerts to return per page.
</dd>
<dt>
<span class="term">
<code class="literal">page</code>
</span>
</dt>
<dd>
(Optional, number) The page number.
</dd>
<dt>
<span class="term">
<code class="literal">search</code>
</span>
</dt>
<dd>
(Optional, string) An Elasticsearch <a href="/guide/en/elasticsearch/reference/8.6/query-dsl-simple-query-string-query.html" class="ulink" target="_top">simple_query_string</a> query that filters the alerts in the response.
</dd>
<dt>
<span class="term">
<code class="literal">default_search_operator</code>
</span>
</dt>
<dd>
(Optional, string) The operator to use for the <code class="literal">simple_query_string</code>. The default is <em>OR</em>.
</dd>
<dt>
<span class="term">
<code class="literal">search_fields</code>
</span>
</dt>
<dd>
(Optional, array|string) The fields to perform the <code class="literal">simple_query_string</code> parsed query against.
</dd>
<dt>
<span class="term">
<code class="literal">fields</code>
</span>
</dt>
<dd>
(Optional, array|string) The fields to return in the <code class="literal">attributes</code> key of the response.
</dd>
<dt>
<span class="term">
<code class="literal">sort_field</code>
</span>
</dt>
<dd>
(Optional, string) Sorts the response. Could be an alert fields returned in the <code class="literal">attributes</code> key of the response.
</dd>
<dt>
<span class="term">
<code class="literal">sort_order</code>
</span>
</dt>
<dd>
(Optional, string) Sort direction, either <code class="literal">asc</code> or <code class="literal">desc</code>.
</dd>
<dt>
<span class="term">
<code class="literal">has_reference</code>
</span>
</dt>
<dd>
(Optional, object) Filters the alerts that have a relations with the reference objects with the specific "type" and "ID".
</dd>
<dt>
<span class="term">
<code class="literal">filter</code>
</span>
</dt>
<dd>
(Optional, string) A <a class="xref" href="kuery-query.html" title="Kibana Query Language">KQL</a> string that you filter with an attribute from your saved object.
It should look like savedObjectType.attributes.title: "myTitle". However, If you used a direct attribute of a saved object, such as <code class="literal">updatedAt</code>,
you will have to define your filter, for example, savedObjectType.updatedAt &gt; 2018-12-22.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-find-request-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/find.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_examples_14"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/find.asciidoc">edit</a></h4>
</div></div></div>
<p>Find alerts with names that start with <code class="literal">my</code>:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X GET api/alerts/_find?search_fields=name&amp;search=my*</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/127.kibana"></div>
<p>The API returns the following:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">{
  "page": 1,
  "perPage": 10,
  "total": 1,
  "data": [
    {
      "id": "0a037d60-6b62-11eb-9e0d-85d233e3ee35",
      "notifyWhen": "onActionGroupChange",
      "params": {
        "aggType": "avg",
      },
      "consumer": "alerts",
      "alertTypeId": "test.alert.type",
      "schedule": {
        "interval": "1m"
      },
      "actions": [],
      "tags": [],
      "name": "test alert",
      "enabled": true,
      "throttle": null,
      "apiKeyOwner": "elastic",
      "createdBy": "elastic",
      "updatedBy": "elastic",
      "muteAll": false,
      "mutedInstanceIds": [],
      "updatedAt": "2021-02-10T05:37:19.086Z",
      "createdAt": "2021-02-10T05:37:19.086Z",
      "scheduledTaskId": "0b092d90-6b62-11eb-9e0d-85d233e3ee35",
      "executionStatus": {
        "lastExecutionDate": "2021-02-10T17:55:14.262Z",
        "status": "ok"
      }
    },
  ]
}</pre>
</div>
<p>For parameters that accept multiple values (e.g. <code class="literal">fields</code>), repeat the
query parameter for each value:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X GET api/alerts/_find?fields=id&amp;fields=name</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/128.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-get"></a>Legacy get alert API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/get.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="get-rule-api.html" title="Get rule API">Get rule</a> instead.</p>
</div>
</div>
<p>Retrieve an alert by ID.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-get-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/get.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/alerts/alert/&lt;id&gt;</code></p>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/alert/&lt;id&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-get-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/get.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert to retrieve.
</dd>
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-get-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/get.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-get-example"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/get.asciidoc">edit</a></h4>
</div></div></div>
<p>Retrieve the alert object with the ID <code class="literal">41893910-6bca-11eb-9e0d-85d233e3ee35</code>:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X GET api/alerts/alert/41893910-6bca-11eb-9e0d-85d233e3ee35</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/129.kibana"></div>
<p>The API returns the following:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">{
  "id": "0a037d60-6b62-11eb-9e0d-85d233e3ee35",
  "notifyWhen": "onActionGroupChange",
  "params": {
    "aggType": "avg",
  },
  "consumer": "alerts",
  "alertTypeId": "test.alert.type",
  "schedule": {
    "interval": "1m"
  },
  "actions": [],
  "tags": [],
  "name": "test alert",
  "enabled": true,
  "throttle": null,
  "apiKeyOwner": "elastic",
  "createdBy": "elastic",
  "updatedBy": "elastic",
  "muteAll": false,
  "mutedInstanceIds": [],
  "updatedAt": "2021-02-10T05:37:19.086Z",
  "createdAt": "2021-02-10T05:37:19.086Z",
  "scheduledTaskId": "0b092d90-6b62-11eb-9e0d-85d233e3ee35",
  "executionStatus": {
    "lastExecutionDate": "2021-02-10T17:55:14.262Z",
    "status": "ok"
  }
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-health"></a>Legacy get Alerting framework health API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/health.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="get-alerting-framework-health-api.html" title="Get alerting framework health API">Get alerting framework health</a> instead.</p>
</div>
</div>
<p>Retrieve the health status of the Alerting framework.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-health-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/health.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/alerts/_health</code></p>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/_health</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-health-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-health-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/health.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-health-example"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/health.asciidoc">edit</a></h4>
</div></div></div>
<p>Retrieve the health status of the Alerting framework:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X GET api/alerts/_health</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/130.kibana"></div>
<p>The API returns the following:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">{
   "isSufficientlySecure":true,
   "hasPermanentEncryptionKey":true,
   "alertingFrameworkHealth":{
      "decryptionHealth":{
         "status":"ok",
         "timestamp":"2021-02-10T23:35:04.949Z"
      },
      "executionHealth":{
         "status":"ok",
         "timestamp":"2021-02-10T23:35:04.949Z"
      },
      "readHealth":{
         "status":"ok",
         "timestamp":"2021-02-10T23:35:04.949Z"
      }
   }
}</pre>
</div>
<p>The health API response contains the following properties:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">isSufficientlySecure</code></p></td>
<td align="left" valign="top"><p>Returns <code class="literal">false</code> if security is enabled, but TLS is not.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">hasPermanentEncryptionKey</code></p></td>
<td align="left" valign="top"><p>Return the state <code class="literal">false</code> if Encrypted Saved Object plugin has not a permanent encryption Key.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">alertingFrameworkHealth</code></p></td>
<td align="left" valign="top"><p>This state property has three substates that identify the health of the alerting framework API: <code class="literal">decryptionHealth</code>, <code class="literal">executionHealth</code>, and <code class="literal">readHealth</code>.</p></td>
</tr>
</tbody>
</table>
</div>
<p><code class="literal">alertingFrameworkHealth</code> consists of the following properties:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">decryptionHealth</code></p></td>
<td align="left" valign="top"><p>Returns the timestamp and status  of the alert decryption: <code class="literal">ok</code>, <code class="literal">warn</code> or <code class="literal">error</code> .</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">executionHealth</code></p></td>
<td align="left" valign="top"><p>Returns the timestamp and status of the alert execution: <code class="literal">ok</code>, <code class="literal">warn</code> or <code class="literal">error</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">readHealth</code></p></td>
<td align="left" valign="top"><p>Returns the timestamp and status of the alert reading events: <code class="literal">ok</code>, <code class="literal">warn</code> or <code class="literal">error</code>.</p></td>
</tr>
</tbody>
</table>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-list"></a>Legacy list alert types API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/list.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="list-rule-types-api.html" title="Get rule types API">Get rule types</a> instead.</p>
</div>
</div>
<p>Retrieve a list of all alert types.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-list-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/list.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/api/alerts/list_alert_types</code></p>
<p><code class="literal">GET &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/list_alert_types</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-list-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/list.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-list-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/list.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-list-example"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/list.asciidoc">edit</a></h4>
</div></div></div>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X GET api/alerts/list_alert_types</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/131.kibana"></div>
<p>The API returns the following:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">[
   {
      "id":".index-threshold",
      "name":"Index threshold",
      "actionGroups":[
         {
            "id":"threshold met",
            "name":"Threshold met"
         },
         {
            "id":"recovered",
            "name":"Recovered"
         }
      ],
      "recoveryActionGroup":{
         "id":"recovered",
         "name":"Recovered"
      },
      "defaultActionGroupId":"threshold met",
      "actionVariables":{
         "context":[
            {
               "name":"message",
               "description":"A pre-constructed message for the alert."
            },
         ],
         "state":[],
         "params":[
            {
               "name":"threshold",
               "description":"An array of values to use as the threshold; 'between' and 'notBetween' require two values, the others require one."
            },
            {
               "name":"index",
               "description":"index"
            },
         ]
      },
      "producer":"stackAlerts",
      "minimumLicenseRequired":"basic",
      "isExportable":true,
      "enabledInLicense":true,
      "authorizedConsumers":{
         "alerts":{
            "read":true,
            "all":true
         },
         "stackAlerts":{
            "read":true,
            "all":true
         },
         "uptime":{
            "read":true,
            "all":true
         }
      }
   }
]</pre>
</div>
<p>Each alert type contains the following properties:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">name</code></p></td>
<td align="left" valign="top"><p>The descriptive name of the alert type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">id</code></p></td>
<td align="left" valign="top"><p>The unique ID of the alert type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">minimumLicenseRequired</code></p></td>
<td align="left" valign="top"><p>The license required to use the alert type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">isExportable</code></p></td>
<td align="left" valign="top"><p>Whether the rule type is exportable through the Saved Objects Management UI.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">enabledInLicense</code></p></td>
<td align="left" valign="top"><p>Whether the alert type is enabled or disabled based on the license.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">actionGroups</code></p></td>
<td align="left" valign="top"><p>An explicit list of groups for which the alert type can schedule actions, each with the action group&#8217;s unique ID and human readable name. Alert <code class="literal">actions</code> validation will use this configuration to ensure that groups are valid. Use <code class="literal">kbn-i18n</code> to translate the names of the action group when registering the alert type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">recoveryActionGroup</code></p></td>
<td align="left" valign="top"><p>An action group to use when an alert instance goes from an active state, to an inactive one. Do not specify this action group under the <code class="literal">actionGroups</code> property. If <code class="literal">recoveryActionGroup</code> is not specified, the default <code class="literal">recovered</code> action group is used.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">defaultActionGroupId</code></p></td>
<td align="left" valign="top"><p>The default ID for the alert type group.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">actionVariables</code></p></td>
<td align="left" valign="top"><p>An explicit list of action variables that the alert type makes available via context and state in action parameter templates, and a short human readable description. The Alert UI  will use this information to prompt users for these variables in action parameter editors. Use <code class="literal">kbn-i18n</code> to translate the descriptions.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">producer</code></p></td>
<td align="left" valign="top"><p>The ID of the application producing this alert type.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">authorizedConsumers</code></p></td>
<td align="left" valign="top"><p>The list of the plugins IDs that have access to the alert type.</p></td>
</tr>
</tbody>
</table>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-mute"></a>Legacy mute alert instance API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/mute.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="mute-alert-api.html" title="Mute alert API">Mute alert</a> instead.</p>
</div>
</div>
<p>Mute an alert instance.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-mute-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/mute.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/alerts/alert/&lt;id&gt;/alert_instance/&lt;alert_instance_id&gt;/_mute</code></p>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/alert/&lt;id&gt;/alert_instance/&lt;alert_instance_id&gt;/_mute</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-mute-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/mute.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert whose instance you want to mute.
</dd>
<dt>
<span class="term">
<code class="literal">alert_instance_id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert instance that you want to mute.
</dd>
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-mute-response-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/mute.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_example_12"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/mute.asciidoc">edit</a></h4>
</div></div></div>
<p>Mute alert instance with ID:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X POST api/alerts/alert/41893910-6bca-11eb-9e0d-85d233e3ee35/alert_instance/dceeb5d0-6b41-11eb-802b-85b0c1bc8ba2/_mute</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/132.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-mute-all"></a>Legacy mute all alert instances API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/mute_all.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="mute-all-alerts-api.html" title="Mute all alerts API">Mute all alerts</a> instead.</p>
</div>
</div>
<p>Mute all alert instances.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-mute-all-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/mute_all.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/alerts/alert/&lt;id&gt;/_mute_all</code></p>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/alert/&lt;id&gt;/_mute_all</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-mute-all-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/mute_all.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert whose instances you want to mute.
</dd>
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-mute-all-response-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/mute_all.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_example_13"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/mute_all.asciidoc">edit</a></h4>
</div></div></div>
<p>Mute all alert instances with ID:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X POST api/alerts/alert/41893910-6bca-11eb-9e0d-85d233e3ee35/_mute_all</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/133.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-unmute"></a>Legacy unmute alert instance API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/unmute.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="unmute-alert-api.html" title="Unmute alert API">Unmute alert</a> instead.</p>
</div>
</div>
<p>Unmute an alert instance.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-unmute-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/unmute.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/alerts/alert/&lt;id&gt;/alert_instance/&lt;alert_instance_id&gt;/_unmute</code></p>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/alert/&lt;id&gt;/alert_instance/&lt;alert_instance_id&gt;/_unmute</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-unmute-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/unmute.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert whose instance you want to mute..
</dd>
<dt>
<span class="term">
<code class="literal">alert_instance_id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert instance that you want to unmute.
</dd>
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-unmute-response-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/unmute.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_example_14"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/unmute.asciidoc">edit</a></h4>
</div></div></div>
<p>Unmute alert instance with ID:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X POST api/alerts/alert/41893910-6bca-11eb-9e0d-85d233e3ee35/alert_instance/dceeb5d0-6b41-11eb-802b-85b0c1bc8ba2/_unmute</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/134.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-unmute-all"></a>Legacy unmute all alert instances API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/unmute_all.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="unmute-all-alerts-api.html" title="Unmute all alerts API">Unmute all alerts</a> instead.</p>
</div>
</div>
<p>Unmute all alert instances.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-unmute-all-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/unmute_all.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/alerts/alert/&lt;id&gt;/_unmute_all</code></p>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/alert/&lt;id&gt;/_unmute_all</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-unmute-all-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/unmute_all.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert whose instances you want to unmute.
</dd>
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-unmute-all-response-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/unmute_all.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_example_15"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/unmute_all.asciidoc">edit</a></h4>
</div></div></div>
<p>Unmute all alert instances with ID:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X POST api/alerts/alert/41893910-6bca-11eb-9e0d-85d233e3ee35/_unmute_all</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/135.kibana"></div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="alerts-api-update"></a>Legacy update alert API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/update.asciidoc">edit</a></h3>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 7.13.0.</h3>
<p>Use <a class="xref" href="update-rule-api.html" title="Update rule API">Update rule</a> instead.</p>
</div>
</div>
<p>Update the attributes for an existing alert.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-update-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/update.asciidoc">edit</a></h4>
</div></div></div>
<p><code class="literal">PUT &lt;kibana host&gt;:&lt;port&gt;/api/alerts/alert/&lt;id&gt;</code></p>
<p><code class="literal">PUT &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/alerts/alert/&lt;id&gt;</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-update-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/update.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the alert that you want to update.
</dd>
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-update-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/update.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) A name to reference and search.
</dd>
<dt>
<span class="term">
<code class="literal">tags</code>
</span>
</dt>
<dd>
(Optional, string array) A list of keywords to reference and search.
</dd>
<dt>
<span class="term">
<code class="literal">schedule</code>
</span>
</dt>
<dd>
<p>
(Required, object) When to run this alert. Use one of the available schedule formats.
</p>
<details open>
<summary class="title"><em>Schedule Formats</em>.</summary>
<div class="content">
<p>A schedule uses a key: value format.  Kibana currently supports the <em>Interval format</em> , which specifies the interval in seconds, minutes, hours, or days at which to execute the alert.</p>
<p>Example: <code class="literal">{ interval: "10s" }</code>, <code class="literal">{ interval: "5m" }</code>, <code class="literal">{ interval: "1h" }</code>, <code class="literal">{ interval: "1d" }</code>.</p>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">throttle</code>
</span>
</dt>
<dd>
(Optional, string) How often this alert should fire the same actions. This will prevent the alert from sending out the same notification over and over. For example, if an alert with a <code class="literal">schedule</code> of 1 minute stays in a triggered state for 90 minutes, setting a <code class="literal">throttle</code> of <code class="literal">10m</code> or <code class="literal">1h</code> will prevent it from sending 90 notifications during this period.
</dd>
<dt>
<span class="term">
<code class="literal">notifyWhen</code>
</span>
</dt>
<dd>
(Required, string) The condition for throttling the notification: <code class="literal">onActionGroupChange</code>, <code class="literal">onActiveAlert</code>,  or <code class="literal">onThrottleInterval</code>.
</dd>
<dt>
<span class="term">
<code class="literal">params</code>
</span>
</dt>
<dd>
(Required, object) The parameters to pass to the alert type executor <code class="literal">params</code> value. This will also validate against the alert type params validator, if defined.
</dd>
<dt>
<span class="term">
<code class="literal">actions</code>
</span>
</dt>
<dd>
<p>
(Optional, object array) An array of the following action objects.
</p>
<details open>
<summary class="title">Properties of the action objects:</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">group</code>
</span>
</dt>
<dd>
(Required, string) Grouping actions is recommended for escalations for different types of alert instances. If you don&#8217;t need this, set the value to <code class="literal">default</code>.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The ID of the action that saved object executes.
</dd>
<dt>
<span class="term">
<code class="literal">actionTypeId</code>
</span>
</dt>
<dd>
(Required, string) The id of the <a class="xref" href="action-types.html" title="Connectors">action type</a>.
</dd>
<dt>
<span class="term">
<code class="literal">params</code>
</span>
</dt>
<dd>
(Required, object) The map to the <code class="literal">params</code> that the <a class="xref" href="action-types.html" title="Connectors">action type</a> will receive. <code class="literal">params</code> are handled as Mustache templates and passed a default set of context.
</dd>
</dl>
</div>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-update-errors-codes"></a>Response code<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/update.asciidoc">edit</a></h4>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="alerts-api-update-example"></a>Example<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/8.6/docs/api/alerting/legacy/update.asciidoc">edit</a></h4>
</div></div></div>
<p>Update an alert with ID <code class="literal">ac4e6b90-6be7-11eb-ba0d-9b1c1f912d74</code> with a different name:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">$ curl -X PUT api/alerts/alert/ac4e6b90-6be7-11eb-ba0d-9b1c1f912d74

{
  "notifyWhen": "onActionGroupChange",
  "params": {
    "aggType": "avg",
  },
  "schedule": {
    "interval": "1m"
  },
  "actions": [],
  "tags": [],
  "name": "new name",
  "throttle": null,
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/136.kibana"></div>
<p>The API returns the following:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">{
  "id": "ac4e6b90-6be7-11eb-ba0d-9b1c1f912d74",
  "notifyWhen": "onActionGroupChange",
  "params": {
    "aggType": "avg",
  },
  "consumer": "alerts",
  "alertTypeId": "test.alert.type",
  "schedule": {
    "interval": "1m"
  },
  "actions": [],
  "tags": [],
  "name": "new name",
  "enabled": true,
  "throttle": null,
  "apiKeyOwner": "elastic",
  "createdBy": "elastic",
  "updatedBy": "elastic",
  "muteAll": false,
  "mutedInstanceIds": [],
  "updatedAt": "2021-02-10T05:37:19.086Z",
  "createdAt": "2021-02-10T05:37:19.086Z",
  "scheduledTaskId": "0b092d90-6b62-11eb-9e0d-85d233e3ee35",
  "executionStatus": {
    "lastExecutionDate": "2021-02-10T17:55:14.262Z",
    "status": "ok"
  }
}</pre>
</div>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="unmute-alert-api.html">« Unmute alert API</a>
</span>
<span class="next">
<a href="actions-and-connectors-api.html">Action and connector APIs »</a>
</span>
</div>
</div>
</body>
</html>
