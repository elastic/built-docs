<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="Conceptual and step-by-step procedures for using runtime fields, scripted fields, and field formatters.">
<meta name="keywords" content="administrator, data view, data views, management, runtime fields, runtime fields in Kibana, scripted fields, field formatters, data fields, index pattern, index patterns">
<title>Update case comment API | Kibana Guide [8.7] | Elastic</title>
<meta class="elastic" name="content" content="Update case comment API | Kibana Guide [8.7]">

<link rel="home" href="index.html" title="Kibana Guide [8.7]"/>
<link rel="up" href="cases-api.html" title="Cases APIs"/>
<link rel="prev" href="cases-api-update.html" title="Update cases API"/>
<link rel="next" href="cases-api-update-configuration.html" title="Update case configuration API"/>
<meta class="elastic" name="product_version" content="8.7"/>
<meta class="elastic" name="product_name" content="Kibana"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/8.7"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="8.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide [8.7]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api.html">REST API</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="cases-api.html">Cases APIs</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="cases-api-update.html">« Update cases API</a>
</span>
<span class="next">
<a href="cases-api-update-configuration.html">Update case configuration API »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="cases-api-update-comment"></a>Update case comment API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.7/docs/api/cases/cases-api-update-comment.asciidoc">edit</a></h2>
</div></div></div>

<p>Updates a comment or alert in a case.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>For the most up-to-date API details, refer to the
<a href="https://github.com/elastic/kibana//tree/8.7/x-pack/plugins/cases/docs/openapi" class="ulink" target="_top">open API specification</a>. For a preview, check out <a class="xref" href="case-apis.html" title="Case APIs"><em>Case APIs</em></a>.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_request_21"></a>Request<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.7/docs/api/cases/cases-api-update-comment.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">PATCH &lt;kibana host&gt;:&lt;port&gt;/api/cases/&lt;case_id&gt;/comments</code></p>
<p><code class="literal">PATCH &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/cases/&lt;case_id&gt;/comments</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_prerequisites_41"></a>Prerequisites<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.7/docs/api/cases/cases-api-update-comment.asciidoc">edit</a></h3>
</div></div></div>
<p>You must have <code class="literal">all</code> privileges for the <span class="strong strong"><strong>Cases</strong></span> feature in the <span class="strong strong"><strong>Management</strong></span>,
<span class="strong strong"><strong>Observability</strong></span>, or <span class="strong strong"><strong>Security</strong></span> section of the
<a class="xref" href="kibana-privileges.html#kibana-feature-privileges" title="Feature privileges">Kibana feature privileges</a>, depending on the
<code class="literal">owner</code> of the case you&#8217;re updating.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_path_parameters_19"></a>Path parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.7/docs/api/cases/cases-api-update-comment.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">&lt;case_id&gt;</code>
</span>
</dt>
<dd>
The identifier for the case. To retrieve case IDs, use
<a class="xref" href="cases-api-find-cases.html" title="Find cases API">Find cases</a>.
</dd>
<dt>
<span class="term">
<code class="literal">&lt;space_id&gt;</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If it is not specified, the
default space is used.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_request_body_6"></a>Request body<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.7/docs/api/cases/cases-api-update-comment.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">alertId</code>
</span>
</dt>
<dd>
(Required*, string or array of strings) The alert identifiers. It is
required only when <code class="literal">type</code> is <code class="literal">alert</code>. If you are adding multiple alerts to a
case, use an array of strings; <code class="literal">index</code> must also be an array with the same
length or number of elements in that case. Addings multiple alerts in this manner
is recommended rather than calling the API multiple times.
</dd>
<dt>
<span class="term">
<code class="literal">comment</code>
</span>
</dt>
<dd>
(Required*, string) The updated comment. It is required only when <code class="literal">type</code> is
<code class="literal">user</code>.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The identifier for the comment. To retrieve comment IDs, use
<a class="xref" href="cases-api-get-comments.html" title="Get comments API">Get comments</a>.
</dd>
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(Required*, string or array of strings) The alert indices. It is required only
when <code class="literal">type</code> is <code class="literal">alert</code>. If you are adding multiple alerts to a case, use an
array of strings; <code class="literal">alertId</code> must also be an array with the same length or number
of elements. <span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will apply best effort to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span>
</dd>
<dt>
<span class="term">
<code class="literal">owner</code>
</span>
</dt>
<dd>
<p>
(Required, string) The application that owns the case. It can be <code class="literal">cases</code>,
<code class="literal">observability</code>, or <code class="literal">securitySolution</code>.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot change the owner of a comment.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">rule</code>
</span>
</dt>
<dd>
<p>
(Required*, object)
The rule that is associated with the alert. It is required only when <code class="literal">type</code> is
<code class="literal">alert</code>. <span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will apply best effort to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span>
</p>
<details open>
<summary class="title">Properties of <code class="literal">rule</code></summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The rule identifier. <span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will apply best effort to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span>
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) The rule name. <span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will apply best effort to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span>
</dd>
</dl>
</div>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">type</code>
</span>
</dt>
<dd>
<p>
(Required, string) The comment type, which must be <code class="literal">user</code> or <code class="literal">alert</code>.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot change the comment type.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">version</code>
</span>
</dt>
<dd>
(Required, string) The current comment version. To retrieve version values, use
<a class="xref" href="cases-api-get-comments.html" title="Get comments API">Get comments</a>.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_response_codes_18"></a>Response codes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.7/docs/api/cases/cases-api-update-comment.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_examples_33"></a>Examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.7/docs/api/cases/cases-api-update-comment.asciidoc">edit</a></h3>
</div></div></div>
<p>Update comment ID <code class="literal">8af6ac20-74f6-11ea-b83a-553aecdb28b6</code> (associated with case
ID <code class="literal">293f1bc0-74f6-11ea-b83a-553aecdb28b6</code>):</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">PATCH api/cases/293f1bc0-74f6-11ea-b83a-553aecdb28b6/comments
{
  "id": "8af6ac20-74f6-11ea-b83a-553aecdb28b6",
  "version": "Wzk1LDFd",
  "type": "user",
  "comment": "An updated comment."
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/178.kibana"></div>
<p>The API returns details about the case and its comments. For example:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "comments":[{
    "id": "8af6ac20-74f6-11ea-b83a-553aecdb28b6",
    "version": "WzIwNjM3LDFd",
    "comment": "An updated comment.",
    "type": "user",
    "owner": "cases",
    "created_at": "2022-03-24T00:37:10.832Z",
    "created_by": {
        "email": null,
        "full_name": null,
        "username": "elastic"
    },
    "pushed_at": null,
    "pushed_by": null,
    "updated_at": "2022-03-24T01:27:06.210Z",
    "updated_by": {
        "email": null,
        "full_name": null,
        "username": "elastic"
      }
    }
  ],
  "totalAlerts": 0,
  "id": "293f1bc0-74f6-11ea-b83a-553aecdb28b6",
  "version": "WzIwNjM2LDFd",
  "totalComment": 1,
  "title": "Case title 1",
  "tags": ["tag 1"],
  "description": "A case description.",
  "settings": {"syncAlerts":false},
  "owner": "cases",
  "duration": null,
  "severity": "low",
  "closed_at": null,
  "closed_by": null,
  "created_at": "2022-03-24T00:37:03.906Z",
  "created_by": {
    "email": null,
    "full_name": null,
    "username": "elastic"
  },
  "status": "open",
  "updated_at": "2022-03-24T01:27:06.210Z",
  "updated_by": {
    "email": null,
    "full_name": null,
    "username": "elastic"
  },
  "connector": {
    "id": "none",
    "name": "none",
    "type": ".none",
    "fields": null
  },
  "external_service": null
}</pre>
</div>
<p>Update an alert in the case:</p>
<div class="pre_wrapper lang-kibana">
<pre class="programlisting prettyprint lang-kibana">PATCH api/cases/293f1bc0-74f6-11ea-b83a-553aecdb28b6/comments
{
  "id": "73362370-ab1a-11ec-985f-97e55adae8b9",
  "version": "WzMwNDgsMV0=",
  "type": "alert",
  "owner": "cases",
  "alertId": "c8789278659fdf88b7bf7709b90a082be070d0ba4c23c9c4b552e476c2a667c4",
  "index": ".internal.alerts-security.alerts-default-000001",
  "rule":
  {
    "id":"94d80550-aaf4-11ec-985f-97e55adae8b9",
    "name":"security_rule"
  }
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/179.kibana"></div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="cases-api-update.html">« Update cases API</a>
</span>
<span class="next">
<a href="cases-api-update-configuration.html">Update case configuration API »</a>
</span>
</div>
</div>
</body>
</html>
