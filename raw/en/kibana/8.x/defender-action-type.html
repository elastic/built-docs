<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Microsoft Defender for Endpoint connector and action | Kibana Guide [8.x] | Elastic</title>
<meta class="elastic" name="content" content="Microsoft Defender for Endpoint connector and action | Kibana Guide [8.x]">

<link rel="home" href="index.html" title="Kibana Guide [8.x]"/>
<link rel="up" href="action-types.html" title="Connectors"/>
<link rel="prev" href="jira-action-type.html" title="Jira connector and action"/>
<link rel="next" href="teams-action-type.html" title="Microsoft Teams connector and action"/>
<meta class="elastic" name="product_version" content="8.x"/>
<meta class="elastic" name="product_name" content="Kibana"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/8.x"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="8.x"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="jira-action-type.html">« Jira connector and action</a>
</span>
<span class="next">
<a href="teams-action-type.html">Microsoft Teams connector and action »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide [8.x]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="management.html">Stack Management</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="action-types.html">Connectors</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Microsoft Defender for Endpoint connector and action</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.19/docs/management/connectors/action-types/defender.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="defender-action-type"></a>Microsoft Defender for Endpoint connector and action</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.19/docs/management/connectors/action-types/defender.asciidoc">edit</a></div>
</div></div></div>

<p>The Microsoft Defender for Endpoint connector enables you to perform actions on Microsoft Defender-enrolled hosts.</p>
<div class="position-relative"><h4><a id="define-defender-ui"></a>Create connectors in Kibana</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.19/docs/management/connectors/action-types/defender.asciidoc">edit</a></div>
<p>You can create connectors in <span class="strong strong"><strong>Stack Management &gt; Connectors</strong></span> or as needed when you&#8217;re creating a rule.
For example:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="management/connectors/images/defender-connector.png" alt="Microsoft Defender for Endpoint connector">
</div>
</div>
<div class="position-relative"><h5><a id="defender-connector-configuration"></a>Connector configuration</h5><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.19/docs/management/connectors/action-types/defender.asciidoc">edit</a></div>
<p>Microsoft Defender for Endpoint connectors have the following configuration properties:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
API URL
</span>
</dt>
<dd>
The URL of the Microsoft Defender for Endpoint API. If you are using the <a class="xref" href="alert-action-settings-kb.html#action-settings" title="Action settings"><code class="literal">xpack.actions.allowedHosts</code></a> setting, make sure the hostname is added to the allowed hosts.
</dd>
<dt>
<span class="term">
Application client ID
</span>
</dt>
<dd>
The application (client) identifier for your app in the Azure portal.
</dd>
<dt>
<span class="term">
Client secret value
</span>
</dt>
<dd>
The client secret for your app in the Azure portal.
</dd>
<dt>
<span class="term">
Name
</span>
</dt>
<dd>
The name of the connector.
</dd>
<dt>
<span class="term">
OAuth scope
</span>
</dt>
<dd>
The OAuth scopes or permission sets for the Microsoft Defender for Endpoint API.
</dd>
<dt>
<span class="term">
OAuth server URL
</span>
</dt>
<dd>
The OAuth server URL where authentication is sent and received for the Microsoft Defender for Endpoint API.
</dd>
<dt>
<span class="term">
Tenant ID
</span>
</dt>
<dd>
The tenant identifier for your app in the Azure portal.
</dd>
</dl>
</div>
<div class="position-relative"><h4><a id="defender-action-configuration"></a>Test connectors</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.19/docs/management/connectors/action-types/defender.asciidoc">edit</a></div>
<p>You can test connectors as you&#8217;re creating or editing the connector in Kibana. For example:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="management/connectors/images/defender-connector-test.png" alt="Microsoft Defender for Endpoint connector test">
</div>
</div>
<div class="position-relative"><h4><a id="configuring-defender"></a>Configure Microsoft Defender for Endpoint</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/kibana/edit/8.19/docs/management/connectors/action-types/defender.asciidoc">edit</a></div>
<p>Before you create the connector, you must create a new application on your Azure domain.
The procedure to create an application is found in the <a href="https://learn.microsoft.com/en-us/defender-endpoint/api/exposed-apis-create-app-webapp" class="ulink" target="_top">Microsoft Defender documentation</a>.</p>
<p>Make note of the client ID, client secret, and tenant ID, since you must provide this information when you create your connector.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="jira-action-type.html">« Jira connector and action</a>
</span>
<span class="next">
<a href="teams-action-type.html">Microsoft Teams connector and action »</a>
</span>
</div>
</body>
</html>
