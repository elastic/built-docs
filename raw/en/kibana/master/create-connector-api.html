<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Create connector API | Kibana Guide [master] | Elastic</title>
<meta class="elastic" name="content" content="Create connector API | Kibana Guide [master]">

<link rel="home" href="index.html" title="Kibana Guide [master]"/>
<link rel="up" href="actions-and-connectors-api.html" title="Action and connector APIs"/>
<link rel="prev" href="actions-and-connectors-api.html" title="Action and connector APIs"/>
<link rel="next" href="delete-connector-api.html" title="Delete connector API"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Kibana"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Kibana/Reference/master"/>
<meta name="DC.subject" content="Kibana"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="actions-and-connectors-api.html">« Action and connector APIs</a>
</span>
<span class="next">
<a href="delete-connector-api.html">Delete connector API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Kibana Guide [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api.html">REST API</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="actions-and-connectors-api.html">Action and connector APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Create connector API</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/main/docs/api/actions-and-connectors/create.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="create-connector-api"></a>Create connector API<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/main/docs/api/actions-and-connectors/create.asciidoc">edit</a></h2>
</div></div></div>

<p>Creates a connector.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>For the most up-to-date API details, refer to the
<a href="https://github.com/elastic/kibana//tree/master/x-pack/plugins/actions/docs/openapi" class="ulink" target="_top">open API specification</a>.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="create-connector-api-request"></a>Request<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/main/docs/api/actions-and-connectors/create.asciidoc">edit</a></h3>
</div></div></div>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/api/actions/connector</code></p>
<p><code class="literal">POST &lt;kibana host&gt;:&lt;port&gt;/s/&lt;space_id&gt;/api/actions/connector</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_prerequisites_17"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/main/docs/api/actions-and-connectors/create.asciidoc">edit</a></h3>
</div></div></div>
<p>You must have <code class="literal">all</code> privileges for the <span class="strong strong"><strong>Actions and Connectors</strong></span> feature in the
<span class="strong strong"><strong>Management</strong></span> section of the <a class="xref" href="kibana-privileges.html#kibana-feature-privileges" title="Feature privileges">Kibana feature privileges</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="create-connector-api-path-params"></a>Path parameters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/main/docs/api/actions-and-connectors/create.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">space_id</code>
</span>
</dt>
<dd>
(Optional, string) An identifier for the space. If <code class="literal">space_id</code> is not provided
in the URL, the default space is used.
</dd>
</dl>
</div>
</div>

<div class="section child_attributes">
<div class="titlepage"><div><div>
<h3 class="title"><a id="create-connector-api-request-body"></a>Request body<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/main/docs/api/actions-and-connectors/create.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">config</code>
</span>
</dt>
<dd>
<p>
(Required<sup>*</sup>, object) The configuration for the connector. Configuration properties
vary depending on the connector type. For example:
</p>
<details open>
<summary class="title">Config properties</summary>
<div class="content">
<details open>
<summary class="title">IBM Resilient connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apiUrl</code>
</span>
</dt>
<dd>
(Required, string) The IBM Resilient instance URL.
</dd>
<dt>
<span class="term">
<code class="literal">orgId</code>
</span>
</dt>
<dd>
(Required, string) The IBM Resilient organization ID.
</dd>
</dl>
</div>
<p>For more information, refer to <a class="xref" href="resilient-action-type.html" title="IBM Resilient connector and action">IBM Resilient</a>.</p>
</div>
</details>
<details open>
<summary class="title">Index connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">executionTimeField</code>
</span>
</dt>
<dd>
(Optional, string) Specifies a field that will contain the time the alert
condition was detected. The default value is <code class="literal">null</code>.
</dd>
<dt>
<span class="term">
<code class="literal">index</code>
</span>
</dt>
<dd>
(Required, string) The Elasticsearch index to be written to.
</dd>
<dt>
<span class="term">
<code class="literal">refresh</code>
</span>
</dt>
<dd>
(Optional, boolean) The <a href="/guide/en/elasticsearch/reference/master/docs-refresh.html" class="ulink" target="_top">refresh</a> policy for the write
request. The default value is <code class="literal">false</code>.
</dd>
</dl>
</div>
<p>For more information, refer to <a class="xref" href="index-action-type.html" title="Index connector and action">Index</a>.</p>
</div>
</details>
<details open>
<summary class="title">Jira connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apiUrl</code>
</span>
</dt>
<dd>
(Required, string) The Jira instance URL.
</dd>
<dt>
<span class="term">
<code class="literal">projectKey</code>
</span>
</dt>
<dd>
(Required, string) The Jira project key.
</dd>
</dl>
</div>
<p>For more information, refer to <a class="xref" href="jira-action-type.html" title="Jira connector and action">Jira</a>.</p>
</div>
</details>
<details open>
<summary class="title">Opsgenie connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apiUrl</code>
</span>
</dt>
<dd>
(Required, string) The Opsgenie URL. For example, <code class="literal">https://api.opsgenie.com</code> or
<code class="literal">https://api.eu.opsgenie.com</code>. If you are using the <code class="literal">xpack.actions.allowedHosts</code>
setting, make sure the hostname is added to the allowed hosts.
</dd>
</dl>
</div>
<p>For more information, refer to <a class="xref" href="opsgenie-action-type.html" title="Opsgenie connector and action">Opsgenie</a>.</p>
</div>
</details>
<details open>
<summary class="title">ServiceNow ITOM, ServiceNow ITSM, and ServiceNow SecOps connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apiUrl</code>
</span>
</dt>
<dd>
(Required, string) The ServiceNow instance URL.
</dd>
<dt>
<span class="term">
<code class="literal">clientId</code>
</span>
</dt>
<dd>
(Required<sup>*</sup>, string) The client ID assigned to your OAuth application. This
property is required when <code class="literal">isOAuth</code> is <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">isOAuth</code>
</span>
</dt>
<dd>
(Optional, string) The type of authentication to use. The default value is
<code class="literal">false</code>, which means basic authentication is used instead of open authorization
(OAuth).
</dd>
<dt>
<span class="term">
<code class="literal">jwtKeyId</code>
</span>
</dt>
<dd>
(Required<sup>*</sup>, string) The key identifier assigned to the JWT verifier map of
your OAuth application. This property is required when <code class="literal">isOAuth</code> is <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">userIdentifierValue</code>
</span>
</dt>
<dd>
(Required<sup>*</sup>, string) The identifier to use for OAuth authentication. This
identifier should be the user field you selected when you created an OAuth
JWT API endpoint for external clients in your ServiceNow instance. For example, if
the selected user field is <code class="literal">Email</code>, the user identifier should be the user&#8217;s
email address. This property is required when <code class="literal">isOAuth</code> is <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">usesTableApi</code>
</span>
</dt>
<dd>
<p>
(Optional, boolean) Determines whether the connector uses the Table API or the
Import Set API. This property is supported only for ServiceNow ITSM and ServiceNow SecOps
connectors. The default value is <code class="literal">true</code>.
</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If this property is set to false, the Elastic application should be
installed in ServiceNow.</p>
</div>
</div>
</dd>
</dl>
</div>
</div>
</details>
<details open>
<summary class="title">Swimlane connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apiUrl</code>
</span>
</dt>
<dd>
(Required, string) The Swimlane instance URL.
</dd>
<dt>
<span class="term">
<code class="literal">appId</code>
</span>
</dt>
<dd>
(Required, string) The Swimlane application ID.
</dd>
<dt>
<span class="term">
<code class="literal">connectorType</code>
</span>
</dt>
<dd>
(Required, String) The type of the connector. Valid values are: <code class="literal">all</code>, <code class="literal">alerts</code>, <code class="literal">cases</code>.
</dd>
<dt>
<span class="term">
<code class="literal">mappings</code>
</span>
</dt>
<dd>
<p>
(Optional, object) The field mapping.
</p>
<details open>
<summary class="title">Mappings properties</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">alertIdConfig</code>
</span>
</dt>
<dd>
<p>
(Optional, object) Mapping for the alert ID.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">fieldType</code>
</span>
</dt>
<dd>
(Required, string) The type of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The id of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">key</code>
</span>
</dt>
<dd>
(Required, string) The key of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) The name of the field in Swimlane.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">caseIdConfig</code>
</span>
</dt>
<dd>
<p>
(Optional, object) Mapping for the case ID.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">fieldType</code>
</span>
</dt>
<dd>
(Required, string) The type of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The id of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">key</code>
</span>
</dt>
<dd>
(Required, string) The key of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) The name of the field in Swimlane.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">caseNameConfig</code>
</span>
</dt>
<dd>
<p>
(Optional, object) Mapping for the case name.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">fieldType</code>
</span>
</dt>
<dd>
(Required, string) The type of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The id of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">key</code>
</span>
</dt>
<dd>
(Required, string) The key of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) The name of the field in Swimlane.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">commentsConfig</code>
</span>
</dt>
<dd>
<p>
(Optional, object) Mapping for the case comments.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">fieldType</code>
</span>
</dt>
<dd>
(Required, string) The type of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The id of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">key</code>
</span>
</dt>
<dd>
(Required, string) The key of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) The name of the field in Swimlane.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">descriptionConfig</code>
</span>
</dt>
<dd>
<p>
(Optional, object) Mapping for the case description.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">fieldType</code>
</span>
</dt>
<dd>
(Required, string) The type of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The id of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">key</code>
</span>
</dt>
<dd>
(Required, string) The key of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) The name of the field in Swimlane.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">ruleNameConfig</code>
</span>
</dt>
<dd>
<p>
(Optional, object) Mapping for the name of the alert&#8217;s rule.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">fieldType</code>
</span>
</dt>
<dd>
(Required, string) The type of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The id of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">key</code>
</span>
</dt>
<dd>
(Required, string) The key of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) The name of the field in Swimlane.
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">severityConfig</code>
</span>
</dt>
<dd>
<p>
(Optional, object) Mapping for the severity.
</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">fieldType</code>
</span>
</dt>
<dd>
(Required, string) The type of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">id</code>
</span>
</dt>
<dd>
(Required, string) The id of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">key</code>
</span>
</dt>
<dd>
(Required, string) The key of the field in Swimlane.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) The name of the field in Swimlane.
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</div>
</details>
<p>For more information, refer to <a class="xref" href="swimlane-action-type.html" title="Swimlane connector and action">Swimlane</a>.</p>
</dd>
</dl>
</div>
</div>
</details>
<details open>
<summary class="title">Webhook - Case Management connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">createCommentJson</code>
</span>
</dt>
<dd>
<p>
(Optional, string) A JSON payload sent to the create comment URL to create a
case comment. You can use variables to add Kibana Cases data to the payload. The
required variable is <code class="literal">case.comment</code>. For example:
</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "body": {{{case.comment}}}
}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Due to Mustache template variables (the text enclosed in triple braces,
for example, <code class="literal">{{{case.title}}}</code>), the JSON is not validated when you create the
connector. The JSON is validated once the Mustache variables have been placed
when the REST method runs. Manually ensure that the JSON is valid,
disregarding the Mustache variables, so the later validation will pass.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">createCommentMethod</code>
</span>
</dt>
<dd>
(Optional, string) The REST API HTTP request method to create a case comment in
the third-party system. Valid values are either <code class="literal">patch</code>, <code class="literal">post</code>, and <code class="literal">put</code>. The
default value is <code class="literal">put</code>.
</dd>
<dt>
<span class="term">
<code class="literal">createCommentUrl</code>
</span>
</dt>
<dd>
<p>
(Optional, string) The REST API URL to create a case comment by ID in the
third-party system. You can use a variable to add the external system ID to the
URL. If you are using the <code class="literal">xpack.actions.allowedHosts</code> setting, make sure the
hostname is added to the allowed hosts. For example:
</p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">https://testing-jira.atlassian.net/rest/api/2/issue/{{{external.system.id}}}/comment</pre>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">createIncidentJson</code>
</span>
</dt>
<dd>
<p>
(Required, string) A JSON payload sent to the create case URL to create a case. You
can use variables to add case data to the payload. Required variables are
<code class="literal">case.title</code> and <code class="literal">case.description</code>. For example:
</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
	"fields": {
	  "summary": {{{case.title}}},
	  "description": {{{case.description}}},
	  "labels": {{{case.tags}}}
	}
}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Due to Mustache template variables (which is the text enclosed in triple
braces, for example, <code class="literal">{{{case.title}}}</code>), the JSON is not validated when you
create the connector. The JSON is validated after the Mustache variables have
been placed when REST method runs. Manually ensure that the JSON is valid to
avoid future validation errors; disregard Mustache variables during your review.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">createIncidentMethod</code>
</span>
</dt>
<dd>
(Optional, string) The REST API HTTP request method to create a case in the
third-party system. Valid values are <code class="literal">patch</code>, <code class="literal">post</code>, and <code class="literal">put</code>. The default
value is <code class="literal">post</code>.
</dd>
<dt>
<span class="term">
<code class="literal">createIncidentResponseKey</code>
</span>
</dt>
<dd>
(Required, string) The JSON key in the create case response that contains the
external case ID.
</dd>
<dt>
<span class="term">
<code class="literal">createIncidentUrl</code>
</span>
</dt>
<dd>
(Required, string) The REST API URL to create a case in the third-party system.
If you are using the <code class="literal">xpack.actions.allowedHosts</code> setting, make sure the
hostname is added to the allowed hosts.
</dd>
<dt>
<span class="term">
<code class="literal">getIncidentResponseExternalTitleKey</code>
</span>
</dt>
<dd>
(Required, string) The JSON key in get case response that contains the external
case title.
</dd>
<dt>
<span class="term">
<code class="literal">getIncidentUrl</code>
</span>
</dt>
<dd>
<p>
(Required, string) The REST API URL to get the case by ID from the third-party
system. If you are using the <code class="literal">xpack.actions.allowedHosts</code> setting, make sure the
hostname is added to the allowed hosts. You can use a variable to add the
external system ID to the URL. For example:
</p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">https://testing-jira.atlassian.net/rest/api/2/issue/{{{external.system.id}}}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Due to Mustache template variables (the text enclosed in triple braces,
for example, <code class="literal">{{{case.title}}}</code>), the JSON is not validated when you create the
connector. The JSON is validated after the Mustache variables have been placed
when REST method runs. Manually ensure that the JSON is valid, disregarding the
Mustache variables, so the later validation will pass.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">hasAuth</code>
</span>
</dt>
<dd>
(Optional, boolean) If true, a username and password for login type authentication
must be provided. The default value is <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">headers</code>
</span>
</dt>
<dd>
(Optional, string) A set of key-value pairs sent as headers with the request
URLs for the create case, update case, get case, and create comment methods.
</dd>
<dt>
<span class="term">
<code class="literal">updateIncidentJson</code>
</span>
</dt>
<dd>
<p>
(Required, string) The JSON payload sent to the update case URL to update the
case. You can use variables to add Kibana Cases data to the payload. Required
variables are <code class="literal">case.title</code> and <code class="literal">case.description</code>. For example:
</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
	"fields": {
	  "summary": {{{case.title}}},
	  "description": {{{case.description}}},
	  "labels": {{{case.tags}}}
	}
}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Due to Mustache template variables (which is the text enclosed in triple
braces, for example, <code class="literal">{{{case.title}}}</code>), the JSON is not validated when you
create the connector. The JSON is validated after the Mustache variables have
been placed when REST method runs. Manually ensure that the JSON is valid to
avoid future validation errors; disregard Mustache variables during your review.</p>
</div>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">updateIncidentMethod</code>
</span>
</dt>
<dd>
(Optional, string) The REST API HTTP request method to update the case in the
third-party system. Valid values are <code class="literal">patch</code>, <code class="literal">post</code>, and <code class="literal">put</code>. The default
value is <code class="literal">put</code>.
</dd>
<dt>
<span class="term">
<code class="literal">updateIncidentUrl</code>
</span>
</dt>
<dd>
<p>
(Required, string) The REST API URL to update the case by ID in the third-party
system. You can use a variable to add the external system ID to the URL. If you
are using the <code class="literal">xpack.actions.allowedHosts</code> setting, make sure the hostname is
added to the allowed hosts. For example:
</p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">https://testing-jira.atlassian.net/rest/api/2/issue/{{{external.system.ID}}}</pre>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">viewIncidentUrl</code>
</span>
</dt>
<dd>
<p>
(Required, string) The URL to view the case in the external system. You can use
variables to add the external system ID or external system title to the URL.For example:
</p>
<div class="pre_wrapper lang-text">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-text">https://testing-jira.atlassian.net/browse/{{{external.system.title}}}</pre>
</div>
</dd>
</dl>
</div>
<p>For more information, refer to <a class="xref" href="cases-webhook-action-type.html" title="Webhook - Case Management connector and action">Webhook - Case Management</a>.</p>
</div>
</details>
<p>This object is not required for server log connectors.</p>
<p>For more configuration properties, refer to <a class="xref" href="action-types.html" title="Connectors"><em>Connectors</em></a>.</p>
</div>
</details>
</dd>
<dt>
<span class="term">
<code class="literal">connector_type_id</code>
</span>
</dt>
<dd>
(Required, string) The connector type ID for the connector. For example,
<code class="literal">.cases-webhook</code>, <code class="literal">.index</code>, <code class="literal">.jira</code>, <code class="literal">.opsgenie</code>, <code class="literal">.server-log</code>, or <code class="literal">.servicenow-itom</code>.
</dd>
<dt>
<span class="term">
<code class="literal">name</code>
</span>
</dt>
<dd>
(Required, string) The display name for the connector.
</dd>
<dt>
<span class="term">
<code class="literal">secrets</code>
</span>
</dt>
<dd>
<p>
(Required<sup>*</sup>, object) The secrets configuration for the connector. Secrets
configuration properties vary depending on the connector type. For information
about the secrets configuration properties, refer to <a class="xref" href="action-types.html" title="Connectors"><em>Connectors</em></a>.
</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Remember these values. You must provide them each time you call the <a class="xref" href="update-connector-api.html" title="Update connector API">update</a> API.</p>
</div>
</div>
<details open>
<summary class="title">Secrets properties</summary>
<div class="content">
<details open>
<summary class="title">IBM Resilient connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apiKeyId</code>
</span>
</dt>
<dd>
(Required, string) The authentication key ID for HTTP Basic authentication.
</dd>
<dt>
<span class="term">
<code class="literal">apiKeySecret</code>
</span>
</dt>
<dd>
(Required, string) The authentication key secret for HTTP Basic authentication.
</dd>
</dl>
</div>
</div>
</details>
<details open>
<summary class="title">Jira connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apiToken</code>
</span>
</dt>
<dd>
(Required, string) The Jira API authentication token for HTTP basic
authentication.
</dd>
<dt>
<span class="term">
<code class="literal">email</code>
</span>
</dt>
<dd>
(Required, string) The account email for HTTP Basic authentication.
</dd>
</dl>
</div>
</div>
</details>
<details open>
<summary class="title">Opsgenie connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apiKey</code>
</span>
</dt>
<dd>
(Required, string) The Opsgenie API authentication key for HTTP Basic
authentication.
</dd>
</dl>
</div>
</div>
</details>
<details open>
<summary class="title">ServiceNow ITOM, ServiceNow ITSM, and ServiceNow SecOps connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">clientSecret</code>
</span>
</dt>
<dd>
(Required<sup>*</sup>, string) The client secret assigned to your OAuth application. This
property is required when <code class="literal">isOAuth</code> is <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
<code class="literal">password</code>
</span>
</dt>
<dd>
(Required<sup>*</sup>, string) The password for HTTP basic authentication. This property
is required when <code class="literal">isOAuth</code> is <code class="literal">false</code>.
</dd>
<dt>
<span class="term">
<code class="literal">privateKey</code>
</span>
</dt>
<dd>
(Required<sup>*</sup>, string) The RSA private key that you created for use in ServiceNow. This
property is required when <code class="literal">isOAuth</code> is <code class="literal">true</code>.
</dd>
<dt>
<span class="term">
privateKeyPassword
</span>
</dt>
<dd>
(Required<sup>*</sup>, string) The password for the RSA private key. This property is
required when <code class="literal">isOAuth</code> is <code class="literal">true</code> and you set a password on your private key.
</dd>
<dt>
<span class="term">
<code class="literal">username</code>
</span>
</dt>
<dd>
(Required<sup>*</sup>, string) The username for HTTP basic authentication. This property
is required when <code class="literal">isOAuth</code> is <code class="literal">false</code>.
</dd>
</dl>
</div>
</div>
</details>
<details open>
<summary class="title">Swimlane connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">apiToken</code>
</span>
</dt>
<dd>
(string) Swimlane API authentication token.
</dd>
</dl>
</div>
</div>
</details>
<details open>
<summary class="title">Webhook - Case Management connectors</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">password</code>
</span>
</dt>
<dd>
(Optional, string) The password for HTTP basic authentication.
</dd>
<dt>
<span class="term">
<code class="literal">user</code>
</span>
</dt>
<dd>
(Optional, string) The username for HTTP basic authentication.
</dd>
</dl>
</div>
</div>
</details>
<p>This object is not required for index or server log connectors.</p>
</div>
</details>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="create-connector-api-request-codes"></a>Response codes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/main/docs/api/actions-and-connectors/create.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200</code>
</span>
</dt>
<dd>
Indicates a successful call.
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="create-connector-api-example"></a>Examples<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/kibana/edit/main/docs/api/actions-and-connectors/create.asciidoc">edit</a></h3>
</div></div></div>
<p>Create an index connector:</p>
<div class="pre_wrapper lang-kibana">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-kibana">POST api/actions/connector
{
  "name": "my-connector",
  "connector_type_id": ".index",
  "config": {
    "index": "test-index"
  }
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/141.kibana"></div>
<p>The API returns the following:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">{
  "id": "c55b6eb0-6bad-11eb-9f3b-611eebc6c3ad",
  "connector_type_id": ".index",
  "name": "my-connector",
  "config": {
    "index": "test-index",
    "refresh": false,
    "executionTimeField": null
  },
  "is_preconfigured": false,
  "is_deprecated": false,
  "is_missing_secrets": false
}</pre>
</div>
<p>Create a Jira connector:</p>
<div class="pre_wrapper lang-kibana">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-kibana">POST api/actions/connector
{
  "name": "my-jira-connector",
  "connector_type_id": ".jira",
  "config": {
    "apiUrl": "https://elastic.atlassian.net",
    "projectKey": "ES"
  },
  "secrets": {
    "email": "myEmail",
    "apiToken": "myToken"
  }
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/142.kibana"></div>
<p>Create an IBM Resilient connector:</p>
<div class="pre_wrapper lang-kibana">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-kibana">POST api/actions/connector
{
  "name": "my-resilient-connector",
  "connector_type_id": ".resilient",
  "config": {
    "apiUrl": "https://elastic.resilient.net",
    "orgId": "201"
  },
  "secrets": {
    "apiKeyId": "myKey",
    "apiKeySecret": "myToken"
  }
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/143.kibana"></div>
<p>Create an ServiceNow ITOM connector that uses open authorization:</p>
<div class="pre_wrapper lang-kibana">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-kibana">POST api/actions/connector
{
  "name": "my-itom-connector",
  "connector_type_id": ".servicenow-itom",
  "config": {
    "apiUrl": "https://exmaple.service-now.com/",
    "clientId": "abcdefghijklmnopqrstuvwxyzabcdef",
    "isOAuth": "true",
    "jwtKeyId": "fedcbazyxwvutsrqponmlkjihgfedcba",
    "userIdentifierValue": "testuser@email.com"
  },
  "secrets": {
    "clientSecret": "secretsecret",
    "privateKey": "-----BEGIN RSA PRIVATE KEY-----\nprivatekeyhere\n-----END RSA PRIVATE KEY-----"
  }
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/144.kibana"></div>
<p>Create a Swimlane connector:</p>
<div class="pre_wrapper lang-kibana">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-kibana">POST api/actions/connector
{
   "name":"my-swimlane-connector",
   "connector_type_id": ".swimlane",
   "config":{
      "connectorType":"all",
      "mappings":{
         "ruleNameConfig":{
            "id":"b6fst",
            "name":"Alert Name",
            "key":"alert-name",
            "fieldType":"text"
         }
      },
      "appId":"myAppID",
      "apiUrl":"https://myswimlaneinstance.com"
   },
   "secrets":{
      "apiToken":"myToken"
   }
}</pre>
</div>
<div class="kibana_widget" data-snippet="snippets/145.kibana"></div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="actions-and-connectors-api.html">« Action and connector APIs</a>
</span>
<span class="next">
<a href="delete-connector-api.html">Delete connector API »</a>
</span>
</div>
</body>
</html>
