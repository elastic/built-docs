<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>jdbc | Logstash Reference [1.5] | Elastic</title>
<meta class="elastic" name="content" content="jdbc | Logstash Reference [1.5]">

<link rel="home" href="index.html" title="Logstash Reference [1.5]"/>
<link rel="up" href="input-plugins.html" title="Input plugins"/>
<link rel="prev" href="plugins-inputs-imap.html" title="imap"/>
<link rel="next" href="plugins-inputs-jmx.html" title="jmx"/>
<meta class="elastic" name="product_version" content="1.5"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/1.5"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="1.5"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="plugins-inputs-imap.html">« imap</a>
</span>
<span class="next">
<a href="plugins-inputs-jmx.html">jmx »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [1.5]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="logstash-reference.html">Logstash Reference</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="input-plugins.html">Input plugins</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>jdbc</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/reference/logstash/plugins/plugins-inputs-jdbc">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="plugins-inputs-jdbc"></a>jdbc</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<p>This plugin was created as a way to ingest data in any database
with a JDBC interface into Logstash. You can periodically schedule ingestion
using a cron syntax (see <code class="literal">schedule</code> setting) or run the query one time to load
data into Logstash. Each row in the resultset becomes a single event.
Columns in the resultset are converted into fields in the event.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_drivers"></a>Drivers</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<p>This plugin does not come packaged with JDBC driver libraries. The desired
jdbc driver library must be explicitly passed in to the plugin using the
<code class="literal">jdbc_driver_library</code> configuration option.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_scheduling"></a>Scheduling</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<p>Input from this plugin can be scheduled to run periodically according to a specific
schedule. This scheduling syntax is powered by <a href="https://github.com/jmettraux/rufus-scheduler" class="ulink" target="_top">rufus-scheduler</a>.
The syntax is cron-like with some extensions specific to Rufus (e.g. timezone support).</p>
<p>Examples:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">* 5 * 1-3 *</code></p></td>
<td align="left" valign="top"><p>will execute every minute of 5am every day of January through March.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">0 * * * *</code></p></td>
<td align="left" valign="top"><p>will execute on the 0th minute of every hour every day.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">0 6 * * * America/Chicago</code></p></td>
<td align="left" valign="top"><p>will execute at 6:00am (UTC/GMT -5) every day.</p></td>
</tr>
</tbody>
</table>
</div>
<p>Further documentation describing this syntax can be found <a href="https://github.com/jmettraux/rufus-scheduler#parsing-cronlines-and-time-strings" class="ulink" target="_top">here</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_state"></a>State</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<p>The plugin will persist the <code class="literal">sql_last_start</code> parameter in the form of a
metadata file stored in the configured <code class="literal">last_run_metadata_path</code>. Upon shutting down,
this file will be updated with the current value of <code class="literal">sql_last_start</code>. Next time
the pipeline starts up, this value will be updated by reading from the file. If
<code class="literal">clean_run</code> is set to true, this value will be ignored and <code class="literal">sql_last_start</code> will be
set to Jan 1, 1970, as if no query has ever been executed.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_dealing_with_large_result_sets"></a>Dealing With Large Result-sets</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<p>Many JDBC drivers use the <code class="literal">fetch_size</code> parameter to limit how many
results are pre-fetched at a time from the cursor into the client&#8217;s cache
before retrieving more results from the result-set. This is configured in
this plugin using the <code class="literal">jdbc_fetch_size</code> configuration option. No fetch size
is set by default in this plugin, so the specific driver&#8217;s default size will
be used.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_usage"></a>Usage:</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<p>Here is an example of setting up the plugin to fetch data from a MySQL database.
First, we place the appropriate JDBC driver library in our current
path (this can be placed anywhere on your filesystem). In this example, we connect to
the <em>mydb</em> database using the user: <em>mysql</em> and wish to input all rows in the <em>songs</em>
table that match a specific artist. The following examples demonstrates a possible
Logstash configuration for this. The <code class="literal">schedule</code> option in this example will
instruct the plugin to execute this input statement on the minute, every minute.</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">input {
  jdbc {
    jdbc_driver_library =&gt; "mysql-connector-java-5.1.36-bin.jar"
    jdbc_driver_class =&gt; "com.mysql.jdbc.Driver"
    jdbc_connection_string =&gt; "jdbc:mysql://localhost:3306/mydb"
    jdbc_user =&gt; "mysql"
    parameters =&gt; { "favorite_artist" =&gt; "Beethoven" }
    schedule =&gt; "* * * * *"
    statement =&gt; "SELECT * from songs where artist = :favorite_artist"
  }
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_configuring_sql_statement"></a>Configuring SQL statement</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<p>A sql statement is required for this input. This can be passed-in via a
statement option in the form of a string, or read from a file (<code class="literal">statement_filepath</code>). File
option is typically used when the SQL statement is large or cumbersome to supply in the config.
The file option only supports one SQL statement. The plugin will only accept one of the options.
It cannot read a statement from a file as well as from the <code class="literal">statement</code> configuration parameter.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_predefined_parameters"></a>Predefined Parameters</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<p>Some parameters are built-in and can be used from within your queries.
Here is the list:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p>sql_last_start</p></td>
<td align="left" valign="top"><p>The last time a statement was executed. This is set to Thursday, 1 January 1970 before any query is run, and updated accordingly after first query is run.</p></td>
</tr>
</tbody>
</table>
</div>
<p>&nbsp;</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_synopsis_19"></a>Synopsis</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<p>This plugin supports the following configuration options:</p>
<p>Required configuration options:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">jdbc {
    jdbc_connection_string =&gt; ...
    jdbc_driver_class =&gt; ...
    jdbc_user =&gt; ...
}</pre>
</div>
<p>Available configuration options:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Setting</th>
<th align="left" valign="top">Input type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-add_field" title="add_field"><code class="literal">add_field</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">{}</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-clean_run" title="clean_run"><code class="literal">clean_run</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">false</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-codec" title="codec"><code class="literal">codec</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#codec" title="Codec">codec</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"plain"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_connection_string" title="jdbc_connection_string"><code class="literal">jdbc_connection_string</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>Yes</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_driver_class" title="jdbc_driver_class"><code class="literal">jdbc_driver_class</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>Yes</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_driver_library" title="jdbc_driver_library"><code class="literal">jdbc_driver_library</code></a></p></td>
<td align="left" valign="top"><p>a valid filesystem path</p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_fetch_size" title="jdbc_fetch_size"><code class="literal">jdbc_fetch_size</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_page_size" title="jdbc_page_size"><code class="literal">jdbc_page_size</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">100000</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_paging_enabled" title="jdbc_paging_enabled"><code class="literal">jdbc_paging_enabled</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">false</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_password" title="jdbc_password"><code class="literal">jdbc_password</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#password" title="Password">password</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_user" title="jdbc_user"><code class="literal">jdbc_user</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>Yes</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_validate_connection" title="jdbc_validate_connection"><code class="literal">jdbc_validate_connection</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">false</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-jdbc_validation_timeout" title="jdbc_validation_timeout"><code class="literal">jdbc_validation_timeout</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">3600</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-last_run_metadata_path" title="last_run_metadata_path"><code class="literal">last_run_metadata_path</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"/Users/suyog/.logstash_jdbc_last_run"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-parameters" title="parameters"><code class="literal">parameters</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">{}</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-record_last_run" title="record_last_run"><code class="literal">record_last_run</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">true</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-schedule" title="schedule"><code class="literal">schedule</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-statement" title="statement"><code class="literal">statement</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-statement_filepath" title="statement_filepath"><code class="literal">statement_filepath</code></a></p></td>
<td align="left" valign="top"><p>a valid filesystem path</p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-tags" title="tags"><code class="literal">tags</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#array" title="Array">array</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-inputs-jdbc.html#plugins-inputs-jdbc-type" title="type"><code class="literal">type</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_details_19"></a>Details</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<p>&nbsp;</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-add_field"></a><code class="literal">add_field</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a>
</li>
<li class="listitem">
Default value is <code class="literal">{}</code>
</li>
</ul>
</div>
<p>Add a field to an event</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-charset"></a><code class="literal">charset</code>  (DEPRECATED)</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
DEPRECATED WARNING: This configuration item is deprecated and may not be available in future versions.
&lt;li&gt; Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The character encoding used in this input. Examples include <code class="literal">UTF-8</code>
and <code class="literal">cp1252</code></p>
<p>This setting is useful if your log files are in <code class="literal">Latin-1</code> (aka <code class="literal">cp1252</code>)
or in another character set other than <code class="literal">UTF-8</code>.</p>
<p>This only affects <code class="literal">plain</code> format logs since json is <code class="literal">UTF-8</code> already.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-clean_run"></a><code class="literal">clean_run</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>Whether the previous run state should be preserved</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-codec"></a><code class="literal">codec</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#codec" title="Codec">codec</a>
</li>
<li class="listitem">
Default value is <code class="literal">"plain"</code>
</li>
</ul>
</div>
<p>The codec used for input data. Input codecs are a convenient method for decoding your data before it enters the input, without needing a separate filter in your Logstash pipeline.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-debug"></a><code class="literal">debug</code>  (DEPRECATED)</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
DEPRECATED WARNING: This configuration item is deprecated and may not be available in future versions.
</li>
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-format"></a><code class="literal">format</code>  (DEPRECATED)</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
DEPRECATED WARNING: This configuration item is deprecated and may not be available in future versions.
</li>
<li class="listitem">
Value can be any of: <code class="literal">plain</code>, <code class="literal">json</code>, <code class="literal">json_event</code>, <code class="literal">msgpack_event</code>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The format of input data (plain, json, json_event)</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-jdbc_connection_string"></a><code class="literal">jdbc_connection_string</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
This is a required setting.
</li>
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC connection string</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-jdbc_driver_class"></a><code class="literal">jdbc_driver_class</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
This is a required setting.
</li>
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC driver class to load, for example, <code class="literal">"org.apache.derby.jdbc.ClientDriver"</code>. If you are using
the Oracle JDBC driver (<code class="literal">ojdbc6.jar</code>) the correct <code class="literal">jdbc_driver_class</code> is <code class="literal">"Java::oracle.jdbc.driver.OracleDriver"</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-jdbc_driver_library"></a><code class="literal">jdbc_driver_library</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC driver library path to third party driver library. If not provided, Plugin will look for the driver class in the Logstash Java classpath.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-jdbc_fetch_size"></a><code class="literal">jdbc_fetch_size</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC fetch size. if not provided, respective driver&#8217;s default will be used</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-jdbc_page_size"></a><code class="literal">jdbc_page_size</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">100000</code>
</li>
</ul>
</div>
<p>JDBC page size</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-jdbc_paging_enabled"></a><code class="literal">jdbc_paging_enabled</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>JDBC enable paging. This will cause a sql statement to be broken up into multiple queries. Each query will use limits and offsets to collectively retrieve the full result-set. The limit size is set with <code class="literal">jdbc_page_size</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-jdbc_password"></a><code class="literal">jdbc_password</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#password" title="Password">password</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC password</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-jdbc_user"></a><code class="literal">jdbc_user</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
This is a required setting.
</li>
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>JDBC user</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-jdbc_validate_connection"></a><code class="literal">jdbc_validate_connection</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>Connection pool configuration. Validate connection before use.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-jdbc_validation_timeout"></a><code class="literal">jdbc_validation_timeout</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">3600</code>
</li>
</ul>
</div>
<p>Connection pool configuration. How often to validate a connection (in seconds)</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-last_run_metadata_path"></a><code class="literal">last_run_metadata_path</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">$USER_HOME/.logstash_jdbc_last_run</code>
</li>
</ul>
</div>
<p>Path to file with last run time</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-message_format"></a><code class="literal">message_format</code>  (DEPRECATED)</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
DEPRECATED WARNING: This configuration item is deprecated and may not be available in future versions.
</li>
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>If format is <code class="literal">json</code>, an event <code class="literal">sprintf</code> string to build what
the display <code class="literal">@message</code> should be given (defaults to the raw JSON).
<code class="literal">sprintf</code> format strings look like <code class="literal">%{fieldname}</code></p>
<p>If format is <code class="literal">json_event</code>, ALL fields except for <code class="literal">@type</code>
are expected to be present. Not receiving all fields
will cause unexpected results.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-parameters"></a><code class="literal">parameters</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a>
</li>
<li class="listitem">
Default value is <code class="literal">{}</code>
</li>
</ul>
</div>
<p>Hash of query parameter, for example <code class="literal">{ "target_id" =&gt; "321" }</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-record_last_run"></a><code class="literal">record_last_run</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>
</li>
</ul>
</div>
<p>Whether to save state or not in last_run_metadata_path</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-schedule"></a><code class="literal">schedule</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Schedule of when to periodically run statement, in Cron format
for example: "* * * * *" (execute query every minute, on the minute)</p>
<p>There is no schedule by default. If no schedule is given, then the statement is run
exactly once.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-statement"></a><code class="literal">statement</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>If undefined, Logstash will complain, even if codec is unused.
Statement to execute</p>
<p>To use parameters, use named parameter syntax.
For example:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">"SELECT * FROM MYTABLE WHERE id = :target_id"</pre>
</div>
<p>here, ":target_id" is a named parameter. You can configure named parameters
with the <code class="literal">parameters</code> setting.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-statement_filepath"></a><code class="literal">statement_filepath</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Path of file containing statement to execute</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-tags"></a><code class="literal">tags</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#array" title="Array">array</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Add any number of arbitrary tags to your event.</p>
<p>This can help with processing later.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="plugins-inputs-jdbc-type"></a><code class="literal">type</code></h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-input-jdbc/edit/master/lib/logstash/inputs/jdbc.rb">edit</a></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Add a <code class="literal">type</code> field to all events handled by this input.</p>
<p>Types are used mainly for filter activation.</p>
<p>The type is stored as part of the event itself, so you can
also use the type to search for it in Kibana.</p>
<p>If you try to set a type on an event that already has one (for
example when you send an event from a shipper to an indexer) then
a new input will not override the existing type. A type set at
the shipper stays with that event for its life even
when sent to another Logstash server.</p>
</div>

</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="plugins-inputs-imap.html">« imap</a>
</span>
<span class="next">
<a href="plugins-inputs-jmx.html">jmx »</a>
</span>
</div>
</body>
</html>
