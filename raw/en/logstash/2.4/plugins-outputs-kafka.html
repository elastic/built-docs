<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>kafka | Logstash Reference [2.4] | Elastic</title>
<link rel="home" href="index.html" title="Logstash Reference [2.4]"/>
<link rel="up" href="output-plugins.html" title="Output plugins"/>
<link rel="prev" href="plugins-outputs-jira.html" title="jira"/>
<link rel="next" href="plugins-outputs-lumberjack.html" title="lumberjack"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/2.4"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="2.4"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Logstash Reference [2.4]</a></span>
»
<span class="breadcrumb-link"><a href="output-plugins.html">Output plugins</a></span>
»
<span class="breadcrumb-node">kafka</span>
</div>
<div class="navheader">
<span class="prev">
<a href="plugins-outputs-jira.html">« jira</a>
</span>
<span class="next">
<a href="plugins-outputs-lumberjack.html">lumberjack »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="plugins-outputs-kafka"></a>kafka<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h2>
</div></div></div>
<p>Write events to a Kafka topic.</p>
<p>This plugin uses Kafka Client 0.8.2.2. For broker compatibility, see the official <a href="https://cwiki.apache.org/confluence/display/KAFKA/Compatibility+Matrix" class="ulink" target="_top">Kafka compatibility reference</a>.</p>
<p>If you&#8217;re using a plugin version that was released after {version}, see the <a href="/guide/en/logstash/master/plugins-inputs-kafka.html" class="ulink" target="_top">latest plugin documentation</a> for updated information about Kafka compatibility. If you require features not yet available in this plugin (including client version upgrades), please file an issue with details about what you need.</p>
<p>The only required configuration is the topic name. The default codec is json,
so events will be persisted on the broker in json format. If you select a codec of plain,
Logstash will encode your messages with not only the message but also with a timestamp and
hostname. If you do not want anything but your message passing through, you should make the output
configuration something like:</p>
<div class="pre_wrapper lang-ruby">
<pre class="programlisting prettyprint lang-ruby">    output {
      kafka {
        codec =&gt; plain {
           format =&gt; "%{message}"
        }
      }
    }
For more information see http://kafka.apache.org/documentation.html#theproducer</pre>
</div>
<p>Kafka producer configuration: <a href="http://kafka.apache.org/documentation.html#newproducerconfigs" class="ulink" target="_top">http://kafka.apache.org/documentation.html#newproducerconfigs</a></p>
<p>&nbsp;</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_synopsis_73"></a>Synopsis<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h3>
</div></div></div>
<p>This plugin supports the following configuration options:</p>
<p>Required configuration options:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">kafka {
    topic_id =&gt; ...
}</pre>
</div>
<p>Available configuration options:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Setting</th>
<th align="left" valign="top">Input type</th>
<th align="left" valign="top">Required</th>
<th align="left" valign="top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-acks" title="acks"><code class="literal">acks</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["0", "1", "all"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"1"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-batch_size" title="batch_size"><code class="literal">batch_size</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">16384</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-block_on_buffer_full" title="block_on_buffer_full"><code class="literal">block_on_buffer_full</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">true</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-bootstrap_servers" title="bootstrap_servers"><code class="literal">bootstrap_servers</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"localhost:9092"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-buffer_memory" title="buffer_memory"><code class="literal">buffer_memory</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">33554432</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-client_id" title="client_id"><code class="literal">client_id</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-codec" title="codec"><code class="literal">codec</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#codec" title="Codec">codec</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"json"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-compression_type" title="compression_type"><code class="literal">compression_type</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["none", "gzip", "snappy"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"none"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-key_serializer" title="key_serializer"><code class="literal">key_serializer</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"org.apache.kafka.common.serialization.StringSerializer"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-linger_ms" title="linger_ms"><code class="literal">linger_ms</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">0</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-max_request_size" title="max_request_size"><code class="literal">max_request_size</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">1048576</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-message_key" title="message_key"><code class="literal">message_key</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-metadata_fetch_timeout_ms" title="metadata_fetch_timeout_ms"><code class="literal">metadata_fetch_timeout_ms</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">60000</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-metadata_max_age_ms" title="metadata_max_age_ms"><code class="literal">metadata_max_age_ms</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">300000</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-receive_buffer_bytes" title="receive_buffer_bytes"><code class="literal">receive_buffer_bytes</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">32768</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-reconnect_backoff_ms" title="reconnect_backoff_ms"><code class="literal">reconnect_backoff_ms</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">10</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-retries" title="retries"><code class="literal">retries</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">0</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-retry_backoff_ms" title="retry_backoff_ms"><code class="literal">retry_backoff_ms</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">100</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-send_buffer_bytes" title="send_buffer_bytes"><code class="literal">send_buffer_bytes</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">131072</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-timeout_ms" title="timeout_ms"><code class="literal">timeout_ms</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">30000</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-topic_id" title="topic_id"><code class="literal">topic_id</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>Yes</p></td>
<td align="left" valign="top"><p></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-value_serializer" title="value_serializer"><code class="literal">value_serializer</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">"org.apache.kafka.common.serialization.StringSerializer"</code></code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-kafka.html#plugins-outputs-kafka-workers" title="workers"><code class="literal">workers</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p><code class="literal"><code class="literal">1</code></code></p></td>
</tr>
</tbody>
</table>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_details_74"></a>Details<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h3>
</div></div></div>
<p>&nbsp;</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-acks"></a><code class="literal">acks</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">0</code>, <code class="literal">1</code>, <code class="literal">all</code>
</li>
<li class="listitem">
Default value is <code class="literal">"1"</code>
</li>
</ul>
</div>
<p>The number of acknowledgments the producer requires the leader to have received
before considering a request complete.</p>
<p>acks=0,   the producer will not wait for any acknowledgment from the server at all.
acks=1,   This will mean the leader will write the record to its local log but
          will respond without awaiting full acknowledgement from all followers.
acks=all, This means the leader will wait for the full set of in-sync replicas to acknowledge the record.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-batch_size"></a><code class="literal">batch_size</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">16384</code>
</li>
</ul>
</div>
<p>The producer will attempt to batch records together into fewer requests whenever multiple
records are being sent to the same partition. This helps performance on both the client
and the server. This configuration controls the default batch size in bytes.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-block_on_buffer_full"></a><code class="literal">block_on_buffer_full</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>
</li>
</ul>
</div>
<p>When our memory buffer is exhausted we must either stop accepting new
records (block) or throw errors. By default this setting is true and we block,
however in some scenarios blocking is not desirable and it is better to immediately give an error.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-bootstrap_servers"></a><code class="literal">bootstrap_servers</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">"localhost:9092"</code>
</li>
</ul>
</div>
<p>This is for bootstrapping and the producer will only use it for getting metadata (topics,
partitions and replicas). The socket connections for sending the actual data will be
established based on the broker information returned in the metadata. The format is
<code class="literal">host1:port1,host2:port2</code>, and the list can be a subset of brokers or a VIP pointing to a
subset of brokers.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-buffer_memory"></a><code class="literal">buffer_memory</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">33554432</code>
</li>
</ul>
</div>
<p>The total bytes of memory the producer can use to buffer records waiting to be sent to the server.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-client_id"></a><code class="literal">client_id</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The id string to pass to the server when making requests.
The purpose of this is to be able to track the source of requests beyond just
ip/port by allowing a logical application name to be included with the request</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-codec"></a><code class="literal">codec</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#codec" title="Codec">codec</a>
</li>
<li class="listitem">
Default value is <code class="literal">"json"</code>
</li>
</ul>
</div>
<p>The codec used for output data. Output codecs are a convenient method for encoding your data before it leaves the output, without needing a separate filter in your Logstash pipeline.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-compression_type"></a><code class="literal">compression_type</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">none</code>, <code class="literal">gzip</code>, <code class="literal">snappy</code>
</li>
<li class="listitem">
Default value is <code class="literal">"none"</code>
</li>
</ul>
</div>
<p>The compression type for all data generated by the producer.
The default is none (i.e. no compression). Valid values are none, gzip, or snappy.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-key_serializer"></a><code class="literal">key_serializer</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">"org.apache.kafka.common.serialization.StringSerializer"</code>
</li>
</ul>
</div>
<p>Serializer class for the key of the message</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-linger_ms"></a><code class="literal">linger_ms</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">0</code>
</li>
</ul>
</div>
<p>The producer groups together any records that arrive in between request
transmissions into a single batched request. Normally this occurs only under
load when records arrive faster than they can be sent out. However in some circumstances
the client may want to reduce the number of requests even under moderate load.
This setting accomplishes this by adding a small amount of artificial delay—that is,
rather than immediately sending out a record the producer will wait for up to the given delay
to allow other records to be sent so that the sends can be batched together.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-max_request_size"></a><code class="literal">max_request_size</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">1048576</code>
</li>
</ul>
</div>
<p>The maximum size of a request</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-message_key"></a><code class="literal">message_key</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The key for the message</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-metadata_fetch_timeout_ms"></a><code class="literal">metadata_fetch_timeout_ms</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">60000</code>
</li>
</ul>
</div>
<p>the timeout setting for initial metadata request to fetch topic metadata.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-metadata_max_age_ms"></a><code class="literal">metadata_max_age_ms</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">300000</code>
</li>
</ul>
</div>
<p>the max time in milliseconds before a metadata refresh is forced.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-receive_buffer_bytes"></a><code class="literal">receive_buffer_bytes</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">32768</code>
</li>
</ul>
</div>
<p>The size of the TCP receive buffer to use when reading data</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-reconnect_backoff_ms"></a><code class="literal">reconnect_backoff_ms</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">10</code>
</li>
</ul>
</div>
<p>The amount of time to wait before attempting to reconnect to a given host when a connection fails.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-retries"></a><code class="literal">retries</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">0</code>
</li>
</ul>
</div>
<p>Setting a value greater than zero will cause the client to
resend any record whose send fails with a potentially transient error.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-retry_backoff_ms"></a><code class="literal">retry_backoff_ms</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">100</code>
</li>
</ul>
</div>
<p>The amount of time to wait before attempting to retry a failed produce request to a given topic partition.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-send_buffer_bytes"></a><code class="literal">send_buffer_bytes</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">131072</code>
</li>
</ul>
</div>
<p>The size of the TCP send buffer to use when sending data.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-timeout_ms"></a><code class="literal">timeout_ms</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">30000</code>
</li>
</ul>
</div>
<p>The configuration controls the maximum amount of time the server will wait for acknowledgments
from followers to meet the acknowledgment requirements the producer has specified with the
acks configuration. If the requested number of acknowledgments are not met when the timeout
elapses an error will be returned. This timeout is measured on the server side and does not
include the network latency of the request.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-topic_id"></a><code class="literal">topic_id</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
This is a required setting.
</li>
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The topic to produce messages to</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-value_serializer"></a><code class="literal">value_serializer</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">"org.apache.kafka.common.serialization.StringSerializer"</code>
</li>
</ul>
</div>
<p>Serializer class for the value of the message</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-kafka-workers"></a><code class="literal">workers</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-kafka/edit/master/lib/logstash/outputs/kafka.rb">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">1</code>
</li>
</ul>
</div>
<p>The number of workers to use for this output.
Note that this setting may not be useful for all outputs.</p>
</div>

</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="plugins-outputs-jira.html">« jira</a>
</span>
<span class="next">
<a href="plugins-outputs-lumberjack.html">lumberjack »</a>
</span>
</div>
</div>
</body>
</html>
