<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Logstash 5.1.1 Release Notes | Logstash Reference [5.1] | Elastic</title>
<meta class="elastic" name="content" content="Logstash 5.1.1 Release Notes | Logstash Reference [5.1]">

<link rel="home" href="index.html" title="Logstash Reference [5.1]"/>
<link rel="up" href="releasenotes.html" title="Release Notes"/>
<link rel="prev" href="logstash-5-1-2.html" title="Logstash 5.1.2 Release Notes"/>
<link rel="next" href="logstash-5-1-0.html" title="Logstash 5.1.0 Release Notes (Skipped)"/>
<meta class="elastic" name="product_version" content="5.1"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/5.1"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="5.1"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [5.1]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="releasenotes.html">Release Notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="logstash-5-1-2.html">« Logstash 5.1.2 Release Notes</a>
</span>
<span class="next">
<a href="logstash-5-1-0.html">Logstash 5.1.0 Release Notes (Skipped) »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="logstash-5-1-1"></a>Logstash 5.1.1 Release Notes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/5.1/docs/static/releasenotes.asciidoc">edit</a></h2>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Persistent queues is a new beta feature that provides infrastructure in Logstash for buffering event data to disk.
By default, Logstash still uses an in-memory, bounded queue between the input and filter stages without any guarantees
for data delivery. Users can now opt-in to enable disk-based persistence that can prevent event loss in certain
scenarios. The setting <code class="literal">queue.type: persisted</code> enables this feature (<a href="https://github.com/elastic/logstash/issues/2605" class="ulink" target="_top">Issue 2605</a>, <a href="https://github.com/elastic/logstash/issues/2606" class="ulink" target="_top">Issue 2606</a>).
</li>
<li class="listitem">
Filters can be configured to log event data and related context when filter execution exceeds a specified time threshold.
These slowlogs will be collected in a separate file called <code class="literal">logstash-slowlog-plain-YYYY-MM-dd.log</code> (<a href="https://github.com/elastic/logstash/issues/5733" class="ulink" target="_top">Issue 5733</a>).
</li>
<li class="listitem">
Added two new fields <code class="literal">id</code>, and <code class="literal">name</code> to the base metadata for API requests. The <code class="literal">id</code> field is the persisted
UUID. The <code class="literal">name</code> field is the custom name the user has passed in (defaults to the hostname).
</li>
<li class="listitem">
The <code class="literal">_node/stats</code> API will now report uptime in milliseconds (<a href="https://github.com/elastic/logstash/issues/6214" class="ulink" target="_top">Issue 6214</a>).
</li>
<li class="listitem">
Enhanced the <code class="literal">/_node/stats</code> API to report the CPU load average information. Load average stats are not reported
on Windows (<a href="https://github.com/elastic/logstash/issues/6215" class="ulink" target="_top">Issue 6215</a>).
</li>
<li class="listitem">
Fixed heap dump path for Windows installs.
</li>
<li class="listitem">
When using the JSON logging format, exception messages are now handled correctly (<a href="https://github.com/elastic/logstash/issues/6082" class="ulink" target="_top">Issue 6082</a>).
</li>
<li class="listitem">
We now log an error message when a plugin specified in the config is not found in the installed list (<a href="https://github.com/elastic/logstash/issues/6020" class="ulink" target="_top">Issue 6020</a>).
</li>
</ul>
</div>
<h4><a id="_input_plugins_2"></a>Input Plugins<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/5.1/docs/static/releasenotes.asciidoc">edit</a></h4>
<p><span class="strong strong"><strong><code class="literal">Beats</code></strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">congestion_threshold</code> configuration is now deprecated as the new Java implementation uses an alternate keep-alive
mechanism.
</li>
<li class="listitem">
Fixed an issue where data shipped in intervals greater than five seconds could cause the connection between
Filebeat and Logstash to be closed (<a href="https://github.com/logstash-plugins/logstash-input-beats/issues/163" class="ulink" target="_top">Issue 163</a>).
</li>
</ul>
</div>
<p><span class="strong strong"><strong><code class="literal">Kafka</code></strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added Kerberos authentication support (<a href="https://github.com/logstash-plugins/logstash-input-kafka/issues/124" class="ulink" target="_top">Issue 124</a>).
</li>
</ul>
</div>
<p><span class="strong strong"><strong><code class="literal">Syslog</code></strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for proxy protocol (<a href="https://github.com/elastic/logstash/issues/4418" class="ulink" target="_top">Issue 4418</a>).
</li>
</ul>
</div>
<p><span class="strong strong"><strong><code class="literal">TCP</code></strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for proxy protocol (<a href="https://github.com/elastic/logstash/issues/4418" class="ulink" target="_top">Issue 4418</a>).
</li>
</ul>
</div>
<p><span class="strong strong"><strong><code class="literal">UDP</code></strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added <code class="literal">receive_buffer_bytes</code> config setting to optionally set the socket receive buffer size. Allowing a user to set this
can prevent data loss on uneven traffic flow (<a href="https://github.com/logstash-plugins/logstash-input-udp/issues/22" class="ulink" target="_top">Issue 22</a>).
</li>
</ul>
</div>
<p><span class="strong strong"><strong><code class="literal">RabbitMQ</code></strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A dropped connection between Logstash and RabbitMQ is now re-tried when an intermediary proxy reports
that there are no live backends (<a href="https://github.com/logstash-plugins/logstash-input-rabbitmq/issues/76" class="ulink" target="_top">#76</a>)
</li>
</ul>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_filter_plugins_2"></a>Filter Plugins<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/5.1/docs/static/releasenotes.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong><code class="literal">Grok</code></strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The timeout enforcer can now be disabled by setting <code class="literal">timeout_millis</code> to nil. The default for <code class="literal">timeout_millis</code>
is now 30s (<a href="https://github.com/logstash-plugins/logstash-filter-grok/issues/99" class="ulink" target="_top">Issue 99</a>).
</li>
</ul>
</div>
<p><span class="strong strong"><strong><code class="literal">Date</code></strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improved performance: The date filter is now 2.8x faster for common case (first pattern matches), and 14x faster for
events where multiple patterns are attempted (<a href="https://github.com/logstash-plugins/logstash-filter-date/issues/74" class="ulink" target="_top">Issue 74</a>).
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_output_plugins_2"></a>Output Plugins<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/logstash/edit/5.1/docs/static/releasenotes.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong><code class="literal">Elasticsearch</code></strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A health check is now performed against Elasticsearch hosts right after startup and sniffing for the first
time. Previously, a health check was issued after an error was received from a request (<a href="https://github.com/logstash-plugins/logstash-output-elasticsearch/issues/507" class="ulink" target="_top">Issue 507</a>).
</li>
<li class="listitem">
You can now specify event dependent configuration when configuring the ingest pipeline (<a href="https://github.com/logstash-plugins/logstash-output-elasticsearch/issues/491" class="ulink" target="_top">Issue 491</a>).
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="logstash-5-1-2.html">« Logstash 5.1.2 Release Notes</a>
</span>
<span class="next">
<a href="logstash-5-1-0.html">Logstash 5.1.0 Release Notes (Skipped) »</a>
</span>
</div>
</div>
</body>
</html>
