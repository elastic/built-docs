<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Logstash 7.9.0 Release Notes | Logstash Reference [7.12] | Elastic</title>
<link rel="home" href="index.html" title="Logstash Reference [7.12]"/>
<link rel="up" href="releasenotes.html" title="Release Notes"/>
<link rel="prev" href="logstash-7-9-1.html" title="Logstash 7.9.1 Release Notes"/>
<link rel="next" href="logstash-7-8-1.html" title="Logstash 7.8.1 Release Notes"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/7.12"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="7.12"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Logstash Reference [7.12]</a></span>
»
<span class="breadcrumb-link"><a href="releasenotes.html">Release Notes</a></span>
»
<span class="breadcrumb-node">Logstash 7.9.0 Release Notes</span>
</div>
<div class="navheader">
<span class="prev">
<a href="logstash-7-9-1.html">« Logstash 7.9.1 Release Notes</a>
</span>
<span class="next">
<a href="logstash-7-8-1.html">Logstash 7.8.1 Release Notes »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="logstash-7-9-0"></a>Logstash 7.9.0 Release Notes<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_new_features_and_enhancements_3"></a>New features and enhancements<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h3>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_ecs_support_in_elasticsearch_output_plugin"></a>ECS support in Elasticsearch output plugin<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h4>
</div></div></div>
<p>This release is the first step toward Elastic Common Schema (ECS) support in
Logstash. With 7.9, you can configure the <a class="xref" href="plugins-outputs-elasticsearch.html" title="Elasticsearch output plugin">Elasticsearch
output plugin</a> to manage index templates that are compatible with the
<a href="/guide/en/ecs/1.8" class="ulink" target="_top">Elastic Common Schema (ECS)</a>. The
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ecs_compatibility" title="ecs_compatibility">ECS compatibility setting</a>
in the Elasticsearch output plugin makes this possible.</p>
<p>See
<a href="/guide/en/logstash/7.12/plugins-outputs-elasticsearch.html#_compatibility_with_the_elastic_common_schema_ecs" class="ulink" target="_top">Compatibility with the Elastic Common Schema (ECS)</a>
in the Elasticsearch output plugin docs for more information.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_expanded_api_key_support"></a>Expanded API key support<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h4>
</div></div></div>
<p>With this release, we&#8217;ve continued expanding support for Elasticsearch API keys. Support
for API keys in the <a class="xref" href="plugins-outputs-elasticsearch.html" title="Elasticsearch output plugin">Elasticsearch output plugin</a> arrived
in Logstash 7.8.0. Logstash 7.9.0 introduces support for Elasticsearch API keys in the
<a class="xref" href="plugins-inputs-elasticsearch.html" title="Elasticsearch input plugin">Elasticsearch input plugin</a>, the
<a class="xref" href="plugins-filters-elasticsearch.html" title="Elasticsearch filter plugin">Elasticsearch filter plugin</a>, and Logstash
<a class="xref" href="ls-security.html#ls-api-key-monitor" title="Create an API key for monitoring">monitoring</a> and <a class="xref" href="ls-security.html#ls-api-key-man" title="Create an API key for central management">management</a>.</p>
<p>Check out <a class="xref" href="ls-security.html#ls-api-keys" title="Grant access using API keys">Grant access using API keys</a> for more information about using API keys with Logstash
and Elasticsearch.
Implementation details are in <a href="https://github.com/elastic/logstash/pull/11953" class="ulink" target="_top">#11953</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_arm64_support_experimental"></a>ARM64 support (experimental)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h4>
</div></div></div>
<p>Logstash runs on arm machines! We have tested Logstash against arm64, and we are looking
to make docker and other images available soon.</p>
<p>ARM artifacts are not yet supported for production, and we’re offering them as
"experimental" to early adopters.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_improved_support_in_app_search_output"></a>Improved support in App Search output<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h4>
</div></div></div>
<p>We replaced the deprecated Java client library for the
<a class="xref" href="plugins-outputs-elastic_app_search.html" title="App Search output plugin">Elastic App Search output plugin</a> with the
Ruby client library, and expanded integration testing. These changes provide a
foundation for expanding App Search integration and quality assurance in future
releases.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_improvements_to_persistent_queue_pq"></a>Improvements to persistent queue (PQ)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h4>
</div></div></div>
<p>We&#8217;ve enhanced persistent queues to better manage exceptions and error handling
which could sometimes result in  a <code class="literal">LockException</code> when the queue file lock was
not properly released. Under some conditions, a complex pipeline that is slower
to initialize could be recreated when it was not done initializing, causing a
<code class="literal">LockException</code>. Implementation details are in <a href="https://github.com/elastic/logstash/pull/12023" class="ulink" target="_top">#12023</a>.</p>
<p>These changes result in better stability of persistent queues.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_improvements_to_pipeline_workers_error_handling"></a>Improvements to pipeline workers error handling<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h4>
</div></div></div>
<p>Worker threads were not correctly monitored for a worker loop exception
resulting in a complete logstash crash upon any exception even when multiple
pipelines are running. Now only the failed pipeline is terminated. If pipeline
reloading is enabled, you can edit the config and have the failed pipeline
reloaded.
Implementation details are in
<a href="https://github.com/elastic/logstash/pull/12019" class="ulink" target="_top">#12019</a> and
<a href="https://github.com/elastic/logstash/pull/12038" class="ulink" target="_top">#12038</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_performance_improvement_on_startup_and_pipeline_restarts"></a>Performance improvement on startup and pipeline restarts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h4>
</div></div></div>
<p>This release contains several optimizations to pipeline compilation, an
essential step of the pipeline initialization process. These changes
significantly improve startup and pipeline-restart performance for complex
pipelines.
(For technical details, check out this PR: <a href="https://github.com/elastic/logstash/pull/12060" class="ulink" target="_top">#12060</a>.)</p>
<p>From our tests in three different pipelines with eight workers each, we have
seen times decrease from 9 - 28 minutes to around 1 minute.</p>
<p>To aid the development of pipelines, especially the performance impact of
compilation, Logstash now reports the time taken to compile each pipeline as a
log entry such as:</p>
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">[2020-08-12T14:10:29,388][INFO ][logstash.javapipeline  ][main] Pipeline Java execution initialization time {"seconds"=&gt;0.7}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_performance_improvements_and_notable_issues_fixed_3"></a>Performance improvements and notable issues fixed<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support <a class="xref" href="plugin-concepts.html#space-delimited-uris-in-list-params" title="Space-deliminated URIs in list-type params">white space as a delimiter</a> on list-type params <a href="https://github.com/elastic/logstash/pull/12051" class="ulink" target="_top">#12051</a>.
Resolves <a href="https://github.com/elastic/logstash/issues/6366" class="ulink" target="_top">#6366</a> and <a href="https://github.com/elastic/logstash/issues/8157" class="ulink" target="_top">#8157</a>.
</li>
<li class="listitem">
Support using unix pipe as local config file <a href="https://github.com/elastic/logstash/pull/11109" class="ulink" target="_top">#11109</a>
</li>
<li class="listitem">
<p>Logging improvements</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Display Java pipeline initialization time to help with troubleshooting and diagnostics <a href="https://github.com/elastic/logstash/pull/11749" class="ulink" target="_top">#11749</a>
</li>
<li class="listitem">
Logging framework enhancement to allow more finetuned logging <a href="https://github.com/elastic/logstash/pull/11853" class="ulink" target="_top">#11853</a>
</li>
<li class="listitem">
Better logging after definition improvements and script routes in log4j <a href="https://github.com/elastic/logstash/pull/11929" class="ulink" target="_top">#11929</a> and <a href="https://github.com/elastic/logstash/pull/11992" class="ulink" target="_top">#11992</a>
</li>
<li class="listitem">
Improved Logstash startup logging to ensure that <em>starting logstash</em> entry happens before any other log entries <a href="https://github.com/elastic/logstash/pull/12086" class="ulink" target="_top">#12086</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
Fix: Add back pipelines queue.data and queue.capacity subdocuments for _node/stats <a href="https://github.com/elastic/logstash/pull/11923" class="ulink" target="_top">#11923</a>
</li>
<li class="listitem">
Fix: Avoid reloading pipelines that have no changes <a href="https://github.com/elastic/logstash/pull/12009" class="ulink" target="_top">#12009</a>
</li>
<li class="listitem">
Fix: Removed unnecessary calls that, under some circumstances, could cause
pipeline startup issues for pipelines that were slow to initialize
<a href="https://github.com/elastic/logstash/pull/12034" class="ulink" target="_top">#12034</a>
</li>
<li class="listitem">
Fix: Allow trailing newlines in config fragments to resolve an issue in which split configs were corrupted when merged <a href="https://github.com/elastic/logstash/pull/12161" class="ulink" target="_top">#12161</a>
</li>
<li class="listitem">
Fix: Resolve issue in which pipeline init fails for a slow pipeline when monitoring is enabled <a href="https://github.com/elastic/logstash/pull/12034" class="ulink" target="_top">#12034</a>
</li>
<li class="listitem">
Fix: Ignore default username when no password is set for monitoring and management <a href="https://github.com/elastic/logstash/pull/12094" class="ulink" target="_top">#12094</a>
</li>
<li class="listitem">
Refactor code refactor to launch ruby thread from ruby code instead of java (as a workaround for jruby bug) <a href="https://github.com/elastic/logstash/pull/11900" class="ulink" target="_top">#11900</a>
</li>
<li class="listitem">
<p>Updates to dependencies</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Update log4j dependency to 2.13.3
</li>
<li class="listitem">
Update jruby to 9.2.12.0
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_plugin_releases_3"></a>Plugin releases<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/7.12/docs/static/releasenotes.asciidoc">edit</a></h3>
</div></div></div>
<p><span class="strong strong"><strong>Rubydebug Codec - 3.1.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Replace stale awesome_print library with maintained fork called amazing_print <a href="https://github.com/logstash-plugins/logstash-codec-rubydebug/pull/8" class="ulink" target="_top">#8</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Elasticsearch Filter - 3.9.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support to define a proxy with the proxy config option <a href="https://github.com/logstash-plugins/logstash-filter-elasticsearch/pull/134" class="ulink" target="_top">#134</a>
</li>
<li class="listitem">
Added api_key support <a href="https://github.com/logstash-plugins/logstash-filter-elasticsearch/pull/132" class="ulink" target="_top">#132</a>
</li>
<li class="listitem">
[DOC] Removed outdated compatibility notice <a href="https://github.com/logstash-plugins/logstash-filter-elasticsearch/pull/131" class="ulink" target="_top">#131</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Memcached Filter - 1.1.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added better exception handling <a href="https://github.com/logstash-plugins/logstash-filter-memcached/pull/25" class="ulink" target="_top">#25</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Elasticsearch Input - 4.7.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added api_key support <a href="https://github.com/logstash-plugins/logstash-input-elasticsearch/pull/131" class="ulink" target="_top">#131</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>File Input - 4.2.1</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix: Skip sincedb eviction if read mode completion deletes file during flush <a href="https://github.com/logstash-plugins/logstash-input-file/pull/273" class="ulink" target="_top">#273</a>
</li>
<li class="listitem">
Fix: Watched files performance with huge filesets <a href="https://github.com/logstash-plugins/logstash-input-file/pull/268" class="ulink" target="_top">#268</a>
</li>
<li class="listitem">
Updated logging to include full traces in debug (and trace) levels
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Imap Input - 3.1.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adds an option to recursively search the message parts for attachment and inline attachment filenames. If the save_attachments option is set to true, the content of attachments is included in the <code class="literal">attachments.data</code> field. The attachment data can then be used by the Elasticsearch Ingest Attachment Processor Plugin <a href="https://github.com/logstash-plugins/logstash-input-imap/pull/48" class="ulink" target="_top">#48</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Kafka Integration - 10.4.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added the input <code class="literal">isolation_level</code> to allow fine control of whether to return transactional messages <a href="https://github.com/logstash-plugins/logstash-integration-kafka/pull/44" class="ulink" target="_top">#44</a>
</li>
<li class="listitem">
Added the input and output <code class="literal">client_dns_lookup</code> parameter to allow control of how DNS requests are made
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Rabbitmq Integration - 7.1.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support in Output plugin for <code class="literal">sprintf</code> templates in values provided to <code class="literal">message_properties</code> <a href="https://github.com/logstash-plugins/logstash-integration-rabbitmq/issues/8" class="ulink" target="_top">#8</a>
</li>
<li class="listitem">
Added support for <em>extended</em> metadata including raw payload to events generated by the Input Plugin <a href="https://github.com/logstash-plugins/logstash-integration-rabbitmq/issues/13" class="ulink" target="_top">#13</a>
</li>
<li class="listitem">
Fixes an issue with custom port assignment, in which the custom port was not being applied when more than one host was supplied <a href="https://github.com/logstash-plugins/logstash-integration-rabbitmq/pull/12" class="ulink" target="_top">#12</a>
</li>
<li class="listitem">
Fixes bug where attempting to read from undeclared exchange resulted in infinite retry loop <a href="https://github.com/logstash-plugins/logstash-integration-rabbitmq/issues/10" class="ulink" target="_top">#10</a>
</li>
<li class="listitem">
Fixes bug where failing to establish initial connection resulted in a pipeline that refused to shut down <a href="https://github.com/logstash-plugins/logstash-integration-rabbitmq/issues/11" class="ulink" target="_top">#11</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Elastic_app_search Output - 1.1.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Switched AppSearch client library from Java to Ruby <a href="https://github.com/logstash-plugins/logstash-output-elastic_app_search/issues/12" class="ulink" target="_top">#12</a>
</li>
<li class="listitem">
Covered with integration tests and dockerized local AppSearch server instance.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Elasticsearch Output - 10.6.1</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue introduced in 10.6.0 that broke Logstash Core&#8217;s monitoring feature when this plugin is run in Logstash 7.7-7.8. <a href="https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/953" class="ulink" target="_top">#953</a>
</li>
<li class="listitem">
Added <code class="literal">ecs_compatiblity</code> mode, for managing ECS-compatable templates <a href="https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/952" class="ulink" target="_top">#952</a>
</li>
</ul>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="logstash-7-9-1.html">« Logstash 7.9.1 Release Notes</a>
</span>
<span class="next">
<a href="logstash-7-8-1.html">Logstash 7.8.1 Release Notes »</a>
</span>
</div>
</div>
</body>
</html>
