<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Elasticsearch output plugin | Logstash Reference [8.14] | Elastic</title>
<meta class="elastic" name="content" content="Elasticsearch output plugin | Logstash Reference [8.14]">

<link rel="home" href="index.html" title="Logstash Reference [8.14]"/>
<link rel="up" href="output-plugins.html" title="Output plugins"/>
<link rel="prev" href="plugins-outputs-elastic_workplace_search.html" title="Elastic Workplace Search output plugin"/>
<link rel="next" href="plugins-outputs-email.html" title="Email output plugin"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/8.14"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="8.14"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="plugins-outputs-elastic_workplace_search.html">« Elastic Workplace Search output plugin</a>
</span>
<span class="next">
<a href="plugins-outputs-email.html">Email output plugin »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [8.14]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="output-plugins.html">Output plugins</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Elasticsearch output plugin</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="plugins-outputs-elasticsearch"></a>Elasticsearch output plugin<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h2>
</div></div></div>

<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Plugin version: v11.22.7
</li>
<li class="listitem">
Released on: 2024-06-25
</li>
<li class="listitem">
<a href="https://github.com/logstash-plugins/logstash-output-elasticsearch/blob/v11.22.7/CHANGELOG.md" class="ulink" target="_top">Changelog</a>
</li>
</ul>
</div>
<p>For other versions, see the
<a href="/guide/en/logstash-versioned-plugins/current/output-elasticsearch-index.html" class="ulink" target="_top">Versioned plugin docs</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_getting_help_73"></a>Getting Help<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>For questions about the plugin, open a topic in the <a href="http://discuss.elastic.co" class="ulink" target="_top">Discuss</a> forums. For bugs or feature requests, open an issue in <a href="https://github.com/logstash-plugins/logstash-output-elasticsearch" class="ulink" target="_top">Github</a>.
For the list of Elastic supported plugins, please consult the <a href="/support/matrix#logstash_plugins" class="ulink" target="_top">Elastic Support Matrix</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_description_73"></a>Description<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>Elasticsearch provides near real-time search and analytics for all types of
data. The Elasticsearch output plugin can store both time series datasets (such
as logs, events, and metrics) and non-time series data in Elasticsearch.</p>
<p>You can <a href="/elasticsearch/" class="ulink" target="_top">learn more about Elasticsearch</a> on
the website landing page or in the <a href="/guide/en/elasticsearch/reference/8.14" class="ulink" target="_top">Elasticsearch documentation</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Compatibility Note</h3>
<p>When connected to Elasticsearch 7.x, modern versions of this plugin
don&#8217;t use the document-type when inserting documents, unless the user
explicitly sets <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-document_type" title="document_type"><code class="literal">document_type</code></a>.</p>
<p>If you are using an earlier version of Logstash and wish to connect to
Elasticsearch 7.x, first upgrade Logstash to version 6.8 to ensure it
picks up changes to the Elasticsearch index template.</p>
<p>If you are using a custom <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-template" title="template"><code class="literal">template</code></a>,
ensure your template uses the <code class="literal">_doc</code> document-type before
connecting to Elasticsearch 7.x.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-outputs-elasticsearch-serverless"></a>Logstash to Elasticsearch on serverless<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>You can use this plugin to send your Logstash data to Elasticsearch on serverless.
Some differences to note between Elasticsearch on serverless and self-managed Elasticsearch:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use <span class="strong strong"><strong>API keys</strong></span> to access Elastic Cloud serverless from Logstash.
Any user-based security settings in your <a class="xref" href="plugins-outputs-elasticsearch.html" title="Elasticsearch output plugin">Elasticsearch output plugin</a> configuration are ignored and may cause errors.
</li>
<li class="listitem">
Elasticsearch on serverless uses <span class="strong strong"><strong>data streams</strong></span> and <a href="/guide/en/elasticsearch/reference/8.14/data-stream-lifecycle.html" class="ulink" target="_top">data lifecycle management (DLM)</a> instead of index lifecycle management (ILM).
Any ILM settings in your <a class="xref" href="plugins-outputs-elasticsearch.html" title="Elasticsearch output plugin">Elasticsearch output plugin</a> configuration are ignored and may cause errors.
</li>
<li class="listitem">
<span class="strong strong"><strong>Logstash monitoring</strong></span> is available through the <a href="https://github.com/elastic/integrations/blob/main/packages/logstash/_dev/build/docs/README.md" class="ulink" target="_top">Logstash Integration</a> in <a href="https://docs.elastic.co/serverless/observability/what-is-observability-serverless" class="ulink" target="_top">Elastic Observability</a> on Elastic Cloud serverless.
</li>
</ul>
</div>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Known issue for Logstash to Elasticsearch on serverless</strong></p>
</div></div></div>
<p>The logstash-output-elasticsearch <code class="literal">hosts</code> setting on serverless defaults the port to 9200 when omitted.
Set the value to port :443 instead.</p>
</div>
<p>For more info on sending data from Logstash to Elasticsearch on serverless, check out the <a href="https://docs.elastic.co/serverless/elasticsearch/what-is-elasticsearch-serverless" class="ulink" target="_top">Elasticsearch on serverless docs</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-outputs-elasticsearch-ess"></a>Hosted Elasticsearch Service on Elastic Cloud<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>You can run Elasticsearch on your own hardware or use our hosted Elasticsearch Service that is available on AWS, GCP, and Azure. <a href="/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">Try the Elasticsearch Service for free</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_compatibility_with_the_elastic_common_schema_ecs"></a>Compatibility with the Elastic Common Schema (ECS)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>This plugin will persist events to Elasticsearch in the shape produced by
your pipeline, and <em>cannot</em> be used to re-shape the event structure into a
shape that complies with ECS. To produce events that fully comply with ECS,
you will need to populate ECS-defined fields throughout your pipeline
definition.</p>
<p>However, the Elasticsearch Index Templates it manages can be configured to
be ECS-compatible by setting <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ecs_compatibility" title="ecs_compatibility"><code class="literal">ecs_compatibility</code></a>.
By having an ECS-compatible template in place, we can ensure that Elasticsearch
is prepared to create and index fields in a way that is compatible with ECS,
and will correctly reject events with fields that conflict and cannot be coerced.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-outputs-elasticsearch-data-streams"></a>Data streams<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>The Elasticsearch output plugin can store both time series datasets (such
as logs, events, and metrics) and non-time series data in Elasticsearch.</p>
<p>Use the data stream options for indexing time series datasets (such
as logs, metrics, and events) into Elasticsearch and Elasticsearch on serverless:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream" title="data_stream"><code class="literal">data_stream</code></a>
</li>
<li class="listitem">
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream_auto_routing" title="data_stream_auto_routing"><code class="literal">data_stream_auto_routing</code></a>
</li>
<li class="listitem">
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream_dataset" title="data_stream_dataset"><code class="literal">data_stream_dataset</code></a>
</li>
<li class="listitem">
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream_namespace" title="data_stream_namespace"><code class="literal">data_stream_namespace</code></a>
</li>
<li class="listitem">
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream_sync_fields" title="data_stream_sync_fields"><code class="literal">data_stream_sync_fields</code></a>
</li>
<li class="listitem">
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream_type" title="data_stream_type"><code class="literal">data_stream_type</code></a>
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ecs_compatibility" title="ecs_compatibility">ECS compatibility</a> must be enabled (set to <code class="literal">v1</code> or <code class="literal">v8</code>) for data streams to work properly.</p>
</div>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ds-examples"></a>Data stream configuration examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<p><span class="strong strong"><strong>Example: Basic default configuration</strong></span></p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">output {
    elasticsearch {
        hosts =&gt; "hostname"
        data_stream =&gt; "true"
    }
}</pre>
</div>
<p>This example shows the minimal settings for processing data streams. Events
with <code class="literal">data_stream.*`</code> fields are routed to the appropriate data streams. If the
fields are missing, routing defaults to <code class="literal">logs-generic-default</code>.</p>
<p><span class="strong strong"><strong>Example: Customize data stream name</strong></span></p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">output {
    elasticsearch {
        hosts =&gt; "hostname"
        data_stream =&gt; "true"
        data_stream_type =&gt; "metrics"
        data_stream_dataset =&gt; "foo"
        data_stream_namespace =&gt; "bar"
    }
}</pre>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_writing_to_different_indices_best_practices"></a>Writing to different indices: best practices<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot use dynamic variable substitution when <code class="literal">ilm_enabled</code> is <code class="literal">true</code>
and when using <code class="literal">ilm_rollover_alias</code>.</p>
</div>
</div>
<p>If you&#8217;re sending events to the same Elasticsearch cluster, but you&#8217;re targeting different indices you can:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
use different Elasticsearch outputs, each one with a different value for the <code class="literal">index</code> parameter
</li>
<li class="listitem">
use one Elasticsearch output and use the dynamic variable substitution for the <code class="literal">index</code> parameter
</li>
</ul>
</div>
<p>Each Elasticsearch output is a new client connected to the cluster:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
it has to initialize the client and connect to Elasticsearch (restart time is longer if you have more clients)
</li>
<li class="listitem">
it has an associated connection pool
</li>
</ul>
</div>
<p>In order to minimize the number of open connections to Elasticsearch, maximize
the bulk size and reduce the number of "small" bulk requests (which could easily
fill up the queue), it is usually more efficient to have a single Elasticsearch
output.</p>
<p>Example:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">    output {
      elasticsearch {
        index =&gt; "%{[some_field][sub_field]}-%{+YYYY.MM.dd}"
      }
    }</pre>
</div>
<p><span class="strong strong"><strong>What to do in case there is no field in the event containing the destination index prefix?</strong></span></p>
<p>You can use the <code class="literal">mutate</code> filter and conditionals to add a
<a href="/guide/en/logstash/8.14/event-dependent-configuration.html#metadata" class="ulink" target="_top"><code class="literal">[@metadata]</code> field</a>
to set the destination index for each event. The <code class="literal">[@metadata]</code> fields will not
be sent to Elasticsearch.</p>
<p>Example:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">    filter {
      if [log_type] in [ "test", "staging" ] {
        mutate { add_field =&gt; { "[@metadata][target_index]" =&gt; "test-%{+YYYY.MM}" } }
      } else if [log_type] == "production" {
        mutate { add_field =&gt; { "[@metadata][target_index]" =&gt; "prod-%{+YYYY.MM.dd}" } }
      } else {
        mutate { add_field =&gt; { "[@metadata][target_index]" =&gt; "unknown-%{+YYYY}" } }
      }
    }
    output {
      elasticsearch {
        index =&gt; "%{[@metadata][target_index]}"
      }
    }</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_retry_policy"></a>Retry Policy<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>The retry policy has changed significantly in the 8.1.1 release.
This plugin uses the Elasticsearch bulk API to optimize its imports into Elasticsearch. These requests may experience
either partial or total failures. The bulk API sends batches of requests to an HTTP endpoint. Error codes for the HTTP
request are handled differently than error codes for individual documents.</p>
<p>HTTP requests to the bulk API are expected to return a 200 response code. All other response codes are retried indefinitely.</p>
<p>The following document errors are handled as follows:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
400 and 404 errors are sent to the dead letter queue (DLQ), if enabled. If a DLQ is not enabled, a log message will be emitted, and the event will be dropped. See <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-dlq-policy" title="DLQ Policy">DLQ Policy</a> for more info.
</li>
<li class="listitem">
409 errors (conflict) are logged as a warning and dropped.
</li>
</ul>
</div>
<p>Note that 409 exceptions are no longer retried. Please set a higher <code class="literal">retry_on_conflict</code> value if you experience 409 exceptions.
It is more performant for Elasticsearch to retry these exceptions than this plugin.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-outputs-elasticsearch-dlq-policy"></a>DLQ Policy<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>Mapping (404) errors from Elasticsearch can lead to data loss. Unfortunately
mapping errors cannot be handled without human intervention and without looking
at the field that caused the mapping mismatch. If the DLQ is enabled, the
original events causing the mapping errors are stored in a file that can be
processed at a later time. Often times, the offending field can be removed and
re-indexed to Elasticsearch. If the DLQ is not enabled, and a mapping error
happens, the problem is logged as a warning, and the event is dropped. See
<a class="xref" href="dead-letter-queues.html" title="Dead letter queues (DLQ)">Dead letter queues (DLQ)</a> for more information about processing events in the DLQ.
The list of error codes accepted for DLQ could be customized with <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-dlq_custom_codes" title="dlq_custom_codes"><code class="literal">dlq_custom_codes</code></a>
but should be used only in motivated cases.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-outputs-elasticsearch-ilm"></a>Index lifecycle management (ILM)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The Index lifecycle management (ILM) feature does not apply for Elasticsearch on serverless.
Any ILM settings in your plugin configuration are ignored and may cause errors.
</li>
<li class="listitem">
The ILM feature requires plugin version <code class="literal">9.3.1</code> or higher.
</li>
<li class="listitem">
This feature requires an Elasticsearch instance of 6.6.0 or higher with at least a Basic license
</li>
</ul>
</div>
</div>
</div>
<p>Logstash can use <a href="/guide/en/elasticsearch/reference/8.14/index-lifecycle-management.html" class="ulink" target="_top">index lifecycle management</a> to automate the management of indices over time.</p>
<p>The use of index lifecycle management is controlled by the <code class="literal">ilm_enabled</code>
setting. By default, this setting detects whether the Elasticsearch instance
supports ILM, and uses it if it is available. <code class="literal">ilm_enabled</code> can also be set to
<code class="literal">true</code> or <code class="literal">false</code> to override the automatic detection, or disable ILM.</p>
<p>This will overwrite the index settings and adjust the Logstash template to write
the necessary settings for the template to support index lifecycle management,
including the index policy and rollover alias to be used.</p>
<p>Logstash creates a rollover alias for the indices to be written to,
including a pattern for how the actual indices will be named, and unless an ILM
policy that already exists has been specified, a default policy will also be
created. The default policy is configured to rollover an index when it reaches
either 50 gigabytes in size, or is 30 days old, whichever happens first.</p>
<p>The default rollover alias is called <code class="literal">logstash</code>, with a default pattern for the
rollover index of <code class="literal">{now/d}-00001</code>, which will name indices on the date that the
index is rolled over, followed by an incrementing number. Note that the pattern
must end with a dash and a number that will be incremented.</p>
<p>See the <a href="/guide/en/elasticsearch/reference/8.14/indices-rollover-index.html#_using_date_math_with_the_rollover_api" class="ulink" target="_top">Rollover
API documentation</a> for more details on naming.</p>
<p>The rollover alias, ilm pattern and policy can be modified.</p>
<p>See config below for an example:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">    output {
      elasticsearch {
        ilm_rollover_alias =&gt; "custom"
        ilm_pattern =&gt; "000001"
        ilm_policy =&gt; "custom_policy"
      }
    }</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Custom ILM policies must already exist on the Elasticsearch cluster before they can be used.
</li>
<li class="listitem">
If the rollover alias or pattern is modified, the index template will need to be
overwritten as the settings <code class="literal">index.lifecycle.name</code> and
<code class="literal">index.lifecycle.rollover_alias</code> are automatically written to the template
</li>
<li class="listitem">
If the index property is supplied in the output definition, it will be overwritten by the rollover alias.
</li>
</ul>
</div>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_batch_sizes"></a>Batch Sizes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>This plugin attempts to send batches of events to the <a href="/guide/en/elasticsearch/reference/8.14/docs-bulk.html" class="ulink" target="_top">Elasticsearch
Bulk API</a> as a single request. However, if a batch exceeds 20MB we break it up
into multiple bulk requests. If a single document exceeds 20MB it is sent as a
single request.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_dns_caching"></a>DNS Caching<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>This plugin uses the JVM to lookup DNS entries and is subject to the value of
<a href="https://docs.oracle.com/javase/7/docs/technotes/guides/net/properties.html" class="ulink" target="_top">networkaddress.cache.ttl</a>,
a global setting for the JVM.</p>
<p>As an example, to set your DNS TTL to 1 second you would set
the <code class="literal">LS_JAVA_OPTS</code> environment variable to <code class="literal">-Dnetworkaddress.cache.ttl=1</code>.</p>
<p>Keep in mind that a connection with keepalive enabled will
not reevaluate its DNS value while the keepalive is in effect.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_http_compression"></a>HTTP Compression<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>This plugin always reads compressed responses from Elasticsearch.
By default, it sends compressed bulk requests to Elasticsearch.</p>
<p>If you are concerned about bandwidth, you can set a higher <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-compression_level" title="compression_level"><code class="literal">compression_level</code></a> to trade CPU capacity for a reduction in network IO.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_authentication_2"></a>Authentication<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>Authentication to a secure Elasticsearch cluster is possible using one of the
<code class="literal">user</code>/<code class="literal">password</code>, <code class="literal">cloud_auth</code> or <code class="literal">api_key</code> options.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-outputs-elasticsearch-autz"></a>Authorization<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>Authorization to a secure Elasticsearch cluster requires <code class="literal">read</code> permission at
index level and <code class="literal">monitoring</code> permissions at cluster level. The <code class="literal">monitoring</code>
permission at cluster level is necessary to perform periodic connectivity
checks.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-outputs-elasticsearch-handling-non-utf-8"></a>Handling non UTF-8 data<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>This plugin transmits events to Elasticsearch using a JSON API, and therefore requires that all string values in events to be valid UTF-8.
When a string value on an event contains one or more byte sequences that are not valid in UTF-8, each offending byte sequence is replaced with the UTF-8 replacement character (<code class="literal">\uFFFD</code>).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-outputs-elasticsearch-options"></a>Elasticsearch Output Configuration Options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>This plugin supports the following configuration options plus the
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-common-options" title="Common Options">Common Options</a> and the <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-deprecated-options" title="Elasticsearch Output Deprecated Configuration Options">Elasticsearch Output Deprecated Configuration Options</a> described later.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Setting</th>
<th align="left" valign="top">Input type</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-action" title="action"><code class="literal">action</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-api_key" title="api_key"><code class="literal">api_key</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#password" title="Password">password</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-bulk_path" title="bulk_path"><code class="literal">bulk_path</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ca_trusted_fingerprint" title="ca_trusted_fingerprint"><code class="literal">ca_trusted_fingerprint</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-cloud_auth" title="cloud_auth"><code class="literal">cloud_auth</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#password" title="Password">password</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-cloud_id" title="cloud_id"><code class="literal">cloud_id</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-compression_level" title="compression_level"><code class="literal">compression_level</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>, one of <code class="literal">[0 ~ 9]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-custom_headers" title="custom_headers"><code class="literal">custom_headers</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream" title="data_stream"><code class="literal">data_stream</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["true", "false", "auto"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream_auto_routing" title="data_stream_auto_routing"><code class="literal">data_stream_auto_routing</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream_dataset" title="data_stream_dataset"><code class="literal">data_stream_dataset</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream_namespace" title="data_stream_namespace"><code class="literal">data_stream_namespace</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream_sync_fields" title="data_stream_sync_fields"><code class="literal">data_stream_sync_fields</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-data_stream_type" title="data_stream_type"><code class="literal">data_stream_type</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-dlq_custom_codes" title="dlq_custom_codes"><code class="literal">dlq_custom_codes</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-dlq_on_failed_indexname_interpolation" title="dlq_on_failed_indexname_interpolation"><code class="literal">dlq_on_failed_indexname_interpolation</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-doc_as_upsert" title="doc_as_upsert"><code class="literal">doc_as_upsert</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-document_id" title="document_id"><code class="literal">document_id</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-document_type" title="document_type"><code class="literal">document_type</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ecs_compatibility" title="ecs_compatibility"><code class="literal">ecs_compatibility</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-failure_type_logging_whitelist" title="failure_type_logging_whitelist"><code class="literal">failure_type_logging_whitelist</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#array" title="Array">array</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-healthcheck_path" title="healthcheck_path"><code class="literal">healthcheck_path</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-hosts" title="hosts"><code class="literal">hosts</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#uri" title="URI">uri</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-http_compression" title="http_compression"><code class="literal">http_compression</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ilm_enabled" title="ilm_enabled"><code class="literal">ilm_enabled</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["true", "false", "auto"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ilm_pattern" title="ilm_pattern"><code class="literal">ilm_pattern</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ilm_policy" title="ilm_policy"><code class="literal">ilm_policy</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ilm_rollover_alias" title="ilm_rollover_alias"><code class="literal">ilm_rollover_alias</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-index" title="index"><code class="literal">index</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-silence_errors_in_log" title="silence_errors_in_log"><code class="literal">silence_errors_in_log</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#array" title="Array">array</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-manage_template" title="manage_template"><code class="literal">manage_template</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-parameters" title="parameters"><code class="literal">parameters</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-parent" title="parent"><code class="literal">parent</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-password" title="password"><code class="literal">password</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#password" title="Password">password</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-path" title="path"><code class="literal">path</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-pipeline" title="pipeline"><code class="literal">pipeline</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-pool_max" title="pool_max"><code class="literal">pool_max</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-pool_max_per_route" title="pool_max_per_route"><code class="literal">pool_max_per_route</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-proxy" title="proxy"><code class="literal">proxy</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#uri" title="URI">uri</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-resurrect_delay" title="resurrect_delay"><code class="literal">resurrect_delay</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-retry_initial_interval" title="retry_initial_interval"><code class="literal">retry_initial_interval</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-retry_max_interval" title="retry_max_interval"><code class="literal">retry_max_interval</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-retry_on_conflict" title="retry_on_conflict"><code class="literal">retry_on_conflict</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-routing" title="routing"><code class="literal">routing</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-script" title="script"><code class="literal">script</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-script_lang" title="script_lang"><code class="literal">script_lang</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-script_type" title="script_type"><code class="literal">script_type</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["inline", "indexed", "file"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-script_var_name" title="script_var_name"><code class="literal">script_var_name</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-scripted_upsert" title="scripted_upsert"><code class="literal">scripted_upsert</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-sniffing" title="sniffing"><code class="literal">sniffing</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-sniffing_delay" title="sniffing_delay"><code class="literal">sniffing_delay</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-sniffing_path" title="sniffing_path"><code class="literal">sniffing_path</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_certificate" title="ssl_certificate"><code class="literal">ssl_certificate</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#path" title="Path">path</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_certificate_authorities" title="ssl_certificate_authorities"><code class="literal">ssl_certificate_authorities</code></a></p></td>
<td align="left" valign="top"><p>list of <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_cipher_suites" title="ssl_cipher_suites"><code class="literal">ssl_cipher_suites</code></a></p></td>
<td align="left" valign="top"><p>list of <a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_enabled" title="ssl_enabled"><code class="literal">ssl_enabled</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_key" title="ssl_key"><code class="literal">ssl_key</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#path" title="Path">path</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_keystore_password" title="ssl_keystore_password"><code class="literal">ssl_keystore_password</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#password" title="Password">password</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_keystore_path" title="ssl_keystore_path"><code class="literal">ssl_keystore_path</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#path" title="Path">path</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_keystore_type" title="ssl_keystore_type"><code class="literal">ssl_keystore_type</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_supported_protocols" title="ssl_supported_protocols"><code class="literal">ssl_supported_protocols</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_truststore_password" title="ssl_truststore_password"><code class="literal">ssl_truststore_password</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#password" title="Password">password</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_truststore_path" title="ssl_truststore_path"><code class="literal">ssl_truststore_path</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#path" title="Path">path</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_truststore_type" title="ssl_truststore_type"><code class="literal">ssl_truststore_type</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_verification_mode" title="ssl_verification_mode"><code class="literal">ssl_verification_mode</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["full", "none"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-template" title="template"><code class="literal">template</code></a></p></td>
<td align="left" valign="top"><p>a valid filesystem path</p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-template_api" title="template_api"><code class="literal">template_api</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["auto", "legacy", "composable"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-template_name" title="template_name"><code class="literal">template_name</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-template_overwrite" title="template_overwrite"><code class="literal">template_overwrite</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-timeout" title="timeout"><code class="literal">timeout</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-upsert" title="upsert"><code class="literal">upsert</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-user" title="user"><code class="literal">user</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-validate_after_inactivity" title="validate_after_inactivity"><code class="literal">validate_after_inactivity</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#number" title="Number">number</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-version" title="version"><code class="literal">version</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-version_type" title="version_type"><code class="literal">version_type</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, one of <code class="literal">["internal", "external", "external_gt", "external_gte", "force"]</code></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
</tbody>
</table>
</div>
<p>Also see <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-common-options" title="Common Options">Common Options</a> for a list of options supported by all
output plugins.</p>
<p>&nbsp;</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-action"></a><code class="literal">action</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">create</code> for data streams, and <code class="literal">index</code> for non-time series data.
</li>
</ul>
</div>
<p>The Elasticsearch action to perform. Valid actions are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">index</code>: indexes a document (an event from Logstash).
</li>
<li class="listitem">
<code class="literal">delete</code>: deletes a document by id (An id is required for this action)
</li>
<li class="listitem">
<code class="literal">create</code>: indexes a document, fails if a document by that id already exists in the index.
</li>
<li class="listitem">
<code class="literal">update</code>: updates a document by id. Update has a special case where you can upsert&#8201;&#8212;&#8201;update a
document if not already present. See the <code class="literal">doc_as_upsert</code> option. NOTE: This does not work and is not supported
in Elasticsearch 1.x. Please upgrade to ES 2.x or greater to use this feature with Logstash!
</li>
<li class="listitem">
A sprintf style string to change the action based on the content of the event. The value <code class="literal">%{[foo]}</code>
would use the foo field for the action.
If resolved action is not in [<code class="literal">index</code>, <code class="literal">delete</code>, <code class="literal">create</code>, <code class="literal">update</code>], the event will not be sent to Elasticsearch.
Instead the event will be sent to the pipeline&#8217;s <a href="/guide/en/logstash/8.14/dead-letter-queues.html" class="ulink" target="_top">dead-letter-queue (DLQ)</a> (if enabled), or it will be logged and dropped.
</li>
</ul>
</div>
<p>For more details on actions, check out the <a href="/guide/en/elasticsearch/reference/8.14/docs-bulk.html" class="ulink" target="_top">Elasticsearch bulk API documentation</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-api_key"></a><code class="literal">api_key</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#password" title="Password">password</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Authenticate using Elasticsearch API key.
Note that this option also requires SSL/TLS, which can be enabled by supplying a <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-cloud_id" title="cloud_id"><code class="literal">cloud_id</code></a>, a list of HTTPS <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-hosts" title="hosts"><code class="literal">hosts</code></a>, or by setting <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl" title="ssl"><code class="literal">ssl_enabled =&gt; true</code></a>.</p>
<p>Format is <code class="literal">id:api_key</code> where <code class="literal">id</code> and <code class="literal">api_key</code> are as returned by the
Elasticsearch <a href="/guide/en/elasticsearch/reference/8.14/security-api-create-api-key.html" class="ulink" target="_top">Create API key API</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-bulk_path"></a><code class="literal">bulk_path</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
The default value for this settings is <code class="literal">/_bulk?filter_path=errors,items.*.error,items.*.status</code>
</li>
</ul>
</div>
<p>HTTP Path to perform the _bulk requests to
* This default bulk path is the concatenation of the value of <code class="literal">path</code> parameter and <code class="literal">/_bulk?filter_path=errors,items.*.error,items.*.status</code>
* The <code class="literal">filter_path</code> query parameter is appended to the bulk path to reduce the payload between logstash and elasticsearch. However, if a custom <code class="literal">filter_path</code> query parameter is included in the <code class="literal">bulk_path</code> setting, then that value will be used.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ca_trusted_fingerprint"></a><code class="literal">ca_trusted_fingerprint</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>, and must contain exactly 64 hexadecimal characters.
</li>
<li class="listitem">
There is no default value for this setting.
</li>
<li class="listitem">
Use of this option <em>requires</em> Logstash 8.3+
</li>
</ul>
</div>
<p>The SHA-256 fingerprint of an SSL Certificate Authority to trust, such as the autogenerated self-signed CA for an Elasticsearch cluster.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-cloud_auth"></a><code class="literal">cloud_auth</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#password" title="Password">password</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Cloud authentication string ("&lt;username&gt;:&lt;password&gt;" format) is an alternative
for the <code class="literal">user</code>/<code class="literal">password</code> pair.</p>
<p>For more details, check out the
<a href="/guide/en/logstash/8.14/connecting-to-cloud.html" class="ulink" target="_top">Logstash-to-Cloud documentation</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-cloud_id"></a><code class="literal">cloud_id</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Cloud ID, from the Elastic Cloud web console. If set <code class="literal">hosts</code> should not be used.</p>
<p>For more details, check out the
<a href="/guide/en/logstash/8.14/connecting-to-cloud.html" class="ulink" target="_top">Logstash-to-Cloud documentation</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-compression_level"></a><code class="literal">compression_level</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">0</code>, <code class="literal">1</code>, <code class="literal">2</code>, <code class="literal">3</code>, <code class="literal">4</code>, <code class="literal">5</code>, <code class="literal">6</code>, <code class="literal">7</code>, <code class="literal">8</code>, <code class="literal">9</code>
</li>
<li class="listitem">
Default value is <code class="literal">1</code>
</li>
</ul>
</div>
<p>The gzip compression level. Setting this value to <code class="literal">0</code> disables compression.
The compression level must be in the range of <code class="literal">1</code> (best speed) to <code class="literal">9</code> (best compression).</p>
<p>Increasing the compression level will reduce the network usage but will increase the CPU usage.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-data_stream"></a><code class="literal">data_stream</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">true</code>, <code class="literal">false</code> and <code class="literal">auto</code>
</li>
<li class="listitem">
Default is <code class="literal">false</code> in Logstash 7.x and <code class="literal">auto</code> starting in Logstash 8.0.
</li>
</ul>
</div>
<p>Defines whether data will be indexed into an Elasticsearch data stream.
The other <code class="literal">data_stream_*</code> settings will be used only if this setting is enabled.</p>
<p>Logstash handles the output as a data stream when the supplied configuration
is compatible with data streams and this value is set to <code class="literal">auto</code>.
Note that <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ecs_compatibility" title="ecs_compatibility">ECS compatibility</a> must be enabled (set to <code class="literal">v1</code> or <code class="literal">v8</code>) for data streams to work properly.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-data_stream_auto_routing"></a><code class="literal">data_stream_auto_routing</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>.
</li>
</ul>
</div>
<p>Automatically routes events by deriving the data stream name using specific event
fields with the <code class="literal">%{[data_stream][type]}-%{[data_stream][dataset]}-%{[data_stream][namespace]}</code> format.</p>
<p>If enabled, the <code class="literal">data_stream.*</code> event fields will take precedence over the
<code class="literal">data_stream_type</code>, <code class="literal">data_stream_dataset</code>, and <code class="literal">data_stream_namespace</code> settings,
but will fall back to them if any of the fields are missing from the event.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-data_stream_dataset"></a><code class="literal">data_stream_dataset</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">generic</code>.
</li>
</ul>
</div>
<p>The data stream dataset used to construct the data stream at index time.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-data_stream_namespace"></a><code class="literal">data_stream_namespace</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">default</code>.
</li>
</ul>
</div>
<p>The data stream namespace used to construct the data stream at index time.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-data_stream_sync_fields"></a><code class="literal">data_stream_sync_fields</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>
</li>
</ul>
</div>
<p>Automatically adds and syncs the <code class="literal">data_stream.*</code> event fields if they are missing from the
event. This ensures that fields match the name of the data stream that is receiving events.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If existing <code class="literal">data_stream.*</code> event fields do not match the data stream name
and <code class="literal">data_stream_auto_routing</code> is disabled, the event fields will be
overwritten with a warning.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-data_stream_type"></a><code class="literal">data_stream_type</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">logs</code>.
</li>
</ul>
</div>
<p>The data stream type used to construct the data stream at index time.
Currently, only <code class="literal">logs</code>, <code class="literal">metrics</code>, <code class="literal">synthetics</code> and <code class="literal">traces</code> are supported.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-dlq_custom_codes"></a><code class="literal">dlq_custom_codes</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">[]</code>.
</li>
</ul>
</div>
<p>List single-action error codes from Elasticsearch&#8217;s Bulk API that are considered valid to move the events into the dead letter queue.
This list is an addition to the ordinary error codes considered for this feature, 400 and 404.
It&#8217;s considered a configuration error to re-use the same predefined codes for success, DLQ or conflict.
The option accepts a list of natural numbers corresponding to HTTP errors codes.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-dlq_on_failed_indexname_interpolation"></a><code class="literal">dlq_on_failed_indexname_interpolation</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>.
</li>
</ul>
</div>
<p>If enabled, failed index name interpolation events go into dead letter queue.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-doc_as_upsert"></a><code class="literal">doc_as_upsert</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>Enable <code class="literal">doc_as_upsert</code> for update mode.
Create a new document with source if <code class="literal">document_id</code> doesn&#8217;t exist in Elasticsearch.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-document_id"></a><code class="literal">document_id</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The document ID for the index. Useful for overwriting existing entries in
Elasticsearch with the same ID.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-document_type"></a><code class="literal">document_type</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
<li class="listitem">
This option is deprecated
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This option is deprecated due to the
<a href="/guide/en/elasticsearch/reference/6.0/removal-of-types.html" class="ulink" target="_top">removal
of types in Elasticsearch 6.0</a>. It will be removed in the next major version of
Logstash.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This value is ignored and has no effect for Elasticsearch clusters <code class="literal">8.x</code>.</p>
</div>
</div>
<p>This sets the document type to write events to. Generally you should try to write only
similar events to the same <em>type</em>. String expansion <code class="literal">%{foo}</code> works here.
If you don&#8217;t set a value for this option:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
for elasticsearch clusters 8.x: no value will be used;
</li>
<li class="listitem">
for elasticsearch clusters 7.x: the value of <em>_doc</em> will be used;
</li>
<li class="listitem">
for elasticsearch clusters 6.x: the value of <em>doc</em> will be used;
</li>
<li class="listitem">
for elasticsearch clusters 5.x and below: the event&#8217;s <em>type</em> field will be used, if the field is not present the value of <em>doc</em> will be used.
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ecs_compatibility"></a><code class="literal">ecs_compatibility</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
<p>Supported values are:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">disabled</code>: does not provide ECS-compatible templates
</li>
<li class="listitem">
<code class="literal">v1</code>,<code class="literal">v8</code>: Elastic Common Schema-compliant behavior
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Default value depends on which version of Logstash is running:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
When Logstash provides a <code class="literal">pipeline.ecs_compatibility</code> setting, its value is used as the default
</li>
<li class="listitem">
Otherwise, the default value is <code class="literal">disabled</code>.
</li>
</ul>
</div>
</li>
</ul>
</div>
<p>Controls this plugin&#8217;s compatibility with the <a href="/guide/en/ecs/8.11" class="ulink" target="_top">Elastic Common Schema
(ECS)</a>, including the installation of ECS-compatible index templates. The value
of this setting affects the <em>default</em> values of:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-index" title="index"><code class="literal">index</code></a>
</li>
<li class="listitem">
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-template_name" title="template_name"><code class="literal">template_name</code></a>
</li>
<li class="listitem">
<a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ilm_rollover_alias" title="ilm_rollover_alias"><code class="literal">ilm_rollover_alias</code></a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-failure_type_logging_whitelist"></a><code class="literal">failure_type_logging_whitelist</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#array" title="Array">array</a>
</li>
<li class="listitem">
Default value is <code class="literal">[]</code>
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Deprecated, refer to <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-silence_errors_in_log" title="silence_errors_in_log"><code class="literal">silence_errors_in_log</code></a>.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-custom_headers"></a><code class="literal">custom_headers</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Pass a set of key value pairs as the headers sent in each request to
an elasticsearch node. The headers will be used for any kind of request
(_bulk request, template installation, health checks and sniffing).
These custom headers will be overidden by settings like <code class="literal">compression_level</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-healthcheck_path"></a><code class="literal">healthcheck_path</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>HTTP Path where a HEAD request is sent when a backend is marked down
the request is sent in the background to see if it has come back again
before it is once again eligible to service requests.
If you have custom firewall rules you may need to change this</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-hosts"></a><code class="literal">hosts</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#uri" title="URI">uri</a>
</li>
<li class="listitem">
Default value is <code class="literal">[//127.0.0.1]</code>
</li>
</ul>
</div>
<p>Sets the host(s) of the remote instance. If given an array it will load balance
requests across the hosts specified in the <code class="literal">hosts</code> parameter. Remember the
<code class="literal">http</code> protocol uses the <a href="/guide/en/elasticsearch/reference/8.14/modules-http.html#modules-http" class="ulink" target="_top">http</a> address (eg.
9200, not 9300).</p>
<p>Examples:</p>
<pre class="literallayout">`"127.0.0.1"`
`["127.0.0.1:9200","127.0.0.2:9200"]`
`["http://127.0.0.1"]`
`["https://127.0.0.1:9200"]`
`["https://127.0.0.1:9200/mypath"]` (If using a proxy on a subpath)</pre>

<p>Exclude <a href="/guide/en/elasticsearch/reference/8.14/modules-node.html" class="ulink" target="_top">dedicated master nodes</a> from the <code class="literal">hosts</code> list to
prevent Logstash from sending bulk requests to the master nodes. This parameter
should reference only data or client nodes in Elasticsearch.</p>
<p>Any special characters present in the URLs here MUST be URL escaped! This means
<code class="literal">#</code> should be put in as <code class="literal">%23</code> for instance.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-http_compression"></a><code class="literal">http_compression</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 11.17.0.</h3>
<p>Replaced by <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-compression_level" title="compression_level"><code class="literal">compression_level</code></a></p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>Setting <code class="literal">true</code> enables gzip compression level 1 on requests.</p>
<p>This setting allows you to reduce this plugin&#8217;s outbound network traffic by
compressing each bulk <em>request</em> to Elasticsearch.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This output plugin reads compressed <em>responses</em> from Elasticsearch regardless
      of the value of this setting.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ilm_enabled"></a><code class="literal">ilm_enabled</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">true</code>, <code class="literal">false</code>, <code class="literal">auto</code>
</li>
<li class="listitem">
Default value is <code class="literal">auto</code>
</li>
</ul>
</div>
<p>The default setting of <code class="literal">auto</code> will automatically enable
<a href="/guide/en/elasticsearch/reference/8.14/index-lifecycle-management.html" class="ulink" target="_top">Index Lifecycle Management</a>, if the
Elasticsearch cluster is running Elasticsearch version <code class="literal">7.0.0</code> or higher with
the ILM feature enabled, and disable it otherwise.</p>
<p>Setting this flag to <code class="literal">false</code> will disable the Index Lifecycle Management
feature, even if the Elasticsearch cluster supports ILM.
Setting this flag to <code class="literal">true</code> will enable Index Lifecycle Management feature, if
the Elasticsearch cluster supports it. This is required to enable Index
Lifecycle Management on a version of Elasticsearch earlier than version <code class="literal">7.0.0</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature requires a Basic License or above to be installed on an
Elasticsearch cluster version 6.6.0 or later.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ilm_pattern"></a><code class="literal">ilm_pattern</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">{now/d}-000001</code>
</li>
</ul>
</div>
<p>Pattern used for generating indices managed by
<a href="/guide/en/elasticsearch/reference/8.14/index-lifecycle-management.html" class="ulink" target="_top">Index Lifecycle Management</a>. The value
specified in the pattern will be appended to the write alias, and incremented
automatically when a new index is created by ILM.</p>
<p>Date Math can be used when specifying an ilm pattern, see
<a href="/guide/en/elasticsearch/reference/8.14/indices-rollover-index.html#_using_date_math_with_the_rollover_api" class="ulink" target="_top">Rollover
API docs</a> for details.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Updating the pattern will require the index template to be rewritten.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The pattern must finish with a dash and a number that will be automatically
incremented when indices rollover.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The pattern is a 6-digit string padded by zeros, regardless of prior index name.
Example: 000001. See
<a href="/guide/en/elasticsearch/reference/8.14/indices-rollover-index.html#rollover-index-api-path-params" class="ulink" target="_top">Rollover path
parameters API docs</a> for details.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ilm_policy"></a><code class="literal">ilm_policy</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">logstash-policy</code>
</li>
</ul>
</div>
<p>Modify this setting to use a custom Index Lifecycle Management policy, rather
than the default. If this value is not set, the default policy will be
automatically installed into Elasticsearch</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If this setting is specified, the policy must already exist in Elasticsearch
cluster.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ilm_rollover_alias"></a><code class="literal">ilm_rollover_alias</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
<p>Default value depends on whether <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ecs_compatibility" title="ecs_compatibility"><code class="literal">ecs_compatibility</code></a> is enabled:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ECS Compatibility disabled: <code class="literal">logstash</code>
</li>
<li class="listitem">
ECS Compatibility enabled: <code class="literal">ecs-logstash</code>
</li>
</ul>
</div>
</li>
</ul>
</div>
<p>The rollover alias is the alias where indices managed using Index Lifecycle
Management will be written to.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If both <code class="literal">index</code> and <code class="literal">ilm_rollover_alias</code> are specified,
<code class="literal">ilm_rollover_alias</code> takes precedence.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Updating the rollover alias will require the index template to be
rewritten.</p>
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p><code class="literal">ilm_rollover_alias</code> does NOT support dynamic variable substitution as
<code class="literal">index</code> does.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-index"></a><code class="literal">index</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
<p>Default value depends on whether <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ecs_compatibility" title="ecs_compatibility"><code class="literal">ecs_compatibility</code></a> is enabled:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ECS Compatibility disabled: <code class="literal">"logstash-%{+yyyy.MM.dd}"</code>
</li>
<li class="listitem">
ECS Compatibility enabled: <code class="literal">"ecs-logstash-%{+yyyy.MM.dd}"</code>
</li>
</ul>
</div>
</li>
</ul>
</div>
<p>The indexing target to write events to.
Can point to an <a href="/guide/en/elasticsearch/reference/8.14/index-mgmt.html" class="ulink" target="_top">index</a>, <a href="/guide/en/elasticsearch/reference/8.14/aliases.html" class="ulink" target="_top">alias</a>, or <a href="/guide/en/elasticsearch/reference/8.14/data-streams.html" class="ulink" target="_top">data stream</a>.
This can be dynamic using the <code class="literal">%{foo}</code> syntax.
The default value will partition your indices by day so you can more easily
delete old data or only search specific date ranges.
Indexes may not contain uppercase characters.
For weekly indexes ISO 8601 format is recommended, eg. logstash-%{+xxxx.ww}.
Logstash uses
<a href="http://www.joda.org/joda-time/apidocs/org/joda/time/format/DateTimeFormat.html" class="ulink" target="_top">Joda
formats</a> and the <code class="literal">@timestamp</code> field of each event is being used as source for the date.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-manage_template"></a><code class="literal">manage_template</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code> for non-time series data, and <code class="literal">false</code> for data streams.
</li>
</ul>
</div>
<p>From Logstash 1.3 onwards, a template is applied to Elasticsearch during
Logstash&#8217;s startup if one with the name <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-template_name" title="template_name"><code class="literal">template_name</code></a>
does not already exist.
By default, the contents of this template is the default template for
<code class="literal">logstash-%{+YYYY.MM.dd}</code> which always matches indices based on the pattern
<code class="literal">logstash-*</code>.  Should you require support for other index names, or would like
to change the mappings in the template in general, a custom template can be
specified by setting <code class="literal">template</code> to the path of a template file.</p>
<p>Setting <code class="literal">manage_template</code> to false disables this feature.  If you require more
control over template creation, (e.g. creating indices dynamically based on
field names) you should set <code class="literal">manage_template</code> to false and use the REST
API to apply your templates manually.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-parameters"></a><code class="literal">parameters</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#hash" title="Hash">hash</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Pass a set of key value pairs as the URL query string. This query string is added
to every host listed in the <em>hosts</em> configuration. If the <em>hosts</em> list contains
urls that already have query strings, the one specified here will be appended.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-parent"></a><code class="literal">parent</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">nil</code>
</li>
</ul>
</div>
<p>For child documents, ID of the associated parent.
This can be dynamic using the <code class="literal">%{foo}</code> syntax.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-password"></a><code class="literal">password</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#password" title="Password">password</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Password to authenticate to a secure Elasticsearch cluster</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-path"></a><code class="literal">path</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>HTTP Path at which the Elasticsearch server lives. Use this if you must run
Elasticsearch behind a proxy that remaps the root path for the Elasticsearch
HTTP API lives.
Note that if you use paths as components of URLs in the <em>hosts</em> field you may
not also set this field. That will raise an error at startup</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-pipeline"></a><code class="literal">pipeline</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value.
</li>
</ul>
</div>
<p>Set which ingest pipeline you wish to execute for an event. You can also use
event dependent configuration here like <code class="literal">pipeline =&gt; "%{[@metadata][pipeline]}"</code>.
The pipeline parameter won&#8217;t be set if the value resolves to empty string ("").</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-pool_max"></a><code class="literal">pool_max</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">1000</code>
</li>
</ul>
</div>
<p>While the output tries to reuse connections efficiently we have a maximum.
This sets the maximum number of open connections the output will create.
Setting this too low may mean frequently closing / opening connections
which is bad.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-pool_max_per_route"></a><code class="literal">pool_max_per_route</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">100</code>
</li>
</ul>
</div>
<p>While the output tries to reuse connections efficiently we have a maximum per endpoint.
This sets the maximum number of open connections per endpoint the output will create.
Setting this too low may mean frequently closing / opening connections
which is bad.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-proxy"></a><code class="literal">proxy</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#uri" title="URI">uri</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Set the address of a forward HTTP proxy.
This setting accepts only URI arguments to prevent leaking credentials.
An empty string is treated as if proxy was not set. This is useful when using
environment variables e.g. <code class="literal">proxy =&gt; '${LS_PROXY:}'</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-resurrect_delay"></a><code class="literal">resurrect_delay</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">5</code>
</li>
</ul>
</div>
<p>How frequently, in seconds, to wait between resurrection attempts.
Resurrection is the process by which backend endpoints marked <em>down</em> are checked
to see if they have come back to life</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-retry_initial_interval"></a><code class="literal">retry_initial_interval</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">2</code>
</li>
</ul>
</div>
<p>Set initial interval in seconds between bulk retries. Doubled on each retry up
to <code class="literal">retry_max_interval</code></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-retry_max_interval"></a><code class="literal">retry_max_interval</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">64</code>
</li>
</ul>
</div>
<p>Set max interval in seconds between bulk retries.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-retry_on_conflict"></a><code class="literal">retry_on_conflict</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">1</code>
</li>
</ul>
</div>
<p>The number of times Elasticsearch should internally retry an update/upserted document.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-routing"></a><code class="literal">routing</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>A routing override to be applied to all processed events.
This can be dynamic using the <code class="literal">%{foo}</code> syntax.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-script"></a><code class="literal">script</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">""</code>
</li>
</ul>
</div>
<p>Set script name for scripted update mode</p>
<p>Example:</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">    output {
      elasticsearch {
        script =&gt; "ctx._source.message = params.event.get('message')"
      }
    }</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-script_lang"></a><code class="literal">script_lang</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">"painless"</code>
</li>
</ul>
</div>
<p>Set the language of the used script.
When using indexed (stored) scripts on Elasticsearch 6.0 and higher, you must set
this parameter to <code class="literal">""</code> (empty string).</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-script_type"></a><code class="literal">script_type</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">inline</code>, <code class="literal">indexed</code>, <code class="literal">file</code>
</li>
<li class="listitem">
Default value is <code class="literal">["inline"]</code>
</li>
</ul>
</div>
<p>Define the type of script referenced by "script" variable
 inline : "script" contains inline script
 indexed : "script" contains the name of script directly indexed in elasticsearch
 file    : "script" contains the name of script stored in elasticsearch&#8217;s config directory</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-script_var_name"></a><code class="literal">script_var_name</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">"event"</code>
</li>
</ul>
</div>
<p>Set variable name passed to script (scripted update)</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-scripted_upsert"></a><code class="literal">scripted_upsert</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>if enabled, script is in charge of creating non-existent document (scripted update)</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-silence_errors_in_log"></a><code class="literal">silence_errors_in_log</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#array" title="Array">array</a>
</li>
<li class="listitem">
Default value is <code class="literal">[]</code>
</li>
</ul>
</div>
<p>Defines the list of Elasticsearch errors that you don&#8217;t want to log.
A useful example is when you want to skip all 409 errors
which are <code class="literal">version_conflict_engine_exception</code>.</p>
<div class="pre_wrapper lang-ruby">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ruby">    output {
      elasticsearch {
        silence_errors_in_log =&gt; ["version_conflict_engine_exception"]
      }
    }</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Deprecates <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-failure_type_logging_whitelist" title="failure_type_logging_whitelist"><code class="literal">failure_type_logging_whitelist</code></a>.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-sniffing"></a><code class="literal">sniffing</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>This setting asks Elasticsearch for the list of all cluster nodes and adds them
to the hosts list.
For Elasticsearch 5.x and 6.x any nodes with <code class="literal">http.enabled</code> (on by default) will
be added to the hosts list, excluding master-only nodes.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-sniffing_delay"></a><code class="literal">sniffing_delay</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">5</code>
</li>
</ul>
</div>
<p>How long to wait, in seconds, between sniffing attempts</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-sniffing_path"></a><code class="literal">sniffing_path</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>HTTP Path to be used for the sniffing requests
the default value is computed by concatenating the path value and "_nodes/http"
if sniffing_path is set it will be used as an absolute path
do not use full URL here, only paths, e.g. "/sniff/_nodes/http"</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_certificate"></a><code class="literal">ssl_certificate</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>SSL certificate to use to authenticate the client. This certificate should be an OpenSSL-style X.509 certificate file.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This setting can be used only if <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_key" title="ssl_key"><code class="literal">ssl_key</code></a> is set.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_certificate_authorities"></a><code class="literal">ssl_certificate_authorities</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is a list of <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting
</li>
</ul>
</div>
<p>The .cer or .pem files to validate the server&#8217;s certificate.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot use this setting and <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_truststore_path" title="ssl_truststore_path"><code class="literal">ssl_truststore_path</code></a> at the same time.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_cipher_suites"></a><code class="literal">ssl_cipher_suites</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is a list of <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting
</li>
</ul>
</div>
<p>The list of cipher suites to use, listed by priorities.
Supported cipher suites vary depending on the Java and protocol versions.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_enabled"></a><code class="literal">ssl_enabled</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Enable SSL/TLS secured communication to Elasticsearch cluster.
Leaving this unspecified will use whatever scheme is specified in the URLs listed in <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-hosts" title="hosts"><code class="literal">hosts</code></a> or extracted from the <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-cloud_id" title="cloud_id"><code class="literal">cloud_id</code></a>.
If no explicit protocol is specified plain HTTP will be used.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_key"></a><code class="literal">ssl_key</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>SSL key to use.
This key must be in the PKCS8 format and PEM encoded.
You can use the <a href="https://www.openssl.org/docs/man1.1.1/man1/openssl-pkcs8.html" class="ulink" target="_top">openssl pkcs8</a> command to complete the conversion.
For example, the command to convert a PEM encoded PKCS1 private key to a PEM encoded, non-encrypted PKCS8 key is:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">openssl pkcs8 -inform PEM -in path/to/logstash.key -topk8 -nocrypt -outform PEM -out path/to/logstash.pkcs8.key</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This setting can be used only if <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_certificate" title="ssl_certificate"><code class="literal">ssl_certificate</code></a> is set.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_keystore_password"></a><code class="literal">ssl_keystore_password</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#password" title="Password">password</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Set the keystore password</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_keystore_path"></a><code class="literal">ssl_keystore_path</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The keystore used to present a certificate to the server.
It can be either <code class="literal">.jks</code> or <code class="literal">.p12</code></p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot use this setting and <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_certificate" title="ssl_certificate"><code class="literal">ssl_certificate</code></a> at the same time.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_keystore_type"></a><code class="literal">ssl_keystore_type</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">jks</code>, <code class="literal">pkcs12</code>
</li>
<li class="listitem">
If not provided, the value will be inferred from the keystore filename.
</li>
</ul>
</div>
<p>The format of the keystore file. It must be either <code class="literal">jks</code> or <code class="literal">pkcs12</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_supported_protocols"></a><code class="literal">ssl_supported_protocols</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Allowed values are: <code class="literal">'TLSv1.1'</code>, <code class="literal">'TLSv1.2'</code>, <code class="literal">'TLSv1.3'</code>
</li>
<li class="listitem">
Default depends on the JDK being used. With up-to-date Logstash, the default is <code class="literal">['TLSv1.2', 'TLSv1.3']</code>.
<code class="literal">'TLSv1.1'</code> is not considered secure and is only provided for legacy applications.
</li>
</ul>
</div>
<p>List of allowed SSL/TLS versions to use when establishing a connection to the Elasticsearch cluster.</p>
<p>For Java 8 <code class="literal">'TLSv1.3'</code> is supported only since <span class="strong strong"><strong>8u262</strong></span> (AdoptOpenJDK), but requires that you set the
<code class="literal">LS_JAVA_OPTS="-Djdk.tls.client.protocols=TLSv1.3"</code> system property in Logstash.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you configure the plugin to use <code class="literal">'TLSv1.1'</code> on any recent JVM, such as the one packaged with Logstash,
the protocol is disabled by default and needs to be enabled manually by changing <code class="literal">jdk.tls.disabledAlgorithms</code> in
the <span class="strong strong"><strong>$JDK_HOME/conf/security/java.security</strong></span> configuration file. That is, <code class="literal">TLSv1.1</code> needs to be removed from the list.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_truststore_password"></a><code class="literal">ssl_truststore_password</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#password" title="Password">password</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Set the truststore password</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_truststore_path"></a><code class="literal">ssl_truststore_path</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The truststore to validate the server&#8217;s certificate.
It can be either <code class="literal">.jks</code> or <code class="literal">.p12</code>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot use this setting and <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_certificate_authorities" title="ssl_certificate_authorities"><code class="literal">ssl_certificate_authorities</code></a> at the same time.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_truststore_type"></a><code class="literal">ssl_truststore_type</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">jks</code>, <code class="literal">pkcs12</code>
</li>
<li class="listitem">
If not provided, the value will be inferred from the truststore filename.
</li>
</ul>
</div>
<p>The format of the truststore file. It must be either <code class="literal">jks</code> or <code class="literal">pkcs12</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_verification_mode"></a><code class="literal">ssl_verification_mode</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">full</code>, <code class="literal">none</code>
</li>
<li class="listitem">
Default value is <code class="literal">full</code>
</li>
</ul>
</div>
<p>Defines how to verify the certificates presented by another party in the TLS connection:</p>
<p><code class="literal">full</code> validates that the server certificate has an issue date that’s within
the not_before and not_after dates; chains to a trusted Certificate Authority (CA), and
has a hostname or IP address that matches the names within the certificate.</p>
<p><code class="literal">none</code> performs no certificate validation.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Setting certificate verification to <code class="literal">none</code> disables many security benefits of SSL/TLS, which is very dangerous. For more information on disabling certificate verification please read <a href="https://www.cs.utexas.edu/~shmat/shmat_ccs12.pdf" class="ulink" target="_top">https://www.cs.utexas.edu/~shmat/shmat_ccs12.pdf</a></p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-template"></a><code class="literal">template</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>You can set the path to your own template here, if you so desire.
If not set, the included template will be used.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-template_api"></a><code class="literal">template_api</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">auto</code>, <code class="literal">legacy</code>, <code class="literal">composable</code>
</li>
<li class="listitem">
Default value is <code class="literal">auto</code>
</li>
</ul>
</div>
<p>The default setting of <code class="literal">auto</code> will use
<a href="/guide/en/elasticsearch/reference/8.14/index-templates.html" class="ulink" target="_top">index template API</a> to create index template, if the
Elasticsearch cluster is running Elasticsearch version <code class="literal">8.0.0</code> or higher,
and use <a href="/guide/en/elasticsearch/reference/8.14/indices-templates-v1.html" class="ulink" target="_top">legacy template API</a> otherwise.</p>
<p>Setting this flag to <code class="literal">legacy</code> will use legacy template API to create index template.
Setting this flag to <code class="literal">composable</code> will use index template API to create index template.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The format of template provided to <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-template" title="template"><code class="literal">template</code></a> needs to match the template API being used.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-template_name"></a><code class="literal">template_name</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
<p>Default value depends on whether <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ecs_compatibility" title="ecs_compatibility"><code class="literal">ecs_compatibility</code></a> is enabled:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
ECS Compatibility disabled: <code class="literal">logstash</code>
</li>
<li class="listitem">
ECS Compatibility enabled: <code class="literal">ecs-logstash</code>
</li>
</ul>
</div>
</li>
</ul>
</div>
<p>This configuration option defines how the template is named inside Elasticsearch.
Note that if you have used the template management features and subsequently
change this, you will need to prune the old template manually, e.g.</p>
<p><code class="literal">curl -XDELETE &lt;http://localhost:9200/_template/OldTemplateName?pretty&gt;</code></p>
<p>where <code class="literal">OldTemplateName</code> is whatever the former setting was.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-template_overwrite"></a><code class="literal">template_overwrite</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">false</code>
</li>
</ul>
</div>
<p>The template_overwrite option will always overwrite the indicated template
in Elasticsearch with either the one indicated by template or the included one.
This option is set to false by default. If you always want to stay up to date
with the template provided by Logstash, this option could be very useful to you.
Likewise, if you have your own template file managed by puppet, for example, and
you wanted to be able to update it regularly, this option could help there as well.</p>
<p>Please note that if you are using your own customized version of the Logstash
template (logstash), setting this to true will make Logstash to overwrite
the "logstash" template (i.e. removing all customized settings)</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-timeout"></a><code class="literal">timeout</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">60</code>
</li>
</ul>
</div>
<p>Set the timeout, in seconds, for network operations and requests sent Elasticsearch. If
a timeout occurs, the request will be retried.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-upsert"></a><code class="literal">upsert</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
Default value is <code class="literal">""</code>
</li>
</ul>
</div>
<p>Set upsert content for update mode.
Create a new document with this parameter as json string if <code class="literal">document_id</code> doesn&#8217;t exists</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-user"></a><code class="literal">user</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Username to authenticate to a secure Elasticsearch cluster</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-validate_after_inactivity"></a><code class="literal">validate_after_inactivity</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#number" title="Number">number</a>
</li>
<li class="listitem">
Default value is <code class="literal">10000</code>
</li>
</ul>
</div>
<p>How long to wait before checking for a stale connection to determine if a keepalive request is needed.
Consider setting this value lower than the default, possibly to 0, if you get connection errors regularly.</p>
<p>This client is based on Apache Commons. Here&#8217;s how the
<a href="https://hc.apache.org/httpcomponents-client-4.5.x/current/httpclient/apidocs/org/apache/http/impl/conn/PoolingHttpClientConnectionManager.html#setValidateAfterInactivity(int)" class="ulink" target="_top">Apache
Commons documentation</a> describes this option: "Defines period of inactivity in
milliseconds after which persistent connections must be re-validated prior to
being leased to the consumer. Non-positive value passed to this method disables
connection validation. This check helps detect connections that have become
stale (half-closed) while kept inactive in the pool."</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-version"></a><code class="literal">version</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#string" title="String">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The version to use for indexing. Use sprintf syntax like <code class="literal">%{my_version}</code> to use
a field value here. See the
<a href="/blog/elasticsearch-versioning-support" class="ulink" target="_top">versioning support
blog</a> for more information.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-version_type"></a><code class="literal">version_type</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value can be any of: <code class="literal">internal</code>, <code class="literal">external</code>, <code class="literal">external_gt</code>, <code class="literal">external_gte</code>, <code class="literal">force</code>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The version_type to use for indexing. See the
<a href="/blog/elasticsearch-versioning-support" class="ulink" target="_top">versioning support
blog</a> and <a href="/guide/en/elasticsearch/reference/8.14/docs-index_.html#_version_types" class="ulink" target="_top">Version types</a> in the
Elasticsearch documentation.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-outputs-elasticsearch-deprecated-options"></a>Elasticsearch Output Deprecated Configuration Options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>This plugin supports the following deprecated configurations.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Deprecated options are subject to removal in future releases.</p>
</div>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Setting</th>
<th align="left" valign="top">Input type</th>
<th align="left" valign="top">Replaced by</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-cacert" title="cacert"><code class="literal">cacert</code></a></p></td>
<td align="left" valign="top"><p>a valid filesystem path</p></td>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_certificate_authorities" title="ssl_certificate_authorities"><code class="literal">ssl_certificate_authorities</code></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-keystore" title="keystore"><code class="literal">keystore</code></a></p></td>
<td align="left" valign="top"><p>a valid filesystem path</p></td>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_keystore_path" title="ssl_keystore_path"><code class="literal">ssl_keystore_path</code></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-keystore_password" title="keystore_password"><code class="literal">keystore_password</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#password" title="Password">password</a></p></td>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_keystore_password" title="ssl_keystore_password"><code class="literal">ssl_keystore_password</code></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl" title="ssl"><code class="literal">ssl</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_enabled" title="ssl_enabled"><code class="literal">ssl_enabled</code></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_certificate_verification" title="ssl_certificate_verification"><code class="literal">ssl_certificate_verification</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a></p></td>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_verification_mode" title="ssl_verification_mode"><code class="literal">ssl_verification_mode</code></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-truststore" title="truststore"><code class="literal">truststore</code></a></p></td>
<td align="left" valign="top"><p>a valid filesystem path</p></td>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_truststore_path" title="ssl_truststore_path"><code class="literal">ssl_truststore_path</code></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-truststore_password" title="truststore_password"><code class="literal">truststore_password</code></a></p></td>
<td align="left" valign="top"><p><a class="xref" href="configuration-file-structure.html#password" title="Password">password</a></p></td>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_truststore_password" title="ssl_truststore_password"><code class="literal">ssl_truststore_password</code></a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-cacert"></a><code class="literal">cacert</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 11.14.0.</h3>
<p>Replaced by <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_certificate_authorities" title="ssl_certificate_authorities"><code class="literal">ssl_certificate_authorities</code></a></p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is a list of <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The .cer or .pem file to validate the server&#8217;s certificate.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-keystore"></a><code class="literal">keystore</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 11.14.0.</h3>
<p>Replaced by <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_keystore_path" title="ssl_keystore_path"><code class="literal">ssl_keystore_path</code></a></p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The keystore used to present a certificate to the server.
It can be either .jks or .p12</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You cannot use this setting and <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_certificate" title="ssl_certificate"><code class="literal">ssl_certificate</code></a> at the same time.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-keystore_password"></a><code class="literal">keystore_password</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 11.14.0.</h3>
<p>Replaced by <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_keystore_password" title="ssl_keystore_password"><code class="literal">ssl_keystore_password</code></a></p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#password" title="Password">password</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Set the keystore password</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl"></a><code class="literal">ssl</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 11.14.0.</h3>
<p>Replaced by <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_enabled" title="ssl_enabled"><code class="literal">ssl_enabled</code></a></p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Enable SSL/TLS secured communication to Elasticsearch cluster.
Leaving this unspecified will use whatever scheme is specified in the URLs listed in <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-hosts" title="hosts"><code class="literal">hosts</code></a> or extracted from the <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-cloud_id" title="cloud_id"><code class="literal">cloud_id</code></a>.
If no explicit protocol is specified plain HTTP will be used.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-ssl_certificate_verification"></a><code class="literal">ssl_certificate_verification</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 11.14.0.</h3>
<p>Replaced by <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_verification_mode" title="ssl_verification_mode"><code class="literal">ssl_verification_mode</code></a></p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#boolean" title="Boolean">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>
</li>
</ul>
</div>
<p>Option to validate the server&#8217;s certificate. Disabling this severely compromises security.
For more information on disabling certificate verification please read
<a href="https://www.cs.utexas.edu/~shmat/shmat_ccs12.pdf" class="ulink" target="_top">https://www.cs.utexas.edu/~shmat/shmat_ccs12.pdf</a></p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-truststore"></a><code class="literal">truststore</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 11.14.0.</h3>
<p>Replaced by <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_truststore_path" title="ssl_truststore_path"><code class="literal">ssl_truststore_path</code></a></p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#path" title="Path">path</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>The truststore to validate the server&#8217;s certificate.
It can be either <code class="literal">.jks</code> or <code class="literal">.p12</code>.
Use either <code class="literal">:truststore</code> or <code class="literal">:cacert</code>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-truststore_password"></a><code class="literal">truststore_password</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<h3>Deprecated in 11.14.0.</h3>
<p>Replaced by <a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-ssl_truststore_password" title="ssl_truststore_password"><code class="literal">ssl_truststore_password</code></a></p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a class="xref" href="configuration-file-structure.html#password" title="Password">password</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Set the truststore password</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="plugins-outputs-elasticsearch-common-options"></a>Common Options<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h3>
</div></div></div>
<p>The following configuration options are supported by all output plugins:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Setting</th>
<th align="left" valign="top">Input type</th>
<th align="left" valign="top">Required</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-enable_metric" title="enable_metric"><code class="literal">enable_metric</code></a></p></td>
<td align="left" valign="top"><p><a href="/guide/en/logstash/8.14/configuration-file-structure.html#boolean" class="ulink" target="_top">boolean</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-id" title="id"><code class="literal">id</code></a></p></td>
<td align="left" valign="top"><p><a href="/guide/en/logstash/8.14/configuration-file-structure.html#string" class="ulink" target="_top">string</a></p></td>
<td align="left" valign="top"><p>No</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-enable_metric"></a><code class="literal">enable_metric</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a href="/guide/en/logstash/8.14/configuration-file-structure.html#boolean" class="ulink" target="_top">boolean</a>
</li>
<li class="listitem">
Default value is <code class="literal">true</code>
</li>
</ul>
</div>
<p>Disable or enable metric logging for this specific plugin instance.
By default we record all the metrics we can, but you can disable metrics collection
for a specific plugin.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="plugins-outputs-elasticsearch-id"></a><code class="literal">id</code><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/logstash-plugins/logstash-output-elasticsearch/edit/main/docs/index.asciidoc">edit</a></h4>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Value type is <a href="/guide/en/logstash/8.14/configuration-file-structure.html#string" class="ulink" target="_top">string</a>
</li>
<li class="listitem">
There is no default value for this setting.
</li>
</ul>
</div>
<p>Add a unique <code class="literal">ID</code> to the plugin configuration. If no ID is specified, Logstash will generate one.
It is strongly recommended to set this ID in your configuration. This is particularly useful
when you have two or more plugins of the same type. For example, if you have 2 elasticsearch outputs.
Adding a named ID in this case will help in monitoring Logstash when using the monitoring APIs.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">output {
  elasticsearch {
    id =&gt; "my_plugin_id"
  }
}</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Variable substitution in the <code class="literal">id</code> field only supports environment variables
      and does not support the use of values from the secret store.</p>
</div>
</div>
</div>

</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="plugins-outputs-elastic_workplace_search.html">« Elastic Workplace Search output plugin</a>
</span>
<span class="next">
<a href="plugins-outputs-email.html">Email output plugin »</a>
</span>
</div>
</body>
</html>
