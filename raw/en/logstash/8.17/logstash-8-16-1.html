<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Logstash 8.16.1 Release Notes | Logstash Reference [8.17] | Elastic</title>
<meta class="elastic" name="content" content="Logstash 8.16.1 Release Notes | Logstash Reference [8.17]">

<link rel="home" href="index.html" title="Logstash Reference [8.17]"/>
<link rel="up" href="releasenotes.html" title="Release Notes"/>
<link rel="prev" href="logstash-8-16-2.html" title="Logstash 8.16.2 Release Notes"/>
<link rel="next" href="logstash-8-16-0.html" title="Logstash 8.16.0 Release Notes"/>
<meta class="elastic" name="product_version" content="8.17"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/8.17"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="8.17"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="logstash-8-16-2.html">« Logstash 8.16.2 Release Notes</a>
</span>
<span class="next">
<a href="logstash-8-16-0.html">Logstash 8.16.0 Release Notes »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [8.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="releasenotes.html">Release Notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Logstash 8.16.1 Release Notes</h1></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="logstash-8-16-1"></a>Logstash 8.16.1 Release Notes</h2></div>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="known-issues-8-16-1"></a>Known issue</h3></div>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="known-issue-8-16-1-json_lines"></a>"Input buffer full" error with Logstash 8.16.0, 8.16.1, or 8.17.0</h4></div>
</div></div></div>
<p>If you are using <code class="literal">json_lines</code> codec 3.2.0 (or later) with Logstash 8.16.0, 8.16.1, or 8.17.0, you may see an error similar to this one, crashing the pipelines:</p>
<pre class="screen">unable to process event. {:message=&gt;"input buffer full", :class=&gt;"Java::JavaLang::IllegalStateException", :backtrace=&gt;["org.logstash.common.BufferedTokenizerExt.extract(BufferedTokenizerExt.java:83)", "usr.share.logstash.vendor.bundle.jruby.$3_dot_1_dot_0.gems.logstash_minus_codec_minus_json_lines_minus_3_dot_2_dot_2.lib.logstash.codecs.json_lines.RUBY$method$decode$0(/usr/share/logstash/vendor/bundle/jruby/3.1.0/gems/logstash-codec-json_lines-3.2.2/lib/logstash/codecs/json_lines.rb:69)", "org.jruby.internal.runtime.methods.CompiledIRMethod.call(CompiledIRMethod.java:165)", "org.jruby.internal.runtime.methods.MixedModeIRMethod.call(MixedModeIRMethod.java:185)",</pre>
<p>The issue was fixed in <a href="https://github.com/elastic/logstash/pull/16760" class="ulink" target="_top">https://github.com/elastic/logstash/pull/16760</a>.</p>
<p>This problem is most likely to be seen when you are using the <a class="xref" href="plugins-integrations-logstash.html" title="Logstash Integration Plugin">Logstash integration</a> plugin to ship data between two Logstash instances, but may appear in other situations, too.</p>
<p><span class="strong strong"><strong>Workaround for Logstash-to-Logstash communication</strong></span></p>
<p>The Logstash-to-Logstash issue can be mitigated by:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Downgrading the <em>receiving</em> Logstash to <code class="literal">8.16.2</code>, or any Logstash in the <code class="literal">8.15</code> series,  <span class="strong strong"><strong><em>AND/OR</em></strong></span>
</li>
<li class="listitem">
Upgrading the Logstash integration filter of the <em>sending</em> Logstash to version <code class="literal">1.0.4</code>.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Workaround for other <code class="literal">json_lines</code> codec situations</strong></span></p>
<p>Other <code class="literal">json_lines</code> codec issues can be mitigated by:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Downgrading Logstash to <code class="literal">8.16.2</code>, or any Logstash in the <code class="literal">8.15</code> series.
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="notable-8-16-1"></a>Notable issues fixed</h3></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
PipelineBusV2 deadlock proofing: We fixed an issue that could cause a deadlock when the pipeline-to-pipeline feature was in use, causing pipelines (and consequently) Logstash to never terminate <a href="https://github.com/elastic/logstash/pull/16680" class="ulink" target="_top">#16680</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_plugins_3"></a>Plugins</h3></div>
</div></div></div>
<p><span class="strong strong"><strong>Elastic_integration Filter - 0.1.16</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reflect the Elasticsearch GeoIP changes into the plugin and sync with Elasticsearch 8.16 branch <a href="https://github.com/elastic/logstash-filter-elastic_integration/pull/170" class="ulink" target="_top">#170</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Xml Filter - 4.2.1</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
patch rexml to improve performance of multi-threaded xml parsing <a href="https://github.com/logstash-plugins/logstash-filter-xml/pull/84" class="ulink" target="_top">#84</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Beats Input - 6.9.1</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade netty to 4.1.115 <a href="https://github.com/logstash-plugins/logstash-input-beats/pull/507" class="ulink" target="_top">#507</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Http Input - 3.9.2</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade netty to 4.1.115 <a href="https://github.com/logstash-plugins/logstash-input-http/pull/183" class="ulink" target="_top">#183</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Tcp Input - 6.4.4</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade netty to 4.1.115 <a href="https://github.com/logstash-plugins/logstash-input-tcp/pull/227" class="ulink" target="_top">#227</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Http Output - 5.7.1</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added new development <code class="literal">rackup</code> dependency to fix tests
</li>
</ul>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="logstash-8-16-2.html">« Logstash 8.16.2 Release Notes</a>
</span>
<span class="next">
<a href="logstash-8-16-0.html">Logstash 8.16.0 Release Notes »</a>
</span>
</div>
</body>
</html>
