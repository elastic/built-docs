<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Logstash 8.17.0 Release Notes | Logstash Reference [8.17] | Elastic</title>
<meta class="elastic" name="content" content="Logstash 8.17.0 Release Notes | Logstash Reference [8.17]">

<link rel="home" href="index.html" title="Logstash Reference [8.17]"/>
<link rel="up" href="releasenotes.html" title="Release Notes"/>
<link rel="prev" href="releasenotes.html" title="Release Notes"/>
<link rel="next" href="logstash-8-16-1.html" title="Logstash 8.16.1 Release Notes"/>
<meta class="elastic" name="product_version" content="8.17"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/8.17"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="8.17"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="releasenotes.html">« Release Notes</a>
</span>
<span class="next">
<a href="logstash-8-16-1.html">Logstash 8.16.1 Release Notes »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [8.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="releasenotes.html">Release Notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Logstash 8.17.0 Release Notes</h1></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="logstash-8-17-0"></a>Logstash 8.17.0 Release Notes</h2></div>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="known-issues-8-17-0"></a>Known issues</h3></div>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="known-issue-8-17-0-jvm"></a>JVM version changes needed when upgrading Logstash from 8.12.0 (or earlier)</h4></div>
</div></div></div>
<p>If the <code class="literal">jvm.options</code> file was modified and not overwritten with the newest version, you may see a "deserialize invocation error" message, causing the pipeline to crash.
Users are affected if the Persistent Queue (PQ) is enabled, and the pipeline is processing messages larger than 20MB.</p>
<p><span class="strong strong"><strong>Solution:</strong></span> Apply the default change contained in the newer <em>jvm.options</em> file, as seen in this <a href="https://github.com/elastic/logstash/blob/v8.17.0/config/jvm.options#L74-L90" class="ulink" target="_top">example</a>.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="known-issue-8-17-0-json_lines"></a>"Input buffer full" error with Logstash 8.16.0, 8.16.1, or 8.17.0</h4></div>
</div></div></div>
<p>If you are using <code class="literal">json_lines</code> codec 3.2.0 (or later) with Logstash 8.16.0, 8.16.1, or 8.17.0, you may see an error similar to this one, crashing the pipelines:</p>
<pre class="screen">unable to process event. {:message=&gt;"input buffer full", :class=&gt;"Java::JavaLang::IllegalStateException", :backtrace=&gt;["org.logstash.common.BufferedTokenizerExt.extract(BufferedTokenizerExt.java:83)", "usr.share.logstash.vendor.bundle.jruby.$3_dot_1_dot_0.gems.logstash_minus_codec_minus_json_lines_minus_3_dot_2_dot_2.lib.logstash.codecs.json_lines.RUBY$method$decode$0(/usr/share/logstash/vendor/bundle/jruby/3.1.0/gems/logstash-codec-json_lines-3.2.2/lib/logstash/codecs/json_lines.rb:69)", "org.jruby.internal.runtime.methods.CompiledIRMethod.call(CompiledIRMethod.java:165)", "org.jruby.internal.runtime.methods.MixedModeIRMethod.call(MixedModeIRMethod.java:185)",</pre>
<p>The issue was fixed in <a href="https://github.com/elastic/logstash/pull/16760" class="ulink" target="_top">https://github.com/elastic/logstash/pull/16760</a>.</p>
<p>This problem is most likely to be seen when you are using the <a class="xref" href="plugins-integrations-logstash.html" title="Logstash Integration Plugin">Logstash integration</a> plugin to ship data between two Logstash instances, but may appear in other situations, too.</p>
<p><span class="strong strong"><strong>Workaround for Logstash-to-Logstash communication</strong></span></p>
<p>The Logstash-to-Logstash issue can be mitigated by:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Downgrading the <em>receiving</em> Logstash to <code class="literal">8.16.2</code>, or any Logstash in the <code class="literal">8.15</code> series,  <span class="strong strong"><strong><em>AND/OR</em></strong></span>
</li>
<li class="listitem">
Upgrading the <a class="xref" href="plugins-integrations-logstash.html" title="Logstash Integration Plugin">Logstash integration</a> plugin of the <em>sending</em> Logstash to version <code class="literal">1.0.4</code>.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Workaround for other <code class="literal">json_lines</code> codec situations</strong></span></p>
<p>Other <code class="literal">json_lines</code> codec issues can be mitigated by:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Downgrading Logstash to <code class="literal">8.16.2</code>, or any Logstash in the <code class="literal">8.15</code> series.
</li>
</ul>
</div>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="notable-8-17-0"></a>Notable fixes and improvements</h3></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add warning that <code class="literal">allow_superuser</code> will default to <code class="literal">false</code> in 9.0.0 <a href="https://github.com/elastic/logstash/pull/16555" class="ulink" target="_top">#16555</a>
</li>
<li class="listitem">
Update deprecation warning to mention ArcSight module will be removed in 9.0.0 <a href="https://github.com/elastic/logstash/pull/16648" class="ulink" target="_top">#16648</a>
</li>
<li class="listitem">
Update deprecation warning for http.* settings to mention removal in 9.0.0 <a href="https://github.com/elastic/logstash/pull/16538" class="ulink" target="_top">#16538</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="core-8-17-0"></a>Changes to Logstash core</h3></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Make max inflight warning global to all pipelines <a href="https://github.com/elastic/logstash/pull/16601" class="ulink" target="_top">#16601</a>
</li>
<li class="listitem">
Correctly guide user to use LS_JAVA_HOME instead of JAVA_HOME to configure Java on Windows <a href="https://github.com/elastic/logstash/pull/16636" class="ulink" target="_top">#16636</a>
</li>
<li class="listitem">
Ensure jackson configurations are applied if found in "jvm.options" <a href="https://github.com/elastic/logstash/pull/16757" class="ulink" target="_top">#16757</a>
</li>
<li class="listitem">
Set <code class="literal">platform = 'java'</code> in custom java plugins' gemspecs <a href="https://github.com/elastic/logstash/pull/16628" class="ulink" target="_top">#16628</a>
</li>
<li class="listitem">
Fix offline installation of java plugins containing "-java" in their name <a href="https://github.com/elastic/logstash/pull/16637" class="ulink" target="_top">#16637</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="dependencies-8.17.0"></a>Updates to dependencies</h3></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Pin jar-dependencies gem to 0.4.1 to avoid clashing with version bundled with JRuby <a href="https://github.com/elastic/logstash/pull/16750" class="ulink" target="_top">#16750</a>
</li>
<li class="listitem">
Update JDK to 21.0.5+11 <a href="https://github.com/elastic/logstash/pull/16631" class="ulink" target="_top">#16631</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="docs-8.17.0"></a>Documentation enhancements</h3></div>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Troubleshooting update for JDK bug handling cgroups v1 <a href="https://github.com/elastic/logstash/pull/16731" class="ulink" target="_top">#16731</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_plugins"></a>Plugins</h3></div>
</div></div></div>
<p><span class="strong strong"><strong>Http_client Mixin - 7.5.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adds new mixin configuration option <code class="literal">with_obsolete</code> to mark <code class="literal">ssl</code> options as obsolete <a href="https://github.com/logstash-plugins/logstash-mixin-http_client/pull/46" class="ulink" target="_top">#46</a>
</li>
</ul>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="releasenotes.html">« Release Notes</a>
</span>
<span class="next">
<a href="logstash-8-16-1.html">Logstash 8.16.1 Release Notes »</a>
</span>
</div>
</body>
</html>
