<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Sending data to Elasticsearch Serverless | Logstash Reference [8.19] | Elastic</title>
<meta class="elastic" name="content" content="Sending data to Elasticsearch Serverless | Logstash Reference [8.19]">

<link rel="home" href="index.html" title="Logstash Reference [8.19]"/>
<link rel="up" href="configuration.html" title="Creating a Logstash pipeline"/>
<link rel="prev" href="connecting-to-cloud.html" title="Sending data to Elastic Cloud Hosted"/>
<link rel="next" href="config-examples.html" title="Logstash configuration examples"/>
<meta class="elastic" name="product_version" content="8.19"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/8.19"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="8.19"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="connecting-to-cloud.html">« Sending data to Elastic Cloud Hosted</a>
</span>
<span class="next">
<a href="config-examples.html">Logstash configuration examples »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [8.19]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration.html">Creating a Logstash pipeline</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Sending data to Elasticsearch Serverless</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/8.19/docs/static/ls-to-serverless.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="logstash-to-elasticsearch-serverless"></a>Sending data to Elasticsearch Serverless</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/8.19/docs/static/ls-to-serverless.asciidoc">edit</a></div>
</div></div></div>
<p>When you use Elasticsearch on Elastic Cloud Serverless you don’t need to worry about managing the infrastructure that keeps Elasticsearch distributed and available. These resources are automated on the serverless platform and are designed to scale up and down with your workload.</p>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Logstash to Elastic Cloud Serverless</strong></p>
</div></div></div>
<p>You’ll use the Logstash <a href="logstash-docs-md://lsr/plugins-outputs-elasticsearch.md" class="ulink" target="_top">Elasticsearch output plugin</a> to send data to Elastic Cloud Serverless.
Note these differences between Elasticsearch Serverless and both Elastic Cloud Hosted and self-managed Elasticsearch:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Use <a href="/reference/secure-connection.md#ls-api-keys" class="ulink" target="_top"><span class="strong strong"><strong>API keys</strong></span></a> to access Elastic Cloud Serverless from Logstash as it does not support native user authentication.
Any user-based security settings in your <a href="logstash-docs-md://lsr/plugins-outputs-elasticsearch.md" class="ulink" target="_top">Elasticsearch output plugin</a> configuration are ignored and may cause errors.
</li>
<li class="listitem">
Elastic Cloud Serverless uses <span class="strong strong"><strong>data streams</strong></span> and <a href="docs-content://manage-data/lifecycle/data-stream.md" class="ulink" target="_top">data lifecycle management (DLM)</a> instead of index lifecycle management (ILM). Any ILM settings in your <a href="logstash-docs-md://lsr/plugins-outputs-elasticsearch.md" class="ulink" target="_top">Elasticsearch output plugin</a> configuration are ignored and may cause errors.
</li>
<li class="listitem">
<span class="strong strong"><strong>Logstash monitoring</strong></span> is available through the <a href="https://github.com/elastic/integrations/blob/main/packages/logstash/_dev/build/docs/README.md" class="ulink" target="_top">Logstash Integration</a> in <a href="docs-content://solutions/observability.md" class="ulink" target="_top">Elastic Observability</a> on Elastic Cloud Serverless.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Known issue for Logstash to Elasticsearch Serverless.</strong></span><br>
The logstash-output-elasticsearch <code class="literal">hosts</code> setting defaults to port :9200.<br>
Set the value to port :443 instead.</p>
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="connecting-to-elasticsearch-serverless"></a>Communication between Logstash and Elasticsearch Serverless</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/8.19/docs/static/ls-to-serverless.asciidoc">edit</a></div>
</div></div></div>
<p><a href="docs-content://solutions/search/serverless-elasticsearch-get-started.md" class="ulink" target="_top">Elasticsearch Serverless</a> simplifies safe, secure communication between Logstash and Elasticsearch.
When you configure the Elasticsearch output plugin to use <a href="logstash-docs-md://lsr/plugins-outputs-elasticsearch.md#plugins-outputs-elasticsearch-cloud_id" class="ulink" target="_top"><code class="literal">cloud_id</code></a> and an <a href="logstash-docs-md://lsr/plugins-outputs-elasticsearch.md#plugins-outputs-elasticsearch-api_key" class="ulink" target="_top"><code class="literal">api_key</code></a>, no additional SSL configuration is needed.</p>
<p>Example:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">output {elasticsearch { cloud_id =&gt; "&lt;cloud id&gt;" api_key =&gt; "&lt;api key&gt;" } }</code>
</li>
</ul>
</div>
<p>Note that the value of the <a href="logstash-docs-md://lsr/plugins-outputs-elasticsearch.md#plugins-outputs-elasticsearch-api_key" class="ulink" target="_top"><code class="literal">api_key</code> option</a> is in the format <code class="literal">id:api_key</code>, where <code class="literal">id</code> and <code class="literal">api_key</code> are the values returned by the <a href="/docs/api/doc/elasticsearch/operation/operation-security-create-api-key" class="ulink" target="_top">Create API key API</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="cloud-id-serverless"></a>Cloud ID</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/8.19/docs/static/ls-to-serverless.asciidoc">edit</a></div>
</div></div></div>
<p>Logstash uses the Cloud ID, found in the Elastic Cloud web console, to build the Elasticsearch and Kibana hosts settings. It is a base64 encoded text value of about 120 characters made up of upper and lower case letters and numbers. If you have several Cloud IDs, you can add a label, which is ignored internally, to help you tell them apart. To add a label, prefix your Cloud ID with a label and a <code class="literal">:</code> separator in this format "&lt;label&gt;:&lt;cloud-id&gt;".</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="api-key-serverless"></a>API key</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/8.19/docs/static/ls-to-serverless.asciidoc">edit</a></div>
</div></div></div>
<p>When you create an API key for Logstash, select <span class="strong strong"><strong>Logstash</strong></span> from the <span class="strong strong"><strong>API key format</strong></span> dropdown.
This option formats the API key in the correct <code class="literal">id:api_key</code> format required by Logstash.</p>
</div>

</div>

<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="plugins-serverless"></a>Using Cloud ID with plugins</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/8.19/docs/static/ls-to-serverless.asciidoc">edit</a></div>
</div></div></div>
<p>The Elasticsearch input, output, and filter plugins, as well as the Elastic_integration filter plugin, support cloud_id in their configurations.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="logstash-docs-md://lsr/plugins-inputs-elasticsearch.md#plugins-inputs-elasticsearch-cloud_id" class="ulink" target="_top">Elasticsearch input plugin</a>
</li>
<li class="listitem">
<a href="logstash-docs-md://lsr/plugins-filters-elasticsearch.md#plugins-filters-elasticsearch-cloud_id" class="ulink" target="_top">Elasticsearch filter plugin</a>
</li>
<li class="listitem">
<a href="logstash-docs-md://lsr/plugins-outputs-elasticsearch.md#plugins-outputs-elasticsearch-cloud_id" class="ulink" target="_top">Elasticsearch output plugin</a>
</li>
<li class="listitem">
<a href="logstash-docs-md://lsr/plugins-filters-elastic_integration.md#plugins-filters-elastic_integration-cloud_id" class="ulink" target="_top">Elastic_integration filter plugin</a>
</li>
</ul>
</div>
</div>

<div class="cpm-serverless">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="_using_logstash_central_pipeline_management_with_elasticsearch_serverless"></a>Using Logstash Central Pipeline Management with Elasticsearch Serverless</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/8.19/docs/static/ls-to-serverless.asciidoc">edit</a></div>
</div></div></div>
<p>This setting in the <code class="literal">logstash.yml</code> config file can help you get set up to use Central Pipeline management in Elastic Cloud:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">xpack.management.elasticsearch.cloud_id</code>
</li>
</ul>
</div>
<p>You can use the <code class="literal">xpack.management.elasticsearch.cloud_id</code> setting as an alternative to <code class="literal">xpack.management.elasticsearch.hosts</code>.</p>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="connecting-to-cloud.html">« Sending data to Elastic Cloud Hosted</a>
</span>
<span class="next">
<a href="config-examples.html">Logstash configuration examples »</a>
</span>
</div>
</body>
</html>
