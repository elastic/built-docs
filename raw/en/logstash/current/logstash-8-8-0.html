<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Logstash 8.8.0 Release Notes | Logstash Reference [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Logstash 8.8.0 Release Notes | Logstash Reference [8.15]">

<link rel="home" href="index.html" title="Logstash Reference [8.15]"/>
<link rel="up" href="releasenotes.html" title="Release Notes"/>
<link rel="prev" href="logstash-8-8-1.html" title="Logstash 8.8.1 Release Notes"/>
<link rel="next" href="logstash-8-7-1.html" title="Logstash 8.7.1 Release Notes"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/8.15"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="8.15"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="logstash-8-8-1.html">« Logstash 8.8.1 Release Notes</a>
</span>
<span class="next">
<a href="logstash-8-7-1.html">Logstash 8.7.1 Release Notes »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="releasenotes.html">Release Notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Logstash 8.8.0 Release Notes</h1></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="logstash-8-8-0"></a>Logstash 8.8.0 Release Notes</h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="known-issues-8.8.0"></a>Known issues</h3>
</div></div></div>
<p>Logstash 8.8.0 may fail to start when SSL/TLS is enabled
in monitoring and/or central management, due to a change introduced in version 11.14.0 of the <a href="https://github.com/logstash-plugins/logstash-output-elasticsearch" class="ulink" target="_top">logstash-output-elasticsearch</a> plugin.
When impacted by this issue, Logstash fails to start and logs an error similar to the following:</p>
<pre class="screen">[logstash.licensechecker.licensereader] Failed to perform request {:message=&gt;"PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target", :exception=&gt;Manticore::ClientProtocolException, :cause=&gt;#&lt;Java::JavaxNetSsl::SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target&gt;}</pre>
<p><span class="strong strong"><strong>Resolution</strong></span></p>
<p>A successful Elasticsearch output plugin update to version <code class="literal">11.15.8</code> or higher will
resolve this issue:</p>
<pre class="screen">bin/logstash-plugin update logstash-output-elasticsearch</pre>
<p>OR</p>
<p>Specify the <code class="literal">ca_trusted_fingerprint</code> setting in the <code class="literal">logstash.yml</code>.
The certificate fingerprint can be extract with:</p>
<pre class="screen">cat your_ca.cert | openssl x509 -outform der | sha256sum | awk '{print $1}'</pre>
<p>Then set the following on <code class="literal">logstash.yml</code> using the output from the previous command:</p>
<pre class="screen">xpack.monitoring.elasticsearch.ssl.ca_trusted_fingerprint: "&lt;value&gt;"
xpack.management.elasticsearch.ssl.ca_trusted_fingerprint: "&lt;value&gt;"</pre>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="notable-8.8.0"></a>Notable issues fixed</h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix a race condition that prevents Logstash from updating a pipeline&#8217;s configuration with in-flight events
experiencing connection errors. <a href="https://github.com/elastic/logstash/issues/14739" class="ulink" target="_top">#14739</a>
This issue primarily manifests following the update of Elasticsearch credentials through Central Management,
after credentials expired while events were in-flight. It causes the Elasticsearch Output to get stuck attempting
to send events with the expired credentials instead of using the updated ones.
To address this problem, Logstash has improved the pipeline shutdown phase functionality to allow an output plugin
to request the termination of the in-flight batch of events; hence preventing the need for administrators
to manually restart Logstash. Furthermore, when used in combination with a persistent queue to prevent data loss,
the batch is eligible for reprocessing on pipeline restart.
Plugin developers can now decide whether to make use of such functionality on output plugins. <a href="https://github.com/elastic/logstash/pull/14940" class="ulink" target="_top">#14940</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="dependencies-8.8.0"></a>Updates to dependencies</h3>
</div></div></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Updates Bundler to version 2.4 <a href="https://github.com/elastic/logstash/pull/14995" class="ulink" target="_top">#14995</a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_plugins_20"></a>Plugins</h3>
</div></div></div>
<p><span class="strong strong"><strong>Elasticsearch Filter - 3.15.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Standardize SSL settings to comply with Logstash&#8217;s naming convention <a href="https://github.com/logstash-plugins/logstash-filter-elasticsearch/pull/168" class="ulink" target="_top">#168</a>
</li>
<li class="listitem">
Added support for configurable retries with new <code class="literal">retry_on_failure</code> and <code class="literal">retry_on_status</code> options <a href="https://github.com/logstash-plugins/logstash-filter-elasticsearch/pull/160" class="ulink" target="_top">#160</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Memcached Filter - 1.2.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Upgrade Dalli to 3.x <a href="https://github.com/logstash-plugins/logstash-filter-memcached/pull/33" class="ulink" target="_top">#33</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Beats Input - 6.6.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Standardize SSL settings to comply with Logstash&#8217;s naming convention <a href="https://github.com/logstash-plugins/logstash-input-beats/pull/470" class="ulink" target="_top">#470</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Elasticsearch Input - 4.17.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Standardize SSL settings to comply with Logstash&#8217;s naming convention <a href="https://github.com/logstash-plugins/logstash-input-elasticsearch/pull/185" class="ulink" target="_top">#185</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Http Input - 3.7.0</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Standardize SSL settings to comply with Logstash&#8217;s naming convention <a href="https://github.com/logstash-plugins/logstash-input-http/pull/165" class="ulink" target="_top">#165</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Kafka Integration - 11.2.1</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fix nil exception to empty headers of record during event metadata assignment <a href="https://github.com/logstash-plugins/logstash-integration-kafka/pull/140" class="ulink" target="_top">#140</a>
</li>
<li class="listitem">
Added TLS truststore and keystore settings specifically to access the schema registry <a href="https://github.com/logstash-plugins/logstash-integration-kafka/pull/137" class="ulink" target="_top">#137</a>
</li>
<li class="listitem">
Added config <code class="literal">group_instance_id</code> to use the Kafka&#8217;s consumer static membership feature <a href="https://github.com/logstash-plugins/logstash-integration-kafka/pull/135" class="ulink" target="_top">#135</a>
</li>
<li class="listitem">
Changed Kafka client to 3.3.1, requires Logstash &gt;= 8.3.0.
</li>
<li class="listitem">
Deprecated <code class="literal">default</code> value for setting <code class="literal">client_dns_lookup</code> forcing to <code class="literal">use_all_dns_ips</code> when explicitly used <a href="https://github.com/logstash-plugins/logstash-integration-kafka/pull/130" class="ulink" target="_top">#130</a>
</li>
<li class="listitem">
Changed the consumer&#8217;s poll from using the one that blocks on metadata retrieval to the one that doesn&#8217;t <a href="https://github.com/logstash-plugins/logstash-integration-kafka/pull/133" class="ulink" target="_top">#136</a>
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Normalize_config_support Mixin - 1.0.0</strong></span></p>
<p><span class="strong strong"><strong>Elasticsearch Output - 11.15.1</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed race condition during plugin registration phase <a href="https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/1125" class="ulink" target="_top">#1125</a>
</li>
<li class="listitem">
Added the ability to negatively acknowledge the batch under processing if the plugin is blocked in a retry-error-loop and a shutdown is requested. <a href="https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/1119" class="ulink" target="_top">#1119</a>
</li>
<li class="listitem">
Standardize SSL settings to comply with Logstash&#8217;s naming convention <a href="https://github.com/logstash-plugins/logstash-output-elasticsearch/pull/1118" class="ulink" target="_top">#1118</a>
</li>
</ul>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="logstash-8-8-1.html">« Logstash 8.8.1 Release Notes</a>
</span>
<span class="next">
<a href="logstash-8-7-1.html">Logstash 8.7.1 Release Notes »</a>
</span>
</div>
</body>
</html>
