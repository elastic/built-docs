<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Breaking changes in 8.0 series | Logstash Reference [master] | Elastic</title>
<meta class="elastic" name="content" content="Breaking changes in 8.0 series | Logstash Reference [master]">

<link rel="home" href="index.html" title="Logstash Reference [master]"/>
<link rel="up" href="breaking-changes.html" title="Breaking changes"/>
<link rel="prev" href="breaking-changes.html" title="Breaking changes"/>
<link rel="next" href="breaking-7.0.html" title="Breaking changes in 7.0 series"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/master"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="breaking-changes.html">« Breaking changes</a>
</span>
<span class="next">
<a href="breaking-7.0.html">Breaking changes in 7.0 series »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="breaking-changes.html">Breaking changes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Breaking changes in 8.0 series</h1></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="breaking-8.0"></a>Breaking changes in 8.0 series</h2></div>
</div></div></div>
<div class="position-relative"><h3><a id="breaking-8.15"></a>Breaking changes in 8.15</h3></div>
<p><span class="strong strong"><strong>New Logstash SNMP integration plugin</strong></span></p>
<p>Prior to 8.15.0, Logstash bundled stand-alone versions of the <code class="literal">input-snmp</code> and <code class="literal">input-snmptrap</code> plugins by default.
When you upgrade to 8.15.0, the stand-alone plugins are replaced by the 4.0.0+ version contained in the new SNMP integration plugin.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Before you upgrade to Logstash 8.15.0, be aware of <a href="/guide/en/logstash/master/plugins-integrations-snmp.html#plugins-integrations-snmp-migration" class="ulink" target="_top">behavioral and mapping differences</a> between stand-alone plugins and the new versions included in the <a href="/guide/en/logstash/master/plugins-integrations-snmp.html" class="ulink" target="_top">SNMP integration plugin</a>.
If you need to maintain current mappings for the <code class="literal">input-snmptrap</code> plugin, you have some options to <a href="/guide/en/logstash/master/plugins-integrations-snmp.html#plugins-integrations-snmp-input-snmptrap-compat" class="ulink" target="_top">preserve existing behavior</a>.</p>
</div>
</div>
<div class="position-relative"><h3><a id="_breaking_changes_in_8_0"></a>Breaking changes in 8.0</h3></div>
<div class="position-relative"><h5><a id="security-on-8.0"></a>Secure communication with Elasticsearch</h5></div>
<p>Logstash must establish a Secure Sockets Layer (SSL) connection before it can transfer data to an on-premise Elasticsearch cluster.
Logstash must have a copy of the Elasticsearch CA that signed the cluster&#8217;s certificates.
When a new Elasticsearch cluster is started up <em>without</em> dedicated certificates, it generates its own default self-signed Certificate Authority at startup.</p>
<p>Our hosted Elasticsearch Service simplifies safe, secure communication between Logstash and Elasticsearch.
Elasticsearch Service uses certificates signed by standard publicly trusted certificate authorities, and therefore setting a cacert is not necessary.</p>
<p>For more information, see <a href="/guide/en/logstash/master/ls-security.html#es-security-on" class="ulink" target="_top">Elasticsearch security on by default</a>.</p>
<div class="position-relative"><h5><a id="bc-java-11-minimum"></a>Java 11 minimum</h5></div>
<p>Logstash requires Java 11 or later.
By default, Logstash will run with the bundled JDK, which has been verified to
work with each specific version of Logstash, and generally provides the best
performance and reliability.</p>
<div class="position-relative"><h5><a id="bc-java-home"></a>Support for JAVA_HOME removed</h5></div>
<p>We&#8217;ve removed support for using <code class="literal">JAVA_HOME</code> to override the path to the JDK.
Users who need to use a version other than the bundled JDK should set the value
of <code class="literal">LS_JAVA_HOME</code> to the path of their preferred JDK.
The value of <code class="literal">JAVA_HOME</code> will be ignored.</p>
<div class="position-relative"><h5><a id="bc-ecs-compatibility"></a>ECS compatibility is now on by default</h5></div>
<p>Many plugins can now be run in a mode that avoids implicit conflict with the Elastic Common Schema.
This mode is controlled individually with each plugin&#8217;s <code class="literal">ecs_compatibility</code> option, which defaults to the value of the Logstash <code class="literal">pipeline.ecs_compatibility</code> setting.
In Logstash 8, this compatibility mode will be on-by-default for all pipelines. <a href="https://github.com/elastic/logstash/issues/11623" class="ulink" target="_top">#11623</a></p>
<p>If you wish to <em>lock in</em> a pipeline&#8217;s behaviour from Logstash 7.x before upgrading to Logstash 8, you can set  <code class="literal">pipeline.ecs_compatibility: disabled</code> to its definition in <code class="literal">pipelines.yml</code> (or globally in <code class="literal">logstash.yml</code>).</p>
<div class="position-relative"><h5><a id="bc-ruby-engine"></a>Ruby Execution Engine removed</h5></div>
<p>The Java Execution Engine has been the default engine since Logstash 7.0, and works with plugins written in either Ruby or Java.
Removal of the Ruby Execution Engine will not affect the ability to run existing pipelines. <a href="https://github.com/elastic/logstash/pull/12517" class="ulink" target="_top">#12517</a></p>
<div class="position-relative"><h5><a id="bc-utf-16"></a>Support for UTF-16</h5></div>
<p>We have added support for UTF-16 and other multi-byte-character when reading log files. <a href="https://github.com/elastic/logstash/pull/9702" class="ulink" target="_top">#9702</a></p>
<div class="position-relative"><h5><a id="bc-field-ref-parser"></a>Field Reference parser configuration setting removed</h5></div>
<p>The Field Reference parser interprets references to fields in your pipelines and plugins.
Its behavior was configurable in 6.x, and 7.x allowed only a single option: <code class="literal">strict</code>.
8.0 no longer recognizes the setting, but maintains the same behavior as the <code class="literal">strict</code> setting.
Logstash rejects ambiguous and illegal inputs as standard behavior.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="breaking-changes.html">« Breaking changes</a>
</span>
<span class="next">
<a href="breaking-7.0.html">Breaking changes in 7.0 series »</a>
</span>
</div>
</body>
</html>
