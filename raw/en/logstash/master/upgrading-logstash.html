<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Upgrading Logstash | Logstash Reference [master] | Elastic</title>
<meta class="elastic" name="content" content="Upgrading Logstash | Logstash Reference [master]">

<link rel="home" href="index.html" title="Logstash Reference [master]"/>
<link rel="up" href="index.html" title="Logstash Reference [master]"/>
<link rel="prev" href="shutdown.html" title="Shutting Down Logstash"/>
<link rel="next" href="upgrading-using-package-managers.html" title="Upgrading using package managers"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Logstash"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Logstash/Reference/master"/>
<meta name="DC.subject" content="Logstash"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="shutdown.html">« Shutting Down Logstash</a>
</span>
<span class="next">
<a href="upgrading-using-package-managers.html">Upgrading using package managers »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Logstash Reference [master]</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Upgrading Logstash</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/upgrading.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="upgrading-logstash"></a>Upgrading Logstash</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/upgrading.asciidoc">edit</a></div>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Before upgrading Logstash:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Consult the <a class="xref" href="breaking-changes.html" title="Breaking changes">breaking changes</a> docs.
</li>
<li class="listitem">
Read the <a class="xref" href="releasenotes.html" title="Release Notes"><em>Release Notes</em></a>.
</li>
<li class="listitem">
Test upgrades in a development environment before upgrading your production cluster.
</li>
</ul>
</div>
<p>While upgrading Logstash:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If you use monitoring, you must re-use the data directory when you
upgrade Logstash. Otherwise, the Logstash node is assigned a new persistent UUID
and becomes a new node in the monitoring data.
</li>
</ul>
</div>
</div>
</div>
<p>If you&#8217;re upgrading other products in the stack, also read the
<a href="/guide/en/elastic-stack/master/index.html" class="ulink" target="_top">Elastic Stack Installation and Upgrade Guide</a>.</p>
<p>See the following topics for information about upgrading Logstash:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="upgrading-using-package-managers.html" title="Upgrading using package managers">Upgrading using package managers</a>
</li>
<li class="listitem">
<a class="xref" href="upgrading-using-direct-download.html" title="Upgrading using a direct download">Upgrading using a direct download</a>
</li>
<li class="listitem">
<a class="xref" href="upgrading-minor-versions.html" title="Upgrading between minor versions">Upgrading between minor versions</a>
</li>
<li class="listitem">
<a class="xref" href="upgrading-logstash-9.0.html" title="Upgrading Logstash to 9.0">Upgrading Logstash to 9.0</a>
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_when_to_upgrade"></a>When to upgrade</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/upgrading.asciidoc">edit</a></div>
<p>Fresh installations can and should start with the same version across the Elastic Stack.</p>
<p>Elasticsearch 9.0 does not require Logstash 9.0. An Elasticsearch 9.0 cluster
will happily receive data from earlier versions of Logstash via the default
HTTP communication layer. This provides some flexibility to decide when to
upgrade Logstash relative to an Elasticsearch upgrade. It may or may not be
convenient for you to upgrade them together, and it is not required to be done
at the same time as long as Elasticsearch is upgraded first. However, there are special plugin cases for example, if your pipeline includes <a class="xref" href="plugins-filters-elastic_integration.html" title="Elastic Integration filter plugin">elastic_integration filter</a> plugin.
See <a class="xref" href="upgrading-logstash.html#upgrading-when-elastic_integration-in-pipeline" title="When elastic_integration is in Logstash pipeline">when <code class="literal">elastic_integration</code> is in Logstash pipeline</a> section for details.</p>
<p>You should upgrade in a timely manner to get the performance improvements that
come with Logstash 9.0, but do so in the way that makes the most sense for your
environment.</p>
<div class="position-relative"><h4><a id="_when_not_to_upgrade"></a>When not to upgrade</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/upgrading.asciidoc">edit</a></div>
<p>If any Logstash plugin that you require is not compatible with Logstash 9.0, then you should wait until it is ready
before upgrading.</p>
<p>Although we make great efforts to ensure compatibility, Logstash 9.0 is not completely backwards compatible.
As noted in the Elastic Stack upgrade guide, you should not upgrade Logstash 9.0 before you upgrade Elasticsearch 9.0.
This is both practical and because some Logstash 9.0 plugins may attempt to use features of Elasticsearch 9.0 that did not exist
in earlier versions.</p>
<p>For example, if you attempt to send the 8.x template to a cluster before
Elasticsearch 9.0, then  all indexing likely fail.
If you use your own custom template with Logstash, then this issue can be ignored.</p>
<p>Another example is when your pipeline utilizes the <a class="xref" href="plugins-filters-elastic_integration.html" title="Elastic Integration filter plugin"><code class="literal">elastic_integration</code> filter</a> plugin.
In such cases, the plugin may encounter issues loading and executing deprecated integrations or features that have been removed in newer versions.
This can lead to disruptions in your pipeline&#8217;s functionality, especially if your workflow relies on these outdated components.
For a comprehensive understanding of how to handle such scenarios and ensure compatibility, refer to the <a class="xref" href="upgrading-logstash.html#upgrading-when-elastic_integration-in-pipeline" title="When elastic_integration is in Logstash pipeline">when <code class="literal">elastic_integration</code> is in Logstash pipeline</a> section in this documentation.</p>
<div class="position-relative"><h4><a id="upgrading-when-elastic_integration-in-pipeline"></a>When <code class="literal">elastic_integration</code> is in Logstash pipeline</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/logstash/edit/main/docs/static/upgrading.asciidoc">edit</a></div>
<p><a class="xref" href="plugins-filters-elastic_integration.html" title="Elastic Integration filter plugin">elastic_integration filter</a> plugin requires a special attention due to its dependencies on various components of the stack such as Elasticsearch, Kibana and Logstash.
Any updates, deprecations, or changes in the stack products can directly impact the functionality of the plugin.</p>
<p><span class="strong strong"><strong>When upgrading Elasticsearch</strong></span></p>
<p>This plugin is compiled with a specific version of Elasticsearch and embeds Elasticsearch Ingest Node components that match the <code class="literal">major.minor</code> stack version. Therefore, we recommend using a plugin version that aligns with the <code class="literal">major.minor</code> version of your stack.</p>
<p>If the versions do not match, the plugin may encounter issues such as failing to load or execute pipelines. For example, if your Elasticsearch version is newer than the plugin, the plugin may not support new features introduced in the updated Elasticsearch version.
Conversely, if your Elasticsearch version is older, the plugin may rely on features that have been deprecated or removed in your Elasticsearch version.</p>
<p><span class="strong strong"><strong>When upgrading Kibana</strong></span></p>
<p>When you upgrade Kibana, Kibana downloads the latest version of the integrations through <a href="/guide/en/fleet/master/fleet-overview.html#package-registry-intro" class="ulink" target="_top">Elastic Package Registry</a>.
As part of the upgrade process, you will also have the opportunity to review and upgrade your currently installed integrations to their latest versions.
However, we strongly recommend upgrading the <a class="xref" href="plugins-filters-elastic_integration.html" title="Elastic Integration filter plugin">elastic_integration filter</a> plugin before upgrading Kibana and Elasticsearch.
This is because <a class="xref" href="plugins-filters-elastic_integration.html" title="Elastic Integration filter plugin">elastic_integration filter</a> plugin pulls and processes the ingest pipelines associated with the installed integrations.
These pipelines are then executed using the Elasticsearch Ingest Node components that the plugin was compiled with.
If Elasticsearch or Elasticsearch is upgraded first, there is a risk of incompatibility between the plugin&#8217;s ingest componenets and the newer versions of Elasticsearch&#8217;s Ingest Node features or Kibana&#8217;s integration definitions.</p>
<p><span class="strong strong"><strong>When upgrading Logstash</strong></span></p>
<p>This plugin is by default embedded in Logstash core. When you upgrade Logstash, new version of the plugin is installed.
The plugin is backward compatible accross Logstash 8.x versions. However, if you are considering to upgrade Logstash only (not the plugin), there are exceptions cases, such as JDK compatibility which require matching certain Logstash versions.
We recommend visiting <a class="xref" href="plugins-filters-elastic_integration.html#plugins-filters-elastic_integration-requirements" title="Requirements and upgrade guidance">elastic_integration plugin requirements</a> guide considering the Logstash version you are upgrading to.</p>




</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="shutdown.html">« Shutting Down Logstash</a>
</span>
<span class="next">
<a href="upgrading-using-package-managers.html">Upgrading using package managers »</a>
</span>
</div>
</body>
</html>
