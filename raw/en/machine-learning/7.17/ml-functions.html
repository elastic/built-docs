<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="An introduction to machine learning anomaly detection, which analyzes time series data to identify and predict anomalous patterns in your data.">
<meta name="keywords" content="ML, Elastic Stack, anomaly detection, overview">
<title>Function reference | Machine Learning in the Elastic Stack [7.17] | Elastic</title>
<meta class="elastic" name="content" content="Function reference | Machine Learning in the Elastic Stack [7.17]">

<link rel="home" href="index.html" title="Machine Learning in the Elastic Stack [7.17]"/>
<link rel="up" href="xpack-ml.html" title="Anomaly detection"/>
<link rel="prev" href="ootb-ml-jobs-uptime.html" title="Uptime anomaly detection configurations"/>
<link rel="next" href="ml-count-functions.html" title="Count functions"/>
<meta class="elastic" name="product_version" content="7.17"/>
<meta class="elastic" name="product_name" content="Machine Learning"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Machine Learning/7.17"/>
<meta name="DC.subject" content="Machine Learning"/>
<meta name="DC.identifier" content="7.17"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Machine Learning in the Elastic Stack [7.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="xpack-ml.html">Anomaly detection</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ootb-ml-jobs-uptime.html">« Uptime anomaly detection configurations</a>
</span>
<span class="next">
<a href="ml-count-functions.html">Count functions »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ml-functions"></a>Function reference<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/elasticsearch/edit/7.17/docs/reference/ml/anomaly-detection/functions/ml-functions.asciidoc">edit</a></h2>
</div></div></div>
<p>The machine learning features include analysis functions that provide a wide variety of
flexible ways to analyze data for anomalies.</p>
<p>When you create anomaly detection jobs, you specify one or more detectors, which define
the type of analysis that needs to be done. If you are creating your job by
using machine learning APIs, you specify the functions in detector configuration objects.
If you are creating your job in Kibana, you specify the functions differently
depending on whether you are creating single metric, multi-metric, or advanced
jobs.</p>
<p>Most functions detect anomalies in both low and high values. In statistical
terminology, they apply a two-sided test. Some functions offer low and high
variations (for example, <code class="literal">count</code>, <code class="literal">low_count</code>, and <code class="literal">high_count</code>). These variations
apply one-sided tests, detecting anomalies only when the values are low or
high, depending one which alternative is used.</p>
<p>You can specify a <code class="literal">summary_count_field_name</code> with any function except <code class="literal">metric</code>.
When you use <code class="literal">summary_count_field_name</code>, the machine learning features expect the input
data to be pre-aggregated. The value of the <code class="literal">summary_count_field_name</code> field
must contain the count of raw events that were summarized. In Kibana, use the
<span class="strong strong"><strong>summary_count_field_name</strong></span> in advanced anomaly detection jobs. Analyzing aggregated
input data provides a significant boost in performance. For more information, see
<a class="xref" href="ml-configuring-aggregation.html" title="Aggregating data for faster performance">Aggregating data for faster performance</a>.</p>
<p>If your data is sparse, there may be gaps in the data which means you might have
empty buckets. You might want to treat these as anomalies or you might want these
gaps to be ignored. Your decision depends on your use case and what is important
to you. It also depends on which functions you use. The <code class="literal">sum</code> and <code class="literal">count</code>
functions are strongly affected by empty buckets. For this reason, there are
<code class="literal">non_null_sum</code> and <code class="literal">non_zero_count</code> functions, which are tolerant to sparse data.
These functions effectively ignore empty buckets.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="ml-count-functions.html" title="Count functions">Count functions</a>
</li>
<li class="listitem">
<a class="xref" href="ml-geo-functions.html" title="Geographic functions">Geographic functions</a>
</li>
<li class="listitem">
<a class="xref" href="ml-info-functions.html" title="Information Content Functions">Information Content Functions</a>
</li>
<li class="listitem">
<a class="xref" href="ml-metric-functions.html" title="Metric functions">Metric functions</a>
</li>
<li class="listitem">
<a class="xref" href="ml-rare-functions.html" title="Rare functions">Rare functions</a>
</li>
<li class="listitem">
<a class="xref" href="ml-sum-functions.html" title="Sum functions">Sum functions</a>
</li>
<li class="listitem">
<a class="xref" href="ml-time-functions.html" title="Time functions">Time functions</a>
</li>
</ul>
</div>







</div>
<div class="navfooter">
<span class="prev">
<a href="ootb-ml-jobs-uptime.html">« Uptime anomaly detection configurations</a>
</span>
<span class="next">
<a href="ml-count-functions.html">Count functions »</a>
</span>
</div>
</div>
</body>
</html>
