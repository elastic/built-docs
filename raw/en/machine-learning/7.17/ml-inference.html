<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="An introduction to machine learning data frame analytics, which enables you to analyze your data using classification, regression, and outlier detection algorithms and to generate trained models for predictions on new data.">
<meta name="keywords" content="ML, Elastic Stack, data frame analytics, overview">
<title>Inference | Machine Learning in the Elastic Stack [7.17] | Elastic</title>
<meta class="elastic" name="content" content="Inference | Machine Learning in the Elastic Stack [7.17]">

<link rel="home" href="index.html" title="Machine Learning in the Elastic Stack [7.17]"/>
<link rel="up" href="ml-dfa-concepts.html" title="Concepts"/>
<link rel="prev" href="dfa-classification.html" title="Classification"/>
<link rel="next" href="ml-dfanalytics-evaluate.html" title="Evaluating data frame analytics"/>
<meta class="elastic" name="product_version" content="7.17"/>
<meta class="elastic" name="product_name" content="Machine Learning"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Machine Learning/7.17"/>
<meta name="DC.subject" content="Machine Learning"/>
<meta name="DC.identifier" content="7.17"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Machine Learning in the Elastic Stack [7.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-dfanalytics.html">Data frame analytics</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-dfa-concepts.html">Concepts</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="dfa-classification.html">« Classification</a>
</span>
<span class="next">
<a href="ml-dfanalytics-evaluate.html">Evaluating data frame analytics »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ml-inference"></a>Inference<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/7.17/docs/en/stack/ml/df-analytics/ml-inference.asciidoc">edit</a></h2>
</div></div></div>
<p>Inference is a machine learning feature that enables you to use supervised machine learning processes
– like <a class="xref" href="dfa-regression.html" title="Regression">Regression</a> or <a class="xref" href="dfa-classification.html" title="Classification">Classification</a> – not only as a batch
analysis but in a continuous fashion. This means that inference makes it possible
to use <a class="xref" href="ml-trained-models.html" title="Trained models">trained machine learning models</a> against incoming data.</p>
<p>For instance, suppose you have an online service and you would like to predict
whether a customer is likely to churn. You have an index with historical data –
information on the customer behavior throughout the years in your business – and
a classification model that is trained on this data. The new information comes
into a destination index of a continuous transform. With inference, you can perform the
classification analysis against the new data with the same input fields that you&#8217;ve
trained the model on, and get a prediction.</p>
<p>Let&#8217;s take a closer look at the machinery behind inference.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-inference-processor"></a>Inference processor<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/7.17/docs/en/stack/ml/df-analytics/ml-inference.asciidoc">edit</a></h3>
</div></div></div>
<p>Inference can be used as a processor specified in an
<a href="/guide/en/elasticsearch/reference/7.17/ingest.html" class="ulink" target="_top">ingest pipeline</a>. It uses a trained model to infer against
the data that is being ingested in the pipeline. The model is used on the
<a href="/guide/en/elasticsearch/reference/7.17/ingest.html" class="ulink" target="_top">ingest node</a>. Inference pre-processes the data by using the
model and provides a prediction. After the process, the pipeline continues
executing (if there is any other processor in the pipeline), finally the new
data together with the results are indexed into the destination index.</p>
<p>Check the <a href="/guide/en/elasticsearch/reference/7.17/inference-processor.html" class="ulink" target="_top">inference processor</a> and
<a href="/guide/en/elasticsearch/reference/7.17/ml-df-analytics-apis.html" class="ulink" target="_top">the machine learning data frame analytics API documentation</a> to
learn more about the feature.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-inference-aggregation"></a>Inference aggregation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/7.17/docs/en/stack/ml/df-analytics/ml-inference.asciidoc">edit</a></h3>
</div></div></div>
<p>Inference can also be used as a pipeline aggregation. You can reference a
trained model in the aggregation to infer on the result field of the parent
bucket aggregation. The inference aggregation uses the model on the results to
provide a prediction. This aggregation enables you to run classification or
regression analysis at search time. If you want to perform the analysis on a small set
of data, this aggregation enables you to generate predictions without the need
to set up a processor in the ingest pipeline.</p>
<p>Check the
<a href="/guide/en/elasticsearch/reference/7.17/search-aggregations-pipeline-inference-bucket-aggregation.html" class="ulink" target="_top">inference bucket aggregation</a>
and <a href="/guide/en/elasticsearch/reference/7.17/ml-df-analytics-apis.html" class="ulink" target="_top">the machine learning data frame analytics API documentation</a> to
learn more about the feature.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use trained model aliases to reference your trained model in an
inference processor or inference aggregation, you can replace your trained model
with a new one without the need of updating the processor or the aggregation.
Reassign the alias you used to a new trained model ID by using the
<a href="/guide/en/elasticsearch/reference/7.17/put-trained-models-aliases.html" class="ulink" target="_top">Create or update trained model aliases API</a>.
The new trained model needs to use the same type of data frame analytics as the old
one.</p>
</div>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="dfa-classification.html">« Classification</a>
</span>
<span class="next">
<a href="ml-dfanalytics-evaluate.html">Evaluating data frame analytics »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>
