<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="An introduction to machine learning anomaly detection, which analyzes time series data to identify and predict anomalous patterns in your data.">
<meta name="keywords" content="ML, Elastic Stack, anomaly detection, overview">
<title>APM anomaly detection configurations | Machine Learning in the Elastic Stack [7.17] | Elastic</title>
<meta class="elastic" name="content" content="APM anomaly detection configurations | Machine Learning in the Elastic Stack [7.17]">

<link rel="home" href="index.html" title="Machine Learning in the Elastic Stack [7.17]"/>
<link rel="up" href="ootb-ml-jobs.html" title="Supplied anomaly detection configurations"/>
<link rel="prev" href="ootb-ml-jobs-apache.html" title="Apache anomaly detection configurations"/>
<link rel="next" href="ootb-ml-jobs-auditbeat.html" title="Auditbeat anomaly detection configurations"/>
<meta class="elastic" name="product_version" content="7.17"/>
<meta class="elastic" name="product_name" content="Machine Learning"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Machine Learning/7.17"/>
<meta name="DC.subject" content="Machine Learning"/>
<meta name="DC.identifier" content="7.17"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Machine Learning in the Elastic Stack [7.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="xpack-ml.html">Anomaly detection</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ootb-ml-jobs.html">Supplied anomaly detection configurations</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ootb-ml-jobs-apache.html">« Apache anomaly detection configurations</a>
</span>
<span class="next">
<a href="ootb-ml-jobs-auditbeat.html">Auditbeat anomaly detection configurations »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ootb-ml-jobs-apm"></a>APM anomaly detection configurations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/7.17/docs/en/stack/ml/anomaly-detection/ootb-ml-jobs-apm.asciidoc">edit</a></h2>
</div></div></div>

<p>These anomaly detection job wizards appear in Kibana if you have data from APM Agents or
an APM Server stored in Elasticsearch. For more details, see the datafeed and job
definitions in the <code class="literal">apm_*</code> folders in
<a href="https://github.com/elastic/kibana/tree/7.17/x-pack/plugins/ml/server/models/data_recognizer/modules" class="ulink" target="_top">GitHub</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="apm-nodejs-jobs"></a>NodeJS<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/7.17/docs/en/stack/ml/anomaly-detection/ootb-ml-jobs-apm.asciidoc">edit</a></h3>
</div></div></div>
<p>Detect abnormal traces, anomalous spans, and identify periods of decreased
throughput. These configurations are only available if data exists that matches
the recognizer query specified in the
<a href="https://github.com/elastic/kibana/blob/7.17/x-pack/plugins/ml/server/models/data_recognizer/modules/apm_nodejs/manifest.json#L8" class="ulink" target="_top">mainfest file</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
abnormal_span_durations_nodejs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM Node.js agents (where <code class="literal">agent.name</code> is <code class="literal">nodejs</code>).
</li>
<li class="listitem">
Models the duration of spans.
</li>
<li class="listitem">
Detects spans that are taking longer than usual to process.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
abnormal_trace_durations_nodejs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM Node.js agents (where <code class="literal">agent.name</code> is <code class="literal">nodejs</code>).
</li>
<li class="listitem">
Models the duration of trace transactions.
</li>
<li class="listitem">
Detects trace transactions that are processing slower than usual.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
decreased_throughput_nodejs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM Node.js agents (where <code class="literal">agent.name</code> is <code class="literal">nodejs</code>).
</li>
<li class="listitem">
Models the transaction rate of the application.
</li>
<li class="listitem">
Detects periods during which the application is processing fewer requests
than normal.
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="apm-rum-javascript-jobs"></a>RUM Javascript<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/7.17/docs/en/stack/ml/anomaly-detection/ootb-ml-jobs-apm.asciidoc">edit</a></h3>
</div></div></div>
<p>Detect problematic spans and identify user agents that are potentially causing
issues. These configurations are only available if data exists that matches the
recognizer query specified in the
<a href="https://github.com/elastic/kibana/blob/7.17/x-pack/plugins/ml/server/models/data_recognizer/modules/apm_jsbase/manifest.json#L8" class="ulink" target="_top">manifest file</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
abnormal_span_durations_jsbase
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM RUM JavaScript agents (where <code class="literal">agent.name</code> is <code class="literal">js-base</code>).
</li>
<li class="listitem">
Models the duration of spans.
</li>
<li class="listitem">
Detects spans that are taking longer than usual to process.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
anomalous_error_rate_for_user_agents_jsbase
</span>
</dt>
<dd>
<p>
This job can help detect browser compatibility issues.
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM RUM JavaScript agents (where <code class="literal">agent.name</code> is <code class="literal">js-base</code>).
</li>
<li class="listitem">
Models the error rate of user agents.
</li>
<li class="listitem">
Detects user agents that are encountering errors at an above normal rate.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
decreased_throughput_jsbase
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM RUM JavaScript agents or Elastic APM Node.js agents (where <code class="literal">agent.name</code> is
<code class="literal">js-base</code>).
</li>
<li class="listitem">
Models the transaction rate of the application.
</li>
<li class="listitem">
Detects periods during which the application is processing fewer requests than
normal.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
high_count_by_user_agent_jsbase
</span>
</dt>
<dd>
<p>
This job is useful in identifying bots.
</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM RUM JavaScript agents (where <code class="literal">agent.name</code> is <code class="literal">js-base</code>).
</li>
<li class="listitem">
Models the request rate of user agents.
</li>
<li class="listitem">
Detects user agents that are making requests at a suspiciously high rate.
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="apm-transaction-jobs"></a>Transactions<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/7.17/docs/en/stack/ml/anomaly-detection/ootb-ml-jobs-apm.asciidoc">edit</a></h3>
</div></div></div>
<p>Detect anomalies in transactions from your APM services. These configurations
are only available if data exists that matches the following term query:
<code class="literal">"processor.event": "transaction"</code>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
high_mean_transaction_duration
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For transaction data where <code class="literal">processor.event</code> is <code class="literal">transaction</code>.
</li>
<li class="listitem">
Models duration of transactions by transaction type for APM services.
</li>
<li class="listitem">
Detects anomalies in high mean of transaction duration.
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="ootb-ml-jobs-apache.html">« Apache anomaly detection configurations</a>
</span>
<span class="next">
<a href="ootb-ml-jobs-auditbeat.html">Auditbeat anomaly detection configurations »</a>
</span>
</div>
</div>
</body>
</html>
