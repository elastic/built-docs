<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Set up machine learning features | Machine Learning in the Elastic Stack [7.6] | Elastic</title>
<meta class="elastic" name="content" content="Set up machine learning features | Machine Learning in the Elastic Stack [7.6]">

<link rel="home" href="index.html" title="Machine Learning in the Elastic Stack [7.6]"/>
<link rel="up" href="index.html" title="Machine Learning in the Elastic Stack [7.6]"/>
<link rel="prev" href="index.html" title="Machine Learning in the Elastic Stack [7.6]"/>
<link rel="next" href="ml-getting-started.html" title="Getting started with machine learning"/>
<meta class="elastic" name="product_version" content="7.6"/>
<meta class="elastic" name="product_name" content="Machine Learning"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Machine Learning/7.6"/>
<meta name="DC.subject" content="Machine Learning"/>
<meta name="DC.identifier" content="7.6"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Machine Learning in the Elastic Stack [7.6]</a></span>
</div>
<div class="navheader">
<span class="prev">
</span>
<span class="next">
<a href="ml-getting-started.html">Getting started with machine learning »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h1 class="title"><a id="setup"></a>Set up machine learning features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.6/docs/en/stack/ml/setup.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h1>
</div></div></div>

<p>To use the Elastic Stack machine learning features, you must have the
<a href="/subscriptions" class="ulink" target="_top">appropriate license</a> and at least one <a class="xref" href="setup.html#ml-nodes" title="Machine learning nodes">machine learning node</a> in
your Elasticsearch cluster. If Elastic Stack security features are enabled, you must also
ensure your users have the <a class="xref" href="setup.html#setup-privileges" title="Security privileges">necessary privileges</a>.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>The fastest way to get started with machine learning features is to
<a href="/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">start a free 14-day
trial of Elasticsearch Service</a> in the cloud.</p>
</div>
</div>
<h3><a id="ml-nodes"></a>Machine learning nodes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.6/docs/en/stack/ml/setup.asciidoc">edit</a></h3>
<p>To use machine learning features, there must be at least one machine learning node in your cluster. A
machine learning node is a node that has <code class="literal">xpack.ml.enabled</code> and <code class="literal">node.ml</code> set to <code class="literal">true</code>,
which is the default behavior.</p>
<p>You can limit which nodes run resource-intensive activity related to machine learning jobs
by setting <code class="literal">node.ml</code> to <code class="literal">false</code> on some nodes. In that case, they can service
API requests but cannot run machine learning jobs. For more information, see
<a href="/guide/en/elasticsearch/reference/7.6/modules-node.html#ml-node" class="ulink" target="_top">Machine learning nodes</a>.</p>
<h3><a id="setup-privileges"></a>Security privileges<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.6/docs/en/stack/ml/setup.asciidoc">edit</a></h3>
<p>The Elasticsearch security features provide <a href="/guide/en/elasticsearch/reference/7.6/built-in-roles.html" class="ulink" target="_top">built-in roles</a>
and <a href="/guide/en/elasticsearch/reference/7.6/security-privileges.html" class="ulink" target="_top">privileges</a> that make it easier to control
which users can manage or view machine learning objects such as jobs, datafeeds, results, and
model snapshots.</p>
<p>To <em>view</em> the configuration, status, and results of the machine learning features, you
must have:</p>
<div class="ulist checklist itemizedlist">
<ul class="checklist">
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">machine_learning_user</code> or <code class="literal">machine_learning_admin</code> built-in roles
</li>
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">read</code> and <code class="literal">view_index_metadata</code> index privileges on source indices
</li>
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">read</code> index privileges on destination indices (for data frame analytics jobs
only)
</li>
</ul>
</div>
<p>To <em>manage</em> machine learning features, you must have:</p>
<div class="ulist checklist itemizedlist">
<ul class="checklist">
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">machine_learning_admin</code> built-in role
</li>
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">read</code> and <code class="literal">view_index_metadata</code> index privileges on source indices
</li>
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">read</code>, <code class="literal">manage</code>, and <code class="literal">index</code> index privileges on destination indices (for
data frame analytics jobs only)
</li>
</ul>
</div>
<p>If you use machine learning features in Kibana, you must also have:</p>
<div class="ulist checklist itemizedlist">
<ul class="checklist">
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">kibana_admin</code> built-in role or a custom role that
<a href="/guide/en/kibana/7.6/xpack-security-authorization.html" class="ulink" target="_top">grants access to Kibana</a>
</li>
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">monitor</code> cluster privilege to manage data frame analytics jobs
</li>
</ul>
</div>
<p>If you use Kibana to create categorization anomaly detection jobs, you must
also have:</p>
<div class="ulist checklist itemizedlist">
<ul class="checklist">
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">manage</code> cluster privileges
</li>
</ul>
</div>
<p>If you use the <span class="strong strong"><strong>Data Visualizer</strong></span> to upload files in Kibana, you must also have:</p>
<div class="ulist checklist itemizedlist">
<ul class="checklist">
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">monitor</code> and <code class="literal">manage_ingest_pipelines</code> cluster privileges
</li>
<li class="listitem">
<input type="checkbox" data-item-complete="0"> <code class="literal">read</code>, <code class="literal">manage</code>, and <code class="literal">index</code> index privileges for the destination index
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
</span>
<span class="next">
<a href="ml-getting-started.html">Getting started with machine learning »</a>
</span>
</div>
</div>
</body>
</html>
