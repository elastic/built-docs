<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>APM anomaly detection configurations | Machine Learning in the Elastic Stack [7.7] | Elastic</title>
<link rel="home" href="index.html" title="Machine Learning in the Elastic Stack [7.7]"/>
<link rel="up" href="ootb-ml-jobs.html" title="Supplied anomaly detection configurations"/>
<link rel="prev" href="ootb-ml-jobs-apache.html" title="Apache anomaly detection configurations"/>
<link rel="next" href="ootb-ml-jobs-auditbeat.html" title="Auditbeat anomaly detection configurations"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Machine Learning/7.7"/>
<meta name="DC.subject" content="Machine Learning"/>
<meta name="DC.identifier" content="7.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Machine Learning in the Elastic Stack [7.7]</a></span>
»
<span class="breadcrumb-link"><a href="xpack-ml.html">Anomaly detection</a></span>
»
<span class="breadcrumb-link"><a href="ootb-ml-jobs.html">Supplied anomaly detection configurations</a></span>
»
<span class="breadcrumb-node">APM anomaly detection configurations</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ootb-ml-jobs-apache.html">« Apache anomaly detection configurations</a>
</span>
<span class="next">
<a href="ootb-ml-jobs-auditbeat.html">Auditbeat anomaly detection configurations »</a>
</span>
</div>
<div class="section xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ootb-ml-jobs-apm"></a>APM anomaly detection configurations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/7.7/docs/en/stack/ml/anomaly-detection/ootb-ml-jobs-apm.asciidoc">edit</a><a class="xpack_tag" href="/subscriptions"></a></h2>
</div></div></div>

<p>These anomaly detection job wizards appear in Kibana if you have data from APM Agents or
an APM Server stored in Elasticsearch. For more details, see the datafeed and job
definitions in the <code class="literal">apm_*</code> folders in
<a href="https://github.com/elastic/kibana/tree/7.7/x-pack/plugins/ml/server/models/data_recognizer/modules" class="ulink" target="_top">GitHub</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
abnormal_span_durations_jsbase
</span>
</dt>
<dt>
<span class="term">
abnormal_span_durations_nodejs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM RUM JavaScript Agents or Elastic APM Node.js Agents (where <code class="literal">agent.name</code> is <code class="literal">js-base</code> or <code class="literal">nodejs</code>).
</li>
<li class="listitem">
Models the duration of spans (<code class="literal">partition_field_name</code> is <code class="literal">span.type</code>).
</li>
<li class="listitem">
Detects for spans that are taking longer than usual to process (using the
<a class="xref" href="ml-metric-functions.html#ml-metric-mean" title="Mean, high_mean, low_mean"><code class="literal">high_mean</code> function</a>).
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
abnormal_trace_durations_nodejs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM Node.js Agents (where <code class="literal">agent.name</code> is <code class="literal">nodejs</code>).
</li>
<li class="listitem">
Models the duration of trace transactions.
</li>
<li class="listitem">
Detects trace transactions that are processing slower than usual (using the
<a class="xref" href="ml-metric-functions.html#ml-metric-mean" title="Mean, high_mean, low_mean"><code class="literal">high_mean</code> function</a>).
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
anomalous_error_rate_for_user_agents_jsbase
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM RUM JavaScript Agents (where <code class="literal">agent.name</code> is <code class="literal">js-base</code>).
</li>
<li class="listitem">
Models the error rate of user agents (<code class="literal">partition_field_name</code> is
<code class="literal">user_agent.name</code>).
</li>
<li class="listitem">
Detects user agents that are encountering errors at an above normal rate
(using the <a class="xref" href="ml-count-functions.html#ml-nonzero-count" title="Non_zero_count, high_non_zero_count, low_non_zero_count"><code class="literal">high_non_zero_count</code> function</a>).
</li>
</ul>
</div>
</dd>
</dl>
</div>
<p>This job can help detect browser compatibility issues.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
decreased_throughput_jsbase
</span>
</dt>
<dt>
<span class="term">
decreased_throughput_nodejs
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM RUM JavaScript Agents or Elastic APM Node.js Agents (where <code class="literal">agent.name</code> is <code class="literal">js-base</code> or <code class="literal">nodejs</code>).
</li>
<li class="listitem">
Models the transaction rate of the application.
</li>
<li class="listitem">
Detects periods during which the application is processing fewer requests
than normal (using the <a class="xref" href="ml-count-functions.html#ml-count" title="Count, high_count, low_count"><code class="literal">low_count</code> function</a>).
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
high_count_by_user_agent_jsbase
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For data from Elastic APM RUM JavaScript Agents (where <code class="literal">agent.name</code> is <code class="literal">js-base</code>).
</li>
<li class="listitem">
Models the request rate of user agents (<code class="literal">partition_field_name</code> is
<code class="literal">user_agent.name</code>).
</li>
<li class="listitem">
Detects user agents that are making requests at a suspiciously high rate
(using the <a class="xref" href="ml-count-functions.html#ml-nonzero-count" title="Non_zero_count, high_non_zero_count, low_non_zero_count"><code class="literal">high_non_zero_count</code> function</a>).
</li>
</ul>
</div>
</dd>
</dl>
</div>
<p>This job is useful in identifying bots.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
high_mean_response_time
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
For transaction data where <code class="literal">processor.event</code> is <code class="literal">transaction</code> and
<code class="literal">transaction.type</code> is <code class="literal">request</code>.
</li>
<li class="listitem">
Models response time duration of transactions.
</li>
<li class="listitem">
Detects anomalies in high mean of transaction duration (using the
<a class="xref" href="ml-metric-functions.html#ml-metric-mean" title="Mean, high_mean, low_mean"><code class="literal">high_mean</code> function</a>).
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="ootb-ml-jobs-apache.html">« Apache anomaly detection configurations</a>
</span>
<span class="next">
<a href="ootb-ml-jobs-auditbeat.html">Auditbeat anomaly detection configurations »</a>
</span>
</div>
</div>
</body>
</html>
