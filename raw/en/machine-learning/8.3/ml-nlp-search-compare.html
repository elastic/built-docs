<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="ML, Elastic Stack, natural language processing, text embedding">
<title>Search and compare text | Machine Learning in the Elastic Stack [8.3] | Elastic</title>
<meta class="elastic" name="content" content="Search and compare text | Machine Learning in the Elastic Stack [8.3]">

<link rel="home" href="index.html" title="Machine Learning in the Elastic Stack [8.3]"/>
<link rel="up" href="ml-nlp-overview.html" title="Overview"/>
<link rel="prev" href="ml-nlp-classify-text.html" title="Classify text"/>
<link rel="next" href="ml-nlp-deploy-models.html" title="Deploy trained models"/>
<meta class="elastic" name="product_version" content="8.3"/>
<meta class="elastic" name="product_name" content="Machine Learning"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Machine Learning/8.3"/>
<meta name="DC.subject" content="Machine Learning"/>
<meta name="DC.identifier" content="8.3"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Machine Learning in the Elastic Stack [8.3]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-nlp.html">Natural language processing</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-nlp-overview.html">Overview</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ml-nlp-classify-text.html">« Classify text</a>
</span>
<span class="next">
<a href="ml-nlp-deploy-models.html">Deploy trained models »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ml-nlp-search-compare"></a>Search and compare text<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/8.3/docs/en/stack/ml/nlp/ml-nlp-search-compare.asciidoc">edit</a></h2>
</div></div></div>
<p>The Elastic Stack machine learning features can generate embeddings, which you can use to search in
unstructured text or compare different pieces of text.</p>
<h4><a id="ml-nlp-text-embedding"></a>Text embedding<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/stack-docs/edit/8.3/docs/en/stack/ml/nlp/ml-nlp-search-compare.asciidoc">edit</a></h4>
<p>Text embedding is a task which produces a mathematical representation of text
called an embedding. The machine learning model turns the text into an array of numerical
values (also known as a <em>vector</em>). Pieces of content with similar meaning have
similar representations. This means it is possible to determine whether
different pieces of text are either semantically similar, different, or even
opposite by using a mathematical similarity function.</p>
<p>This task is responsible for producing only the embedding. When the
embedding is created, it can be stored in a
<a href="/guide/en/elasticsearch/reference/8.3/dense-vector.html" class="ulink" target="_top">dense_vector</a> field and used at search time. For
example, you can use these vectors in a
<a href="/guide/en/elasticsearch/reference/8.3/knn-search.html" class="ulink" target="_top">k-nearest neighbor (kNN) search</a> to achieve semantic
search capabilities.</p>
<p>The following is an example of producing a text embedding:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">{
    docs: [{"text_field": "The quick brown fox jumps over the lazy dog."}]
}
...</pre>
</div>
<p>The task returns the following result:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">...
{
    "predicted_value": [0.293478, -0.23845, ..., 1.34589e2, 0.119376]
    ...
}
...</pre>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="ml-nlp-classify-text.html">« Classify text</a>
</span>
<span class="next">
<a href="ml-nlp-deploy-models.html">Deploy trained models »</a>
</span>
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>
