<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="ML, Elastic Stack, anomaly detection, data frame analytics">
<title>Appendix A: Apache anomaly detection configurations | Machine Learning in the Elastic Stack [master] | Elastic</title>
<meta class="elastic" name="content" content="Appendix A: Apache anomaly detection configurations | Machine Learning in the Elastic Stack [master]">

<link rel="home" href="index.html" title="Machine Learning in the Elastic Stack [master]"/>
<link rel="up" href="index.html" title="Machine Learning in the Elastic Stack [master]"/>
<link rel="prev" href="ml-ad-troubleshooting.html" title="Troubleshooting machine learning anomaly detection and frequently asked questions"/>
<link rel="next" href="ootb-ml-jobs-apm.html" title="Appendix B: APM anomaly detection configurations"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Machine Learning"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Elastic Stack/Machine Learning/master"/>
<meta name="DC.subject" content="Machine Learning"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="ml-ad-troubleshooting.html">« Troubleshooting machine learning anomaly detection and frequently asked questions</a>
</span>
<span class="next">
<a href="ootb-ml-jobs-apm.html">Appendix B: APM anomaly detection configurations »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Machine Learning in the Elastic Stack [master]</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Appendix A: Apache anomaly detection configurations</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/main/docs/en/stack/ml/anomaly-detection/ootb-ml-jobs-apache.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="appendix exclude">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ootb-ml-jobs-apache"></a>Appendix A: Apache anomaly detection configurations<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/main/docs/en/stack/ml/anomaly-detection/ootb-ml-jobs-apache.asciidoc">edit</a></h2>
</div></div></div>
<p>These anomaly detection job wizards appear in Kibana if you use the Apache integration in
Fleet or you use Filebeat to ship access logs from your
<a href="https://httpd.apache.org/" class="ulink" target="_top">Apache</a> HTTP servers to Elasticsearch. The jobs assume that you
use fields and data types from the Elastic Common Schema (ECS).</p>
<h2><a id="apache-access-logs"></a>Apache access logs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/main/docs/en/stack/ml/anomaly-detection/ootb-ml-jobs-apache.asciidoc">edit</a></h2>
<p>These anomaly detection jobs find unusual activity in HTTP access logs.</p>
<p>For more details, see the datafeed and job definitions in
<a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json" class="ulink" target="_top">GitHub</a>.
Note that these jobs are available in Kibana only if data exists that matches the
query specified in the
<a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L11" class="ulink" target="_top">manifest file</a>.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Job</th>
<th align="left" valign="top">Datafeed</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>low_request_rate_apache</p></td>
<td align="left" valign="top"><p>Detects low request rates.</p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L215" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L370" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>source_ip_request_rate_apache</p></td>
<td align="left" valign="top"><p>Detects unusual source IPs - high request rates.</p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L176" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L349" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>source_ip_url_count_apache</p></td>
<td align="left" valign="top"><p>Detects unusual source IPs - high distinct count of URLs.</p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L136" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L328" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>status_code_rate_apache</p></td>
<td align="left" valign="top"><p>Detects unusual status code rates.</p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L90" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L307" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>visitor_rate_apache</p></td>
<td align="left" valign="top"><p>Detects unusual visitor rates.</p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L47" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/integrations/blob/main/packages/apache/kibana/ml_module/apache-Logs-ml.json#L260" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
</tr>
</tbody>
</table>
</div>
<h2><a id="apache-access-logs-filebeat"></a>Apache access logs (Filebeat)<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/stack-docs/edit/main/docs/en/stack/ml/anomaly-detection/ootb-ml-jobs-apache.asciidoc">edit</a></h2>
<p>These legacy anomaly detection jobs find unusual activity in HTTP access logs. For the
latest versions, install the Apache integration in Fleet; see
<a class="xref" href="ootb-ml-jobs-apache.html#apache-access-logs" title="Apache access logs">Apache access logs</a>.</p>
<p>For more details, see the datafeed and job definitions in
<a href="https://github.com/elastic/kibana/tree/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml" class="ulink" target="_top">GitHub</a>.</p>
<p>These configurations are only available if data exists that matches the
recognizer query specified in the
<a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/manifest.json#L8" class="ulink" target="_top">manifest file</a>.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Name</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Job</th>
<th align="left" valign="top">Datafeed</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>low_request_rate_ecs</p></td>
<td align="left" valign="top"><p>Detects low request rates (ECS).</p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml/low_request_rate_ecs.json" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml/datafeed_low_request_rate_ecs.json" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>source_ip_request_rate_ecs</p></td>
<td align="left" valign="top"><p>Detects unusual source IPs - high request rates (ECS).</p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml/source_ip_request_rate_ecs.json" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml/datafeed_source_ip_request_rate_ecs.json" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>source_ip_url_count_ecs</p></td>
<td align="left" valign="top"><p>Detect unusual source IPs - high distinct count of URLs (ECS).</p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml/source_ip_url_count_ecs.json" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml/datafeed_source_ip_url_count_ecs.json" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>status_code_rate_ecs</p></td>
<td align="left" valign="top"><p>Detects unusual status code rates (ECS).</p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml/status_code_rate_ecs.json" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml/datafeed_status_code_rate_ecs.json" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p>visitor_rate_ecs</p></td>
<td align="left" valign="top"><p>Detects unusual visitor rates (ECS).</p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml/visitor_rate_ecs.json" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
<td align="left" valign="top"><p><a href="https://github.com/elastic/kibana/blob/master/x-pack/plugins/ml/server/models/data_recognizer/modules/apache_ecs/ml/datafeed_visitor_rate_ecs.json" class="ulink" target="_top"><span class="image"><img src="images/link.svg" alt="A link icon"></span></a></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="ml-ad-troubleshooting.html">« Troubleshooting machine learning anomaly detection and frequently asked questions</a>
</span>
<span class="next">
<a href="ootb-ml-jobs-apm.html">Appendix B: APM anomaly detection configurations »</a>
</span>
</div>
</body>
</html>
