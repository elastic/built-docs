<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Inspect metric anomalies | Observability Guide [7.12] | Elastic</title>
<link rel="home" href="index.html" title="Observability Guide [7.12]"/>
<link rel="up" href="analyze-metrics.html" title="Metrics monitoring"/>
<link rel="prev" href="explore-metrics.html" title="Group and analyze metrics"/>
<link rel="next" href="configure-settings.html" title="Configure settings"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/7.12"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="7.12"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Observability Guide [7.12]</a></span>
»
<span class="breadcrumb-link"><a href="analyze-metrics.html">Metrics monitoring</a></span>
»
<span class="breadcrumb-node">Inspect metric anomalies</span>
</div>
<div class="navheader">
<span class="prev">
<a href="explore-metrics.html">« Group and analyze metrics</a>
</span>
<span class="next">
<a href="configure-settings.html">Configure settings »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="inspect-metric-anomalies"></a>Inspect metric anomalies<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.12/docs/en/observability/inspect-metric-anomalies.asciidoc">edit</a></h2>
</div></div></div>
<p>When the anomaly detection features of machine learning are enabled, you can create machine learning jobs
to detect and inspect memory usage and network traffic anomalies for hosts and
Kubernetes pods.</p>
<p>You can model system memory usage, along with inbound and outbound network
traffic across hosts or pods. You can detect unusual increases in memory usage,
and unusually high inbound or outbound traffic across hosts or pods.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="ml-jobs-hosts"></a>Enable machine learning jobs for hosts or Kubernetes pods<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.12/docs/en/observability/inspect-metric-anomalies.asciidoc">edit</a></h3>
</div></div></div>
<p>Create a machine learning job to detect anomalous memory usage and network traffic
automatically.</p>
<p>Once the machine learning jobs are created, these settings can not be changed. You can
recreate these jobs later. However, any previously detected anomalies are
removed.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the side navigation, click <span class="strong strong"><strong>Observability &gt; Metrics &gt; Anomaly detection</strong></span>.
</li>
<li class="listitem">
You’ll be prompted to create a machine learning job for <span class="strong strong"><strong>Hosts</strong></span> or
<span class="strong strong"><strong>Kubernetes Pods</strong></span>.
</li>
<li class="listitem">
<p>Choose a start date for the machine learning analysis.</p>
<p>Machine learning jobs analyze the last four weeks of data and continue to run
indefinitely.</p>
</li>
<li class="listitem">
<p>Select a partition field.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>By default, the Kubernetes partition field <code class="literal">kubernetes.namespace</code> is selected.</p>
</div>
</div>
<p>Partitions allow you to create independent models for different groups of data
that share similar behavior. For example, you may want to build separate models
for machine type, or cloud availability zone, so that anomalies are not weighted
equally across groups.</p>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Enable Jobs</strong></span>.
</li>
<li class="listitem">
You&#8217;re now ready to explore your metric anomalies. Click <span class="strong strong"><strong>View anomalies</strong></span> to
view the <a href="/guide/en/machine-learning/7.12/ml-gs-results.html" class="ulink" target="_top">Anomaly Explorer in Machine Learning</a>.
</li>
</ol>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>These pre-defined anomaly detection jobs use <a href="/guide/en/machine-learning/7.12/ml-rules.html" class="ulink" target="_top">custom rules</a>. To
update the rules in the <span class="strong strong"><strong>Anomaly Explorer</strong></span>, select <span class="strong strong"><strong>actions &gt; Configure
rules</strong></span>. The changes only take effect for new results.
If you want to apply the changes to existing results, clone and rerun the job.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/ml-custom-rules.jpg" alt="Update custom rules">
</div>
</div>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="history-chart"></a>History chart<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.12/docs/en/observability/inspect-metric-anomalies.asciidoc">edit</a></h3>
</div></div></div>
<p>On the <span class="strong strong"><strong>Inventory</strong></span> page, click <span class="strong strong"><strong>Show history</strong></span> to view the metric values within
the selected time frame. Detected anomalies with an anomaly score equal to 50,
or higher, are highlighted in red. To examine the detected anomalies, use the
<a href="/guide/en/machine-learning/7.12/ml-gs-results.html" class="ulink" target="_top">Anomaly Explorer</a>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/metrics-history-chart.png" alt="History">
</div>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="explore-metrics.html">« Group and analyze metrics</a>
</span>
<span class="next">
<a href="configure-settings.html">Configure settings »</a>
</span>
</div>
</div>
</body>
</html>
