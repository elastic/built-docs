<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="Learn configuration options for Elastic Serverless Forwarder and how to transform your AWS data as it is collected from Amazon Web Services (AWS).">
<meta name="keywords" content="serverless">
<title>Preventing unexpected costs | Observability Guide [7.17] | Elastic</title>
<meta class="elastic" name="content" content="Preventing unexpected costs | Observability Guide [7.17]">

<link rel="home" href="index.html" title="Observability Guide [7.17]"/>
<link rel="up" href="aws-serverless-troubleshooting.html" title="Troubleshooting and error handling"/>
<link rel="prev" href="aws-serverless-troubleshooting-vpc-prerequisites.html" title="Prerequisites when attached to a VPC"/>
<link rel="next" href="aws-serverless-troubleshooting-event-id-format.html" title="Using the Event ID format (version 1.6.0 and above)"/>
<meta class="elastic" name="product_version" content="7.17"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/7.17"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="7.17"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Observability Guide [7.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="add-observability-data.html">Send data to Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="aws-elastic-serverless-forwarder.html">Elastic Serverless Forwarder for AWS</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="aws-serverless-troubleshooting.html">Troubleshooting and error handling</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="aws-serverless-troubleshooting-vpc-prerequisites.html">« Prerequisites when attached to a VPC</a>
</span>
<span class="next">
<a href="aws-serverless-troubleshooting-event-id-format.html">Using the Event ID format (version 1.6.0 and above) »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="_preventing_unexpected_costs"></a>Preventing unexpected costs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.17/docs/en/observability/aws-serverless-troubleshooting.asciidoc">edit</a></h4>
</div></div></div>
<p>It is important to monitor the Elastic Serverless Forwarder Lambda function for timeouts to prevent unexpected costs. You can use the <a href="https://docs.elastic.co/en/integrations/aws/lambda" class="ulink" target="_top">AWS Lambda integration</a> for this. If the timeouts are constant, you should throttle the Lambda function to stop its execution before proceeding with any troubleshooting steps. In most cases, constant timeouts will cause the records and messages from the event triggers to go back to their sources and trigger the function again, which will cause further timeouts and force a loop that will incure unexpected high costs. For more information on throttling Lambda functions, refer to <a href="https://docs.aws.amazon.com/lambda/latest/operatorguide/throttling.html" class="ulink" target="_top">AWS docs</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_increase_debug_information"></a>Increase debug information<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.17/docs/en/observability/aws-serverless-troubleshooting.asciidoc">edit</a></h5>
</div></div></div>
<p>To help with debugging, you can increase the amount of logging detail by adding an environment variable as follows:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select the serverless forwarder <span class="strong strong"><strong>application</strong></span> from <span class="strong strong"><strong>Lambda &gt; Functions</strong></span>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Configuration</strong></span> and select <span class="strong strong"><strong>Environment Variables</strong></span> and choose <span class="strong strong"><strong>Edit</strong></span>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add environment variable</strong></span> and enter <code class="literal">LOG_LEVEL</code> as <span class="strong strong"><strong>Key</strong></span> and <code class="literal">DEBUG</code> as <span class="strong strong"><strong>Value</strong></span> and click <span class="strong strong"><strong>Save</strong></span>
</li>
</ol>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="aws-serverless-troubleshooting-vpc-prerequisites.html">« Prerequisites when attached to a VPC</a>
</span>
<span class="next">
<a href="aws-serverless-troubleshooting-event-id-format.html">Using the Event ID format (version 1.6.0 and above) »</a>
</span>
</div>
</div>
</body>
</html>
