<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Step 3: Enable and configure modules | Observability Guide [7.9] | Elastic</title>
<meta class="elastic" name="content" content="Step 3: Enable and configure modules | Observability Guide [7.9]">

<link rel="home" href="index.html" title="Observability Guide [7.9]"/>
<link rel="up" href="ingest-metrics.html" title="Ingest metrics"/>
<link rel="prev" href="metrics-connect-to-stack.html" title="Step 2: Connect to Elasticsearch and Kibana"/>
<link rel="next" href="set-metricbeat-assets.html" title="Step 4: Set up assets"/>
<meta class="elastic" name="product_version" content="7.9"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/7.9"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="7.9"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Observability Guide [7.9]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="add-observability-data.html">Send data to Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ingest-metrics.html">Ingest metrics</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="metrics-connect-to-stack.html">« Step 2: Connect to Elasticsearch and Kibana</a>
</span>
<span class="next">
<a href="set-metricbeat-assets.html">Step 4: Set up assets »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="enable-metrics-modules"></a>Step 3: Enable and configure modules<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/7.9/docs/en/observability/ingest-metrics.asciidoc">edit</a></h3>
</div></div></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Identify the modules you need to enable. To see a list of available <a href="/guide/en/beats/metricbeat/7.9/metricbeat-modules.html" class="ulink" target="_top">modules</a>, run:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="List modules">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-list-modules"
            id="deb-list-modules">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-list-modules"
            id="rpm-list-modules"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-list-modules"
            id="mac-list-modules"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="brew-tab-list-modules"
            id="brew-list-modules"
            tabindex="-1">
      Brew
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-list-modules"
            id="linux-list-modules"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-list-modules"
            id="win-list-modules"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-list-modules"
       aria-labelledby="deb-list-modules">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-list-modules"
       aria-labelledby="rpm-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-list-modules"
       aria-labelledby="mac-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./metricbeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="brew-tab-list-modules"
       aria-labelledby="brew-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-list-modules"
       aria-labelledby="linux-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./metricbeat modules list</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-list-modules"
       aria-labelledby="win-list-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; .\metricbeat.exe modules list</pre>
</div>
  </div>
</div>
</li>
<li class="listitem">
<p>From the installation directory, enable one or more modules. If you accept the default configuration without enabling additional
modules, Metricbeat collects system metrics only.</p>
<p>The following command enables the <code class="literal">apache</code> and <code class="literal">mysql</code> configs in the <code class="literal">modules.d</code> directory:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Enable modules">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-enable-modules"
            id="deb-enable-modules">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-enable-modules"
            id="rpm-enable-modules"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-enable-modules"
            id="mac-enable-modules"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="brew-tab-enable-modules"
            id="brew-enable-modules"
            tabindex="-1">
      Brew
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-enable-modules"
            id="linux-enable-modules"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-enable-modules"
            id="win-enable-modules"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-enable-modules"
       aria-labelledby="deb-enable-modules">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat modules enable apache mysql</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-enable-modules"
       aria-labelledby="rpm-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat modules enable apache mysql</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-enable-modules"
       aria-labelledby="mac-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./metricbeat modules enable apache mysql</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="brew-tab-enable-modules"
       aria-labelledby="brew-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">metricbeat modules enable apache mysql</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-enable-modules"
       aria-labelledby="linux-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">./metricbeat modules enable apache mysql</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-enable-modules"
       aria-labelledby="win-enable-modules"
       hidden="">
<div class="pre_wrapper lang-sh">
<pre class="programlisting prettyprint lang-sh">PS &gt; .\metricbeat.exe modules enable apache mysql</pre>
</div>
  </div>
</div>
<p>See the <a href="/guide/en/beats/metricbeat/7.9/command-line-options.html#modules-command" class="ulink" target="_top">modules command</a>
to learn more about this command. If you are using a Docker image,
see <a href="/guide/en/beats/metricbeat/7.9/running-on-docker.html" class="ulink" target="_top">Run Metricbeat on Docker</a>.</p>
</li>
<li class="listitem">
In the module configs under <code class="literal">modules.d</code>, change the module settings to match your environment.
See <a href="/guide/en/beats/metricbeat/7.9/configuration-metricbeat.html#module-config-options" class="ulink" target="_top">Standard config options</a>
for more about available settings.
</li>
</ol>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>To test your configuration file, change to the directory where the Metricbeat binary is installed, and run
Metricbeat in the foreground with the following options specified: <code class="literal">./metricbeat test config -e</code>. Make sure
your config files are in the path expected by Metricbeat (see
<a href="/guide/en/beats/metricbeat/7.9/directory-layout.html" class="ulink" target="_top">Directory layout</a>), or use
the <code class="literal">-c</code> flag to specify the path to the config file.</p>
</div>
</div>
<p>For more information about configuring Metricbeat, also see:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/beats/metricbeat/7.9/configuring-howto-metricbeat.html" class="ulink" target="_top">Configure Metricbeat</a>
</li>
<li class="listitem">
<a href="/guide/en/beats/libbeat/7.9/config-file-format.html" class="ulink" target="_top">Config file format</a>
</li>
<li class="listitem">
<a href="/guide/en/beats/metricbeat/7.9/metricbeat-reference-yml.html" class="ulink" target="_top"><code class="literal">metricbeat.reference.yml</code></a>:
This reference configuration file shows all non-deprecated options. You’ll find it in the same location as <code class="literal">metricbeat.yml</code>.
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="metrics-connect-to-stack.html">« Step 2: Connect to Elasticsearch and Kibana</a>
</span>
<span class="next">
<a href="set-metricbeat-assets.html">Step 4: Set up assets »</a>
</span>
</div>
</div>
</body>
</html>
