<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>User Experience | Observability Guide [7.x] | Elastic</title>
<link rel="home" href="index.html" title="Observability Guide [7.x]"/>
<link rel="up" href="index.html" title="Observability Guide [7.x]"/>
<link rel="prev" href="synthetics-visualize.html" title="Visualize synthetic monitoring"/>
<link rel="next" href="create-alerts.html" title="Alerting"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/7.x"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="7.x"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Observability Guide [7.x]</a></span>
»
<span class="breadcrumb-node">User Experience</span>
</div>
<div class="navheader">
<span class="prev">
<a href="synthetics-visualize.html">« Visualize synthetic monitoring</a>
</span>
<span class="next">
<a href="create-alerts.html">Alerting »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h1 class="title"><a id="user-experience"></a>User Experience<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h1>
</div></div></div>
<p>User Experience provides a way to quantify and analyze the perceived performance of your web application.
Unlike testing environments, User Experience data reflects real-world user experiences.
Drill down further by looking at data by URL, operating system, browser, and location&#8201;&#8212;&#8201;all of which can impact how your application performs on end-user machines.</p>
<p>Powered by the APM Real user monitoring (RUM) agent, all it takes is a few lines of code to begin
surfacing key user experience metrics.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/user-experience-tab.png" alt="User experience tab">
</div>
</div>
<h3><a id="why-user-experience"></a>Why is User Experience important?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h3>
<p>Search engines are placing increasing importance on user experience when organically ranking websites.
Elastic makes it easy to view your website data in the context of Google Core Web Vitals&#8201;&#8212;&#8201;metrics that score three key areas of user experience: loading performance, visual stability, and interactivity.
These Core Web Vitals are set to become the main performance measurement in Google ranking factors.
If you’re a content-based site that wants to appear in the “Top Stories” section of Google search results,
you must have good Core Web Vitals.</p>
<h3><a id="how-user-experience-works"></a>How does User Experience work?<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h3>
<p>User Experience metrics are powered by the <a href="/guide/en/apm/agent/rum-js/current" class="ulink" target="_top">APM Real User Monitoring (RUM) agent</a>.
The RUM agent uses browser timing APIs, like <a href="https://w3c.github.io/navigation-timing/" class="ulink" target="_top">Navigation Timing</a>,
<a href="https://w3c.github.io/resource-timing/" class="ulink" target="_top">Resource Timing</a>, <a href="https://w3c.github.io/paint-timing/" class="ulink" target="_top">Paint Timing</a>,
and <a href="https://w3c.github.io/user-timing/" class="ulink" target="_top">User Timing</a>, to capture user experience
metrics every time a user hits one of your pages.
This data is stored in Elasticsearch, where it can be visualized using Kibana.</p>
<p>The RUM agent can be installed as a dependency to your application, or with just a few lines of JavaScript.
It only takes a few minutes to <a class="xref" href="instrument-apps.html" title="Instrument applications">get started</a>.</p>
<h3><a id="user-experience-tab"></a>User Experience in Kibana<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h3>
<h4><a id="user-experience-page-load"></a>Page load duration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h4>
<p>This high-level overview is your analysis starting point and answers questions like:
How long is my server taking to respond to requests?
How much time is spent parsing and painting that content?
How many page views has my site received?</p>
<p>You won&#8217;t be able to fix any problems from viewing these metrics alone,
but you&#8217;ll get a sense of the big picture as you dive deeper into your data.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/page-load-duration.png" alt="User experience page load duration metrics">
</div>
</div>
<h4><a id="user-experience-metrics"></a>User Experience metrics<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h4>
<p>User Experience metrics help you understand the perceived performance of your website.
For example, first contentful paint is the timestamp when the browser begins rendering content.
In other words, it&#8217;s around this time that a user first gets feedback that the page is loading.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/user-exp-metrics.png" alt="User experience metrics">
</div>
</div>
<details>
<summary class="title">Metric reference</summary>
<div class="content">
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
First contentful paint
</span>
</dt>
<dd>
Focusses on the initial rendering and measures the time from when the page starts loading to when
any part of the page&#8217;s content is displayed on the screen.
The agent uses the <a href="https://www.w3.org/TR/paint-timing/#first-contentful-paint" class="ulink" target="_top">Paint timing API</a> available
in the browser to capture the timing information.
<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>
</dd>
<dt>
<span class="term">
Total blocking time
</span>
</dt>
<dd>
The sum of the blocking time (duration above 50 ms) for each long task that occurs between the
First contentful paint and the time when the transaction is completed.
Total blocking time is a great companion metric for <a href="https://web.dev/tti/" class="ulink" target="_top">Time to interactive</a>
(TTI) which is lab metric and not available in the field through browser APIs.
The agent captures TBT based on the number of long tasks that occurred during the page load lifecycle.
<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>
</dd>
<dt>
<span class="term">
<code class="literal">Long Tasks</code>
</span>
</dt>
<dd>
A long task is any user activity or browser task that monopolize the UI thread for extended periods
(greater than 50 milliseconds) and block other critical tasks (frame rate or input latency)
from being executed.
<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>
</dd>
<dt>
<span class="term">
Number of long tasks
</span>
</dt>
<dd>
The number of long tasks.
</dd>
<dt>
<span class="term">
Longest long task duration
</span>
</dt>
<dd>
Duration of the longest long task on the page.
</dd>
<dt>
<span class="term">
Total long tasks duration
</span>
</dt>
<dd>
Total duration of all long tasks
</dd>
</dl>
</div>
</div>
</details>
<p>These metrics tell an important story about how users experience your website.
But developers shouldn&#8217;t have to become experts at interpreting and acting on these signals;
they should spend their time reacting to the opportunities that these metrics present.
For that reason (and many others), Elastic has embraced Google Core Web Vitals.</p>
<h5><a id="user-experience-core-vitals"></a>Core Web Vitals<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h5>
<p><a href="https://web.dev/vitals/" class="ulink" target="_top">Core Web Vitals</a> is a recent initiative from Google to introduce a new set of
metrics that better categorize good and bad sites by quantifying the real-world user experience.
This is done by looking at three key metrics: loading performance, visual stability, and interactivity:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/web-dev-vitals.png" alt="Web dev vitals (image source: https://web.dev/vitals)">
</div>
</div>
<p>Image source: <a href="https://web.dev/vitals/" class="ulink" target="_top">web.dev/vitals</a></p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Largest contentful paint (LCP)
</span>
</dt>
<dd>
Loading performance. LCP is the timestamp when the main content of a page has likely loaded.
To users, this is the <em>perceived</em> loading speed of your site.
To provide a good user experience, Google recommends an LCP of fewer than 2.5 seconds.
<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>
</dd>
<dt>
<span class="term">
First input delay (FID)
</span>
</dt>
<dd>
Load responsiveness. FID measures the time between a user&#8217;s first interaction with a page, like a click,
and when the page can respond to those interactions.
To provide a good user experience, Google recommends a FID of less than 100 milliseconds.
<sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup>
</dd>
<dt>
<span class="term">
Cumulative layout shift (CLS)
</span>
</dt>
<dd>
Visual stability. Is content moving around because of async resource loading or dynamic content additions?
CLS measures these frustrating unexpected layout shifts.
To provide a good user experience, Google recommends a CLS score of less than <code class="literal">.1</code>.
<sup class="footnote">[<a id="_footnoteref_6" class="footnote" href="#_footnotedef_6" title="View footnote.">6</a>]</sup>
</dd>
</dl>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p><a href="https://webmasters.googleblog.com/2020/11/timing-for-page-experience.html" class="ulink" target="_top">Beginning in May 2021</a>,
Google will start using Core Web Vitals as part of their ranking algorithm
and will open up the opportunity for websites to rank in the "top stories"
position without needing to leverage <a href="https://amp.dev/" class="ulink" target="_top">AMP</a>.
<sup class="footnote">[<a id="_footnoteref_7" class="footnote" href="#_footnotedef_7" title="View footnote.">7</a>]</sup></p>
</div>
</div>
<h4><a id="user-experience-distribution"></a>Load/view distribution<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h4>
<p>Operating system, browser family, and geographic location can all have a massive impact on how visitors
experience your website.
This data can help you understand when and where your users are visiting from, and can help you
prioritize optimizations&#8201;&#8212;&#8201;for example, prioritizing improvements for the most popular browsers visiting your site.</p>
<p>Don&#8217;t forget, this data also influences search engine page rankings and placement in top stories for content sites&#8201;&#8212;&#8201;without requiring the use of AMP.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/visitor-breakdown.png" alt="User experience visitor breakdown">
</div>
</div>
<h4><a id="user-experience-errors"></a>Error breakdown<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h4>
<p>JavaScript errors can be detrimental to a users experience on your website.
But variation in users' software and hardware makes it nearly impossible to test for every combination.
And, as JavaScript continues to get more and more complex,
the need for user experience monitoring and error reporting only increases.
Error monitoring removes this blindspot by surfacing JavaScript errors that are
occurring on your website in production.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/js-errors.png" alt="User experience javascript errors">
</div>
</div>
<p>Open error messages in APM for additional analysis tools,
like occurrence rates, transaction ids, user data, and more.</p>
<h4><a id="user-experience-feedback"></a>Feedback and troubleshooting<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h4>
<p>Have a question? Want to leave feedback? Visit the
<a href="https://discuss.elastic.co/tags/c/observability/uptime/75/user-experience" class="ulink" target="_top">User experience discussion forum</a>.</p>
<h5><a id="user-experience-references"></a>References<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/7.x/docs/en/observability/user-experience.asciidoc">edit</a></h5>
</div>
<div id="footnotes">
<div class="footnote" id="_footnotedef_1">
<sup>[<a href="#_footnoteref_1">1</a>]</sup> More information: <a href="https://developer.mozilla.org/en-US/docs/Glossary/First_contentful_paint" class="ulink" target="_top">developer.mozilla.org</a>
</div>
<div class="footnote" id="_footnotedef_2">
<sup>[<a href="#_footnoteref_2">2</a>]</sup> More information: <a href="https://web.dev/tbt/" class="ulink" target="_top">web.dev</a>
</div>
<div class="footnote" id="_footnotedef_3">
<sup>[<a href="#_footnoteref_3">3</a>]</sup> More information: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Long_Tasks_API" class="ulink" target="_top">developer.mozilla.org</a>
</div>
<div class="footnote" id="_footnotedef_4">
<sup>[<a href="#_footnoteref_4">4</a>]</sup> Source: <a href="https://web.dev/lcp/" class="ulink" target="_top">web.dev</a>
</div>
<div class="footnote" id="_footnotedef_5">
<sup>[<a href="#_footnoteref_5">5</a>]</sup> Source: <a href="https://web.dev/fid/" class="ulink" target="_top">web.dev</a>
</div>
<div class="footnote" id="_footnotedef_6">
<sup>[<a href="#_footnoteref_6">6</a>]</sup> Source: <a href="https://web.dev/cls/" class="ulink" target="_top">web.dev</a>
</div>
<div class="footnote" id="_footnotedef_7">
<sup>[<a href="#_footnoteref_7">7</a>]</sup> Source: <a href="https://webmasters.googleblog.com/2020/05/evaluating-page-experience.html" class="ulink" target="_top">webmasters.googleblog.com</a>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="synthetics-visualize.html">« Visualize synthetic monitoring</a>
</span>
<span class="next">
<a href="create-alerts.html">Alerting »</a>
</span>
</div>
</div>
</body>
</html>
