<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Stream any log file | Elastic Observability [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Stream any log file | Elastic Observability [8.15]">

<link rel="home" href="index.html" title="Elastic Observability [8.15]"/>
<link rel="up" href="logs-checklist.html" title="Log monitoring"/>
<link rel="prev" href="logs-checklist.html" title="Log monitoring"/>
<link rel="next" href="logs-parse.html" title="Parse and organize logs"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/8.15"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="8.15"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="logs-checklist.html">« Log monitoring</a>
</span>
<span class="next">
<a href="logs-parse.html">Parse and organize logs »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="logs-checklist.html">Log monitoring</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Stream any log file</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="logs-stream"></a>Stream any log file</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
</div></div></div>
<p>This guide shows you how to send a log file to Elasticsearch using a standalone Elastic Agent and configure the Elastic Agent and your data streams using the <code class="literal">elastic-agent.yml</code> file, and query your logs using the data streams you&#8217;ve set up.</p>
<div class="position-relative"><h3><a id="logs-stream-prereq"></a>Prerequisites</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
<p>To follow the steps in this guide, you need an Elastic Stack deployment that includes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Elasticsearch for storing and searching data
</li>
<li class="listitem">
Kibana for visualizing and managing data
</li>
<li class="listitem">
Kibana user with <code class="literal">All</code> privileges on Fleet and Integrations. Since many
Integrations assets are shared across spaces, users need the Kibana privileges
in all spaces.
</li>
<li class="listitem">
Integrations Server (included by default in every Elasticsearch Service deployment)
</li>
</ul>
</div>
<p>To get started quickly, spin up a deployment of our hosted Elasticsearch Service. The Elasticsearch Service is
available on AWS, GCP, and Azure. <a href="/cloud/elasticsearch-service/signup?page=docs&amp;placement=docs-body" class="ulink" target="_top">Try it out for free</a>.</p>
<div class="position-relative"><h3><a id="logs-stream-install-config-agent"></a>Install and configure the standalone Elastic Agent</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
<p>Complete these steps to install and configure the standalone Elastic Agent and send your log data to Elasticsearch:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a class="xref" href="logs-stream.html#logs-stream-extract-agent" title="Step 1: Download and extract the Elastic Agent installation package">Download and extract the Elastic Agent installation package.</a>
</li>
<li class="listitem">
<a class="xref" href="logs-stream.html#logs-stream-install-agent" title="Step 2: Install and start the Elastic Agent">Install and start the Elastic Agent.</a>
</li>
<li class="listitem">
<a class="xref" href="logs-stream.html#logs-stream-agent-config" title="Step 3: Configure the Elastic Agent">Configure the Elastic Agent.</a>
</li>
</ol>
</div>
<div class="position-relative"><h4><a id="logs-stream-extract-agent"></a>Step 1: Download and extract the Elastic Agent installation package</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
<p>On your host, download and extract the installation package that corresponds with your system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Download">
    <button role="tab"
            aria-selected="true"
            aria-controls="mac-tab-download"
            id="mac-download">
      macOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-download"
            id="linux-download"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-download"
            id="win-download"
            tabindex="-1">
      Windows
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="deb-tab-download"
            id="deb-download"
            tabindex="-1">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-download"
            id="rpm-download"
            tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-download"
       aria-labelledby="mac-download">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-8.15.1-darwin-x86_64.tar.gz
tar xzvf elastic-agent-8.15.1-darwin-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-download"
       aria-labelledby="linux-download"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-8.15.1-linux-x86_64.tar.gz
tar xzvf elastic-agent-8.15.1-linux-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-download"
       aria-labelledby="win-download"
       hidden="">
<div class="pre_wrapper lang-powershell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-powershell"># PowerShell 5.0+
wget https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-8.15.1-windows-x86_64.zip -OutFile elastic-agent-8.15.1-windows-x86_64.zip
Expand-Archive .\elastic-agent-8.15.1-windows-x86_64.zip</pre>
</div>
<p>Or manually:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Download the Elastic Agent Windows zip file from the
<a href="/downloads/beats/elastic-agent" class="ulink" target="_top">download page</a>.
</li>
<li class="listitem">
Extract the contents of the zip file.
</li>
</ol>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-download"
       aria-labelledby="deb-download"
       hidden="">
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To simplify upgrading to future versions of Elastic Agent, we recommended
that you use the tarball distribution instead of the RPM distribution.
</li>
<li class="listitem">
You can install Elastic Agent in an <code class="literal">unprivileged</code> mode that does not require <code class="literal">root</code> privileges. Refer to <a href="/guide/en/fleet/8.15/elastic-agent-unprivileged.html" class="ulink" target="_top">Run Elastic Agent without administrative privileges</a> for details.
</li>
</ul>
</div>
</div>
</div>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-8.15.1-amd64.deb
sudo dpkg -i elastic-agent-8.15.1-amd64.deb</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-download"
       aria-labelledby="rpm-download"
       hidden="">
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To simplify upgrading to future versions of Elastic Agent, we recommended
that you use the tarball distribution instead of the RPM distribution.
</li>
<li class="listitem">
You can install Elastic Agent in an <code class="literal">unprivileged</code> mode that does not require <code class="literal">root</code> privileges. Refer to <a href="/guide/en/fleet/8.15/elastic-agent-unprivileged.html" class="ulink" target="_top">Run Elastic Agent without administrative privileges</a> for details.
</li>
</ul>
</div>
</div>
</div>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-8.15.1-x86_64.rpm
sudo rpm -vi elastic-agent-8.15.1-x86_64.rpm</pre>
</div>
  </div>
</div>
<div class="position-relative"><h4><a id="logs-stream-install-agent"></a>Step 2: Install and start the Elastic Agent</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
<p>After downloading and extracting the installation package, you&#8217;re ready to install the Elastic Agent. From the agent directory, run the install command that corresponds with your system:</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>On macOS, Linux (tar package), and Windows, run the <code class="literal">install</code> command to
install and start Elastic Agent as a managed service and start the service. The DEB and RPM
packages include a service unit for Linux systems with
systemd, For these systems, you must enable and start the service.</p>
</div>
</div>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Run the agent standalone">
    <button role="tab"
            aria-selected="true"
            aria-controls="mac-tab-run-standalone"
            id="mac-run-standalone">
      macOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-run-standalone"
            id="linux-run-standalone"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-run-standalone"
            id="win-run-standalone"
            tabindex="-1">
      Windows
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="deb-tab-run-standalone"
            id="deb-run-standalone"
            tabindex="-1">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-run-standalone"
            id="rpm-run-standalone"
            tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-run-standalone"
       aria-labelledby="mac-run-standalone">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo ./elastic-agent install</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-run-standalone"
       aria-labelledby="linux-run-standalone"
       hidden="">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo ./elastic-agent install</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-run-standalone"
       aria-labelledby="win-run-standalone"
       hidden="">
<p>Open a PowerShell prompt as an Administrator (right-click the PowerShell icon
and select <span class="strong strong"><strong>Run As Administrator</strong></span>).</p>
<p>From the PowerShell prompt, change to the directory where you installed Elastic Agent,
and run:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">.\elastic-agent.exe install</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-run-standalone"
       aria-labelledby="deb-run-standalone"
       hidden="">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl enable elastic-agent <a id="CO71-1"></a><i class="conum" data-value="1"></i>
sudo systemctl start elastic-agent</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO71-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The DEB package includes a service unit for Linux systems with systemd. On
these systems, you can manage Elastic Agent by using the usual systemd commands. If
you don&#8217;t have systemd, run <code class="literal">sudo service elastic-agent start</code>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-run-standalone"
       aria-labelledby="rpm-run-standalone"
       hidden="">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl enable elastic-agent <a id="CO72-1"></a><i class="conum" data-value="1"></i>
sudo systemctl start elastic-agent</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO72-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The RPM package includes a service unit for Linux systems with systemd. On
these systems, you can manage Elastic Agent by using the usual systemd commands. If
you don&#8217;t have systemd, run <code class="literal">sudo service elastic-agent start</code>.</p>
</td>
</tr>
</table>
</div>
  </div>
</div>
<p>During installation, you&#8217;re prompted with some questions:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
When asked if you want to install the agent as a service, enter <code class="literal">Y</code>.
</li>
<li class="listitem">
When asked if you want to enroll the agent in Fleet, enter <code class="literal">n</code>.
</li>
</ol>
</div>
<div class="position-relative"><h4><a id="logs-stream-agent-config"></a>Step 3: Configure the Elastic Agent</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
<p>With your agent installed, configure it by updating the <code class="literal">elastic-agent.yml</code> file.</p>
<div class="position-relative"><h5><a id="logs-stream-yml-location"></a>Locate your configuration file</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
<p>After installing the agent, you&#8217;ll find the <code class="literal">elastic-agent.yml</code> in one of the following locations according to your system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Installation layout">
    <button role="tab"
            aria-selected="true"
            aria-controls="mac-tab-yml-location"
            id="mac-yml-location">
      macOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-yml-location"
            id="linux-yml-location"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-yml-location"
            id="win-yml-location"
            tabindex="-1">
      Windows
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="deb-tab-yml-location"
            id="deb-yml-location"
            tabindex="-1">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-yml-location"
            id="rpm-yml-location"
            tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-yml-location"
       aria-labelledby="mac-yml-location">
<p>Main Elastic Agent configuration file location:</p>
<p><code class="literal">/Library/Elastic/Agent/elastic-agent.yml</code></p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-yml-location"
       aria-labelledby="linux-yml-location"
       hidden="">
<p>Main Elastic Agent configuration file location:</p>
<p><code class="literal">/opt/Elastic/Agent/elastic-agent.yml</code></p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-yml-location"
       aria-labelledby="win-yml-location"
       hidden="">
<p>Main Elastic Agent configuration file location:</p>
<p><code class="literal">C:\Program Files\Elastic\Agent\elastic-agent.yml</code></p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-yml-location"
       aria-labelledby="deb-yml-location"
       hidden="">
<p>Main Elastic Agent configuration file location:</p>
<p><code class="literal">/etc/elastic-agent/elastic-agent.yml</code></p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-yml-location"
       aria-labelledby="rpm-yml-location"
       hidden="">
<p>Main Elastic Agent configuration file location:</p>
<p><code class="literal">/etc/elastic-agent/elastic-agent.yml</code></p>
  </div>
</div>
<div class="position-relative"><h5><a id="logs-stream-example-config"></a>Update your configuration file</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
<p>The following is an example of a standalone Elastic Agent configuration. To configure your Elastic Agent, replace the contents of the <code class="literal">elastic-agent.yml</code> file with this configuration:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">outputs:
  default:
    type: elasticsearch
    hosts: '&lt;your-elasticsearch-endpoint&gt;:&lt;port&gt;'
    api_key: 'your-api-key'
inputs:
  - id: your-log-id
    type: filestream
    streams:
      - id: your-log-stream-id
        data_stream:
          dataset: example
        paths:
          - /var/log/your-logs.log</pre>
</div>
<p>Next, set the values for these fields:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">hosts</code> – Copy the Elasticsearch endpoint from <span class="strong strong"><strong>Help menu (<span class="image"><img src="images/help-icon.png" alt="help icon"></span>) → Connection details</strong></span>. For example, <code class="literal">https://my-deployment.es.us-central1.gcp.cloud.es.io:443</code>.
</li>
<li class="listitem">
<p><code class="literal">api-key</code> – Use an API key to grant the agent access to Elasticsearch. To create an API key for your agent, refer to the <a href="/guide/en/fleet/8.15/grant-access-to-elasticsearch.html#create-api-key-standalone-agent" class="ulink" target="_top">Create API keys for standalone agents</a> documentation.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The API key format should be <code class="literal">&lt;id&gt;:&lt;key&gt;</code>. Make sure you selected <span class="strong strong"><strong>Beats</strong></span> when you created your API key. Base64 encoded API keys are not currently supported in this configuration.</p>
</div>
</div>
</li>
<li class="listitem">
<code class="literal">inputs.id</code> – A unique identifier for your input.
</li>
<li class="listitem">
<code class="literal">type</code> – The type of input. For collecting logs, set this to <code class="literal">filestream</code>.
</li>
<li class="listitem">
<code class="literal">streams.id</code> – A unique identifier for your stream of log data.
</li>
<li class="listitem">
<code class="literal">data_stream.dataset</code> – The name for your dataset data stream. Name this data stream anything that signifies the source of the data. In this configuration, the dataset is set to <code class="literal">example</code>. The default value is <code class="literal">generic</code>.
</li>
<li class="listitem">
<code class="literal">paths</code> – The path to your log files. You can also use a pattern like <code class="literal">/var/log/your-logs.log*</code>.
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="logs-stream-restart-agent"></a>Restart the Elastic Agent</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
<p>After updating your configuration file, you need to restart the Elastic Agent:</p>
<p>First, stop the Elastic Agent and its related executables using the command that works with your system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Stop the agent">
    <button role="tab"
            aria-selected="true"
            aria-controls="mac-tab-stop"
            id="mac-stop">
      macOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-stop"
            id="linux-stop"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-stop"
            id="win-stop"
            tabindex="-1">
      Windows
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="deb-tab-stop"
            id="deb-stop"
            tabindex="-1">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-stop"
            id="rpm-stop"
            tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-stop"
       aria-labelledby="mac-stop">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo launchctl unload /Library/LaunchDaemons/co.elastic.elastic-agent.plist</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Agent will restart automatically if the system is rebooted.</p>
</div>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-stop"
       aria-labelledby="linux-stop"
       hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent stop</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Agent will restart automatically if the system is rebooted.</p>
</div>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-stop"
       aria-labelledby="win-stop"
       hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">Stop-Service Elastic Agent</pre>
</div>
<p>If necessary, use Task Manager on Windows to stop Elastic Agent. This will kill the
<code class="literal">elastic-agent</code> process and any sub-processes it created (such as Beats).</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Agent will restart automatically if the system is rebooted.</p>
</div>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-stop"
       aria-labelledby="deb-stop"
       hidden="">
<p>The DEB package includes a service unit for Linux systems with systemd. On these
systems, you can manage Elastic Agent by using the usual systemd commands.</p>
<p>Use <code class="literal">systemctl</code> to stop the agent:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl stop elastic-agent</pre>
</div>
<p>Otherwise, use:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent stop</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Agent will restart automatically if the system is rebooted.</p>
</div>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-stop"
       aria-labelledby="rpm-stop"
       hidden="">
<p>The RPM package includes a service unit for Linux systems with systemd. On these
systems, you can manage Elastic Agent by using the usual systemd commands.</p>
<p>Use <code class="literal">systemctl</code> to stop the agent:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl stop elastic-agent</pre>
</div>
<p>Otherwise, use:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent stop</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Agent will restart automatically if the system is rebooted.</p>
</div>
</div>
  </div>
</div>
<p>Next, restart the Elastic Agent using the command that works with your system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="start the agent">
    <button role="tab"
            aria-selected="true"
            aria-controls="mac-tab-start"
            id="mac-start">
      macOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-start"
            id="linux-start"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-start"
            id="win-start"
            tabindex="-1">
      Windows
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="deb-tab-start"
            id="deb-start"
            tabindex="-1">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-start"
            id="rpm-start"
            tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-start"
       aria-labelledby="mac-start">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo launchctl load /Library/LaunchDaemons/co.elastic.elastic-agent.plist</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-start"
       aria-labelledby="linux-start"
       hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent start</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-start"
       aria-labelledby="win-start"
       hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">Start-Service Elastic Agent</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-start"
       aria-labelledby="deb-start"
       hidden="">
<p>The DEB package includes a service unit for Linux systems with systemd. On these
systems, you can manage Elastic Agent by using the usual systemd commands.</p>
<p>Use <code class="literal">systemctl</code> to start the agent:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl start elastic-agent</pre>
</div>
<p>Otherwise, use:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent start</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-start"
       aria-labelledby="rpm-start"
       hidden="">
<p>The RPM package includes a service unit for Linux systems with systemd. On these
systems, you can manage Elastic Agent by using the usual systemd commands.</p>
<p>Use <code class="literal">systemctl</code> to start the agent:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl start elastic-agent</pre>
</div>
<p>Otherwise, use:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent start</pre>
</div>
  </div>
</div>
<div class="position-relative"><h3><a id="logs-stream-troubleshooting"></a>Troubleshoot your Elastic Agent configuration</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
<p>If you&#8217;re not seeing your log files in Kibana, verify the following in the <code class="literal">elastic-agent.yml</code> file:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The path to your logs file under <code class="literal">paths</code> is correct.
</li>
<li class="listitem">
Your API key is in <code class="literal">&lt;id&gt;:&lt;key&gt;</code> format. If not, your API key may be in an unsupported format, and you&#8217;ll need to create an API key in <span class="strong strong"><strong>Beats</strong></span> format.
</li>
</ul>
</div>
<p>If you&#8217;re still running into issues, see <a href="/guide/en/fleet/8.15/fleet-troubleshooting.html" class="ulink" target="_top">Elastic Agent troubleshooting</a> and <a href="/guide/en/fleet/8.15/elastic-agent-configuration.html" class="ulink" target="_top">Configure standalone Elastic Agents</a>.</p>
<div class="position-relative"><h3><a id="logs-stream-next-steps"></a>Next steps</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/logs-stream.asciidoc">edit</a></div>
<p>After you have your agent configured and are streaming log data to Elasticsearch:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refer to the <a class="xref" href="logs-parse.html" title="Parse and organize logs">Parse and organize logs</a> documentation for information on extracting structured fields from your log data, rerouting your logs to different data streams, and filtering and aggregating your log data.
</li>
<li class="listitem">
Refer to the <a class="xref" href="logs-filter-and-aggregate.html" title="Filter and aggregate logs">Filter and aggregate logs</a> documentation for information on filtering and aggregating your log data to find specific information, gain insight, and monitor your systems more efficiently.
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="logs-checklist.html">« Log monitoring</a>
</span>
<span class="next">
<a href="logs-parse.html">Parse and organize logs »</a>
</span>
</div>
</body>
</html>
