<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Configure Synthetics projects | Elastic Observability [8.15] | Elastic</title>
<meta class="elastic" name="content" content="Configure Synthetics projects | Elastic Observability [8.15]">

<link rel="home" href="index.html" title="Elastic Observability [8.15]"/>
<link rel="up" href="monitor-uptime-synthetics.html" title="Synthetic monitoring"/>
<link rel="prev" href="_filtering_monitors.html" title="Filtering monitors"/>
<link rel="next" href="synthetics-settings.html" title="Configure Synthetics settings"/>
<meta class="elastic" name="product_version" content="8.15"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/8.15"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="8.15"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="_filtering_monitors.html">« Filtering monitors</a>
</span>
<span class="next">
<a href="synthetics-settings.html">Configure Synthetics settings »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [8.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="monitor-uptime-synthetics.html">Synthetic monitoring</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Configure Synthetics projects</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/synthetics-configuration.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="synthetics-configuration"></a>Configure Synthetics projects<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/synthetics-configuration.asciidoc">edit</a></h2>
</div></div></div>

<p>Synthetic tests support the configuration of dynamic parameters that can be
used in projects. In addition, the Synthetics agent, which is built on top
of Playwright, supports configuring browser and context options that are available
in Playwright-specific methods, for example, <code class="literal">ignoreHTTPSErrors</code>, <code class="literal">extraHTTPHeaders</code>, and <code class="literal">viewport</code>.</p>
<p><a id="synthetics-config-file"></a>Create a <code class="literal">synthetics.config.js</code> or <code class="literal">synthetics.config.ts</code> file in the root of the
synthetics project and specify the options. For example:</p>
<div class="pre_wrapper lang-ts">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-ts">import type { SyntheticsConfig } from '@elastic/synthetics';

export default env =&gt; {
  const config: SyntheticsConfig = {
    params: {
      url: 'https://www.elastic.co',
    },
    playwrightOptions: {
      ignoreHTTPSErrors: false,
    },
    /**
     * Configure global monitor settings
     */
    monitor: {
      schedule: 10,
      locations: [ 'us_east' ],
    },
    /**
     * Project monitors settings
     */
    project: {
      id: 'my-project',
      url: 'https://abc123',
      space: 'custom-space',
    },
  };
  if (env !== 'development') {
    /**
     * Override configuration specific to environment
     * For example, config.params.url = ""
     */
  }
  return config;
};</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p><code class="literal">env</code> in the example above is the environment you are pushing from
<em>not</em> the environment where monitors will run. In other words, <code class="literal">env</code>
corresponds to the configured <code class="literal">NODE_ENV</code>.</p>
</div>
</div>
<p>The configuration file can either export an object, or a function that when
called should return the generated configuration. To know more about configuring
the tests based on environments, look at the <a class="xref" href="synthetics-params-secrets.html#synthetics-dynamic-configs" title="Project config file">dynamic configuration</a> documentation.</p>
<h3><a id="synthetics-configuration-params"></a><code class="literal">params</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/synthetics-configuration.asciidoc">edit</a></h3>
<p>A JSON object that defines any variables your tests require.
Read more in <a class="xref" href="synthetics-params-secrets.html" title="Work with params and secrets">Work with params and secrets</a>.</p>
<h3><a id="synthetics-configuration-playwright-options"></a><code class="literal">playwrightOptions</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/synthetics-configuration.asciidoc">edit</a></h3>
<p>For all available options, refer to the <a href="https://playwright.dev/docs/test-configuration" class="ulink" target="_top">Playwright documentation</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Do not attempt to run in headful mode (using <code class="literal">headless:false</code>) when running through Elastic&#8217;s global managed testing infrastructure or Private Locations as this is not supported.</p>
</div>
</div>
<p>Below are details on a few Playwright options that are particularly relevant to Elastic Synthetics including timeouts, timezones, and device emulation.</p>
<h4><a id="synthetics-configuration-playwright-options-timeouts"></a>Timeouts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/synthetics-configuration.asciidoc">edit</a></h4>
<p>Playwright has two types of timeouts that are used in Elastic Synthetics:
<a href="https://playwright.dev/docs/test-timeouts#action-and-navigation-timeouts" class="ulink" target="_top">action and navigation timeouts</a>.</p>
<p>Elastic Synthetics uses a default action and navigation timeout of 50 seconds.
You can override this default using <a href="https://playwright.dev/docs/api/class-testoptions#test-options-action-timeout" class="ulink" target="_top"><code class="literal">actionTimeout</code></a> and <a href="https://playwright.dev/docs/api/class-testoptions#test-options-navigation-timeout" class="ulink" target="_top"><code class="literal">navigationTimeout</code></a>
in <code class="literal">playwrightOptions</code>.</p>
<h4><a id="synthetics-configuration-playwright-options-timezones"></a>Timezones and locales<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/synthetics-configuration.asciidoc">edit</a></h4>
<p>The Elastic global managed testing infrastructure does not currently set the timezone.
For Private Locations, the monitors will use the timezone of the host machine running
the Elastic Agent. This is not always desirable if you want to test how a web application
behaves across different timezones. To specify what timezone to use when the monitor runs,
you can use <code class="literal">playwrightOptions</code> on a per monitor or global basis.</p>
<p>To use a timezone and/or locale for all monitors in the project, set
<a href="https://playwright.dev/docs/emulation#locale%2D%2Dtimezone" class="ulink" target="_top"><code class="literal">locale</code> and/or <code class="literal">timezoneId</code></a>
in the configuration file:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">playwrightOptions: {
  locale: 'en-AU',
  timezoneId: 'Australia/Brisbane',
}</pre>
</div>
<p>To use a timezone and/or locale for a <em>specific</em> monitor, add these options to a
journey using <a class="xref" href="synthetics-monitor-use.html" title="Configure individual browser monitors"><code class="literal">monitor.use</code></a>.</p>
<h4><a id="synthetics-config-device-emulation"></a>Device emulation<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/synthetics-configuration.asciidoc">edit</a></h4>
<p>Users can emulate a mobile device using the configuration file.
The example configuration below runs tests in "Pixel 5" emulation mode.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">import { SyntheticsConfig } from "@elastic/synthetics"
import { devices } from "playwright-chromium"

const config: SyntheticsConfig = {
  playwrightOptions: {
    ...devices['Pixel 5']
  }
}

export default config;</pre>
</div>
<h3><a id="synthetics-configuration-project"></a><code class="literal">project</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/synthetics-configuration.asciidoc">edit</a></h3>
<p>Information about the project.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
id (<code class="literal">string</code>)
</span>
</dt>
<dd>
<p>
A unique id associated with your project.
It will be used for logically grouping monitors.
</p>
<p>If you used <a class="xref" href="synthetics-command-reference.html#elastic-synthetics-init-command" title="@elastic/synthetics init"><code class="literal">init</code> to create a project</a>, this is the <code class="literal">&lt;name-of-project&gt;</code> you specified.</p>
</dd>
<dt>
<span class="term">
url (<code class="literal">string</code>)
</span>
</dt>
<dd>
The Kibana URL for the deployment to which you want to upload the monitors.
</dd>
<dt>
<span class="term">
space (<code class="literal">string</code>)
</span>
</dt>
<dd>
The identifier of the target <a href="/guide/en/kibana/8.15/xpack-spaces.html" class="ulink" target="_top">Kibana space</a> for the pushed monitors.
Spaces help you organize pushed monitors.
Pushes to the "default" space if not specified.
</dd>
</dl>
</div>
<h3><a id="synthetics-configuration-monitor"></a><code class="literal">monitor</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.15/docs/en/observability/synthetics-configuration.asciidoc">edit</a></h3>
<p>Default values to be applied to <em>all</em> monitors when using the <a class="xref" href="synthetics-command-reference.html#elastic-synthetics-push-command" title="@elastic/synthetics push"><code class="literal">@elastic/synthetics</code> <code class="literal">push</code> command</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code> (<code class="literal">string</code>)
</span>
</dt>
<dd>
A unique identifier for this monitor.
</dd>
<dt>
<span class="term">
<code class="literal">name</code> (<code class="literal">string</code>)
</span>
</dt>
<dd>
A human readable name for the monitor.
</dd>
<dt>
<span class="term">
<code class="literal">tags</code> (<code class="literal">Array&lt;string&gt;</code>)
</span>
</dt>
<dd>
A list of tags that will be sent with the monitor event. Tags are displayed in the Synthetics app and allow you to search monitors by tag.
</dd>
<dt>
<span class="term">
<code class="literal">schedule</code> (<code class="literal">number</code>)
</span>
</dt>
<dd>
The interval (in minutes) at which the monitor should run.
</dd>
<dt>
<span class="term">
<code class="literal">enabled</code> (<code class="literal">boolean</code>)
</span>
</dt>
<dd>
Enable or disable the monitor from running without deleting and recreating it.
</dd>
<dt>
<span class="term">
<code class="literal">locations</code> (<a href="https://github.com/elastic/synthetics/blob/v1.3.0/src/locations/public-locations.ts#L28-L37" class="ulink" target="_top"><code class="literal">Array&lt;SyntheticsLocationsType&gt;</code></a>)
</span>
</dt>
<dd>
<p>
Where to deploy the monitor. Monitors can be deployed in multiple locations so that you can detect differences in availability and response times across those locations.
</p>
<p>To list available locations you can:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Run the <a class="xref" href="_filtering_monitors.html#elastic-synthetics-locations-command" title="@elastic/synthetics locations"><code class="literal">elastic-synthetics locations</code> command</a>.
</li>
<li class="listitem">
Go to <span class="strong strong"><strong>Synthetics</strong></span> &#8594; <span class="strong strong"><strong>Management</strong></span> and click <span class="strong strong"><strong>Create monitor</strong></span>.
Locations will be listed in <em>Locations</em>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">privateLocations</code> (<code class="literal">Array&lt;string&gt;</code>)
</span>
</dt>
<dd>
<p>
The <a class="xref" href="synthetics-private-location.html" title="Monitor resources on private networks">Private Locations</a> to which the monitors will be deployed. These Private Locations refer to locations hosted and managed by you, whereas
<code class="literal">locations</code> are hosted by Elastic. You can specify a Private Location using the location&#8217;s name.
</p>
<p>To list available Private Locations you can:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Run the <a class="xref" href="_filtering_monitors.html#elastic-synthetics-locations-command" title="@elastic/synthetics locations"><code class="literal">elastic-synthetics locations</code> command</a>
with the Kibana URL for the deployment from which to fetch available locations.
</li>
<li class="listitem">
Go to <span class="strong strong"><strong>Synthetics</strong></span> &#8594; <span class="strong strong"><strong>Management</strong></span> and click <span class="strong strong"><strong>Create monitor</strong></span>.
Private Locations will be listed in <em>Locations</em>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">throttling</code> (<code class="literal">boolean</code> | <a href="https://github.com/elastic/synthetics/blob/v1.3.0/src/common_types.ts#L194-L198" class="ulink" target="_top"><code class="literal">ThrottlingOptions</code></a>)
</span>
</dt>
<dd>
Control the monitor&#8217;s download speeds, upload speeds, and latency to simulate your application&#8217;s behavior on slower or laggier networks. Set to <code class="literal">false</code> to disable throttling altogether.
</dd>
<dt>
<span class="term">
<code class="literal">screenshot</code> (<a href="https://github.com/elastic/synthetics/blob/v1.3.0/src/common_types.ts#L192" class="ulink" target="_top"><code class="literal">ScreenshotOptions</code></a>)
</span>
</dt>
<dd>
Control whether or not to capture screenshots. Options include <code class="literal">'on'</code>, <code class="literal">'off'</code>, or <code class="literal">'only-on-failure'</code>.
</dd>
<dt>
<span class="term">
<code class="literal">alert.status.enabled</code> (<code class="literal">boolean</code>)
</span>
</dt>
<dd>
Enable or disable monitor status alerts. Read more about alerts in <a class="xref" href="synthetics-settings.html#synthetics-settings-alerting" title="Alerting">Alerting</a>.
</dd>
<dt>
<span class="term">
<code class="literal">retestOnFailure</code> (<code class="literal">boolean</code>)
</span>
</dt>
<dd>
<p>
Enable or disable retesting when a monitor fails. Default is <code class="literal">true</code>.
</p>
<p>By default, monitors are automatically retested if the monitor goes from "up" to "down".
If the result of the retest is also "down", an error will be created, and if configured, an alert sent.
Then the monitor will resume running according to the defined schedule.
Using <code class="literal">retestOnFailure</code> can reduce noise related to transient problems.</p>
</dd>
</dl>
</div>
<p>For information on configuring monitors individually, refer to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="synthetics-monitor-use.html" title="Configure individual browser monitors">Configure individual monitors</a> for browser monitors
</li>
<li class="listitem">
<a class="xref" href="synthetics-lightweight.html" title="Configure lightweight monitors">Configure lightweight monitors</a> for lightweight monitors
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="_filtering_monitors.html">« Filtering monitors</a>
</span>
<span class="next">
<a href="synthetics-settings.html">Configure Synthetics settings »</a>
</span>
</div>
</body>
</html>
