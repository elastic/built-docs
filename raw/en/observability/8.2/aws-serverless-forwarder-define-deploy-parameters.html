<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="Deploy the Elastic Serverless Forwarder using Kibana and the AWS Serverless Application Repository (SAR).">
<meta name="keywords" content="serverless, AWS, SAR">
<title>Define deployment parameters | Observability Guide [8.2] | Elastic</title>
<meta class="elastic" name="content" content="Define deployment parameters | Observability Guide [8.2]">

<link rel="home" href="index.html" title="Observability Guide [8.2]"/>
<link rel="up" href="aws-deploy-elastic-serverless-forwarder.html" title="Deploy Elastic Serverless Forwarder"/>
<link rel="prev" href="sample-s3-config-file.html" title="Create and upload config.yaml to S3 bucket"/>
<link rel="next" href="aws-serverless-forwarder-deploy-sar.html" title="Deploy Elastic Serverless Forwarder from SAR"/>
<meta class="elastic" name="product_version" content="8.2"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/8.2"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="8.2"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Observability Guide [8.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="add-observability-data.html">Send data to Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="aws-elastic-serverless-forwarder.html">Elastic Serverless Forwarder for AWS</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="aws-deploy-elastic-serverless-forwarder.html">Deploy Elastic Serverless Forwarder</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="sample-s3-config-file.html">« Create and upload <code class="literal">config.yaml</code> to S3 bucket</a>
</span>
<span class="next">
<a href="aws-serverless-forwarder-deploy-sar.html">Deploy Elastic Serverless Forwarder from SAR »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="aws-serverless-forwarder-define-deploy-parameters"></a>Define deployment parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.2/docs/en/observability/aws-deploy-elastic-serverless-forwarder.asciidoc">edit</a></h4>
</div></div></div>
<p>Whichever SAR deployment method you choose, you must define the following parameters correctly for your setup. This section explains the types of parameters and provides guidance on how to set them to match your deployment(s).</p>
<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_general_configuration"></a>General configuration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.2/docs/en/observability/aws-deploy-elastic-serverless-forwarder.asciidoc">edit</a></h5>
</div></div></div>
<p>These parameters define the general configuration and behaviour for the forwarder.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">ElasticServerlessForwarderS3ConfigFile</code>: Set this value to the location of your <code class="literal">config.yaml</code> in S3 URL format: <code class="literal">s3://bucket-name/config-file-name</code>. This will populate the <code class="literal">S3_CONFIG_FILE</code> environment variable for the forwarder.
</li>
<li class="listitem">
<code class="literal">ElasticServerlessForwarderSSMSecrets</code>: Add a comma delimited list of AWS SSM Secrets ARNs used in the <code class="literal">config.yml</code> (if any).
</li>
<li class="listitem">
<code class="literal">ElasticServerlessForwarderKMSKeys</code>: Add a comma delimited list of AWS KMS Keys ARNs to be used for decrypting AWS SSM Secrets, Kinesis Data Streams, SQS queue, or S3 buckets (if any).
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Make sure you include all the KMS keys used to encrypt the data. For example, S3 buckets are often encrypted, so the Lambda function needs access to that key to get the object.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_inputs"></a>Inputs<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.2/docs/en/observability/aws-deploy-elastic-serverless-forwarder.asciidoc">edit</a></h5>
</div></div></div>
<p>These parameters define your specific <a class="xref" href="aws-elastic-serverless-forwarder.html#aws-serverless-forwarder-inputs" title="Inputs">Inputs</a> or <em>event triggers</em>.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">ElasticServerlessForwarderSQSEvents</code>: Add a comma delimited list of Direct SQS queue ARNs to set as event triggers for the forwarder (if any).
</li>
<li class="listitem">
<code class="literal">ElasticServerlessForwarderS3SQSEvents</code>: Add a comma delimited list of S3 SQS Event Notifications ARNs to set as event triggers for the forwarder (if any).
</li>
<li class="listitem">
<code class="literal">ElasticServerlessForwarderKinesisEvents</code>: Add a comma delimited list of Kinesis Data Stream ARNs to set as event triggers for the forwarder (if any).
</li>
<li class="listitem">
<code class="literal">ElasticServerlessForwarderCloudWatchLogsEvents</code>: Add a comma delimited list of Cloudwatch Logs log group ARNs to set subscription filters on the forwarder (if any).
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Make sure you reference the ARNs specified in your <code class="literal">config.yaml</code>, and leave any settings for unused inputs blank.</p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_s3_bucket_permissions"></a>S3 Bucket permissions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.2/docs/en/observability/aws-deploy-elastic-serverless-forwarder.asciidoc">edit</a></h5>
</div></div></div>
<p>These parameters define the permissions required in order to access the associated S3 Buckets.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">ElasticServerlessForwarderS3Buckets</code>: Add a comma delimited list of S3 bucket ARNs that are sources for the S3 SQS Event Notifications (if any).
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h5 class="title"><a id="_network"></a>Network<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.2/docs/en/observability/aws-deploy-elastic-serverless-forwarder.asciidoc">edit</a></h5>
</div></div></div>
<p>These parameters define the network settings for your environment.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">ElasticServerlessForwarderSecurityGroups</code>: Add a comma delimited list of security group IDs to attach to the forwarder. Along with <code class="literal">ElasticServerlessForwarderSubnets</code>, these settings will define the AWS VPC the forwarder will belong to. Leave blank if you don&#8217;t want the forwarder to belong to any specific AWS VPC.
</li>
<li class="listitem">
<code class="literal">ElasticServerlessForwarderSubnets</code>: Add a comma delimited list of subnet IDs for to the forwarder. Along with <code class="literal">ElasticServerlessForwarderSecurityGroups</code>, these settings will define the AWS VPC the forwarder will belong to. Leave blank if you don&#8217;t want the forwarder to belong to any specific AWS VPC.
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are setting up an an AWS VPC for the forwarder, review the <a class="xref" href="aws-serverless-troubleshooting-vpc-prerequisites.html" title="Prerequisites when attached to a VPC">VPC prerequisites</a>.</p>
</div>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="sample-s3-config-file.html">« Create and upload <code class="literal">config.yaml</code> to S3 bucket</a>
</span>
<span class="next">
<a href="aws-serverless-forwarder-deploy-sar.html">Deploy Elastic Serverless Forwarder from SAR »</a>
</span>
</div>
</div>
</body>
</html>
