<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="Learn configuration options for Elastic Serverless Forwarder and how to transform your AWS data as it is collected from Amazon Web Services (AWS).">
<meta name="keywords" content="serverless">
<title>JSON content discovery | Observability Guide [8.2] | Elastic</title>
<meta class="elastic" name="content" content="JSON content discovery | Observability Guide [8.2]">

<link rel="home" href="index.html" title="Observability Guide [8.2]"/>
<link rel="up" href="aws-elastic-serverless-forwarder-configuration.html" title="Configuration options for Elastic Serverless Forwarder"/>
<link rel="prev" href="aws-serverless-define-include-exclude-filters.html" title="Define include/exclude filters"/>
<link rel="next" href="expanding-events-from-json-object-lists.html" title="Expanding events from JSON object lists"/>
<meta class="elastic" name="product_version" content="8.2"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/8.2"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="8.2"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="aws-serverless-define-include-exclude-filters.html">« Define include/exclude filters</a>
</span>
<span class="next">
<a href="expanding-events-from-json-object-lists.html">Expanding events from JSON object lists »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Observability Guide [8.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="add-observability-data.html">Send data to Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="aws-elastic-serverless-forwarder.html">Elastic Serverless Forwarder for AWS</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="aws-elastic-serverless-forwarder-configuration.html">Configuration options for Elastic Serverless Forwarder</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>JSON content discovery</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.2/docs/en/observability/aws-elastic-serverless-forwarder-configuration.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="aws-serverless-json-content"></a>JSON content discovery<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.2/docs/en/observability/aws-elastic-serverless-forwarder-configuration.asciidoc">edit</a></h4>
</div></div></div>
<p>The Elastic Serverless Forwarder is able to automatically discover JSON content in the payload of an input and collect the JSON objects contained in the payload.</p>
<p>The JSON objects can either be on a single line or spanning multiple lines. In the second case, the forwarder expects different JSON objects spanning multiple lines to be separated by a newline delimiter.</p>
<p>When JSON objects span multiple lines, a limit of 1000 lines is applied. Every JSON object spanning across more than 1000 lines will not be collected. Every line composing the whole JSON object will be forwarded individually instead.</p>
<p>If you have known payload content which includes single JSON objects that span more than 1000 lines, or if you find that relying on auto-discovery of JSON content has a big impact on performance, you can configure JSON content types within the inputs to address this. This will change the parsing logic and improve performance while overcoming the 1000 lines limit.</p>
<p>Where content is known to be plain text, you can improve overall performance by disabling automatic JSON content discovery completely.</p>
<p>To change this configuration option, set <code class="literal">inputs.[].json_content_type</code> to one of the following values:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>single</strong></span>: indicates that the content of a single item in the input payload is a single JSON object. The content can either be on a single line or spanning multiple lines. With this setting the whole content of the payload is decoded as a JSON object, with no limit on the number of lines the JSON object spans.
</li>
<li class="listitem">
<span class="strong strong"><strong>ndjson</strong></span>: indicates that the content of a single item in the input payload is a valid NDJSON format. Multiple single JSON objects formatted on a single line should be separated by a newline delimiter. With this setting each line will be decoded as JSON object, which improves the parsing performance.
</li>
<li class="listitem">
<span class="strong strong"><strong>disabled</strong></span>: instructs the forwarder not to attempt any automatic JSON content discovery and instead treat the content as plain text, which improves the parsing performance.
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>There is no need to configure the JSON content type when <a class="xref" href="expanding-events-from-json-object-lists.html" title="Expanding events from JSON object lists">Expanding events from JSON object lists</a>, unless you have single JSON objects that span more than 1000 lines.</p>
</div>
</div>


</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="aws-serverless-define-include-exclude-filters.html">« Define include/exclude filters</a>
</span>
<span class="next">
<a href="expanding-events-from-json-object-lists.html">Expanding events from JSON object lists »</a>
</span>
</div>
</body>
</html>
