<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Create a TLS certificate rule | Elastic Observability [8.8] | Elastic</title>
<meta class="elastic" name="content" content="Create a TLS certificate rule | Elastic Observability [8.8]">

<link rel="home" href="index.html" title="Elastic Observability [8.8]"/>
<link rel="up" href="create-alerts.html" title="Alerting"/>
<link rel="prev" href="monitor-status-alert.html" title="Create a monitor status rule"/>
<link rel="next" href="duration-anomaly-alert.html" title="Create an uptime duration anomaly rule"/>
<meta class="elastic" name="product_version" content="8.8"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/8.8"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="8.8"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [8.8]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="create-alerts.html">Alerting</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="monitor-status-alert.html">« Create a monitor status rule</a>
</span>
<span class="next">
<a href="duration-anomaly-alert.html">Create an uptime duration anomaly rule »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="tls-certificate-alert"></a>Create a TLS certificate rule<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/uptime-tls-alert.asciidoc">edit</a></h2>
</div></div></div>
<p>Within the Uptime app, you can create a rule that notifies
you when one or more of your monitors has a TLS certificate expiring
within a specified threshold, or when it exceeds an age limit.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
To access this page, go to <span class="strong strong"><strong>Observability</strong></span> &#8594; <span class="strong strong"><strong>Uptime</strong></span>.
</li>
<li class="listitem">
At the top of the page, click <span class="strong strong"><strong>Alerts and rules</strong></span> &#8594; <span class="strong strong"><strong>Create rule</strong></span>.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>TLS rule</strong></span>.
</li>
</ol>
</div>
<h4><a id="tls-alert-conditions"></a>Conditions<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/uptime-tls-alert.asciidoc">edit</a></h4>
<p>The threshold values for each condition are configurable on the
<a class="xref" href="configure-uptime-settings.html#configure-uptime-alert-connectors" title="Configure connectors">Settings</a> page.</p>
<p>You can specify the following thresholds for your rule.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Expiration threshold</strong></span></p></td>
<td align="left" valign="top"><p>The <code class="literal">expiration</code> threshold specifies when you are notified
about certificates that are approaching expiration dates.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Age limit</strong></span></p></td>
<td align="left" valign="top"><p>The <code class="literal">age</code> threshold specifies when you are notified about certificates
that have been valid for too long.</p></td>
</tr>
</tbody>
</table>
</div>
<p>Let&#8217;s create a rule to check every 6 hours and notify us when any of the TLS certificates on sites we&#8217;re monitoring are close to expiring.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/tls-alert.png" alt="Monitor status rule">
</div>
</div>
<h4><a id="action-types-certs"></a>Action types<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/uptime-tls-alert.asciidoc">edit</a></h4>
<p>You can extend your rules by connecting them to actions that use the following
supported built-in integrations. Actions are Kibana services or integrations with
third-party systems that run as background tasks on the Kibana server when rule conditions are met.</p>
<p>You can configure action types on the <a class="xref" href="configure-uptime-settings.html#configure-uptime-alert-connectors" title="Configure connectors">Settings</a> page.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/alert-action-types.png" alt="TLS certificate rule connectors">
</div>
</div>
<p>After you select a connector, you must set the action frequency. You can choose to create a summary of alerts on each check interval or on a custom interval. Alternatively, you can set the action frequency such that you choose how often the action runs (for example, at each check interval, only when the alert status changes, or at a custom action interval). In this case, you must also select the specific threshold condition that affects when actions run: <code class="literal">Uptime TLS Alert</code> or <code class="literal">Recovered</code>. For example, send a notification when an alert status changes:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/tls-run-when-selection.png" alt="Configure when a rule is triggered">
</div>
</div>
<p>In this example, actions are not repeated when an alert remains active across checks. Actions run only when the alert status changes.</p>
<h4><a id="action-variables-certs"></a>Action variables<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/uptime-tls-alert.asciidoc">edit</a></h4>
<p>Use the default notification message or customize it.
You can add more context to the message by clicking the icon above the message text box
and selecting from a list of available variables.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/tls-certificate-alert-default-message.png" alt="Default notification message for TLS rules with open &quot;Add variable&quot; popup listing available action variables" width="600">
</div>
</div>
<h4><a id="recovery-variables-certs"></a>Alert recovery<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/observability-docs/edit/8.8/docs/en/observability/uptime-tls-alert.asciidoc">edit</a></h4>
<p>To receive a notification when the alert recovers, select <span class="strong strong"><strong>Run when Recovered</strong></span>. Use the default notification message or customize it. You can add more context to the message by clicking the icon above the message text box and selecting from a list of available variables.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/tls-certificate-alert-recovery.png" alt="Default recovery message for TLS certificate rules with open &quot;Add variable&quot; popup listing available action variables" width="600">
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="monitor-status-alert.html">« Create a monitor status rule</a>
</span>
<span class="next">
<a href="duration-anomaly-alert.html">Create an uptime duration anomaly rule »</a>
</span>
</div>
</div>
</body>
</html>
