<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Run Universal Profiling on self-hosted Elastic stack | Elastic Observability [8.13] | Elastic</title>
<meta class="elastic" name="content" content="Run Universal Profiling on self-hosted Elastic stack | Elastic Observability [8.13]">

<link rel="home" href="index.html" title="Elastic Observability [8.13]"/>
<link rel="up" href="universal-profiling.html" title="Universal Profiling"/>
<link rel="prev" href="profiling-troubleshooting.html" title="Troubleshoot your Universal Profiling agent deployment"/>
<link rel="next" href="profiling-self-managed-installation.html" title="Install the backend"/>
<meta class="elastic" name="product_version" content="8.13"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/8.13"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="8.13"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [8.13]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="universal-profiling.html">Universal Profiling</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="profiling-troubleshooting.html">« Troubleshoot your Universal Profiling agent deployment</a>
</span>
<span class="next">
<a href="profiling-self-managed-installation.html">Install the backend »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="profiling-self-managed"></a>Run Universal Profiling on self-hosted Elastic stack<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.13/docs/en/observability/profiling-self-managed.asciidoc">edit</a></h2>
</div></div></div>

<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To run Universal Profiling on self-hosted Elastic stack, you need an <a href="/subscriptions" class="ulink" target="_top">appropriate license</a>.</p>
</div>
</div>
<p>Here you&#8217;ll find information on running Universal Profiling when hosting the Elastic stack on your own infrastructure.</p>
<p>Universal Profiling consists of a client part (the host-agent) and a server part (the backend). This documentation focuses on the server part.</p>
<h4><a id="profiling-self-managed-supported-platforms"></a>Prerequisites<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.13/docs/en/observability/profiling-self-managed.asciidoc">edit</a></h4>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Running Universal Profiling on self hosted infrastructure requires an Elastic <span class="strong strong"><strong>Enterprise license</strong></span>.</p>
</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Elastic stack: minimum version 8.12.0, on any Linux distribution (x86_64 or ARM64 architectures), with a Kernel 4.x or higher.
</li>
<li class="listitem">
<a href="/ece" class="ulink" target="_top">ECE</a>: minimum version 3.7.0, using the 8.12.0 stackpack or higher.
</li>
<li class="listitem">
Kubernetes: version 1.22+, using Helm charts.
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>For Elastic Cloud on Kubernetes (ECK), the Universal Profiling backend can be installed using helm charts in standalone mode.
Once installed, you can connect the profiling backend to an existing ECK-managed stack.
Currently, we do not have Profiling Operators and the CRDs necessary for running the Profiling backend natively in ECK.</p>
</div>
</div>
<h5><a id="profiling-self-managed-backend-support-matrix"></a>Supported platforms<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.13/docs/en/observability/profiling-self-managed.asciidoc">edit</a></h5>
<p>The following platforms were tested and successfully ran the Universal Profiling backend.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Platform</th>
<th align="left" valign="top">OS</th>
<th align="left" valign="top">Details</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Linux x86_64, ARM64</p></td>
<td align="left" valign="top"><p>Ubuntu 20.04 LTS</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ DEB package from the repository
</li>
<li class="listitem">
✅ Docker
</li>
<li class="listitem">
✅ Binary
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Linux x86_64, ARM64</p></td>
<td align="left" valign="top"><p>Ubuntu 22.04 LTS</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ DEB package from the repository
</li>
<li class="listitem">
✅ Docker
</li>
<li class="listitem">
✅ Binary
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Linux x86_64, ARM64</p></td>
<td align="left" valign="top"><p>Debian Bullseye</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ DEB package from the repository
</li>
<li class="listitem">
✅ Docker
</li>
<li class="listitem">
✅ Binary
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Linux x86_64, ARM64</p></td>
<td align="left" valign="top"><p>Debian Bookworm</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ DEB package from the repository
</li>
<li class="listitem">
✅ Docker
</li>
<li class="listitem">
✅ Binary
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Linux x86_64, ARM64</p></td>
<td align="left" valign="top"><p>Fedora 37</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ YUM package from the repository
</li>
<li class="listitem">
✅ Docker
</li>
<li class="listitem">
✅ Binary
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Linux x86_64, ARM64</p></td>
<td align="left" valign="top"><p>Fedora 38</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ YUM package from the repository
</li>
<li class="listitem">
✅ Docker
</li>
<li class="listitem">
✅ Binary
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Linux x86_64, ARM64</p></td>
<td align="left" valign="top"><p>RHEL 9.3</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ YUM package from the repository
</li>
<li class="listitem">
✅ Docker
</li>
<li class="listitem">
✅ Binary
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Linux x86_64, ARM64</p></td>
<td align="left" valign="top"><p>RHEL 8.9</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ YUM package from the repository
</li>
<li class="listitem">
✅ Docker
</li>
<li class="listitem">
✅ Binary
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Linux x86_64, ARM64</p></td>
<td align="left" valign="top"><p>openSUSE Leap</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ Docker
</li>
<li class="listitem">
✅ Binary
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Linux x86_64, ARM64</p></td>
<td align="left" valign="top"><p>SUSE Linux Enterprise 15</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ Docker
</li>
<li class="listitem">
✅ Binary
</li>
</ul>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p>Kubernetes 1.25, 1.26, 1.27</p></td>
<td align="left" valign="top"><p>Linux x86_64/ARM64</p></td>
<td align="left" valign="top">
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
✅ Helm charts
</li>
</ul>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<h4><a id="profiling-self-managed-architecture-overview"></a>Architecture overview<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/8.13/docs/en/observability/profiling-self-managed.asciidoc">edit</a></h4>
<p>The backend is made up of two services: the collector and the symbolizer.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The collector receives profiling data from the host-agents and sends it to Elasticsearch.
It listens on an HTTP server and serves a gRPC endpoint.
</li>
<li class="listitem">
The symbolizer processes debug symbols that are not available on the host-agent, and symbolizes native frames from OS packages.
It also listens on an HTTP server and serves an endpoint to upload private debug symbols.
Refer to <a class="xref" href="profiling-add-symbols.html" title="Add symbols for native frames">Adding symbols</a> for more information on the importance of adding symbols.
</li>
</ul>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/profiling-self-managed-ingestion-architecture.png" alt="profiling self managed ingestion architecture">
</div>
</div>



</div>
<div class="navfooter">
<span class="prev">
<a href="profiling-troubleshooting.html">« Troubleshoot your Universal Profiling agent deployment</a>
</span>
<span class="next">
<a href="profiling-self-managed-installation.html">Install the backend »</a>
</span>
</div>
</div>
</body>
</html>
