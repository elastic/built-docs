<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Data security | Elastic Observability [master] | Elastic</title>
<meta class="elastic" name="content" content="Data security | Elastic Observability [master]">

<link rel="home" href="index.html" title="Elastic Observability [master]"/>
<link rel="up" href="apm-features.html" title="Elastic APM features"/>
<link rel="prev" href="apm-cross-cluster-search.html" title="Cross-cluster search"/>
<link rel="next" href="apm-filtering.html" title="Built-in data filters"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/master"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="apm-cross-cluster-search.html">« Cross-cluster search</a>
</span>
<span class="next">
<a href="apm-filtering.html">Built-in data filters »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="apm.html">Application performance monitoring (APM)</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="apm-features.html">Elastic APM features</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Data security</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm/apm-data-security.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="apm-data-security"></a>Data security<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm/apm-data-security.asciidoc">edit</a></h3>
</div></div></div>
<p>When setting up Elastic APM, it&#8217;s essential to review all captured data carefully to ensure
it doesn&#8217;t contain sensitive information like passwords, credit card numbers, or health data.
In addition, you may wish to filter out other identifiable information, like IP addresses, user agent information,
or form field data.</p>
<p>Depending on the type of data, we offer several different ways to filter, manipulate,
or obfuscate sensitive information during or before ingestion:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="apm-data-security.html#apm-built-in-data-filters" title="Built-in data filters">Built-in data filters</a>
</li>
<li class="listitem">
<a class="xref" href="apm-data-security.html#apm-custom-data-filters" title="Custom filters">Custom filters</a>
</li>
</ul>
</div>
<p>In addition to utilizing filters, you should regularly review the <a class="xref" href="apm-data-security.html#apm-sensitive-fields" title="Sensitive fields">sensitive fields</a> table to ensure
sensitive data is not being ingested. If it is, it&#8217;s possible to remove or redact it.
See <a class="xref" href="apm-data-security-delete.html" title="Delete sensitive data">Delete sensitive data</a> for more information.</p>
<h5><a id="apm-built-in-data-filters"></a>Built-in data filters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm/apm-data-security.asciidoc">edit</a></h5>
<p>Built-in data filters allow you to filter or turn off ingestion of the following types of data:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Data type</th>
<th align="left" valign="top">Common sensitive data</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-http-header" title="HTTP headers">HTTP headers</a></p></td>
<td align="left" valign="top"><p>Passwords, credit card numbers, authorization, etc.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-http-body" title="HTTP bodies">HTTP bodies</a></p></td>
<td align="left" valign="top"><p>Passwords, credit card numbers, etc.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-personal-data" title="Personal data">Personal data</a></p></td>
<td align="left" valign="top"><p>Client IP address and user agent.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-real-user-data" title="Real user monitoring data">Real user monitoring data</a></p></td>
<td align="left" valign="top"><p>URLs visited, click events, user browser errors, resources used, etc.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-database-statements" title="Database statements">Database statements</a></p></td>
<td align="left" valign="top"><p>Sensitive user or business information</p></td>
</tr>
</tbody>
</table>
</div>
<h5><a id="apm-custom-data-filters"></a>Custom filters<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm/apm-data-security.asciidoc">edit</a></h5>
<p>Custom filters allow you to filter or redact other types of APM data on ingestion:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><a class="xref" href="apm-custom-filter.html#apm-filters-ingest-pipeline" title="Create an ingest pipeline filter">Ingest pipelines</a></p></td>
<td align="left" valign="top"><p>Applied at ingestion time.
All agents and fields are supported. Data leaves the instrumented service.
There are no performance overhead implications on the instrumented service.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><a class="xref" href="apm-custom-filter.html#apm-filters-in-agent" title="APM agent filters">APM agent filters</a></p></td>
<td align="left" valign="top"><p>Not supported by all agents.
Data is sanitized before leaving the instrumented service.
Potential overhead implications on the instrumented service</p></td>
</tr>
</tbody>
</table>
</div>
<h5><a id="apm-sensitive-fields"></a>Sensitive fields<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm/apm-data-security.asciidoc">edit</a></h5>
<p>You should review the following fields regularly to ensure sensitive data is not being captured:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Remedy</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">client.ip</code></p></td>
<td align="left" valign="top"><p>The client IP address, as forwarded by proxy.</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-personal-data" title="Personal data">Personal data</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.request.body.original</code></p></td>
<td align="left" valign="top"><p>The body of the monitored HTTP request.</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-http-body" title="HTTP bodies">HTTP bodies</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.request.headers</code></p></td>
<td align="left" valign="top"><p>The canonical headers of the monitored HTTP request.</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-http-header" title="HTTP headers">HTTP headers</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.request.socket.remote_address</code></p></td>
<td align="left" valign="top"><p>The address of the last proxy or end-user (if no proxy).</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-custom-filter.html" title="Custom filters">Custom filters</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">http.response.headers</code></p></td>
<td align="left" valign="top"><p>The canonical headers of the monitored HTTP response.</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-http-header" title="HTTP headers">HTTP headers</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">process.args</code></p></td>
<td align="left" valign="top"><p>Process arguments.</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-database-statements" title="Database statements">Database statements</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">span.db.statement</code></p></td>
<td align="left" valign="top"><p>Database statement.</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-database-statements" title="Database statements">Database statements</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">stacktrace.vars</code></p></td>
<td align="left" valign="top"><p>A flat mapping of local variables captured in the stack frame</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-custom-filter.html" title="Custom filters">Custom filters</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">url.query</code></p></td>
<td align="left" valign="top"><p>The query string of the request, e.g. <code class="literal">?pass=hunter2</code>.</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-custom-filter.html" title="Custom filters">Custom filters</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">user.*</code></p></td>
<td align="left" valign="top"><p>Logged-in user information.</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-custom-filter.html" title="Custom filters">Custom filters</a></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">user_agent.*</code></p></td>
<td align="left" valign="top"><p>Device and version making the network request.</p></td>
<td align="left" valign="top"><p><a class="xref" href="apm-filtering.html#apm-filters-personal-data" title="Personal data">Personal data</a></p></td>
</tr>
</tbody>
</table>
</div>



</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="apm-cross-cluster-search.html">« Cross-cluster search</a>
</span>
<span class="next">
<a href="apm-filtering.html">Built-in data filters »</a>
</span>
</div>
</body>
</html>
