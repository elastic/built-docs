<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Processing and performance | Elastic Observability [master] | Elastic</title>
<meta class="elastic" name="content" content="Processing and performance | Elastic Observability [master]">

<link rel="home" href="index.html" title="Elastic Observability [master]"/>
<link rel="up" href="apm-troubleshoot-apm.html" title="Troubleshoot"/>
<link rel="prev" href="apm-common-response-codes.html" title="APM Server response codes"/>
<link rel="next" href="apm-enable-apm-server-debugging.html" title="Enable APM Server binary debugging"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/master"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="apm-common-response-codes.html">« APM Server response codes</a>
</span>
<span class="next">
<a href="apm-enable-apm-server-debugging.html">Enable APM Server binary debugging »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="apm.html">Application performance monitoring (APM)</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="apm-troubleshoot-apm.html">Troubleshoot</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Processing and performance</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm/processing-performance.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="apm-processing-and-performance"></a>Processing and performance</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm/processing-performance.asciidoc">edit</a></div>
</div></div></div>
<p>APM Server performance depends on a number of factors: memory and CPU available,
network latency, transaction sizes, workload patterns,
agent and server settings, versions, and protocol.</p>
<p>We tested several scenarios to help you understand how to size the APM Server so that it can keep up with the load that your Elastic APM agents are sending:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Using the default hardware template on AWS, GCP and Azure on Elastic Cloud.
</li>
<li class="listitem">
For each hardware template, testing with several sizes: 1 GB, 4 GB, 8 GB, and 32 GB.
</li>
<li class="listitem">
For each size, using a fixed number of APM agents: 10 agents for 1 GB, 30 agents for 4 GB, 60 agents for 8 GB, and 240 agents for 32 GB.
</li>
<li class="listitem">
In all scenarios, using medium sized events. Events include
<a class="xref" href="apm-data-model-transactions.html" title="Transactions">transactions</a> and
<a class="xref" href="apm-data-model-spans.html" title="Spans">spans</a>.
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You will also need to scale up Elasticsearch accordingly, potentially with an increased number of shards configured.
For more details on scaling Elasticsearch, refer to the <a href="/guide/en/elasticsearch/reference/master/scalability.html" class="ulink" target="_top">Elasticsearch documentation</a>.</p>
</div>
</div>
<p>The results below include numbers for a synthetic workload. You can use the results of our tests to guide
your sizing decisions, however, <span class="strong strong"><strong>performance will vary based on factors unique to your use case</strong></span> like your
specific setup, the size of APM event data, and the exact number of agents.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Profile / Cloud</th>
<th align="left" valign="top">AWS</th>
<th align="left" valign="top">Azure</th>
<th align="left" valign="top">GCP</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>1 GB</strong></span><br>
(10 agents)</p></td>
<td align="left" valign="top"><p>9,000<br>
events/second</p></td>
<td align="left" valign="top"><p>6,000<br>
events/second</p></td>
<td align="left" valign="top"><p>9,000<br>
events/second</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>4 GB</strong></span><br>
(30 agents)</p></td>
<td align="left" valign="top"><p>25,000<br>
events/second</p></td>
<td align="left" valign="top"><p>18,000<br>
events/second</p></td>
<td align="left" valign="top"><p>17,000<br>
events/second</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>8 GB</strong></span><br>
(60 agents)</p></td>
<td align="left" valign="top"><p>40,000<br>
events/second</p></td>
<td align="left" valign="top"><p>26,000<br>
events/second</p></td>
<td align="left" valign="top"><p>25,000<br>
events/second</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>16 GB</strong></span><br>
(120 agents)</p></td>
<td align="left" valign="top"><p>72,000<br>
events/second</p></td>
<td align="left" valign="top"><p>51,000<br>
events/second</p></td>
<td align="left" valign="top"><p>45,000<br>
events/second</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>32 GB</strong></span><br>
(240 agents)</p></td>
<td align="left" valign="top"><p>135,000<br>
events/second</p></td>
<td align="left" valign="top"><p>95,000<br>
events/second</p></td>
<td align="left" valign="top"><p>95,000<br>
events/second</p></td>
</tr>
</tbody>
</table>
</div>
<p>Don&#8217;t forget that the APM Server is stateless.
Several instances running do not need to know about each other.
This means that with a properly sized Elasticsearch instance, APM Server scales out linearly.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>RUM deserves special consideration. The RUM agent runs in browsers, and there can be many thousands reporting to an APM Server with very variable network latency.</p>
</div>
</div>
<p>Alternatively or in addition to scaling the APM Server, consider
decreasing the ingestion volume. Read more in <a class="xref" href="apm-reduce-apm-storage.html" title="Reduce storage">Reduce storage</a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="apm-common-response-codes.html">« APM Server response codes</a>
</span>
<span class="next">
<a href="apm-enable-apm-server-debugging.html">Enable APM Server binary debugging »</a>
</span>
</div>
</body>
</html>
