<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Trace sample timeline | Elastic Observability [master] | Elastic</title>
<meta class="elastic" name="content" content="Trace sample timeline | Elastic Observability [master]">

<link rel="home" href="index.html" title="Elastic Observability [master]"/>
<link rel="up" href="apm-ui.html" title="Navigate the APM UI"/>
<link rel="prev" href="apm-transactions.html" title="Transactions"/>
<link rel="next" href="apm-errors.html" title="Errors"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/master"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="apm-transactions.html">« Transactions</a>
</span>
<span class="next">
<a href="apm-errors.html">Errors »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="apm.html">Application performance monitoring (APM)</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="apm-ui.html">Navigate the APM UI</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Trace sample timeline</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm-ui/spans.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="apm-spans"></a>Trace sample timeline<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm-ui/spans.asciidoc">edit</a></h3>
</div></div></div>
<p>The trace sample timeline visualization is a bird&#8217;s-eye view of what your application was doing while it was trying to respond to a request.
This makes it useful for visualizing where a selected transaction spent most of its time.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="./images/apm-transaction-sample.png" alt="Example of distributed trace colors in the APM UI in Kibana">
</div>
</div>
<p>View a span in detail by clicking on it in the timeline waterfall.
For example, when you click on an SQL Select database query,
the information displayed includes the actual SQL that was executed, how long it took,
and the percentage of the trace&#8217;s total time.
You also get a stack trace, which shows the SQL query in your code.
Finally, APM knows which files are your code and which are just modules or libraries that you&#8217;ve installed.
These library frames will be minimized by default in order to show you the most relevant stack trace.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>A <a href="/guide/en/apm/guide/master/data-model-spans.html" class="ulink" target="_top">span</a> is the duration of a single event.
Spans are automatically captured by APM agents, and you can also define custom spans.
Each span has a type and is defined by a different color in the timeline/waterfall visualization.</p>
</div>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="./images/apm-span-detail.png" alt="Example view of a span detail in the APM UI in Kibana">
</div>
</div>
<h5><a id="trace-sample-investigate"></a>Investigate<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm-ui/spans.asciidoc">edit</a></h5>
<p>The trace sample timeline features an <span class="strong strong"><strong>Investigate</strong></span> button which provides a quick way to jump
to other areas of the Elastic Observability UI while maintaining the context of the currently selected trace sample.
For example, quickly view:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
logs and metrics for the selected pod
</li>
<li class="listitem">
logs and metrics for the selected host
</li>
<li class="listitem">
trace logs for the selected <code class="literal">trace.id</code>
</li>
<li class="listitem">
uptime status of the selected domain
</li>
<li class="listitem">
the <a class="xref" href="apm-service-maps.html" title="Service Map">service map</a> filtered by the selected trace
</li>
<li class="listitem">
the selected transaction in Discover
</li>
<li class="listitem">
your <a class="xref" href="apm-custom-links.html" title="Custom links">custom links</a>
</li>
</ul>
</div>
<h5><a id="distributed-tracing"></a>Distributed tracing<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/apm-ui/spans.asciidoc">edit</a></h5>
<p>When a trace travels through multiple services it is known as a <em>distributed trace</em>.
In APM, the colors in a distributed trace represent different services and
are listed in the order they occur.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="./images/apm-services-trace.png" alt="Example of distributed trace colors in the APM UI in Kibana">
</div>
</div>
<p>As application architectures are shifting from monolithic to more distributed, service-based architectures,
distributed tracing has become a crucial feature of modern application performance monitoring.
It allows you to trace requests through your service architecture automatically, and visualize those traces in one single view in the APM UI.
From initial web requests to your front-end service, to queries made to your back-end services,
this makes finding possible bottlenecks throughout your application much easier and faster.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="./images/apm-distributed-tracing.png" alt="Example view of the distributed tracing in APM UI in Kibana">
</div>
</div>
<p>Don&#8217;t forget; by definition, a distributed trace includes more than one transaction.
When viewing distributed traces in the timeline waterfall,
you&#8217;ll see this icon: <span class="image"><img src="./images/transaction-icon.png" alt="APM icon"></span>,
which indicates the next transaction in the trace.
For easier problem isolation, transactions can be collapsed in the waterfall by clicking
the icon to the left of the transactions.
Transactions can also be expanded and viewed in detail by clicking on them.</p>
<p>After exploring these traces,
you can return to the full trace by clicking <span class="strong strong"><strong>View full trace</strong></span>.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>Distributed tracing is supported by all APM agents, and there&#8217;s no additional configuration needed.</p>
</div>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="apm-transactions.html">« Transactions</a>
</span>
<span class="next">
<a href="apm-errors.html">Errors »</a>
</span>
</div>
</body>
</html>
