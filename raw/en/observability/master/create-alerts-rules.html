<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Create and manage rules | Elastic Observability [master] | Elastic</title>
<meta class="elastic" name="content" content="Create and manage rules | Elastic Observability [master]">

<link rel="home" href="index.html" title="Elastic Observability [master]"/>
<link rel="up" href="create-alerts.html" title="Alerting"/>
<link rel="prev" href="create-alerts.html" title="Alerting"/>
<link rel="next" href="custom-threshold-alert.html" title="Create a custom threshold rule"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/master"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="create-alerts.html">« Alerting</a>
</span>
<span class="next">
<a href="custom-threshold-alert.html">Create a custom threshold rule »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="create-alerts.html">Alerting</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Create and manage rules</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/create-alerts.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="create-alerts-rules"></a>Create and manage rules<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/create-alerts.asciidoc">edit</a></h2>
</div></div></div>
<p>The first step when setting up alerts is to create a rule.
To create and manage rules related to Observability apps,
go to the Observability <span class="strong strong"><strong>Alerts</strong></span> page and click <span class="strong strong"><strong>Manage Rules</strong></span> to navigate to the Observability Rules page.</p>
<p>You can also create rules directly from the Logs, Infrastructure, Uptime, and APM apps without leaving the app by
clicking <span class="strong strong"><strong>Alerts and rules</strong></span> and selecting a rule, or you can select <span class="strong strong"><strong>Manage Rules</strong></span> to go to the Observability Rules page.</p>
<p>To create SLO rules, you must first define a new SLO via the <span class="strong strong"><strong>Create new SLO</strong></span> button. Once an SLO has been defined, you can create SLO rules tied to this SLO.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/create-alerts-manage-rules.png" alt="Elastic Observability Rules page">
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can also centrally create and manage rules, including rules <em>not</em> related to Observability, from the
<a href="/guide/en/kibana/master/create-and-manage-rules.html" class="ulink" target="_top">Kibana Management UI</a>.</p>
</div>
</div>
<p>From the Observability Rules page, you can manage rules for Observability apps, including:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Creating a new rule
</li>
<li class="listitem">
Editing or deleting existing rules
</li>
<li class="listitem">
Updating the status of existing rules (Enabled, Disabled, or Snoozed indefinitely)
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The Observability Rules page allows you to set a rule to be "Snoozed indefinitely".
To snooze a rule for a specific time period, you must use the centralized <a href="/guide/en/kibana/master/create-and-manage-rules.html" class="ulink" target="_top">Rules page</a>.</p>
<p><span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span> To temporarily suppress notifications for <em>all</em> rules, create a <a href="/guide/en/kibana/master/maintenance-windows.html" class="ulink" target="_top">maintenance window</a>.</p>
</div>
</div>
<p>Extend your rules by connecting them to actions that use built-in <span class="strong strong"><strong>connectors</strong></span> for email,
IBM Resilient, Index, JIRA, Microsoft Teams, PagerDuty, Server log, ServiceNow ITSM, ServiceNow SecOps,
ServiceNow ITOM, Opsgenie, and Slack. Also supported is a powerful webhook output letting you
tie into other third-party systems. Connectors allow actions to talk to these services and integrations.</p>
<p>Learn how to create specific types of rules:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/kibana/master/apm-alerts.html" class="ulink" target="_top">APM rules</a>
</li>
<li class="listitem">
<a class="xref" href="custom-threshold-alert.html" title="Create a custom threshold rule">Custom threshold rule</a>
</li>
<li class="listitem">
<a class="xref" href="logs-threshold-alert.html" title="Create a log threshold rule">Log threshold rule</a>
</li>
<li class="listitem">
<a class="xref" href="infrastructure-threshold-alert.html" title="Create an inventory threshold rule">Infrastructure threshold rule</a>
</li>
<li class="listitem">
<a class="xref" href="metrics-threshold-alert.html" title="Create a metric threshold rule">Metric threshold rule</a>
</li>
<li class="listitem">
<a class="xref" href="monitor-status-alert.html" title="Create a monitor status rule">Monitor status rule</a>
</li>
<li class="listitem">
<a class="xref" href="tls-certificate-alert.html" title="Create a TLS certificate rule">TLS certificate rule</a>
</li>
<li class="listitem">
<a class="xref" href="duration-anomaly-alert.html" title="Create an uptime duration anomaly rule">Uptime duration anomaly rule</a>
</li>
<li class="listitem">
<a class="xref" href="slo-burn-rate-alert.html" title="Create a service-level objective (SLO) burn rate rule">SLO burn rate rule</a>
</li>
</ul>
</div>
<h3><a id="create-alerts-rules-details"></a>View rule details<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/create-alerts.asciidoc">edit</a></h3>
<p>Click on an individual rule on the Rules page to view details including the rule name, status, definition,
execution history, related alerts, and more.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/create-alerts-rules-details.png" alt="Elastic Observability detail page for a single rule">
</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You can also view rule details by clicking on individual rules in the
<a href="/guide/en/kibana/master/create-and-manage-rules.html" class="ulink" target="_top">Kibana Management UI</a>.</p>
</div>
</div>
<h3><a id="create-alerts-alert"></a>View and manage alerts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/create-alerts.asciidoc">edit</a></h3>
<p>The <span class="strong strong"><strong>Alerts</strong></span> page lists all your
alerts that have met a condition defined by a rule you created
using one of the Observability apps.</p>
<p>Learn more about viewing and managing alerts in <a class="xref" href="view-observability-alerts.html" title="View alerts">View alerts</a>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/alerts-page.png" alt="Elastic Observability Alerts page">
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Not all the predefined rules in Stack Management will generate and
list an alert on the Observability Alerts page.
Only alerts generated by rules relating to Logs, Infrastructure, Uptime, and APM
can be viewed on the Alerts page.</p>
</div>
</div>
<h3><a id="create-alerts-configure"></a>Configure alerts<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/create-alerts.asciidoc">edit</a></h3>
<p>You may want to disable writing to specific Observability alert indices or disable all alerts and remove the Alerts page altogether.
You can do this in Kibana settings.</p>
<p>If you are using our <a href="/cloud/elasticsearch-service" class="ulink" target="_top">hosted Elasticsearch Service</a> on Elastic Cloud,
you&#8217;ll edit the Kibana user settings:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select your deployment on the home page, and from your deployment menu go to the <span class="strong strong"><strong>Edit</strong></span> page.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Kibana</strong></span> section, click <span class="strong strong"><strong>Edit user settings</strong></span>, and add the desired settings (detailed below).
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Back</strong></span>, and then click <span class="strong strong"><strong>Save</strong></span>. The changes are automatically appended to the <code class="literal">kibana.yml</code> configuration file for your instance.
</li>
</ol>
</div>
<p>If you have a self-managed Elastic Stack, you&#8217;ll edit the settings in your <code class="literal">kibana.yml</code> file.</p>
<h4><a id="create-alerts-disable-some"></a>Disable writing to specific alert indices<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/create-alerts.asciidoc">edit</a></h4>
<p>To disable writing to specific Observability alerts-as-data indices
while continuing to write to others, use <code class="literal">xpack.ruleRegistry.write.disabledRegistrationContexts</code>.</p>
<p>You can disable writing to alert indices for:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Logs (<code class="literal">observability.logs</code>)
</li>
<li class="listitem">
Infrastructure (<code class="literal">observability.metrics</code>)
</li>
<li class="listitem">
APM (<code class="literal">observability.apm</code>)
</li>
<li class="listitem">
Uptime (<code class="literal">observability.uptime</code>)
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Disabling writing to the indices of one of the Observability apps listed above will affect <em>all</em> rule types of the corresponding app.
For example, disabling writing to uptime alert indices will affect <em>all</em> uptime rule types including monitor status and TLS rule types.</p>
</div>
</div>
<p>For example, to disable writing to Logs alert indices, you would add the following to your Kibana settings:</p>
<div class="pre_wrapper lang-yml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yml">xpack.ruleRegistry.write.disabledRegistrationContexts : ['observability.logs']</pre>
</div>
<p>To disable writing to both Logs and Uptime alert indices, you would use:</p>
<div class="pre_wrapper lang-yml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yml">xpack.ruleRegistry.write.disabledRegistrationContexts : ['observability.logs', 'observability.uptime']</pre>
</div>
<h4><a id="create-alerts-remove-page"></a>Remove the Alerts page<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/create-alerts.asciidoc">edit</a></h4>
<p>To disable writing to all alert indices and remove the Alerts page from Kibana altogether, use the following settings:</p>
<div class="pre_wrapper lang-yml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yml">xpack.ruleRegistry.write.enabled: 'false'
xpack.observability.unsafe.alertingExperience.enabled: 'false'</pre>
</div>








</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="create-alerts.html">« Alerting</a>
</span>
<span class="next">
<a href="custom-threshold-alert.html">Create a custom threshold rule »</a>
</span>
</div>
</body>
</html>
