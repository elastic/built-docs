<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Plaintext application logs | Elastic Observability [master] | Elastic</title>
<meta class="elastic" name="content" content="Plaintext application logs | Elastic Observability [master]">

<link rel="home" href="index.html" title="Elastic Observability [master]"/>
<link rel="up" href="application-logs.html" title="Stream application logs"/>
<link rel="prev" href="application-logs.html" title="Stream application logs"/>
<link rel="next" href="logs-ecs-application.html" title="ECS formatted application logs"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/master"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="application-logs.html">« Stream application logs</a>
</span>
<span class="next">
<a href="logs-ecs-application.html">ECS formatted application logs »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="logs-checklist.html">Log monitoring</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="application-logs.html">Stream application logs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Plaintext application logs</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="logs-plaintext"></a>Plaintext application logs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h3>
</div></div></div>
<p>Ingest and parse plaintext logs, including existing logs, from any programming language or framework without modifying your application or its configuration.</p>
<p>Plaintext logs require some additional setup that structured logs do not require:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To search, filter, and aggregate effectively, you need to parse plaintext logs using an ingest pipeline to extract structured fields. Parsing is based on log format, so you might have to maintain different settings for different applications.
</li>
<li class="listitem">
To <a class="xref" href="logs-plaintext.html#correlate-plaintext-logs" title="Correlate logs">correlate plaintext logs</a>, you need to inject IDs into log messages and parse them using an ingest pipeline.
</li>
</ul>
</div>
<p>To ingest, parse, and correlate plaintext logs:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Ingest plaintext logs with <a class="xref" href="logs-plaintext.html#ingest-plaintext-logs-with-filebeat" title="Ingest logs with Filebeat">Filebeat</a> or <a class="xref" href="logs-plaintext.html#ingest-plaintext-logs-with-the-agent" title="Ingest logs with the Elastic Agent">Elastic Agent</a> and parse them before indexing with an ingest pipeline.
</li>
<li class="listitem">
<a class="xref" href="logs-plaintext.html#correlate-plaintext-logs" title="Correlate logs">Correlate plaintext logs with an APM agent.</a>
</li>
<li class="listitem">
<a class="xref" href="logs-plaintext.html#view-plaintext-logs" title="View logs">View logs in Log Explorer</a>
</li>
</ol>
</div>
<h4><a id="ingest-plaintext-logs"></a>Ingest logs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h4>
<p>Send application logs to Elasticsearch using one of the following shipping tools:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="logs-plaintext.html#ingest-plaintext-logs-with-filebeat" title="Ingest logs with Filebeat">Filebeat</a> A lightweight data shipper that sends log data to Elasticsearch.
</li>
<li class="listitem">
<a class="xref" href="logs-plaintext.html#ingest-plaintext-logs-with-the-agent" title="Ingest logs with the Elastic Agent">Elastic Agent</a> A single agent for logs, metrics, security data, and threat prevention. Combined with Fleet, you can centrally manage Elastic Agent policies and lifecycles directly from Kibana.
</li>
</ul>
</div>
<h5><a id="ingest-plaintext-logs-with-filebeat"></a>Ingest logs with Filebeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h5>
<p>Follow these steps to ingest application logs with Filebeat.</p>
<h6><a id="step-1-plaintext-install-filebeat"></a>Step 1: Install Filebeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h6>
<p>Install Filebeat on the server you want to monitor by running the commands that align with your system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Installation layout">
        <button role="tab"
            aria-selected="false"
            aria-controls="deb-tab-yml-location"
            id="deb-yml-location"
            tabindex="-1">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-yml-location"
            id="rpm-yml-location"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="true"
            aria-controls="mac-tab-yml-location"
            id="mac-yml-location">
      macOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-yml-location"
            id="linux-yml-location"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-yml-location"
            id="win-yml-location"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-yml-location"
       aria-labelledby="mac-yml-location">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.16.0-darwin-x86_64.tar.gz
tar xzvf filebeat-8.16.0-darwin-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-yml-location"
       aria-labelledby="linux-yml-location"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.16.0-linux-x86_64.tar.gz
tar xzvf filebeat-8.16.0-linux-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-yml-location"
       aria-labelledby="win-yml-location"
       hidden="">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Download the Filebeat Windows zip file: https\://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.16.0-windows-x86_64.zip[https\://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.16.0-windows-x86_64.zip]
</li>
<li class="listitem">
Extract the contents of the zip file into <code class="literal">C:\Program Files</code>.
</li>
<li class="listitem">
Rename the <code class="literal">filebeat-{version}-windows-x86_64</code> directory to <code class="literal">{filebeat}</code>.
</li>
<li class="listitem">
Open a PowerShell prompt as an Administrator (right-click the PowerShell icon
and select <span class="strong strong"><strong>Run As Administrator</strong></span>).
</li>
<li class="listitem">
<p>From the PowerShell prompt, run the following commands to install
Filebeat as a Windows service:</p>
<div class="pre_wrapper lang-powershell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-powershell">PS &gt; cd 'C:\Program Files\{filebeat}'
PS C:\Program Files\{filebeat}&gt; .\install-service-filebeat.ps1</pre>
</div>
</li>
</ol>
</div>
<p>If script execution is disabled on your system, you need to set the
execution policy for the current session to allow the script to run. For
example:
<code class="literal">PowerShell.exe -ExecutionPolicy UnRestricted -File .\install-service-filebeat.ps1</code>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-yml-location"
       aria-labelledby="deb-yml-location"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https\://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.16.0-amd64.deb
sudo dpkg -i filebeat-8.16.0-amd64.deb</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-yml-location"
       aria-labelledby="rpm-yml-location"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https\://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.16.0-x86_64.rpm
sudo rpm -vi filebeat-8.16.0-x86_64.rpm</pre>
</div>
  </div>
</div>
<h6><a id="step-2-plaintext-connect-to-your-project"></a>Step 2: Connect to Elasticsearch<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h6>
<p>Connect to Elasticsearch using an API key to set up Filebeat. Set the following information in the <code class="literal">filebeat.yml</code> file:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">output.elasticsearch:
  hosts: ["your-projects-elasticsearch-endpoint"]
  api_key: "id:api_key"</pre>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Set the <code class="literal">hosts</code> to your deployment&#8217;s Elasticsearch endpoint. Copy the Elasticsearch endpoint from <span class="strong strong"><strong>Help menu (<span class="image"><img src="images/help-icon.png" alt="help icon"></span>) → Connection details</strong></span>. For example, <code class="literal">https://my-deployment.es.us-central1.gcp.cloud.es.io:443</code>.
</li>
<li class="listitem">
<p>From <span class="strong strong"><strong>Developer tools</strong></span>, run the following command to create an API key that grants <code class="literal">manage</code> permissions for the <code class="literal">cluster</code> and the <code class="literal">filebeat-*</code> indices using:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">POST /_security/api_key
{
  "name": "filebeat_host001",
  "role_descriptors": {
    "filebeat_writer": {
      "cluster": ["manage"],
      "index": [
        {
          "names": ["filebeat-*"],
          "privileges": ["manage", "create_doc"]
        }
      ]
    }
  }
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/48.console"></div>
<p>Refer to <a href="/guide/en/beats/filebeat/master/beats-api-keys.html" class="ulink" target="_top">Grant access using API keys</a> for more information.</p>
</li>
</ol>
</div>
<h6><a id="step-3-plaintext-configure-filebeat"></a>Step 3: Configure Filebeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h6>
<p>Add the following configuration to your <code class="literal">filebeat.yaml</code> file to start collecting log data.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: filestream  <a id="CO68-1"></a><i class="conum" data-value="1"></i>
  enabled: true
  paths: /path/to/logs.log  <a id="CO68-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO68-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Reads lines from an active log file.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO68-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Paths that you want Filebeat to crawl and fetch logs from.</p>
</td>
</tr>
</table>
</div>
<h6><a id="step-4-plaintext-set-up-and-start-filebeat"></a>Step 4: Set up and start Filebeat<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h6>
<p>Filebeat comes with predefined assets for parsing, indexing, and visualizing your data. To load these assets:</p>
<p>From the Filebeat installation directory, set the <a href="/guide/en/elasticsearch/reference/master/index-templates.html" class="ulink" target="_top">index template</a> by running the command that aligns with your system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Set up">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-setup"
            id="deb-setup">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-setup"
            id="rpm-setup"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-setup"
            id="mac-setup"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-setup"
            id="linux-setup"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-setup"
            id="win-setup"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-setup"
       aria-labelledby="mac-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">./filebeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-setup"
       aria-labelledby="linux-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">./filebeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-setup"
       aria-labelledby="win-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">PS &gt; .\filebeat.exe setup -e</pre>
</div>
  </div>
    <div tabindex="0"
       role="tabpanel"
       id="deb-tab-setup"
       aria-labelledby="deb-setup">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">filebeat setup -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-setup"
       aria-labelledby="rpm-setup"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">filebeat setup -e</pre>
</div>
  </div>
</div>
<p>From the Filebeat installation directory, start filebeat by running the command that aligns with your system:</p>
<div class="tabs" data-tab-group="os">
  <div role="tablist" aria-label="Start-f">
    <button role="tab"
            aria-selected="true"
            aria-controls="deb-tab-start-filebeat"
            id="deb-start-filebeat">
      DEB
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="rpm-tab-start-filebeat"
            id="rpm-start-filebeat"
            tabindex="-1">
      RPM
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="mac-tab-start-filebeat"
            id="mac-start-filebeat"
            tabindex="-1">
      MacOS
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="linux-tab-start-filebeat"
            id="linux-start-filebeat"
            tabindex="-1">
      Linux
    </button>
    <button role="tab"
            aria-selected="false"
            aria-controls="win-tab-start-filebeat"
            id="win-start-filebeat"
            tabindex="-1">
      Windows
    </button>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="deb-tab-start-filebeat"
       aria-labelledby="deb-start-filebeat">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">sudo service filebeat start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an <code class="literal">init.d</code> script to start Filebeat, you can&#8217;t specify command
line flags (see <a href="/guide/en/beats/filebeat/master/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Filebeat in
the foreground.</p>
</div>
</div>
<p>Also see <a href="/guide/en/beats/filebeat/master/running-with-systemd.html" class="ulink" target="_top">Filebeat and systemd</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="rpm-tab-start-filebeat"
       aria-labelledby="rpm-start-filebeat"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">sudo service filebeat start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an <code class="literal">init.d</code> script to start Filebeat, you can&#8217;t specify command
line flags (see <a href="/guide/en/beats/filebeat/master/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Filebeat in
the foreground.</p>
</div>
</div>
<p>Also see <a href="/guide/en/beats/filebeat/master/running-with-systemd.html" class="ulink" target="_top">Filebeat and systemd</a>.</p>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="mac-tab-start-filebeat"
       aria-labelledby="mac-start-filebeat"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">./filebeat -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="linux-tab-start-filebeat"
       aria-labelledby="linux-start-filebeat"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">./filebeat -e</pre>
</div>
  </div>
  <div tabindex="0"
       role="tabpanel"
       id="win-tab-start-filebeat"
       aria-labelledby="win-start-filebeat"
       hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">PS C:\Program Files\filebeat&gt; Start-Service filebeat</pre>
</div>
<p>By default, Windows log files are stored in <code class="literal">C:\ProgramData\filebeat\Logs</code>.</p>
  </div>
</div>
<h6><a id="step-5-plaintext-parse-logs-with-an-ingest-pipeline"></a>Step 5: Parse logs with an ingest pipeline<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h6>
<p>Use an ingest pipeline to parse the contents of your logs into structured, <a href="/guide/en/ecs/8.11/ecs-reference.html" class="ulink" target="_top">Elastic Common Schema (ECS)</a>-compatible fields.</p>
<p>Create an ingest pipeline that defines a <a href="/guide/en/elasticsearch/reference/master/dissect-processor.html" class="ulink" target="_top">dissect processor</a> to extract structured ECS fields from your log messages. In your project, navigate to <span class="strong strong"><strong>Developer Tools</strong></span> and using a command similar to the following example:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">PUT _ingest/pipeline/filebeat* <a id="CO69-1"></a><i class="conum" data-value="1"></i>
{
  "description": "Extracts the timestamp log level and host ip",
  "processors": [
    {
      "dissect": { <a id="CO69-2"></a><i class="conum" data-value="2"></i>
        "field": "message", <a id="CO69-3"></a><i class="conum" data-value="3"></i>
        "pattern": "%{@timestamp} %{log.level} %{host.ip} %{message}" <a id="CO69-4"></a><i class="conum" data-value="4"></i>
      }
    }
  ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/49.console"></div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO69-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">_ingest/pipeline/filebeat*</code>: The name of the pipeline. Update the pipeline name to match the name of your data stream. For more information, refer to <a href="/guide/en/fleet/master/data-streams.html#data-streams-naming-scheme" class="ulink" target="_top">Data stream naming scheme</a>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO69-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">processors.dissect</code>: Adds a <a href="/guide/en/elasticsearch/reference/master/dissect-processor.html" class="ulink" target="_top">dissect processor</a> to extract structured fields from your log message.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO69-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">field</code>: The field you&#8217;re extracting data from, <code class="literal">message</code> in this case.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO69-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">pattern</code>: The pattern of the elements in your log data. The pattern varies depending on your log format. <code class="literal">%{@timestamp}</code> is required. <code class="literal">%{log.level}</code>, <code class="literal">%{host.ip}</code>, and <code class="literal">%{message}</code> are common <a href="/guide/en/ecs/8.11/ecs-reference.html" class="ulink" target="_top">ECS</a> fields. This pattern would match a log file in this format: <code class="literal">2023-11-07T09:39:01.012Z ERROR 192.168.1.110 Server hardware failure detected.</code></p>
</td>
</tr>
</table>
</div>
<p>Refer to <a class="xref" href="logs-parse.html#logs-stream-parse" title="Extract structured fields">Extract structured fields</a> for more on using ingest pipelines to parse your log data.</p>
<p>After creating your pipeline, specify the pipeline for filebeat in the <code class="literal">filebeat.yml</code> file:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">output.elasticsearch:
  hosts: ["your-projects-elasticsearch-endpoint"]
  api_key: "id:api_key"
  pipeline: "your-pipeline" <a id="CO70-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO70-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Add the <code class="literal">pipeline</code> output and the name of your pipeline to the output.</p>
</td>
</tr>
</table>
</div>
<h5><a id="ingest-plaintext-logs-with-the-agent"></a>Ingest logs with the Elastic Agent<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h5>
<p>Follow these steps to ingest and centrally manage your logs using Elastic Agent and Fleet.</p>
<h6><a id="step-1-plaintext-add-the-custom-logs-integration-to-your-project"></a>Step 1: Add the custom logs integration to your project<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h6>
<p>To add the custom logs integration to your project:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From your deployment&#8217;s home page, click <span class="strong strong"><strong>Add Integrations</strong></span>.
</li>
<li class="listitem">
Type <code class="literal">custom</code> in the search bar and select <span class="strong strong"><strong>Custom Logs</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add Custom Logs</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Install Elastic Agent</strong></span> at the bottom of the page, and follow the instructions for your system to install the Elastic Agent.
</li>
<li class="listitem">
After installing the Elastic Agent, configure the integration from the <span class="strong strong"><strong>Add Custom Logs integration</strong></span> page.
</li>
<li class="listitem">
Give your integration a meaningful name and description.
</li>
<li class="listitem">
Add the <span class="strong strong"><strong>Log file path</strong></span>. For example, <code class="literal">/var/log/your-logs.log</code>.
</li>
<li class="listitem">
Give your agent policy a name. The agent policy defines the data your Elastic Agent collects.
</li>
<li class="listitem">
Save your integration to add it to your deployment.
</li>
</ol>
</div>
<h6><a id="step-2-plaintext-add-an-ingest-pipeline-to-your-integration"></a>Step 2: Add an ingest pipeline to your integration<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h6>
<p>To aggregate or search for information in plaintext logs, use an ingest pipeline with your integration to parse the contents of your logs into structured, <a href="/guide/en/ecs/8.11/ecs-reference.html" class="ulink" target="_top">Elastic Common Schema (ECS)</a>-compatible fields.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the custom logs integration, select <span class="strong strong"><strong>Integration policies</strong></span> tab.
</li>
<li class="listitem">
Select the integration policy you created in the previous section.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Change defaults → Advanced options</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Ingest pipelines</strong></span>, click <span class="strong strong"><strong>Add custom pipeline</strong></span>.
</li>
<li class="listitem">
<p>Create an ingest pipeline with a <a href="/guide/en/elasticsearch/reference/master/dissect-processor.html" class="ulink" target="_top">dissect processor</a> to extract structured fields from your log messages.</p>
<p>Click <span class="strong strong"><strong>Import processors</strong></span> and add a similar JSON to the following example:</p>
<div class="pre_wrapper lang-JSON">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-JSON">{
  "description": "Extracts the timestamp log level and host ip",
  "processors": [
    {
      "dissect": { <a id="CO71-1"></a><i class="conum" data-value="1"></i>
        "field": "message", <a id="CO71-2"></a><i class="conum" data-value="2"></i>
        "pattern": "%{@timestamp} %{log.level} %{host.ip} %{message}" <a id="CO71-3"></a><i class="conum" data-value="3"></i>
      }
    }
  ]
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO71-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">processors.dissect</code>: Adds a <a href="/guide/en/elasticsearch/reference/master/dissect-processor.html" class="ulink" target="_top">dissect processor</a> to extract structured fields from your log message.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO71-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">field</code>: The field you&#8217;re extracting data from, <code class="literal">message</code> in this case.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO71-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">pattern</code>: The pattern of the elements in your log data. The pattern varies depending on your log format. <code class="literal">%{@timestamp}</code>, <code class="literal">%{log.level}</code>, <code class="literal">%{host.ip}</code>, and <code class="literal">%{message}</code> are common <a href="/guide/en/ecs/8.11/ecs-reference.html" class="ulink" target="_top">ECS</a> fields. This pattern would match a log file in this format: <code class="literal">2023-11-07T09:39:01.012Z ERROR 192.168.1.110 Server hardware failure detected.</code></p>
</td>
</tr>
</table>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create pipeline</strong></span>.
</li>
<li class="listitem">
Save and deploy your integration.
</li>
</ol>
</div>
<h4><a id="correlate-plaintext-logs"></a>Correlate logs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h4>
<p>Correlate your application logs with trace events to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
view the context of a log and the parameters provided by a user
</li>
<li class="listitem">
view all logs belonging to a particular trace
</li>
<li class="listitem">
easily move between logs and traces when debugging application issues
</li>
</ul>
</div>
<p>Log correlation works on two levels:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
at service level: annotation with <code class="literal">service.name</code>, <code class="literal">service.version</code>, and <code class="literal">service.environment</code> allow you to link logs with APM services
</li>
<li class="listitem">
at trace level: annotation with <code class="literal">trace.id</code> and <code class="literal">transaction.id</code> allow you to link logs with traces
</li>
</ul>
</div>
<p>Learn about correlating plaintext logs in the agent-specific ingestion guides:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/apm/agent/go/current/logs.html" class="ulink" target="_top">Go</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/java/current/logs.html#log-correlation-ids" class="ulink" target="_top">Java</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/dotnet/current/log-correlation.html" class="ulink" target="_top">.NET</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/nodejs/current/log-correlation.html" class="ulink" target="_top">Node.js</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/python/current/logs.html#log-correlation-ids" class="ulink" target="_top">Python</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/ruby/current/log-correlation.html" class="ulink" target="_top">Ruby</a>
</li>
</ul>
</div>
<h4><a id="view-plaintext-logs"></a>View logs<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/logs-plaintext.asciidoc">edit</a></h4>
<p>To view logs ingested by Filebeat, go to <span class="strong strong"><strong>Discover</strong></span> from the main menu and create a data view based on the <code class="literal">filebeat-*</code> index pattern. Refer to <a href="/guide/en/kibana/master/data-views.html" class="ulink" target="_top">Create a data view</a> for more information.</p>
<p>To view logs ingested by Elastic Agent, go to Log Explorer by clicking <span class="strong strong"><strong>Explorer</strong></span> under <span class="strong strong"><strong>Logs</strong></span> from the Observability main menu. Refer to the <a class="xref" href="logs-filter-and-aggregate.html" title="Filter and aggregate logs">Filter and aggregate logs</a> documentation for more information on viewing and filtering your logs in Kibana.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="application-logs.html">« Stream application logs</a>
</span>
<span class="next">
<a href="logs-ecs-application.html">ECS formatted application logs »</a>
</span>
</div>
</body>
</html>
