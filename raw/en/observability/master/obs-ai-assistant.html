<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Observability AI Assistant | Elastic Observability [master] | Elastic</title>
<meta class="elastic" name="content" content="Observability AI Assistant | Elastic Observability [master]">

<link rel="home" href="index.html" title="Elastic Observability [master]"/>
<link rel="up" href="index.html" title="Elastic Observability [master]"/>
<link rel="prev" href="monitor-datasets.html" title="Data set quality"/>
<link rel="next" href="reference.html" title="Reference"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/master"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="monitor-datasets.html">« Data set quality</a>
</span>
<span class="next">
<a href="reference.html">Reference »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [master]</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Observability AI Assistant</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="obs-ai-assistant"></a>Observability AI Assistant</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To run the Observability AI Assistant on self-hosted Elastic stack, you need an <a href="/subscriptions" class="ulink" target="_top">appropriate license</a>.</p>
</div>
</div>
<p>The AI Assistant uses generative AI to provide:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Contextual insights</strong></span> — open prompts throughout Observability that explain errors and messages and suggest remediation.
</li>
<li class="listitem">
<span class="strong strong"><strong>Chat</strong></span> —  have conversations with the AI Assistant. Chat uses function calling to request, analyze, and visualize your data.
</li>
</ul>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/obs-assistant2.gif" alt="Observability AI assistant preview" width="60%">
</div>
</div>
<p>The AI Assistant integrates with your large language model (LLM) provider through our supported Elastic Stack connectors:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/kibana/master/openai-action-type.html" class="ulink" target="_top">OpenAI connector</a> for OpenAI or Azure OpenAI Service.
</li>
<li class="listitem">
<a href="/guide/en/kibana/master/bedrock-action-type.html" class="ulink" target="_top">Amazon Bedrock connector</a> for Amazon Bedrock, specifically for the Claude models.
</li>
<li class="listitem">
<a href="/guide/en/kibana/master/gemini-action-type.html" class="ulink" target="_top">Google Gemini connector</a> for Google Gemini.
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The AI Assistant is powered by an integration with your large language model (LLM) provider.
LLMs are known to sometimes present incorrect information as if it&#8217;s correct.
Elastic supports configuration and connection to the LLM provider and your knowledge base,
but is not responsible for the LLM&#8217;s responses.</p>
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Also, the data you provide to the Observability AI assistant is <em>not</em> anonymized, and is stored and processed by the third-party AI provider. This includes any data used in conversations for analysis or context, such as alert or event data, detection rule configurations, and queries. Therefore, be careful about sharing any confidential or sensitive details while using this feature.</p>
</div>
</div>
<div class="position-relative"><h3><a id="obs-ai-requirements"></a>Requirements</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>The AI assistant requires the following:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Elastic Stack version 8.9 and later.
</li>
<li class="listitem">
An <a href="/guide/en/enterprise-search/master/server.html" class="ulink" target="_top">Enterprise Search</a> server if Elastic managed <a href="/guide/en/elasticsearch/reference/master/es-native-connectors.html" class="ulink" target="_top">search connectors</a> are used to populate external data into the knowledge base.
</li>
<li class="listitem">
<p>An account with a third-party generative AI provider that preferably supports function calling.
If your AI provider does not support function calling, you can configure AI Assistant settings under <span class="strong strong"><strong>Stack Management</strong></span> to simulate function calling, but this might affect performance.</p>
<p>Refer to the <a href="/guide/en/kibana/master/action-types.html" class="ulink" target="_top">connector documentation</a> for your provider to learn about supported and default models.</p>
</li>
<li class="listitem">
The knowledge base requires a 4 GB machine learning node.
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>The free tier offered by third-party generative AI provider may not be sufficient for the proper functioning of the AI assistant.
In most cases, a paid subscription to one of the supported providers is required.</p>
<p>The Observability AI assistant doesn&#8217;t support connecting to a private LLM.
Elastic doesn&#8217;t recommend using private LLMs with the Observability AI assistant.</p>
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>In Elastic Cloud or Elastic Cloud Enterprise, if you have Machine Learning autoscaling enabled, Machine Learning nodes will be started when using the knowledge base and AI Assistant. Therefore using these features will incur additional costs.</p>
</div>
</div>
<div class="position-relative"><h3><a id="data-information"></a>Your data and the AI Assistant</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>Elastic does not use customer data for model training. This includes anything you send the model, such as alert or event data, detection rule configurations, queries, and prompts. However, any data you provide to the AI Assistant will be processed by the third-party provider you chose when setting up the OpenAI connector as part of the assistant setup.</p>
<p>Elastic does not control third-party tools, and assumes no responsibility or liability for their content, operation, or use, nor for any loss or damage that may arise from your using such tools. Please exercise caution when using AI tools with personal, sensitive, or confidential information. Any data you submit may be used by the provider for AI training or other purposes. There is no guarantee that the provider will keep any information you provide secure or confidential. You should familiarize yourself with the privacy practices and terms of use of any generative AI tools prior to use.</p>
<div class="position-relative"><h3><a id="obs-ai-set-up"></a>Set up the AI Assistant</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>To set up the AI Assistant:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Create an authentication key with your AI provider to authenticate requests from the AI Assistant. You&#8217;ll use this in the next step. Refer to your provider&#8217;s documentation for information about creating authentication keys:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://platform.openai.com/docs/api-reference" class="ulink" target="_top">OpenAI API keys</a>
</li>
<li class="listitem">
<a href="https://learn.microsoft.com/en-us/azure/cognitive-services/openai/reference" class="ulink" target="_top">Azure OpenAI Service API keys</a>
</li>
<li class="listitem">
<a href="https://docs.aws.amazon.com/bedrock/latest/userguide/security-iam.html" class="ulink" target="_top">Amazon Bedrock authentication keys and secrets</a>
</li>
<li class="listitem">
<a href="https://cloud.google.com/iam/docs/keys-list-get" class="ulink" target="_top">Google Gemini service account keys</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Create a connector for your AI provider. Refer to the connector documentation to learn how:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/kibana/master/openai-action-type.html" class="ulink" target="_top">OpenAI</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/master/bedrock-action-type.html" class="ulink" target="_top">Amazon Bedrock</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/master/gemini-action-type.html" class="ulink" target="_top">Google Gemini</a>
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Authenticate communication between Observability and the AI provider by providing the following information:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In the <span class="strong strong"><strong>URL</strong></span> field, enter the AI provider&#8217;s API endpoint URL.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Authentication</strong></span>, enter the key or secret you created in the previous step.
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="obs-ai-add-data"></a>Add data to the AI Assistant knowledge base</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p><span class="strong strong"><strong>If you started using the AI Assistant in technical preview</strong></span>,
any knowledge base articles you created before 8.12 will have to be reindexed or upgraded before they can be used.
Knowledge base articles created before 8.12 use ELSER v1.
In 8.12, knowledge base articles must use ELSER v2.
Options include:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clear all old knowledge base articles manually and reindex them.
</li>
<li class="listitem">
Upgrade all knowledge base articles indexed with ELSER v1 to ELSER v2 using a <a href="https://github.com/elastic/elasticsearch-labs/blob/main/notebooks/model-upgrades/upgrading-index-to-use-elser.ipynb" class="ulink" target="_top">Python script</a>.
</li>
</ul>
</div>
</div>
</div>
<p>The AI Assistant uses <a href="/guide/en/machine-learning/master/ml-nlp-elser.html" class="ulink" target="_top">ELSER</a>, Elastic&#8217;s semantic search engine, to recall data from its internal knowledge base index to create retrieval augmented generation (RAG) responses. Adding data such as Runbooks, GitHub issues, internal documentation, and Slack messages to the knowledge base gives the AI Assistant context to provide more specific assistance.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Your AI provider may collect telemetry when using the AI Assistant. Contact your AI provider for information on how data is collected.</p>
</div>
</div>
<p>Add data to the knowledge base with one or more of the following methods:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="obs-ai-assistant.html#obs-ai-kb-ui" title="Use the knowledge base UI">Use the knowledge base UI</a> available at <a class="xref" href="obs-ai-assistant.html#obs-ai-settings" title="AI Assistant Settings">AI Assistant Settings</a> page.
</li>
<li class="listitem">
<a class="xref" href="obs-ai-assistant.html#obs-ai-search-connectors" title="Use search connectors">Use search connectors</a>
</li>
</ul>
</div>
<p>You can also add information to the knowledge base by asking the AI Assistant to remember something while chatting (for example, "remember this for next time"). The assistant will create a summary of the information and add it to the knowledge base.</p>
<div class="position-relative"><h4><a id="obs-ai-kb-ui"></a>Use the knowledge base UI</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>To add external data to the knowledge base in Kibana:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
To open AI Assistant settings, find <code class="literal">AI Assistants</code> in the <a href="/guide/en/kibana/master/introduction.html#kibana-navigation-search" class="ulink" target="_top">global search field</a>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Elastic AI Assistant for Observability</strong></span>, click <span class="strong strong"><strong>Manage settings</strong></span>.
</li>
<li class="listitem">
Switch to the <span class="strong strong"><strong>Knowledge base</strong></span> tab.
</li>
<li class="listitem">
<p>Click the <span class="strong strong"><strong>New entry</strong></span> button, and choose either:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Single entry</strong></span>: Write content for a single entry in the UI.
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Bulk import</strong></span>: Upload a newline delimited JSON (<code class="literal">ndjson</code>) file containing a list of entries to add to the knowledge base. Each object should conform to the following format:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "id": "a_unique_human_readable_id",
  "text": "Contents of item"
}</pre>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="position-relative"><h4><a id="obs-ai-search-connectors"></a>Use search connectors</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <a href="/guide/en/elasticsearch/reference/master/es-connectors.html" class="ulink" target="_top">search connectors</a> described in this section differ from the <a href="/guide/en/kibana/master/action-types.html" class="ulink" target="_top">Stack management &#8594; Connectors</a> configured during the <a class="xref" href="obs-ai-assistant.html#obs-ai-set-up" title="Set up the AI Assistant">AI Assistant setup</a>.
Search connectors are only needed when importing external data into the Knowledge base of the AI Assistant, while the stack connector to the LLM is required for the AI Assistant to work.</p>
</div>
</div>
<p><a href="/guide/en/elasticsearch/reference/master/es-connectors.html" class="ulink" target="_top">Connectors</a> allow you to index content from external sources thereby making it available for the AI Assistant. This can greatly improve the relevance of the AI Assistant’s responses. Data can be integrated from sources such as GitHub, Confluence, Google Drive, Jira, AWS S3, Microsoft Teams, Slack, and more.</p>
<p>UI affordances for creating and managing search connectors are available in the Search Solution in Kibana.
You can also use the Elasticsearch <a href="/guide/en/elasticsearch/reference/master/connector-apis.html" class="ulink" target="_top">Connector APIs</a> to create and manage search connectors.</p>
<p>The infrastructure for deploying connectors can be managed by Elastic or self-managed. Managed connectors require an <a href="/guide/en/enterprise-search/master/server.html" class="ulink" target="_top">Enterprise Search</a> server connected to the Elastic Stack. Self-managed connectors are run on your own infrastructure and don&#8217;t require the Enterprise Search service.</p>
<p>By default, the AI Assistant queries all search connector indices. To override this behavior and customize which indices are queried, adjust the <span class="strong strong"><strong>Search connector index pattern</strong></span> setting on the <a class="xref" href="obs-ai-assistant.html#obs-ai-settings" title="AI Assistant Settings">AI Assistant Settings</a> page. This allows precise control over which data sources are included in AI Assistant knowledge base.</p>
<p>To create a connector in the Kibana UI and make its content available to the AI Assistant knowledge base, follow these steps:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Open <span class="strong strong"><strong>Connectors</strong></span> by finding <code class="literal">Content / Connectors</code> in the <a href="/guide/en/kibana/master/introduction.html#kibana-navigation-search" class="ulink" target="_top">global search field</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If your Kibana Space doesn&#8217;t include the Search solution you will have to create the connector from a different space or change your space <span class="strong strong"><strong>Solution view</strong></span> setting to <code class="literal">Classic</code>.</p>
</div>
</div>
</li>
<li class="listitem">
<p>Follow the instructions to create a new connector.</p>
<p>For example, if you create a <a href="/guide/en/elasticsearch/reference/master/es-connectors-github.html" class="ulink" target="_top">GitHub connector</a> you have to set a <code class="literal">name</code>, attach it to a new or existing <code class="literal">index</code>, add your <code class="literal">personal access token</code> and include the <code class="literal">list of repositories</code> to synchronize.</p>
<p>Learn more about configuring and <a href="/guide/en/elasticsearch/reference/master/es-connectors-usage.html" class="ulink" target="_top">using connectors</a> in the Elasticsearch documentation.</p>
</li>
</ol>
</div>
<p>After creating your connector, create the embeddings needed by the AI Assistant. You can do this using either:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="obs-ai-assistant.html#obs-ai-search-connectors-ml-embeddings" title="Use machine learning pipelines to create AI Assistant embeddings">a machine learning (ML) pipeline</a>: requires the ELSER ML model.
</li>
<li class="listitem">
<a class="xref" href="obs-ai-assistant.html#obs-ai-search-connectors-semantic-text" title="Use a semantic_text field type to create AI Assistant embeddings">a <code class="literal">semantic_text</code> field type</a>: can use any available ML model (ELSER, E5, or a custom model).
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="obs-ai-search-connectors-ml-embeddings"></a>Use machine learning pipelines to create AI Assistant embeddings</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>To create the embeddings needed by the AI Assistant (weights and tokens into a sparse vector field) using an <span class="strong strong"><strong>ML Inference Pipeline</strong></span>:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open the previously created connector, and select the <span class="strong strong"><strong>Pipelines</strong></span> tab.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Copy and customize</strong></span> under <code class="literal">Unlock your custom pipelines</code>.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Add Inference Pipeline</strong></span> under <code class="literal">Machine Learning Inference Pipelines</code>.
</li>
<li class="listitem">
Select the <span class="strong strong"><strong>ELSER (Elastic Learned Sparse EncodeR)</strong></span> ML model to add the necessary embeddings to the data.
</li>
<li class="listitem">
Select the fields that need to be evaluated as part of the inference pipeline.
</li>
<li class="listitem">
Test and save the inference pipeline and the overall pipeline.
</li>
</ol>
</div>
<p>After creating the pipeline, complete the following steps:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Sync the data.</p>
<p>Once the pipeline is set up, perform a <span class="strong strong"><strong>Full Content Sync</strong></span> of the connector. The inference pipeline will process the data as follows:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
As data comes in, ELSER is applied to the data, and embeddings (weights and tokens into a <a href="/guide/en/elasticsearch/reference/master/query-dsl-sparse-vector-query.html" class="ulink" target="_top">sparse vector field</a>) are added to capture semantic meaning and context of the data.
</li>
<li class="listitem">
When you look at the ingested documents, you can see the embeddings are added to the <code class="literal">predicted_value</code> field in the documents.
</li>
</ul>
</div>
</li>
<li class="listitem">
<p>Check if AI Assistant can use the index (optional).</p>
<p>Ask something to the AI Assistant related with the indexed data.</p>
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="obs-ai-search-connectors-semantic-text"></a>Use a <code class="literal">semantic_text</code> field type to create AI Assistant embeddings</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>To create the embeddings needed by the AI Assistant using a <a href="/guide/en/elasticsearch/reference/master/semantic-text.html" class="ulink" target="_top"><code class="literal">semantic_text</code></a> field type:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Open the previously created connector, and select the <span class="strong strong"><strong>Mappings</strong></span> tab.
</li>
<li class="listitem">
Select <span class="strong strong"><strong>Add field</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Field type</strong></span>, select <span class="strong strong"><strong>Semantic text</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Reference field</strong></span>, select the field you want to use for model inference.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Select an inference endpoint</strong></span>, select the model you want to use to add the embeddings to the data.
</li>
<li class="listitem">
Add the field to your mapping by selecting <span class="strong strong"><strong>Add field</strong></span>.
</li>
<li class="listitem">
Sync the data by selecting <span class="strong strong"><strong>Full Content</strong></span> from the <span class="strong strong"><strong>Sync</strong></span> menu.
</li>
</ol>
</div>
<p>The AI Assistant will now query the connector you&#8217;ve set up using the model you&#8217;ve selected.
Check that the AI Assistant is using the index by asking it something related to the indexed data.</p>
<div class="position-relative"><h3><a id="obs-ai-interact"></a>Interact with the AI Assistant</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>Chat with the AI Assistant or interact with contextual insights located throughout Observability.
Check the following sections for more on interacting with the AI Assistant.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>After every answer the LLM provides, let us know if the answer was helpful.
Your feedback helps us improve the AI Assistant!</p>
</div>
</div>
<div class="position-relative"><h4><a id="obs-ai-chat"></a>Chat with the assistant</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>Select the <span class="strong strong"><strong>AI Assistant</strong></span> icon (<span class="image"><img src="images/ai-assistant-icon.png" alt="AI Assistant icon"></span>) at the upper-right corner of any Observability application to start the chat.</p>
<p>This opens the AI Assistant flyout, where you can ask the assistant questions about your instance:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/obs-ai-chat.png" alt="Observability AI assistant chat" width="60%">
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Asking questions about your data requires <code class="literal">function calling</code>, which enables LLMs to reliably interact with third-party generative AI providers to perform searches or run advanced functions using customer data.</p>
<p>When the Observability AI Assistant performs searches in the cluster, the queries are run with the same level of permissions as the user.</p>
</div>
</div>
<div class="position-relative"><h4><a id="obs-ai-functions"></a>Suggest functions</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in beta and is subject to change. The design and code is less mature than official GA features and is being provided as-is with no warranties. Beta features are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>The AI Assistant uses functions to include relevant context in the chat conversation through text, data, and visual components. Both you and the AI Assistant can suggest functions. You can also edit the AI Assistant&#8217;s function suggestions and inspect function responses.</p>
<p>Main functions:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">alerts</code>
</p>
</td>
<td valign="top">
<p>
Get alerts for Observability.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">elasticsearch</code>
</p>
</td>
<td valign="top">
<p>
Call Elasticsearch APIs on your behalf.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">kibana</code>
</p>
</td>
<td valign="top">
<p>
Call Kibana APIs on your behalf.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">summarize</code>
</p>
</td>
<td valign="top">
<p>
Summarize parts of the conversation.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">visualize_query</code>
</p>
</td>
<td valign="top">
<p>
Visualize charts for ES|QL queries.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<p>Additional functions are available when your cluster has APM data:</p>
<div class="informaltable">
<table border="0" cellpadding="4px">
<colgroup>
<col/>
<col/>
</colgroup>
<tbody valign="top">
<tr>
<td valign="top">
<p>
<code class="literal">get_apm_correlations</code>
</p>
</td>
<td valign="top">
<p>
Get field values that are more prominent in the foreground set than the background set. This can be useful in determining which attributes (such as <code class="literal">error.message</code>, <code class="literal">service.node.name</code>, or <code class="literal">transaction.name</code>) are contributing to, for instance, a higher latency. Another option is a time-based comparison, where you compare before and after a change point.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">get_apm_downstream_dependencies</code>
</p>
</td>
<td valign="top">
<p>
Get the downstream dependencies (services or uninstrumented backends) for a service. Map the downstream dependency name to a service by returning both <code class="literal">span.destination.service.resource</code> and <code class="literal">service.name</code>. Use this to drill down further if needed.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">get_apm_error_document</code>
</p>
</td>
<td valign="top">
<p>
Get a sample error document based on the grouping name. This also includes the stacktrace of the error, which might hint to the cause.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">get_apm_service_summary</code>
</p>
</td>
<td valign="top">
<p>
Get a summary of a single service, including the language, service version, deployments, the environments, and the infrastructure that it is running in. For example, the number of pods and a list of their downstream dependencies. It also returns active alerts and anomalies.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">get_apm_services_list</code>
</p>
</td>
<td valign="top">
<p>
Get the list of monitored services, their health statuses, and alerts.
</p>
</td>
</tr>
<tr>
<td valign="top">
<p>
<code class="literal">get_apm_timeseries</code>
</p>
</td>
<td valign="top">
<p>
Display different APM metrics (such as throughput, failure rate, or latency) for any service or all services and any or all of their dependencies. Displayed both as a time series and as a single statistic. Additionally, the function  returns any changes, such as spikes, step and trend changes, or dips. You can also use it to compare data by requesting two different time ranges, or, for example, two different service versions.
</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="position-relative"><h4><a id="obs-ai-prompts"></a>Use contextual prompts</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>AI Assistant contextual prompts throughout Observability provide the following information:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Universal Profiling</strong></span> — explains the most expensive libraries and functions in your fleet and provides optimization suggestions.
</li>
<li class="listitem">
<span class="strong strong"><strong>Application performance monitoring (APM)</strong></span> — explains APM errors and provides remediation suggestions.
</li>
<li class="listitem">
<span class="strong strong"><strong>Infrastructure Observability</strong></span> — explains the processes running on a host.
</li>
<li class="listitem">
<span class="strong strong"><strong>Logs</strong></span> — explains log messages and generates search patterns to find similar issues.
</li>
<li class="listitem">
<span class="strong strong"><strong>Alerting</strong></span> — provides possible causes and remediation suggestions for log rate changes.
</li>
</ul>
</div>
<p>For example, in the log details, you&#8217;ll see prompts for <span class="strong strong"><strong>What&#8217;s this message?</strong></span> and <span class="strong strong"><strong>How do I find similar log messages?</strong></span>:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/obs-ai-logs-prompts.png" alt="Observability AI assistant logs prompts" width="60%">
</div>
</div>
<p>Clicking a prompt generates a message specific to that log entry:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/obs-ai-logs.gif" alt="Observability AI assistant example" width="60%">
</div>
</div>
<p>Continue a conversation from a contextual prompt by clicking <span class="strong strong"><strong>Start chat</strong></span> to open the AI Assistant chat.</p>
<div class="position-relative"><h4><a id="obs-ai-connector"></a>Add the AI Assistant connector to alerting workflows</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>Use the <a href="/guide/en/kibana/master/obs-ai-assistant-action-type.html" class="ulink" target="_top">Observability AI Assistant connector</a> to add AI-generated insights and custom actions to your alerting workflows as follows:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a class="xref" href="create-alerts-rules.html" title="Create and manage rules">Create (or edit) an alerting rule</a> and specify the conditions that must be met for the alert to fire.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Actions</strong></span>, select the <span class="strong strong"><strong>Observability AI Assistant</strong></span> connector type.
</li>
<li class="listitem">
In the <span class="strong strong"><strong>Connector</strong></span> list, select the AI connector you created when you set up the assistant.
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Message</strong></span> field, specify the message to send to the assistant:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/obs-ai-assistant-action-high-cpu.png" alt="Add an Observability AI assistant action while creating a rule in the Observability UI">
</div>
</div>
</li>
</ol>
</div>
<p>You can ask the assistant to generate a report of the alert that fired,
recall any information or potential resolutions of past occurrences stored in the knowledge base,
provide troubleshooting guidance and resolution steps,
and also include other active alerts that may be related.
As a last step, you can ask the assistant to trigger an action,
such as sending the report (or any other message) to a Slack webhook.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Currently only Slack, email, Jira, PagerDuty, or webhook actions are supported.
Additional actions will be added in the future.</p>
</div>
</div>
<p>When the alert fires, contextual details about the event—such as when the alert fired,
the service or host impacted, and the threshold breached—are sent to the AI Assistant,
along with the message provided during configuration.
The AI Assistant runs the tasks requested in the message and creates a conversation you can use to chat with the assistant:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/obs-ai-assistant-output.png" alt="AI Assistant conversation created in response to an alert">
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Conversations created by the AI Assistant are public and accessible to every user with permissions to use the assistant.</p>
</div>
</div>
<p>It might take a minute or two for the AI Assistant to process the message and create the conversation.</p>
<p>Note that overly broad prompts may result in the request exceeding token limits.
For more information, refer to <a class="xref" href="obs-ai-assistant.html#obs-ai-token-limits" title="Token limits">Token limits</a>.
Also, attempting to analyze several alerts in a single connector execution may cause you to exceed the function call limit.
If this happens, modify the message specified in the connector configuration to avoid exceeding limits.</p>
<p>When asked to send a message to another connector, such as Slack,
the AI Assistant attempts to include a link to the generated conversation.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>The <code class="literal">server.publicBaseUrl</code> setting must be correctly specified under Kibana settings,
or the AI Assistant is unable to generate this link.</p>
</div>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/obs-ai-assistant-slack-message.png" alt="Message sent by Slack by the AI Assistant includes a link to the conversation">
</div>
</div>
<p>The Observability AI Assistant connector is called when the alert fires and when it recovers.</p>
<p>To learn more about alerting, actions, and connectors, refer to <a class="xref" href="create-alerts.html" title="Alerting">Alerting</a>.</p>
<div class="position-relative"><h3><a id="obs-ai-settings"></a>AI Assistant Settings</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>To access the AI Assistant Settings page, you can:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Find <code class="literal">AI Assistants</code> in the <a href="/guide/en/kibana/master/introduction.html#kibana-navigation-search" class="ulink" target="_top">global search field</a>.
</li>
<li class="listitem">
Use the <span class="strong strong"><strong>More actions</strong></span> menu inside the AI Assistant window.
</li>
</ul>
</div>
<p>The AI Assistant Settings page contains the following tabs:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Settings</strong></span>: Configures the main AI Assistant settings, which are explained directly within the interface.
</li>
<li class="listitem">
<span class="strong strong"><strong>Knowledge base</strong></span>: Manages <a class="xref" href="obs-ai-assistant.html#obs-ai-kb-ui" title="Use the knowledge base UI">knowledge base entries</a>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Search Connectors</strong></span>: Provides a link to Kibana <span class="strong strong"><strong>Search</strong></span> &#8594; <span class="strong strong"><strong>Content</strong></span> &#8594; <span class="strong strong"><strong>Connectors</strong></span> UI for connectors configuration.
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="obs-ai-product-documentation"></a>Elastic documentation for the AI Assistant</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>It is possible to make the Elastic official documentation available to the AI Assistant, which significantly increases
its efficiency and accuracy in answering questions related to the Elastic stack and Elastic products.</p>
<p>Enabling that feature can be done from the <span class="strong strong"><strong>Settings</strong></span> tab of the AI Assistant Settings page, using the "Install Elastic Documentation" action.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Installing the product documentation in air gapped environments requires specific installation and configuration instructions,
which are available in the <a href="/guide/en/kibana/master/ai-assistant-settings-kb.html" class="ulink" target="_top">Kibana Kibana AI Assistants settings documentation</a>.</p>
</div>
</div>
<div class="position-relative"><h3><a id="obs-ai-known-issues"></a>Known issues</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="obs-ai-token-limits"></a>Token limits</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/observability-ai-assistant.asciidoc">edit</a></div>
<p>Most LLMs have a set number of tokens they can manage in single a conversation.
When you reach the token limit, the LLM will throw an error, and Elastic will display a "Token limit reached" error in Kibana.
The exact number of tokens that the LLM can support depends on the LLM provider and model you&#8217;re using.
If you use an OpenAI connector, monitor token utilization in <span class="strong strong"><strong>OpenAI Token Usage</strong></span> dashboard.
For more information, refer to the <a href="/guide/en/kibana/master/openai-action-type.html#openai-connector-token-dashboard" class="ulink" target="_top">OpenAI Connector documentation</a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="monitor-datasets.html">« Data set quality</a>
</span>
<span class="next">
<a href="reference.html">Reference »</a>
</span>
</div>
</body>
</html>
