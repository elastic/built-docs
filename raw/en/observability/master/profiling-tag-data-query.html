<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Tag data for querying | Elastic Observability [master] | Elastic</title>
<meta class="elastic" name="content" content="Tag data for querying | Elastic Observability [master]">

<link rel="home" href="index.html" title="Elastic Observability [master]"/>
<link rel="up" href="profiling-advanced-configuration.html" title="Advanced configuration"/>
<link rel="prev" href="profiling-advanced-configuration.html" title="Advanced configuration"/>
<link rel="next" href="profiling-add-symbols.html" title="Add symbols for native frames"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/master"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="profiling-advanced-configuration.html">« Advanced configuration</a>
</span>
<span class="next">
<a href="profiling-add-symbols.html">Add symbols for native frames »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="universal-profiling.html">Universal Profiling</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="profiling-advanced-configuration.html">Advanced configuration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Tag data for querying</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/profiling-tag-data-query.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="profiling-tag-data-query"></a>Tag data for querying<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/profiling-tag-data-query.asciidoc">edit</a></h3>
</div></div></div>
<p>The instructions to deploy the Universal Profiling Agent displayed in <span class="strong strong"><strong>Add Data</strong></span> show a default configuration that allows ingesting data into an Elastic Cloud deployment.
The only config setting you may want to change is <code class="literal">project-id</code> (default value is <code class="literal">1</code>).</p>
<p>The <code class="literal">-project-id</code> flag, or the <code class="literal">project-id</code> key in the Universal Profiling Agent configuration file, splits profiling data into logical groups that you control.</p>
<p>You can assign any non-zero, unsigned integer &#8656; 4095 to a Universal Profiling Agent deployment you control. In Kibana, the KQL field <code class="literal">profiling.project.id</code> is mapped to <code class="literal">project-id</code> and you can use it to split or filter data.</p>
<p>You may want to set a per-environment project ID (for example, dev=3, staging=2, production=1), a per-datacenter project ID (for example,
DC1=1, DC2=2), or even a per-k8s-cluster project ID (for example, us-west2-production=100, eu-west1-production=101).</p>
<p>You can also use the <code class="literal">-tags</code> flag to associate an arbitrary string with a specific Universal Profiling Agent instance.
Each tag must match <code class="literal">^[a-zA-Z0-9-:._]+$</code> regex and use <code class="literal">;</code> as a separator.
Invalid tags are dropped and warnings issued on startup.</p>
<p>In Kibana, you can use the KQL field <code class="literal">tags</code> for filtering. For example, when running the Universal Profiling Agent with the following:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">sudo pf-host-agent/pf-host-agent -project-id=1 -tags='cloud_region:us-central1;env:staging'</pre>
</div>
<p>You can then filter profiling data from the Universal Profiling Agent in Kibana with the following tag:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">tags : "cloud_region:us-central1"</pre>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="profiling-advanced-configuration.html">« Advanced configuration</a>
</span>
<span class="next">
<a href="profiling-add-symbols.html">Add symbols for native frames »</a>
</span>
</div>
</body>
</html>
