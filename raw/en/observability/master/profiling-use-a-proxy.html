<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Use a proxy with the Universal Profiling Agent | Elastic Observability [master] | Elastic</title>
<meta class="elastic" name="content" content="Use a proxy with the Universal Profiling Agent | Elastic Observability [master]">

<link rel="home" href="index.html" title="Elastic Observability [master]"/>
<link rel="up" href="profiling-advanced-configuration.html" title="Advanced configuration"/>
<link rel="prev" href="profiling-add-symbols.html" title="Add symbols for native frames"/>
<link rel="next" href="profiling-no-kernel-version-check.html" title="Override kernel version check"/>
<meta class="elastic" name="product_version" content="master"/>
<meta class="elastic" name="product_name" content="Observability"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Observability/Guide/master"/>
<meta name="DC.subject" content="Observability"/>
<meta name="DC.identifier" content="master"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
This documentation contains work-in-progress information for future Elastic Stack and Cloud releases. Use the version selector to view supported release docs. It also contains some Elastic Cloud serverless information. Check out our <a href="https://www.elastic.co/docs/current/serverless">serverless docs</a> for more details.
</div>
<div class="navheader">
<span class="prev">
<a href="profiling-add-symbols.html">« Add symbols for native frames</a>
</span>
<span class="next">
<a href="profiling-no-kernel-version-check.html">Override kernel version check »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Observability [master]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="infrastructure-and-host-monitoring-intro.html">Infrastructure and host monitoring</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="universal-profiling.html">Universal Profiling</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="profiling-advanced-configuration.html">Advanced configuration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Use a proxy with the Universal Profiling Agent</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/profiling-use-a-proxy.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="profiling-use-a-proxy"></a>Use a proxy with the Universal Profiling Agent</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/observability/profiling-use-a-proxy.asciidoc">edit</a></div>
</div></div></div>

<p>In some cases, your infrastructure Universal Profiling Agent installation needs to use an HTTP proxy to reach Elastic Cloud.
In these cases, you can use the <code class="literal">HTTPS_PROXY</code> environment variable to configure a proxy used by the Universal Profiling Agent.
The connection to the backend (Elastic Cloud) will be tunneled through the proxy (no MITM-TLS) using the CONNECT method.
Basic authentication is supported.
This can be useful in environments with security policies or network restrictions that block direct connections to outside hosts.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>You need to set the <code class="literal">HTTPS_PROXY</code> environment variable in the machines that will run the Universal Profiling Agents. If you set the environment variable after the Universal Profiling Agent is installed, you may need to reinstall the Universal Profiling Agent.</p>
</div>
</div>
<p>The following example shows how to use the <code class="literal">HTTPS_PROXY</code> environment variable:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">export HTTPS_PROXY=http://username:password@proxy:port</pre>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="profiling-add-symbols.html">« Add symbols for native frames</a>
</span>
<span class="next">
<a href="profiling-no-kernel-version-check.html">Override kernel version check »</a>
</span>
</div>
</body>
</html>
