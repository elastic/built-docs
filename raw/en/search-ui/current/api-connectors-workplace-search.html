<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="search-bar-in-header">
<title>Workplace Search Connector | Search UI | Elastic</title>
<meta class="elastic" name="content" content="Workplace Search Connector | Search UI">

<link rel="home" href="index.html" title="Search UI"/>
<link rel="up" href="api-connectors-app-search.html" title="App Search Connector"/>
<link rel="prev" href="api-connectors-site-search.html" title="Site Search Connector"/>
<link rel="next" href="api-connectors-elasticsearch.html" title="Elasticsearch Connector"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Search UI"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Search UI/Guide"/>
<meta name="DC.subject" content="Search UI"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="api-connectors-site-search.html">« Site Search Connector</a>
</span>
<span class="next">
<a href="api-connectors-elasticsearch.html">Elasticsearch Connector »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Search UI</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api-architecture.html">Architecture</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api-connectors-app-search.html">App Search Connector</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Workplace Search Connector</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-connectors-workplace-search.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="api-connectors-workplace-search"></a>Workplace Search Connector</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-connectors-workplace-search.asciidoc">edit</a></div>
</div></div></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p class="admon_title">Deprecation Notice</p>
<p>Workplace Search connector for Search UI is deprecated and will no longer be
supported. Please migrate to <a class="xref" href="tutorials-elasticsearch.html" title="Search UI with Elasticsearch">Elasticsearch Connector</a>
for continued support.</p>
</div>
</div>
<p>This Connector is used to connect Search UI to Elastic&#8217;s <a href="/workplace-search/" class="ulink" target="_top">Workplace Search</a> API.</p>
<div class="position-relative"><h5><a id="api-connectors-workplace-search-usage"></a>Usage</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-connectors-workplace-search.asciidoc">edit</a></div>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">npm install --save @elastic/search-ui-workplace-search-connector</pre>
</div>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">import WorkplaceSearchAPIConnector from "@elastic/search-ui-workplace-search-connector";

const connector = new WorkplaceSearchAPIConnector({
  kibanaBase: "https://search-ui-sandbox.kb.us-central1.gcp.cloud.es.io:9243",
  enterpriseSearchBase:
    "https://search-ui-sandbox.ent.us-central1.gcp.cloud.es.io",
  redirectUri: "http://localhost:3000",
  clientId: "8e495e40fc4e6acf515e557e634de39d4f727f7f60a3afed24a99ce316607c1e"
});</pre>
</div>
<p>See the <a href="https://github.com/elastic/search-ui/blob/main/examples/sandbox/src/pages/workplace-search/index.js" class="ulink" target="_top">usage example</a> in our sandbox app. The example uses a private Elastic Cloud deployment. Make sure to update the configuration values to use with your own <a href="/cloud/" class="ulink" target="_top">Elastic Cloud</a> deployment.</p>
<div class="position-relative"><h5><a id="api-connectors-workplace-search-authentication"></a>Authentication</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-connectors-workplace-search.asciidoc">edit</a></div>
<p>The Workplace Search API requires authentication. This connector uses OAuth authentication. You can read more about that <a href="/guide/en/workplace-search/current/building-custom-search-workplace-search.html" class="ulink" target="_top">here</a> and <a href="/guide/en/workplace-search/current/workplace-search-search-oauth.html" class="ulink" target="_top">here</a>.</p>
<p>Using this connector will populate two additional pieces of Application State:</p>
<p><code class="literal">isLoggedIn</code> (boolean) - This can be used to determine whether or not a user is authenticated. Requests using this connector will only work if a user is authenticatied. If this is false, consider showing a "Login" link using the <code class="literal">authorizeUrl</code> state.</p>
<p><code class="literal">authorizeUrl</code> (string) - This can be used to create a "Login" link for users to initiate OAuth authentication.</p>
<p><code class="literal">logout</code> - (function) - This action can be used to log out user out of the search experience. Under the hood it 1) deletes the saved token from LocalStorage and 2) logs user out of Enterprise Search and Kibana to prevent the ability to get a new access token.</p>
<div class="position-relative"><h5><a id="api-connectors-workplace-search-options"></a>Options</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-connectors-workplace-search.asciidoc">edit</a></div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Param</th>
<th align="left" valign="top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>enterpriseSearchBase</p></td>
<td align="left" valign="top"><p>Required. String. The publicly accessible url of the Enterprise Search.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>kibanaBase</p></td>
<td align="left" valign="top"><p>Required. String. The publicly accessible url for the Kibana deployment associated with the Enterprise Search deployment. Used for OAuth authentication.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>redirectUri</p></td>
<td align="left" valign="top"><p>Required. String. The publicly accessible url of this Search UI deployment, which Kibana will redirect back to after successful OAuth authentication. Must match a URI as configured in the OAuth Application.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>clientId</p></td>
<td align="left" valign="top"><p>Required. String. Client ID as generated when setting up the OAuth Application.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>beforeSearchCall</p></td>
<td align="left" valign="top"><p>Optional. A hook to amend query options before the request is sent to the API in a query on an "onSearch" event.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>beforeAutocompleteResultsCall</p></td>
<td align="left" valign="top"><p>Optional. A hook to amend query options before the request is sent to the API in a "results" query on an "onAutocomplete" event.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="api-connectors-site-search.html">« Site Search Connector</a>
</span>
<span class="next">
<a href="api-connectors-elasticsearch.html">Elasticsearch Connector »</a>
</span>
</div>
</body>
</html>
