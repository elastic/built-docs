<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="search-bar-in-header">
<title>Analytics Plugin | Search UI | Elastic</title>
<meta class="elastic" name="content" content="Analytics Plugin | Search UI">

<link rel="home" href="index.html" title="Search UI"/>
<link rel="up" href="api-architecture.html" title="Architecture"/>
<link rel="prev" href="api-connectors-elasticsearch.html" title="Elasticsearch Connector"/>
<link rel="next" href="known-issues.html" title="Known issues"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Search UI"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Search UI/Guide"/>
<meta name="DC.subject" content="Search UI"/>
<meta name="DC.identifier" content="main"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="api-connectors-elasticsearch.html">« Elasticsearch Connector</a>
</span>
<span class="next">
<a href="known-issues.html">Known issues »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Search UI</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api-architecture.html">Architecture</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Analytics Plugin</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-plugins-analytics-plugin.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="api-core-plugins-analytics-plugin"></a>Analytics Plugin</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-plugins-analytics-plugin.asciidoc">edit</a></div>
</div></div></div>

<p>Use the Analytics Plugin to send analytics events to the Behavioral Analytics Product. Follow the instructions to set up the plugin.</p>
<div class="position-relative"><h4><a id="api-core-plugins-analytics-plugin-installation"></a>Installation</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-plugins-analytics-plugin.asciidoc">edit</a></div>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">yarn add @elastic/search-ui-analytics-plugin
## OR
npm install @elastic/search-ui-analytics-plugin</pre>
</div>
<div class="position-relative"><h4><a id="api-core-plugins-analytics-plugin-basic-usage"></a>Basic Usage</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-plugins-analytics-plugin.asciidoc">edit</a></div>
<p>Add the Analytics Plugin to your Search UI configuration like so:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">import AnalyticsPlugin from "@elastic/search-ui-analytics-plugin";

// search ui configuration
const config = {
  apiConnector: connector,
  searchQuery: { ... },
  plugins: [ AnalyticsPlugin() ]
}</pre>
</div>
<p>By default, the Analytics Plugin will use the Behavioral Analytics client provided when using script tag integration.</p>
<div class="position-relative"><h5><a id="api-core-plugins-analytics-plugin-passing-in-a-custom-analytics-client"></a>Passing in a custom analytics client</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-plugins-analytics-plugin.asciidoc">edit</a></div>
<p>If you integrated Behavioral Analytics using the <code class="literal">@elastic/behavioral-analytics-javascript-tracker</code> NPM package, you can pass in a custom analytics client to the Analytics Plugin.</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">import AnalyticsPlugin from "@elastic/search-ui-analytics-plugin";
import { createTracker, getTracker } from "@elastic/behavioral-analytics-javascript-tracker";

createTracker({
  // the DSN can be found in the Behavioral Analytics Collections view page
    dsn: "https://my-analytics-dsn.elastic.co"
})

// search ui configuration
const config = {
  apiConnector: connector,
  searchQuery: { ... },
  plugins: [
    AnalyticsPlugin({
      client: getTracker()
    })
  ]
}</pre>
</div>
<div class="position-relative"><h4><a id="api-core-plugins-analytics-plugin-options"></a>Options</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-plugins-analytics-plugin.asciidoc">edit</a></div>
<p>The Analytics Plugin accepts the following parameters:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Option</th>
<th align="left" valign="top">Type</th>
<th align="left" valign="top">Description</th>
<th align="left" valign="top">Default</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">client</code></p></td>
<td align="left" valign="top"><p><code class="literal">AnalyticsTracker</code></p></td>
<td align="left" valign="top"><p>The Behavioral Analytics client to use. Read more on <a href="https://github.com/elastic/behavioral-analytics-tracker" class="ulink" target="_top">Behavioral Analytics Tracker repo</a></p></td>
<td align="left" valign="top"><p><code class="literal">window.elasticAnalytics</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="api-connectors-elasticsearch.html">« Elasticsearch Connector</a>
</span>
<span class="next">
<a href="known-issues.html">Known issues »</a>
</span>
</div>
</body>
</html>
