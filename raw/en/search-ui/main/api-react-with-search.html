<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="keywords" content="search-bar-in-header">
<title>WithSearch &amp; withSearch | Search UI | Elastic</title>
<meta class="elastic" name="content" content="WithSearch &amp; withSearch | Search UI">

<link rel="home" href="index.html" title="Search UI"/>
<link rel="up" href="api-react-search-provider.html" title="SearchProvider"/>
<link rel="prev" href="api-react-search-provider.html" title="SearchProvider"/>
<link rel="next" href="api-react-components-search-box.html" title="SearchBox"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Search UI"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Search UI/Guide"/>
<meta name="DC.subject" content="Search UI"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="api-react-search-provider.html">« SearchProvider</a>
</span>
<span class="next">
<a href="api-react-components-search-box.html">SearchBox »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Search UI</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api-architecture.html">Architecture</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="api-react-search-provider.html">SearchProvider</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>WithSearch &amp; withSearch</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-react-with-search.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="api-react-with-search"></a>WithSearch &amp; withSearch</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-react-with-search.asciidoc">edit</a></div>
</div></div></div>
<p>If you wish to use Search UI and build your own custom component, you will need to use our HOCs to use Search UI&#8217;s core state and actions.</p>
<p>There are two HOCs for accessing Search UI&#8217;s state &amp; actions, <code class="literal">withSearch</code> and
<code class="literal">WithSearch</code>. They use the <a href="https://reactjs.org/docs/higher-order-components.html" class="ulink" target="_top">HOC</a> and
<a href="https://reactjs.org/docs/render-props.html" class="ulink" target="_top">Render Props</a> patterns, respectively. The two methods
are similar, and choosing between the two is mostly personal preference.</p>
<p>Both methods expose a <code class="literal">mapContextToProps</code> function which allows you to pick which state and actions
from context you need to work with.</p>
<div class="position-relative"><h5><a id="api-react-with-search-mapcontexttoprops"></a>mapContextToProps</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-react-with-search.asciidoc">edit</a></div>
<p><code class="literal">mapContextToProps</code> allows you to pick which state and actions
from Context you need to work with. <code class="literal">withSearch</code> and <code class="literal">WithSearch</code> both use <a href="https://reactjs.org/docs/react-api.html#reactpurecomponent" class="ulink" target="_top">React.PureComponent</a>,
and will only re-render when the picked state has changed.</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">name</th>
<th align="left" valign="top">type</th>
<th align="left" valign="top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>context</p></td>
<td align="left" valign="top"><p>Object</p></td>
<td align="left" valign="top"><p>The current Context</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>props</p></td>
<td align="left" valign="top"><p>Object</p></td>
<td align="left" valign="top"><p>The current props</p></td>
</tr>
</tbody>
</table>
</div>
<p>ex.:</p>
<div class="pre_wrapper lang-jsx">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-jsx">import { withSearch } from "@elastic/react-search-ui";

const Component = ({ searchTerm, setSearchTerm }) =&gt; {
  return (
    &lt;form onSubmit={(e) =&gt; {

    }}
    &lt;input type="text" value={searchTerm}&gt;
  )
}

// Selects `searchTerm` and `setSearchTerm` for use in Component
withSearch(({ searchTerm, setSearchTerm }) =&gt; ({
  searchTerm,
  setSearchTerm
}))(Component);

// Uses current `props` to conditionally modify context
withSearch(({ searchTerm }, { someProp }) =&gt; ({
  searchTerm: someProp ? "" : searchTerm
}))(Component);</pre>
</div>
<div class="position-relative"><h5><a id="api-react-with-search-withsearch"></a>withSearch</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-react-with-search.asciidoc">edit</a></div>
<p>This is the <a href="https://reactjs.org/docs/higher-order-components.html" class="ulink" target="_top">HOC</a> approach to working with the
core.</p>
<p>This is typically used for creating your own Components.</p>
<p>See <a class="xref" href="guides-creating-your-own-components.html" title="Creating Components">Build Your Own Component</a>.</p>
<div class="position-relative"><h5><a id="api-react-with-search-withsearch-1"></a>WithSearch</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/search-ui/edit/main/docs/api-react-with-search.asciidoc">edit</a></div>
<p>This is the <a href="https://reactjs.org/docs/render-props.html" class="ulink" target="_top">Render Props</a> approach to working with the core.</p>
<p>One use case for that would be to render a "loading" indicator any time the application is fetching data.</p>
<p>For example:</p>
<div class="pre_wrapper lang-jsx">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-jsx">import { WithSearch } from "@elastic/react-search-ui";

&lt;SearchProvider config={config}&gt;
  &lt;WithSearch mapContextToProps={({ isLoading }) =&gt; ({ isLoading })}&gt;
    {({ isLoading }) =&gt; (
      &lt;div className="App"&gt;
        {isLoading &amp;&amp; &lt;div&gt;I'm loading now&lt;/div&gt;}
        {!isLoading &amp;&amp; (
          &lt;Layout
            header={&lt;SearchBox /&gt;}
            bodyContent={&lt;Results titleField="title" urlField="nps_link" /&gt;}
          /&gt;
        )}
      &lt;/div&gt;
    )}
  &lt;/WithSearch&gt;
&lt;/SearchProvider&gt;;</pre>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="api-react-search-provider.html">« SearchProvider</a>
</span>
<span class="next">
<a href="api-react-components-search-box.html">SearchBox »</a>
</span>
</div>
</body>
</html>
