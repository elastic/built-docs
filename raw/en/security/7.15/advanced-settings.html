<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Configure advanced settings | Elastic Security Solution [7.15] | Elastic</title>
<meta class="elastic" name="content" content="Configure advanced settings | Elastic Security Solution [7.15]">

<link rel="home" href="index.html" title="Elastic Security Solution [7.15]"/>
<link rel="up" href="getting-started.html" title="Get started with Elastic Security"/>
<link rel="prev" href="install-endpoint.html" title="Configure and install the Endpoint Security integration"/>
<link rel="next" href="es-ui-overview.html" title="Elastic Security UI"/>
<meta class="elastic" name="product_version" content="7.15"/>
<meta class="elastic" name="product_name" content="Security"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Security/Guide/7.15"/>
<meta name="DC.subject" content="Security"/>
<meta name="DC.identifier" content="7.15"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="install-endpoint.html">« Configure and install the Endpoint Security integration</a>
</span>
<span class="next">
<a href="es-ui-overview.html">Elastic Security UI »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Security Solution [7.15]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="getting-started.html">Get started with Elastic Security</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Configure advanced settings</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.15/docs/getting-started/advanced-setting.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="advanced-settings"></a>Configure advanced settings</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.15/docs/getting-started/advanced-setting.asciidoc">edit</a></div>
</div></div></div>
<p>The advanced settings determine:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Which indices Elastic Security uses to retrieve data
</li>
<li class="listitem">
Whether the news feed is displayed on the <a class="xref" href="es-ui-overview.html#overview-ui" title="Overview page">Overview page</a>
</li>
<li class="listitem">
The default time interval used to filter Elastic Security pages
</li>
<li class="listitem">
The default Elastic Security pages refresh time
</li>
<li class="listitem">
Machine learning anomaly score display threshold
</li>
<li class="listitem">
Which IP reputation links appear on <a class="xref" href="network-page-overview.html" title="Network page overview">IP detail</a>
pages
</li>
</ul>
</div>
<p>You need <code class="literal">All</code> privileges for the <span class="strong strong"><strong>Advanced Settings</strong></span> feature to change these
settings (see <a href="/guide/en/kibana/7.15/kibana-privileges.html" class="ulink" target="_top">Kibana privileges</a>).</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Modifying advanced settings can affect Kibana performance and cause
problems that are difficult to diagnose. Setting a property value to a blank
field reverts to the default behavior, which might not be compatible with other
configuration settings. Deleting a custom setting removes it from Kibana
permanently.</p>
</div>
</div>
<div class="position-relative"><h3><a id="_access_advanced_settings"></a>Access advanced settings</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.15/docs/getting-started/advanced-setting.asciidoc">edit</a></div>
<p>To access advanced settings:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to <span class="strong strong"><strong>Stack Management</strong></span> &gt; <span class="strong strong"><strong>Advanced Settings</strong></span>.
</li>
<li class="listitem">
<p>Scroll down to <span class="strong strong"><strong>Security Solution</strong></span> settings.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/adv-settings.png" alt="adv settings">
</div>
</div>
</li>
</ol>
</div>
<div class="position-relative"><h3><a id="update-sec-indices"></a>Update default Elastic Security indices</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.15/docs/getting-started/advanced-setting.asciidoc">edit</a></div>
<p>The <code class="literal">securitySolution:defaultIndex</code> field defines which Elasticsearch indices the
Elastic Security app uses to collects data. By default, these index patterns are used to
match Elasticsearch indices:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">apm-*-transaction*</code>
</li>
<li class="listitem">
<code class="literal">auditbeat-*</code>
</li>
<li class="listitem">
<code class="literal">endgame-*</code>
</li>
<li class="listitem">
<code class="literal">filebeat-*</code>
</li>
<li class="listitem">
<code class="literal">logs-*</code>
</li>
<li class="listitem">
<code class="literal">packetbeat-*</code>
</li>
<li class="listitem">
<code class="literal">winlogbeat-*</code>
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Index patterns use wildcards to specify a set of indices. For example, the
<code class="literal">filebeat-*</code> index pattern means all indices starting with <code class="literal">filebeat-</code> are
available in the Elastic Security app.</p>
</div>
</div>
<p>All of the default index patterns match <a href="/guide/en/beats/libbeat/7.15/beats-reference.html" class="ulink" target="_top">Beats</a> and
<a href="/guide/en/fleet/7.15/fleet-overview.html" class="ulink" target="_top">Elastic Agent</a> indices. This means all
data shipped via Beats and the Elastic Agent is automatically added to the
Elastic Security app.</p>
<p>You can add or remove any indices and index patterns as required. For some
background information on Elasticsearch indices, see
<a href="/guide/en/elasticsearch/reference/7.15/documents-indices.html" class="ulink" target="_top">Data in: documents and indices</a>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you leave the <code class="literal">logs-*</code> index selected, by default, all Elastic cloud logs are excluded from all queries in the Elastic Security app. This is to avoid adding data from cloud monitoring to the app.</p>
</div>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Security requires <a href="/guide/en/ecs/1.11" class="ulink" target="_top">ECS-compliant data</a>. If you use third-party data
collectors to ship data to Elasticsearch, the data must be mapped to ECS.
<a class="xref" href="siem-field-reference.html" title="Elastic Security ECS field reference"><em>Elastic Security ECS field reference</em></a> lists ECS fields used in Elastic Security.</p>
</div>
</div>
<div class="position-relative"><h3><a id="update-threat-intel-indices"></a>Update default Elastic Security threat intelligence indices</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.15/docs/getting-started/advanced-setting.asciidoc">edit</a></div>
<p>The <code class="literal">securitySolution:defaultThreatIndex</code> advanced setting defines threat intelligence indices that Elastic Security will use when collecting threat indicators. The setting controls features that query threat indices, such as the Threat Intelligence view on the Overview page and threat indicator match rules. One or more threat intelligence indices can be defined; the <code class="literal">filebeat-*</code> index is specified by default.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Threat intelligence indices aren&#8217;t required to be ECS compatible when used in an indicator match rule. However, we recommend compatibility if you&#8217;d like for your alerts to be enriched with relevant threat indicator information. By default, indicator match rules are configured to ingest indicators from the Threat Intel Filebeat module and to check for fields prefixed with <code class="literal">threatintel.indicator</code>. See <a href="/guide/en/beats/filebeat/7.15/filebeat-module-threatintel.html" class="ulink" target="_top">Threat Intel module</a> for more information about these fields. This rule setting is stored in the <span class="strong strong"><strong>Indicator prefix override</strong></span> field, under indicator match rule advanced settings. If your indicator data contains indicator fields at a different location, update this field accordingly to ensure alert enrichment can still be performed.</p>
</div>
</div>
<div class="position-relative"><h3><a id="_modify_news_feed_settings"></a>Modify news feed settings</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.15/docs/getting-started/advanced-setting.asciidoc">edit</a></div>
<p>You can change these settings, which affect the news feed displayed on the
Elastic Security <span class="strong strong"><strong>Overview</strong></span> page:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">securitySolution:enableNewsFeed</code>: Enables the security news feed on the
Security <span class="strong strong"><strong>Overview</strong></span> page.
</li>
<li class="listitem">
<code class="literal">securitySolution:newsFeedUrl</code>: The URL from which the security news feed content is
retrieved.
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="_change_the_default_search_interval_and_data_refresh_time"></a>Change the default search interval and data refresh time</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.15/docs/getting-started/advanced-setting.asciidoc">edit</a></div>
<p>These settings determine the default time interval and refresh rate Elastic Security
pages use to display data when you open the app:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">securitySolution:timeDefaults</code>: Default time interval
</li>
<li class="listitem">
<code class="literal">securitySolution:refreshIntervalDefaults</code>: Default refresh rate
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>See <a href="/guide/en/elasticsearch/reference/7.15/common-options.html" class="ulink" target="_top">Date Math</a> for information about the
syntax. The UI <a href="/guide/en/kibana/7.15/set-time-filter.html" class="ulink" target="_top">time filter</a> overrides the
default values.</p>
</div>
</div>
<div class="position-relative"><h3><a id="_set_machine_learning_score_threshold"></a>Set machine learning score threshold</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.15/docs/getting-started/advanced-setting.asciidoc">edit</a></div>
<p>When security <a class="xref" href="machine-learning.html" title="Anomaly Detection with Machine Learning">machine learning jobs</a> are enabled, this setting
determines the threshold above which anomaly scores are displayed in Elastic Security:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">securitySolution:defaultAnomalyScore</code>
</li>
</ul>
</div>
<div class="position-relative"><h3><a id="ip-reputation-links"></a>Display reputation links on IP detail pages</h3><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/7.15/docs/getting-started/advanced-setting.asciidoc">edit</a></div>
<p>On IP details pages (<span class="strong strong"><strong>Security</strong></span> &#8594; <span class="strong strong"><strong>Network</strong></span> &#8594; IP address), links to
external sites for verifying the IP address&#8217;s reputation are displayed. By
default, links to these sites are listed: <a href="https://talosintelligence.com/" class="ulink" target="_top">TALOS</a>
and <a href="https://www.virustotal.com/" class="ulink" target="_top">VIRUSTOTAL</a>.</p>
<p>The <code class="literal">securitySolution:ipReputationLinks</code> field determines which IP reputation
sites are listed. To modify the listed sites, edit the field&#8217;s JSON array. These
fields must be defined in each array element:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">name</code>: The link&#8217;s UI display name.
</li>
<li class="listitem">
<code class="literal">url_template</code>: The link&#8217;s URL. It can include <code class="literal">{{ip}}</code>, which is placeholder
for the IP address you are viewing on the <span class="strong strong"><strong>IP detail</strong></span> page.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Example</strong></span></p>
<p>Adds a link to https://www.dnschecker.org on <span class="strong strong"><strong>IP detail</strong></span> pages:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">[
  { "name": "virustotal.com", "url_template": "https://www.virustotal.com/gui/search/{{ip}}" },
  { "name": "dnschecker.org", "url_template": "https://www.dnschecker.org/ip-location.php?ip={{ip}}" },
  { "name": "talosIntelligence.com", "url_template": "https://talosintelligence.com/reputation_center/lookup?search={{ip}}" }
]</pre>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="install-endpoint.html">« Configure and install the Endpoint Security integration</a>
</span>
<span class="next">
<a href="es-ui-overview.html">Elastic Security UI »</a>
</span>
</div>
</body>
</html>
