<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Deploy Elastic Defend on macOS with mobile device management | Elastic Security Solution [8.16] | Elastic</title>
<meta class="elastic" name="content" content="Deploy Elastic Defend on macOS with mobile device management | Elastic Security Solution [8.16]">

<link rel="home" href="index.html" title="Elastic Security Solution [8.16]"/>
<link rel="up" href="install-endpoint.html" title="Install the Elastic Defend integration"/>
<link rel="prev" href="deploy-elastic-endpoint-ven.html" title="Enable access for macOS Ventura and higher"/>
<link rel="next" href="agent-tamper-protection.html" title="Prevent Elastic Agent uninstallation"/>
<meta class="elastic" name="product_version" content="8.16"/>
<meta class="elastic" name="product_name" content="Security"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Security/Guide/8.16"/>
<meta name="DC.subject" content="Security"/>
<meta name="DC.identifier" content="8.16"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="deploy-elastic-endpoint-ven.html">« Enable access for macOS Ventura and higher</a>
</span>
<span class="next">
<a href="agent-tamper-protection.html">Prevent Elastic Agent uninstallation »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Security Solution [8.16]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="endpoint-protection-intro.html">Configure endpoint protection with Elastic Defend</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="install-endpoint.html">Install the Elastic Defend integration</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Deploy Elastic Defend on macOS with mobile device management</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.16/docs/management/admin/deploy-with-mdm.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="deploy-with-mdm"></a>Deploy Elastic Defend on macOS with mobile device management</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.16/docs/management/admin/deploy-with-mdm.asciidoc">edit</a></div>
</div></div></div>

<p>To silently install and deploy Elastic Defend, you need to configure a mobile device management (MDM) profile for Elastic Endpoint—the installed component that performs Elastic Defend&#8217;s threat monitoring and prevention. This allows you to pre-approve the Elastic Endpoint system extension and grant Full Disk Access to all the necessary components.</p>
<p>This page explains how to deploy Elastic Defend silently using Jamf.</p>
<div class="position-relative"><h4><a id="configure-jamf-profile"></a>Configure a Jamf MDM profile</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.16/docs/management/admin/deploy-with-mdm.asciidoc">edit</a></div>
<p>In Jamf, create a configuration profile for Elastic Endpoint. Follow these steps to configure the profile:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a class="xref" href="deploy-with-mdm.html#system-extension-jamf" title="Approve the system extension">Approve the system extension.</a>
</li>
<li class="listitem">
<a class="xref" href="deploy-with-mdm.html#content-filtering-jamf" title="Approve network content filtering">Approve network content filtering.</a>
</li>
<li class="listitem">
<a class="xref" href="deploy-with-mdm.html#notifications-jamf" title="Enable notifications">Enable notifications.</a>
</li>
<li class="listitem">
<a class="xref" href="deploy-with-mdm.html#fda-jamf" title="Enable Full Disk Access">Enable Full Disk Access.</a>
</li>
</ol>
</div>
<div class="position-relative"><h5><a id="system-extension-jamf"></a>Approve the system extension</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.16/docs/management/admin/deploy-with-mdm.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select the <span class="strong strong"><strong>System Extensions</strong></span> option to configure the system extension policy for the Elastic Endpoint configuration profile.
</li>
<li class="listitem">
Make sure that <span class="strong strong"><strong>Allow users to approve system extensions</strong></span> is selected.
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Allowed Team IDs and System Extensions</strong></span> section, add the Elastic Endpoint system extension:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
(Optional) Enter a <span class="strong strong"><strong>Display Name</strong></span> for the Elastic Endpoint system extension.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>System Extension Types</strong></span> dropdown, select <span class="strong strong"><strong>Allowed System Extensions</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Team Identifier</strong></span>, enter <code class="literal">2BT3HPN62Z</code>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Allowed System Extensions</strong></span>, enter <code class="literal">co.elastic.systemextension</code>.
</li>
</ol>
</div>
</li>
<li class="listitem">
Save the configuration.
</li>
</ol>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/system-extension-jamf.png" alt="system extension jamf">
</div>
</div>
<div class="position-relative"><h5><a id="content-filtering-jamf"></a>Approve network content filtering</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.16/docs/management/admin/deploy-with-mdm.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select the <span class="strong strong"><strong>Content Filter</strong></span> option to configure the Network Extension policy for the Elastic Endpoint configuration profile.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Filter Name</strong></span>, enter <code class="literal">ElasticEndpoint</code>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Identifier</strong></span>, enter <code class="literal">co.elastic.endpoint</code>.
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Socket Filter</strong></span> section, fill in these fields:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<span class="strong strong"><strong>Socket Filter Bundle Identifier</strong></span>: Enter <code class="literal">co.elastic.systemextension</code>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Socket Filter Designated Requirement</strong></span>: Enter the following:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">identifier "co.elastic.systemextension" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = "2BT3HPN62Z"</pre>
</div>
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Network Filter</strong></span> section, fill in these fields:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<span class="strong strong"><strong>Network Filter Bundle Identifier</strong></span>: Enter <code class="literal">co.elastic.systemextension</code>
</li>
<li class="listitem">
<p><span class="strong strong"><strong>Network Filter Designated Requirement</strong></span>: Enter the following:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">identifier "co.elastic.systemextension" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = "2BT3HPN62Z"</pre>
</div>
</li>
</ol>
</div>
</li>
<li class="listitem">
Save the configuration.
</li>
</ol>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/content-filtering-jamf.png" alt="content filtering jamf">
</div>
</div>
<div class="position-relative"><h5><a id="notifications-jamf"></a>Enable notifications</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.16/docs/management/admin/deploy-with-mdm.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select the <span class="strong strong"><strong>Notifications</strong></span> option to configure the Notification Center policy for the Elastic Endpoint configuration profile.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>App Name</strong></span>, enter <code class="literal">Elastic Security.app</code>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Bundle ID</strong></span>, enter <code class="literal">co.elastic.alert</code>.
</li>
<li class="listitem">
<p>In the <span class="strong strong"><strong>Settings</strong></span> section, include these options with the following settings:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<span class="strong strong"><strong>Critical Alerts</strong></span>: <span class="strong strong"><strong>Enable</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Notifications</strong></span>: <span class="strong strong"><strong>Enable</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Banner alert type</strong></span>: <span class="strong strong"><strong>Persistent</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Notifications on Lock Screen</strong></span>: <span class="strong strong"><strong>Display</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Notifications in Notification Center</strong></span>: <span class="strong strong"><strong>Display</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Badge app icon</strong></span>: <span class="strong strong"><strong>Display</strong></span>.
</li>
<li class="listitem">
<span class="strong strong"><strong>Play sound for notifications</strong></span>: <span class="strong strong"><strong>Enable</strong></span>.
</li>
</ol>
</div>
</li>
<li class="listitem">
Save the configuration.
</li>
</ol>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/notifications-jamf.png" alt="notifications jamf">
</div>
</div>
<div class="position-relative"><h5><a id="fda-jamf"></a>Enable Full Disk Access</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.16/docs/management/admin/deploy-with-mdm.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Select the <span class="strong strong"><strong>Privacy Preferences Policy Control</strong></span> option to configure the Full Disk Access policy for the Elastic Endpoint configuration profile.
</li>
<li class="listitem">
<p>Add a new entry with the following details:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Under <span class="strong strong"><strong>Identifier</strong></span>, enter <code class="literal">co.elastic.systemextension</code>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Identifier Type</strong></span> dropdown, select <span class="strong strong"><strong>Bundle ID</strong></span>.
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>Code Requirement</strong></span>, enter the following:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">identifier "co.elastic.systemextension" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = "2BT3HPN62Z"</pre>
</div>
</li>
<li class="listitem">
Make sure that <span class="strong strong"><strong>Validate the Static Code Requirement</strong></span> is selected.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Add a second entry with the following details:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Under <span class="strong strong"><strong>Identifier</strong></span>, enter <code class="literal">co.elastic.endpoint</code>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Identifier Type</strong></span> dropdown, select <span class="strong strong"><strong>Bundle ID</strong></span>.
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>Code Requirement</strong></span>, enter the following:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">identifier "co.elastic.endpoint" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = "2BT3HPN62Z"</pre>
</div>
</li>
<li class="listitem">
Make sure that <span class="strong strong"><strong>Validate the Static Code Requirement</strong></span> is selected.
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Add a third entry with the following details:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Under <span class="strong strong"><strong>Identifier</strong></span>,  enter <code class="literal">co.elastic.elastic-agent</code>.
</li>
<li class="listitem">
From the <span class="strong strong"><strong>Identifier Type</strong></span> dropdown, select <span class="strong strong"><strong>Bundle ID</strong></span>.
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>Code Requirement</strong></span>, enter the following:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">identifier "co.elastic.elastic-agent" and anchor apple generic and certificate 1[field.1.2.840.113635.100.6.2.6] /* exists */ and certificate leaf[field.1.2.840.113635.100.6.1.13] /* exists */ and certificate leaf[subject.OU] = "2BT3HPN62Z"</pre>
</div>
</li>
<li class="listitem">
Make sure that <span class="strong strong"><strong>Validate the Static Code Requirement</strong></span> is selected.
</li>
</ol>
</div>
</li>
<li class="listitem">
Save the configuration.
</li>
</ol>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/fda-jamf.png" alt="fda jamf">
</div>
</div>
<p>After you complete these steps, generate the mobile configuration profile and install it onto the macOS machines. Once the profile is installed, Elastic Defend can be deployed without the need for user interaction.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="deploy-elastic-endpoint-ven.html">« Enable access for macOS Ventura and higher</a>
</span>
<span class="next">
<a href="agent-tamper-protection.html">Prevent Elastic Agent uninstallation »</a>
</span>
</div>
</body>
</html>
