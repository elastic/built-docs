<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Configure and install the Endpoint Security integration | Elastic Security Solution [8.2] | Elastic</title>
<link rel="home" href="index.html" title="Elastic Security Solution [8.2]"/>
<link rel="up" href="getting-started.html" title="Get started with Elastic Security"/>
<link rel="prev" href="ingest-data.html" title="Ingest data to Elastic Security"/>
<link rel="next" href="deploy-elastic-endpoint.html" title="Install Elastic Endpoint manually"/>
<meta name="DC.type" content="Learn/Docs/Security/Guide/8.2"/>
<meta name="DC.subject" content="Security"/>
<meta name="DC.identifier" content="8.2"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Security Solution [8.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="getting-started.html">Get started with Elastic Security</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ingest-data.html">« Ingest data to Elastic Security</a>
</span>
<span class="next">
<a href="deploy-elastic-endpoint.html">Install Elastic Endpoint manually »</a>
</span>
</div>
<div class="chapter xpack">
<div class="titlepage"><div><div>
<h2 class="title"><a id="install-endpoint"></a>Configure and install the Endpoint Security integration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/8.2/docs/getting-started/install-endpoint.asciidoc">edit</a></h2>
</div></div></div>
<p>Like other Elastic integrations, Endpoint Security can be integrated into the Elastic Agent through <a href="/guide/en/fleet/8.2/fleet-overview.html" class="ulink" target="_top">Fleet</a>. Upon configuration, the integration allows the Elastic Agent to monitor for events on your host and send data to the Elastic Security app.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>To configure the Endpoint Security integration on the Elastic Agent, you must have permission to use Fleet in Kibana. You must also have admin permissions in Kibana to access the <span class="strong strong"><strong>Endpoints</strong></span> page in the Elastic Security app.</p>
</div>
</div>
<h3><a id="security-before-you-begin"></a>Before you begin<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/8.2/docs/getting-started/install-endpoint.asciidoc">edit</a></h3>
<p>If you&#8217;re using macOS, some versions may require you to grant Full Disk Access to different kernels, system extensions, or files. Refer to <a class="xref" href="deploy-elastic-endpoint.html" title="Install Elastic Endpoint manually">requirements for Elastic Endpoint</a> if you&#8217;re installing the Elastic Endpoint or <a class="xref" href="endgame-sensor-full-disk-access.html" title="Enable Full Disk Access for the Endgame sensor">requirements for the Endgame sensor</a> for more information.</p>
<h3><a id="add-security-integration"></a>Add the Endpoint Security integration<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/8.2/docs/getting-started/install-endpoint.asciidoc">edit</a></h3>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>In Kibana, select <span class="strong strong"><strong>Security</strong></span> &#8594; <span class="strong strong"><strong>Endpoints</strong></span>. If this is not your first time using Elastic Security, select <span class="strong strong"><strong>Management</strong></span> &#8594; <span class="strong strong"><strong>Integrations</strong></span>, then search for and select <span class="strong strong"><strong>Endpoint Security</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/security-integration.png" alt="Search result for &quot;Endpoint Security&quot; on the Integrations page.">
</div>
</div>
</li>
<li class="listitem">
<p>Select <span class="strong strong"><strong>Add Endpoint Security</strong></span> on either the Endpoints page of the Elastic Security app or the Endpoint Security integration page (<span class="strong strong"><strong>Management</strong></span> &#8594; <span class="strong strong"><strong>Integrations</strong></span>). The integration configuration page appears.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/add-elastic-endpoint-security.png" alt="Add Endpoint Security integration page.">
</div>
</div>
</li>
<li class="listitem">
Configure the Endpoint Security integration with an <span class="strong strong"><strong>Integration name</strong></span> and optional <span class="strong strong"><strong>Description</strong></span>.
</li>
<li class="listitem">
Enter a name for the agent policy in <span class="strong strong"><strong>New agent policy name</strong></span>. If other agent policies already exist, you can click the <span class="strong strong"><strong>Existing hosts</strong></span> tab and select an existing policy instead. For more details on Elastic Agent configuration settings, refer to <a href="/guide/en/fleet/8.2/agent-policy.html" class="ulink" target="_top">Elastic Agent policies</a>.
</li>
<li class="listitem">
When the configuration is complete, click <span class="strong strong"><strong>Save and continue</strong></span>.
</li>
<li class="listitem">
To complete the integration, continue to the next section to install the Elastic Agent on your hosts.
</li>
</ol>
</div>
<h3><a id="enroll-security-agent"></a>Configure and enroll the Elastic Agent<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/8.2/docs/getting-started/install-endpoint.asciidoc">edit</a></h3>
<p>To configure the Elastic Agent, Endpoint Security requires enrollment through Fleet to enable the integration.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Before you add an Elastic Agent, a Fleet Server must be running. Refer to <a href="/guide/en/fleet/8.2/add-a-fleet-server.html" class="ulink" target="_top">Add a Fleet Server</a>.</p>
<p>Endpoint Security cannot be integrated with an Elastic Agent in standalone mode.</p>
</div>
</div>
<h4><a id="fleet-server-upgrade"></a>Important information about Fleet Server<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/8.2/docs/getting-started/install-endpoint.asciidoc">edit</a></h4>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you are running an Elastic Stack version earlier than 7.13.0, you can skip this section.</p>
</div>
</div>
<p>If you have upgraded to an Elastic Stack version that includes Fleet Server 7.13.0 or newer, you will need to redeploy your agents. Review the following scenarios to ensure you take the appropriate steps.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
If you redeploy the Elastic Agent to the same machine through the Fleet application after you upgrade, a new agent will appear.
</li>
<li class="listitem">
If you want to remove the Elastic Agent entirely without transitioning to the Fleet Server, then you will need to manually uninstall the Elastic Agent on the machine. This will also uninstall the endpoint. Refer to <a href="/guide/en/fleet/8.2/uninstall-elastic-agent.html" class="ulink" target="_top">Uninstall Elastic Agent</a>.
</li>
<li class="listitem">
In the rare event that the Elastic Agent fails to uninstall, you might need to manually uninstall the endpoint. Refer to <a class="xref" href="uninstall-endpoint.html" title="Uninstall an endpoint">Uninstall an endpoint</a> at the end of this topic.
</li>
</ul>
</div>
<h4><a id="enroll-agent"></a>Add the Elastic Agent<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/security-docs/edit/8.2/docs/getting-started/install-endpoint.asciidoc">edit</a></h4>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Go to <span class="strong strong"><strong>Fleet</strong></span> &#8594; <span class="strong strong"><strong>Agents</strong></span> &#8594; <span class="strong strong"><strong>Add agent</strong></span>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/add-agent.png" alt="Add agent flyout on the Fleet page.">
</div>
</div>
</li>
<li class="listitem">
<p>Select an agent policy for the Elastic Agent. You can select an existing policy, or select <span class="strong strong"><strong>Create new agent policy</strong></span> to create a new one. For more details on Elastic Agent configuration settings, refer to <a href="/guide/en/fleet/8.2/agent-policy.html" class="ulink" target="_top">Elastic Agent policies</a>.</p>
<p>The selected agent policy should include Endpoint Security.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/install-endpoint/endpoint-configuration.png" alt="Add agent flyout with Endpoint Security integration highlighted." width="575">
</div>
</div>
</li>
<li class="listitem">
Ensure that the <span class="strong strong"><strong>Enroll in Fleet</strong></span> option is selected. Endpoint Security cannot be integrated with Elastic Agent in standalone mode.
</li>
<li class="listitem">
Select the appropriate platform or operating system for the host, then copy the provided commands.
</li>
<li class="listitem">
On the host, open a command-line interface and navigate to the directory where you want to install Elastic Agent. Paste and run the commands from Fleet to download, extract, enroll, and start Elastic Agent.
</li>
<li class="listitem">
(Optional) Return to the <span class="strong strong"><strong>Add agent</strong></span> flyout in Fleet, and observe the <span class="strong strong"><strong>Confirm agent enrollment</strong></span> and <span class="strong strong"><strong>Confirm incoming data</strong></span> steps automatically checking the host connection. It may take a few minutes for data to arrive in Elasticsearch.
</li>
<li class="listitem">
<p>After you have enrolled the Elastic Agent on your host, you can click <span class="strong strong"><strong>View enrolled agents</strong></span> to access the list of agents enrolled in Fleet. Otherwise, select <span class="strong strong"><strong>Close</strong></span>.</p>
<p>The host will now appear on the <span class="strong strong"><strong>Endpoints</strong></span> page in the Elastic Security app. It may take another minute or two for endpoint data to appear in Elastic Security.</p>
</li>
</ol>
</div>
<p>For macOS, continue with <a class="xref" href="deploy-elastic-endpoint.html" title="Install Elastic Endpoint manually">these instructions</a> to grant Elastic Endpoint the access it needs.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ingest-data.html">« Ingest data to Elastic Security</a>
</span>
<span class="next">
<a href="deploy-elastic-endpoint.html">Install Elastic Endpoint manually »</a>
</span>
</div>
</div>
</body>
</html>
