<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>8.17 | Elastic Security Solution [8.17] | Elastic</title>
<meta class="elastic" name="content" content="8.17 | Elastic Security Solution [8.17]">

<link rel="home" href="index.html" title="Elastic Security Solution [8.17]"/>
<link rel="up" href="release-notes.html" title="Release notes"/>
<link rel="prev" href="release-notes.html" title="Release notes"/>
<link rel="next" href="release-notes-header-8.16.0.html" title="8.16"/>
<meta class="elastic" name="product_version" content="8.17"/>
<meta class="elastic" name="product_name" content="Security"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Security/Guide/8.17"/>
<meta name="DC.subject" content="Security"/>
<meta name="DC.identifier" content="8.17"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-header-8.16.0.html">8.16 »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Elastic Security Solution [8.17]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="release-notes.html">Release notes</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>8.17</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="release-notes-header-8.17.0"></a>8.17</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
</div></div></div>
<div class="position-relative"><h3><a id="release-notes-8.17.0"></a>8.17.0</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="position-relative"><h4><a id="known-issue-8.17.0"></a>Known issues</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<details>
<summary class="title">The <span class="strong strong"><strong>Exceptions</strong></span> tab won&#8217;t properly load if exceptions contain comments with newline characters (<code class="literal">\n</code>)</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On December 5, 2024, it was discovered that the <span class="strong strong"><strong>Exceptions</strong></span> tab won&#8217;t load properly if any exceptions contain comments with newline characters (<code class="literal">\n</code>). This issue occurs when you upgrade to 8.16.0 or later (<a href="https://github.com/elastic/kibana/issues/201820" class="ulink" target="_top">#201820</a>).</p>
<p><span class="strong strong"><strong>Workaround</strong></span><br></p>
<p>For custom rules:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the <span class="strong strong"><strong>Rules</strong></span> page, <a class="xref" href="rules-ui-management.html#import-export-rules-ui" title="Export and import rules">export</a> the rule or rules with the affected exception lists.
</li>
<li class="listitem">
Modify the <code class="literal">.ndjson</code> file so <code class="literal">comments</code> no longer contain newline characters.
</li>
<li class="listitem">
Return to the <span class="strong strong"><strong>Rules</strong></span> page and <a class="xref" href="rules-ui-management.html#import-export-rules-ui" title="Export and import rules">re-import</a> the rules. Ensure you select the <span class="strong strong"><strong>Overwrite existing exception lists with conflicting "list_id"</strong></span> option.
</li>
</ol>
</div>
<p>For prebuilt rules:</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you only need to fix exceptions for the Elastic Endpoint rule, you can export and re-import its exception list from the <a class="xref" href="shared-exception-lists.html" title="Create and manage shared exception lists"><span class="strong strong"><strong>Shared Exception Lists</strong></span></a> page.</p>
</div>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<p>Follow these steps to fetch the affected exception list ID or IDs that are associated with the rule:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Find the affected rule&#8217;s ID (<code class="literal">id</code>). From the <span class="strong strong"><strong>Rules</strong></span> page, open the details of a rule, go to the page URL, and copy the string at the end. For example, in the URL <a href="http://host.name/app/security/rules/id/167a5f6f-2148-4792-8226-b5e7a58ef46e" class="ulink" target="_top">http://host.name/app/security/rules/id/167a5f6f-2148-4792-8226-b5e7a58ef46e</a>, the string at the end (<code class="literal">167a5f6f-2148-4792-8226-b5e7a58ef46e</code>) is the <code class="literal">id</code>.
</li>
<li class="listitem">
<p>Specify the <code class="literal">id</code> when fetching the rule&#8217;s details using the <a href="/docs/api/doc/kibana/v8/operation/operation-readrule" class="ulink" target="_top">Retrieve a detection rule API</a>. Here is an example request that includes the <code class="literal">id</code>:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">curl -H 'Authorization: ApiKey API_KEY_HERE' -H 'kbn-xsrf: true' -H 'elastic-api-version: 2023-10-31' KIBANA_URL/api/detection_engine/rules?id=167a5f6f-2148-4792-8226-b5e7a58ef46e</pre>
</div>
<div class="console_widget" data-snippet="snippets/166.console"></div>
</li>
<li class="listitem">
<p>The JSON response contains the <code class="literal">id</code>, <code class="literal">list_id</code>, and <code class="literal">namespace_type</code> values within the <code class="literal">exceptions_list</code> key (as shown below). You need these values when using the Exception list API to retrieve the affected exception list.</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">{
  "id": "167a5f6f-2148-4792-8226-b5e7a58ef46e",
  "exceptions_list": [
    {
      "id": "490525a2-eb66-4320-95b5-88bdd1302dc4",
      "list_id": "f75aae6f-0229-413f-881d-81cb3abfbe2d",
      "namespace_type": "single"
    }
  ]
}</pre>
</div>
<div class="console_widget" data-snippet="snippets/167.console"></div>
</li>
</ol>
</div>
</li>
<li class="listitem">
<p>Use the export exceptions API to retrieve the affected exception list. Insert the values for the <code class="literal">id</code>, <code class="literal">list_id</code>, and <code class="literal">namespace_type</code> parameters into the following API call:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">curl -XPOST -H 'Authorization: ApiKey API_KEY_HERE' -H 'kbn-xsrf: true' -H 'elastic-api-version: 2023-10-31' 'KIBANA_URL/api/exception_lists/_export?list_id=f75aae6f-0229-413f-881d-81cb3abfbe2d&amp;id=490525a2-eb66-4320-95b5-88bdd1302dc4&amp;namespace_type=single' -o list.ndjson</pre>
</div>
<div class="console_widget" data-snippet="snippets/168.console"></div>
</li>
<li class="listitem">
Modify the exception list&#8217;s <code class="literal">.ndjson</code> file to ensure <code class="literal">comments[].comment</code> values don&#8217;t contain newline characters (<code class="literal">\n</code>).
</li>
<li class="listitem">
Re-import the modified exception list using <span class="strong strong"><strong>Import exception lists</strong></span> option on the <a class="xref" href="shared-exception-lists.html" title="Create and manage shared exception lists"><span class="strong strong"><strong>Shared Exception Lists</strong></span></a> page. The import will initially fail because the exception list already exists, and an option to overwrite the existing list will appear. Select the option, then resubmit the request to import the corrected exception list.
</li>
</ol>
</div>
</div>
</details>
<details>
<summary class="title">Duplicate alerts can be produced from manually running threshold rules</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running threshold rules could produce duplicate alerts if the date range was already covered by a scheduled rule execution.</p>
</div>
</details>
<details>
<summary class="title">Manually running custom query rules with suppression could suppress more alerts than expected</summary>
<div class="content">
<p><span class="strong strong"><strong>Details</strong></span><br>
On November 12, 2024, it was discovered that manually running a custom query rule with suppression could incorrectly inflate the number of suppressed alerts.</p>
</div>
</details>
<div class="position-relative"><h4><a id="features-8.17.0"></a>New features</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Adds a signature option for trusted applications on macOS (<a href="https://github.com/elastic/kibana/pull/197821" class="ulink" target="_top">#197821</a>).
</li>
<li class="listitem">
Allows you to use alert suppression on EQL sequence alerts (<a href="https://github.com/elastic/kibana/pull/189725" class="ulink" target="_top">#189725</a>).
</li>
<li class="listitem">
Adds GA support for the case action feature, which lets rules automatically create cases (<a href="https://github.com/elastic/kibana/pull/196973" class="ulink" target="_top">#196973</a>).
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="enhancements-8.17.0"></a>Enhancements</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Checks user permissions before initializing the entity engine (<a href="https://github.com/elastic/kibana/pull/198661" class="ulink" target="_top">#198661</a>).
</li>
<li class="listitem">
Updates LangChain dependencies, adding support for the new Bedrock cross-region inference profiles (<a href="https://github.com/elastic/kibana/pull/198622" class="ulink" target="_top">#198622</a>).
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="bug-fixes-8.17.0"></a>Bug fixes</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/security-docs/edit/8.17/docs/release-notes/8.17.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Clears the error on the second entity engine initialization (<a href="https://github.com/elastic/kibana/pull/202903" class="ulink" target="_top">#202903</a>).
</li>
<li class="listitem">
Modifies the empty state message that appears when installing prebuilt rules (<a href="https://github.com/elastic/kibana/pull/202226" class="ulink" target="_top">#202226</a>).
</li>
<li class="listitem">
Rejects CEF logs from Automatic Import and instead redirects you to the CEF integration (<a href="https://github.com/elastic/kibana/pull/201792" class="ulink" target="_top">#201792</a>, <a href="https://github.com/elastic/kibana/pull/202994" class="ulink" target="_top">#202994</a>).
</li>
<li class="listitem">
Fixes a bug in Automatic Import where icons did not display after the integration was installed (<a href="https://github.com/elastic/kibana/pull/201139" class="ulink" target="_top">#201139</a>).
</li>
<li class="listitem">
Removes an erroneous duplicate Preserve Original Event flag as one was additionally added from the common settings file (<a href="https://github.com/elastic/kibana/pull/201622" class="ulink" target="_top">#201622</a>).
</li>
<li class="listitem">
Turns off the <span class="strong strong"><strong>Install All</strong></span> button on the <span class="strong strong"><strong>Add Elastic Rules</strong></span> page while rules are being installed (<a href="https://github.com/elastic/kibana/pull/201731" class="ulink" target="_top">#201731</a>).
</li>
<li class="listitem">
Turns off the <span class="strong strong"><strong>Add note</strong></span> button in the alert details flyout if you don&#8217;t have the appropriate permission (<a href="https://github.com/elastic/kibana/pull/201707" class="ulink" target="_top">#201707</a>).
</li>
<li class="listitem">
Removes fields with an <code class="literal">@</code> from the script processor (<a href="https://github.com/elastic/kibana/pull/201548" class="ulink" target="_top">#201548</a>).
</li>
<li class="listitem">
Fixes an issue that could interfere with Knowledge Base setup (<a href="https://github.com/elastic/kibana/pull/201175" class="ulink" target="_top">#201175</a>).
</li>
<li class="listitem">
Fixes an issue with Gemini streaming in the AI Assistant (<a href="https://github.com/elastic/kibana/pull/201299" class="ulink" target="_top">#201299</a>).
</li>
<li class="listitem">
Updates LangChain dependencies, adding support for the new Bedrock cross-region inference endpoints (<a href="https://github.com/elastic/kibana/pull/198622" class="ulink" target="_top">#198622</a>).
</li>
<li class="listitem">
Fixes a bug with threshold rules that prevented cardinality details from appearing (<a href="https://github.com/elastic/kibana/pull/201162" class="ulink" target="_top">#201162</a>).
</li>
<li class="listitem">
Fixes a bug that caused an entity engine to get stuck in the <code class="literal">Installing</code> status if the default Security data view didn&#8217;t exist. With this fix, engines now correctly report the <code class="literal">Error</code> state (<a href="https://github.com/elastic/kibana/pull/201140" class="ulink" target="_top">#201140</a>).
</li>
<li class="listitem">
Fixes an issue that prevented you from successfully importing TSV files with asset criticality data if you&#8217;re on Windows (<a href="https://github.com/elastic/kibana/pull/199791" class="ulink" target="_top">#199791</a>).
</li>
<li class="listitem">
Fixes asset criticality index issue when setting up entity engines concurrently (<a href="https://github.com/elastic/kibana/pull/199486" class="ulink" target="_top">#199486</a>).
</li>
<li class="listitem">
Fixes a bug where the <code class="literal">@timestamp</code> field wouldn&#8217;t update upon asset criticality soft delete (<a href="https://github.com/elastic/kibana/pull/196722" class="ulink" target="_top">#196722</a>).
</li>
<li class="listitem">
Fixes a bug that prevented the save notification from displaying on duplicated Timelines with changes (<a href="https://github.com/elastic/kibana/pull/198652" class="ulink" target="_top">#198652</a>).
</li>
<li class="listitem">
Improves the flow for the Insights section in the alert details flyout (<a href="https://github.com/elastic/kibana/pull/197349" class="ulink" target="_top">#197349</a>).
</li>
<li class="listitem">
Fixes an issue where users without the Fleet <code class="literal">read</code> permission were blocked from interacting with any onboarding card (<a href="https://github.com/elastic/kibana/pull/202413" class="ulink" target="_top">#202413</a>).
</li>
<li class="listitem">
Improves Elastic Defend for Linux endpoints by enabling process information enrichment for file and network events when process events are disabled.
</li>
<li class="listitem">
Improves Elastic Defend by refactoring the kernel driver to work around a <code class="literal">CRITICAL_PROCESS_DIED</code> bug check (BSOD) that can occur due to a conflict with CrowdStrike Falcon.
</li>
<li class="listitem">
Fixes an issue in Elastic Defend versions 8.15.2 and 8.15.3 which can result in Windows boot failure <code class="literal">0xC000007B</code> referencing <code class="literal">ElasticElam.sys</code> or recovery mode prompt at boot. We have only received reports of this happening when Elastic Defend is installed alongside CrowdStrike Falcon.
</li>
<li class="listitem">
Fixes an Elastic Defend bug where the Linux system call (<code class="literal">setsid</code>) wasn&#8217;t properly gathered for RHEL 9/CentOS Stream 9 process events.
</li>
<li class="listitem">
Fixes an issue where Elastic Defend can enter an infinite loop if an external application opens and retains handles to files within Elastic Defends directory while it is processing a <code class="literal">get-file</code> response action. This can result in Elastic Defend flooding Elasticsearch with documents until the handles are closed.
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="release-notes.html">« Release notes</a>
</span>
<span class="next">
<a href="release-notes-header-8.16.0.html">8.16 »</a>
</span>
</div>
</body>
</html>
