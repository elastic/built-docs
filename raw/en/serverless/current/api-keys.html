<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="">
<title>API keys | Serverless | Elastic</title>
<meta class="elastic" name="content" content="API keys | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="project-settings.html" title="Management settings"/>
<link rel="prev" href="project-settings.html" title="Management settings"/>
<link rel="next" href="action-connectors.html" title="Connectors"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="project-settings.html">« Management settings</a>
</span>
<span class="next">
<a href="action-connectors.html">Connectors »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="project-and-management-settings.html">Project and management settings</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="project-settings.html">Management settings</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>API keys</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/api-keys.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="api-keys"></a>API keys</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/api-keys.asciidoc">edit</a></div>
</div></div></div>
<p><span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span></p>
<p>This content applies to: <a class="xref" href="what-is-elasticsearch-serverless.html" title="Elasticsearch Serverless"><span class="image"><img src="images/es-badge.svg" alt="Elasticsearch"></span></a> <a class="xref" href="what-is-observability-serverless.html" title="Elastic Observability serverless"><span class="image"><img src="images/obs-badge.svg" alt="Observability"></span></a> <a class="xref" href="what-is-security-serverless.html" title="Elastic Security serverless"><span class="image"><img src="images/sec-badge.svg" alt="Security"></span></a></p>
<p>API keys are security mechanisms used to authenticate and authorize access to Elastic Stack resources,
and ensure that only authorized users or applications are able to interact with the Elastic Stack.</p>
<p>For example, if you extract data from an Elasticsearch cluster on a daily basis, you might create an API key tied to your credentials, configure it with minimum access, and then put the API credentials into a cron job.
Or, you might create API keys to automate ingestion of new data from remote sources, without a live user interaction.</p>
<p>You can manage your keys in <span class="strong strong"><strong>Project settings → Management → API keys</strong></span>:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/api-key-management.png" alt="API keys UI">
</div>
</div>
<p>A <em>personal API key</em> allows external services to access the Elastic Stack on behalf of a user.</p>
<p>A <em>managed API key</em> is created and managed by Kibana to correctly run background tasks.</p>
<div class="position-relative"><h5><a id="api-keys-create-an-api-key"></a>Create an API key</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/api-keys.asciidoc">edit</a></div>
<p>In <span class="strong strong"><strong>API keys</strong></span>, click <span class="strong strong"><strong>Create API key</strong></span>:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/create-personal-api-key.png" alt="Create API key UI">
</div>
</div>
<p>Once created, you can copy the encoded API key and use it to send requests to the Elasticsearch HTTP API. For example:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">curl "${ES_URL}" \
-H "Authorization: ApiKey ${API_KEY}"</pre>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>API keys are intended for programmatic access. Don&#8217;t use API keys to
authenticate access using a web browser.</p>
</div>
</div>
<div class="position-relative"><h6><a id="api-keys-restrict-privileges"></a>Restrict privileges</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/api-keys.asciidoc">edit</a></div>
<p>When you create or update an API key, use <span class="strong strong"><strong>Restrict privileges</strong></span> to limit the permissions. Define the permissions using a JSON <code class="literal">role_descriptors</code> object, where you specify one or more roles and the associated privileges.</p>
<p>For example, the following <code class="literal">role_descriptors</code> object defines a <code class="literal">books-read-only</code> role that limits the API key to <code class="literal">read</code> privileges on the <code class="literal">books</code> index.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "books-read-only": {
    "cluster": [],
    "indices": [
      {
        "names": ["books"],
        "privileges": ["read"]
      }
    ],
    "applications": [],
    "run_as": [],
    "metadata": {},
    "transient_metadata": {
      "enabled": true
    }
  }
}</pre>
</div>
<p>For the <code class="literal">role_descriptors</code> object schema, check out the <a href="/guide/en/elasticsearch/reference/master/security-api-create-api-key.html#security-api-create-api-key-request-body" class="ulink" target="_top"><code class="literal">/_security/api_key</code> endpoint</a> docs. For supported privileges, check <a href="/guide/en/elasticsearch/reference/master/security-privileges.html#privileges-list-indices" class="ulink" target="_top">Security privileges</a>.</p>
<div class="position-relative"><h5><a id="api-keys-update-an-api-key"></a>Update an API key</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/api-keys.asciidoc">edit</a></div>
<p>In <span class="strong strong"><strong>API keys</strong></span>, click on the name of the key.
You can update only <span class="strong strong"><strong>Restrict privileges</strong></span> and <span class="strong strong"><strong>Include metadata</strong></span>.</p>
<div class="position-relative"><h5><a id="api-keys-view-and-delete-api-keys"></a>View and delete API keys</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/api-keys.asciidoc">edit</a></div>
<p>The <span class="strong strong"><strong>API keys</strong></span> app lists your API keys, including the name, date created, and status.
When API keys expire, the status changes from <code class="literal">Active</code> to <code class="literal">Expired</code>.</p>
<p>You can delete API keys individually or in bulk.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="project-settings.html">« Management settings</a>
</span>
<span class="next">
<a href="action-connectors.html">Connectors »</a>
</span>
</div>
</body>
</html>
