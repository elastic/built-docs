<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Quickstart: Send data to the Elastic Cloud Managed OTLP Endpoint | Serverless | Elastic</title>
<meta class="elastic" name="content" content="Quickstart: Send data to the Elastic Cloud Managed OTLP Endpoint | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="observability-get-started.html" title="Get started with Elastic Observability Serverless"/>
<link rel="prev" href="collect-data-with-aws-firehose.html" title="Quickstart: Collect data with AWS Firehose"/>
<link rel="next" href="observability-dashboards.html" title="Get started with dashboards"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="collect-data-with-aws-firehose.html">« Quickstart: Collect data with AWS Firehose</a>
</span>
<span class="next">
<a href="observability-dashboards.html">Get started with dashboards »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-observability-serverless.html">Elastic Observability Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-get-started.html">Get started with Elastic Observability Serverless</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Quickstart: Send data to the Elastic Cloud Managed OTLP Endpoint</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="collect-data-with-native-otlp"></a>Quickstart: Send data to the Elastic Cloud Managed OTLP Endpoint</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
</div></div></div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.</p>
</div>
</div>
<p>In this quickstart guide, you&#8217;ll learn how to use the Elastic Cloud Managed OTLP Endpoint to send logs, metrics, and traces to Elastic.</p>
<div class="position-relative"><h5><a id="_what_is_the_elastic_cloud_managed_otlp_endpoint"></a>What is the Elastic Cloud Managed OTLP endpoint?</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<p>The Managed OTLP Endpoint is a fully managed offering exclusively for Elastic Cloud users (initially available in Elastic Cloud Serverless only) that simplifies OpenTelemetry data ingestion. It provides an endpoint for OpenTelemetry SDKs and Collectors to send telemetry data, with Elastic handling scaling, data processing, and storage.</p>
<p>This endpoint is designed for the following use cases:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Logs &amp; Infrastructure Monitoring: Logs forwarded in OTLP format and host and Kubernetes metrics in OTLP format.
</li>
<li class="listitem">
APM: Application telemetry in OTLP format.
</li>
</ul>
</div>
<details>
<summary class="title">Differences from the existing Elastic APM Endpoint</summary>
<div class="content">
<p>The Elastic Cloud Managed OTLP Endpoint ensures that OpenTelemetry data is stored without any schema translation, preserving both OpenTelemetry semantic conventions and resource attributes. It supports ingesting OTLP logs, metrics, and traces in a unified manner, ensuring consistent treatment across all telemetry data. This marks a significant improvement over the <a href="/guide/en/observability/8.17/apm-open-telemetry.html" class="ulink" target="_top">existing functionality</a>, which primarily focuses on traces and the APM use case.</p>
</div>
</details>
<div class="position-relative"><h5><a id="_prerequisites_4"></a>Prerequisites</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
An Elastic Observability Serverless project. To learn more, refer to <a class="xref" href="observability-create-an-observability-project.html" title="Create an Elastic Observability Serverless project">Create an Observability project</a>.
</li>
<li class="listitem">
A system forwarding logs, metrics, or traces in OTLP (any OTel Collector or SDK—EDOT or community).
</li>
</ul>
</div>
<div class="position-relative"><h6><a id="_limitations_3"></a>Limitations</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The OTLP endpoint only supports histograms with delta temporality. Cumulative histograms are dropped.
</li>
<li class="listitem">
Latency distributions based on histogram values have limited precision due to the fixed boundaries of explicit bucket histograms.
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="_get_started_2"></a>Get started</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<div class="position-relative"><h6><a id="_get_your_native_otlp_endpoint_credentials"></a>Get your native OTLP endpoint credentials</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a class="xref" href="observability-create-an-observability-project.html" title="Create an Elastic Observability Serverless project">Create a new Elastic Observability Serverless project</a>, or open an existing one.
</li>
<li class="listitem">
In your Elastic Observability Serverless project, go to <span class="strong strong"><strong>Add Data</strong></span>.
</li>
<li class="listitem">
<p>Under <span class="strong strong"><strong>What do you want to monitor?</strong></span> select <span class="strong strong"><strong>Application</strong></span>, and then under <span class="strong strong"><strong>Monitor your application using</strong></span> select <span class="strong strong"><strong>OpenTelemetry</strong></span>.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Follow this flow for all use cases, including logs and infrastructure monitoring.</p>
</div>
</div>
</li>
<li class="listitem">
Copy the <code class="literal">OTEL_EXPORTER_OTLP_ENDPOINT</code> URL. Replace <code class="literal">.apm</code> with <code class="literal">.ingest</code> and save this value for later.
</li>
</ol>
</div>
<div class="position-relative"><h6><a id="_create_an_api_key"></a>Create an API key</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Click "Create an API Key" to generate a new API key. Copy this value for later.
</li>
<li class="listitem">
<p>(Optional) Test your new API key. You can do this by sending an empty JSON object to the <code class="literal">/v1/traces</code> endpoint. For example:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">curl -X POST \
  -H "Content-Type: application/json" \
  -H "Authorization: ApiKey &lt;api-key&gt;" \
  https://{YOUR_CLUSTER}.ingest.us-east-1.aws.elastic.cloud:443/v1/traces \
  -d '{}'</pre>
</div>
<p>The response should be similar to:</p>
<div class="pre_wrapper lang-txt">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-txt">{"partialSuccess":{}}%</pre>
</div>
</li>
</ol>
</div>
<div class="position-relative"><h6><a id="_send_data_to_your_elastic_cloud_managed_otlp_endpoint"></a>Send data to your Elastic Cloud Managed OTLP endpoint</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="collect-data-with-native-otlp.html#otel-sdk-running" title="I have an OTel Collector/SDK running">I have an OTel Collector/SDK running</a>
</li>
<li class="listitem">
<a class="xref" href="collect-data-with-native-otlp.html#no-sdk-running" title="I need an OTel Collector/SDK">I need an OTel Collector/SDK</a>
</li>
<li class="listitem">
<a class="xref" href="collect-data-with-native-otlp.html#instrumentation-please" title="I just want to use the instrumentation">I just want to use the instrumentation</a>
</li>
</ul>
</div>
<div class="position-relative"><h7><a id="otel-sdk-running"></a>I have an OTel Collector/SDK running</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<p>If you have an OpenTelemetry Collector or SDK exporting telemetry data,
configure it with the endpoint and API key generated in the previous steps.</p>
<p><span class="strong strong"><strong>OpenTelemetry Collector configuration</strong></span></p>
<p>Configure your OTel Collector as follows:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">exporters:
  otlp:
    endpoint: "https://my_cluster.ingest.us-east-1.aws.elastic.cloud:443/v1/traces"
    headers: "Authorization": "ApiKey &lt;api-key-value-here&gt;"</pre>
</div>
<p>For more information, see
<a href="https://opentelemetry.io/docs/collector/configuration/" class="ulink" target="_top">OTLP Collector configuration</a></p>
<p><span class="strong strong"><strong>Elastic Distributions of OpenTelemetry (EDOT) Collector configuration</strong></span></p>
<p>Configure an EDOT Collector using the same method described above in <span class="strong strong"><strong>OpenTelemetry Collector configuration</strong></span>.
See the <a href="https://elastic.github.io/opentelemetry/edot-collector/index.html" class="ulink" target="_top">EDOT Language SDK documentation</a> for more information.</p>
<p><span class="strong strong"><strong>OpenTelemetry SDK configuration</strong></span></p>
<p>Configure your OTel SDK with the following environment variables:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Elastic Cloud Managed OTLP endpoint: <code class="literal">OTEL_EXPORTER_OTLP_ENDPOINT</code>
</li>
<li class="listitem">
Elastic API key: <code class="literal">OTEL_EXPORTER_OTLP_HEADERS</code>
</li>
</ul>
</div>
<p>For example:</p>
<div class="pre_wrapper lang-terminal">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-terminal">export OTEL_EXPORTER_OTLP_ENDPOINT="https://my-api-endpoint:443"
export OTEL_EXPORTER_OTLP_HEADERS="Authorization=ApiKey &lt;api-key&gt;"</pre>
</div>
<p>For more information, see
<a href="https://opentelemetry.io/docs/languages/sdk-configuration/otlp-exporter/" class="ulink" target="_top">OTLP Exporter configuration</a>.</p>
<p><span class="strong strong"><strong>Elastic Distributions of OpenTelemetry (EDOT) SDK configuration</strong></span></p>
<p>Configure an EDOT SDK using the same method described above in <span class="strong strong"><strong>OpenTelemetry SDK configuration</strong></span>.
See the <a href="https://elastic.github.io/opentelemetry/edot-sdks/index.html" class="ulink" target="_top">EDOT Language SDK documentation</a> for more information.</p>
<div class="position-relative"><h7><a id="no-sdk-running"></a>I need an OTel Collector/SDK</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<p>Don&#8217;t have a collector or SDK running? No problem. Spin up an EDOT collector in just a few steps:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://elastic.github.io/opentelemetry/quickstart/serverless/k8s.html" class="ulink" target="_top">Kubernetes Quickstart</a>
</li>
<li class="listitem">
<a href="https://elastic.github.io/opentelemetry/quickstart/serverless/hosts_vms.html" class="ulink" target="_top">Hosts &amp; VMs Quickstart</a>
</li>
</ul>
</div>
<div class="position-relative"><h7><a id="instrumentation-please"></a>I just want to use the instrumentation</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<p>See <a href="https://elastic.github.io/opentelemetry/use-cases/application/" class="ulink" target="_top">application use-cases</a> for more information.</p>
<div class="position-relative"><h5><a id="_troubleshoot"></a>Troubleshoot</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<p><span class="strong strong"><strong>Api Key prefix not found</strong></span></p>
<p>The following error is due to an improperly formatted API key:</p>
<div class="pre_wrapper lang-terminal">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-terminal">Exporting failed. Dropping data.
{"kind": "exporter", "data_type": }
"Unauthenticated desc = ApiKey prefix not found"</pre>
</div>
<p>You must format your API key as <code class="literal">"Authorization": "ApiKey &lt;api-key-value-here&gt;"</code> or <code class="literal">"Authorization=ApiKey &lt;api-key&gt;"</code> depending on whether you&#8217;re using a collector or SDK. See <a class="xref" href="collect-data-with-native-otlp.html#otel-sdk-running" title="I have an OTel Collector/SDK running">I have an OTel Collector/SDK running</a> for more information.</p>
<p><span class="strong strong"><strong>Error: too many requests</strong></span></p>
<p>The Managed endpoint has per-project rate limits in place. If you hit this limit, reach out to our <a href="https://support.elastic.co" class="ulink" target="_top">support team</a>.</p>
<div class="position-relative"><h5><a id="_provide_feedback"></a>Provide feedback</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<p>We love to hear from you!
Help improve the Elastic Cloud Managed OTLP Endpoint by sending us feedback in our <a href="https://discuss.elastic.co/c/apm" class="ulink" target="_top">discussion forum</a> or <a href="https://elasticstack.slack.com/signup#/domain-signup" class="ulink" target="_top">community Slack</a>.</p>
<p>For EDOT collector feedback, please open an issue in the <a href="https://github.com/elastic/elastic-agent/issues" class="ulink" target="_top">elastic-agent repository</a>.</p>
<div class="position-relative"><h5><a id="_whats_next"></a>What&#8217;s next?</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/quickstarts/collect-data-with-native-otlp.asciidoc">edit</a></div>
<p>Visualize your OpenTelemetry data. Learn more in <a class="xref" href="otlp-visualize.html" title="Visualize OTLP data">Visualize OTLP data</a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="collect-data-with-aws-firehose.html">« Quickstart: Collect data with AWS Firehose</a>
</span>
<span class="next">
<a href="observability-dashboards.html">Get started with dashboards »</a>
</span>
</div>
</body>
</html>
