<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Get started with the serverless Node.js client | Serverless | Elastic</title>
<meta class="elastic" name="content" content="Get started with the serverless Node.js client | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="elasticsearch-clients.html" title="Client libraries"/>
<link rel="prev" href="elasticsearch-dot-net-client-getting-started.html" title="Get started with the serverless .NET client"/>
<link rel="next" href="elasticsearch-php-client-getting-started.html" title="Get started with the serverless PHP client"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="elasticsearch-dot-net-client-getting-started.html">« Get started with the serverless .NET client</a>
</span>
<span class="next">
<a href="elasticsearch-php-client-getting-started.html">Get started with the serverless PHP client »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-elasticsearch-serverless.html">Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elasticsearch-clients.html">Client libraries</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Get started with the serverless Node.js client</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="elasticsearch-nodejs-client-getting-started"></a>Get started with the serverless Node.js client</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
</div></div></div>
<p><span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span></p>
<p>This page guides you through the installation process of the Node.js
client for Elasticsearch Serverless, shows you how to initialize the client, and how to perform basic
Elasticsearch operations with it.</p>
<div class="position-relative"><h5><a id="elasticsearch-nodejs-client-getting-started-requirements"></a>Requirements</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Node.js 16 or higher installed on your system.
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="elasticsearch-nodejs-client-getting-started-installation"></a>Installation</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<div class="position-relative"><h6><a id="elasticsearch-nodejs-client-getting-started-using-the-command-line"></a>Using the command line</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<p>You can install the Node.js client with the following
commands:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">npm install @elastic/elasticsearch-serverless</pre>
</div>
<div class="position-relative"><h5><a id="elasticsearch-nodejs-client-getting-started-initialize-the-client"></a>Initialize the client</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<p>Initialize the client using your API key and Elasticsearch Endpoint:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">const { Client } = require('@elastic/elasticsearch-serverless')
const client = new Client({
  node: 'https://', // serverless project URL
  auth: { apiKey: 'your_api_key' }, // project API key
})</pre>
</div>
<p>To get API keys or the URL for a project, see <a class="xref" href="elasticsearch-get-started.html" title="Get started">Get started</a>.</p>
<div class="position-relative"><h5><a id="elasticsearch-nodejs-client-getting-started-using-the-api"></a>Using the API</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<p>After you&#8217;ve initialized the client, you can start ingesting documents.
You can use the <code class="literal">bulk</code> API for this.
This API enables you to index, update, and delete several documents in one request.</p>
<div class="position-relative"><h6><a id="elasticsearch-nodejs-client-getting-started-creating-an-index-and-ingesting-documents"></a>Creating an index and ingesting documents</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<p>You can call the <code class="literal">bulk</code> helper API with a list of documents and a handler for
what action to perform on each document.</p>
<p>The following is an example of bulk indexing some classic books into the <code class="literal">books</code>
index:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">// First we build our data:
const body = [
  {name: "Snow Crash", "author": "Neal Stephenson", "release_date": "1992-06-01", "page_count": 470},
  {name: "Revelation Space", "author": "Alastair Reynolds", "release_date": "2000-03-15", "page_count": 585},
  {name: "1984", "author": "George Orwell", "release_date": "1985-06-01", "page_count": 328},
  {name: "Fahrenheit 451", "author": "Ray Bradbury", "release_date": "1953-10-15", "page_count": 227},
  {name: "Brave New World", "author": "Aldous Huxley", "release_date": "1932-06-01", "page_count": 268},
  {name: "The Handmaid's Tale", "author": "Margaret Atwood", "release_date": "1985-06-01", "page_count": 311}
]

// Then we send the data using the bulk API helper:
const result = await client.helpers.bulk({
  datasource: body,
  onDocument (doc) {
    // instructs the bulk indexer to add each item in `body` to the books index
    // you can optionally inspect each `doc` object to alter what action is performed per document
    return {
      index: { _index: 'books' }
    }
  }
})</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-nodejs-client-getting-started-getting-documents"></a>Getting documents</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<p>You can get documents by using the following code:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">await client.get({
  index: 'books',
  id: 'a_document_id',
})</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-nodejs-client-getting-started-searching"></a>Searching</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<p>Now that some data is available, you can search your documents using the <code class="literal">search</code> API:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">const result = await client.search({
  index: 'books',
  query: {
    match: {
      author: 'ray bradbury'
    }
  }
})
console.log(result.hits.hits)</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-nodejs-client-getting-started-updating-a-document"></a>Updating a document</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<p>You can call the <code class="literal">update</code> API to update a document:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">await client.update({
  index: 'books',
  id: 'a_document_id',
  doc: {
    author: 'S.E. Hinton',
    new_field: 'new value'
  }
})</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-nodejs-client-getting-started-deleting-a-document"></a>Deleting a document</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<p>You can call the <code class="literal">delete</code> API to delete a document:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">await client.delete({
  index: 'books',
  id: 'a_document_id',
})</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-nodejs-client-getting-started-deleting-an-index"></a>Deleting an index</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">await client.indices.delete({ index: 'books' })</pre>
</div>
<div class="position-relative"><h5><a id="elasticsearch-nodejs-client-getting-started-typescript"></a>TypeScript</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-nodejs-getting-started.asciidoc">edit</a></div>
<p>The Node.js client is implemented in TypeScript. IDEs that support
TypeScript-based autocompletion should automatically find and load the
appropriate declaration files in the package&#8217;s <code class="literal">lib</code> directory.
The source TypeScript can also be
<a href="https://github.com/elastic/elasticsearch-serverless-js/tree/main/src" class="ulink" target="_top">viewed on GitHub</a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="elasticsearch-dot-net-client-getting-started.html">« Get started with the serverless .NET client</a>
</span>
<span class="next">
<a href="elasticsearch-php-client-getting-started.html">Get started with the serverless PHP client »</a>
</span>
</div>
</body>
</html>
