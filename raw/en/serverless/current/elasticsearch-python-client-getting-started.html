<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Get started with the serverless Python client | Serverless | Elastic</title>
<meta class="elastic" name="content" content="Get started with the serverless Python client | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="elasticsearch-clients.html" title="Client libraries"/>
<link rel="prev" href="elasticsearch-php-client-getting-started.html" title="Get started with the serverless PHP client"/>
<link rel="next" href="elasticsearch-ruby-client-getting-started.html" title="Get started with the serverless Ruby client"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="elasticsearch-php-client-getting-started.html">« Get started with the serverless PHP client</a>
</span>
<span class="next">
<a href="elasticsearch-ruby-client-getting-started.html">Get started with the serverless Ruby client »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-elasticsearch-serverless.html">Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elasticsearch-clients.html">Client libraries</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Get started with the serverless Python client</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="elasticsearch-python-client-getting-started"></a>Get started with the serverless Python client</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
</div></div></div>
<p><span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span></p>
<p>This page guides you through the installation process of the Python
client for Elasticsearch Serverless, shows you how to initialize the client, and how to perform basic
Elasticsearch operations with it.</p>
<div class="position-relative"><h5><a id="elasticsearch-python-client-getting-started-requirements"></a>Requirements</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Python 3.7 or higher
</li>
<li class="listitem">
<a href="https://pip.pypa.io/en/stable/" class="ulink" target="_top"><code class="literal">pip</code></a>
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="elasticsearch-python-client-getting-started-documentation"></a>Documentation</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<p>Find the full documentation for the Python client on <a href="https://elasticsearch-serverless-python.readthedocs.io/en/latest/" class="ulink" target="_top">readthedocs</a>.</p>
<div class="position-relative"><h5><a id="elasticsearch-python-client-getting-started-installation"></a>Installation</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<div class="position-relative"><h6><a id="elasticsearch-python-client-getting-started-using-the-command-line"></a>Using the command line</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<p>You can install the Python client with the following
commands:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">python -m pip install elasticsearch-serverless</pre>
</div>
<div class="position-relative"><h5><a id="elasticsearch-python-client-getting-started-initialize-the-client"></a>Initialize the client</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<p>Initialize the client using your API key and Elasticsearch endpoint:</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">from elasticsearch_serverless import Elasticsearch

client = Elasticsearch(
    "https://...",  # Your project's Elasticsearch endpoint
    api_key='api-key',  # API key for your project
)</pre>
</div>
<p>To get API keys for the Elasticsearch endpoint for a project, see <a class="xref" href="elasticsearch-get-started.html" title="Get started">Get started</a>.</p>
<div class="position-relative"><h5><a id="elasticsearch-python-client-getting-started-using-the-api"></a>Using the API</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<p>After you&#8217;ve initialized the client, you can start ingesting documents. You can use
the <code class="literal">bulk</code> API for this. This API enables you to index, update, and delete several
documents in one request.</p>
<div class="position-relative"><h6><a id="elasticsearch-python-client-getting-started-creating-an-index-and-ingesting-documents"></a>Creating an index and ingesting documents</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<p>You can call the <code class="literal">bulk</code> API with a body parameter, an array of hashes that
define the action, and a document.</p>
<p>The following is an example of indexing some classic books into the <code class="literal">books</code>
index:</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">from datetime import datetime

client.bulk(
    body=[
        {"index": {"_index": "books", "_id": "1"}},
        {"title": "Infinite Jest", "author": "David Foster Wallace", "published_on": datetime(1996, 2, 1)},
        {"index": {"_index": "books", "_id": "2"}},
        {"title": "Ulysses", "author": "James Joyce", "published_on": datetime(1922, 2, 2)},
        {"index": {"_index": "books", "_id": "3"}},
        {"title": "Just Kids", "author": "Patti Smith", "published_on": datetime(2010, 1, 19)},
    ],
)</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-python-client-getting-started-getting-documents"></a>Getting documents</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<p>You can get documents by using the following code:</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">response = client.get(index="books", id="1")
print(response.body)</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-python-client-getting-started-searching"></a>Searching</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<p>Now that some data is available, you can search your documents using the
<code class="literal">search</code> API:</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">response = client.search(index="books", query={
    "match": {
        "title": "infinite"
    }
})

for hit in response["hits"]["hits"]:
    print(hit["_source"])</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-python-client-getting-started-updating-a-document"></a>Updating a document</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<p>You can call the <code class="literal">update</code> API to update a document:</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">client.update(index="books", id="2", doc={
    "author": "James Augustine Aloysius Joyce",
    "pages": 732,
})</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-python-client-getting-started-deleting-a-document"></a>Deleting a document</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<p>You can call the <code class="literal">delete</code> API to delete a document:</p>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">client.delete(index="books", id="3")</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-python-client-getting-started-deleting-an-index"></a>Deleting an index</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/clients-python-getting-started.asciidoc">edit</a></div>
<div class="pre_wrapper lang-python">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-python">client.indices.delete(index="books")</pre>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="elasticsearch-php-client-getting-started.html">« Get started with the serverless PHP client</a>
</span>
<span class="next">
<a href="elasticsearch-ruby-client-getting-started.html">Get started with the serverless Ruby client »</a>
</span>
</div>
</body>
</html>
