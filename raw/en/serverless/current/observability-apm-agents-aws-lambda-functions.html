<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AWS Lambda functions | Serverless | Elastic</title>
<meta class="elastic" name="content" content="AWS Lambda functions | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="observability-apm-send-data-to-elastic.html" title="Send APM data to Elastic"/>
<link rel="prev" href="observability-apm-agents-opentelemetry-resource-attributes.html" title="Resource attributes"/>
<link rel="next" href="observability-apm-view-and-analyze-traces.html" title="View and analyze traces"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="observability-apm-agents-opentelemetry-resource-attributes.html">« Resource attributes</a>
</span>
<span class="next">
<a href="observability-apm-view-and-analyze-traces.html">View and analyze traces »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-observability-serverless.html">Elastic Observability serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-apm.html">Application performance monitoring (APM)</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-apm-send-data-to-elastic.html">Send APM data to Elastic</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>AWS Lambda functions</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/apm-agents/apm-agents-aws-lambda-functions.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="observability-apm-agents-aws-lambda-functions"></a>AWS Lambda functions</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/apm-agents/apm-agents-aws-lambda-functions.asciidoc">edit</a></div>
</div></div></div>
<p><span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span></p>
<p>Elastic APM lets you monitor your AWS Lambda functions.
The natural integration of <a class="xref" href="observability-apm-distributed-tracing.html" title="Distributed tracing">distributed tracing</a> into your AWS Lambda functions provides insights into each function&#8217;s execution and runtime behavior as well as its relationships and dependencies to other services.</p>
<div class="position-relative"><h6><a id="aws-lambda-arch"></a>AWS Lambda architecture</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/apm-agents/apm-agents-aws-lambda-functions.asciidoc">edit</a></div>
<p>AWS Lambda uses a special execution model to provide a scalable, on-demand compute service for code execution. In particular, AWS freezes the execution environment of a lambda function when no active requests are being processed. This execution model poses additional requirements on APM in the context of AWS Lambda functions:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
To avoid data loss, APM data collected by APM agents needs to be flushed before the execution environment of a lambda function is frozen.
</li>
<li class="listitem">
Flushing APM data must be fast so as not to impact the response times of lambda function requests.
</li>
</ol>
</div>
<p>To accomplish the above, Elastic APM agents instrument AWS Lambda functions and dispatch APM data via an <a href="https://docs.aws.amazon.com/lambda/latest/dg/using-extensions.html" class="ulink" target="_top">AWS Lambda extension</a>.</p>
<p>Normally, during the execution of a Lambda function, there&#8217;s only a single language process running in the AWS Lambda execution environment. With an AWS Lambda extension, Lambda users run a <em>second</em> process alongside their main service/application process.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/apm-agents-aws-lambda-functions-architecture.png" alt="image showing data flow from lambda function" width="to extension" height="to the managed intake service">
</div>
</div>
<p>By using an AWS Lambda extension, Elastic APM agents can send data to a local Lambda extension process, and that process will forward data on to the managed intake service asynchronously. The Lambda extension ensures that any potential latency between the Lambda function and the managed intake service instance will not cause latency in the request flow of the Lambda function itself.</p>
<div class="position-relative"><h6><a id="observability-apm-agents-aws-lambda-functions-setup"></a>Setup</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/apm-agents/apm-agents-aws-lambda-functions.asciidoc">edit</a></div>
<p>To get started with monitoring AWS Lambda functions, refer to the APM agent documentation:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/apm/agent/nodejs/current/lambda.html" class="ulink" target="_top">Monitor AWS Lambda Node.js functions</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/python/current/lambda-support.html" class="ulink" target="_top">Monitor AWS Lambda Python functions</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/java/current/aws-lambda.html" class="ulink" target="_top">Monitor AWS Lambda Java functions</a>
</li>
</ul>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>When sending data to an Elastic Observability Serverless project, you <em>must</em> use an API key.</p>
<p>Read more about API keys in <a class="xref" href="observability-apm-keep-data-secure.html" title="Keep APM data secure">Keep APM data secure</a>.</p>
</div>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="observability-apm-agents-opentelemetry-resource-attributes.html">« Resource attributes</a>
</span>
<span class="next">
<a href="observability-apm-view-and-analyze-traces.html">View and analyze traces »</a>
</span>
</div>
</body>
</html>
