<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Integrate with machine learning | Serverless | Elastic</title>
<meta class="elastic" name="content" content="Integrate with machine learning | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="observability-apm-view-and-analyze-traces.html" title="View and analyze data"/>
<link rel="prev" href="observability-apm-observe-lambda-functions.html" title="Observe Lambda functions"/>
<link rel="next" href="observability-apm-kibana-settings.html" title="Applications UI settings"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="observability-apm-observe-lambda-functions.html">« Observe Lambda functions</a>
</span>
<span class="next">
<a href="observability-apm-kibana-settings.html">Applications UI settings »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-observability-serverless.html">Elastic Observability Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="application-and-service-monitoring.html">Application and service monitoring</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-apm.html">Application performance monitoring (APM)</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-apm-view-and-analyze-traces.html">View and analyze data</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Integrate with machine learning</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/apm/view-and-analyze/machine-learning.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div id="url-to-v3" class="version-warning">
    <strong>IMPORTANT</strong>: This documentation is no longer updated. Refer to <a href="https://www.elastic.co/support/eol">Elastic's version policy</a> and the <a href="https://www.elastic.co/docs/solutions/observability/apps/integrate-with-machine-learning">latest documentation</a>.
</div>
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h5 class="title"><a id="observability-apm-integrate-with-machine-learning"></a>Integrate with machine learning</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/apm/view-and-analyze/machine-learning.asciidoc">edit</a></div>
</div></div></div>
<p>The Machine learning integration initiates a new job predefined to calculate anomaly scores on APM transaction durations.
With this integration, you can quickly pinpoint anomalous transactions and see the health of
any upstream and downstream services.</p>
<p>Machine learning jobs are created per environment and are based on a service&#8217;s average response time.
Because jobs are created at the environment level,
you can add new services to your existing environments without the need for additional machine learning jobs.</p>
<p>Results from machine learning jobs are shown in multiple places throughout the Applications UI:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <span class="strong strong"><strong>Services overview</strong></span> provides a quick-glance view of the general health of all of your services.
</li>
<li class="listitem">
The transaction duration chart will show the expected bounds and add an annotation when the anomaly score is 75 or above.
</li>
<li class="listitem">
<p>Service Maps will display a color-coded anomaly indicator based on the detected anomaly score.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/service-maps/service-map-anomaly.png" alt="Example view of anomaly scores on service maps in the Applications UI">
</div>
</div>
</li>
</ul>
</div>
<div class="position-relative"><h7><a id="observability-apm-integrate-with-machine-learning-enable-anomaly-detection"></a>Enable anomaly detection</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/apm/view-and-analyze/machine-learning.asciidoc">edit</a></div>
<p>To enable machine learning anomaly detection:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In your Elastic Observability Serverless project, go to any <span class="strong strong"><strong>Applications</strong></span> page.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Anomaly detection</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create Job</strong></span>.
</li>
<li class="listitem">
Machine learning jobs are created at the environment level.
Select all of the service environments that you want to enable anomaly detection in.
Anomalies will surface for all services and transaction types within the selected environments.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create Jobs</strong></span>.
</li>
</ol>
</div>
<p>That&#8217;s it! After a few minutes, the job will begin calculating results;
it might take additional time for results to appear on your service maps.
To manage existing jobs, click <span class="strong strong"><strong>Manage jobs</strong></span> (or go to <span class="strong strong"><strong>Machine learning</strong></span> → <span class="strong strong"><strong>Jobs</strong></span>).</p>
<div class="position-relative"><h7><a id="observability-apm-integrate-with-machine-learning-anomaly-detection-warning"></a>Anomaly detection warning</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/apm/view-and-analyze/machine-learning.asciidoc">edit</a></div>
<p>To make machine learning as easy as possible to set up,
Elastic will warn you when filtered to an environment without a machine learning job.</p>
<div class="position-relative"><h7><a id="observability-apm-integrate-with-machine-learning-unknown-service-health"></a>Unknown service health</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/do-not-delete_legacy-docs/docs/en/serverless/apm/view-and-analyze/machine-learning.asciidoc">edit</a></div>
<p>After enabling anomaly detection, service health may display as "Unknown". Here are some reasons why this can occur:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
No machine learning job exists. See <a class="xref" href="observability-apm-integrate-with-machine-learning.html#observability-apm-integrate-with-machine-learning-enable-anomaly-detection" title="Enable anomaly detection">Enable anomaly detection</a> to enable anomaly detection and create a machine learning job.
</li>
<li class="listitem">
There is no machine learning data for the job. If you just created the machine learning job you&#8217;ll need to wait a few minutes for data to be available. Alternatively, if the service or its environment are new, you&#8217;ll need to wait for more trace data.
</li>
<li class="listitem">
No "request" or "page-load" transaction type exists for this service; service health is only available for these transaction types.
</li>
</ol>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="observability-apm-observe-lambda-functions.html">« Observe Lambda functions</a>
</span>
<span class="next">
<a href="observability-apm-kibana-settings.html">Applications UI settings »</a>
</span>
</div>
</body>
</html>
