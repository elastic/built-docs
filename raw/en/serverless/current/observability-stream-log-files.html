<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Stream any log file | Serverless | Elastic</title>
<meta class="elastic" name="content" content="Stream any log file | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="observability-log-monitoring.html" title="Log monitoring"/>
<link rel="prev" href="observability-get-started-with-logs.html" title="Get started with system logs"/>
<link rel="next" href="observability-correlate-application-logs.html" title="Stream application logs"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="observability-get-started-with-logs.html">« Get started with system logs</a>
</span>
<span class="next">
<a href="observability-correlate-application-logs.html">Stream application logs »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-observability-serverless.html">Elastic Observability serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-log-monitoring.html">Log monitoring</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Stream any log file</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="observability-stream-log-files"></a>Stream any log file</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p class="admon_title">Required role</p>
<p>The <span class="strong strong"><strong>Admin</strong></span> role or higher is required to onboard log data. To learn more, refer to <a class="xref" href="general-assign-user-roles.html" title="Assign user roles and privileges">Assign user roles and privileges</a>.</p>
</div>
</div>
<div style="display:none">
<div class="imageblock screenshot">
<div class="content">
<img src="images/logs-stream-logs-api-key-beats.png" alt="logs stream logs api key beats">
</div>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/log-copy-es-endpoint.png" alt="Copy a project&#8217;s Elasticsearch endpoint">
</div>
</div>
</div>
<p>This guide shows you how to send a log file to your Observability project using a standalone Elastic Agent and configure the Elastic Agent and your data streams using the <code class="literal">elastic-agent.yml</code> file, and query your logs using the data streams you&#8217;ve set up.</p>
<p>The quickest way to get started is using the <span class="strong strong"><strong>Monitor hosts with Elastic Agent</strong></span> quickstart. Refer to the <a class="xref" href="observability-quickstarts-monitor-hosts-with-elastic-agent.html" title="Quickstart: Monitor hosts with Elastic Agent">quickstart documentation</a> for more information.</p>
<p>To install and configure the Elastic Agent manually, refer to <a class="xref" href="observability-stream-log-files.html#manually-install-agent-logs" title="Manually install and configure the standalone Elastic Agent">Manually install and configure the standalone Elastic Agent</a>.</p>
<div class="position-relative"><h5><a id="manually-install-agent-logs"></a>Manually install and configure the standalone Elastic Agent</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
<p>If you&#8217;re not using the guided instructions, follow these steps to manually install and configure your the Elastic Agent.</p>
<div class="position-relative"><h6><a id="observability-stream-log-files-step-1-download-and-extract-the-agent-installation-package"></a>Step 1: Download and extract the Elastic Agent installation package</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
<p>On your host, download and extract the installation package that corresponds with your system:</p>
<div class="tabs" data-tab-group="transclusion-fleet-tab-widgets-download-widget">
  <div role="tablist" aria-label="transclusion-fleet-tab-widgets-download-widget">
    <button role="tab" aria-selected="true" aria-controls="transclusion-fleet-tab-widgets-download-widget-macos-panel" id="transclusion-fleet-tab-widgets-download-widget-macos-button">
      macOS
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-download-widget-linux-panel" id="transclusion-fleet-tab-widgets-download-widget-linux-button" tabindex="-1">
      Linux
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-download-widget-windows-panel" id="transclusion-fleet-tab-widgets-download-widget-windows-button" tabindex="-1">
      Windows
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-download-widget-deb-panel" id="transclusion-fleet-tab-widgets-download-widget-deb-button" tabindex="-1">
      DEB
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-download-widget-rpm-panel" id="transclusion-fleet-tab-widgets-download-widget-rpm-button" tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-download-widget-macos-panel" aria-labelledby="transclusion-fleet-tab-widgets-download-widget-macos-button">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-8.16.1-darwin-x86_64.tar.gz
tar xzvf elastic-agent-8.16.1-darwin-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-download-widget-linux-panel" aria-labelledby="transclusion-fleet-tab-widgets-download-widget-linux-button" hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-8.16.1-linux-x86_64.tar.gz
tar xzvf elastic-agent-8.16.1-linux-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-download-widget-windows-panel" aria-labelledby="transclusion-fleet-tab-widgets-download-widget-windows-button" hidden="">
<div class="pre_wrapper lang-powershell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-powershell"># PowerShell 5.0+
wget https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-8.16.1-windows-x86_64.zip -OutFile elastic-agent-8.16.1-windows-x86_64.zip
Expand-Archive .\elastic-agent-8.16.1-windows-x86_64.zip</pre>
</div>
<p>Or manually:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Download the Elastic Agent Windows zip file from the
<a href="/downloads/beats/elastic-agent" class="ulink" target="_top">download page</a>.
</li>
<li class="listitem">
Extract the contents of the zip file.
</li>
</ol>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-download-widget-deb-panel" aria-labelledby="transclusion-fleet-tab-widgets-download-widget-deb-button" hidden="">
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To simplify upgrading to future versions of Elastic Agent, we recommended
that you use the tarball distribution instead of the DEB distribution.</p>
</div>
</div>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-8.16.1-amd64.deb
sudo dpkg -i elastic-agent-8.16.1-amd64.deb</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-download-widget-rpm-panel" aria-labelledby="transclusion-fleet-tab-widgets-download-widget-rpm-button" hidden="">
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>To simplify upgrading to future versions of Elastic Agent, we recommended
that you use the tarball distribution instead of the RPM distribution.</p>
</div>
</div>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/elastic-agent/elastic-agent-8.16.1-x86_64.rpm
sudo rpm -vi elastic-agent-8.16.1-x86_64.rpm</pre>
</div>
  </div>
</div>
<div class="position-relative"><h6><a id="observability-stream-log-files-step-2-install-and-start-the-agent"></a>Step 2: Install and start the Elastic Agent</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
<p>After downloading and extracting the installation package, you&#8217;re ready to install the Elastic Agent.
From the agent directory, run the install command that corresponds with your system:</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>On macOS, Linux (tar package), and Windows, run the <code class="literal">install</code> command to
install and start Elastic Agent as a managed service and start the service. The DEB and RPM
packages include a service unit for Linux systems with
systemd, For these systems, you must enable and start the service.</p>
</div>
</div>
<div class="tabs" data-tab-group="transclusion-fleet-tab-widgets-run-standalone-widget">
  <div role="tablist" aria-label="transclusion-fleet-tab-widgets-run-standalone-widget">
    <button role="tab" aria-selected="true" aria-controls="transclusion-fleet-tab-widgets-run-standalone-widget-macos-panel" id="transclusion-fleet-tab-widgets-run-standalone-widget-macos-button">
      macOS
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-run-standalone-widget-linux-panel" id="transclusion-fleet-tab-widgets-run-standalone-widget-linux-button" tabindex="-1">
      Linux
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-run-standalone-widget-windows-panel" id="transclusion-fleet-tab-widgets-run-standalone-widget-windows-button" tabindex="-1">
      Windows
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-run-standalone-widget-deb-panel" id="transclusion-fleet-tab-widgets-run-standalone-widget-deb-button" tabindex="-1">
      DEB
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-run-standalone-widget-rpm-panel" id="transclusion-fleet-tab-widgets-run-standalone-widget-rpm-button" tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-run-standalone-widget-macos-panel" aria-labelledby="transclusion-fleet-tab-widgets-run-standalone-widget-macos-button">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo ./elastic-agent install</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-run-standalone-widget-linux-panel" aria-labelledby="transclusion-fleet-tab-widgets-run-standalone-widget-linux-button" hidden="">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo ./elastic-agent install</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-run-standalone-widget-windows-panel" aria-labelledby="transclusion-fleet-tab-widgets-run-standalone-widget-windows-button" hidden="">
<p>Open a PowerShell prompt as an Administrator (right-click the PowerShell icon
and select <span class="strong strong"><strong>Run As Administrator</strong></span>).</p>
<p>From the PowerShell prompt, change to the directory where you installed Elastic Agent,
and run:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">.\elastic-agent.exe install</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-run-standalone-widget-deb-panel" aria-labelledby="transclusion-fleet-tab-widgets-run-standalone-widget-deb-button" hidden="">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl enable elastic-agent   <a id="CO20-1"></a><i class="conum" data-value="1"></i>
sudo systemctl start elastic-agent</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO20-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The DEB package includes a service unit for Linux systems with systemd. On
these systems, you can manage Elastic Agent by using the usual systemd commands. If
you don&#8217;t have systemd, run <code class="literal">sudo service elastic-agent start</code>.</p>
</td>
</tr>
</table>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-run-standalone-widget-rpm-panel" aria-labelledby="transclusion-fleet-tab-widgets-run-standalone-widget-rpm-button" hidden="">
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>You must run this command as the root user because some
integrations require root privileges to collect sensitive data.</p>
</div>
</div>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl enable elastic-agent   <a id="CO21-1"></a><i class="conum" data-value="1"></i>
sudo systemctl start elastic-agent</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO21-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The RPM package includes a service unit for Linux systems with systemd. On
these systems, you can manage Elastic Agent by using the usual systemd commands. If
you don&#8217;t have systemd, run <code class="literal">sudo service elastic-agent start</code>.</p>
</td>
</tr>
</table>
</div>
  </div>
</div>
<p>During installation, you&#8217;ll be prompted with some questions:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
When asked if you want to install the agent as a service, enter <code class="literal">Y</code>.
</li>
<li class="listitem">
When asked if you want to enroll the agent in Fleet, enter <code class="literal">n</code>.
</li>
</ol>
</div>
<div class="position-relative"><h6><a id="observability-stream-log-files-step-3-configure-the-agent"></a>Step 3: Configure the Elastic Agent</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
<p>After your agent is installed, configure it by updating the <code class="literal">elastic-agent.yml</code> file.</p>
<div class="position-relative"><h7><a id="observability-stream-log-files-locate-your-configuration-file"></a>Locate your configuration file</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
<p>You&#8217;ll find the <code class="literal">elastic-agent.yml</code> in one of the following locations according to your system:</p>
<div class="tabs" data-tab-group="transclusion-observability-tab-widgets-logs-agent-location-widget">
  <div role="tablist" aria-label="transclusion-observability-tab-widgets-logs-agent-location-widget">
    <button role="tab" aria-selected="true" aria-controls="transclusion-observability-tab-widgets-logs-agent-location-widget-macos-panel" id="transclusion-observability-tab-widgets-logs-agent-location-widget-macos-button">
      macOS
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-logs-agent-location-widget-linux-panel" id="transclusion-observability-tab-widgets-logs-agent-location-widget-linux-button" tabindex="-1">
      Linux
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-logs-agent-location-widget-windows-panel" id="transclusion-observability-tab-widgets-logs-agent-location-widget-windows-button" tabindex="-1">
      Windows
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-logs-agent-location-widget-deb-panel" id="transclusion-observability-tab-widgets-logs-agent-location-widget-deb-button" tabindex="-1">
      DEB
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-logs-agent-location-widget-rpm-panel" id="transclusion-observability-tab-widgets-logs-agent-location-widget-rpm-button" tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-logs-agent-location-widget-macos-panel" aria-labelledby="transclusion-observability-tab-widgets-logs-agent-location-widget-macos-button">
<p>Main Elastic Agent configuration file location:</p>
<p><code class="literal">/Library/Elastic/Agent/elastic-agent.yml</code></p>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-logs-agent-location-widget-linux-panel" aria-labelledby="transclusion-observability-tab-widgets-logs-agent-location-widget-linux-button" hidden="">
<p>Main Elastic Agent configuration file location:</p>
<p><code class="literal">/opt/Elastic/Agent/elastic-agent.yml</code></p>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-logs-agent-location-widget-windows-panel" aria-labelledby="transclusion-observability-tab-widgets-logs-agent-location-widget-windows-button" hidden="">
<p>Main Elastic Agent configuration file location:</p>
<p><code class="literal">C:\Program Files\Elastic\Agent\elastic-agent.yml</code></p>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-logs-agent-location-widget-deb-panel" aria-labelledby="transclusion-observability-tab-widgets-logs-agent-location-widget-deb-button" hidden="">
<p>Main Elastic Agent configuration file location:</p>
<p><code class="literal">/etc/elastic-agent/elastic-agent.yml</code></p>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-logs-agent-location-widget-rpm-panel" aria-labelledby="transclusion-observability-tab-widgets-logs-agent-location-widget-rpm-button" hidden="">
<p>Main Elastic Agent configuration file location:</p>
<p><code class="literal">/etc/elastic-agent/elastic-agent.yml</code></p>
  </div>
</div>
<div class="position-relative"><h7><a id="observability-stream-log-files-update-your-configuration-file"></a>Update your configuration file</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
<p>Update the default configuration in the <code class="literal">elastic-agent.yml</code> file manually.
It should look something like this:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">outputs:
  default:
    type: elasticsearch
    hosts: '&lt;your-elasticsearch-endpoint&gt;:&lt;port&gt;'
    api_key: 'your-api-key'
inputs:
  - id: your-log-id
    type: filestream
    streams:
      - id: your-log-stream-id
        data_stream:
          dataset: example
        paths:
          - /var/log/your-logs.log</pre>
</div>
<p>You need to set the values for the following fields:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Field</th>
<th align="left" valign="top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">hosts</code></p></td>
<td align="left" valign="top">
<p>Copy the Elasticsearch endpoint from your project&#8217;s page and add the port (the default port is <code class="literal">443</code>). For example, <code class="literal">https://my-deployment.es.us-central1.gcp.cloud.es.io:443</code>.</p>
<p>If you&#8217;re following the guided instructions in your project,
the Elasticsearch endpoint will be prepopulated in the configuration file.</p>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you need to find your project&#8217;s Elasticsearch endpoint outside the guided instructions:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Go to the <span class="strong strong"><strong>Projects</strong></span> page that lists all your projects.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Manage</strong></span> next to the project you want to connect to.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>View</strong></span> next to <em>Endpoints</em>.
</li>
<li class="listitem">
Copy the <em>Elasticsearch endpoint</em>.
</li>
</ol>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/log-copy-es-endpoint.png" alt="Copy a project&#8217;s Elasticsearch endpoint">
</div>
</div>
</div>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">api-key</code></p></td>
<td align="left" valign="top">
<p>Use an API key to grant the agent access to your project.
The API key format should be <code class="literal">&lt;id&gt;:&lt;key&gt;</code>.</p>
<p>If you&#8217;re following the guided instructions in your project, an API key will be autogenerated
and will be prepopulated in the downloadable configuration file.</p>
<p>If configuring the Elastic Agent manually, create an API key:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Navigate to <span class="strong strong"><strong>Project settings</strong></span> → <span class="strong strong"><strong>Management</strong></span> → <span class="strong strong"><strong>API keys</strong></span> and click <span class="strong strong"><strong>Create API key</strong></span>.
</li>
<li class="listitem">
<p>Select <span class="strong strong"><strong>Restrict privileges</strong></span> and add the following JSON to give privileges for ingesting logs.</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
  "standalone_agent": {
    "cluster": [
      "monitor"
    ],
    "indices": [
      {
        "names": [
          "logs-*-*"
        ],
        "privileges": [
          "auto_configure", "create_doc"
        ]
      }
    ]
  }
}</pre>
</div>
</li>
<li class="listitem">
<p>You <em>must</em> set the API key to configure Beats.
Immediately after the API key is generated and while it is still being displayed, click the
<span class="strong strong"><strong>Encoded</strong></span> button next to the API key and select <span class="strong strong"><strong>Beats</strong></span> from the list in the tooltip.
Base64 encoded API keys are not currently supported in this configuration.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/logs-stream-logs-api-key-beats.png" alt="logs stream logs api key beats">
</div>
</div>
</li>
</ol>
</div>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">inputs.id</code></p></td>
<td align="left" valign="top"><p>A unique identifier for your input.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">type</code></p></td>
<td align="left" valign="top"><p>The type of input. For collecting logs, set this to <code class="literal">filestream</code>.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">streams.id</code></p></td>
<td align="left" valign="top">
<p>A unique identifier for your stream of log data.</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">data_stream.dataset</code></p></td>
<td align="left" valign="top">
<p>The name for your dataset data stream. Name this data stream anything that signifies the source of the data. In this configuration, the dataset is set to <code class="literal">example</code>. The default value is <code class="literal">generic</code>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">paths</code></p></td>
<td align="left" valign="top">
<p>The path to your log files. You can also use a pattern like <code class="literal">/var/log/your-logs.log*</code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="position-relative"><h7><a id="observability-stream-log-files-restart-the-agent"></a>Restart the Elastic Agent</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
<p>After updating your configuration file, you need to restart the Elastic Agent.</p>
<p>First, stop the Elastic Agent and its related executables using the command that works with your system:</p>
<div class="tabs" data-tab-group="transclusion-fleet-tab-widgets-stop-widget">
  <div role="tablist" aria-label="transclusion-fleet-tab-widgets-stop-widget">
    <button role="tab" aria-selected="true" aria-controls="transclusion-fleet-tab-widgets-stop-widget-macos-panel" id="transclusion-fleet-tab-widgets-stop-widget-macos-button">
      macOS
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-stop-widget-linux-panel" id="transclusion-fleet-tab-widgets-stop-widget-linux-button" tabindex="-1">
      Linux
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-stop-widget-windows-panel" id="transclusion-fleet-tab-widgets-stop-widget-windows-button" tabindex="-1">
      Windows
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-stop-widget-deb-panel" id="transclusion-fleet-tab-widgets-stop-widget-deb-button" tabindex="-1">
      DEB
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-stop-widget-rpm-panel" id="transclusion-fleet-tab-widgets-stop-widget-rpm-button" tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-stop-widget-macos-panel" aria-labelledby="transclusion-fleet-tab-widgets-stop-widget-macos-button">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo launchctl unload /Library/LaunchDaemons/co.elastic.elastic-agent.plist</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Agent will restart automatically if the system is rebooted.</p>
</div>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-stop-widget-linux-panel" aria-labelledby="transclusion-fleet-tab-widgets-stop-widget-linux-button" hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent stop</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Agent will restart automatically if the system is rebooted.</p>
</div>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-stop-widget-windows-panel" aria-labelledby="transclusion-fleet-tab-widgets-stop-widget-windows-button" hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">Stop-Service Elastic Agent</pre>
</div>
<p>If necessary, use Task Manager on Windows to stop Elastic Agent. This will kill the
<code class="literal">elastic-agent</code> process and any sub-processes it created (such as Beats).</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Agent will restart automatically if the system is rebooted.</p>
</div>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-stop-widget-deb-panel" aria-labelledby="transclusion-fleet-tab-widgets-stop-widget-deb-button" hidden="">
<p>The DEB package includes a service unit for Linux systems with systemd. On these
systems, you can manage Elastic Agent by using the usual systemd commands.</p>
<p>Use <code class="literal">systemctl</code> to stop the agent:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl stop elastic-agent</pre>
</div>
<p>Otherwise, use:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent stop</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Agent will restart automatically if the system is rebooted.</p>
</div>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-stop-widget-rpm-panel" aria-labelledby="transclusion-fleet-tab-widgets-stop-widget-rpm-button" hidden="">
<p>The RPM package includes a service unit for Linux systems with systemd. On these
systems, you can manage Elastic Agent by using the usual systemd commands.</p>
<p>Use <code class="literal">systemctl</code> to stop the agent:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl stop elastic-agent</pre>
</div>
<p>Otherwise, use:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent stop</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Elastic Agent will restart automatically if the system is rebooted.</p>
</div>
</div>
  </div>
</div>
<p>Next, restart the Elastic Agent using the command that works with your system:</p>
<div class="tabs" data-tab-group="transclusion-fleet-tab-widgets-start-widget">
  <div role="tablist" aria-label="transclusion-fleet-tab-widgets-start-widget">
    <button role="tab" aria-selected="true" aria-controls="transclusion-fleet-tab-widgets-start-widget-macos-panel" id="transclusion-fleet-tab-widgets-start-widget-macos-button">
      macOS
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-start-widget-linux-panel" id="transclusion-fleet-tab-widgets-start-widget-linux-button" tabindex="-1">
      Linux
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-start-widget-windows-panel" id="transclusion-fleet-tab-widgets-start-widget-windows-button" tabindex="-1">
      Windows
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-start-widget-deb-panel" id="transclusion-fleet-tab-widgets-start-widget-deb-button" tabindex="-1">
      DEB
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-fleet-tab-widgets-start-widget-rpm-panel" id="transclusion-fleet-tab-widgets-start-widget-rpm-button" tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-start-widget-macos-panel" aria-labelledby="transclusion-fleet-tab-widgets-start-widget-macos-button">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo launchctl load /Library/LaunchDaemons/co.elastic.elastic-agent.plist</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-start-widget-linux-panel" aria-labelledby="transclusion-fleet-tab-widgets-start-widget-linux-button" hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent start</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-start-widget-windows-panel" aria-labelledby="transclusion-fleet-tab-widgets-start-widget-windows-button" hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">Start-Service Elastic Agent</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-start-widget-deb-panel" aria-labelledby="transclusion-fleet-tab-widgets-start-widget-deb-button" hidden="">
<p>The DEB package includes a service unit for Linux systems with systemd. On these
systems, you can manage Elastic Agent by using the usual systemd commands.</p>
<p>Use <code class="literal">systemctl</code> to start the agent:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl start elastic-agent</pre>
</div>
<p>Otherwise, use:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent start</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-fleet-tab-widgets-start-widget-rpm-panel" aria-labelledby="transclusion-fleet-tab-widgets-start-widget-rpm-button" hidden="">
<p>The RPM package includes a service unit for Linux systems with systemd. On these
systems, you can manage Elastic Agent by using the usual systemd commands.</p>
<p>Use <code class="literal">systemctl</code> to start the agent:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo systemctl start elastic-agent</pre>
</div>
<p>Otherwise, use:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service elastic-agent start</pre>
</div>
  </div>
</div>
<div class="position-relative"><h5><a id="observability-stream-log-files-troubleshoot-your-agent-configuration"></a>Troubleshoot your Elastic Agent configuration</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
<p>If you&#8217;re not seeing your log files in your project, verify the following in the <code class="literal">elastic-agent.yml</code> file:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The path to your logs file under <code class="literal">paths</code> is correct.
</li>
<li class="listitem">
Your API key is in <code class="literal">&lt;id&gt;:&lt;key&gt;</code> format. If not, your API key may be in an unsupported format, and you&#8217;ll need to create an API key in <span class="strong strong"><strong>Beats</strong></span> format.
</li>
</ul>
</div>
<p>If you&#8217;re still running into issues, refer to <a href="/guide/en/fleet/8.16/fleet-troubleshooting.html" class="ulink" target="_top">Elastic Agent troubleshooting</a> and <a href="/guide/en/fleet/8.16/elastic-agent-configuration.html" class="ulink" target="_top">Configure standalone Elastic Agents</a>.</p>
<div class="position-relative"><h5><a id="observability-stream-log-files-next-steps"></a>Next steps</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/stream-log-files.asciidoc">edit</a></div>
<p>After you have your agent configured and are streaming log data to your project:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Refer to the <a class="xref" href="observability-parse-log-data.html" title="Parse and route logs">Parse and organize logs</a> documentation for information on extracting structured fields from your log data, rerouting your logs to different data streams, and filtering and aggregating your log data.
</li>
<li class="listitem">
Refer to the <a class="xref" href="observability-filter-and-aggregate-logs.html" title="Filter and aggregate logs">Filter and aggregate logs</a> documentation for information on filtering and aggregating your log data to find specific information, gain insight, and monitor your systems more efficiently.
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="observability-get-started-with-logs.html">« Get started with system logs</a>
</span>
<span class="next">
<a href="observability-correlate-application-logs.html">Stream application logs »</a>
</span>
</div>
</body>
</html>
