<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Logstash | Serverless | Elastic</title>
<meta class="elastic" name="content" content="Logstash | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="elasticsearch-ingest-your-data.html" title="Ingest your data"/>
<link rel="prev" href="elasticsearch-ingest-data-file-upload.html" title="Upload a file"/>
<link rel="next" href="elasticsearch-ingest-data-through-beats.html" title="Beats"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="elasticsearch-ingest-data-file-upload.html">« Upload a file</a>
</span>
<span class="next">
<a href="elasticsearch-ingest-data-through-beats.html">Beats »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-elasticsearch-serverless.html">Elasticsearch</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elasticsearch-ingest-your-data.html">Ingest your data</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Logstash</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/ingest-your-data-ingest-data-through-integrations-logstash.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="elasticsearch-ingest-data-through-logstash"></a>Logstash</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/ingest-your-data-ingest-data-through-integrations-logstash.asciidoc">edit</a></div>
</div></div></div>
<p><span class="Admonishment Admonishment--preview">
[<span class="Admonishment-title u-mono">preview</span>]
<span class="Admonishment-detail">
This functionality is in technical preview and may be changed or removed in a future release. Elastic will work to fix any issues, but features in technical preview are not subject to the support SLA of official GA features.
</span>
</span></p>
<p>Logstash is an open source data collection engine with real-time pipelining capabilities.
It supports a wide variety of data sources, and can dynamically unify data from disparate sources and normalize the data into destinations of your choice.</p>
<p>Logstash can collect data using a variety of Logstash <a href="/guide/en/logstash/master/input-plugins.html" class="ulink" target="_top">input plugins</a>, enrich and transform the data with Logstash <a href="/guide/en/logstash/master/filter-plugins.html" class="ulink" target="_top">filter plugins</a>,
and output the data to Elasticsearch using the Logstash <a href="/guide/en/logstash/master/plugins-outputs-elasticsearch.html" class="ulink" target="_top">Elasticsearch output plugin</a>.</p>
<p>You can use Logstash to extend <a class="xref" href="elasticsearch-ingest-data-through-beats.html" title="Beats">Beats</a> for advanced use cases,
such as data routed to multiple destinations or when you need to make your data persistent.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p class="admon_title">Logstash for Elasticsearch Serverless</p>
<p>Logstash is a powerful, versatile ETL (Extract, Transform, Load) engine that can play an important role in organizations of all sizes.
Some capabilities and features for large, self-managed users aren&#8217;t appropriate for Serverless.</p>
<p>You&#8217;ll use the Logstash <a href="/guide/en/logstash/master/plugins-outputs-elasticsearch.html" class="ulink" target="_top"><code class="literal">((es)) output plugin</code></a> to send data to Elasticsearch Serverless.
Some differences to note between Elasticsearch Serverless and self-managed Elasticsearch:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Your logstash-output-elasticsearch configuration uses <span class="strong strong"><strong>API keys</strong></span> to access Elasticsearch from Logstash.
User-based security settings are ignored and may cause errors.
</li>
<li class="listitem">
Elasticsearch Serverless uses <span class="strong strong"><strong>data lifecycle management (DLM)</strong></span> instead of index lifecycle management (ILM).
If you add ILM settings to your Elasticsearch output configuration, they are ignored and may cause errors.
</li>
<li class="listitem">
<span class="strong strong"><strong>Logstash monitoring</strong></span> for Serverless is available through the <a href="https://github.com/elastic/integrations/blob/main/packages/logstash/_dev/build/docs/README.md" class="ulink" target="_top">Logstash Integration</a> in <a class="xref" href="what-is-observability-serverless.html" title="Elastic Observability serverless">Elastic Observability</a>.
</li>
</ul>
</div>
<p><span class="strong strong"><strong>Known issue</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The logstash-output-elasticsearch <code class="literal">hosts</code> setting defaults to port <code class="literal">:9200</code>.
Set the value to port <code class="literal">:443</code> instead.
</li>
</ul>
</div>
</div>
</div>
<div class="position-relative"><h5><a id="elasticsearch-ingest-data-through-logstash-requirements"></a>Requirements</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/ingest-your-data-ingest-data-through-integrations-logstash.asciidoc">edit</a></div>
<p>To use Logstash to send data to Elasticsearch Serverless, you must be using:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Logstash 8.10.1 or later
</li>
<li class="listitem">
Logstash <a href="/guide/en/logstash/master/plugins-outputs-elasticsearch.html" class="ulink" target="_top">Elasticsearch output plugin</a> 11.18.0 or later
</li>
<li class="listitem">
Logstash <a href="/guide/en/logstash/master/plugins-inputs-elasticsearch.html" class="ulink" target="_top">Elasticsearch input plugin</a> 4.18.0 or later
</li>
<li class="listitem">
Logstash <a href="/guide/en/logstash/master/plugins-filters-elasticsearch.html" class="ulink" target="_top">Elasticsearch filter plugin</a> 3.16.0 or later
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="elasticsearch-ingest-data-through-logstash-secure-connection"></a>Secure connection</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/ingest-your-data-ingest-data-through-integrations-logstash.asciidoc">edit</a></div>
<p>Elasticsearch Serverless simplifies secure communication between Logstash and Elasticsearch.
Configure the <a href="/guide/en/logstash/master/plugins-outputs-elasticsearch.html" class="ulink" target="_top">Elasticsearch output</a> plugin to use
<a href="/guide/en/logstash/master/plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-cloud_id" class="ulink" target="_top"><code class="literal">cloud_id</code></a> and
<a href="/guide/en/logstash/master/plugins-outputs-elasticsearch.html#plugins-outputs-elasticsearch-api_key" class="ulink" target="_top"><code class="literal">api_key</code></a>.
No additional SSL configuration steps are needed.</p>
<div class="position-relative"><h5><a id="elasticsearch-ingest-data-through-logstash-api-keys-for-connecting-ls-to-es3"></a>API keys for connecting Logstash to Elasticsearch Serverless</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/ingest-your-data-ingest-data-through-integrations-logstash.asciidoc">edit</a></div>
<p>Use the <span class="strong strong"><strong>Security: API key</strong></span> section in the UI to <a class="xref" href="api-keys.html" title="API keys">create an API key</a>
for securely connecting the Logstash Elasticsearch output to Elasticsearch Serverless.
We recommend creating a unique API key per Logstash instance.
You can create as many API keys as necessary.</p>
<p>When you set up your API keys, use the metadata option to tag each API key with details that are meaningful to you.
This step makes managing multiple API keys easier.</p>
<p>After you generate an API key, add it to your Logstash <a href="/guide/en/logstash/master/plugins-outputs-elasticsearch.html" class="ulink" target="_top">Elasticsearch output plugin</a> config file&#8217;s <code class="literal">api_key</code> setting.
Here&#8217;s an example:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">output {
  elasticsearch {
    api_key =&gt; "TiNAGG4BaaMdaH1tRfuU:KnR6yE41RrSowb0kQ0HWoA"
  }
}</pre>
</div>
<div class="position-relative"><h5><a id="elasticsearch-ingest-data-through-logstash-migrating-elasticsearch-data-using-ls"></a>Migrating Elasticsearch data using Logstash</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/ingest-your-data-ingest-data-through-integrations-logstash.asciidoc">edit</a></div>
<p>You can use Logstash to migrate data from self-managed Elasticsearch or Elasticsearch Service to Elasticsearch Serverless, or to migrate data from one Elasticsearch Serverless deployment to another.</p>
<p>Create a <a href="/guide/en/logstash/master/configuration.html" class="ulink" target="_top">Logstash pipeline</a> that includes the Elasticsearch <a href="/guide/en/logstash/master/plugins-inputs-elasticsearch.html" class="ulink" target="_top">input plugin</a> and <a href="/guide/en/logstash/master/plugins-outputs-elasticsearch.html" class="ulink" target="_top">output plugin</a>.</p>
<p>Configure the Elasticsearch input to point to your source deployment or instance, and configure the Elasticsearch output with the <code class="literal">cloud_id</code> and <code class="literal">api_key</code> settings for your target Elasticsearch Serverless instance.</p>
<p>If your origin index is using <a class="xref" href="elasticsearch-differences.html" title="Differences from other Elasticsearch offerings">settings that aren&#8217;t supported in Serverless</a>, then you might need to adjust your index settings.</p>
<div class="position-relative"><h5><a id="elasticsearch-ingest-data-through-logstash-next-steps"></a>Next steps</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/ingest-your-data-ingest-data-through-integrations-logstash.asciidoc">edit</a></div>
<p>Check out the <a href="/logstash" class="ulink" target="_top">Logstash product page</a> to see what Logstash can do for you.
When you&#8217;re ready,
dive into the <a href="/guide/en/logstash/master/index.html" class="ulink" target="_top">Logstash documentation</a>.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="elasticsearch-ingest-data-file-upload.html">« Upload a file</a>
</span>
<span class="next">
<a href="elasticsearch-ingest-data-through-beats.html">Beats »</a>
</span>
</div>
</body>
</html>
