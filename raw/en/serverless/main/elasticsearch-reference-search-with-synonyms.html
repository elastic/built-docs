<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Full-text search with synonyms | Serverless | Elastic</title>
<meta class="elastic" name="content" content="Full-text search with synonyms | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="elasticsearch-search-your-data.html" title="Search your data"/>
<link rel="prev" href="elasticsearch-search-your-data-the-search-api.html" title="The search API"/>
<link rel="next" href="elasticsearch-knn-search.html" title="k-nearest neighbor (kNN) search"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="elasticsearch-search-your-data-the-search-api.html">« The search API</a>
</span>
<span class="next">
<a href="elasticsearch-knn-search.html">k-nearest neighbor (kNN) search »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-elasticsearch-serverless.html">Elasticsearch Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="elasticsearch-search-your-data.html">Search your data</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Full-text search with synonyms</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/search-with-synonyms.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h3 class="title"><a id="elasticsearch-reference-search-with-synonyms"></a>Full-text search with synonyms</h3><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/search-with-synonyms.asciidoc">edit</a></div>
</div></div></div>
<p>Synonyms are words or phrases that have the same or similar meaning.
They are an important aspect of search, as they can improve the search experience and increase the scope of search results.</p>
<p>Synonyms allow you to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Improve search relevance</strong></span> by finding relevant documents that use different terms to express the same concept.
</li>
<li class="listitem">
Make <span class="strong strong"><strong>domain-specific vocabulary</strong></span> more user-friendly, allowing users to use search terms they are more familiar with.
</li>
<li class="listitem">
<span class="strong strong"><strong>Define common misspellings and typos</strong></span> to transparently handle common mistakes.
</li>
</ul>
</div>
<p>Synonyms are grouped together using <span class="strong strong"><strong>synonyms sets</strong></span>.
You can have as many synonyms sets as you need.</p>
<p>In order to use synonyms sets in Elasticsearch, you need to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Store your synonyms set
</li>
<li class="listitem">
Configure synonyms token filters and analyzers
</li>
</ul>
</div>
<div class="position-relative"><h5><a id="elasticsearch-reference-search-with-synonyms-store-your-synonyms-set"></a>Store your synonyms set</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/search-with-synonyms.asciidoc">edit</a></div>
<p>Your synonyms sets need to be stored in Elasticsearch so your analyzers can refer to them.
There are two ways to store your synonyms sets:</p>
<div class="position-relative"><h6><a id="elasticsearch-reference-search-with-synonyms-synonyms-api"></a>Synonyms API</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/search-with-synonyms.asciidoc">edit</a></div>
<p>You can use the <a href="/guide/en/elasticsearch/reference/master/synonyms-apis.html" class="ulink" target="_top">synonyms APIs</a> to manage synonyms sets.
This is the most flexible approach, as it allows to dynamically define and modify synonyms sets.</p>
<p>Changes in your synonyms sets will automatically reload the associated analyzers.</p>
<div class="position-relative"><h6><a id="elasticsearch-reference-search-with-synonyms-inline"></a>Inline</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/search-with-synonyms.asciidoc">edit</a></div>
<p>You can test your synonyms by adding them directly inline in your token filter definition.</p>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p>Inline synonyms are not recommended for production usage.
A large number of inline synonyms increases cluster size unnecessarily and can lead to performance issues.</p>
</div>
</div>
<div class="position-relative"><h6><a id="synonyms-synonym-token-filters"></a>Configure synonyms token filters and analyzers</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/search-with-synonyms.asciidoc">edit</a></div>
<p>Once your synonyms sets are created, you can start configuring your token filters and analyzers to use them.</p>
<p>Elasticsearch uses synonyms as part of the <a href="/guide/en/elasticsearch/reference/master/analysis-overview.html" class="ulink" target="_top">analysis process</a>.
You can use two types of <a href="/guide/en/elasticsearch/reference/master/analysis-tokenfilters.html" class="ulink" target="_top">token filter</a>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/elasticsearch/reference/master/analysis-synonym-graph-tokenfilter.html" class="ulink" target="_top">Synonym graph token filter</a>: It is recommended to use it, as it can correctly handle multi-word synonyms ("hurriedly", "in a hurry").
</li>
<li class="listitem">
<a href="/guide/en/elasticsearch/reference/master/analysis-synonym-tokenfilter.html" class="ulink" target="_top">Synonym token filter</a>: Not recommended if you need to use multi-word synonyms.
</li>
</ul>
</div>
<p>Check each synonym token filter documentation for configuration details and instructions on adding it to an analyzer.</p>
<div class="position-relative"><h6><a id="elasticsearch-reference-search-with-synonyms-test-your-analyzer"></a>Test your analyzer</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/search-with-synonyms.asciidoc">edit</a></div>
<p>You can test an analyzer configuration without modifying your index settings.
Use the <a href="/guide/en/elasticsearch/reference/master/indices-analyze.html" class="ulink" target="_top">analyze API</a> to test your analyzer chain:</p>
<div class="pre_wrapper lang-bash">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-bash">curl "${ES_URL}/my-index/_analyze?pretty" \
-H "Authorization: ApiKey ${API_KEY}" \
-H "Content-Type: application/json" \
-d'
{
  "tokenizer": "standard",
  "filter" : [
    "lowercase",
    {
      "type": "synonym_graph",
      "synonyms": ["pc =&gt; personal computer", "computer, pc, laptop"]
    }
  ],
  "text" : "Check how PC synonyms work"
}</pre>
</div>
<div class="position-relative"><h6><a id="elasticsearch-reference-search-with-synonyms-apply-synonyms-at-index-or-search-time"></a>Apply synonyms at index or search time</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/docs-content/edit/main/serverless/pages/search-with-synonyms.asciidoc">edit</a></div>
<p>Analyzers can be applied at <a href="/guide/en/elasticsearch/reference/master/analysis-index-search-time.html" class="ulink" target="_top">index time or search time</a>.</p>
<p>You need to decide when to apply your synonyms:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Index time: Synonyms are applied when the documents are indexed into Elasticsearch. This is a less flexible alternative, as changes to your synonyms require <a href="/guide/en/elasticsearch/reference/master/docs-reindex.html" class="ulink" target="_top">reindexing</a>.
</li>
<li class="listitem">
Search time: Synonyms are applied when a search is executed. This is a more flexible approach, which doesn&#8217;t require reindexing. If token filters are configured with <code class="literal">"updateable": true</code>, search analyzers can be <a href="/guide/en/elasticsearch/reference/master/indices-reload-analyzers.html" class="ulink" target="_top">reloaded</a> when you make changes to your synonyms.
</li>
</ul>
</div>
<p>Synonyms sets created using the synonyms API can only be used at search time.</p>
<p>You can specify the analyzer that contains your synonyms set as a <a href="/guide/en/elasticsearch/reference/master/specify-analyzer.html#specify-search-analyzer" class="ulink" target="_top">search time analyzer</a> or as an <a href="/guide/en/elasticsearch/reference/master/specify-analyzer.html#specify-index-time-analyzer" class="ulink" target="_top">index time analyzer</a>.</p>
<p>The following example adds <code class="literal">my_analyzer</code> as a search analyzer to the <code class="literal">title</code> field in an index mapping:</p>
<div class="pre_wrapper lang-JSON">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-JSON">  "mappings": {
    "properties": {
      "title": {
        "type": "text",
        "search_analyzer": "my_analyzer",
        "updateable": true
      }
    }
  }</pre>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="elasticsearch-search-your-data-the-search-api.html">« The search API</a>
</span>
<span class="next">
<a href="elasticsearch-knn-search.html">k-nearest neighbor (kNN) search »</a>
</span>
</div>
</body>
</html>
