<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Create a synthetic monitor status rule | Serverless | Elastic</title>
<meta class="elastic" name="content" content="Create a synthetic monitor status rule | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="observability-create-manage-rules.html" title="Create and manage rules"/>
<link rel="prev" href="observability-create-slo-burn-rate-alert-rule.html" title="Create an SLO burn rate rule"/>
<link rel="next" href="observability-aggregationOptions.html" title="Aggregation options"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="observability-create-slo-burn-rate-alert-rule.html">« Create an SLO burn rate rule</a>
</span>
<span class="next">
<a href="observability-aggregationOptions.html">Aggregation options »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-observability-serverless.html">Elastic Observability Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="incident-management.html">Incident management</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-alerting.html">Alerting</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-create-manage-rules.html">Create and manage rules</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Create a synthetic monitor status rule</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/alerting/synthetic-monitor-status-alert.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h5 class="title"><a id="observability-monitor-status-alert"></a>Create a synthetic monitor status rule</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/alerting/synthetic-monitor-status-alert.asciidoc">edit</a></div>
</div></div></div>

<p>Within the Synthetics UI, create a <span class="strong strong"><strong>Monitor Status</strong></span> rule to receive notifications
based on errors and outages.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
To access this page, go to <span class="strong strong"><strong>Synthetics</strong></span> → <span class="strong strong"><strong>Overview</strong></span>.
</li>
<li class="listitem">
At the top of the page, click <span class="strong strong"><strong>Alerts and rules</strong></span> → <span class="strong strong"><strong>Monitor status rule</strong></span> → <span class="strong strong"><strong>Create status rule</strong></span>.
</li>
</ol>
</div>
<div class="position-relative"><h7><a id="observability-monitor-status-alert-filters"></a>Filters</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/alerting/synthetic-monitor-status-alert.asciidoc">edit</a></div>
<p>The <span class="strong strong"><strong>Filter by</strong></span> section controls the scope of the rule.
The rule will only check monitors that match the filters defined in this section.
In this example, the rule will only alert on <code class="literal">browser</code> monitors located in <code class="literal">Asia/Pacific - Japan</code>.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/synthetic-monitor-filters.png" alt="Filter by section of the Synthetics monitor status rule">
</div>
</div>
<div class="position-relative"><h7><a id="observability-monitor-status-alert-conditions"></a>Conditions</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/alerting/synthetic-monitor-status-alert.asciidoc">edit</a></div>
<p>Conditions for each rule will be applied to all monitors that match the filters in the <a class="xref" href="observability-monitor-status-alert.html#observability-monitor-status-alert-filters" title="Filters"><span class="strong strong"><strong>Filter by</strong></span> section</a>.
You can choose the number of times the monitor has to be down relative to either a number of checks run
or a time range in which checks were run, and the minimum number of locations the monitor must be down in.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Retests are included in the number of checks.</p>
</div>
</div>
<p>The <span class="strong strong"><strong>Rule schedule</strong></span> defines how often to evaluate the condition. Note that checks are queued, and they run as close
to the defined value as capacity allows. For example, if a check is scheduled to run every 2 minutes, but the check
takes longer than 2 minutes to run, a check will not run until the previous check has finished.</p>
<p>You can also set <span class="strong strong"><strong>Advanced options</strong></span> such as the number of consecutive runs that must meet the rule conditions before
an alert occurs.</p>
<p>In this example, the conditions will be met any time a <code class="literal">browser</code> monitor is down <code class="literal">3</code> of the last <code class="literal">5</code> times
the monitor ran across any locations that match the filter. These conditions will be evaluated every minute,
and you will only receive an alert when the conditions are met three times consecutively.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/synthetic-monitor-conditions.png" alt="Filters and conditions defining a Synthetics monitor status rule">
</div>
</div>
<div class="position-relative"><h7><a id="observability-monitor-status-alert-action-types"></a>Action types</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/alerting/synthetic-monitor-status-alert.asciidoc">edit</a></div>
<p>Extend your rules by connecting them to actions that use the following supported built-in integrations.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/kibana/8.16/cases-action-type.html" class="ulink" target="_top">Cases</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/d3security-action-type.html" class="ulink" target="_top">D3 Security</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/email-action-type.html" class="ulink" target="_top">Email</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/resilient-action-type.html" class="ulink" target="_top">IBM Resilient</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/index-action-type.html" class="ulink" target="_top">Index</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/jira-action-type.html" class="ulink" target="_top">Jira</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/teams-action-type.html" class="ulink" target="_top">Microsoft Teams</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/obs-ai-assistant-action-type.html" class="ulink" target="_top">Observability AI Assistant</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/opsgenie-action-type.html" class="ulink" target="_top">Opsgenie</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/pagerduty-action-type.html" class="ulink" target="_top">PagerDuty</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/server-log-action-type.html" class="ulink" target="_top">Server log</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/servicenow-itom-action-type.html" class="ulink" target="_top">ServiceNow ITOM</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/servicenow-action-type.html" class="ulink" target="_top">ServiceNow ITSM</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/servicenow-sir-action-type.html" class="ulink" target="_top">ServiceNow SecOps</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/slack-action-type.html" class="ulink" target="_top">Slack</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/swimlane-action-type.html" class="ulink" target="_top">Swimlane</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/torq-action-type.html" class="ulink" target="_top">Torq</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/webhook-action-type.html" class="ulink" target="_top">Webhook</a>
</li>
<li class="listitem">
<a href="/guide/en/kibana/8.16/xmatters-action-type.html" class="ulink" target="_top">xMatters</a>
</li>
</ul>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Some connector types are paid commercial features, while others are free.
For a comparison of the Elastic subscription levels, go to
<a href="/subscriptions" class="ulink" target="_top">the subscription page</a>.</p>
</div>
</div>
<p>After you select a connector, you must set the action frequency.
You can choose to create a summary of alerts on each check interval or on a custom interval.
For example, send email notifications that summarize the new, ongoing, and recovered alerts each hour:</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/synthetic-monitor-action-types-summary.png" alt="synthetic monitor action types summary">
</div>
</div>
<p>Alternatively, you can set the action frequency such that you choose how often the action runs
(for example, at each check interval, only when the alert status changes, or at a custom action interval).
In this case, you must also select the specific threshold condition that affects when actions run:
the <em>Synthetics monitor status</em> changes or when it is <em>Recovered</em> (went from down to up).</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/synthetic-monitor-action-types-each-alert.png" alt="synthetic monitor action types each alert">
</div>
</div>
<p>You can also further refine the conditions under which actions run by specifying that actions only run
when they match a KQL query or when an alert occurs within a specific time frame:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>If alert matches query</strong></span>: Enter a KQL query that defines field-value pairs or query conditions that must
be met for notifications to send. The query only searches alert documents in the indices specified for the rule.
</li>
<li class="listitem">
<span class="strong strong"><strong>If alert is generated during timeframe</strong></span>: Set timeframe details. Notifications are only sent if alerts are
generated within the timeframe you define.
</li>
</ul>
</div>
<div class="imageblock screenshot">
<div class="content">
<img src="images/synthetic-monitor-action-types-more-options.png" alt="synthetic monitor action types more options">
</div>
</div>
<div class="position-relative"><h8><a id="observability-monitor-status-alert-action-variables"></a>Action variables</h8><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/alerting/synthetic-monitor-status-alert.asciidoc">edit</a></div>
<p>Use the default notification message or customize it.
You can add more context to the message by clicking the icon above the message text box
and selecting from a list of available variables.</p>
<div class="imageblock screenshot">
<div class="content">
<img src="images/synthetic-monitor-action-variables.png" alt="synthetic monitor action variables">
</div>
</div>
<p>The following variables are specific to this rule type.
You an also specify <a href="/guide/en/kibana/8.16/rule-action-variables.html" class="ulink" target="_top">variables common to all rules</a>.</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">context.checkedAt</code>
</span>
</dt>
<dd>
Timestamp of the monitor run.
</dd>
<dt>
<span class="term">
<code class="literal">context.hostName</code>
</span>
</dt>
<dd>
Hostname of the location from which the check is performed.
</dd>
<dt>
<span class="term">
<code class="literal">context.lastErrorMessage</code>
</span>
</dt>
<dd>
Monitor last error message.
</dd>
<dt>
<span class="term">
<code class="literal">context.locationId</code>
</span>
</dt>
<dd>
Location id from which the check is performed.
</dd>
<dt>
<span class="term">
<code class="literal">context.locationName</code>
</span>
</dt>
<dd>
Location name from which the check is performed.
</dd>
<dt>
<span class="term">
<code class="literal">context.locationNames</code>
</span>
</dt>
<dd>
Location names from which the checks are performed.
</dd>
<dt>
<span class="term">
<code class="literal">context.message</code>
</span>
</dt>
<dd>
A generated message summarizing the status of monitors currently down.
</dd>
<dt>
<span class="term">
<code class="literal">context.monitorId</code>
</span>
</dt>
<dd>
ID of the monitor.
</dd>
<dt>
<span class="term">
<code class="literal">context.monitorName</code>
</span>
</dt>
<dd>
Name of the monitor.
</dd>
<dt>
<span class="term">
<code class="literal">context.monitorTags</code>
</span>
</dt>
<dd>
Tags associated with the monitor.
</dd>
<dt>
<span class="term">
<code class="literal">context.monitorType</code>
</span>
</dt>
<dd>
Type (for example, HTTP/TCP) of the monitor.
</dd>
<dt>
<span class="term">
<code class="literal">context.monitorUrl</code>
</span>
</dt>
<dd>
URL of the monitor.
</dd>
<dt>
<span class="term">
<code class="literal">context.reason</code>
</span>
</dt>
<dd>
A concise description of the reason for the alert.
</dd>
<dt>
<span class="term">
<code class="literal">context.recoveryReason</code>
</span>
</dt>
<dd>
A concise description of the reason for the recovery.
</dd>
<dt>
<span class="term">
<code class="literal">context.status</code>
</span>
</dt>
<dd>
Monitor status (for example, "down").
</dd>
<dt>
<span class="term">
<code class="literal">context.viewInAppUrl</code>
</span>
</dt>
<dd>
Open alert details and context in Synthetics app.
</dd>
</dl>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="observability-create-slo-burn-rate-alert-rule.html">« Create an SLO burn rate rule</a>
</span>
<span class="next">
<a href="observability-aggregationOptions.html">Aggregation options »</a>
</span>
</div>
</body>
</html>
