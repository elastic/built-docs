<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Plaintext application logs | Serverless | Elastic</title>
<meta class="elastic" name="content" content="Plaintext application logs | Serverless">

<link rel="home" href="index.html" title="Serverless"/>
<link rel="up" href="observability-correlate-application-logs.html" title="Stream application logs"/>
<link rel="prev" href="observability-correlate-application-logs.html" title="Stream application logs"/>
<link rel="next" href="observability-ecs-application-logs.html" title="ECS formatted application logs"/>
<meta class="elastic" name="product_version" content="main"/>
<meta class="elastic" name="product_name" content="Serverless"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Serverless/Guide"/>
<meta name="DC.subject" content="Serverless"/>
<meta name="DC.identifier" content="main"/>
</head>
<body>
<div class="navheader">
<span class="prev">
<a href="observability-correlate-application-logs.html">« Stream application logs</a>
</span>
<span class="next">
<a href="observability-ecs-application-logs.html">ECS formatted application logs »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="what-is-observability-serverless.html">Elastic Observability Serverless</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-log-monitoring.html">Log monitoring</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="observability-correlate-application-logs.html">Stream application logs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Plaintext application logs</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h4 class="title"><a id="observability-plaintext-application-logs"></a>Plaintext application logs</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
</div></div></div>
<p>Ingest and parse plaintext logs, including existing logs, from any programming language or framework without modifying your application or its configuration.</p>
<p>Plaintext logs require some additional setup that structured logs do not require:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
To search, filter, and aggregate effectively, you need to parse plaintext logs using an ingest pipeline to extract structured fields. Parsing is based on log format, so you might have to maintain different settings for different applications.
</li>
<li class="listitem">
To <a class="xref" href="observability-plaintext-application-logs.html#observability-plaintext-application-logs-correlate-logs" title="Correlate logs">correlate plaintext logs</a>, you need to inject IDs into log messages and parse them using an ingest pipeline.
</li>
</ul>
</div>
<p>To ingest, parse, and correlate plaintext logs:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Ingest plaintext logs with <a class="xref" href="observability-plaintext-application-logs.html#observability-plaintext-application-logs-ingest-logs-with-filebeat" title="Ingest logs with Filebeat">Filebeat</a> or <a class="xref" href="observability-plaintext-application-logs.html#observability-plaintext-application-logs-ingest-logs-with-agent" title="Ingest logs with Elastic Agent">Elastic Agent</a> and parse them before indexing with an ingest pipeline.
</li>
<li class="listitem">
<a class="xref" href="observability-plaintext-application-logs.html#observability-plaintext-application-logs-correlate-logs" title="Correlate logs">Correlate plaintext logs with an APM agent.</a>
</li>
<li class="listitem">
<a class="xref" href="observability-plaintext-application-logs.html#observability-plaintext-application-logs-view-logs" title="View logs">View logs in Logs Explorer</a>
</li>
</ol>
</div>
<div class="position-relative"><h6><a id="observability-plaintext-application-logs-ingest-logs"></a>Ingest logs</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>Send application logs to your project using one of the following shipping tools:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="observability-plaintext-application-logs.html#observability-plaintext-application-logs-ingest-logs-with-filebeat" title="Ingest logs with Filebeat"><span class="strong strong"><strong>Filebeat:</strong></span></a> A lightweight data shipper that sends log data to your project.
</li>
<li class="listitem">
<a class="xref" href="observability-plaintext-application-logs.html#observability-plaintext-application-logs-ingest-logs-with-agent" title="Ingest logs with Elastic Agent"><span class="strong strong"><strong>Elastic Agent:</strong></span></a> A single agent for logs, metrics, security data, and threat prevention. With Fleet, you can centrally manage Elastic Agent policies and lifecycles directly from your project.
</li>
</ul>
</div>
<div class="position-relative"><h7><a id="observability-plaintext-application-logs-ingest-logs-with-filebeat"></a>Ingest logs with Filebeat</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Use Filebeat version 8.11+ for the best experience when ingesting logs with Filebeat.</p>
</div>
</div>
<p>Follow these steps to ingest application logs with Filebeat.</p>
<div class="position-relative"><h8><a id="observability-plaintext-application-logs-step-1-install-filebeat"></a>Step 1: Install Filebeat</h8><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>Install Filebeat on the server you want to monitor by running the commands that align with your system:</p>
<div class="tabs" data-tab-group="transclusion-observability-tab-widgets-filebeat-install-widget">
  <div role="tablist" aria-label="transclusion-observability-tab-widgets-filebeat-install-widget">
    <button role="tab" aria-selected="true" aria-controls="transclusion-observability-tab-widgets-filebeat-install-widget-macos-panel" id="transclusion-observability-tab-widgets-filebeat-install-widget-macos-button">
      macOS
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-install-widget-linux-panel" id="transclusion-observability-tab-widgets-filebeat-install-widget-linux-button" tabindex="-1">
      Linux
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-install-widget-windows-panel" id="transclusion-observability-tab-widgets-filebeat-install-widget-windows-button" tabindex="-1">
      Windows
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-install-widget-deb-panel" id="transclusion-observability-tab-widgets-filebeat-install-widget-deb-button" tabindex="-1">
      DEB
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-install-widget-rpm-panel" id="transclusion-observability-tab-widgets-filebeat-install-widget-rpm-button" tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-install-widget-macos-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-install-widget-macos-button">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.17.1-darwin-x86_64.tar.gz
tar xzvf filebeat-8.17.1-darwin-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-install-widget-linux-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-install-widget-linux-button" hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.17.1-linux-x86_64.tar.gz
tar xzvf filebeat-8.17.1-linux-x86_64.tar.gz</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-install-widget-windows-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-install-widget-windows-button" hidden="">
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Download the Filebeat Windows zip file: <a href="https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.17.1-windows-x86_64.zip" class="ulink" target="_top">https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.17.1-windows-x86_64.zip</a>
</li>
<li class="listitem">
Extract the contents of the zip file into <code class="literal">C:\Program Files</code>.
</li>
<li class="listitem">
Rename the <code class="literal">filebeat-((version))-windows-x86_64</code> directory to <code class="literal">((filebeat))</code>.
</li>
<li class="listitem">
Open a PowerShell prompt as an Administrator (right-click the PowerShell icon
and select <span class="strong strong"><strong>Run As Administrator</strong></span>).
</li>
<li class="listitem">
<p>From the PowerShell prompt, run the following commands to install
Filebeat as a Windows service:</p>
<div class="pre_wrapper lang-powershell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-powershell">PS &gt; cd 'C:\Program Files{filebeat}'
PS C:\Program Files{filebeat}&gt; .\install-service-filebeat.ps1</pre>
</div>
</li>
</ol>
</div>
<p>If script execution is disabled on your system, you need to set the
execution policy for the current session to allow the script to run. For
example:
<code class="literal">PowerShell.exe -ExecutionPolicy UnRestricted -File .\install-service-filebeat.ps1</code>.</p>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-install-widget-deb-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-install-widget-deb-button" hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.17.1-amd64.deb
sudo dpkg -i filebeat-8.17.1-amd64.deb</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-install-widget-rpm-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-install-widget-rpm-button" hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">curl -L -O https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.17.1-x86_64.rpm
sudo rpm -vi filebeat-8.17.1-x86_64.rpm</pre>
</div>
  </div>
</div>
<div class="position-relative"><h8><a id="observability-plaintext-application-logs-step-2-connect-to-your-project"></a>Step 2: Connect to your project</h8><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>Connect to your project using an API key to set up Filebeat. Set the following information in the <code class="literal">filebeat.yml</code> file:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">output.elasticsearch:
  hosts: ["your-projects-elasticsearch-endpoint"]
  api_key: "id:api_key"</pre>
</div>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Set the <code class="literal">hosts</code> to your project&#8217;s Elasticsearch endpoint. Locate your project&#8217;s endpoint by clicking the help icon (<span class="image"><img src="images/icons/help.svg" alt="Help icon"></span>) and selecting <span class="strong strong"><strong>Endpoints</strong></span>. Add the <span class="strong strong"><strong>Elasticsearch endpoint</strong></span> to your configuration.
</li>
<li class="listitem">
<p>From <span class="strong strong"><strong>Developer tools</strong></span>, run the following command to create an API key that grants <code class="literal">manage</code> permissions for the <code class="literal">cluster</code> and the <code class="literal">filebeat-*</code> indices using:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">POST /_security/api_key
{
  "name": "your_api_key",
  "role_descriptors": {
    "filebeat_writer": {
      "cluster": ["manage"],
      "index": [
        {
          "names": ["filebeat-*"],
          "privileges": ["manage", "create_doc"]
        }
      ]
    }
  }
}</pre>
</div>
<p>Refer to <a href="/guide/en/beats/filebeat/8.17/beats-api-keys.html" class="ulink" target="_top">Grant access using API keys</a> for more information.</p>
</li>
</ol>
</div>
<div class="position-relative"><h8><a id="observability-plaintext-application-logs-step-3-configure-filebeat"></a>Step 3: Configure Filebeat</h8><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>Add the following configuration to the <code class="literal">filebeat.yaml</code> file to start collecting log data.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">filebeat.inputs:
- type: filestream   <a id="CO21-1"></a><i class="conum" data-value="1"></i>
  enabled: true
  paths: /path/to/logs.log   <a id="CO21-2"></a><i class="conum" data-value="2"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO21-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Reads lines from an active log file.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO21-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>Paths that you want Filebeat to crawl and fetch logs from.</p>
</td>
</tr>
</table>
</div>
<p>You can add additional settings to the <code class="literal">filebeat.yml</code> file to meet the needs of your specific set up. For example, the following settings would add a parser to manage messages that span multiple lines and add service fields:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">  parsers:
  - multiline:
      type: pattern
      pattern: '^[0-9]{4}-[0-9]{2}-[0-9]{2}'
      negate: true
      match: after
  fields_under_root: true
  fields:
    service.name: your_service_name
    service.environment: your_service_environment
    event.dataset: your_event_dataset</pre>
</div>
<div class="position-relative"><h8><a id="observability-plaintext-application-logs-step-4-set-up-and-start-filebeat"></a>Step 4: Set up and start Filebeat</h8><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>From the Filebeat installation directory, set the <a href="/guide/en/elasticsearch/reference/8.17/index-templates.html" class="ulink" target="_top">index template</a> by running the command that aligns with your system:</p>
<div class="tabs" data-tab-group="transclusion-observability-tab-widgets-filebeat-setup-widget">
  <div role="tablist" aria-label="transclusion-observability-tab-widgets-filebeat-setup-widget">
    <button role="tab" aria-selected="true" aria-controls="transclusion-observability-tab-widgets-filebeat-setup-widget-macos-panel" id="transclusion-observability-tab-widgets-filebeat-setup-widget-macos-button">
      macOS
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-setup-widget-linux-panel" id="transclusion-observability-tab-widgets-filebeat-setup-widget-linux-button" tabindex="-1">
      Linux
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-setup-widget-windows-panel" id="transclusion-observability-tab-widgets-filebeat-setup-widget-windows-button" tabindex="-1">
      Windows
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-setup-widget-deb-panel" id="transclusion-observability-tab-widgets-filebeat-setup-widget-deb-button" tabindex="-1">
      DEB
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-setup-widget-rpm-panel" id="transclusion-observability-tab-widgets-filebeat-setup-widget-rpm-button" tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-setup-widget-macos-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-setup-widget-macos-button">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">./filebeat setup --index-management</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-setup-widget-linux-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-setup-widget-linux-button" hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">./filebeat setup --index-management</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-setup-widget-windows-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-setup-widget-windows-button" hidden="">
<div class="pre_wrapper lang-powershell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-powershell">PS &gt; .\filebeat.exe setup --index-management</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-setup-widget-deb-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-setup-widget-deb-button" hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">filebeat setup --index-management</pre>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-setup-widget-rpm-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-setup-widget-rpm-button" hidden="">
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">filebeat setup --index-management</pre>
</div>
  </div>
</div>
<p>from the Filebeat installation directory, start filebeat by running the command that aligns with your system:</p>
<div class="tabs" data-tab-group="transclusion-observability-tab-widgets-filebeat-start-widget">
  <div role="tablist" aria-label="transclusion-observability-tab-widgets-filebeat-start-widget">
    <button role="tab" aria-selected="true" aria-controls="transclusion-observability-tab-widgets-filebeat-start-widget-macos-panel" id="transclusion-observability-tab-widgets-filebeat-start-widget-macos-button">
      macOS
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-start-widget-linux-panel" id="transclusion-observability-tab-widgets-filebeat-start-widget-linux-button" tabindex="-1">
      Linux
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-start-widget-windows-panel" id="transclusion-observability-tab-widgets-filebeat-start-widget-windows-button" tabindex="-1">
      Windows
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-start-widget-deb-panel" id="transclusion-observability-tab-widgets-filebeat-start-widget-deb-button" tabindex="-1">
      DEB
    </button>
    <button role="tab" aria-selected="false" aria-controls="transclusion-observability-tab-widgets-filebeat-start-widget-rpm-panel" id="transclusion-observability-tab-widgets-filebeat-start-widget-rpm-button" tabindex="-1">
      RPM
    </button>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-start-widget-macos-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-start-widget-macos-button">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo chown root filebeat.yml
sudo ./filebeat -e</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You&#8217;ll be running Filebeat as root, so you need to change ownership of the configuration file and any configurations enabled in the <code class="literal">modules.d</code> directory, or run Filebeat with <code class="literal">--strict.perms=false</code> specified. Refer to <a href="/guide/en/beats/libbeat/8.17/config-file-permissions.html" class="ulink" target="_top">Config file ownership and permissions</a>.</p>
</div>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-start-widget-linux-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-start-widget-linux-button" hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo chown root filebeat.yml
sudo ./filebeat -e</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>You&#8217;ll be running Filebeat as root, so you need to change ownership of the configuration file and any configurations enabled in the <code class="literal">modules.d</code> directory, or run Filebeat with <code class="literal">--strict.perms=false</code> specified. Refer to <a href="/guide/en/beats/libbeat/8.17/config-file-permissions.html" class="ulink" target="_top">Config file ownership and permissions</a>.</p>
</div>
</div>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-start-widget-windows-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-start-widget-windows-button" hidden="">
<div class="pre_wrapper lang-powershell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-powershell">PS C:\Program Files\filebeat&gt; Start-Service filebeat</pre>
</div>
<p>By default, Windows log files are stored in <code class="literal">C:\ProgramData\filebeat\Logs</code>.</p>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-start-widget-deb-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-start-widget-deb-button" hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service filebeat start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an init.d script to start Filebeat, you can&#8217;t specify command line flags (refer to <a href="/guide/en/beats/filebeat/8.17/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Filebeat in the foreground.</p>
</div>
</div>
<p>Also, refer to <a href="/guide/en/beats/filebeat/8.17/running-with-systemd.html" class="ulink" target="_top">Filebeat and systemd</a>.</p>
  </div>
  <div tabindex="0" role="tabpanel" id="transclusion-observability-tab-widgets-filebeat-start-widget-rpm-panel" aria-labelledby="transclusion-observability-tab-widgets-filebeat-start-widget-rpm-button" hidden="">
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">sudo service filebeat start</pre>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>If you use an init.d script to start Filebeat, you can&#8217;t specify command line flags (refer to <a href="/guide/en/beats/filebeat/8.17/command-line-options.html" class="ulink" target="_top">Command reference</a>). To specify flags, start Filebeat in the foreground.</p>
</div>
</div>
<p>Also, refer to <a href="/guide/en/beats/filebeat/8.17/running-with-systemd.html" class="ulink" target="_top">Filebeat and systemd</a>.</p>
  </div>
</div>
<div class="position-relative"><h8><a id="observability-plaintext-application-logs-step-5-parse-logs-with-an-ingest-pipeline"></a>Step 5: Parse logs with an ingest pipeline</h8><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>Use an ingest pipeline to parse the contents of your logs into structured, <a href="/guide/en/ecs/8.17/ecs-reference.html" class="ulink" target="_top">Elastic Common Schema (ECS)</a>-compatible fields.</p>
<p>Create an ingest pipeline with a <a href="/guide/en/elasticsearch/reference/8.17/dissect-processor.html" class="ulink" target="_top">dissect processor</a> to extract structured ECS fields from your log messages. In your project, go to <span class="strong strong"><strong>Developer Tools</strong></span> and use a command similar to the following example:</p>
<div class="pre_wrapper lang-shell">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-shell">PUT _ingest/pipeline/filebeat*  <a id="CO22-1"></a><i class="conum" data-value="1"></i>
{
  "description": "Extracts the timestamp log level and host ip",
  "processors": [
    {
      "dissect": {  <a id="CO22-2"></a><i class="conum" data-value="2"></i>
        "field": "message",  <a id="CO22-3"></a><i class="conum" data-value="3"></i>
        "pattern": "%{@timestamp} %{log.level} %{host.ip} %{message}"  <a id="CO22-4"></a><i class="conum" data-value="4"></i>
      }
    }
  ]
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO22-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">_ingest/pipeline/filebeat*</code>: The name of the pipeline. Update the pipeline name to match the name of your data stream. For more information, refer to <a href="/guide/en/fleet/8.17/data-streams.html#data-streams-naming-scheme" class="ulink" target="_top">Data stream naming scheme</a>.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO22-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">processors.dissect</code>: Adds a <a href="/guide/en/elasticsearch/reference/8.17/dissect-processor.html" class="ulink" target="_top">dissect processor</a> to extract structured fields from your log message.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO22-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">field</code>: The field you&#8217;re extracting data from, <code class="literal">message</code> in this case.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO22-4"><i class="conum" data-value="4"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">pattern</code>: The pattern of the elements in your log data. The pattern varies depending on your log format. <code class="literal">%{@timestamp}</code>, <code class="literal">%{log.level}</code>, <code class="literal">%{host.ip}</code>, and <code class="literal">%{message}</code> are common <a href="/guide/en/ecs/8.17/ecs-reference.html" class="ulink" target="_top">ECS</a> fields. This pattern would match a log file in this format: <code class="literal">2023-11-07T09:39:01.012Z ERROR 192.168.1.110 Server hardware failure detected.</code></p>
</td>
</tr>
</table>
</div>
<p>Refer to <a class="xref" href="observability-parse-log-data.html#observability-parse-log-data-extract-structured-fields" title="Extract structured fields">Extract structured fields</a> for more on using ingest pipelines to parse your log data.</p>
<p>After creating your pipeline, specify the pipeline for filebeat in the <code class="literal">filebeat.yml</code> file:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">output.elasticsearch:
  hosts: ["your-projects-elasticsearch-endpoint"]
  api_key: "id:api_key"
  pipeline: "your-pipeline"  <a id="CO23-1"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO23-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>Add the pipeline output and the name of your pipeline to the output.</p>
</td>
</tr>
</table>
</div>
<div class="position-relative"><h7><a id="observability-plaintext-application-logs-ingest-logs-with-agent"></a>Ingest logs with Elastic Agent</h7><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>Follow these steps to ingest and centrally manage your logs using Elastic Agent and Fleet.</p>
<div class="position-relative"><h8><a id="observability-plaintext-application-logs-step-1-add-the-custom-logs-integration-to-your-project"></a>Step 1: Add the custom logs integration to your project</h8><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>To add the custom logs integration to your project:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
In your Elastic Observability Serverless project, go to <span class="strong strong"><strong>Project Settings</strong></span> → <span class="strong strong"><strong>Integrations</strong></span>.
</li>
<li class="listitem">
Type <code class="literal">custom</code> in the search bar and select <span class="strong strong"><strong>Custom Logs</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Add Custom Logs</strong></span>.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Install Elastic Agent</strong></span> at the bottom of the page, and follow the instructions for your system to install the Elastic Agent.
</li>
<li class="listitem">
After installing the Elastic Agent, configure the integration from the <span class="strong strong"><strong>Add Custom Logs integration</strong></span> page.
</li>
<li class="listitem">
Give your integration a meaningful name and description.
</li>
<li class="listitem">
Add the <span class="strong strong"><strong>Log file path</strong></span>. For example, <code class="literal">/var/log/your-logs.log</code>.
</li>
<li class="listitem">
An agent policy is created that defines the data your Elastic Agent collects. If you&#8217;ve previously installed an Elastic Agent on the host you&#8217;re collecting logs from, you can select the <span class="strong strong"><strong>Existing hosts</strong></span> tab and use an existing agent policy.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Save and continue</strong></span>.
</li>
</ol>
</div>
<p>You can add additional settings to the integration under <span class="strong strong"><strong>Custom log file</strong></span> by clicking <span class="strong strong"><strong>Advanced options</strong></span> and adding YAML configurations to the <span class="strong strong"><strong>Custom configurations</strong></span>. For example, the following settings would add a parser to manage messages that span multiple lines and add service fields. Service fields are used for <a class="xref" href="observability-correlate-application-logs.html#observability-correlate-application-logs-log-correlation" title="Log correlation">Log correlation</a>.</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">  parsers:
  - multiline:
      type: pattern
      pattern: '^[0-9]{4}-[0-9]{2}-[0-9]{2}'
      negate: true
      match: after
  fields_under_root: true
  fields:
    service.name: your_service_name  <a id="CO24-1"></a><i class="conum" data-value="1"></i>
    service.version: your_service_version  <a id="CO24-2"></a><i class="conum" data-value="1"></i>
    service.environment: your_service_environment  <a id="CO24-3"></a><i class="conum" data-value="1"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO24-1"><i class="conum" data-value="1"></i></a><a href="#CO24-2"></a><a href="#CO24-3"></a></p>
</td>
<td align="left" valign="top">
<p>for <a class="xref" href="observability-correlate-application-logs.html#observability-correlate-application-logs-log-correlation" title="Log correlation">Log correlation</a>, add the <code class="literal">service.name</code> (required), <code class="literal">service.version</code> (optional), and <code class="literal">service.environment</code> (optional) of the service you&#8217;re collecting logs from.</p>
</td>
</tr>
</table>
</div>
<div class="position-relative"><h8><a id="observability-plaintext-application-logs-step-2-add-an-ingest-pipeline-to-your-integration"></a>Step 2: Add an ingest pipeline to your integration</h8><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>To aggregate or search for information in plaintext logs, use an ingest pipeline with your integration to parse the contents of your logs into structured, <a href="/guide/en/ecs/8.17/ecs-reference.html" class="ulink" target="_top">Elastic Common Schema (ECS)</a>-compatible fields.</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
From the custom logs integration, select <span class="strong strong"><strong>Integration policies</strong></span> tab.
</li>
<li class="listitem">
Select the integration policy you created in the previous section.
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Change defaults</strong></span> → <span class="strong strong"><strong>Advanced options</strong></span>.
</li>
<li class="listitem">
Under <span class="strong strong"><strong>Ingest pipelines</strong></span>, click <span class="strong strong"><strong>Add custom pipeline</strong></span>.
</li>
<li class="listitem">
<p>Create an ingest pipeline with a <a href="/guide/en/elasticsearch/reference/8.17/dissect-processor.html" class="ulink" target="_top">dissect processor</a> to extract structured fields from your log messages.</p>
<p>Click <span class="strong strong"><strong>Import processors</strong></span> and add a similar JSON to the following example:</p>
<div class="pre_wrapper lang-JSON">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-JSON">{
  "description": "Extracts the timestamp log level and host ip",
  "processors": [
    {
      "dissect": {  <a id="CO25-1"></a><i class="conum" data-value="1"></i>
        "field": "message",  <a id="CO25-2"></a><i class="conum" data-value="2"></i>
        "pattern": "%{@timestamp} %{log.level} %{host.ip} %{message}"  <a id="CO25-3"></a><i class="conum" data-value="3"></i>
      }
    }
  ]
}</pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO25-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">processors.dissect</code>: Adds a <a href="/guide/en/elasticsearch/reference/8.17/dissect-processor.html" class="ulink" target="_top">dissect processor</a> to extract structured fields from your log message.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO25-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">field</code>: The field you&#8217;re extracting data from, <code class="literal">message</code> in this case.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO25-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p><code class="literal">pattern</code>: The pattern of the elements in your log data. The pattern varies depending on your log format. <code class="literal">%{@timestamp}</code>, <code class="literal">%{log.level}</code>, <code class="literal">%{host.ip}</code>, and <code class="literal">%{message}</code> are common <a href="/guide/en/ecs/8.17/ecs-reference.html" class="ulink" target="_top">ECS</a> fields. This pattern would match a log file in this format: <code class="literal">2023-11-07T09:39:01.012Z ERROR 192.168.1.110 Server hardware failure detected.</code></p>
</td>
</tr>
</table>
</div>
</li>
<li class="listitem">
Click <span class="strong strong"><strong>Create pipeline</strong></span>.
</li>
<li class="listitem">
Save and deploy your integration.
</li>
</ol>
</div>
<div class="position-relative"><h6><a id="observability-plaintext-application-logs-correlate-logs"></a>Correlate logs</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>Correlate your application logs with trace events to:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
view the context of a log and the parameters provided by a user
</li>
<li class="listitem">
view all logs belonging to a particular trace
</li>
<li class="listitem">
easily move between logs and traces when debugging application issues
</li>
</ul>
</div>
<p>Log correlation works on two levels:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
at service level: annotation with <code class="literal">service.name</code>, <code class="literal">service.version</code>, and <code class="literal">service.environment</code> allow you to link logs with APM services
</li>
<li class="listitem">
at trace level: annotation with <code class="literal">trace.id</code> and <code class="literal">transaction.id</code> allow you to link logs with traces
</li>
</ul>
</div>
<p>Learn about correlating plaintext logs in the agent-specific ingestion guides:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/apm/agent/go/current/logs.html" class="ulink" target="_top">Go</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/java/current/logs.html#log-correlation-ids" class="ulink" target="_top">Java</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/dotnet/current/log-correlation.html" class="ulink" target="_top">.NET</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/nodejs/current/log-correlation.html" class="ulink" target="_top">Node.js</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/python/current/logs.html#log-correlation-ids" class="ulink" target="_top">Python</a>
</li>
<li class="listitem">
<a href="/guide/en/apm/agent/ruby/current/log-correlation.html" class="ulink" target="_top">Ruby</a>
</li>
</ul>
</div>
<div class="position-relative"><h6><a id="observability-plaintext-application-logs-view-logs"></a>View logs</h6><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/observability-docs/edit/main/docs/en/serverless/logging/plaintext-application-logs.asciidoc">edit</a></div>
<p>To view logs ingested by Filebeat, go to <span class="strong strong"><strong>Discover</strong></span>. Create a data view based on the <code class="literal">filebeat-*</code> index pattern. Refer to <a href="/guide/en/kibana/8.17/data-views.html" class="ulink" target="_top">Create a data view</a> for more information.</p>
<p>To view logs ingested by Elastic Agent, go to <span class="strong strong"><strong>Discover</strong></span> and select the <a class="xref" href="observability-discover-and-explore-logs.html" title="Explore logs"><span class="strong strong"><strong>Logs Explorer</strong></span></a> tab. Refer to the <a class="xref" href="observability-filter-and-aggregate-logs.html" title="Filter and aggregate logs">Filter and aggregate logs</a> documentation for more on viewing and filtering your log data.</p>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="observability-correlate-application-logs.html">« Stream application logs</a>
</span>
<span class="next">
<a href="observability-ecs-application-logs.html">ECS formatted application logs »</a>
</span>
</div>
</body>
</html>
