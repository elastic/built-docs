<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>REST API | Shield Reference [2.2] | Elastic</title>
<link rel="home" href="index.html" title="Shield Reference [2.2]"/>
<link rel="up" href="reference.html" title="Reference"/>
<link rel="prev" href="ref-shield-files.html" title="Shield Files"/>
<link rel="next" href="limitations.html" title="Limitations"/>
<meta name="DC.type" content="Learn/Docs/Legacy/Shield/Reference/2.2"/>
<meta name="DC.subject" content="Shield"/>
<meta name="DC.identifier" content="2.2"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
From version 5.0 onward, Shield is part of X-Pack. For more information, see
<a href=https://www.elastic.co/guide/en/elastic-stack-overview/current/elasticsearch-security.html>
    Securing the Elastic Stack</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Shield Reference [2.2]</a></span>
»
<span class="breadcrumb-link"><a href="reference.html">Reference</a></span>
»
<span class="breadcrumb-node">REST API</span>
</div>
<div class="navheader">
<span class="prev">
<a href="ref-shield-files.html">« Shield Files</a>
</span>
<span class="next">
<a href="limitations.html">Limitations »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ref-shield-rest-api"></a>REST API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/2.2/docs/public/shield/reference.asciidoc">edit</a></h2>
</div></div></div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rest-info-api"></a>Info API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/2.2/docs/public/shield/reference.asciidoc">edit</a></h3>
</div></div></div>
<p>The Info API returns basic information about the Shield installation.</p>
<p>To get Shield info, submit a GET request to the <code class="literal">_shield</code> endpoint:</p>
<div class="pre_wrapper lang-sense">
<pre class="programlisting prettyprint lang-sense">GET _shield</pre>
</div>
<div class="sense_widget" data-snippet="snippets/6.sense"></div>
<p>A successful call returns a JSON structure that contains information
such as the plugin version and status:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">{
  "status": "enabled",
  "name": "Golden Archer",
  "cluster_name": "elasticsearch",
  "version": {
    "number": "2.2.0",
    "build_hash": "1f974b97ad2a18ed1999edb78575ad73e564ce57",
    "build_timestamp": "2016-01-06T22:39:20Z",
    "build_snapshot": false
  },
  "tagline": "You Know, for Security"
}</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="rest-clear-cache-api"></a>Clear Cache API<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/2.2/docs/public/shield/reference.asciidoc">edit</a></h3>
</div></div></div>
<p>The Clear Cache API evicts users from the user cache. You can completely clear the
cache or evict specific users.</p>
<p>For example, to evict all users cached by the default <code class="literal">esusers</code> realm:</p>
<div class="pre_wrapper lang-sense">
<pre class="programlisting prettyprint lang-sense">POST _shield/realm/default_esusers/_cache/clear</pre>
</div>
<div class="sense_widget" data-snippet="snippets/7.sense"></div>
<p>To evict selected users, specify the <code class="literal">usernames</code> parameter:</p>
<div class="pre_wrapper lang-sense">
<pre class="programlisting prettyprint lang-sense">POST _shield/realm/default_esusers/_cache/clear?usernames=rdeniro,alpacino'</pre>
</div>
<div class="sense_widget" data-snippet="snippets/8.sense"></div>
<p>To clear the caches for multiple realms, specify the realms as a comma-delimited list:</p>
<div class="pre_wrapper lang-java">
<pre class="programlisting prettyprint lang-java">$ curl -XPOST 'http://localhost:9200/_shield/realm/default_esusers,ldap1/_cache/clear'</pre>
</div>
<p>For more information, see <a class="xref" href="controlling-user-cache.html" title="Controlling the User Cache">Controlling the User Cache</a>.</p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="ref-shield-files.html">« Shield Files</a>
</span>
<span class="next">
<a href="limitations.html">Limitations »</a>
</span>
</div>
</div>
</body>
</html>
