<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Connecting Confluence Server | Workplace Search Guide [7.17] | Elastic</title>
<meta class="elastic" name="content" content="Connecting Confluence Server | Workplace Search Guide [7.17]">

<link rel="home" href="index.html" title="Workplace Search Guide [7.17]"/>
<link rel="up" href="workplace-search-content-sources.html" title="Content Sources Overview"/>
<link rel="prev" href="workplace-search-confluence-cloud-connector.html" title="Connecting Confluence Cloud"/>
<link rel="next" href="workplace-search-dropbox-connector.html" title="Connecting Dropbox"/>
<meta class="elastic" name="product_version" content="7.17"/>
<meta class="elastic" name="product_name" content="Workplace Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Workplace Search/Guide/7.17"/>
<meta name="DC.subject" content="Workplace Search"/>
<meta name="DC.identifier" content="7.17"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Workplace Search Guide<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="workplace-search-content-sources.html">Content Sources Overview</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="workplace-search-confluence-cloud-connector.html">« Connecting Confluence Cloud</a>
</span>
<span class="next">
<a href="workplace-search-dropbox-connector.html">Connecting Dropbox »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="workplace-search-confluence-server-connector"></a>Connecting Confluence Server<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.17/workplace-search-docs/guides/content-sources/confluence-server.asciidoc">edit</a></h2>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Instructions provided in this guide apply to <span class="strong strong"><strong>Confluence Server only</strong></span>. Refer to <a class="xref" href="workplace-search-confluence-cloud-connector.html" title="Connecting Confluence Cloud">Confluence Cloud</a> guide for more information.</p>
</div>
</div>
<p>Confluence Server is a team workspace, where knowledge and collaboration meet. Often used as an organizational wiki and intranet, it usually houses valuable information for staff across multiple areas of businesses, large and small. <span class="strong strong"><strong>The Confluence Server connector provided with Workplace Search automatically captures, syncs and indexes the following items:</strong></span></p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<tbody>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Spaces</strong></span></p></td>
<td align="left" valign="top"><p>Including ID, Content, Type, and timestamps</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Pages</strong></span></p></td>
<td align="left" valign="top"><p>Including ID, Content, Type, Comments, Project, Collaborators and timestamps</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Blog Posts</strong></span></p></td>
<td align="left" valign="top"><p>Including ID, Content, Type, Comments, Project, Collaborators and timestamps</p></td>
</tr>
<tr>
<td align="left" valign="top"><p><span class="strong strong"><strong>Attachments</strong></span></p></td>
<td align="left" valign="top"><p>Including ID, Size, Type, Comments, Project, Collaborators and timestamps</p></td>
</tr>
</tbody>
</table>
</div>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Workplace Search supports Confluence Server versions: <span class="strong strong"><strong>7.13.x</strong></span>, <span class="strong strong"><strong>7.2.1</strong></span>, <span class="strong strong"><strong>6.15.x</strong></span></p>
</div>
</div>
<div class="sidebar">
<div class="titlepage"><div><div>
<p class="title"><strong>Check the Elastic discussion forums for the latest information about your content source</strong></p>
</div></div></div>
<p>Workplace Search allows you to index third-party content sources.
Sometimes these apps will make unanticipated API changes that impact your content syncing and require an action.
We can&#8217;t always keep up in real time in this documentation!</p>
<p>Visit the <a href="https://discuss.elastic.co/c/enterprise-search/84" class="ulink" target="_blank" rel="noopener">Elastic discussion forum</a> to read the latest information and check for known issues.</p>
</div>
<h3><a id="confluence-server-configuration"></a>Configuring the Confluence Server Connector<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.17/workplace-search-docs/guides/content-sources/confluence-server.asciidoc">edit</a></h3>
<hr>
<p><span class="strong strong"><strong>Step 1.</strong></span> From the Workplace Search administrative dashboard&#8217;s <span class="strong strong"><strong>Sources</strong></span> area, locate Confluence Server and click <span class="strong strong"><strong>Configure</strong></span>. You are presented with a <span class="strong strong"><strong>Public Key</strong></span> and a <span class="strong strong"><strong>Consumer Key</strong></span>. Copy these keys and keep them handy, as we&#8217;ll need them in just a second.</p>
<hr>
<p><span class="strong strong"><strong>Step 2.</strong></span> Head to the Confluence Server administrative console and log in.</p>
<hr>
<p><span class="strong strong"><strong>Step 3.</strong></span> Click the <span class="strong strong"><strong>Gear</strong></span> in the top right corner and select <span class="strong strong"><strong>General Configuration</strong></span>:</p>
<div id="confluence-server-1" class="imageblock screenshot">
<div class="content">
<img src="images/guides/confluence-server/confluence-server-general-configuration.png" alt="">
</div>
<div class="title">Figure 18. Connecting Confluence Server</div>
</div>
<hr>
<p><span class="strong strong"><strong>Step 4.</strong></span> Locate <span class="strong strong"><strong>Application Links</strong></span> in the sidebar menu.</p>
<p>Provide the host for your Workplace Search deployment.</p>
<p>This varies with the user interface you are using to manage Enterprise Search. Enterprise Search in Kibana will use your Kibana host and standalone Enterprise Search will use the Enterprise Search host. See <a href="/guide/en/enterprise-search/7.17/user-interfaces.html" class="ulink" target="_top">user interfaces</a> for details on each UI.</p>
<p>If you are using standalone Enterprise Search, you will use your Enterprise Search host.</p>
<p><em>Standalone Enterprise Search Examples:</em></p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml"># Deployment using a custom domain name
https://www.example.com

# Deployment using a default Elastic Cloud domain name
https://c3397e558e404195a982cb68e84fbb42.ent-search.us-east-1.aws.found.io:443

# Unsecured local development environment
http://localhost:3002</pre>
</div>
<p>If you are using Enterprise Search in Kibana, you will use your Kibana host. This is the same host you set in <code class="literal">kibana.external_url</code> in your <code class="literal">enterprise-search.yml</code>.</p>
<p><em>Enterprise Search in Kibana Examples:</em></p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml"># Deployment using a custom domain name for Kibana
https://www.example.com

# Deployment using a default Elastic Cloud domain name for Kibana
https://c3397e558e404195a982cb68e84fbb42.kb.us-east-1.aws.found.io:443

# Unsecured local Kibana environment
http://localhost:5601</pre>
</div>
<p>Once you have set the host click <span class="strong strong"><strong>Create new link</strong></span>:</p>
<div id="confluence-server-2" class="imageblock screenshot">
<div class="content">
<img src="images/guides/confluence-server/confluence-server-application-links.png" alt="">
</div>
<div class="title">Figure 19. Connecting Confluence Server</div>
</div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This operation will fail, and is normal behavior for the time being.</p>
</div>
</div>
<hr>
<p><span class="strong strong"><strong>Step 5.</strong></span> Confirm the link, and proceed. A modal appears. Provide the information accordingly:</p>
<div id="confluence-server-3" class="imageblock screenshot">
<div class="content">
<img src="images/guides/confluence-server/confluence-server-link-application.png" alt="">
</div>
<div class="title">Figure 20. Connecting Confluence Server</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Application Name</strong></span>: Elastic Workplace Search
</li>
<li class="listitem">
<span class="strong strong"><strong>Application Type</strong></span>: Generic Application
</li>
<li class="listitem">
<span class="strong strong"><strong>Service Provider Name</strong></span>: Elastic
</li>
<li class="listitem">
<span class="strong strong"><strong>Consumer key, Shared secret, Request Token URL, Access token URL, Authorize URL</strong></span>: Any random value. A simple period will do.
</li>
<li class="listitem">
<span class="strong strong"><strong>Create incoming link</strong></span>: Check this box.
</li>
</ul>
</div>
<p>Click <span class="strong strong"><strong>Continue</strong></span>.</p>
<hr>
<p><span class="strong strong"><strong>Step 6.</strong></span> A final modal appears:</p>
<div id="confluence-server-4" class="imageblock screenshot">
<div class="content">
<img src="images/guides/confluence-server/confluence-server-add-key.png" alt="">
</div>
<div class="title">Figure 21. Connecting Confluence Server</div>
</div>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Consumer Key</strong></span>: The Consumer Key from Workplace Search
</li>
<li class="listitem">
<span class="strong strong"><strong>Consumer Name</strong></span>: Elastic
</li>
<li class="listitem">
<span class="strong strong"><strong>Public Key</strong></span>: The Public Key from Workplace Search you&#8217;ve previously copied.
</li>
</ul>
</div>
<p>Click <span class="strong strong"><strong>Continue</strong></span>.</p>
<hr>
<p><span class="strong strong"><strong>Step 7.</strong></span> Back to the Workplace Search administrative dashboard, enter the appropriate Confluence Server <span class="strong strong"><strong>Base URI</strong></span>. Do not include a trailing slash.</p>
<hr>
<p><span class="strong strong"><strong>Step 8.</strong></span> Save the configuration. Voilà! The Confluence Server connector is now configured, and ready to be used to synchronize content. In order to capture data, you must now connect a Confluence Server instance with the adequate authentication credentials.</p>
<h3><a id="confluence-server-connection"></a>Connecting Confluence Server to Workplace Search<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.17/workplace-search-docs/guides/content-sources/confluence-server.asciidoc">edit</a></h3>
<p>Once the Confluence Server connector has been configured, you may connect a Confluence Server instance to your organization.</p>
<hr>
<p><span class="strong strong"><strong>Step 1.</strong></span> Head to your organization&#8217;s Workplace Search administrative dashboard, and locate the <span class="strong strong"><strong>Sources</strong></span> tab.</p>
<hr>
<p><span class="strong strong"><strong>Step 2.</strong></span> Click <span class="strong strong"><strong>Add a new source</strong></span>.</p>
<hr>
<p><span class="strong strong"><strong>Step 3.</strong></span> Select <span class="strong strong"><strong>Confluence Server</strong></span> in the <em>Configured Sources</em> list, and follow the Confluence Server authentication flow as presented.</p>
<hr>
<p><span class="strong strong"><strong>Step 4.</strong></span> Upon the successful authentication flow, you will be redirected to Workplace Search.</p>
<p>Confluence Server content will now be captured and will be ready for search gradually as it is synced. Once successfully configured and connected, the Confluence Server synchronization automatically occurs every <span class="strong strong"><strong>2 hours</strong></span>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="confluence-server-fields"></a>Synchronized fields<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.17/workplace-search-docs/guides/content-sources/confluence-server.asciidoc">edit</a></h3>
</div></div></div>
<p>The following table lists the fields synchronized from the connected source to Workplace Search. The attributes in the table apply to the default search application, as follows:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<span class="strong strong"><strong>Display name</strong></span> - The label used when displayed in the UI
</li>
<li class="listitem">
<span class="strong strong"><strong>Field name</strong></span> - The name of the underlying field attribute
</li>
<li class="listitem">
<span class="strong strong"><strong>Faceted filter</strong></span> - whether the field is a faceted filter by default, or can be enabled (see also: <a class="xref" href="workplace-search-customizing-filters.html" title="Customizing content source filters">Customizing filters</a>)
</li>
<li class="listitem">
<span class="strong strong"><strong>Automatic query refinement preceding phrases</strong></span> - The default list of phrases that must precede a value of this field in a search query in order to automatically trigger query refinement. If "None," a value from this field may trigger refinement regardless of where it is found in the query string. If <code class="literal">''</code>, a value from this field must be the first token(s) in the query string. If <code class="literal">N.A.</code>, automatic query refinement is not available for this field by default. All fields that have a faceted filter (<code class="literal">default</code> or <code class="literal">configurable</code>) can also be configured for automatic query refinement; see also <a class="xref" href="workplace-search-content-sources-api.html#update-content-source-api" title="Update a content source">Update a content source</a>, <a class="xref" href="workplace-search-content-sources-api.html#get-automatic-query-refinement-details-api" title="Get a content source&#8217;s automatic query refinement details">Get a content source&#8217;s automatic query refinement details</a> and <a class="xref" href="workplace-search-customizing-filters.html" title="Customizing content source filters">Customizing filters</a>.
</li>
</ul>
</div>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
<col class="col_3"/>
<col class="col_4"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Display name</th>
<th align="left" valign="top">Field name</th>
<th align="left" valign="top">Faceted filter</th>
<th align="left" valign="top">Automatic query refinement prceeding phrases</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p>Id</p></td>
<td align="left" valign="top"><p><code class="literal">id</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>URL</p></td>
<td align="left" valign="top"><p><code class="literal">url</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Title</p></td>
<td align="left" valign="top"><p><code class="literal">title</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Type</p></td>
<td align="left" valign="top"><p><code class="literal">type</code></p></td>
<td align="left" valign="top"><p>Default</p></td>
<td align="left" valign="top"><p>None</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Description</p></td>
<td align="left" valign="top"><p><code class="literal">description</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Body</p></td>
<td align="left" valign="top"><p><code class="literal">body</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Comments</p></td>
<td align="left" valign="top"><p><code class="literal">comments</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Created by</p></td>
<td align="left" valign="top"><p><code class="literal">created_by</code></p></td>
<td align="left" valign="top"><p>Default</p></td>
<td align="left" valign="top"><p>[<code class="literal">creator is</code>, <code class="literal">created by</code>, <code class="literal">edited by</code>, <code class="literal">modified by</code>]</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Project</p></td>
<td align="left" valign="top"><p><code class="literal">project</code></p></td>
<td align="left" valign="top"><p>Default</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Created at</p></td>
<td align="left" valign="top"><p><code class="literal">created_at</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Updated at</p></td>
<td align="left" valign="top"><p><code class="literal">updated_at</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Last updated</p></td>
<td align="left" valign="top"><p><code class="literal">last_updated</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Size</p></td>
<td align="left" valign="top"><p><code class="literal">size</code></p></td>
<td align="left" valign="top"><p>No</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Container</p></td>
<td align="left" valign="top"><p><code class="literal">container</code></p></td>
<td align="left" valign="top"><p>Configurable</p></td>
<td align="left" valign="top"><p>N.A.</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Media type</p></td>
<td align="left" valign="top"><p><code class="literal">mime_type</code></p></td>
<td align="left" valign="top"><p>Configurable</p></td>
<td align="left" valign="top"><p>None</p></td>
</tr>
<tr>
<td align="left" valign="top"><p>Extension</p></td>
<td align="left" valign="top"><p><code class="literal">extension</code></p></td>
<td align="left" valign="top"><p>Configurable</p></td>
<td align="left" valign="top"><p>None</p></td>
</tr>
</tbody>
</table>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="workplace-search-confluence-cloud-connector.html">« Connecting Confluence Cloud</a>
</span>
<span class="next">
<a href="workplace-search-dropbox-connector.html">Connecting Dropbox »</a>
</span>
</div>
</div>
</body>
</html>
