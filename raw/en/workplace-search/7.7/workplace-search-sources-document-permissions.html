<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Managing Document Access &amp; Permissions for Content Sources | Workplace Search Guide [7.7] | Elastic</title>
<meta class="elastic" name="content" content="Managing Document Access &amp; Permissions for Content Sources | Workplace Search Guide [7.7]">

<link rel="home" href="index.html" title="Workplace Search Guide [7.7]"/>
<link rel="up" href="workplace-search-permissions.html" title="Permissions &amp; Access Control"/>
<link rel="prev" href="workplace-search-permissions.html" title="Permissions &amp; Access Control"/>
<link rel="next" href="workplace-search-document-permissions.html" title="Defining Document Permissions for Custom Sources"/>
<meta class="elastic" name="product_version" content="7.7"/>
<meta class="elastic" name="product_name" content="Workplace Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Workplace Search/Guide/7.7"/>
<meta name="DC.subject" content="Workplace Search"/>
<meta name="DC.identifier" content="7.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<strong>IMPORTANT</strong>: No additional bug fixes or documentation updates
will be released for this version. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="workplace-search-permissions.html">« Permissions &amp; Access Control</a>
</span>
<span class="next">
<a href="workplace-search-document-permissions.html">Defining Document Permissions for Custom Sources »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Workplace Search Guide<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="workplace-search-permissions.html">Permissions &amp; Access Control</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Managing Document Access &amp; Permissions for Content Sources</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="workplace-search-sources-document-permissions"></a>Managing Document Access &amp; Permissions for Content Sources<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h2>
</div></div></div>

<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>The following guide applies to <span class="strong strong"><strong>first-party content sources</strong></span>. For more information on Custom Sources, visit the <a class="xref" href="workplace-search-document-permissions.html" title="Defining Document Permissions for Custom Sources">Document permissions for Custom Sources</a> guide.</p>
</div>
</div>
<p>Workplace Search is designed to provide a tailored search experience to every user for best-in-class relevance and privacy. Every user on the platform has a unique perspective on the content they collaborate on and consume over time. By creating a personalized view into the sources and documents that support their daily tasks, Workplace Search creates an engaging and sticky knowledge platform for contributors from all horizons.</p>
<p>There are many strategies that can be used to ensure relevance, security, and privacy at scale. This guide provides all the necessary pointers to help you make the best use of all access features, based on your organization&#8217;s needs.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="workplace-search-sources-document-permissions.html#sources-permissions-org-private" title="Organizational Sources and Private Sources">Organizational Sources and Private Sources</a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-sources-document-permissions.html#sources-permissions-strategy" title="Which strategy should I choose?">Which strategy should I choose?</a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-sources-document-permissions.html#sources-permissions-synchronizing" title="Synchronizing document-level permission information">Synchronizing document-level permission information</a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-sources-document-permissions.html#sources-permissions-private-sources" title="Enabling Private Sources">Enabling Private Sources</a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-sources-document-permissions.html#sources-permissions-additional" title="Further Reading">Further Reading</a>
</li>
</ul>
</div>
<hr>
<h3><a id="sources-permissions-org-private"></a>Organizational Sources and Private Sources<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h3>
<p>Content sources represent one of the atomic units of Workplace Search. A content source is a repository of information made accessible to a user or collection of users, based on a number of parameters.</p>
<p>To better understand the hierarchy of access, let&#8217;s break down the three sharing levels:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<span class="strong strong"><strong>Organizational source, all users:</strong></span> also known as shared sources, connected by an administrative user of Workplace Search, usually with an account with access limited to globally available information or documents.
</li>
<li class="listitem">
<span class="strong strong"><strong>Organizational source, specific groups:</strong></span> also known as shared sources, connected by an administrative user of Workplace Search, usually with an account with access limited to information or documents generally available to members of a group, like an engineering or marketing team.
</li>
<li class="listitem">
<span class="strong strong"><strong>Private source:</strong></span> connected by a user, with personal credentials to the content source. The source must first be configured by an administrative user, and then it can be connected by an individual user. Afterwards, the content is available to the connecting user exclusively.
</li>
</ol>
</div>
<div id="access-strategies-1" class="imageblock screenshot">
<div class="content">
<img src="images/access-strategy-global-split.png" alt="">
</div>
</div>
<p>Organizational sources are always connected by Workplace Search administrative users. The account credentials used to connect the source can be one of two types:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
A <span class="strong strong"><strong>standard user</strong></span> of the platform being connected, with restricted access to certain documents — in general mapping exactly with the group structure at the Workplace Search level.
</li>
<li class="listitem">
A <span class="strong strong"><strong>superadmin user</strong></span> of the platform with access to document-level permission information for the source being synchronized.
</li>
</ol>
</div>
<p>When using a <span class="strong strong"><strong>standard user</strong></span>, all documents accessible to the user will be synchronized and be made available to the organization&#8217;s users, or group&#8217;s users. Documents are immediately available for search.</p>
<p>When a <span class="strong strong"><strong>superadmin user</strong></span> is used to connect a source that supports document-level access synchronization, all documents found on the platform are indexed, along with access information for each file, record, and document. For documents to be searchable, permission information mapping must be provided via the <a class="xref" href="workplace-search-external-identities-api.html" title="External Identities API Reference">External Identities API reference</a>. Not all content platforms offer superadmin user privileges.</p>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>Refer to <a class="xref" href="workplace-search-content-sources.html" title="Content Sources Overview"><em>Content sources</em></a> guides to learn more on each connector&#8217;s ability to extract and synchronize document-level access information.</p>
</div>
</div>
<hr>
<h3><a id="sources-permissions-strategy"></a>Which strategy should I choose?<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h3>
<p>Perhaps the most effective way to understand the various strategies is to look at some practical examples.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_organization_wide_intranet"></a><em>Organization-Wide Intranet</em><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h3>
</div></div></div>
<p>If your organization uses a platform like Confluence to power internal knowledge sharing via an Intranet-style portal, you could choose to create a user with access limited to all global spaces and articles, which should represent most of the information available on the platform. Concretely, this means using the Confluence integration provided with Workplace Search, with document permission synchronization turned off, and access granted via a <em>workplace-search-global-confluence@acme.co</em> <span class="strong strong"><strong>standard user</strong></span>. All information available will be made searchable as is to all users of the Workplace Search platform.</p>
<div id="access-strategies-2" class="imageblock screenshot">
<div class="content">
<img src="images/access-strategy-global-standard.png" alt="">
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_team_wide_legal_document_repository"></a><em>Team-Wide Legal Document Repository</em><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h3>
</div></div></div>
<p>Perhaps your Legal team uses OneDrive as a way to store and collaborate on all contracts created for your organization. You may deem the content to be a little too sensitive for your Accounting and Engineering teams. You may choose to connect the source as a group-specific source, with a <em>workplace-search-legal-team@acme.co</em> <span class="strong strong"><strong>standard user</strong></span> created at the OneDrive level, with document permission synchronization turned off.</p>
<div id="access-strategies-3" class="imageblock screenshot">
<div class="content">
<img src="images/access-strategy-team-specific-standard.png" alt="">
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_high_traffic_productivity_suite"></a><em>High-Traffic Productivity Suite</em><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h3>
</div></div></div>
<p>Some content repositories are both personal and team-driven by nature. For example, Google Drive often encompasses a mix of globally available content via Team Drives, group-level items via shared documents, and personal documents, like Google Docs and Sheets used on a daily basis. For cases like this one, a <span class="strong strong"><strong>superadmin account</strong></span> can be used to connect the source, with document permission synchronization enabled. This way, all documents found for every user of the source will be extracted along with the associated access data.</p>
<div id="access-strategies-4" class="imageblock screenshot">
<div class="content">
<img src="images/access-strategy-global-superadmin.png" alt="">
</div>
</div>
<hr>
<h3><a id="sources-permissions-synchronizing"></a>Synchronizing document-level permission information<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h3>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_first_party_content_sources"></a><em>First-party content sources</em><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h3>
</div></div></div>
<p>Document permission synchronization can be enabled for sources when connecting an instance to Workplace Search (support may vary). When selected, document access information must be explicitly mapped to user values as they appear on the Workplace Search platform.</p>
<p>Using the <a class="xref" href="workplace-search-external-identities-api.html" title="External Identities API Reference">External Identities API reference</a>, you may provide the external <code class="literal">source_user_id</code> and link it to its associated Workplace Search <code class="literal">user</code>:</p>
<div class="pre_wrapper lang-json">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-json">{
	"source_user_id": "john.doe@example.com",
	"user": "john.doe"
}</pre>
</div>
<div class="warning admon">
<div class="icon"></div>
<div class="admon_content">
<p><span class="strong strong"><strong>Document-level permissions are not supported with SAML-enabled Workplace Search deployments.</strong></span></p>
</div>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_custom_sources"></a><em>Custom Sources</em><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h3>
</div></div></div>
<p>Custom Sources allow you to ingest document access information using the <code class="literal">_allow_permissions</code> and <code class="literal">_deny_permissions</code> fields. For more information, refer to <a class="xref" href="workplace-search-custom-api-sources.html" title="Connecting Custom Sources">Custom API sources</a> guide.</p>
<hr>
<h3><a id="sources-permissions-private-sources"></a>Enabling Private Sources<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h3>
<p>Privates sources are easily enabled from the Security area in the Workplace Search administrative dashboard. Once enabled, users of the platform will be allowed to connect any configured source with their own credentials. Learn more about <a class="xref" href="workplace-search-content-sources.html#oauth-first-party-content-sources" title="Configuring First-Party Content Sources">Configuring First-Party Content Sources</a>.</p>
<p>An individual synchronization process will be created, and automatically run at a set interval, similar to Organizational Sources. Every new Private Source creates a new copy of the content in the search index, which can only be accessed by the user who created the Private Source.</p>
<hr>
<h3><a id="sources-permissions-additional"></a>Further Reading<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/7.7/workplace-search-docs/guides/permissions/sources-document-permissions.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="workplace-search-document-permissions.html" title="Defining Document Permissions for Custom Sources">Document permissions for Custom Sources</a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-external-identities-api.html" title="External Identities API Reference">External Identities API reference</a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-content-sources.html" title="Content Sources Overview"><em>Content sources</em></a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-custom-api-sources.html" title="Connecting Custom Sources">Custom API sources</a>
</li>
</ul>
</div>
</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="workplace-search-permissions.html">« Permissions &amp; Access Control</a>
</span>
<span class="next">
<a href="workplace-search-document-permissions.html">Defining Document Permissions for Custom Sources »</a>
</span>
</div>
</body>
</html>
