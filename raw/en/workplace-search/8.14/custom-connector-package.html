<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Custom connector packages | Workplace Search documentation [8.14] | Elastic</title>
<meta class="elastic" name="content" content="Custom connector packages | Workplace Search documentation [8.14]">

<link rel="home" href="index.html" title="Workplace Search documentation [8.14]"/>
<link rel="up" href="workplace-search-content-sources.html" title="Content Sources Overview"/>
<link rel="prev" href="workplace-search-content-sources.html" title="Content Sources Overview"/>
<link rel="next" href="workplace-search-custom-api-sources.html" title="Connecting custom sources"/>
<meta class="elastic" name="product_version" content="8.14"/>
<meta class="elastic" name="product_name" content="Workplace Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Workplace Search/Guide/8.14"/>
<meta name="DC.subject" content="Workplace Search"/>
<meta name="DC.identifier" content="8.14"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
For new users, we recommend using our Elasticsearch-native tools, rather than the standalone Workplace Search product.
See <a href="https://www.elastic.co/blog/evolution-workplace-search-private-data-elasticsearch"><strong>this blog post</strong></a> for more information about upgrading your internal knowledge search, to make it an amazing experience for your users!
</div>
<div class="navheader">
<span class="prev">
<a href="workplace-search-content-sources.html">« Content Sources Overview</a>
</span>
<span class="next">
<a href="workplace-search-custom-api-sources.html">Connecting custom sources »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
<div id="related-products" class="dropdown">
<div class="related-products-title"></div>
<div class="dropdown-anchor" tabindex="0">Workplace Search<span class="dropdown-icon"></span></div>
<div class="dropdown-content">
<ul>
<li class="dropdown-category">Enterprise Search guides</li>
<ul>
<li><a href="/guide/en/enterprise-search/current/index.html" target="_blank">Enterprise Search</a></li>
<li><a href="/guide/en/app-search/current/index.html" target="_blank">App Search</a></li>
<li><a href="/guide/en/workplace-search/current/index.html" target="_blank">Workplace Search</a></li>
</ul>
<li class="dropdown-category">Programming language clients</li>
<ul>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/enterprise-search-node/current/index.html" target="_blank">Node.js client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/php/current/index.html" target="_blank">PHP client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/python/current/index.html" target="_blank">Python client</a></li>
<li><a href="https://www.elastic.co/guide/en/enterprise-search-clients/ruby/current/index.html" target="_blank">Ruby client</a></li>
</ul>
</ul>
</div>
</div>
</span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="workplace-search-content-sources.html">Content Sources Overview</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Custom connector packages</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/workplace-search-docs/guides/content-sources/custom-connector-package.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="custom-connector-package"></a>Custom connector packages<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/workplace-search-docs/guides/content-sources/custom-connector-package.asciidoc">edit</a></h2>
</div></div></div>
<div class="caution admon">
<div class="icon"></div>
<div class="admon_content">
<p>This feature is in <span class="strong strong"><strong>technical preview</strong></span>.
Features in technical preview are subject to change and are not covered by the service level agreement (SLA) of features that have reached general availability (GA).</p>
</div>
</div>
<p>From the beginning, Elastic Workplace Search has provided <a class="xref" href="workplace-search-content-sources.html" title="Content Sources Overview">content sources</a> with integrated connectors for popular content services such as Dropbox, GitHub, Google Drive, and many more.
These connectors automatically pull data from these services, according to a schedule.
From this data, they extract and index content to optimize it for search.</p>
<p>Although these connectors provide some flexibility through the Workplace Search API and the Kibana UI, they trade off additional flexibility to be as easy as possible to use.
Users are limited to the features of these connectors and to the set of content services to which they connect.</p>
<p>To offer more flexibility, Workplace Search has always provided <a class="xref" href="workplace-search-custom-api-sources.html" title="Connecting custom sources">custom sources</a>.
A custom source does not provide a connector.
It is essentially an index into which you can push content that you extract on your own.
Users have complete flexibility but they must write their own code to manage scheduling, extracting, and indexing.</p>
<p>With version 8.2, Workplace Search introduced <span class="strong strong"><strong>connector packages</strong></span>.
A connector package pairs a custom source with a connector that you run on your own infrastructure.
Because the code is open, users can modify the connector for greater flexibility.
At the same time, the solution provides many conveniences of a connector, such as automatic scheduling, extraction, and indexing.
However, users are still limited to the set of content services for which Elastic provides these connector packages.</p>
<p>With version 8.3, Workplace Search introduced <span class="strong strong"><strong>custom connector packages</strong></span> (in technical preview).
Using a software development kit (SDK) for Ruby, users can create their own connector packages, enabling connections to any content service.
The SDK provides a partial connector implementation.
Complete the implementation to create a connector that uses the familiar Workplace Search model for scheduling, extraction, and indexing.</p>
<p>Before using this feature, review the <a class="xref" href="custom-connector-package.html#custom-connector-package-issues" title="Known issues and limitations">known issues and limitations</a> and learn how to <a class="xref" href="custom-connector-package.html#custom-connector-package-help-feedback" title="Getting help and providing feedback">get help and provide feedback</a>.
When you&#8217;re ready to get started, see <a class="xref" href="custom-connector-package.html#custom-connector-package-usage" title="Creating a custom connector package">Creating a custom connector package</a>.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="custom-connector-package-issues"></a>Known issues and limitations<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/workplace-search-docs/guides/content-sources/custom-connector-package.asciidoc">edit</a></h3>
</div></div></div>
<p>Custom connector packages are available now in technical preview.
This preview enables you to experiment with this feature and evaluate it for your use case.
While in preview, there are several ways to <a class="xref" href="custom-connector-package.html#custom-connector-package-help-feedback" title="Getting help and providing feedback">get help and provide feedback</a>.</p>
<p>The following connector packages provided by Elastic were built using the same SDK provided for custom connector packages:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="confluence-cloud.html" title="Confluence Cloud connector package">Confluence Cloud connector package</a>
</li>
<li class="listitem">
<a class="xref" href="sharepoint-online-external.html" title="SharePoint Online connector package">SharePoint Online connector package</a>
</li>
</ul>
</div>
<p>Each Elastic deployment can connect only one connector using this SDK.
Therefore, <span class="strong strong"><strong>when using a <em>custom</em> connector package, you cannot use any of the above connector packages</strong></span>.</p>
<p>(Elastic also has connector packages implemented in Python, such as SharePoint Server and network drives.
These packages may still be used when using the SDK for Ruby.)</p>
<p>The <a href="https://github.com/elastic/connectors-ruby/tree/8.3" class="ulink" target="_blank" rel="noopener">elastic/connectors GitHub repository</a> is under active development.
<span class="strong strong"><strong>When developing a custom connector package for Workplace Search, use the <code class="literal">8.3</code> branch of the repository.</strong></span>
All links within this documentation point to the <code class="literal">8.3</code> branch.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="custom-connector-package-help-feedback"></a>Getting help and providing feedback<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/workplace-search-docs/guides/content-sources/custom-connector-package.asciidoc">edit</a></h3>
</div></div></div>
<p>While using this preview feature, use any of the following resources to request help and provide feedback:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://discuss.elastic.co/c/enterprise-search/workplace-search" class="ulink" target="_blank" rel="noopener">Workplace Search community forum</a>
</li>
<li class="listitem">
<a href="http://elasticstack.slack.com" class="ulink" target="_blank" rel="noopener">Elastic community on Slack</a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors/issues" class="ulink" target="_blank" rel="noopener">GitHub issues for the <code class="literal">elastic/connectors</code> repository</a>
</li>
<li class="listitem">
Elastic Support - See <a href="/support/welcome" class="ulink" target="_blank" rel="noopener">Working with Elastic Support</a> for eligibility
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="custom-connector-package-usage"></a>Creating a custom connector package<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/workplace-search-docs/guides/content-sources/custom-connector-package.asciidoc">edit</a></h3>
</div></div></div>
<p>The following sections provide enough information to get started.
As you develop, there are several ways to <a class="xref" href="custom-connector-package.html#custom-connector-package-help-feedback" title="Getting help and providing feedback">get help and provide feedback</a>.</p>
<p>The process to create a custom connector package is described in the following steps:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
<a class="xref" href="custom-connector-package.html#custom-connector-package-development-environment" title="Set up and learn your development environment">Set up and learn your development environment</a>
</li>
<li class="listitem">
<a class="xref" href="custom-connector-package.html#custom-connector-package-development" title="Develop and test the connector">Develop and test the connector</a>
</li>
<li class="listitem">
<a class="xref" href="custom-connector-package.html#custom-connector-package-production" title="Move to production">Move to production</a>
</li>
<li class="listitem">
<a class="xref" href="custom-connector-package.html#custom-connector-package-distribution" title="(Optionally) share your connector package">(Optionally) share your connector package</a>
</li>
</ol>
</div>
<p>Additionally, the following Elastic blog post provides a walkthrough for creating a specific connector (GitLab):
<a href="/blog/bring-your-own-enterprise-search-connector" class="ulink" target="_blank" rel="noopener">You have more ways to bake this cake: Bring your own Enterprise Search connector</a>.
The blog post goes into much more detail than this documentation, but its examples are limited to one content service.
The following documentation provides examples for multiple content services.</p>
<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="custom-connector-package-development-environment"></a>Set up and learn your development environment<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/workplace-search-docs/guides/content-sources/custom-connector-package.asciidoc">edit</a></h4>
</div></div></div>
<p>The <a href="https://github.com/elastic/connectors-ruby/tree/8.3" class="ulink" target="_blank" rel="noopener">elastic/connectors GitHub repository</a> (8.3 branch) contains the connector SDK for Ruby and example connector implementations.
To create your own connector package, fork the repository and refer to the following documentation for connector developers:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/README.md" class="ulink" target="_blank" rel="noopener">README</a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/docs/DEVELOPING.md" class="ulink" target="_blank" rel="noopener">Developers guide</a>
</li>
</ul>
</div>
<p>These docs explain how to set up and confirm your development environment to ensure you can run the connectors server.
After you have this application running, you can develop your own connector and use this application to run your connector.</p>
<p>In short, you should complete the following steps to confirm your development environment:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Fork the repository
</li>
<li class="listitem">
Install dependencies
</li>
<li class="listitem">
Generate an API key
</li>
<li class="listitem">
Create the connectors configuration file
</li>
<li class="listitem">
Start the connectors application server
</li>
<li class="listitem">
Send an HTTP request to the currently running connector
</li>
<li class="listitem">
Stop the connectors application server
</li>
</ol>
</div>
<p>You may also want to complete the following to get more familiar with the environment:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Run the connectors test suite
</li>
<li class="listitem">
Open a Ruby console
</li>
<li class="listitem">
Review all <code class="literal">make</code> targets in the <a href="https://github.com/elastic/connectors-ruby/blob/8.3/Makefile" class="ulink" target="_blank" rel="noopener">Makefile</a>
</li>
</ul>
</div>
<p>You will also need access to the content service you are targeting (example: GitLab) and you&#8217;ll need an Elastic deployment.
While developing a connector, we recommend running your Elastic deployment using Docker.
See <a href="/guide/en/enterprise-search/8.14/docker.html" class="ulink" target="_blank" rel="noopener">Running Enterprise Search using Docker</a> in the Enterprise Search documentation.</p>
<p><a href="/guide/en/enterprise-search/8.14/configuration.html" class="ulink" target="_blank" rel="noopener">Configure</a> the following Enterprise Search settings to bypass SSL during local development:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="/guide/en/enterprise-search/8.14/configuration.html#configuration-setting-workplace-search-content-source-external-unsafe-backend-allowed" class="ulink" target="_blank" rel="noopener"><code class="literal">workplace_search.content_source.external.unsafe_backend_allowed: true</code></a>
</li>
<li class="listitem">
<a href="/guide/en/enterprise-search/8.14/configuration.html#configuration-setting-workplace-search-content-source-localhost-base-urls-enabled" class="ulink" target="_blank" rel="noopener"><code class="literal">workplace_search.content_source.localhost_base_urls.enabled: true</code></a>
</li>
</ul>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="custom-connector-package-development"></a>Develop and test the connector<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/workplace-search-docs/guides/content-sources/custom-connector-package.asciidoc">edit</a></h4>
</div></div></div>
<p>After you are familiar with the development environment, you can begin developing your connector.
The <a href="https://github.com/elastic/connectors-ruby/tree/8.3" class="ulink" target="_blank" rel="noopener">elastic/connectors GitHub repository</a> (8.3 branch) contains several complete connector implementations and code shared by all connectors developed with this SDK.
The shared code acts as a partial connector implementation.
You will need to complete your connector using the other connector implementations as examples.</p>
<p>At a high level, develop your connector using the following workflow:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Set your custom connector as the current connector within the connectors configuration file
</li>
<li class="listitem">
Set any additional configuration required for your connector in the connectors configuration file
</li>
<li class="listitem">
Register your connector with the SDK
</li>
<li class="listitem">
Iteratively implement the connector interface in Ruby (see below)
</li>
<li class="listitem">
Iteratively test the HTTP responses from the connector (see below)
</li>
<li class="listitem">
Connect your Enterprise Search deployment to the connector and test the integration
</li>
</ol>
</div>
<p>Additionally, the following Elastic blog post provides a walkthrough for creating a specific connector (GitLab):
<a href="/blog/bring-your-own-enterprise-search-connector" class="ulink" target="_blank" rel="noopener">You have more ways to bake this cake: Bring your own Enterprise Search connector</a>.
The blog post goes into much more detail than this documentation, but its examples are limited to one content service.
The following documentation provides examples for multiple content services.</p>
<p>To implement the connector interface in Ruby, review the existing connector implementations and shared code.
Refer to the following examples:</p>
<p>The <span class="strong strong"><strong>SDK</strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/tree/8.3/lib/connectors_sdk/" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/</code></a>
</li>
</ul>
</div>
<p>Inclues a <span class="strong strong"><strong>connector registry</strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/base/registry.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/base/registry.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/base/registry_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/base/registry_spec.rb</code></a>
</li>
</ul>
</div>
<p>That registers <span class="strong strong"><strong>connectors</strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/base/connector.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/base/connector.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/base/connector_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/base/connector_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/stub_connector/connector.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/stub_connector/connector.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/stubs/connectors_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/stubs/connectors_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/confluence_cloud/connector.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/confluence_cloud/connector.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/confluence_cloud/connector_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/confluence_cloud/connector_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/gitlab/connector.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/gitlab/connector.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/gitlab/connector_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/gitlab/connector_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/share_point/connector.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/share_point/connector.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/sharepoint/connector_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/sharepoint/connector_spec.rb</code></a>
</li>
</ul>
</div>
<p>Each of which may use an <span class="strong strong"><strong>authorization</strong></span> implementation:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/base/authorization.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/base/authorization.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/base/authorization_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/base/authorization_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/confluence_cloud/authorization.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/confluence_cloud/authorization.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/share_point/authorization.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/share_point/authorization.rb</code></a>
</li>
</ul>
</div>
<p>And a <span class="strong strong"><strong>configuration</strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/base/config.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/base/config.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/base/config_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/base/config_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/atlassian/config.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/atlassian/config.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/gitlab/config.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/gitlab/config.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/office365/config.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/office365/config.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/office365/config_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/office365/config_spec.rb</code></a>
</li>
</ul>
</div>
<p>And a <span class="strong strong"><strong>custom client</strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/base/custom_client.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/base/custom_client.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/base/custom_client_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/base/custom_client_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/atlassian/custom_client.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/atlassian/custom_client.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/atlassian/custom_client_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/atlassian/custom_client_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/confluence/custom_client.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/confluence/custom_client.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/confluence/custom_client_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/confluence/custom_client_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/confluence_cloud/custom_client.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/confluence_cloud/custom_client.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/confluence_cloud/custom_client_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/confluence_cloud/custom_client_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/gitlab/custom_client.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/gitlab/custom_client.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/office365/custom_client.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/office365/custom_client.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/office365/custom_client_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/office365/custom_client_spec.rb</code></a>
</li>
</ul>
</div>
<p>And an <span class="strong strong"><strong>extractor</strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/base/extractor.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/base/extractor.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/base/extractor_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/base/extractor_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/confluence/extractor.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/confluence/extractor.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/confluence/extractor_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/confluence/extractor_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/confluence_cloud/extractor.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/confluence_cloud/extractor.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/confluence_cloud/extractor_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/confluence_cloud/extractor_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/gitlab/extractor.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/gitlab/extractor.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/gitlab/extractor_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/gitlab/extractor_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/office365/extractor.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/office365/extractor.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/office365/extractor_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/office365/extractor_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/share_point/extractor.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/share_point/extractor.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/sharepoint/extractor_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/sharepoint/extractor_spec.rb</code></a>
</li>
</ul>
</div>
<p>Each extractor may make use of an <span class="strong strong"><strong>adapter</strong></span>:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/base/adapter.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/base/adapter.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/base/adapter_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/base/adapter_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/confluence/adapter.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/confluence/adapter.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/confluence/adapter_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/confluence/adapter_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/gitlab/adapter.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/gitlab/adapter.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/gitlab/adapter_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/gitlab/adapter_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/office365/adapter.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/office365/adapter.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/office365/adapter_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/office365/adapter_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_sdk/share_point/adapter.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_sdk/share_point/adapter.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_sdk/sharepoint/adapter_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_sdk/sharepoint/adapter_spec.rb</code></a>
</li>
</ul>
</div>
<p>All of the above rely on shared code, some of which you may want to use in your own code.
The shared code includes:</p>
<p><span class="strong strong"><strong>Async</strong></span> behavior (jobs):</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_async.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_async.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_async/" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_async/</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_async/" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_async/</code></a>
</li>
</ul>
</div>
<p>And <span class="strong strong"><strong>library</strong></span> code, such as utilities, constants, and error classes:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_shared.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_shared.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_shared/" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_shared/</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/connectors_shared/" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/connectors_shared/</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/connectors_shared/middleware/" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_shared/middleware/</code></a>
</li>
</ul>
</div>
<p>And additional files left over from the extraction of these connectors from Enterprise Search:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/stubs/" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/stubs/</code></a>
</li>
</ul>
</div>
<p>You may also want to review the <span class="strong strong"><strong>connectors server</strong></span> implementation:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/lib/app/app.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/app/app.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/spec/app_spec.rb" class="ulink" target="_blank" rel="noopener"><code class="literal">/spec/app_spec.rb</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/tree/8.3/lib/app/" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/app/</code></a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/tree/8.3/lib/connectors_app/" class="ulink" target="_blank" rel="noopener"><code class="literal">/lib/connectors_app/</code></a>
</li>
</ul>
</div>
<p>Which implements the following HTTP operations:</p>
<div class="pre_wrapper lang-plain">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-plain">GET  /
POST /status
POST /start_sync
POST /documents
POST /download
POST /deleted
POST /permissions
POST /oauth2/init
POST /oauth2/exchange
POST /oauth2/refresh
POST /secrets/compare</pre>
</div>
<p>While developing, iteratively test your connector&#8217;s HTTP responses to these operations.</p>
<p>After your connector is implemented, you can connect your Enterprise Search deployment to the connector to test the integration.
Refer to the repository&#8217;s <a href="https://github.com/elastic/connectors-ruby/blob/8.3/README.md" class="ulink" target="_blank" rel="noopener">README</a> for details.</p>
<p>If needed, several debugging libraries are installed by default.
Refer to the <a href="https://github.com/elastic/connectors-ruby/blob/8.3/docs/DEVELOPING.md" class="ulink" target="_blank" rel="noopener">Developers guide</a> for details.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="custom-connector-package-production"></a>Move to production<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/workplace-search-docs/guides/content-sources/custom-connector-package.asciidoc">edit</a></h4>
</div></div></div>
<p>You can consider development complete after you&#8217;ve confirmed the integration between the content service, the connector, and Enterprise Search.
At this point, you are ready to deploy your connector to a production environment and integrate it with the production content service and production Elastic deployment.</p>
<p>This documentation does not describe how to run a Ruby application in production.
Choose a Ruby hosting provider and consult their deployment documentation.</p>
<p>Remember to remove all development configuration settings or update them to production values.</p>
<p>After deploying the connector, test the integration between the three production services.</p>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h4 class="title"><a id="custom-connector-package-distribution"></a>(Optionally) share your connector package<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.14/workplace-search-docs/guides/content-sources/custom-connector-package.asciidoc">edit</a></h4>
</div></div></div>
<p>We encourage you to share your connector with others.
You can distribute your connector as a Ruby gem, and you can contribute your connector to the upstream <code class="literal">elastic/connectors</code> repository.
Refer to the following guides within the repository:</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/docs/RELEASING.md" class="ulink" target="_blank" rel="noopener">Releasing guide</a>
</li>
<li class="listitem">
<a href="https://github.com/elastic/connectors-ruby/blob/8.3/docs/CONTRIBUTING.md" class="ulink" target="_blank" rel="noopener">Contributors guide</a>
</li>
</ul>
</div>
</div>

</div>

</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="workplace-search-content-sources.html">« Content Sources Overview</a>
</span>
<span class="next">
<a href="workplace-search-custom-api-sources.html">Connecting custom sources »</a>
</span>
</div>
</body>
</html>
