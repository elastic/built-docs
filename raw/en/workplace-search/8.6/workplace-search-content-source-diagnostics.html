<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Troubleshooting errors during content source sync | Workplace Search Guide [8.6] | Elastic</title>
<meta class="elastic" name="content" content="Troubleshooting errors during content source sync | Workplace Search Guide [8.6]">

<link rel="home" href="index.html" title="Workplace Search Guide [8.6]"/>
<link rel="up" href="workplace-search-troubleshooting.html" title="Troubleshooting"/>
<link rel="prev" href="workplace-search-troubleshooting.html" title="Troubleshooting"/>
<link rel="next" href="workplace-search-common-source-sync-issues.html" title="Common source synchronization issues"/>
<meta class="elastic" name="product_version" content="8.6"/>
<meta class="elastic" name="product_name" content="Workplace Search"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Workplace Search/Guide/8.6"/>
<meta name="DC.subject" content="Workplace Search"/>
<meta name="DC.identifier" content="8.6"/>
</head>
<body>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">Workplace Search Guide [8.6]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="workplace-search-troubleshooting.html">Troubleshooting</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="workplace-search-troubleshooting.html">« Troubleshooting</a>
</span>
<span class="next">
<a href="workplace-search-common-source-sync-issues.html">Common source synchronization issues »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="workplace-search-content-source-diagnostics"></a>Troubleshooting errors during content source sync<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/8.6/workplace-search-docs/guides/troubleshooting/content-source-diagnostics.asciidoc">edit</a></h2>
</div></div></div>

<p>It is possible to download diagnostics data about the content source and its recently completed sync jobs. There is a button to do that on content source&#8217;s <span class="strong strong"><strong>Settings</strong></span> page:</p>
<div id="content-source-diagnostics-button" class="imageblock screenshot">
<div class="content">
<img src="images/guides/content-source-diagnostics.png" alt="Downloading diagnostics data.">
</div>
<div class="title">Figure 139. Downloading diagnostics data</div>
</div>
<p>The data is available in JSON format. It contains some general diagnostics information, and then more detailed information for the 3 most recent sync jobs of every type. For every job, this may include:</p>
<div class="olist orderedlist">
<ol class="orderedlist">
<li class="listitem">
Date and time of creation
</li>
<li class="listitem">
Date and time of completion
</li>
<li class="listitem">
Duration
</li>
<li class="listitem">
Status
</li>
<li class="listitem">
Fatal exception
</li>
<li class="listitem">
Error reason
</li>
<li class="listitem">
Number of total document errors that happened during sync
</li>
<li class="listitem">
Detailed information on 20 last document errors
</li>
</ol>
</div>
<p>Example:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "general": {
    "version": {
      "number": "7.13.0",
      "build_hash": "abc",
      "build_date": null
    },
    "elasticsearchVersion": "7.11.0"
  },
  "source": {
    "id": "xyz",
    "serviceType": "confluence_server",
    "name": "Confluence (Server)",
    "context": "organization",
    "dlpEnabled": false,
    "recentJobs": {
      "full": [
        {
          "createdAt": "2021-03-05T19:14:59Z",
          "status": "complete",
          "fatalException": {
	      "friendly_message": "Exceeded maximum consecutive errors",
	      "stack_trace": "/path/to/code/class_x.rb:5\nfrom /path/to/code/class_y.rb:10\nfrom /path/to/code/class_z.rb:15",
	      "id": "ade324cdfef",
	      "message": "Exceeded maximum consecutive errors - saw 11 errors in a row. Tripped by - RuntimeError: Oh snap, Document id:aeTpgRLAIiAAAAAAAAAAfQ is bad news",
	      "class": "Connectors::MaxSuccessiveErrorsExceededError"
	  },
          "errorReason": null,
          "completedAt": "2021-03-05T19:15:09Z",
          "durationSeconds": 10,
          "documentErrorCount": 0,
          "documentErrors": []
        }
      ],
      "incremental": [
        {
          "createdAt": "2021-03-05T19:14:52Z",
          "status": "error",
          "fatalException": null,
          "errorReason": null,
          "completedAt": "2021-03-05T19:14:56Z",
          "durationSeconds": 4,
          "documentErrorCount": 1,
          "documentErrors": [
            {
              "error_id": "6077220e4993c817",
	            "error_class": "ExampleError",
              "error_message": "Could not extract document",
              "stack_trace": "/path/to/code/class_x.rb:5\nfrom /path/to/code/class_y.rb:10\nfrom /path/to/code/class_z.rb:15"
            }
          ]
        }
      ],
      "delete": [
        {
          "createdAt": "2021-03-05T19:20:36Z",
          "status": "complete",
          "fatalException": null,
          "errorReason": null,
          "completedAt": "2021-03-05T19:20:42Z",
          "durationSeconds": 6,
          "documentErrorCount": 0,
          "documentErrors": []
        }
      ]
    },
    "oauthTokenAgeSeconds": 50000,
    "oauthScopes": null
  }
}</pre>
</div>
<div class="tip admon">
<div class="icon"></div>
<div class="admon_content">
<p><span class="strong strong"><strong>Troubleshoot using logs</strong></span></p>
<p><code class="literal">app-server.log</code> and <code class="literal">connectors.log</code> are two useful log files to review as part of troubleshooting any content source sync issues.</p>
<p>Use the <code class="literal">log_level</code> setting to produce more debug-level logging if necessary.
Refer to <a href="/guide/en/enterprise-search/8.6/logs-and-logging.html" class="ulink" target="_blank" rel="noopener">Logs and logging</a> in the Enterprise Search documentation for more information.</p>
</div>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="workplace-search-troubleshooting.html">« Troubleshooting</a>
</span>
<span class="next">
<a href="workplace-search-common-source-sync-issues.html">Common source synchronization issues »</a>
</span>
</div>
</div>
</body>
</html>
