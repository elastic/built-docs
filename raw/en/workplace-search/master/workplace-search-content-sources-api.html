<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Content sources API reference | Workplace Search Guide [master] | Elastic</title>
<link rel="home" href="index.html" title="Workplace Search Guide [master]"/>
<link rel="up" href="workplace-search-api-overview.html" title="Workplace Search API Reference"/>
<link rel="prev" href="workplace-search-api-authentication.html" title="API Authentication Reference"/>
<link rel="next" href="workplace-search-custom-sources-api.html" title="Custom sources indexing API reference"/>
<meta name="DC.type" content="Learn/Docs/Workplace Search/Guide/master"/>
<meta name="DC.subject" content="Workplace Search"/>
<meta name="DC.identifier" content="master"/>
</head>
<body><div class="page_header">
You are looking at preliminary documentation for a future release.
Not what you want? See the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">Workplace Search Guide [master]</a></span>
»
<span class="breadcrumb-link"><a href="workplace-search-api-overview.html">Workplace Search API Reference</a></span>
»
<span class="breadcrumb-node">Content sources API reference</span>
</div>
<div class="navheader">
<span class="prev">
<a href="workplace-search-api-authentication.html">« API Authentication Reference</a>
</span>
<span class="next">
<a href="workplace-search-custom-sources-api.html">Custom sources indexing API reference »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="workplace-search-content-sources-api"></a>Content sources API reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h2>
</div></div></div>
<div class="note admon">
<div class="icon"></div>
<div class="admon_content">
<p>This is a technical API reference. Refer to the <a class="xref" href="workplace-search-custom-api-sources.html" title="Connecting custom sources">Custom API sources</a> for a conceptual walkthrough.</p>
</div>
</div>
<h3><a id="content-sources-api-toc"></a>In this API reference<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="workplace-search-content-sources-api.html#content-sources-api-model" title="Content source JSON representation">Content source JSON representation</a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-content-sources-api.html#list-content-sources-api" title="List All content sources">List all content sources</a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-content-sources-api.html#get-content-source-api" title="Get a content source">Get a content source</a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-content-sources-api.html#remove-content-source-api" title="Remove a content source">Remove a content source</a>
</li>
<li class="listitem">
<a class="xref" href="workplace-search-content-sources-api.html#get-document-by-id-api" title="Get a document">Get a document</a>
</li>
</ul>
</div>
<h3><a id="content-sources-api-model"></a>Content source JSON representation<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
<p>Content sources represent the individual connections to 3rd party services, and the documents indexed from those connections. Before using the API to create, access, update, or delete content sources, it is important to be familiar with the JSON notation that will be present in many of these response bodies.</p>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="content-source-fields"></a>Content source fields<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">id</code> (required)
</span>
</dt>
<dd>
<p>The string that uniquely identifies the content source. This ID is generated by Workplace Search.</p>
</dd>
<dt>
<span class="term">
<code class="literal">service_type</code> (required)
</span>
</dt>
<dd>
<p>The string representing the content source&#8217;s service type.</p>
</dd>
<dt>
<span class="term">
<code class="literal">created_at</code> (required)
</span>
</dt>
<dd>
<p>The string in RFC-3339 format representing the date/time at which this content source was originally created.</p>
</dd>
<dt>
<span class="term">
<code class="literal">last_updated_at</code> (required)
</span>
</dt>
<dd>
<p>The string in RFC-3339 format representing the date/time at which this content source was last updated.</p>
</dd>
<dt>
<span class="term">
<code class="literal">is_remote</code> (required)
</span>
</dt>
<dd>
<p>The boolean for whether or not this content source is a "remote" content source. See <a href="/guide/en/workplace-search/current/workplace-search-content-sources.html#remote" class="ulink" target="_top">https://www.elastic.co/guide/en/workplace-search/current/workplace-search-content-sources.html#remote</a></p>
</dd>
<dt>
<span class="term">
<code class="literal">details</code> (required)
</span>
</dt>
<dd>
<p>The list of objects that provide metadata for the content source and the account which authenticated/connected it. These details will be displayed in the source details Overview page.</p>
<p>Note, while this key is required, the list may be empty.</p>
<p>Any objects present in this list will contain the following keys:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">title</code> (required)
</span>
</dt>
<dd>
<p>The string for the human readable name of this piece of metadata.</p>
</dd>
<dt>
<span class="term">
<code class="literal">description</code> (required)
</span>
</dt>
<dd>
<p>The string value to be displayed under the corresponding title.</p>
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">groups</code> (required)
</span>
</dt>
<dd>
<p>The list of objects which represent Workplace Search groups that have access to this content source. Each object contains two keypairs, one for <code class="literal">id</code> and one for <code class="literal">name</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">name</code> (required)
</span>
</dt>
<dd>
<p>The string for the human readable display name of this content source.</p>
</dd>
<dt>
<span class="term">
<code class="literal">schema</code> (required)
</span>
</dt>
<dd>
<p>The object representing the schema that each document in this content source must adhere to. The keys of this object can be anything constructed of lower-case letters, numbers, and the underscore (<code class="literal">_</code>) character. These keys define the field names that may be present on indexed documents. The values of these keypairs must be one of <code class="literal">text</code>, <code class="literal">number</code>, <code class="literal">date</code>, or <code class="literal">geolocation</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">display</code> (required)
</span>
</dt>
<dd>
<p>The object representing the display details which govern how documents are displayed in search results.</p>
<p>The <code class="literal">display</code> object contains the following keys:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">title_field</code> (required)
</span>
</dt>
<dd>
<p>The string field name that will be displayed as a search result&#8217;s title.</p>
</dd>
<dt>
<span class="term">
<code class="literal">subtitle_field</code> (required)
</span>
</dt>
<dd>
<p>The string field name that will be displayed as a search result&#8217;s subtitle.</p>
</dd>
<dt>
<span class="term">
<code class="literal">description_field</code> (required)
</span>
</dt>
<dd>
<p>The string field name that will be displayed as a search result&#8217;s long-form description or body. Note that, in the UI, this content will be truncated to fit.</p>
</dd>
<dt>
<span class="term">
<code class="literal">url_field</code> (required)
</span>
</dt>
<dd>
<p>The string field name that will be used to link a given search result to its source of truth.</p>
</dd>
<dt>
<span class="term">
<code class="literal">detail_fields</code> (required)
</span>
</dt>
<dd>
<p>The list of objects representing how the detailed view of a search result item is displayed, when clicked on.</p>
<p>The <code class="literal">detail_fields</code> objects each contain the following keys:</p>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">field_name</code> (required)
</span>
</dt>
<dd>
<p>The string field name that this detail pertains to.</p>
</dd>
<dt>
<span class="term">
<code class="literal">label</code> (required)
</span>
</dt>
<dd>
<p>The string for the human readable display of this field.</p>
</dd>
</dl>
</div>
</dd>
</dl>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">context</code> (required)
</span>
</dt>
<dd>
<p>The string specifying whether this content source is available to groups of users, or a single user. The value can be either "organization" or "private."</p>
</dd>
<dt>
<span class="term">
<code class="literal">is_searchable</code> (required)
</span>
</dt>
<dd>
<p>The boolean for whether or not this content source can currently be searched over on the search page.</p>
</dd>
<dt>
<span class="term">
<code class="literal">document_count</code> (conditional)
</span>
</dt>
<dd>
<p>The integer of how many documents are currently indexed in this content source. Note, this field is not applicable to Remote content sources.</p>
</dd>
<dt>
<span class="term">
<code class="literal">last_indexed_at</code> (conditional)
</span>
</dt>
<dd>
<p>The string in RFC-3339 format representing the date/time when documents were last indexed into this content source. This may be null if documents have not yet been indexed. Note, this field is not applicable to Remote content sources.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="content-source-example"></a>Example<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<p>Below is an example content source&#8217;s JSON representation:</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "id": "603ebf0440b06a31115f4bad",
  "service_type": "custom",
  "created_at": "2021-03-02T22:41:08+00:00",
  "last_updated_at": "2021-03-02T22:41:16+00:00",
  "is_remote": false,
  "details": [
    {
      "title": "Cited Source",
      "description": "http://nps.gov"
    },
    {
      "title": "Usage",
      "description": "For Enterprise Search Examples"
    }
  ],
  "groups": [
    {
      "id": "603ea1a440b06a9c11fd832d",
      "name": "Default"
    }
  ],
  "name": "National Parks",
  "schema": {
    "description": "text",
    "title": "text",
    "nps_link": "text",
    "states": "text",
    "visitors": "number",
    "square_km": "number",
    "world_heritage_site": "text",
    "date_established": "date",
    "location": "geolocation",
    "acres": "number"
  },
  "display": {
    "title_field": "title",
    "subtitle_field": "states",
    "description_field": "description",
    "url_field": "nps_link",
    "detail_fields": [
      {
        "field_name": "states",
        "label": "States"
      },
      {
        "field_name": "description",
        "label": "Description"
      },
      {
        "field_name": "date_established",
        "label": "Established"
      },
      {
        "field_name": "visitors",
        "label": "Number of Visitors"
      },
      {
        "field_name": "location",
        "label": "Location"
      },
      {
        "field_name": "world_heritage_site",
        "label": "World Heritage Site?"
      },
      {
        "field_name": "square_km",
        "label": "Square Kilometers"
      },
      {
        "field_name": "acres",
        "label": "Acres"
      }
    ],
    "color": "#000000"
  },
  "context": "organization",
  "is_searchable": true,
  "document_count": 59,
  "last_indexed_at": "2021-03-02T22:41:15+00:00"
}</pre>
</div>
<h3><a id="list-content-sources-api"></a>List All content sources<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
<p>Retrieve a paginated list of all content sources.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">GET /api/ws/v1/sources</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="list-content-sources-api-request-headers"></a>Request headers<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">Authorization</code>
</span>
</dt>
<dd>
<p>Bearer token permitting API access.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="list-content-sources-api-request-params"></a>Request parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">page[current]</code> (optional)
</span>
</dt>
<dd>
<p>The integer page of results to retrieve. Default is <code class="literal">1</code>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">page[size]</code> (optional)
</span>
</dt>
<dd>
<p>The integer size of results to retrieve in a single page. Default is <code class="literal">25</code></p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="list-content-sources-api-request-examples"></a>Request examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl \
--request 'GET' \
--url 'https://f3fae9ab3e4f423d9d345979331ef3a1.ent-search.us-east-1.aws.cloud.es.io/api/ws/v1/sources' \
--header "Authorization: Bearer $ACCESS_TOKEN"</pre>
</div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl \
--request 'GET' \
--url 'http://localhost:3002/api/ws/v1/sources' \
--header "Authorization: Bearer $ACCESS_TOKEN"</pre>
</div>
<p>With pagination:</p>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl \
--request 'GET' \
--url 'http://localhost:3002/api/ws/v1/sources?page[current]=2&amp;page[size]=1' \
--header "Authorization: Bearer $ACCESS_TOKEN"</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="list-content-sources-api-responses"></a>Responses<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200 OK</code>
</span>
</dt>
<dd>
<p>The paginated list of content sources is returned.</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "meta": {
    "page": {
      "current": 1,
      "total_pages": 1,
      "total_results": 4,
      "size": 25
    }
  },
  "results": [
    { &lt;ContentSourceOne&gt; },
    { &lt;ContentSourceTwo&gt; },
    { &lt;ContentSourceThree&gt; },
    { &lt;ContentSourceFour&gt; }
  ]
}</pre>
</div>
<p>See the above <a class="xref" href="workplace-search-content-sources-api.html#content-sources-api-model" title="Content source JSON representation">content source JSON representation</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">400 Bad Request</code>
</span>
</dt>
<dd>
<p>The request body was incomplete or invalid.
The response body provides additional information.</p>
</dd>
<dt>
<span class="term">
<code class="literal">401 Unauthorized</code>
</span>
</dt>
<dd>
<p>The authorization header was missing from the request or authentication failed.</p>
</dd>
<dt>
<span class="term">
<code class="literal">404 Not Found</code>
</span>
</dt>
<dd>
<p>The authenticated user is not an Admin user, and therefore does not have permission.</p>
</dd>
</dl>
</div>
<h3><a id="get-content-source-api"></a>Get a content source<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
<p>Retrieve a single content source by its ID.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">GET /api/ws/v1/sources/&lt;content-source-id&gt;</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-content-source-api-request-headers"></a>Request headers<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">Authorization</code>
</span>
</dt>
<dd>
<p>Bearer token permitting API access.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-content-source-api-request-params"></a>Request parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">content-source-id</code> (required)
</span>
</dt>
<dd>
<p>The string ID for the content source to be retrieved.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-content-source-api-request-examples"></a>Request examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl \
--request 'GET' \
--url "https://f3fae9ab3e4f423d9d345979331ef3a1.ent-search.us-east-1.aws.cloud.es.io/api/ws/v1/sources/$CONTENT_SOURCE_ID" \
--header "Authorization: Bearer $ACCESS_TOKEN"</pre>
</div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl \
--request 'GET' \
--url "http://localhost:3002/api/ws/v1/sources/$CONTENT_SOURCE_ID" \
--header "Authorization: Bearer $ACCESS_TOKEN"</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-content-source-api-responses"></a>Responses<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200 OK</code>
</span>
</dt>
<dd>
<p>The single content sources is returned.</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{ &lt;ContentSource&gt; }</pre>
</div>
<p>See the above <a class="xref" href="workplace-search-content-sources-api.html#content-sources-api-model" title="Content source JSON representation">content source JSON representation</a>.</p>
</dd>
<dt>
<span class="term">
<code class="literal">401 Unauthorized</code>
</span>
</dt>
<dd>
<p>The authorization header was missing from the request or authentication failed.</p>
</dd>
<dt>
<span class="term">
<code class="literal">404 Not Found</code>
</span>
</dt>
<dd>
<p>The authenticated user is not an Admin user, and therefore does not have permission.</p>
<p>OR</p>
<p>The provided <code class="literal">content_source_id</code> does not exist.</p>
</dd>
</dl>
</div>
<h3><a id="remove-content-source-api"></a>Remove a content source<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
<p>Remove a single content source by its ID.</p>
<p>+
Note, only organization content sources can be deleted with this endpoint. Private content sources cannot be deleted with this endpoint.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">DELETE /api/ws/v1/sources/&lt;content-source-id&gt;</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="remove-content-source-api-request-headers"></a>Request headers<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">Authorization</code>
</span>
</dt>
<dd>
<p>Bearer token permitting API access.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="remove-content-source-api-request-params"></a>Request parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">content-source-id</code> (required)
</span>
</dt>
<dd>
<p>The string ID for the content source to be removed.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="remove-content-source-api-request-examples"></a>Request examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl \
--request 'DELETE' \
--url "https://f3fae9ab3e4f423d9d345979331ef3a1.ent-search.us-east-1.aws.cloud.es.io/api/ws/v1/sources/$CONTENT_SOURCE_ID" \
--header "Authorization: Bearer $ACCESS_TOKEN"</pre>
</div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl \
--request 'DELETE' \
--url "http://localhost:3002/api/ws/v1/sources/$CONTENT_SOURCE_ID" \
--header "Authorization: Bearer $ACCESS_TOKEN"</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="remove-content-source-api-responses"></a>Responses<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200 OK</code>
</span>
</dt>
<dd>
<p>An acknowledgement that the content source was deleted</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{ "deleted" : true }</pre>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">400 Bad Request</code>
</span>
</dt>
<dd>
<p>The provided <code class="literal">content_source_id</code> is for a private content source, which is not allowed.</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{ "errors": ["Invalid parameter(s): Private content sources cannot be deleted by this API"] }</pre>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">401 Unauthorized</code>
</span>
</dt>
<dd>
<p>The authorization header was missing from the request or authentication failed.</p>
</dd>
<dt>
<span class="term">
<code class="literal">404 Not Found</code>
</span>
</dt>
<dd>
<p>The authenticated user is not an Admin user, and therefore does not have permission.</p>
<p>OR</p>
<p>The provided <code class="literal">content_source_id</code> does not exist.</p>
</dd>
</dl>
</div>
<h3><a id="get-document-by-id-api"></a>Get a document<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
<p>Retrieve a single content source document, given the IDs of both the content source and the document.</p>
<div class="pre_wrapper lang-yaml">
<pre class="programlisting prettyprint lang-yaml">GET /api/ws/v1/sources/&lt;content-source-id&gt;/documents/&lt;document-id&gt;</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-document-by-id-api-request-headers"></a>Request headers<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">Authorization</code>
</span>
</dt>
<dd>
<p>Bearer token permitting API access.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-document-by-id-api-request-params"></a>Request parameters<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">content-source-id</code> (required)
</span>
</dt>
<dd>
<p>The string ID for the content source that contains the desired document.</p>
</dd>
<dt>
<span class="term">
<code class="literal">document-id</code> (required)
</span>
</dt>
<dd>
<p>The string ID for the document to be retrieved.</p>
</dd>
</dl>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-document-by-id-api-request-examples"></a>Request examples<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl \
--request 'GET' \
--url "https://f3fae9ab3e4f423d9d345979331ef3a1.ent-search.us-east-1.aws.cloud.es.io/api/ws/v1/sources/$CONTENT_SOURCE_ID/documents/$DOCUMENT_ID" \
--header "Authorization: Bearer $ACCESS_TOKEN"</pre>
</div>
<div class="pre_wrapper lang-shell">
<pre class="programlisting prettyprint lang-shell">curl \
--request 'GET' \
--url "http://localhost:3002/api/ws/v1/sources/$CONTENT_SOURCE_ID/documents/$DOCUMENT_ID" \
--header "Authorization: Bearer $ACCESS_TOKEN"</pre>
</div>
</div>

<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="get-document-by-id-api-responses"></a>Responses<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/enterprise-search-pubs/edit/master/workplace-search-docs/api/content-sources.asciidoc">edit</a></h3>
</div></div></div>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
<code class="literal">200 OK</code>
</span>
</dt>
<dd>
<p>The single content source document is returned.</p>
<p>Note, the only guaranteed response fields are <code class="literal">id</code>, <code class="literal">source</code>, <code class="literal">content_source_id</code>, and <code class="literal">last_updated</code>. The others are content source specific, and must be part of the content source&#8217;s schema. You can view a content source&#8217;s schema with the <a class="xref" href="workplace-search-content-sources-api.html#get-content-source-api" title="Get a content source">get content source API</a>.</p>
<div class="pre_wrapper lang-json">
<pre class="programlisting prettyprint lang-json">{
  "id":  "some_string_id",
  "source": "custom",
  "content_source_id": "603d2c8319cbdbc907675c02",
  "last_updated": "2021-03-02T22:41:16+00:00",
  "some_text_field": "some text value",
  "some_number_field": 42,
  "some_date_field": "2021-03-02T22:41:16+00:00",
  "some_geolocation_field": "44.35,-68.21",
  "_allow_permissions": ["perm1", "perm2"],
  "_deny_permissions": ["perm3", "perm4"]
}</pre>
</div>
</dd>
<dt>
<span class="term">
<code class="literal">401 Unauthorized</code>
</span>
</dt>
<dd>
<p>The authorization header was missing from the request or authentication failed.</p>
</dd>
<dt>
<span class="term">
<code class="literal">404 Not Found</code>
</span>
</dt>
<dd>
<p>The authenticated user is not an Admin user, and therefore does not have permission.</p>
<p>OR</p>
<p>The authenticated user has specified a private content source that is not theirs, and they therefore do not have permission.</p>
<p>OR</p>
<p>The specified document has document-level-permissions which prohibit access to the authenticated user.</p>
<p>OR</p>
<p>The provided <code class="literal">content_source_id</code> does not exist.</p>
<p>OR</p>
<p>The provided <code class="literal">document_id</code> does not exist.</p>
</dd>
</dl>
</div>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="workplace-search-api-authentication.html">« API Authentication Reference</a>
</span>
<span class="next">
<a href="workplace-search-custom-sources-api.html">Custom sources indexing API reference »</a>
</span>
</div>
</div>
</body>
</html>
