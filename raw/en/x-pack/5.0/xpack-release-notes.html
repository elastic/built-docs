<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Release Notes | X-Pack for the Elastic Stack [5.0] | Elastic</title>
<meta class="elastic" name="content" content="Release Notes | X-Pack for the Elastic Stack [5.0]">

<link rel="home" href="index.html" title="X-Pack for the Elastic Stack [5.0]"/>
<link rel="up" href="index.html" title="X-Pack for the Elastic Stack [5.0]"/>
<link rel="prev" href="license-expiration.html" title="License Expiration"/>
<link rel="next" href="security-release-notes.html" title="Shield Release Notes (Pre-5.0)"/>
<meta class="elastic" name="product_version" content="5.0"/>
<meta class="elastic" name="product_name" content="X-Pack"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Legacy/XPack/Reference/5.0"/>
<meta name="DC.subject" content="X-Pack"/>
<meta name="DC.identifier" content="5.0"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.0 of the Elastic Stack has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
<a href="https://www.elastic.co/guide/index.html">current release documentation</a>.
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack [5.0]</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="license-expiration.html">« License Expiration</a>
</span>
<span class="next">
<a href="security-release-notes.html">Shield Release Notes (Pre-5.0) »</a>
</span>
</div>
<div class="part">
<div class="titlepage"><div><div>
<h1 class="title"><a id="xpack-release-notes"></a>Release Notes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h1>
</div></div></div>
<div class="openblock partintro">
<div class="content">
<p>Release notes for all of the X-Pack components:
X-Pack security, X-Pack monitoring, Watcher, X-Pack reporting, and X-Pack graph.</p>
<h2><a id="xpack-change-list"></a>Change List<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h2>
<h3><a id="xpack-5.0.2"></a>5.0.2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>November 29, 2016</p>
<h4><a id="bugs-5.0.2"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for custom headers in the monitoring connection and make phone
home always return 200.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow reads of native users and roles when the template version hasn&#8217;t been
updated to match the current version. This prevents failures from occurring
during rolling upgrades.
</li>
<li class="listitem">
Retain all user information for run as requests.
</li>
<li class="listitem">
Prevent unknown run as users from executing any APIs. Previously, if an
authenticated user with run as permission attempted to run as an unknown
user, the unknown user was assigned the default and anonymous roles if
they were enabled.
</li>
<li class="listitem">
If an exception is thrown when resolving the index in an index request, it
is now recorded as <code class="literal">access_denied</code> in the audit-trail. Previously, no entry
was recorded in the audit trail.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.0.1"></a>5.0.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>November 15, 2016</p>
<h4><a id="bugs-5.0.1"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Graph
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed the license check so Graph doesn&#8217;t throw an <code class="literal">undefined</code> error
when Security is disabled and you try to load a workspace URL.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Show Replica Count not Replication Factor in Overview.
</li>
<li class="listitem">
A non-aliased Monitoring index can now be always be created for the current
day when upgrading from Marvel.
</li>
<li class="listitem">
Duplicate shards no longer appear in the shard allocation table.
</li>
<li class="listitem">
The Kibana Cluster Summary now always shows the last-known status.
</li>
<li class="listitem">
Kibana now makes sure Monitoring is enabled before attempting to send stats.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Security can no longer pollute the thread context with incorrect users, which
could cause failures during the discovery process.
</li>
<li class="listitem">
Security now honors the <code class="literal">action.destructive_requires_name</code> setting and
prevents users from deleting indices with wildcards if it is set to <code class="literal">true</code>.
</li>
<li class="listitem">
Made changes to preserve the context when performing internal actions.
This ensures subsequent actions are performed as the correct user.
</li>
<li class="listitem">
Files generated by the <code class="literal">certgen</code> tool now have permissions set to 600
so they aren&#8217;t world-readable.
</li>
<li class="listitem">
The Security UI no longer hangs when you configure field-level security when
adding a role.
</li>
<li class="listitem">
When running with a Basic License, the login dialog is no longer displayed
and no Security elements are visible in Kibana.
</li>
<li class="listitem">
The last sub URL of each Kibana app is no longer cached between sessions.
This means that when a different user logs in, they are longer redirected
to the URLs the previous user viewed last.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Chain input: An exception is now thrown if the inputs in the chain are
specified with a data structure that does not preserve the input order. The
inputs in a chain must be specified as array elements to guarantee the order
in which the inputs are processed. (JSON does not guarantee the order of
arbitrary objects.)
</li>
<li class="listitem">
Watch history template: Removed the unused Watcher plugin version.
</li>
<li class="listitem">
Email output: Fixed an error that prevented emails from being sent when
localhost could not be resolved.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.0.0"></a>5.0.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>October 26, 2016</p>
<h4><a id="breaking-5.0.0"></a>Breaking Changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
X-Pack
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
All settings have been updated to use the <code class="literal">xpack</code> prefix. For more
information, see <a class="xref" href="migrating-to-xpack.html" title="Migrating to X-Pack">Migrating to X-Pack</a>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Licensing
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Licensing endpoint has been renamed from <code class="literal">/_license</code> to <code class="literal">/_xpack/license</code>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">http</code> exporters no longer honor the <code class="literal">keep_alive</code> setting as this is handled
by the low-level REST Client.
</li>
<li class="listitem">
All <code class="literal">monitoring.agent.*</code> settings have been changed to more closely
match other monitoring collection settings: <code class="literal">xpack.monitoring.collection.*</code>
and <code class="literal">xpack.monitoring.exporters.*</code>.
</li>
<li class="listitem">
The Index page&#8217;s Lucene Memory chart was replaced with an Index Memory chart,
which includes a superset of the information. Fielddata, which has become a
significantly less common issue, has been rolled into the Index Memory chart.
</li>
<li class="listitem">
To use an external monitoring cluster to monitor an Elasticsearch 5.0
cluster, you must run Elasticsearch 5.0 on the monitoring cluster. For more
information about external monitoring clusters, see <a class="xref" href="monitoring-cluster.html" title="Setting up a Separate Monitoring Cluster">Setting up a Separate Monitoring Cluster</a>.
</li>
<li class="listitem">
All settings have been updated to use the <code class="literal">xpack.monitoring</code> prefix. For more
information, see <a class="xref" href="migrating-to-xpack.html" title="Migrating to X-Pack">Migrating to X-Pack</a>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reporting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reporting encryption keys configured in <code class="literal">kibana.yml</code> must now be at least
32 characters.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Security encryption keys configured in <code class="literal">kibana.yml</code> must now be at least
32 characters.
</li>
<li class="listitem">
The <a class="xref" href="security-migration.html#security-tls-ssl-migrate" title="TLS/SSL Settings">SSL configuration settings</a> have been changed
to use an easier to use format that also supports PEM files.
</li>
<li class="listitem">
Removed the <code class="literal">files.users</code> and <code class="literal">files.users_roles</code> settings from the
<a class="xref" href="file-realm.html" title="File-based User Authentication"><code class="literal">file</code> realm</a>.
</li>
<li class="listitem">
Removed the setting that allowed for a custom <code class="literal">roles.yml</code> file location
to be specified. The <code class="literal">roles.yml</code> file must always be in the <code class="literal">CONF_DIR/x-pack</code>
directory.
</li>
<li class="listitem">
Removed the setting that allowed for a custom system key location to be
defined. The <code class="literal">system_key</code> file must always be in the <code class="literal">CONF_DIR/x-pack</code>
directory.
</li>
<li class="listitem">
The <a class="xref" href="auditing.html#audit-log-output" title="Logfile Audit Output"><code class="literal">logfile</code> output</a> for auditing no longer uses the
log level to determine which events to log. The events are now controlled
in the same way as the <code class="literal">index</code> output.
</li>
<li class="listitem">
Changed the syntax for <a class="xref" href="field-and-document-access-control.html#field-level-security" title="Field Level Security">field-level-security</a>. Roles
stored in the old format in native or file based realm will continue to work
but new roles must use the new format.
</li>
<li class="listitem">
The <code class="literal">esusers</code> realm has been renamed to <code class="literal">file</code> and the <code class="literal">esusers</code> command line
tool has been renamed to <code class="literal">users</code>. Note that the <a class="xref" href="native-realm.html#managing-native-users" title="Managing Native Users">User
and Role APIs</a> are the preferred way to manage internal users.
</li>
<li class="listitem">
Elasticsearch enables HTTP compression by default now. To mitigate potential
security risks like the BREACH attack, X-Pack security disables compression if HTTPS
is enabled. If Elasticsearch should compress HTTPS traffic, please explicitly
set <code class="literal">http.compression</code> to <code class="literal">true</code> in &#8216;elasticsearch.yml&#8217;.
</li>
<li class="listitem">
You must specify all required values to override the global SSL configuration
in a profile. If any values are omitted, the entire configuration falls back to
the global settings,  <code class="literal">xpack.security.ssl.*</code>.
</li>
<li class="listitem">
The <code class="literal">skipSslCheck</code> and <code class="literal">useUnsafeSessions</code> for Kibana have been replaced by
<code class="literal">xpack.security.secureCookies</code> in <code class="literal">kibana.yml</code>. SSL is now <em>disabled</em> by default.
You can start Kibana without making any changes to <code class="literal">kibana.yml</code> after you install
X-Pack. Do not deploy to production without <a class="xref" href="encrypting-communications.html" title="Encrypting Communications">enabling
SSL/TLS encryption</a>!
</li>
<li class="listitem">
A default role is now applied to all users, including
<a class="xref" href="anonymous-access.html" title="Enabling Anonymous Access">anonymous users</a>. The default role enables users to
access the authenticate endpoint, change their own passwords, and get
information about themselves.
</li>
<li class="listitem">
All settings have been updated to use the <code class="literal">xpack.security</code> prefix. For more
information, see <a class="xref" href="migrating-to-xpack.html" title="Migrating to X-Pack">Migrating to X-Pack</a>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">force</code> parameter of the <a class="xref" href="watcher-api-delete-watch.html" title="Delete Watch API">Delete Watch
Action</a> has been removed.
</li>
<li class="listitem">
The use of the <code class="literal">_timestamp</code> field for the execution time has been removed.
The user now needs to set this explicitly in the <code class="literal">index</code> action.
</li>
<li class="listitem">
The <code class="literal">_xpack/watcher/_start</code>, <code class="literal">_xpack/watcher/_restart</code>, and
<code class="literal">_xpack/watcher/_stop</code> REST endpoints require <code class="literal">POST</code> actions instead of
<code class="literal">PUT</code> actions. The <em>deprecated</em> <code class="literal">_watcher/_start</code>, <code class="literal">_watcher/_restart</code>, and
<code class="literal">_watcher/_stop</code> endpoints still allow <code class="literal">PUT</code>.
</li>
<li class="listitem">
Watch history now uses a versioned template. The index names also changed
and contain this version. So instead of <code class="literal">.watch_history_2016.02.03</code> the new
index name is <code class="literal">.watcher-history-1-2016.02.03</code>, where <code class="literal">1</code> is the current
version. If you are using X-Pack security, this might require you to change
roles/permissions because of the different index names! The old index template
named <code class="literal">watch_history</code> can safely be deleted. However, it does not interfere
with the new index template.
</li>
<li class="listitem">
The setting that enables scripting only for Watcher has been renamed from
<code class="literal">script.engine.groovy.inline.elasticsearch-watcher_watch</code> to
<code class="literal">script.engine.groovy.inline.xpack_watch</code>.
</li>
<li class="listitem">
Elasticsearch has several breaking changes in the query DSL, including that
<code class="literal">search_type=count</code> is no longer supported. Check to see if your watches use
this search type and upgrade them to use <code class="literal">size: 0</code> in the request body as
needed. For more information about breaking changes including search changes,
see <a href="http://www.elastic.co/guide/en/elasticsearch/reference/5.0/breaking-changes-5.0.html" class="ulink" target="_top">breaking changes section in Elasticsearch</a>.
</li>
<li class="listitem">
All account SMTP timeouts (<code class="literal">smtp.timeout</code>, <code class="literal">smtp.connection_timeout</code> and
<code class="literal">smtp.write_timeout</code>) now require a time value instead of a number in
milliseconds.
</li>
<li class="listitem">
The notification settings for PagerDuty, Slack, HipChat, and email have been
moved from <code class="literal">watcher.actions</code> to <code class="literal">xpack.notification</code>. You need to update your
Elasticsearch configuration accordingly.
</li>
<li class="listitem">
All watcher endpoints have been renamed from <code class="literal">/_watcher/XYZ</code> to
<code class="literal">/_xpack/watcher/XYZ</code>. You might need to fix this in external scripts as well
as in your watches.
</li>
<li class="listitem">
The notification settings have been stripped of their <code class="literal">service</code> part. So
<code class="literal">watcher.actions.slack.service.default_account</code> becomes
<code class="literal">xpack.notification.slack.default_account</code>
</li>
<li class="listitem">
The setting <code class="literal">watcher.shield.encrypt_sensitive_data</code> has been renamed to
<code class="literal">xpack.watcher.encrypt_sensitive_data</code>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="new-5.0.0"></a>New Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added new node resolver, <code class="literal">uuid</code>, to the Monitoring UI configuration and made
it the default. Starting with Elasticsearch 5.0, instances of Elasticsearch
create a persistent UUID that remains the same across restarts unless the data
directory is deleted. If the data directory is deleted, the instance a new
UUID on start up.
</li>
<li class="listitem">
Latencies calculated against <em>totals</em> use derivatives to get the rate of
change. If any derivative is negative, then that time bucket is ignored and
left blank on the latency chart. Values that are negative indicate that the
underlying total shrank, which means that the data is skewed and showing
the result is misleading (for example,  due to nodes restarting).
</li>
<li class="listitem">
Added Segment Count memory chart to the Index page.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support for forest wide authentication in the <a class="xref" href="active-directory-realm.html" title="Active Directory User Authentication">Active Directory Realm</a>.
</li>
<li class="listitem">
The default LDAP group search filter now includes <code class="literal">posixGroup</code> groups.
</li>
<li class="listitem">
LDAP user search can now use un-pooled connections.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for accessing the HTTP status code of a response in the HTTP
input through <code class="literal">ctx.payload._status_code</code>.
</li>
<li class="listitem">
The new REST endpoint for acknowledging certain actions of a watch is
<code class="literal">_xpack/watcher/watch/{watch_id}/_ack/{action_id}</code>. The old notation was
<code class="literal">watcher/watch/{watch_id}/{action_id}/_ack</code>, which will be removed
in future releases.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="enhancements-5.0.0"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Graph
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added ability to save Graph workspaces
</li>
<li class="listitem">
Added ability to drill-down on Graph selections using other Kibana
visualizations
</li>
<li class="listitem">
In the Graph UI, you can now use an index pattern such as <code class="literal">logstash-*</code> to
select multiple time-based indices instead of a single index.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added dots for all points on charts.
</li>
<li class="listitem">
Added the ability to highlight points by hovering close to them. The
highlighted point, and those from other series at the X-position, are what are
displayed in the legend.
</li>
<li class="listitem">
Added a monitoring ingest pipeline so that future releases will be compatible
even if backward incompatible changes are made. This is enabled by default, but
can be disabled by setting <code class="literal">use_ingest</code> to <code class="literal">false</code> at the exporter level
(for example, <code class="literal">xpack.monitoring.exporters.my_exporter.use_ingest: false</code>).
</li>
<li class="listitem">
Added the ability for HTTP exporters to send arbitrary HTTP headers along
with requests. This allows the HTTP exporter to be used with proxies to route
monitoring data more dynamically, if necessary. This can be used by supplying
name-value pairs at the exporter level (for example,
<code class="literal">xpack.monitoring.exporters.my_exporter.headers.X-My-Header: abc123</code>).
</li>
<li class="listitem">
Rewrote the HTTP exporter to use the low-level REST Client and better pool
connections. This reduces the resources used for both networking and parsing.
</li>
<li class="listitem">
Added Kibana instance monitoring as part of the same Elastic Cluster.
</li>
<li class="listitem">
Added experimental charts to be used while monitoring Kibana instances.
</li>
<li class="listitem">
Added breadcrumbs to allow simpler navigation between monitoring pages.
</li>
<li class="listitem">
Simplified the Indices tab to remove charts that already appeared on the
Overview page so that indices are more accessible.
</li>
<li class="listitem">
Simplified overall status handling so that it is clearer what the status of
the current item is (e.g., index view gives index status).
</li>
<li class="listitem">
Added index memory graph to the Node page so that the cost of open indices
can be determined more accurately.
</li>
<li class="listitem">
Added the total indexing rate alongside the primary indexing rate. Total
includes both primaries and replicas.
</li>
<li class="listitem">
Added color to all charts.
</li>
<li class="listitem">
Added units to all chart titles.
</li>
<li class="listitem">
Added the internals to support monitoring Kibana instances.
</li>
<li class="listitem">
Improved the display of values in the legend.
</li>
<li class="listitem">
Shortened the welcome message.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Native users and roles can now be used on tribe nodes.
</li>
<li class="listitem">
Added the ability to disable native and reserved users.
</li>
<li class="listitem">
Added ability to define exclusions for fields in field level security.
</li>
<li class="listitem">
Added <a class="xref" href="built-in-roles.html" title="Built-in Roles">built-in roles</a> for reporting users, monitoring users,
remote monitoring agents, and users of the Kibana ingest feature.
</li>
<li class="listitem">
Auditing supports an <a class="xref" href="auditing.html#audit-event-types" title="Audit Event Types"><code class="literal">authentication_success</code> event</a> that
is output after authentication. This event can output the body of the request,
so in combination with the <code class="literal">authentication_failed</code> event all request bodies can
be audited.
</li>
<li class="listitem">
Added a X-Pack specific transport client, <a class="xref" href="java-clients.html#transport-client" title="Configuring the Transport Client to work with a Secured Cluster"><code class="literal">PreBuiltXPackTransportClient</code></a>, that provides an easy way to use the
transport client with X-Pack and other modules of Elasticsearch such as
reindex.
</li>
<li class="listitem">
Auditing now de-duplicates the names of indices when logging.
</li>
<li class="listitem">
Document and Field Level Security can be used with realtime requests.
</li>
<li class="listitem">
The <code class="literal">certgen</code> tool no longer generates file names that would result in hidden
files and now offers an option to specify the validity
time of the generated certificates.
</li>
<li class="listitem">
Added an <code class="literal">ingest_admin</code> role that grants the permissions requried to use the
ingest feature in Kibana.
</li>
<li class="listitem">
New <code class="literal">elastic</code> and <code class="literal">kibana</code> built-in users.
</li>
<li class="listitem">
New <code class="literal">superuser</code> and <code class="literal">transport_client</code> built-in roles.
</li>
<li class="listitem">
Added a <a class="xref" href="security-api-users.html#security-api-reset-user-password">password</a> API to enable
administrators and users to reset and change passwords.
</li>
<li class="listitem">
Added a built-in <code class="literal">kibana_user</code> role that grants the minimum
set of privileges needed to use Kibana.
</li>
<li class="listitem">
Default anonymous username changed to <code class="literal">_anonymous</code> (used to be
<code class="literal">_es_anonymous_user</code>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow use of <code class="literal">inline</code> attachments in emails, so that desktop clients can
display attachments like images embedded in emails.
</li>
<li class="listitem">
The HTTP headers of a response are now part of the payload and can be
accessed via   <code class="literal">ctx.payload._headers</code>
</li>
<li class="listitem">
Individual actions now support conditions. This is useful when a single watch
contains multiple actions&#8212;&#8203;specific actions can fire based on the current
context.
</li>
<li class="listitem">
Watches can now be modified or deleted while they are running, which is
especially useful for long running watches
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="bugs-5.0.0"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Updated document level security to support preventing requests that use
scripts or <code class="literal">now()</code> from being cached.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The watch version is now ignored when deleting a watch.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h2><a id="_x_plugins_release_notes_pre_5_0"></a>X-Plugins Release Notes (Pre-5.0)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.0/docs/en/xpack-release-notes.asciidoc">edit</a></h2>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="security-release-notes.html" title="Shield Release Notes (Pre-5.0)">Shield</a>
</li>
<li class="listitem">
<a class="xref" href="watcher-release-notes.html" title="Watcher Release Notes (Pre-5.0)">Watcher</a>
</li>
<li class="listitem">
<a class="xref" href="monitoring-release-notes.html" title="Marvel Release Notes (Pre-5.0)">Marvel</a>
</li>
<li class="listitem">
<a class="xref" href="graph-release-notes.html" title="Graph Release Notes (Pre-5.0)">Graph</a>
</li>
</ul>
</div>
</div>
</div>





</div>
<div class="navfooter">
<span class="prev">
<a href="license-expiration.html">« License Expiration</a>
</span>
<span class="next">
<a href="security-release-notes.html">Shield Release Notes (Pre-5.0) »</a>
</span>
</div>
</div>
</body>
</html>
