<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Migrating from Marvel | X-Pack for the Elastic Stack [5.2] | Elastic</title>
<link rel="home" href="index.html" title="X-Pack for the Elastic Stack [5.2]"/>
<link rel="up" href="migrating-to-xpack.html" title="Migrating to X-Pack"/>
<link rel="prev" href="security-migration.html" title="Migrating from Shield"/>
<link rel="next" href="migrating_from_watcher.html" title="Migrating from Watcher"/>
<meta name="DC.type" content="Learn/Docs/Legacy/XPack/Reference/5.2"/>
<meta name="DC.subject" content="X-Pack"/>
<meta name="DC.identifier" content="5.2"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.2 of the Elastic Stack has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
<a href="https://www.elastic.co/guide/index.html">current release documentation</a>.
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack [5.2]</a></span>
»
<span class="breadcrumb-link"><a href="migrating-to-xpack.html">Migrating to X-Pack</a></span>
»
<span class="breadcrumb-node">Migrating from Marvel</span>
</div>
<div class="navheader">
<span class="prev">
<a href="security-migration.html">« Migrating from Shield</a>
</span>
<span class="next">
<a href="migrating_from_watcher.html">Migrating from Watcher »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="migrating_from_marvel"></a>Migrating from Marvel<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.2/docs/en/xpack-migrating.asciidoc">edit</a></h2>
</div></div></div>
<p>Prior to 5.0, monitoring functionality was provided as a separate Marvel plugin
for Elasticsearch and Kibana. As of 5.0, all of Marvel&#8217;s features have been
rolled into X-Pack monitoring.</p>
<p>To migrate to X-Pack monitoring, you simply need to install X-Pack and update your
monitoring settings:</p>
<div class="informaltable">
<table border="1" cellpadding="4px">
<colgroup>
<col class="col_1"/>
<col class="col_2"/>
</colgroup>
<thead>
<tr>
<th align="left" valign="top">Monitoring 2.x Settings</th>
<th align="left" valign="top">X-Pack 5.0 Settings</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p><code class="literal">marvel.*</code></p></td>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.*</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">marvel.agent.*</code></p></td>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.collection.*</code></p></td>
</tr>
<tr>
<td align="left" valign="top"><p><code class="literal">marvel.agent.exporters.*</code></p></td>
<td align="left" valign="top"><p><code class="literal">xpack.monitoring.exporters.*</code></p></td>
</tr>
</tbody>
</table>
</div>
<p>For example <code class="literal">marvel.history.duration</code> is now <code class="literal">xpack.monitoring.history.duration</code>,
and <code class="literal">marvel.agent.interval</code> is now <code class="literal">xpack.monitoring.collection.interval</code>.</p>
<p>See <a class="xref" href="xpack-settings.html" title="X-Pack Settings">X-Pack Settings</a> for the complete list of
<a class="xref" href="monitoring-settings.html" title="Monitoring Settings">X-Pack monitoring settings</a> and other X-Pack configuration
options.</p>
<p>All of the Marvel metric indexes created by Marvel 2.3+ (named like
<code class="literal">.marvel-es-1-*</code>) will be automatically aliased to be used by Monitoring.
Marvel metric indexes created by 2.0 through 2.2 are not compatible with
Monitoring so they are unused and unmodified. You can delete them by running:</p>
<div class="pre_wrapper lang-console">
<pre class="programlisting prettyprint lang-console">DELETE /.marvel-es-20*</pre>
</div>
<div class="console_widget" data-snippet="snippets/1.console"></div>
<p>Marvel&#8217;s data index (named like <code class="literal">.marvel-es-data</code> or <code class="literal">.marvel-es-data-1</code>) is
also unused and unmodified. Monitoring will recreate a new data index soon
after startup so there is no real need to keep Marvel&#8217;s data indexes. You can
delete them by running:</p>
<div class="pre_wrapper lang-js">
<pre class="programlisting prettyprint lang-js">DELETE /.marvel-es-data*</pre>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h3 class="title"><a id="_using_an_external_monitoring_cluster"></a>Using an External Monitoring Cluster<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.2/docs/en/xpack-migrating.asciidoc">edit</a></h3>
</div></div></div>
<p>To use an external monitoring cluster to monitor an Elasticsearch 5.0 cluster,
you must run Elasticsearch 5.0 on the monitoring cluster. For more information
about external monitoring clusters, see <a class="xref" href="monitoring-cluster.html" title="Monitoring Elasticsearch">Setting up a Separate Monitoring Cluster</a>.</p>
</div>

</div>
<div class="navfooter">
<span class="prev">
<a href="security-migration.html">« Migrating from Shield</a>
</span>
<span class="next">
<a href="migrating_from_watcher.html">Migrating from Watcher »</a>
</span>
</div>
</div>
</body>
</html>
