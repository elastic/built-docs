<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Delete Watch API | X-Pack for the Elastic Stack [5.2] | Elastic</title>
<meta class="elastic" name="content" content="Delete Watch API | X-Pack for the Elastic Stack [5.2]">

<link rel="home" href="index.html" title="X-Pack for the Elastic Stack [5.2]"/>
<link rel="up" href="watcher-api.html" title="Watcher APIs"/>
<link rel="prev" href="watcher-api-get-watch.html" title="Get Watch API"/>
<link rel="next" href="watcher-api-execute-watch.html" title="Execute Watch API"/>
<meta class="elastic" name="product_version" content="5.2"/>
<meta class="elastic" name="product_name" content="X-Pack"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Legacy/XPack/Reference/5.2"/>
<meta name="DC.subject" content="X-Pack"/>
<meta name="DC.identifier" content="5.2"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.2 of the Elastic Stack has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
<a href="https://www.elastic.co/guide/index.html">current release documentation</a>.
</p>
</div>
<div class="navheader">
<span class="prev">
<a href="watcher-api-get-watch.html">« Get Watch API</a>
</span>
<span class="next">
<a href="watcher-api-execute-watch.html">Execute Watch API »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack [5.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="xpack-api.html">X-Pack APIs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="watcher-api.html">Watcher APIs</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Delete Watch API</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.2/docs/en/rest-api/watcher/delete-watch.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="watcher-api-delete-watch"></a>Delete Watch API</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.2/docs/en/rest-api/watcher/delete-watch.asciidoc">edit</a></div>
</div></div></div>
<p>The DELETE watch API removes a watch (identified by its <code class="literal">id</code>) from Watcher.
Once removed, the document representing the watch in the <code class="literal">.watches</code> index is
gone and it will never be executed again.</p>
<p>Please note that deleting a watch <span class="strong strong"><strong>does not</strong></span> delete any watch execution records
related to this watch from the watch history.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>Deleting a watch must be done via this API only. Do not delete the
            watch directly from the <code class="literal">.watches</code> index using Elasticsearch&#8217;s
            DELETE Document API. When X-Pack security is enabled, make sure no <code class="literal">write</code>
            privileges are granted to anyone over the <code class="literal">.watches</code> index.</p>
</div>
</div>
<p>The following example deletes a watch with the <code class="literal">my-watch</code> id:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">DELETE _xpack/watcher/watch/my_watch</pre>
</div>
<div class="console_widget" data-snippet="snippets/67.console"></div>
<p>Response:</p>
<div class="pre_wrapper lang-js">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-js">{
   "found": true,
   "_id": "my_watch",
   "_version": 2
}</pre>
</div>
<div class="position-relative"><h4><a id="_timeouts_2"></a>Timeouts</h4><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.2/docs/en/rest-api/watcher/delete-watch.asciidoc">edit</a></div>
<p>When deleting a watch while it is executing, the delete action will block and
wait for the watch execution to finish. Depending on the nature of the watch, in
some situations this can take a while. For this reason, the delete watch action
is associated with a timeout that is set to 10 seconds by default. You can
control this timeout by passing in the <code class="literal">master_timeout</code> parameter.</p>
<p>The following snippet shows how to change the default timeout of the delete
action to 30 seconds:</p>
<div class="pre_wrapper lang-console">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-console">DELETE _xpack/watcher/watch/my_watch?master_timeout=30s</pre>
</div>
<div class="console_widget" data-snippet="snippets/68.console"></div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="watcher-api-get-watch.html">« Get Watch API</a>
</span>
<span class="next">
<a href="watcher-api-execute-watch.html">Execute Watch API »</a>
</span>
</div>
</body>
</html>
