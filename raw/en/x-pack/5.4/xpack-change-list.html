<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Change List | X-Pack for the Elastic Stack [5.4] | Elastic</title>
<meta class="elastic" name="content" content="Change List | X-Pack for the Elastic Stack [5.4]">

<link rel="home" href="index.html" title="X-Pack for the Elastic Stack [5.4]"/>
<link rel="up" href="xpack-release-notes.html" title="Release Notes"/>
<link rel="prev" href="xpack-release-notes.html" title="Release Notes"/>
<link rel="next" href="security-release-notes.html" title="Shield Release Notes (Pre-5.0)"/>
<meta class="elastic" name="product_version" content="5.4"/>
<meta class="elastic" name="product_name" content="X-Pack"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Legacy/XPack/Reference/5.4"/>
<meta name="DC.subject" content="X-Pack"/>
<meta name="DC.identifier" content="5.4"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.4 of the Elastic Stack has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
<a href="https://www.elastic.co/guide/index.html">current release documentation</a>.
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack [5.4]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="xpack-release-notes.html">Release Notes</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="xpack-release-notes.html">« Release Notes</a>
</span>
<span class="next">
<a href="security-release-notes.html">Shield Release Notes (Pre-5.0) »</a>
</span>
</div>
<div class="chapter">
<div class="titlepage"><div><div>
<h2 class="title"><a id="xpack-change-list"></a>Change List<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h2>
</div></div></div>
<h3><a id="x-pack-5.4.3"></a>5.4.3<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>June 27, 2017</p>
<h4><a id="bugs-5.4.3"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Remove redundant <code class="literal">name</code> attribute from password and username fields.
</li>
<li class="listitem">
Provide <code class="literal">username</code> as credentials property during cookie-based authentication.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Shard activity caused by restoring snapshots will now properly show the
snapshot repository and snapshot names.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.4.2"></a>5.4.2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>June 20, 2017</p>
<h4><a id="bugs-5.4.2"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Removed <code class="literal">_field_stats</code> calls from the Elasticsearch queries, which was causing
deprecation warnings to be logged.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Start <code class="literal">croneval</code> command line tool correctly, when used in packaged environments
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.4.1"></a>5.4.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>June 1, 2017</p>
<h4><a id="bugs-5.4.1"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Machine Learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added automatic disabling of machine learning on tribe nodes to avoid conflicts.
</li>
<li class="listitem">
Removed the automatic creation of Kibana index patterns.
</li>
<li class="listitem">
Fixed escaping values in Explorer dashboard for metric queries.
</li>
<li class="listitem">
Fixed job state in error messages when a job deletion fails.
</li>
<li class="listitem">
Improved error messages when doc values are unavailable.
</li>
<li class="listitem">
Fixed an issue where attempts were made to get the native code version even
though machine learning was not enabled.
</li>
<li class="listitem">
Improved error reporting by validating job configurations earlier.
</li>
<li class="listitem">
Fixed handling of field names that contain round brackets.
</li>
<li class="listitem">
Added basePath to all machine learning API requests in the user interface.
</li>
<li class="listitem">
Disallowed normal closure of failed jobs; you must now force closure of failed
jobs.
</li>
<li class="listitem">
Improved handling of errors when indexing machine learning results; the job no longer
deadlocks in this scenario.
</li>
<li class="listitem">
Added fix to avoid the need to restart master nodes twice during rolling
upgrades to Version 5.4.
</li>
<li class="listitem">
Improved shutdown such that it only waits for the native controller to shut
down on platforms that machine learning native programs are available on.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added "Nodes" breadcrumb on the Logstash node detail page.
</li>
<li class="listitem">
Fixed an issue where brushing over the charts would cause an error to print
out in the JavaScript console.
</li>
<li class="listitem">
Fixed an issue where sending a SIGHUP signal to the Kibana server would cause
Kibana monitoring to stop sending metrics.
</li>
<li class="listitem">
Fixed a page rendering issue on the cluster listing page when the cluster
alerts feature is disabled.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an issue where disabling security and starting Kibana with
Elasticsearch unreachable would cause an HTTP Status 500 Server Error.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Tile Map
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Users with a Basic license now have access to 18 zoom levels on the tile map.
The behavior now correctly matches the documentation.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher UI
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added error handling for action acknowledgement.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.4.0"></a>5.4.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>May 4, 2017</p>
<h4><a id="new-5.4.0"></a>New Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Machine learning
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Introduces machine learning for the Elastic Stack. See <a class="xref" href="xpack-ml.html" title="Machine Learning in the Elastic Stack">Machine Learning in the Elastic Stack</a>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Top Cluster Alerts are now displayed in the Monitoring UI.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
X-Pack extensions can implement custom roles providers that define new
roles without adding them to the existing existing native or file stores.
This feature requires a Platinum license.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added UI for managing Alerts.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="enhancements-5.4.0"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Graph
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improved “add links to existing terms” behavior. Previously, adding links
to existing vertices sometimes failed to discover links that were present in
the search index. Now, all the relevant data is taken into account. Due to
memory limitations, we consider a max of 100 vertices at a time for link
discovery. If more than 100 vertices are selected in the UI,  we pick a
random sub-selection of 100 vertices.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Monitoring no longer requires the <code class="literal">kibana_user</code> role to have the
<code class="literal">cluster:monitor</code> privilege. The <code class="literal">cluster:monitor</code> privilege has been removed
from the <code class="literal">kibana_user</code> role in X-Pack Security.
</li>
<li class="listitem">
The X-Pack banner is hidden for all users of the Kibana instance when
initially dismissed. It can be shown again by changing the setting
<code class="literal">xPackMonitoring:showBanner</code> in Kibana’s Advanced Settings page. Previously
this setting only persisted per-browser in local storage.
</li>
<li class="listitem">
The Elasticsearch clusters page no longer indicates the "primary" cluster
with an asterisk (the cluster that the instance of Kibana is connected to).
The check for which cluster is "primary" is to determine, when there are
multiple Basic-license clusters, which can be supported by the Monitoring
UI app for the Single Cluster Monitoring feature that comes with the free
Basic license. Now in 5.4.0, that check only happens if there are multiple
Basic-license clusters found in the monitoring data. Supporting a single
Basic-license cluster still works, only the asterisk icon is gone from the
cluster listing. As always, paid licenses grant support for multi-cluster
monitoring.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A new configuration setting is available to <a class="xref" href="setting-up-authentication.html#disabling-default-password" title="Disable Default Password Functionality">disable support for the default password</a> (<em>"changeme"</em>).
</li>
<li class="listitem">
Added security privileges for machine learning: <code class="literal">manage_ml</code> and <code class="literal">monitor_ml</code>.
</li>
<li class="listitem">
Added <a class="xref" href="built-in-roles.html" title="Built-in Roles"><code class="literal">machine_learning_admin</code></a> and <a class="xref" href="built-in-roles.html" title="Built-in Roles"><code class="literal">machine_learning_user</code></a> roles.
</li>
<li class="listitem">
Added <code class="literal">watcher_user</code> and <code class="literal">watcher_admin</code> roles.
</li>
<li class="listitem">
Users that are authenticated using the <code class="literal">ldap</code> or <code class="literal">active_directory</code> realms
now have their DN and list of groups included in their user metadata under
the keys <code class="literal">ldap_dn</code> and <code class="literal">ldap_groups</code>. This metadata is available in DLS
query templates.
</li>
<li class="listitem">
Added <code class="literal">has_privileges</code> API to determine which index privileges a user has.
</li>
<li class="listitem">
Added a new <code class="literal">ignore_referral_errors</code> setting to the <code class="literal">ldap</code> and
<code class="literal">active_directory</code> realms. Setting this to <code class="literal">false</code> means that LDAP errors that
occur while following an LDAP referral are treated as fatal errors and cause authentication to fail. Defaults to <code class="literal">true</code>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Comma-separated email addresses are now supported in a watch&#8217;s to/cc/bcc
fields.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
X-Pack
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Dismissing the X-Pack Welcome Banner now dismisses the banner for all
users and browsers. The banner setting is stored as a Kibana Advanced
Setting in the <code class="literal">.kibana</code> index along with the phone home setting. You
can modify these settings from Advanced Settings in Kibana.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="bugs-5.4.0"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Index names are now correctly resolved if the index name pattern contains
both date math and wildcards.
</li>
<li class="listitem">
LDAP error handling now detects additional failure cases, particularly
around search timeouts. This resolves some situations where the LDAP realm
would silently determine that a user had no groups, when it should have
reported an error.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Watch ack status is correctly reset, when the condition is not met again for
the first time.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
X-Pack
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Basic license now correctly enables 18 levels of zoom in the Tilemap
visuablization. Previously, Basic wasn&#8217;t being passed as a valid license type
and it defaulted to 10 zoom levels.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.3.3"></a>5.3.3<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>June 1, 2017</p>
<h4><a id="bugs-5.3.3"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Limited the indices stats being collected to just the ones that are needed to
reduce the overhead of the lookup.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.3.2"></a>5.3.2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>April 27, 2017</p>
<h4><a id="bugs-5.3.2"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed resetting of acknowledgement status on unmet conditions.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.3.1"></a>5.3.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>April 20, 2017</p>
<h4><a id="enhancements-5.3.1"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Parsing of comma separated email addresses, so you can use the <code class="literal">{{#join}}</code> tag to join an array of email addresses.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="bugs-5.3.1"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed a problem in field level security that could result in users not seeing
all the documents that they should.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
HTTP JSON parsing has been fixed when a response contains only a JSON array.
</li>
<li class="listitem">
When watcher is disabled, the start up check on automatic index creation is now disabled as well.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.3.0"></a>5.3.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>March 28, 2017</p>
<h4><a id="breaking-5.3.0"></a>Breaking Changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Unauthorized bulk request is rejected on individual bulk item basis instead of being rejected as an entire operation.
In case of insufficient privileges, individual bulk item responses return security exception with <code class="literal">403</code> error code
instead of top level bulk response returning security exception with <code class="literal">403</code> error code. The top level bulk response
always returns with <code class="literal">200</code> status code.
</li>
<li class="listitem">
<code class="literal">create</code>, <code class="literal">index</code> and <code class="literal">delete</code> index privileges can execute bulk action.
</li>
<li class="listitem">
Usage of Netty 3 for transport (<code class="literal">transport.type=security3</code>) or HTTP
(<code class="literal">http.type=security3</code>) is deprecated and will be removed in X-Pack
6.0.0. Instead, rely on the default implementations which are based on
Netty 4.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="enhancements-5.3.0"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
A new dedicated action status called <code class="literal">ACKNOWLEDGED</code> has been introduced to easily find watches, that have been acknowledged by the user
</li>
<li class="listitem">
Index Actions now support the ability to index using a dynamic <code class="literal">_id</code> field in the payload or constant <code class="literal">doc_id</code> parameter
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.2.2"></a>5.2.2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>February 28, 2017</p>
<h4><a id="bugs-5.2.2"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Auto-Refresh can be set to Off without adverse effects.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.2.1"></a>5.2.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>February 14, 2017</p>
<h4><a id="enhancements-5.2.1"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You can now specify multiple Elasticsearch hosts as an array when
configuring the <code class="literal">xpack.monitoring.elasticsearch.url</code>.
</li>
<li class="listitem">
The Clusters table now includes a column for Logstash.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added TRACE logging for LDAP traffic.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="bugs-5.2.1"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The list of Logstash nodes can now display more than 10 nodes.
</li>
<li class="listitem">
Fixed the cluster summary rollups for Kibana and Logstash that
appear in the Cluster Overview and Cluster Summary.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You no longer get a <code class="literal">StatusLogger</code> error when you run the <code class="literal">certgen</code> tool.
</li>
<li class="listitem">
If you upgrade after reverting to a Basic license, you no longer get an
error indicating that the realm cache could not be cleared.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Ensure that no NPE is thrown on startup if a required index for Watcher
has been manually closed.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.2.0"></a>5.2.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>January 31, 2017</p>
<h4><a id="breaking-5.2.0"></a>Breaking Changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The validation of security related settings has been tightened.
Elasticsearch will refuse to start if it detects incorrect configuration of security realms or SSL/TLS.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="new-5.2.0"></a>New Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You can now <a class="xref" href="monitoring-logstash.html" title="Monitoring Logstash">monitor Logstash</a> nodes.
</li>
<li class="listitem">
If you&#8217;re running Elasticsearch in containers, you can now monitor a
container’s utilization metrics that are reported from each Elasticsearch
instance.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="enhancements-5.2.0"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You can once again <a class="xref" href="monitoring-cluster.html#monitoring-tribe" title="Configuring a Tribe Node to Work with Monitoring">monitor tribe nodes</a>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Renamed the <code class="literal">kibana</code> role to <code class="literal">kibana_system</code>. A backwards compatibility
layer is provided so that kibana access still works properly during rolling
upgrades.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Watches can now be deleted even if the license is expired.
</li>
<li class="listitem">
A deprecation warning is logged if an executed watch contains unencoded URLs.
Starting in 6.0, all URLs in <code class="literal">http</code> and <code class="literal">webhook</code> actions must be properly
encoded.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="bugs-5.2.0"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Reporting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Now correctly uses the dashboard state when rendering visualizations.
Previously, if you saved a change to a dashboard and then generated a report,
the report would not reflect the change.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
LDAP and AD realms now obey the <code class="literal">ssl.verification_mode setting</code>.
The <code class="literal">hostname_verification</code> setting is deprecated.
</li>
<li class="listitem">
When using a Gold license, the role management UI now identifies any
roles that are disabled because they rely on the document or field level
security features available during the trial period and with a Platinum
license. You cannot modify disabled roles, but you can view and delete them.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">search</code> input now correctly handles the <code class="literal">extract</code> parameter.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="bugs-5.1.2"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed a problem where <code class="literal">realm_authentication_failed</code> audit events were being
recorded as <code class="literal">authentication_failed</code> when auditing was logged to an index.
</li>
<li class="listitem">
If a destructive operations check fails, stop execution of the index operation.
</li>
<li class="listitem">
Disable roles with document and field level security if the trial period is
over and a Gold license is installed. (DLS/FLS are only available with a Platinum
license.)
</li>
<li class="listitem">
Looking up the groups an LDAP user belongs to now returns the correct
information. This was preventing users from being correctly mapped to roles in
some cases.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Index action: Ensure that a failed index request, which is part of a bulk
request via the <code class="literal">_doc</code> array is logged correctly as success or (partial) failure.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.1.1"></a>5.1.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>December 8, 2016</p>
<h4><a id="enhancements-5.1.1"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
You can now specify a proxy in HipChat, PagerDuty, and Slack actions.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Combined advnanced node charts.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="new-5.1.1"></a>New Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added a new <code class="literal">jira</code> action that allows to create Jira issues using Watcher.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="bugs-5.1.1"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Improved behavior of the monitoring charts' crosshair.
</li>
<li class="listitem">
Temporarily removed monitoring chart tooltip.
</li>
<li class="listitem">
Fixed monitoring chart legend labels.
</li>
<li class="listitem">
Properly handle 404 responses from Elasticsearch.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reporting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed an unhandled error when extracting the PhantomJS archive that was
causing the Kibana server to stall on start up.
</li>
<li class="listitem">
Updated the <code class="literal">phantomjs.exe</code> path for Windows.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed a problem where the search template endpoint threw an error when used
against all indices or a wildcard expression.
</li>
<li class="listitem">
Kibana no longer crashses when a basic license is installed.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
An invalid HTTP response is now correctly marked as a failure.
</li>
<li class="listitem">
Ensure that watcher history does not contain secrets
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.1.0"></a>5.1.0  (skipped)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>Version 5.1.0 doesn’t exist because, for a short period of time, the Elastic
Yum and Apt repositories included unreleased binaries labeled 5.1.0. To avoid
confusion and upgrade issues for the people that have installed these without
realizing, we decided to skip the 5.1.0 version and release 5.1.1 instead.</p>
<h3><a id="xpack-5.0.2"></a>5.0.2<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>November 29, 2016</p>
<h4><a id="bugs-5.0.2"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Add support for custom headers in the monitoring connection and make phone
home always return 200.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow reads of native users and roles when the template version hasn&#8217;t been
updated to match the current version. This prevents failures from occurring
during rolling upgrades.
</li>
<li class="listitem">
Retain all user information for run as requests.
</li>
<li class="listitem">
Prevent unknown run as users from executing any APIs. Previously, if an
authenticated user with run as permission attempted to run as an unknown
user, the unknown user was assigned the default and anonymous roles if
they were enabled.
</li>
<li class="listitem">
If an exception is thrown when resolving the index in an index request, it
is now recorded as <code class="literal">accessDenied</code> in the audit-trail. Previously, no entry
was recorded in the audit trail.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.0.1"></a>5.0.1<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>November 15, 2016</p>
<h4><a id="bugs-5.0.1"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Graph
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Fixed the license check so Graph doesn&#8217;t throw an <code class="literal">undefined</code> error
when Security is disabled and you try to load a workspace URL.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Show Replica Count not Replication Factor in Overview.
</li>
<li class="listitem">
A non-aliased Monitoring index can now be always be created for the current
day when upgrading from Marvel.
</li>
<li class="listitem">
Duplicate shards no longer appear in the shard allocation table.
</li>
<li class="listitem">
The Kibana Cluster Summary now always shows the last-known status.
</li>
<li class="listitem">
Kibana now makes sure Monitoring is enabled before attempting to send stats.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Security can no longer pollute the thread context with incorrect users, which
could cause failures during the discovery process.
</li>
<li class="listitem">
Security now honors the <code class="literal">action.destructive_requires_name</code> setting and
prevents users from deleting indices with wildcards if it is set to <code class="literal">true</code>.
</li>
<li class="listitem">
Made changes to preserve the context when performing internal actions.
This ensures subsequent actions are performed as the correct user.
</li>
<li class="listitem">
Files generated by the <code class="literal">certgen</code> tool now have permissions set to 600
so they aren&#8217;t world-readable.
</li>
<li class="listitem">
The Security UI no longer hangs when you configure field-level security when
adding a role.
</li>
<li class="listitem">
When running with a Basic License, the login dialog is no longer displayed
and no Security elements are visible in Kibana.
</li>
<li class="listitem">
The last sub URL of each Kibana app is no longer cached between sessions.
This means that when a different user logs in, they are longer redirected
to the URLs the previous user viewed last.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Chain input: An exception is now thrown if the inputs in the chain are
specified with a data structure that does not preserve the input order. The
inputs in a chain must be specified as array elements to guarantee the order
in which the inputs are processed. (JSON does not guarantee the order of
arbitrary objects.)
</li>
<li class="listitem">
Watch history template: Removed the unused Watcher plugin version.
</li>
<li class="listitem">
Email output: Fixed an error that prevented emails from being sennt when
localhost could not be resolved.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h3><a id="xpack-5.0.0"></a>5.0.0<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h3>
<p>October 26, 2016</p>
<h4><a id="breaking-5.0.0"></a>Breaking Changes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
X-Pack
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
All settings have been updated to use the <code class="literal">xpack</code> prefix. For more
information, see <a class="xref" href="migrating-to-xpack.html" title="Migrating to X-Pack">Migrating to X-Pack</a>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Licensing
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Licensing endpoint has been renamed from <code class="literal">/_license</code> to <code class="literal">/_xpack/license</code>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">http</code> exporters no longer honor the <code class="literal">keep_alive</code> setting as this is handled
by the low-level REST Client.
</li>
<li class="listitem">
All <code class="literal">monitoring.agent.*</code> settings have been changed to more closely
match other monitoring collection settings: <code class="literal">xpack.monitoring.collection.*</code>
and <code class="literal">xpack.monitoring.exporters.*</code>.
</li>
<li class="listitem">
The Index page&#8217;s Lucene Memory chart was replaced with an Index Memory chart,
which includes a superset of the information. Fielddata, which has become a
significantly less common issue, has been rolled into the Index Memory chart.
</li>
<li class="listitem">
To use an external monitoring cluster to monitor an Elasticsearch 5.0
cluster, you must run Elasticsearch 5.0 on the monitoring cluster. For more
information about external monitoring clusters, see <a class="xref" href="monitoring-cluster.html" title="Monitoring Elasticsearch">Setting up a Separate Monitoring Cluster</a>.
</li>
<li class="listitem">
All settings have been updated to use the <code class="literal">xpack.monitoring</code> prefix. For more
information, see <a class="xref" href="migrating-to-xpack.html" title="Migrating to X-Pack">Migrating to X-Pack</a>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Reporting
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Reporting encryption keys configured in <code class="literal">kibana.yml</code> must now be at least
32 characters.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Security encryption keys configured in <code class="literal">kibana.yml</code> must now be at least
32 characters.
</li>
<li class="listitem">
The <a class="xref" href="security-migration.html#security-tls-ssl-migrate" title="TLS/SSL Settings">SSL configuration settings</a> have been changed
to use an easier to use format that also supports PEM files.
</li>
<li class="listitem">
Removed the <code class="literal">files.users</code> and <code class="literal">files.users_roles</code> settings from the
<a class="xref" href="file-realm.html" title="File-based User Authentication"><code class="literal">file</code> realm</a>.
</li>
<li class="listitem">
Removed the setting that allowed for a custom <code class="literal">roles.yml</code> file location
to be specified. The <code class="literal">roles.yml</code> file must always be in the <code class="literal">CONF_DIR/x-pack</code>
directory.
</li>
<li class="listitem">
Removed the setting that allowed for a custom system key location to be
defined. The <code class="literal">system_key</code> file must always be in the <code class="literal">CONF_DIR/x-pack</code>
directory.
</li>
<li class="listitem">
The <a class="xref" href="auditing.html#audit-log-output" title="Logfile Audit Output"><code class="literal">logfile</code> output</a> for auditing no longer uses the
log level to determine which events to log. The events are now controlled
in the same way as the <code class="literal">index</code> output.
</li>
<li class="listitem">
Changed the syntax for <a class="xref" href="field-and-document-access-control.html#field-level-security" title="Field Level Security">field-level-security</a>. Roles
stored in the old format in native or file based realm will continue to work
but new roles must use the new format.
</li>
<li class="listitem">
The <code class="literal">esusers</code> realm has been renamed to <code class="literal">file</code> and the <code class="literal">esusers</code> command line
tool has been renamed to <code class="literal">users</code>. Note that the <a class="xref" href="native-realm.html#managing-native-users" title="Managing Native Users">User
and Role APIs</a> are the preferred way to manage internal users.
</li>
<li class="listitem">
Elasticsearch enables HTTP compression by default now. To mitigate potential
security risks like the BREACH attack, X-Pack security disables compression if HTTPS
is enabled. If Elasticsearch should compress HTTPS traffic, please explicitly
set <code class="literal">http.compression</code> to <code class="literal">true</code> in &#8216;elasticsearch.yml&#8217;.
</li>
<li class="listitem">
You must specify all required values to override the global SSL configuration
in a profile. If any values are omitted, the entire configuration falls back to
the global settings,  <code class="literal">xpack.security.ssl.*</code>.
</li>
<li class="listitem">
The <code class="literal">skipSslCheck</code> and <code class="literal">useUnsafeSessions</code> for Kibana have been replaced by
<code class="literal">xpack.security.secureCookies</code> in <code class="literal">kibana.yml</code>. SSL is now <em>disabled</em> by default.
You can start Kibana without making any changes to <code class="literal">kibana.yml</code> after you install
X-Pack. Do not deploy to production without <a class="xref" href="encrypting-communications.html" title="Encrypting Communications">enabling
SSL/TLS encryption</a>!
</li>
<li class="listitem">
A default role is now applied to all users, including
<a class="xref" href="anonymous-access.html" title="Enabling Anonymous Access">anonymous users</a>. The default role enables users to
access the authenticate endpoint, change their own passwords, and get
information about themselves.
</li>
<li class="listitem">
All settings have been updated to use the <code class="literal">xpack.security</code> prefix. For more
information, see <a class="xref" href="migrating-to-xpack.html" title="Migrating to X-Pack">Migrating to X-Pack</a>.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The <code class="literal">force</code> parameter of the <a class="xref" href="watcher-api-delete-watch.html" title="Delete Watch API">Delete Watch
Action</a> has been removed.
</li>
<li class="listitem">
The use of the <code class="literal">_timestamp</code> field for the execution time has been removed.
The user now needs to set this explicitly in the <code class="literal">index</code> action.
</li>
<li class="listitem">
The <code class="literal">_xpack/watcher/_start</code>, <code class="literal">_xpack/watcher/_restart</code>, and
<code class="literal">_xpack/watcher/_stop</code> REST endpoints require <code class="literal">POST</code> actions instead of
<code class="literal">PUT</code> actions. The <em>deprecated</em> <code class="literal">_watcher/_start</code>, <code class="literal">_watcher/_restart</code>, and
<code class="literal">_watcher/_stop</code> endpoints still allow <code class="literal">PUT</code>.
</li>
<li class="listitem">
Watch history now uses a versioned template. The index names also changed
and contain this version. So instead of <code class="literal">.watch_history_2016.02.03</code> the new
index name is <code class="literal">.watcher-history-1-2016.02.03</code>, where <code class="literal">1</code> is the current
version. If you are using X-Pack security, this might require you to change
roles/permissions because of the different index names! The old index template
named <code class="literal">watch_history</code> can safely be deleted. However, it does not interfere
with the new index template.
</li>
<li class="listitem">
The setting that enables scripting only for Watcher has been renamed from
<code class="literal">script.engine.groovy.inline.elasticsearch-watcher_watch</code> to
<code class="literal">script.engine.groovy.inline.xpack_watch</code>.
</li>
<li class="listitem">
Elasticsearch has several breaking changes in the query DSL, including that
<code class="literal">search_type=count</code> is no longer supported. Check to see if your watches use
this search type and upgrade them to use <code class="literal">size: 0</code> in the request body as
needed. For more information about breaking changes including search changes,
see <a href="http://www.elastic.co/guide/en/elasticsearch/reference/5.4/breaking-changes-5.0.html" class="ulink" target="_top">breaking changes section in Elasticsearch</a>.
</li>
<li class="listitem">
All account SMTP timeouts (<code class="literal">smtp.timeout</code>, <code class="literal">smtp.connection_timeout</code> and
<code class="literal">smtp.write_timeout</code>) now require a time value instead of a number in
milliseconds.
</li>
<li class="listitem">
The notification settings for PagerDuty, Slack, HipChat, and email have been
moved from <code class="literal">watcher.actions</code> to <code class="literal">xpack.notification</code>. You need to update your
Elasticsearch configuration accordingly.
</li>
<li class="listitem">
All watcher endpoints have been renamed from <code class="literal">/_watcher/XYZ</code> to
<code class="literal">/_xpack/watcher/XYZ</code>. You might need to fix this in external scripts as well
as in your watches.
</li>
<li class="listitem">
The notification settings have been stripped of their <code class="literal">service</code> part. So
<code class="literal">watcher.actions.slack.service.default_account</code> becomes
<code class="literal">xpack.notification.slack.default_account</code>
</li>
<li class="listitem">
The setting <code class="literal">watcher.shield.encrypt_sensitive_data</code> has been renamed to
<code class="literal">xpack.watcher.encrypt_sensitive_data</code>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="new-5.0.0"></a>New Features<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added new node resolver, <code class="literal">uuid</code>, to the Monitoring UI configuration and made
it the default. Starting with Elasticsearch 5.0, instances of Elasticsearch
create a persistent UUID that remains the same across restarts unless the data
directory is deleted. If the data directory is deleted, the instance a new
UUID on start up.
</li>
<li class="listitem">
Latencies calculated against <em>totals</em> use derivatives to get the rate of
change. If any derivative is negative, then that time bucket is ignored and
left blank on the latency chart. Values that are negative indicate that the
underlying total shrank, which means that the data is skewed and showing
the result is misleading (for example,  due to nodes restarting).
</li>
<li class="listitem">
Added Segment Count memory chart to the Index page.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Support for forest wide authentication in the <a class="xref" href="active-directory-realm.html" title="Active Directory User Authentication">Active Directory Realm</a>.
</li>
<li class="listitem">
The default LDAP group search filter now includes <code class="literal">posixGroup</code> groups.
</li>
<li class="listitem">
LDAP user search can now use un-pooled connections.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added support for accessing the HTTP status code of a response in the HTTP
input through <code class="literal">ctx.payload._status_code</code>.
</li>
<li class="listitem">
The new REST endpoint for acknowledging certain actions of a watch is
<code class="literal">_xpack/watcher/watch/{watch_id}/_ack/{action_id}</code>. The old notation was
<code class="literal">watcher/watch/{watch_id}/{action_id}/_ack</code>, which will be removed
in future releases.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="enhancements-5.0.0"></a>Enhancements<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Graph
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added ability to save Graph workspaces
</li>
<li class="listitem">
Added ability to drill-down on Graph selections using other Kibana
visualizations
</li>
<li class="listitem">
In the Graph UI, you can now use an index pattern such as <code class="literal">logstash-*</code> to
select multiple time-based indices instead of a single index.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Monitoring
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Added dots for all points on charts.
</li>
<li class="listitem">
Added the ability to highlight points by hovering close to them. The
highlighted point, and those from other series at the X-position, are what are
displayed in the legend.
</li>
<li class="listitem">
Added a monitoring ingest pipeline so that future releases will be compatible
even if backward incompatible changes are made. This is enabled by default, but
can be disabled by setting <code class="literal">use_ingest</code> to <code class="literal">false</code> at the exporter level
(for example, <code class="literal">xpack.monitoring.exporters.my_exporter.use_ingest: false</code>).
</li>
<li class="listitem">
Added the ability for HTTP exporters to send arbitrary HTTP headers along
with requests. This allows the HTTP exporter to be used with proxies to route
monitoring data more dynamically, if necessary. This can be used by supplying
name-value pairs at the exporter level (for example,
<code class="literal">xpack.monitoring.exporters.my_exporter.headers.X-My-Header: abc123</code>).
</li>
<li class="listitem">
Rewrote the HTTP exporter to use the low-level REST Client and better pool
connections. This reduces the resources used for both networking and parsing.
</li>
<li class="listitem">
Added Kibana instance monitoring as part of the same Elastic Cluster.
</li>
<li class="listitem">
Added experimental charts to be used while monitoring Kibana instances.
</li>
<li class="listitem">
Added breadcrumbs to allow simpler navigation between monitoring pages.
</li>
<li class="listitem">
Simplified the Indices tab to remove charts that already appeared on the
Overview page so that indices are more accessible.
</li>
<li class="listitem">
Simplified overall status handling so that it is clearer what the status of
the current item is (e.g., index view gives index status).
</li>
<li class="listitem">
Added index memory graph to the Node page so that the cost of open indices
can be determined more accurately.
</li>
<li class="listitem">
Added the total indexing rate alongside the primary indexing rate. Total
includes both primaries and replicas.
</li>
<li class="listitem">
Added color to all charts.
</li>
<li class="listitem">
Added units to all chart titles.
</li>
<li class="listitem">
Added the internals to support monitoring Kibana instances.
</li>
<li class="listitem">
Improved the display of values in the legend.
</li>
<li class="listitem">
Shortened the welcome message.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Native users and roles can now be used on tribe nodes.
</li>
<li class="listitem">
Added the ability to disable native and reserved users.
</li>
<li class="listitem">
Added ability to define exclusions for fields in field level security.
</li>
<li class="listitem">
Added <a class="xref" href="built-in-roles.html" title="Built-in Roles">built-in roles</a> for reporting users, monitoring users,
remote monitoring agents, and users of the Kibana ingest feature.
</li>
<li class="listitem">
Auditing supports an <a class="xref" href="auditing.html#audit-event-types" title="Audit Event Types"><code class="literal">authentication_success</code> event</a> that
is output after authentication. This event can output the body of the request,
so in combination with the <code class="literal">authentication_failed</code> event all request bodies can
be audited.
</li>
<li class="listitem">
Added a X-Pack specific transport client, <a class="xref" href="java-clients.html#transport-client" title="Configuring the Transport Client to work with a Secured Cluster"><code class="literal">PreBuiltXPackTransportClient</code></a>, that provides an easy way to use the
transport client with X-Pack and other modules of Elasticsearch such as
reindex.
</li>
<li class="listitem">
Auditing now de-duplicates the names of indices when logging.
</li>
<li class="listitem">
Document and Field Level Security can be used with realtime requests.
</li>
<li class="listitem">
The <code class="literal">certgen</code> tool no longer generates file names that would result in hidden
files and now offers an option to specify the validity
time of the generated certificates.
</li>
<li class="listitem">
Added an <code class="literal">ingest_admin</code> role that grants the permissions requried to use the
ingest feature in Kibana.
</li>
<li class="listitem">
New <code class="literal">elastic</code> and <code class="literal">kibana</code> built-in users.
</li>
<li class="listitem">
New <code class="literal">superuser</code> and <code class="literal">transport_client</code> built-in roles.
</li>
<li class="listitem">
Added a <a class="xref" href="security-api-users.html#security-api-reset-user-password">password</a> API to enable
administrators and users to reset and change passwords.
</li>
<li class="listitem">
Added a built-in <code class="literal">kibana_user</code> role that grants the minimum
set of privileges needed to use Kibana.
</li>
<li class="listitem">
Default anonymous username changed to <code class="literal">_anonymous</code> (used to be
<code class="literal">_es_anonymous_user</code>)
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Allow use of <code class="literal">inline</code> attachments in emails, so that desktop clients can
display attachments like images embedded in emails.
</li>
<li class="listitem">
The HTTP headers of a response are now part of the payload and can be
accessed via   <code class="literal">ctx.payload._headers</code>
</li>
<li class="listitem">
Individual actions now support conditions. This is useful when a single watch
contains multiple actions&#8212;&#8203;specific actions can fire based on the current
context.
</li>
<li class="listitem">
Watches can now be modified or deleted while they are running, which is
especially useful for long running watches
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h4><a id="bugs-5.0.0"></a>Bug Fixes<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h4>
<div class="variablelist">
<dl class="variablelist">
<dt>
<span class="term">
Security
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Updated document level security to support preventing requests that use
scripts or <code class="literal">now()</code> from being cached.
</li>
</ul>
</div>
</dd>
<dt>
<span class="term">
Watcher
</span>
</dt>
<dd>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
The watch version is now ignored when deleting a watch.
</li>
</ul>
</div>
</dd>
</dl>
</div>
<h2><a id="_x_plugins_release_notes_pre_5_0"></a>X-Plugins Release Notes (Pre-5.0)<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack/edit/5.4/docs/en/xpack-release-notes.asciidoc">edit</a></h2>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<a class="xref" href="security-release-notes.html" title="Shield Release Notes (Pre-5.0)">Shield</a>
</li>
<li class="listitem">
<a class="xref" href="watcher-release-notes.html" title="Watcher Release Notes (Pre-5.0)">Watcher</a>
</li>
<li class="listitem">
<a class="xref" href="monitoring-release-notes.html" title="Marvel Release Notes (Pre-5.0)">Marvel</a>
</li>
<li class="listitem">
<a class="xref" href="graph-release-notes.html" title="Graph Release Notes (Pre-5.0)">Graph</a>
</li>
</ul>
</div>
</div>
<div class="navfooter">
<span class="prev">
<a href="xpack-release-notes.html">« Release Notes</a>
</span>
<span class="next">
<a href="security-release-notes.html">Shield Release Notes (Pre-5.0) »</a>
</span>
</div>
</div>
</body>
</html>
