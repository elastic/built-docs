<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Enabling Anonymous Access | X-Pack for the Elastic Stack [5.6] | Elastic</title>
<meta class="elastic" name="content" content="Enabling Anonymous Access | X-Pack for the Elastic Stack [5.6]">

<link rel="home" href="index.html" title="X-Pack for the Elastic Stack [5.6]"/>
<link rel="up" href="setting-up-authentication.html" title="Setting Up User Authentication"/>
<link rel="prev" href="_how_authentication_works.html" title="How Authentication Works"/>
<link rel="next" href="native-realm.html" title="Native User Authentication"/>
<meta class="elastic" name="product_version" content="5.6"/>
<meta class="elastic" name="product_name" content="X-Pack"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Legacy/XPack/Reference/5.6"/>
<meta name="DC.subject" content="X-Pack"/>
<meta name="DC.identifier" content="5.6"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
<p>
  <strong>WARNING</strong>: Version 5.6 of the Elastic Stack has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
<a href="https://www.elastic.co/guide/index.html">current release documentation</a>.
</p>
</div>
<div class="navheader">
<span class="prev">
<a href="_how_authentication_works.html">« How Authentication Works</a>
</span>
<span class="next">
<a href="native-realm.html">Native User Authentication »</a>
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack [5.6]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="xpack-security.html">Securing Elasticsearch and Kibana</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="setting-up-authentication.html">Setting Up User Authentication</a></span>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Enabling Anonymous Access</h1><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack-elasticsearch/edit/5.6/docs/en/security/authentication/anonymous-access.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="section">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="anonymous-access"></a>Enabling Anonymous Access</h2><a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack-elasticsearch/edit/5.6/docs/en/security/authentication/anonymous-access.asciidoc">edit</a></div>
</div></div></div>
<p>Incoming requests are considered to be <em>anonymous</em> if no authentication token
can be extracted from the incoming request. By default, anonymous requests are rejected and an authentication error is returned (status code <code class="literal">401</code>).</p>
<p>To enable anonymous access, you assign one or more roles to anonymous
users in the <code class="literal">elasticsearch.yml</code> configuration file. For example, the following
configuration assigns anonymous users <code class="literal">role1</code> and <code class="literal">role2</code>:</p>
<div class="pre_wrapper lang-yaml">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-yaml">xpack.security.authc:
  anonymous:
    username: anonymous_user <a id="CO3-1"></a><i class="conum" data-value="1"></i>
    roles: role1, role2 <a id="CO3-2"></a><i class="conum" data-value="2"></i>
    authz_exception: true <a id="CO3-3"></a><i class="conum" data-value="3"></i></pre>
</div>
<div class="calloutlist">
<table border="0" summary="Callout list">
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-1"><i class="conum" data-value="1"></i></a></p>
</td>
<td align="left" valign="top">
<p>The username/principal of the anonymous user. Defaults to
<code class="literal">_es_anonymous_user</code> if not specified.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-2"><i class="conum" data-value="2"></i></a></p>
</td>
<td align="left" valign="top">
<p>The roles to associate with the anonymous user. If no roles are specified, anonymous access is disabled&#8212;&#8203;anonymous requests will be rejected and return an authentication error.</p>
</td>
</tr>
<tr>
<td align="left" valign="top" width="5%">
<p><a href="#CO3-3"><i class="conum" data-value="3"></i></a></p>
</td>
<td align="left" valign="top">
<p>When <code class="literal">true</code>, a 403 HTTP status code is returned if the anonymous user
does not have the permissions needed to perform the requested action and the
user will NOT be prompted to provide credentials to access the requested
resource. When <code class="literal">false</code>, a 401 HTTP status code is returned if the anonymous user
does not have the necessary permissions and the user is prompted for
credentials to access the requested resource. If you are using anonymous access
in combination with HTTP, you might need to set <code class="literal">authz_exception</code> to <code class="literal">false</code>
if your client does not support preemptive basic authentication. Defaults to
<code class="literal">true</code>.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="_how_authentication_works.html">« How Authentication Works</a>
</span>
<span class="next">
<a href="native-realm.html">Native User Authentication »</a>
</span>
</div>
</body>
</html>
