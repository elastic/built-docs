<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Datafeeds | X-Pack for the Elastic Stack [6.2] | Elastic</title>
<meta class="elastic" name="content" content="Datafeeds | X-Pack for the Elastic Stack [6.2]">

<link rel="home" href="index.html" title="X-Pack for the Elastic Stack [6.2]"/>
<link rel="up" href="ml-overview.html" title="Overview"/>
<link rel="prev" href="ml-jobs.html" title="Machine Learning Jobs"/>
<link rel="next" href="ml-buckets.html" title="Buckets"/>
<meta class="elastic" name="product_version" content="6.2"/>
<meta class="elastic" name="product_name" content="X-Pack"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/Legacy/XPack/Reference/6.2"/>
<meta name="DC.subject" content="X-Pack"/>
<meta name="DC.identifier" content="6.2"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
<p>
  <strong>WARNING</strong>: Version 6.2 of the Elastic Stack has passed its 
  <a href="https://www.elastic.co/support/eol">EOL date</a>. 
</p>  
<p>
  This documentation is no longer being maintained and may be removed. 
  If you are running this version, we strongly advise you to upgrade. 
  For the latest information, see the 
<a href="https://www.elastic.co/guide/index.html">current release documentation</a>.
</p>
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="index.html">X-Pack for the Elastic Stack [6.2]</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="xpack-ml.html">Machine Learning in the Elastic Stack</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="ml-overview.html">Overview</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="ml-jobs.html">« Machine Learning Jobs</a>
</span>
<span class="next">
<a href="ml-buckets.html">Buckets »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="ml-dfeeds"></a>Datafeeds<a class="edit_me edit_me_private" rel="nofollow" title="Editing on GitHub is available to Elastic" href="https://github.com/elastic/x-pack-elasticsearch/edit/6.2/docs/en/ml/datafeeds.asciidoc">edit</a></h2>
</div></div></div>
<p>Machine learning jobs can analyze data that is stored in Elasticsearch or data that is
sent from some other source via an API. <em>Datafeeds</em> retrieve data from Elasticsearch
for analysis, which is the simpler and more common scenario.</p>
<p>If you create jobs in Kibana, you must use datafeeds. When you create a job, you
select an index pattern and Kibana configures the datafeed for you under the
covers. If you use machine learning APIs instead, you can create a datafeed by using the
<a href="/guide/en/elasticsearch/reference/6.2/ml-put-datafeed.html" class="ulink" target="_top">create datafeeds API</a> after you create a job. You can
associate only one datafeed with each job.</p>
<p>For a description of all the datafeed properties, see
<a href="/guide/en/elasticsearch/reference/6.2/ml-datafeed-resource.html" class="ulink" target="_top">Datafeed Resources</a>.</p>
<p>To start retrieving data from Elasticsearch, you must start the datafeed. When you start
it, you can optionally specify start and end times. If you do not specify an
end time, the datafeed runs continuously. You can start and stop datafeeds in
Kibana or use the <a href="/guide/en/elasticsearch/reference/6.2/ml-start-datafeed.html" class="ulink" target="_top">start datafeeds</a> and
<a href="/guide/en/elasticsearch/reference/6.2/ml-stop-datafeed.html" class="ulink" target="_top">stop datafeeds</a> APIs. A datafeed can be started and
stopped multiple times throughout its lifecycle.</p>
<div class="important admon">
<div class="icon"></div>
<div class="admon_content">
<p>When X-Pack security is enabled, a datafeed stores the roles of the user who created
or updated the datafeed at that time. This means that if those roles are updated,
the datafeed subsequently runs with the new permissions that are associated with
the roles. However, if the user’s roles are adjusted after creating or updating
the datafeed, the datafeed continues to run with the permissions that were
associated with the original roles.</p>
<p>One way to update the roles that are stored within the datafeed without changing
any other settings is to submit an empty JSON document ({}) to the
<a href="/guide/en/elasticsearch/reference/6.2/ml-update-datafeed.html" class="ulink" target="_top">update datafeed API</a>.</p>
</div>
</div>
<p>If the data that you want to analyze is not stored in Elasticsearch, you cannot use
datafeeds. You can however send batches of data directly to the job by using the
<a href="/guide/en/elasticsearch/reference/6.2/ml-post-data.html" class="ulink" target="_top">post data to jobs API</a>.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="ml-jobs.html">« Machine Learning Jobs</a>
</span>
<span class="next">
<a href="ml-buckets.html">Buckets »</a>
</span>
</div>
</div>
</body>
</html>
