<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Release notes | APM Overview [6.5] | Elastic</title>
<meta class="elastic" name="content" content="Release notes | APM Overview [6.5]">

<link rel="home" href="index.html" title="APM Overview [6.5]"/>
<link rel="up" href="index.html" title="APM Overview [6.5]"/>
<link rel="prev" href="agent-server-compatibility.html" title="Agent/Server Compatibility"/>
<meta class="elastic" name="product_version" content="6.5"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Server/Reference/6.5"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="6.5"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body>
<div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div class="navheader">
<span class="prev">
<a href="agent-server-compatibility.html">« Agent/Server Compatibility</a>
</span>
<span class="next">
</span>
</div>
<div class="book" lang="en">
<div class="titlepage">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">Overview<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/observability/current/apm.html">Observability › APM</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">AWS Lambda extension</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
</div>
<div>
<div><h1 class="title"><a id="id-1"></a>Release notes</h1><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/6.5/docs/guide/apm-release-notes.asciidoc">edit</a></div>
</div>
<!--EXTRA-->
</div>
<div id="content">
<div class="chapter">
<div class="titlepage"><div><div>
<div class="position-relative"><h2 class="title"><a id="apm-release-notes"></a>Release notes</h2><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/6.5/docs/guide/apm-release-notes.asciidoc">edit</a></div>
</div></div></div>
<div class="position-relative"><h4><a id="_apm_version_6_5_0"></a>APM version 6.5.0</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/6.5/docs/guide/apm-release-notes.asciidoc">edit</a></div>
<div class="position-relative"><h5><a id="_new_features"></a>New features</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/6.5/docs/guide/apm-release-notes.asciidoc">edit</a></div>
<p>Elastic APM now enables <a href="/guide/en/apm/get-started/6.5/distributed-tracing.html" class="ulink" target="_top">distributed tracing</a>.</p>
<p><span class="strong strong"><strong>APM Server</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Intake protocol v2 with distributed tracing support
</li>
<li class="listitem">
Ingest node pipeline registration and use when ingesting documents
</li>
<li class="listitem">
apm-server monitoring
</li>
</ul>
</div>
<p><span class="strong strong"><strong>APM UI</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Distributed tracing UI
</li>
<li class="listitem">
Monitoring UI for apm-server
</li>
</ul>
</div>
<p><span class="strong strong"><strong>APM agents</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Intake protocol v2 with distributed tracing support in all Elastic agents
</li>
<li class="listitem">
Java is now GA
</li>
<li class="listitem">
Go is now GA
</li>
<li class="listitem">
Python switched to contextvars instead of thread locals for context tracking in Python 3.7
</li>
<li class="listitem">
Node added support for Restify Framework, dropped support for Node.js 4 and 9
</li>
</ul>
</div>
<div class="position-relative"><h4><a id="_apm_version_6_4_1"></a>APM version 6.4.1</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/6.5/docs/guide/apm-release-notes.asciidoc">edit</a></div>
<div class="position-relative"><h5><a id="_bug_fixes"></a>Bug Fixes</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/6.5/docs/guide/apm-release-notes.asciidoc">edit</a></div>
<p>Changes introduced in 6.4.0 potentially caused an empty APM Kibana UI.
This happened in case the APM Server was using an outdated configuration file, not configured to index events into separate indices.
To fix this, the APM Kibana UI now falls back to use <code class="literal">apm-*</code> as default indices to query.
Users can still leverage separate indices for queries by overriding the default values described in <a href="/guide/en/kibana/6.5/apm-settings-kb.html" class="ulink" target="_top">Kibana APM settings</a>.</p>
<div class="position-relative"><h4><a id="_apm_version_6_4_0"></a>APM version 6.4.0</h4><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/6.5/docs/guide/apm-release-notes.asciidoc">edit</a></div>
<div class="position-relative"><h5><a id="_breaking_changes"></a>Breaking changes</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/6.5/docs/guide/apm-release-notes.asciidoc">edit</a></div>
<p>We previously split APM data into separate indices (transaction, span, error, etc.).
In 6.4 APM Kibana UI starts to leverage those separate indices for queries.</p>
<p>In case you only update Kibana but run an older version of APM Server you will not be able to see any APM data by default.
To fix this, use the <a href="/guide/en/kibana/6.5/apm-settings-kb.html" class="ulink" target="_top">Kibana APM settings</a> to specify the location of the APM index:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">apm_oss.errorIndices: apm-*
apm_oss.spanIndices: apm-*
apm_oss.transactionIndices: apm-*
apm_oss.onboardingIndices: apm-*</pre>
</div>
<p>In case you are upgrading APM Server from an older version, you might need to refresh your APM index pattern for certain APM UI features to work.
Also ensure to add the new config options in <code class="literal">apm-server.yml</code> in case you keep your existing configuration file:</p>
<div class="pre_wrapper lang-sh">
<div class="console_code_copy" title="Copy to clipboard"></div>
<pre class="programlisting prettyprint lang-sh">output.elasticsearch:
  indices:
    - index: "apm-%{[beat.version]}-sourcemap"
      when.contains:
        processor.event: "sourcemap"
    - index: "apm-%{[beat.version]}-error-%{+yyyy.MM.dd}"
      when.contains:
        processor.event: "error"
    - index: "apm-%{[beat.version]}-transaction-%{+yyyy.MM.dd}"
      when.contains:
        processor.event: "transaction"
    - index: "apm-%{[beat.version]}-span-%{+yyyy.MM.dd}"
      when.contains:
        processor.event: "span"
    - index: "apm-%{[beat.version]}-metric-%{+yyyy.MM.dd}"
      when.contains:
        processor.event: "metric"
    - index: "apm-%{[beat.version]}-onboarding-%{+yyyy.MM.dd}"
      when.contains:
        processor.event: "onboarding"</pre>
</div>
<div class="position-relative"><h5><a id="_new_features_2"></a>New features</h5><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/6.5/docs/guide/apm-release-notes.asciidoc">edit</a></div>
<p><span class="strong strong"><strong>APM Server</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Logstash output
</li>
<li class="listitem">
Kafka output
</li>
</ul>
</div>
<p><span class="strong strong"><strong>APM UI</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
Query bar
</li>
<li class="listitem">
Machine Learning integration: Anomaly detection on service response times
</li>
<li class="listitem">
Kibana objects (index pattern, dashboards, etc.) can now be imported via the Kibana setup instructions
</li>
</ul>
</div>
<p><span class="strong strong"><strong>APM agents</strong></span></p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
RUM is now GA
</li>
<li class="listitem">
Ruby is now GA
</li>
<li class="listitem">
Java is now Beta
</li>
<li class="listitem">
Go is now Beta
</li>
<li class="listitem">
Python added instrumentation for Cassandra, PyODBC and PyMSSQL
</li>
<li class="listitem">
Node.js added instrumentation for Cassandra and broader MySQL support
</li>
</ul>
</div>
</div>
</div>
</div><div class="navfooter">
<span class="prev">
<a href="agent-server-compatibility.html">« Agent/Server Compatibility</a>
</span>
<span class="next">
</span>
</div>
</body>
</html>
