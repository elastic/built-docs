<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>SSL input settings | APM Server Reference [7.7] | Elastic</title>
<meta class="elastic" name="content" content="SSL input settings | APM Server Reference [7.7]">

<link rel="home" href="index.html" title="APM Server Reference [7.7]"/>
<link rel="up" href="configuration-ssl-landing.html" title="SSL/TLS settings"/>
<link rel="prev" href="configuration-ssl.html" title="SSL output settings"/>
<link rel="next" href="configuration-template.html" title="Configure Elasticsearch index template loading"/>
<meta class="elastic" name="product_version" content="7.7"/>
<meta class="elastic" name="product_name" content="APM"/>
<meta class="elastic" name="website_area" content="documentation"/>
<meta name="DC.type" content="Learn/Docs/APM Server/Reference/7.7"/>
<meta name="DC.subject" content="APM"/>
<meta name="DC.identifier" content="7.7"/>
<meta name="robots" content="noindex,nofollow"/>
</head>
<body><div class="page_header">
A newer version is available. For the latest information, see the
<a href="../current/index.html">current release documentation</a>.
</div>
<div id="content">
<div class="breadcrumbs">
<span class="breadcrumb-link"><a href="/guide/">Elastic Docs</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link">
  <div id="related-products" class="dropdown">
  <div class="related-products-title">APM:</div>
  <div class="dropdown-anchor" tabindex="0">Server Reference<span class="dropdown-icon"></span></div>
  <div class="dropdown-content">
  <ul>
  <li class="dropdown-category">APM</li>
  <ul>
  <li><a href="/guide/en/observability/current/apm.html">Observability › APM</a></li>
  </ul>
  <li class="dropdown-category">APM agents</li>
  <ul>
  <li><a href="/guide/en/apm/agent/android/current/intro.html">Android Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/go/current/introduction.html">Go Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/swift/current/intro.html">iOS Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/java/current/intro.html">Java Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/dotnet/current/intro.html">.NET Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/nodejs/current/intro.html">Node.js Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/php/current/intro.html">PHP Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/python/current/getting-started.html">Python Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/ruby/current/introduction.html">Ruby Agent Reference</a></li>
  <li><a href="/guide/en/apm/agent/rum-js/current/intro.html">Real User Monitoring JavaScript Agent Reference</a></li>
  </ul>
  <li class="dropdown-category">APM extensions</li>
  <ul>
  <li><a href="/guide/en/apm/lambda/current/aws-lambda-arch.html">AWS Lambda extension</a></li>
  <li><a href="/guide/en/apm/attacher/current/apm-attacher.html">Attacher</a></li>
  </ul>
  </ul>
  </div>
  </div>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuring-howto-apm-server.html">Configure APM Server</a></span>
<span class="chevron-right">›</span><span class="breadcrumb-link"><a href="configuration-ssl-landing.html">SSL/TLS settings</a></span>
</div>
<div class="navheader">
<span class="prev">
<a href="configuration-ssl.html">« SSL output settings</a>
</span>
<span class="next">
<a href="configuration-template.html">Configure Elasticsearch index template loading »</a>
</span>
</div>
<div class="section">
<div class="titlepage"><div><div>
<h2 class="title"><a id="agent-server-ssl"></a>SSL input settings<a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/7.7/docs/ssl-input-settings.asciidoc">edit</a></h2>
</div></div></div>
<p>You can specify the following options in the <code class="literal">apm-server.ssl</code> section of the <code class="literal">apm-server.yml</code> config file.
They apply to SSL/TLS communication between the APM Server and APM Agents.</p>
<h4><a id="_enabled_8"></a><code class="literal">enabled</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/7.7/docs/ssl-input-settings.asciidoc">edit</a></h4>
<p>The <code class="literal">enabled</code> setting can be used to enable the ssl configuration by setting
it to <code class="literal">true</code>. The default value is <code class="literal">false</code>.</p>
<h4><a id="_certificate"></a><code class="literal">certificate</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/7.7/docs/ssl-input-settings.asciidoc">edit</a></h4>
<p>The path to the file containing the certificate for Server authentication.
Required if <code class="literal">apm-server.ssl.enabled</code> is <code class="literal">true</code>.</p>
<h4><a id="_key_2"></a><code class="literal">key</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/7.7/docs/ssl-input-settings.asciidoc">edit</a></h4>
<p>The path to the file containing the Server certificate key.
Required if <code class="literal">apm-server.ssl.enabled</code> is <code class="literal">true</code>.</p>
<h4><a id="_key_passphrase_2"></a><code class="literal">key_passphrase</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/7.7/docs/ssl-input-settings.asciidoc">edit</a></h4>
<p>The passphrase used to decrypt an encrypted key stored in the configured <code class="literal">key</code> file.
We recommend saving the <code class="literal">key_passphrase</code> in the APM Server <a class="xref" href="keystore.html" title="Secrets keystore for secure settings">Secrets keystore</a>.</p>
<h4><a id="_supported_protocols_2"></a><code class="literal">supported_protocols</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/7.7/docs/ssl-input-settings.asciidoc">edit</a></h4>
<p>This setting is a list of allowed protocol versions:
<code class="literal">SSLv3</code>, <code class="literal">TLSv1.0</code>, <code class="literal">TLSv1.1</code>, <code class="literal">TLSv1.2</code> and <code class="literal">TLSv1.3</code>. We do not recommend using <code class="literal">SSLv3</code> or <code class="literal">TLSv1.0</code>.
The default value is <code class="literal">[TLSv1.1, TLSv1.2, TLSv1.3]</code>.</p>
<h4><a id="_cipher_suites_2"></a><code class="literal">cipher_suites</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/7.7/docs/ssl-input-settings.asciidoc">edit</a></h4>
<p>The list of cipher suites to use. The first entry has the highest priority.
If this option is omitted, the Go crypto library&#8217;s default
suites are used (recommended).</p>
<h4><a id="_curve_types_2"></a><code class="literal">curve_types</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/7.7/docs/ssl-input-settings.asciidoc">edit</a></h4>
<p>The list of curve types for ECDHE (Elliptic Curve Diffie-Hellman ephemeral key exchange).</p>
<h4><a id="_certificate_authorities_2"></a><code class="literal">certificate_authorities</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/7.7/docs/ssl-input-settings.asciidoc">edit</a></h4>
<p>The list of root certificates for verifying client certificates.
If <code class="literal">certificate_authorities</code> is empty or not set, the trusted certificate authorities of the host system are used.
Sending client certificates is currently only supported by the RUM agent through the browser
and by the Jaeger agent.</p>
<h4><a id="_client_authentication"></a><code class="literal">client_authentication</code><a class="edit_me" rel="nofollow" title="Edit this page on GitHub" href="https://github.com/elastic/apm-server/edit/7.7/docs/ssl-input-settings.asciidoc">edit</a></h4>
<p>This configures what types of client authentication are supported. The valid options
are <code class="literal">none</code>, <code class="literal">optional</code>, and <code class="literal">required</code>. The default is <code class="literal">none</code>.
If <code class="literal">certificate_authorities</code> has been specified, this setting will automatically change to <code class="literal">required</code>.
This option only needs to be configured when the agent is expected to provide a client certificate.
Sending client certificates is currently only supported by the RUM agent through the browser
and by the Jaeger agent.</p>
<div class="ulist itemizedlist">
<ul class="itemizedlist">
<li class="listitem">
<code class="literal">none</code> - Disables client authentication.
</li>
<li class="listitem">
<code class="literal">optional</code> - When a client certificate is given, the server will verify it.
</li>
<li class="listitem">
<code class="literal">required</code> - Requires clients to provide a valid certificate.
</li>
</ul>
</div>
<p>See <a class="xref" href="securing-apm-server.html" title="Secure APM Server">Securing APM Server</a> for more information.</p>
</div>
<div class="navfooter">
<span class="prev">
<a href="configuration-ssl.html">« SSL output settings</a>
</span>
<span class="next">
<a href="configuration-template.html">Configure Elasticsearch index template loading »</a>
</span>
</div>
</div>
</body>
</html>
